import{m as z,n as mt,q as Ft,s as Ct,u as gt,x as vt,y as J,z as ot,E as Z,A as lt,B as it,C as ct,D as dt,G as At,r as wt,H as $t,I as _t,d as Ot,o as ft,k as bt,J as St,K as Mt,L as Lt,f as kt,c as xt,e as Yt,b as t,i as X,j as yt}from"./app.bd969aff.js";/*! js-cookie v3.0.1 | MIT */function tt(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)e[l]=a[l]}return e}var Et={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function st(e,s){function a(y,D,i){if(!(typeof document>"u")){i=tt({},s,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),y=encodeURIComponent(y).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var v="";for(var b in i)i[b]&&(v+="; "+b,i[b]!==!0&&(v+="="+i[b].split(";")[0]));return document.cookie=y+"="+e.write(D,y)+v}}function l(y){if(!(typeof document>"u"||arguments.length&&!y)){for(var D=document.cookie?document.cookie.split("; "):[],i={},v=0;v<D.length;v++){var b=D[v].split("="),p=b.slice(1).join("=");try{var F=decodeURIComponent(b[0]);if(i[F]=e.read(p,F),y===F)break}catch{}}return y?i[y]:i}}return Object.create({set:a,get:l,remove:function(y,D){a(y,"",tt({},D,{expires:-1}))},withAttributes:function(y){return st(this.converter,tt({},this.attributes,y))},withConverter:function(y){return st(tt({},this.converter,y),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(e)}})}st(Et,{path:"/"});function Rt(e){var s;return((s=Object.prototype.toString.call(e).match(/\[object (.*)\]/))==null?void 0:s[1])??""}const ut={set(e,s){if(s===void 0)return;const a={key:e,value:s,timestamp:Date.now(),type:Rt(s)};localStorage.setItem(e,JSON.stringify(a)),this.length++},get(e){const s=localStorage.getItem(e);return s?JSON.parse(s).value:null},remove(e){this.get(e)&&(localStorage.removeItem(e),this.length--)},clear(){localStorage.clear(),this.length=0},setItem(e,s){this.set(e,s)},getItem(e){return this.get(e)},removeItem(e){this.remove(e)},key(e){return localStorage.key(e)},length:0};var et={},Tt={get exports(){return et},set exports(e){et=e}};(function(e,s){(function(a,l){e.exports=l()})(z,function(){var a=1e3,l=6e4,y=36e5,D="millisecond",i="second",v="minute",b="hour",p="day",F="week",S="month",$="quarter",M="year",R="date",T="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(g){var h=["th","st","nd","rd"],c=g%100;return"["+g+(h[(c-20)%10]||h[c]||h[0])+"]"}},n=function(g,h,c){var A=String(g);return!A||A.length>=h?g:""+Array(h+1-A.length).join(c)+g},O={s:n,z:function(g){var h=-g.utcOffset(),c=Math.abs(h),A=Math.floor(c/60),u=c%60;return(h<=0?"+":"-")+n(A,2,"0")+":"+n(u,2,"0")},m:function g(h,c){if(h.date()<c.date())return-g(c,h);var A=12*(c.year()-h.year())+(c.month()-h.month()),u=h.clone().add(A,S),_=c-u<0,w=h.clone().add(A+(_?-1:1),S);return+(-(A+(c-u)/(_?u-w:w-u))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:S,y:M,w:F,d:p,D:R,h:b,m:v,s:i,ms:D,Q:$}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return g===void 0}},d="en",r={};r[d]=j;var o=function(g){return g instanceof L},m=function g(h,c,A){var u;if(!h)return d;if(typeof h=="string"){var _=h.toLowerCase();r[_]&&(u=_),c&&(r[_]=c,u=_);var w=h.split("-");if(!u&&w.length>1)return g(w[0])}else{var x=h.name;r[x]=h,u=x}return!A&&u&&(d=u),u||!A&&d},C=function(g,h){if(o(g))return g.clone();var c=typeof h=="object"?h:{};return c.date=g,c.args=arguments,new L(c)},f=O;f.l=m,f.i=o,f.w=function(g,h){return C(g,{locale:h.$L,utc:h.$u,x:h.$x,$offset:h.$offset})};var L=function(){function g(c){this.$L=m(c.locale,null,!0),this.parse(c)}var h=g.prototype;return h.parse=function(c){this.$d=function(A){var u=A.date,_=A.utc;if(u===null)return new Date(NaN);if(f.u(u))return new Date;if(u instanceof Date)return new Date(u);if(typeof u=="string"&&!/Z$/i.test(u)){var w=u.match(B);if(w){var x=w[2]-1||0,Y=(w[7]||"0").substring(0,3);return _?new Date(Date.UTC(w[1],x,w[3]||1,w[4]||0,w[5]||0,w[6]||0,Y)):new Date(w[1],x,w[3]||1,w[4]||0,w[5]||0,w[6]||0,Y)}}return new Date(u)}(c),this.$x=c.x||{},this.init()},h.init=function(){var c=this.$d;this.$y=c.getFullYear(),this.$M=c.getMonth(),this.$D=c.getDate(),this.$W=c.getDay(),this.$H=c.getHours(),this.$m=c.getMinutes(),this.$s=c.getSeconds(),this.$ms=c.getMilliseconds()},h.$utils=function(){return f},h.isValid=function(){return this.$d.toString()!==T},h.isSame=function(c,A){var u=C(c);return this.startOf(A)<=u&&u<=this.endOf(A)},h.isAfter=function(c,A){return C(c)<this.startOf(A)},h.isBefore=function(c,A){return this.endOf(A)<C(c)},h.$g=function(c,A,u){return f.u(c)?this[A]:this.set(u,c)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(c,A){var u=this,_=!!f.u(A)||A,w=f.p(c),x=function(V,H){var N=f.w(u.$u?Date.UTC(u.$y,H,V):new Date(u.$y,H,V),u);return _?N:N.endOf(p)},Y=function(V,H){return f.w(u.toDate()[V].apply(u.toDate("s"),(_?[0,0,0,0]:[23,59,59,999]).slice(H)),u)},P=this.$W,U=this.$M,I=this.$D,q="set"+(this.$u?"UTC":"");switch(w){case M:return _?x(1,0):x(31,11);case S:return _?x(1,U):x(0,U+1);case F:var G=this.$locale().weekStart||0,W=(P<G?P+7:P)-G;return x(_?I-W:I+(6-W),U);case p:case R:return Y(q+"Hours",0);case b:return Y(q+"Minutes",1);case v:return Y(q+"Seconds",2);case i:return Y(q+"Milliseconds",3);default:return this.clone()}},h.endOf=function(c){return this.startOf(c,!1)},h.$set=function(c,A){var u,_=f.p(c),w="set"+(this.$u?"UTC":""),x=(u={},u[p]=w+"Date",u[R]=w+"Date",u[S]=w+"Month",u[M]=w+"FullYear",u[b]=w+"Hours",u[v]=w+"Minutes",u[i]=w+"Seconds",u[D]=w+"Milliseconds",u)[_],Y=_===p?this.$D+(A-this.$W):A;if(_===S||_===M){var P=this.clone().set(R,1);P.$d[x](Y),P.init(),this.$d=P.set(R,Math.min(this.$D,P.daysInMonth())).$d}else x&&this.$d[x](Y);return this.init(),this},h.set=function(c,A){return this.clone().$set(c,A)},h.get=function(c){return this[f.p(c)]()},h.add=function(c,A){var u,_=this;c=Number(c);var w=f.p(A),x=function(U){var I=C(_);return f.w(I.date(I.date()+Math.round(U*c)),_)};if(w===S)return this.set(S,this.$M+c);if(w===M)return this.set(M,this.$y+c);if(w===p)return x(1);if(w===F)return x(7);var Y=(u={},u[v]=l,u[b]=y,u[i]=a,u)[w]||1,P=this.$d.getTime()+c*Y;return f.w(P,this)},h.subtract=function(c,A){return this.add(-1*c,A)},h.format=function(c){var A=this,u=this.$locale();if(!this.isValid())return u.invalidDate||T;var _=c||"YYYY-MM-DDTHH:mm:ssZ",w=f.z(this),x=this.$H,Y=this.$m,P=this.$M,U=u.weekdays,I=u.months,q=function(H,N,nt,Q){return H&&(H[N]||H(A,_))||nt[N].slice(0,Q)},G=function(H){return f.s(x%12||12,H,"0")},W=u.meridiem||function(H,N,nt){var Q=H<12?"AM":"PM";return nt?Q.toLowerCase():Q},V={YY:String(this.$y).slice(-2),YYYY:this.$y,M:P+1,MM:f.s(P+1,2,"0"),MMM:q(u.monthsShort,P,I,3),MMMM:q(I,P),D:this.$D,DD:f.s(this.$D,2,"0"),d:String(this.$W),dd:q(u.weekdaysMin,this.$W,U,2),ddd:q(u.weekdaysShort,this.$W,U,3),dddd:U[this.$W],H:String(x),HH:f.s(x,2,"0"),h:G(1),hh:G(2),a:W(x,Y,!0),A:W(x,Y,!1),m:String(Y),mm:f.s(Y,2,"0"),s:String(this.$s),ss:f.s(this.$s,2,"0"),SSS:f.s(this.$ms,3,"0"),Z:w};return _.replace(E,function(H,N){return N||V[H]||w.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(c,A,u){var _,w=f.p(A),x=C(c),Y=(x.utcOffset()-this.utcOffset())*l,P=this-x,U=f.m(this,x);return U=(_={},_[M]=U/12,_[S]=U,_[$]=U/3,_[F]=(P-Y)/6048e5,_[p]=(P-Y)/864e5,_[b]=P/y,_[v]=P/l,_[i]=P/a,_)[w]||P,u?U:f.a(U)},h.daysInMonth=function(){return this.endOf(S).$D},h.$locale=function(){return r[this.$L]},h.locale=function(c,A){if(!c)return this.$L;var u=this.clone(),_=m(c,A,!0);return _&&(u.$L=_),u},h.clone=function(){return f.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},g}(),k=L.prototype;return C.prototype=k,[["$ms",D],["$s",i],["$m",v],["$H",b],["$W",p],["$M",S],["$y",M],["$D",R]].forEach(function(g){k[g[1]]=function(h){return this.$g(h,g[0],g[1])}}),C.extend=function(g,h){return g.$i||(g(h,L,C),g.$i=!0),C},C.locale=m,C.isDayjs=o,C.unix=function(g){return C(1e3*g)},C.en=r[d],C.Ls=r,C.p={},C})})(Tt);const Dt=et;var pt={},Bt={get exports(){return pt},set exports(e){pt=e}};(function(e,s){(function(a,l){e.exports=l(et)})(z,function(a){function l(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var y=l(a),D={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(i,v){return v==="W"?i+"周":i+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(i,v){var b=100*i+v;return b<600?"凌晨":b<900?"早上":b<1100?"上午":b<1300?"中午":b<1800?"下午":"晚上"}};return y.default.locale(D,null,!0),D})})(Bt);var rt={},Pt={get exports(){return rt},set exports(e){rt=e}};(function(e,s){(function(a,l){e.exports=l()})(z,function(){var a,l,y=1e3,D=6e4,i=36e5,v=864e5,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p=31536e6,F=2592e6,S=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,$={years:p,months:F,days:v,hours:i,minutes:D,seconds:y,milliseconds:1,weeks:6048e5},M=function(d){return d instanceof O},R=function(d,r,o){return new O(d,o,r.$l)},T=function(d){return l.p(d)+"s"},B=function(d){return d<0},E=function(d){return B(d)?Math.ceil(d):Math.floor(d)},j=function(d){return Math.abs(d)},n=function(d,r){return d?B(d)?{negative:!0,format:""+j(d)+r}:{negative:!1,format:""+d+r}:{negative:!1,format:""}},O=function(){function d(o,m,C){var f=this;if(this.$d={},this.$l=C,o===void 0&&(this.$ms=0,this.parseFromMilliseconds()),m)return R(o*$[T(m)],this);if(typeof o=="number")return this.$ms=o,this.parseFromMilliseconds(),this;if(typeof o=="object")return Object.keys(o).forEach(function(g){f.$d[T(g)]=o[g]}),this.calMilliseconds(),this;if(typeof o=="string"){var L=o.match(S);if(L){var k=L.slice(2).map(function(g){return g!=null?Number(g):0});return this.$d.years=k[0],this.$d.months=k[1],this.$d.weeks=k[2],this.$d.days=k[3],this.$d.hours=k[4],this.$d.minutes=k[5],this.$d.seconds=k[6],this.calMilliseconds(),this}}return this}var r=d.prototype;return r.calMilliseconds=function(){var o=this;this.$ms=Object.keys(this.$d).reduce(function(m,C){return m+(o.$d[C]||0)*$[C]},0)},r.parseFromMilliseconds=function(){var o=this.$ms;this.$d.years=E(o/p),o%=p,this.$d.months=E(o/F),o%=F,this.$d.days=E(o/v),o%=v,this.$d.hours=E(o/i),o%=i,this.$d.minutes=E(o/D),o%=D,this.$d.seconds=E(o/y),o%=y,this.$d.milliseconds=o},r.toISOString=function(){var o=n(this.$d.years,"Y"),m=n(this.$d.months,"M"),C=+this.$d.days||0;this.$d.weeks&&(C+=7*this.$d.weeks);var f=n(C,"D"),L=n(this.$d.hours,"H"),k=n(this.$d.minutes,"M"),g=this.$d.seconds||0;this.$d.milliseconds&&(g+=this.$d.milliseconds/1e3);var h=n(g,"S"),c=o.negative||m.negative||f.negative||L.negative||k.negative||h.negative,A=L.format||k.format||h.format?"T":"",u=(c?"-":"")+"P"+o.format+m.format+f.format+A+L.format+k.format+h.format;return u==="P"||u==="-P"?"P0D":u},r.toJSON=function(){return this.toISOString()},r.format=function(o){var m=o||"YYYY-MM-DDTHH:mm:ss",C={Y:this.$d.years,YY:l.s(this.$d.years,2,"0"),YYYY:l.s(this.$d.years,4,"0"),M:this.$d.months,MM:l.s(this.$d.months,2,"0"),D:this.$d.days,DD:l.s(this.$d.days,2,"0"),H:this.$d.hours,HH:l.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:l.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:l.s(this.$d.seconds,2,"0"),SSS:l.s(this.$d.milliseconds,3,"0")};return m.replace(b,function(f,L){return L||String(C[f])})},r.as=function(o){return this.$ms/$[T(o)]},r.get=function(o){var m=this.$ms,C=T(o);return C==="milliseconds"?m%=1e3:m=C==="weeks"?E(m/$[C]):this.$d[C],m===0?0:m},r.add=function(o,m,C){var f;return f=m?o*$[T(m)]:M(o)?o.$ms:R(o,this).$ms,R(this.$ms+f*(C?-1:1),this)},r.subtract=function(o,m){return this.add(o,m,!0)},r.locale=function(o){var m=this.clone();return m.$l=o,m},r.clone=function(){return R(this.$ms,this)},r.humanize=function(o){return a().add(this.$ms,"ms").locale(this.$l).fromNow(!o)},r.milliseconds=function(){return this.get("milliseconds")},r.asMilliseconds=function(){return this.as("milliseconds")},r.seconds=function(){return this.get("seconds")},r.asSeconds=function(){return this.as("seconds")},r.minutes=function(){return this.get("minutes")},r.asMinutes=function(){return this.as("minutes")},r.hours=function(){return this.get("hours")},r.asHours=function(){return this.as("hours")},r.days=function(){return this.get("days")},r.asDays=function(){return this.as("days")},r.weeks=function(){return this.get("weeks")},r.asWeeks=function(){return this.as("weeks")},r.months=function(){return this.get("months")},r.asMonths=function(){return this.as("months")},r.years=function(){return this.get("years")},r.asYears=function(){return this.as("years")},d}();return function(d,r,o){a=o,l=o().$utils(),o.duration=function(f,L){var k=o.locale();return R(f,{$l:k},L)},o.isDuration=M;var m=r.prototype.add,C=r.prototype.subtract;r.prototype.add=function(f,L){return M(f)&&(f=f.asMilliseconds()),m.bind(this)(f,L)},r.prototype.subtract=function(f,L){return M(f)&&(f=f.asMilliseconds()),C.bind(this)(f,L)}}})})(Pt);const jt=rt;var at={},Ut={get exports(){return at},set exports(e){at=e}};(function(e,s){(function(a,l){e.exports=l()})(z,function(){return function(a,l,y){a=a||{};var D=l.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function v(p,F,S,$){return D.fromToBase(p,F,S,$)}y.en.relativeTime=i,D.fromToBase=function(p,F,S,$,M){for(var R,T,B,E=S.$locale().relativeTime||i,j=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],n=j.length,O=0;O<n;O+=1){var d=j[O];d.d&&(R=$?y(p).diff(S,d.d,!0):S.diff(p,d.d,!0));var r=(a.rounding||Math.round)(Math.abs(R));if(B=R>0,r<=d.r||!d.r){r<=1&&O>0&&(d=j[O-1]);var o=E[d.l];M&&(r=M(""+r)),T=typeof o=="string"?o.replace("%d",r):o(r,F,d.l,B);break}}if(F)return T;var m=B?E.future:E.past;return typeof m=="function"?m(T):m.replace("%s",T)},D.to=function(p,F){return v(p,F,this,!0)},D.from=function(p,F){return v(p,F,this)};var b=function(p){return p.$u?y.utc():y()};D.toNow=function(p){return this.to(b(this),p)},D.fromNow=function(p){return this.from(b(this),p)}}})})(Ut);const Ht=at;Dt.extend(Ht);Dt.extend(jt);function qt(e){return{all:e=e||new Map,on:function(s,a){var l=e.get(s);l?l.push(a):e.set(s,[a])},off:function(s,a){var l=e.get(s);l&&(a?l.splice(l.indexOf(a)>>>0,1):e.set(s,[]))},emit:function(s,a){var l=e.get(s);l&&l.slice().map(function(y){y(a)}),(l=e.get("*"))&&l.slice().map(function(y){y(s,a)})}}}function zt(e){const s=qt(e);return s.emitAsync=async function(a,l){const y=this.all.get(a);if(y)for(const i of y)await i(l);const D=this.all.get("*");if(D)for(const i of D)await i(a,l)},s}var ht={},It={get exports(){return ht},set exports(e){ht=e}};(function(e,s){(function(a,l){l()})(z,function(){function a(p,F){return typeof F>"u"?F={autoBom:!1}:typeof F!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),F={autoBom:!F}),F.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function l(p,F,S){var $=new XMLHttpRequest;$.open("GET",p),$.responseType="blob",$.onload=function(){b($.response,F,S)},$.onerror=function(){console.error("could not download file")},$.send()}function y(p){var F=new XMLHttpRequest;F.open("HEAD",p,!1);try{F.send()}catch{}return 200<=F.status&&299>=F.status}function D(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var F=document.createEvent("MouseEvents");F.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(F)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof z=="object"&&z.global===z?z:void 0,v=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),b=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!v?function(p,F,S){var $=i.URL||i.webkitURL,M=document.createElement("a");F=F||p.name||"download",M.download=F,M.rel="noopener",typeof p=="string"?(M.href=p,M.origin===location.origin?D(M):y(M.href)?l(p,F,S):D(M,M.target="_blank")):(M.href=$.createObjectURL(p),setTimeout(function(){$.revokeObjectURL(M.href)},4e4),setTimeout(function(){D(M)},0))}:"msSaveOrOpenBlob"in navigator?function(p,F,S){if(F=F||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(a(p,S),F);else if(y(p))l(p,F,S);else{var $=document.createElement("a");$.href=p,$.target="_blank",setTimeout(function(){D($)})}}:function(p,F,S,$){if($=$||open("","_blank"),$&&($.document.title=$.document.body.innerText="downloading..."),typeof p=="string")return l(p,F,S);var M=p.type==="application/octet-stream",R=/constructor/i.test(i.HTMLElement)||i.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||M&&R||v)&&typeof FileReader<"u"){var B=new FileReader;B.onloadend=function(){var n=B.result;n=T?n:n.replace(/^data:[^;]*;/,"data:attachment/file;"),$?$.location.href=n:location=n,$=null},B.readAsDataURL(p)}else{var E=i.URL||i.webkitURL,j=E.createObjectURL(p);$?$.location=j:location.href=j,$=null,setTimeout(function(){E.revokeObjectURL(j)},4e4)}});i.saveAs=b.saveAs=b,e.exports=b})})(It);function Nt(e=16,s){const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",l=s||a.length,y=[];for(let D=0;D<e;D++)y[D]=a.charAt(Math.random()*l);return y.join("")}function Kt(e){return new Promise(s=>setTimeout(s,e))}function Vt(e,s){return e.then(a=>[null,a]).catch(a=>s?[Object.assign({},a,s),void 0]:[a,void 0])}const K=Vt;function Gt({crudState:e}){if(e.mockCache)try{const i=`mock-${e.mockCache}`;e.mockData=ut.get(i)??e.mockData,mt(()=>e.mockData,()=>ut.set(i,e.mockData),{immediate:!0,deep:!0})}catch(D){console.log(D)}function s(D){const{currKey:i,sizeKey:v}=e.crudOption,b=D[i],p=D[v],{descs:F,ascs:S}=D,$=Ft(D,[i,v,"descs","ascs"]),M=e.mockData.filter(B=>Object.entries($).every(([E,j])=>typeof B[E]=="string"?B[E].includes(j):B[E]==j)),T=Ct(M,F||S||void 0,F?"desc":S?"asc":void 0).filter((B,E)=>E>=(b-1)*p&&E<b*p);return Promise.resolve({code:200,msg:"操作成功",data:{records:T,total:M.length}})}function a(D){const{crudOption:{rowKey:i}}=e;return e.mockData.push({[i]:Nt(16,10),...D}),Promise.resolve({code:200,msg:"操作成功"})}function l(D){const{crudOption:{rowKey:i}}=e;return e.mockData=e.mockData.map(v=>v[i]===D[i]?D:v),Promise.resolve({code:200,msg:"操作成功"})}function y(D){const{crudOption:{rowKey:i}}=e;if(typeof D=="string"){const v=D.split(",");e.mockData=e.mockData.filter(b=>!v.some(p=>p==b[i]))}else e.mockData=e.mockData.filter(v=>D!=v[i]);return Promise.resolve({code:200,msg:"操作成功"})}return{getList:s,create:a,update:l,remove:y}}function Wt(e){var i;const s=gt(vt({crudOption:{rowKey:((i=e==null?void 0:e.tableOption)==null?void 0:i.rowKey)??"id",getList:v=>a(v),create:v=>l(v),update:v=>y(v),remove:v=>D(v),dataPath:"res.data.records",totalPath:"res.data.total",currKey:"current",sizeKey:"size",isPage:!0,isSort:!0,delConfirm:!0,clearSelection:!0},pageOption:{total:0,currentPage:1,pageSize:10},sortOption:{},tableLoading:!1,tableOption:{},tableData:[],dataSelections:[],searchForm:{},queryForm:{},formData:{},mockData:[],mockCache:""},e)),{getList:a,create:l,update:y,remove:D}=Gt({crudState:s});return s}function Jt({crudRef:e,crudState:s,emitter:a,options:l}){const y=l.getDataList??(async()=>{var w,x;const{dataPath:d,totalPath:r,currKey:o,sizeKey:m,isPage:C,isSort:f,clearSelection:L}=s.crudOption,{currentPage:k,pageSize:g}=s.pageOption,h=C?{[o]:k,[m]:g}:{},c=f?s.sortOption:{},A=J({...s.searchForm,...h,...c,...s.queryForm}),[u]=await K(a.emitAsync("beforeGetList",A));if(u!==null)return;const{getList:_}=s.crudOption;if(_){s.tableLoading=!0,await Kt(100);try{const Y=await _($(A));console.log("getDataList ~ res",Y),s.tableData=ot({res:Y},d,[]),s.pageOption.total=ot({res:Y},r,0),await a.emitAsync("afterGetList",Y)}catch(Y){console.error("getDataList ~ err",Y),s.tableData=[],s.pageOption.total=0}finally{L&&((x=(w=e==null?void 0:e.value)==null?void 0:w.selectClear)==null||x.call(w)),s.tableLoading=!1}}}),D=l.handleSave??(async(d,r,o)=>{const m=J({...s.formData,...d}),[C]=await K(a.emitAsync("beforeSave",m));if(C!==null)return o==null?void 0:o();const{rowKey:f,create:L}=s.crudOption;if(!L)return o==null?void 0:o();delete m[f];try{const k=await L(S(m));return Z.success("保存成功"),await a.emitAsync("afterSave",k),r==null||r(),y()}catch(k){console.error("handleSave ~ err",k),o==null||o()}}),i=l.handleUpdate??(async(d,r,o,m)=>{const C=J({...s.formData,...d}),[f]=await K(a.emitAsync("beforeUpdate",C));if(f!==null)return m==null?void 0:m();const{update:L}=s.crudOption;if(!L)return m==null?void 0:m();try{const k=await L(S(C));return Z.success("保存成功"),await a.emitAsync("afterUpdate",k),o==null||o(),y()}catch(k){console.error("handleUpdate ~ err",k),m==null||m()}}),v=l.handleDel??(async d=>{const r=J(d),[o]=await K(a.emitAsync("beforeDel",r));if(o!==null)return;const{rowKey:m,remove:C,delConfirm:f}=s.crudOption;if(C){f&&await lt.confirm("确认进行删除操作？","提示",{type:"warning"});try{const L=await C(r[m]);return Z.success("删除成功"),await a.emitAsync("afterDel",L),y()}catch(L){console.error("handleDel ~ err",L)}}}),b=l.batchDel??(async()=>{const d=J(s.dataSelections),[r]=await K(a.emitAsync("beforeBatchDel",d));if(r!==null)return;const{rowKey:o,remove:m,delConfirm:C}=s.crudOption;if(!m)return;const f=d.length;if(!f)return Z.warning("请选择删除项");C&&await lt.confirm(`确认删除所选的${f}条数据？`,"提示",{type:"warning"});const L=d.map(k=>k[o]).join(",");try{const k=await m(L);return Z.success("删除成功"),await a.emitAsync("afterBatchDel",k),y()}catch(k){console.error("batchDel ~ err",k)}}),p=(d,r)=>r.includes("$"),F=d=>d==="",S=l.filterRow??(d=>it(d,ct(dt,p))),$=l.filterParams??(d=>it(d,ct(dt,F,p))),M=l.searchChange??(async(d,r)=>{s.pageOption.currentPage=1,Object.keys(s.searchForm).forEach(C=>{delete s.searchForm[C]}),Object.keys(d).forEach(C=>{s.searchForm[C]=d[C]});const[o]=await K(a.emitAsync("beforeSearch",s.searchForm));if(o!==null)return r==null?void 0:r();await y();const[m]=await K(a.emitAsync("afterSearch",s.searchForm));if(m!==null)return r==null?void 0:r();r==null||r()}),R=l.searchReset??(async()=>{Object.keys(s.searchForm).forEach(d=>{delete s.searchForm[d]}),await a.emitAsync("beforeSearchReset",s.searchForm),await y(),await a.emitAsync("afterSearchReset",s.searchForm)}),T=l.selectionChange??(d=>{s.dataSelections=d}),B=l.pageSizeChange??(d=>(s.pageOption.pageSize=d,y())),E=l.pageCurrentChange??(d=>(s.pageOption.currentPage=d,y())),j=l.sortChange??(({order:d,prop:r})=>(d&&r?s.sortOption={[d.replace("ending","s")]:At(r)}:s.sortOption={},y())),n=l.beforeOpen??(async(d,r)=>{await a.emitAsync("beforeOpen",r),d(),await a.emitAsync("afterOpen",r)}),O=l.beforeClose??(async(d,r)=>{await a.emitAsync("beforeClose",r),d(),await a.emitAsync("afterClose",r)});return{getDataList:y,handleSave:D,handleUpdate:i,handleDel:v,batchDel:b,searchChange:M,searchReset:R,selectionChange:T,pageSizeChange:B,pageCurrentChange:E,sortChange:j,beforeOpen:n,beforeClose:O}}function Zt(){const e=zt();return{emitter:e,beforeGetList:n=>{e.on("beforeGetList",async(...O)=>await(n==null?void 0:n(...O)))},afterGetList:n=>{e.on("afterGetList",async(...O)=>await(n==null?void 0:n(...O)))},beforeSave:n=>{e.on("beforeSave",async(...O)=>await(n==null?void 0:n(...O)))},afterSave:n=>{e.on("afterSave",async(...O)=>await(n==null?void 0:n(...O)))},beforeUpdate:n=>{e.on("beforeUpdate",async(...O)=>await(n==null?void 0:n(...O)))},afterUpdate:n=>{e.on("afterUpdate",async(...O)=>await(n==null?void 0:n(...O)))},beforeDel:n=>{e.on("beforeDel",async(...O)=>await(n==null?void 0:n(...O)))},afterDel:n=>{e.on("afterDel",async(...O)=>await(n==null?void 0:n(...O)))},beforeBatchDel:n=>{e.on("beforeBatchDel",async(...O)=>await(n==null?void 0:n(...O)))},afterBatchDel:n=>{e.on("afterBatchDel",async(...O)=>await(n==null?void 0:n(...O)))},beforeSearch:n=>{e.on("beforeSearch",async()=>await(n==null?void 0:n()))},afterSearch:n=>{e.on("afterSearch",async()=>await(n==null?void 0:n()))},beforeSearchReset:n=>{e.on("beforeSearch",async()=>await(n==null?void 0:n()))},afterSearchReset:n=>{e.on("afterSearch",async()=>await(n==null?void 0:n()))},beforeOpen:n=>{e.on("beforeOpen",async(...O)=>await(n==null?void 0:n(...O)))},afterOpen:n=>{e.on("afterOpen",async(...O)=>await(n==null?void 0:n(...O)))},beforeClose:n=>{e.on("beforeClose",async(...O)=>await(n==null?void 0:n(...O)))},afterClose:n=>{e.on("afterClose",async(...O)=>await(n==null?void 0:n(...O)))}}}function Xt(e){const s=wt(),a=Wt(e),l=$t(a),{emitter:y,beforeGetList:D,afterGetList:i,beforeSave:v,afterSave:b,beforeUpdate:p,afterUpdate:F,beforeDel:S,afterDel:$,beforeBatchDel:M,afterBatchDel:R,beforeSearch:T,afterSearch:B,beforeSearchReset:E,afterSearchReset:j,beforeOpen:n,afterOpen:O,beforeClose:d,afterClose:r}=Zt(),{getDataList:o,handleSave:m,handleUpdate:C,handleDel:f,batchDel:L,searchChange:k,searchReset:g,selectionChange:h,pageSizeChange:c,pageCurrentChange:A,sortChange:u,beforeOpen:_,beforeClose:w}=Jt({crudRef:s,crudState:a,emitter:y,options:e}),x=_t(()=>({ref:"crudRef",modelValue:a.formData,tableLoading:a.tableLoading,option:e.tableOption??{},data:a.tableData,page:a.pageOption,search:a.searchForm,"before-open":_,"before-close":w,onRowSave:m,onRowUpdate:C,onRowDel:f,onRefreshChange:o,onSelectionChange:h,onCurrentChange:A,onSizeChange:c,onSortChange:u,onSearchChange:k,onSearchReset:g,"onUpdate:search":Y=>a.searchForm=Y,"onUpdate:page":Y=>a.pageOption=Y,"onUpdate:modelValue":Y=>a.formData=Y}));return{crudRef:s,crudState:a,crudStateRefs:l,bindVal:x,getDataList:o,handleSave:m,handleUpdate:C,handleDel:f,batchDel:L,beforeGetList:D,afterGetList:i,beforeSave:v,afterSave:b,beforeUpdate:p,afterUpdate:F,beforeDel:S,afterDel:$,beforeBatchDel:M,afterBatchDel:R,beforeSearch:T,afterSearch:B,beforeSearchReset:E,afterSearchReset:j,beforeOpen:n,afterOpen:O,beforeClose:d,afterClose:r}}const Qt=Ot({__name:"demo",setup(e){const s=()=>Promise.resolve({data:{records:[{name:"123"}],total:1}}),a=()=>Promise.resolve(),l=()=>Promise.resolve(),y=()=>Promise.resolve(),{bindVal:D,getDataList:i}=Xt({crudOption:{getList:s,create:a,update:l,remove:y},tableOption:{column:[{label:"名称",prop:"name"}]}});return i(),(v,b)=>{const p=kt("avue-crud");return ft(),bt(p,St(Mt(Lt(D))),null,16)}}}),te=t("h1",{id:"usecrud",tabindex:"-1"},[X("useCrud "),t("a",{class:"header-anchor",href:"#usecrud","aria-hidden":"true"},"#")],-1),ee=t("p",null,"应用于 AvueCrud 组件的快速增删改查",-1),ne=t("h2",{id:"基础用法",tabindex:"-1"},[X("基础用法 "),t("a",{class:"header-anchor",href:"#基础用法","aria-hidden":"true"},"#")],-1),se=yt(`<div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">avue-crud</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-bind</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bindVal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">avue-crud</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useCrud</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@yusui/composables</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> getList </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">records</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">total</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> create </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> update </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> remove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> bindVal</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> getDataList </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useCrud</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">crudOption</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> getList</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> create</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> update</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> remove </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">tableOption</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">column</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">label</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">名称</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">prop</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">getDataList</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="options" tabindex="-1">Options <a class="header-anchor" href="#options" aria-hidden="true">#</a></h2>`,2),re=t("table",null,[t("thead",null,[t("tr",null,[t("th",null,"名称"),t("th",null,"类型"),t("th",null,"默认值"),t("th",null,"说明")])]),t("tbody",null,[t("tr",null,[t("td",null,"crudOption"),t("td",null,"Object"),t("td"),t("td",null,[X("增删改查配置,"),t("a",{href:"#crudoption"},"详细说明")])]),t("tr",null,[t("td",null,"pageOption"),t("td",null,"Object"),t("td"),t("td",null,[X("分页配置,"),t("a",{href:"#pageoption"},"详细说明")])]),t("tr",null,[t("td",null,"sortOption"),t("td",null,"Object"),t("td",{"descs:create_time":""}),t("td",null,[X("排序配置,可选"),t("code",null,"{['descs'|'ascs']:$prop}")])]),t("tr",null,[t("td",null,"tableLoading"),t("td",null,"Boolean"),t("td",null,"false"),t("td",null,"数据加载状态")]),t("tr",null,[t("td",null,"tableOption"),t("td",null,"Object"),t("td",null,"{}"),t("td",null,"表格配置项")]),t("tr",null,[t("td",null,"tableData"),t("td",null,"Array"),t("td",null,"[]"),t("td",null,"数据列表")]),t("tr",null,[t("td",null,"dataSelections"),t("td",null,"Array"),t("td",null,"[]"),t("td",null,"已选择数据列表")]),t("tr",null,[t("td",null,"searchForm"),t("td",null,"Object"),t("td",null,"{}"),t("td",null,"搜索条件")]),t("tr",null,[t("td",null,"queryForm"),t("td",null,"Object"),t("td",null,"{}"),t("td",null,"固定查询条件,不会被清空重置")]),t("tr",null,[t("td",null,"formData"),t("td",null,"Object"),t("td",null,"{}"),t("td",null,"表单数据")]),t("tr",null,[t("td",null,"mockData"),t("td",null,"Array"),t("td",null,"[]"),t("td",null,"模拟数据")]),t("tr",null,[t("td",null,"mockCache"),t("td",null,"String"),t("td",null,'""'),t("td",null,"将假数据存在缓存中使用的 key")]),t("tr",null,[t("td",null,"getDataList"),t("td",null,"Function"),t("td"),t("td",null,"获取数据列表方法,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"handleSave"),t("td",null,"Function"),t("td"),t("td",null,"数据添加方法,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"handleUpdate"),t("td",null,"Function"),t("td"),t("td",null,"数据更新方法,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"handleDel"),t("td",null,"Function"),t("td"),t("td",null,"删除行方法,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"batchDel"),t("td",null,"Function"),t("td"),t("td",null,"批量删除方法,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"searchChange"),t("td",null,"Function"),t("td"),t("td",null,"搜索回调,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"searchReset"),t("td",null,"Function"),t("td"),t("td",null,"搜索重置回调,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"selectionChange"),t("td",null,"Function"),t("td"),t("td",null,"多选回调,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"pageSizeChange"),t("td",null,"Function"),t("td"),t("td",null,"切换每页条数回调,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"pageCurrentChange"),t("td",null,"Function"),t("td"),t("td",null,"切换当前页回调,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"sortChange"),t("td",null,"Function"),t("td"),t("td",null,"切换排序回调,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"beforeOpen"),t("td",null,"Function"),t("td"),t("td",null,"打开表单弹窗前,传入则覆盖内部实现")]),t("tr",null,[t("td",null,"beforeClose"),t("td",null,"Function"),t("td"),t("td",null,"关闭表单弹窗前,传入则覆盖内部实现")])])],-1),ae=yt('<h2 id="crudoption" tabindex="-1">CrudOption <a class="header-anchor" href="#crudoption" aria-hidden="true">#</a></h2><table><thead><tr><th>名称</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>rowKey</td><td>String</td><td>tableOption.rowKey??&quot;id&quot;</td><td>行键值(id/_id/uuid/...)</td></tr><tr><td>getList</td><td>Function</td><td>获取模拟数据</td><td>获取数据列表方法</td></tr><tr><td>create</td><td>Function</td><td>新增模拟数据</td><td>添加数据方法</td></tr><tr><td>update</td><td>Function</td><td>更新模拟数据</td><td>编辑数据方法</td></tr><tr><td>remove</td><td>Function</td><td>尚处模拟数据</td><td>删除单条数据方法</td></tr><tr><td>dataPath</td><td>String</td><td>&quot;res.data.records&quot;</td><td>接口返回数据的属性路径</td></tr><tr><td>totalPath</td><td>String</td><td>&quot;res.data.total&quot;</td><td>接口返回总数的属性路径</td></tr><tr><td>currKey</td><td>String</td><td>&quot;current&quot;</td><td>当前页 key</td></tr><tr><td>sizeKey</td><td>String</td><td>&quot;size&quot;</td><td>每页条数 key</td></tr><tr><td>isPage</td><td>Boolean</td><td>true</td><td>是否携带分页参数</td></tr><tr><td>isSort</td><td>Boolean</td><td>true</td><td>是否携带排序参数</td></tr><tr><td>delConfirm</td><td>Boolean</td><td>true</td><td>删除前是否提示确认</td></tr></tbody></table><h2 id="pageoption" tabindex="-1">PageOption <a class="header-anchor" href="#pageoption" aria-hidden="true">#</a></h2><table><thead><tr><th>名称</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>total</td><td>Number</td><td>0</td><td>总条数</td></tr><tr><td>currentPage</td><td>Number</td><td>1</td><td>当前页数</td></tr><tr><td>pageSize</td><td>Number</td><td>10</td><td>每页显示条数</td></tr></tbody></table><h2 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-hidden="true">#</a></h2><table><thead><tr><th>名称</th><th>类型</th><th>使用</th><th>说明</th></tr></thead><tbody><tr><td>crudRef</td><td>Ref</td><td><code>crudRef.value.rowEdit(row)</code></td><td>crudRef.value 等同于 vm.$refs.crudRef</td></tr><tr><td>crudState</td><td>Reactive</td><td><code>crudState.tableData=[]</code></td><td><a href="#crudstate">crudState</a></td></tr><tr><td>crudStateRefs</td><td>ToRefs</td><td><code>const {formData} = crudStateRefs</code></td><td><a href="#crudstate">crudStateRefs</a></td></tr><tr><td>bindVal</td><td>Computed</td><td><code>&lt;avue-crud v-bind=&quot;bindVal&quot;&gt;</code></td><td><a href="#bindVal">使用 v-bind 绑定的值</a></td></tr><tr><td>getDataList</td><td>Function</td><td><code>getDataList()</code></td><td>获取数据列表方法,可被 options 中同名函数覆盖</td></tr><tr><td>handleSave</td><td>Function</td><td><code>handleSave(row)</code></td><td>数据添加方法,可被 options 中同名函数覆盖</td></tr><tr><td>handleUpdate</td><td>Function</td><td><code>handleUpdate(row)</code></td><td>数据更新方法,可被 options 中同名函数覆盖</td></tr><tr><td>handleDel</td><td>Function</td><td><code>handleDel(row)</code></td><td>删除行方法,可被 options 中同名函数覆盖</td></tr><tr><td>batchDel</td><td>Function</td><td><code>handleDel(rows)</code></td><td>批量删除方法,可被 options 中同名函数覆盖</td></tr><tr><td>beforeGetList</td><td>Function</td><td><code>beforeGetList((params)=&gt;{})</code></td><td>获取数据前</td></tr><tr><td>afterGetList</td><td>Function</td><td><code>afterGetList((res)=&gt;{})</code></td><td>获取数据后</td></tr><tr><td>beforeSave</td><td>Function</td><td><code>beforeSave((row)=&gt;{})</code></td><td>新增数据前，可对 row 内的数据进行修改</td></tr><tr><td>afterSave</td><td>Function</td><td><code>afterSave((res)=&gt;{})</code></td><td>新增数据后</td></tr><tr><td>beforeUpdate</td><td>Function</td><td><code>beforeUpdate((row)=&gt;{})</code></td><td>更新数据前，可对 row 内的数据进行修改</td></tr><tr><td>afterUpdate</td><td>Function</td><td><code>afterUpdate((res)=&gt;{})</code></td><td>更新数据后</td></tr><tr><td>beforeDel</td><td>Function</td><td><code>beforeDel((row)=&gt;{})</code></td><td>删除数据前</td></tr><tr><td>afterDel</td><td>Function</td><td><code>afterDel((res)=&gt;{})</code></td><td>删除数据后</td></tr><tr><td>beforeBatchDel</td><td>Function</td><td><code>beforeBatchDel((selections)=&gt;{})</code></td><td>批量删除前</td></tr><tr><td>afterBatchDel</td><td>Function</td><td><code>afterBatchDel((res)=&gt;{})</code></td><td>批量删除后</td></tr><tr><td>beforeSearch</td><td>Function</td><td><code>beforeSearch((isReset)=&gt;{})</code></td><td>搜索前(是否重置)</td></tr><tr><td>afterSearch</td><td>Function</td><td><code>afterSearch((isReset)=&gt;{})</code></td><td>搜索后(是否重置)</td></tr><tr><td>beforeOpen</td><td>Function</td><td><code>beforeOpen((type)=&gt;{})</code></td><td>打开表单弹窗前(弹窗表单类型)</td></tr><tr><td>afterOpen</td><td>Function</td><td><code>afterOpen((type)=&gt;{})</code></td><td>打开表单弹窗后(弹窗表单类型)</td></tr><tr><td>beforeClose</td><td>Function</td><td><code>beforeClose((type)=&gt;{})</code></td><td>关闭表单弹窗前(弹窗表单类型)</td></tr><tr><td>afterClose</td><td>Function</td><td><code>afterClose((type)=&gt;{})</code></td><td>关闭表单弹窗后(弹窗表单类型)</td></tr></tbody></table><h1 id="crudstate" tabindex="-1">CrudState <a class="header-anchor" href="#crudstate" aria-hidden="true">#</a></h1><p>TODO...</p><h1 id="bindval" tabindex="-1">BindVal <a class="header-anchor" href="#bindval" aria-hidden="true">#</a></h1><p>TODO...</p>',10),ie=JSON.parse('{"title":"useCrud","description":"","frontmatter":{},"headers":[{"level":2,"title":"基础用法","slug":"基础用法","link":"#基础用法","children":[]},{"level":2,"title":"Options","slug":"options","link":"#options","children":[]},{"level":2,"title":"CrudOption","slug":"crudoption","link":"#crudoption","children":[]},{"level":2,"title":"PageOption","slug":"pageoption","link":"#pageoption","children":[]},{"level":2,"title":"Returns","slug":"returns","link":"#returns","children":[]}],"relativePath":"composables/use-crud/index.md"}'),oe={name:"composables/use-crud/index.md"},ce=Object.assign(oe,{setup(e){return(s,a)=>(ft(),xt("div",null,[te,ee,ne,Yt(Qt),se,re,ae]))}});export{ie as __pageData,ce as default};
