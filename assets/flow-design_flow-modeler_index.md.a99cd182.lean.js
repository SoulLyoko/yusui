import{d as U}from"./chunks/data.ee8ef805.js";import{d as O}from"./chunks/theme.cce338c9.js";import{f as A,E as b,h as f,B as _,C as y,H as m,u as g,r as h,U as L,S as B,c as M,b as W,_ as q,j as S,A as l,l as e,Q as j}from"./chunks/framework.73e971ba.js";const I=[{label:"",labelWidth:0,prop:"assignee",type:"dynamic",children:{rowKey:"type",addBtn:!0,column:[{label:"类型",prop:"type",type:"select",width:120,dicData:[{label:"用户",value:"user"},{label:"部门",value:"dept"},{label:"角色",value:"role"},{label:"岗位",value:"post"},{label:"指定节点",value:"userTask"},{label:"自定义",value:"custom"}]},{label:"值",prop:"value"}]},value:[]}],i=[{label:"节点id",prop:"id",readonly:!0},{label:"节点名称",prop:"name"},{label:"节点描述",prop:"desc"}],R=[{label:"显示",value:"true"},{label:"隐藏",value:"false"},{label:"发起人",value:"startUser"},{label:"处理人",value:"assignee"},{label:"未发起",value:"unstarted"},{label:"已发起",value:"started"},{label:"未办结",value:"unfinished"},{label:"已办结",value:"finished"}],G=[{label:"不显示",value:"false"},{label:"审批人",value:"approver"},{label:"抄送人",value:"copyUser"},{label:"意见",value:"comment"}],$=[{label:"",labelWidth:0,prop:"button",type:"dynamic",value:[],children:{addBtn:!1,delBtn:!1,column:[{prop:"_index",hide:!0},{label:"字段名",prop:"label",width:100,detail:!0},{label:"字段值",prop:"prop",width:100,detail:!0},{label:"显示条件",prop:"display",type:"select",multiple:!0,dataType:"string",clearable:!0,dicData:R},{label:"审批窗口",prop:"approval",type:"select",multiple:!0,dataType:"string",clearable:!0,dicData:G}]}}],K=[{label:"开始",value:"start"},{label:"任务",value:"task"},{label:"结束",value:"end"}],z=[{label:"类",value:"class"},{label:"表达式",value:"expression"},{label:"代理表达式",value:"delegateExpression"}],H=[{label:"字符串",value:"string"},{label:"表达式",value:"expression"}],E=[{label:"",labelWidth:0,prop:"executionListener",type:"dynamic",children:{type:"form",index:!1,column:[{label:"事件",prop:"eventName",type:"select",dicData:K},{label:"类型",prop:"eventType",type:"select",dicData:z},{label:"值",prop:"eventValue",type:"textarea",minRows:1,span:24},{label:"字段",prop:"fields",type:"dynamic",span:24,children:{column:[{label:"字段名",prop:"fieldName"},{label:"类型",prop:"fieldType",type:"select",dicData:H},{label:"值",prop:"fieldValue"}]}}]}}],J=A({__name:"flow-form-property",props:{modelValue:null},setup(c){const a=c,{modelValue:p}=O(a),d={rowKey:"prop",menu:!1,defaultExpandAll:!0,column:[{label:"字段",prop:"label",cell:!0},{label:"属性",prop:"prop",cell:!0},{label:"显示",prop:"display",width:40,cell:!0},{label:"禁用",prop:"disabled",width:40,cell:!0},{label:"详情",prop:"detail",width:40,cell:!0},{label:"只读",prop:"readonly",width:40,cell:!0},{label:"必填",prop:"required",width:40,cell:!0}]};return(n,r)=>{const t=b("el-checkbox"),C=b("avue-crud");return f(),_(C,{class:"hide_menu",data:g(p),option:d},{display:y(({row:o})=>[m(t,{modelValue:o.display,"onUpdate:modelValue":s=>o.display=s},null,8,["modelValue","onUpdate:modelValue"])]),readonly:y(({row:o})=>[m(t,{modelValue:o.readonly,"onUpdate:modelValue":s=>o.readonly=s},null,8,["modelValue","onUpdate:modelValue"])]),disabled:y(({row:o})=>[m(t,{modelValue:o.disabled,"onUpdate:modelValue":s=>o.disabled=s},null,8,["modelValue","onUpdate:modelValue"])]),detail:y(({row:o})=>[m(t,{modelValue:o.detail,"onUpdate:modelValue":s=>o.detail=s},null,8,["modelValue","onUpdate:modelValue"])]),required:y(({row:o})=>[m(t,{modelValue:o.required,"onUpdate:modelValue":s=>o.required=s},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["data"])}}}),v=[{label:"",labelWidth:0,prop:"formProperty",component:J,value:[]}],Q=[{label:"网关类型",prop:"inout",type:"radio",button:!0,value:"in",dicData:[{label:"进",value:"in"},{label:"出",value:"out"}]},{label:"完成条件",prop:"completionCondition",type:"slider",showInput:!0,showInputControls:!1,labelPosition:"top",step:.01,max:1,value:0,labelTip:"任务完成的百分比，如2人接收，需同时完成才往下进行时=100%，只需1人完成时=50%",span:23,offset:1}],k=[{label:"多实例类型",prop:"multiInstanceType",tip:"选择后节点变更为多人任务",type:"select",dicData:[{label:"并行审批",value:"parallel",desc:"同时接收审批"},{label:"顺序审批",value:"sequential",desc:"按顺序审批"}]},{label:"完成条件",prop:"completionCondition",type:"slider",showInput:!0,showInputControls:!1,labelPosition:"top",step:.01,max:1,value:0,labelTip:"任务完成的百分比，如2人接收，需同时完成才往下进行时=100%，只需1人完成时=50%",span:23,offset:1},{label:"回收任务",prop:"isRecall",type:"switch",value:!1,labelTip:"满足完成条件时，该节点未审批任务是否回收，回收的任务仅保留记录，对应人员无需再办理"}],X=[{label:"节点id",prop:"id",readonly:!0},{label:"节点描述",prop:"name",type:"textarea"}],N=Symbol("modelerState");function gl(c){const a=O(c,void 0,{passive:!0}),{lf:p,modelValue:d,elementData:n,formData:r,formOption:t,formOptions:C}=a,o=h(!1),s=h(!1);function P(D){var x,V,T;const F=(x=n.value)==null?void 0:x.id;F&&((V=p.value)==null||V.setProperties(F,D)),F&&((T=p.value)==null||T.updateText(F,D.name))}const w={lf:p,graphData:d,elementData:n,formData:r,formLoading:o,formOption:t,formOptions:C,editorVisible:s,onUpdateFormData:P,formOptionFormat:c.formOptionFormat??(D=>D),formDataFormat:c.formDataFormat??(D=>D)};return L(N,w),w}function Y(){return B(N)}const Z=A({__name:"flow-node-select",props:{filterType:null,dic:null},setup(c){const a=c,{lf:p}=Y(),d=M(()=>{var n;return(n=p.value)==null?void 0:n.graphModel.nodes.filter(r=>a.filterType?a.filterType.includes(r.type):!0).map(r=>({label:r.text.value,value:r.id}))});return(n,r)=>{const t=b("avue-select");return f(),_(t,{dic:g(d)},null,8,["dic"])}}}),ll=[{label:"跳过第一节点",prop:"skipFirstNode",type:"switch",labelWidth:100,value:!0},{label:"默认驳回节点",prop:"rollbackNode",type:"select",labelWidth:100,component:Z,params:{filterType:"userTask"}},{label:"优先级",prop:"priority"},{label:"表单标题",prop:"formTitle"}],u=[{label:"",labelWidth:0,prop:"property",type:"dynamic",children:{column:[{label:"属性名",prop:"name"},{label:"属性值",prop:"value",type:"textarea",minRows:1}]},value:[]}],el=[{label:"条件表达式",prop:"conditionsequenceflow"},{label:"是否为默认分支",prop:"defaultConditions",labelWidth:120,type:"switch",value:!1}],ol=[{label:"",labelWidth:0,prop:"serial",component:"avue-form",option:{menuBtn:!1,span:24,column:[{label:"名称",prop:"name"},{label:"前缀",prop:"prefix"},{label:"日期格式",prop:"dateFormat"},{label:"后缀位数",prop:"suffixLength"},{label:"初始数值",prop:"startSequence"},{label:"连接符",prop:"connector"},{label:"重置周期",prop:"cycle",type:"select",dicData:[{label:"不重置",value:"none"},{label:"按天重置",value:"day"},{label:"按周重置",value:"week"},{label:"按月重置",value:"month"},{label:"按年重置",value:"year"}]}]}}],al=[{label:"类",prop:"className"},{label:"异步",prop:"isAsync",type:"switch",value:!1}],tl=[{label:"创建",value:"create"},{label:"指派",value:"assignment"},{label:"完成",value:"complete"},{label:"删除",value:"delete"},{label:"更新",value:"update"},{label:"超时",value:"timeout"}],sl=[{label:"类",value:"class"},{label:"表达式",value:"expression"},{label:"代理表达式",value:"delegateExpression"}],pl=[{label:"字符串",value:"string"},{label:"表达式",value:"expression"}],nl=[{label:"",labelWidth:0,prop:"executionListener",type:"dynamic",children:{type:"form",index:!1,column:[{label:"事件",prop:"eventName",type:"select",dicData:tl},{label:"类型",prop:"eventType",type:"select",dicData:sl},{label:"值",prop:"eventValue",type:"textarea",minRows:1,span:24},{label:"字段",prop:"fields",type:"dynamic",span:24,children:{column:[{label:"字段名",prop:"fieldName"},{label:"类型",prop:"fieldType",type:"select",dicData:pl},{label:"值",prop:"fieldValue"}]}}]}}],rl=[{label:"",labelWidth:0,prop:"timeLimit",type:"dynamic",children:{column:[{label:"名称",prop:"name"},{label:"最小值",prop:"min",type:"number"},{label:"最大值",prop:"max",type:"number"}]},value:[]}],cl=[{label:"驳回节点",prop:"rollbackNode",type:"select",params:{filterType:"bpmn:UserTask"}},{label:"重新提交后回到驳回人",prop:"backToRejecter",type:"switch",value:!1}],wl=[{label:"基本配置",prop:"base",column:i}],dl={startEvent:[{label:"基本配置",prop:"base",column:i},{label:"表单配置",prop:"formProperty",collapse:!1,column:v},{label:"扩展属性",prop:"property",collapse:!1,column:u}],endEvent:[{label:"基本配置",prop:"base",column:i},{label:"表单配置",prop:"formProperty",collapse:!1,column:v},{label:"扩展属性",prop:"property",collapse:!1,column:u},{label:"执行监听",prop:"executionListener",collapse:!1,column:E}],userTask:[{label:"基本配置",prop:"base",column:[...i,...cl]},{label:"人员配置",prop:"assignee",collapse:!0,column:I},{label:"多实例配置",prop:"multiInstance",collapse:!1,column:k},{label:"按钮配置",prop:"button",collapse:!1,column:$},{label:"表单配置",prop:"formProperty",collapse:!1,column:v},{label:"任务监听",prop:"taskListener",collapse:!1,column:nl},{label:"执行监听",prop:"executionListener",collapse:!1,column:E},{label:"时限控制",prop:"timeLimit",collapse:!1,column:rl},{label:"扩展属性",prop:"property",collapse:!1,column:u}],serviceTask:[{label:"基本配置",prop:"base",column:i},{label:"服务配置",prop:"service",collapse:!0,column:al},{label:"扩展属性",prop:"property",collapse:!1,column:u}],sequenceFlow:[{label:"基本配置",prop:"base",column:i},{label:"条件配置",prop:"sequenceFlow",collapse:!0,column:el},{label:"扩展属性",prop:"property",collapse:!1,column:u}],parallelGateway:[{label:"基本配置",prop:"base",column:i},{label:"网关配置",prop:"base",column:Q}],process:[{label:"流程配置",prop:"base",column:ll},{label:"流水号配置",prop:"serial",collapse:!0,column:ol},{label:"扩展属性",prop:"property",collapse:!1,column:u}],group:[{label:"基本配置",prop:"base",column:i},{label:"多实例配置",prop:"multiInstance",collapse:!1,column:k},{label:"扩展属性",prop:"property",collapse:!1,column:u}],note:[{label:"基本配置",prop:"base",column:X}]},il=A({__name:"demo",setup(c){const a=h(U());W(()=>{console.log("🚀 ~ file: demo.vue:14 ~ graphData",a)});const p=dl;return(d,n)=>{const r=b("FlowModeler");return f(),_(r,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=t=>a.value=t),formOptions:g(p),class:"demo",formWidth:"30%"},null,8,["modelValue","formOptions"])}}});const ul=q(il,[["__scopeId","data-v-d2abc60c"]]),yl=l("h1",{id:"flowmodeler",tabindex:"-1"},[e("FlowModeler "),l("a",{class:"header-anchor",href:"#flowmodeler","aria-label":'Permalink to "FlowModeler"'},"​")],-1),ml=l("p",null,"FlowModeler",-1),Dl=l("h2",{id:"基础用法",tabindex:"-1"},[e("基础用法 "),l("a",{class:"header-anchor",href:"#基础用法","aria-label":'Permalink to "基础用法"'},"​")],-1),bl=l("div",{class:"language-vue"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"},"vue"),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"template"),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"FlowModeler"),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"v-model"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"graphData"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},":formOptions"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"formOptions"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"class"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"demo"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"formWidth"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"30%"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},"></"),l("span",{style:{color:"#F07178"}},"FlowModeler"),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"template"),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"script"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"setup"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"ts"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"ref"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"watchEffect"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"vue"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},";")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"defaultGraphData"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"../constants"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},";")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"defaultOptions"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"../options"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},";")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," graphData "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#82AAFF"}},"ref"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#82AAFF"}},"defaultGraphData"),l("span",{style:{color:"#A6ACCD"}},"())"),l("span",{style:{color:"#89DDFF"}},";")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#82AAFF"}},"watchEffect"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"()"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"=>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#A6ACCD"}},"console"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"log"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"🚀 ~ file: demo.vue:14 ~ graphData"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"graphData"),l("span",{style:{color:"#F07178"}},")"),l("span",{style:{color:"#89DDFF"}},";")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")"),l("span",{style:{color:"#89DDFF"}},";")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," formOptions "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," defaultOptions"),l("span",{style:{color:"#89DDFF"}},";")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"script"),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"style"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"scss"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"scoped"),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#FFCB6B"}},"demo"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#B2CCD6"}},"height"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"600px"),l("span",{style:{color:"#89DDFF"}},";")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"style"),l("span",{style:{color:"#89DDFF"}},">")])])])],-1),Fl=j("",2),fl=JSON.parse('{"title":"FlowModeler","description":"","frontmatter":{"aside":false},"headers":[],"relativePath":"flow-design/flow-modeler/index.md"}'),Cl={name:"flow-design/flow-modeler/index.md"},vl=Object.assign(Cl,{setup(c){return(a,p)=>{const d=b("demo");return f(),S("div",null,[yl,ml,Dl,m(d,null,{demo:y(()=>[m(ul)]),code:y(()=>[bl]),_:1}),Fl])}}}),xl=Object.freeze(Object.defineProperty({__proto__:null,__pageData:fl,default:vl},Symbol.toStringTag,{value:"Module"}));export{xl as _,fl as __pageData,dl as a,I as b,i as c,wl as d,vl as default,G as e,R as f,$ as g,E as h,v as i,Q as j,u as k,ol as l,k as m,X as n,al as o,ll as p,rl as q,gl as r,el as s,nl as t,cl as u};
