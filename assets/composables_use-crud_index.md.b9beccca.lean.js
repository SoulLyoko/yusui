import{m as mt,n as x,q as pt,s as Ft,u as Ct,x as gt,y as At,z as U,A as ot,E as q,B as rt,C as lt,D as ct,G as dt,H as vt,r as wt,I as bt,J as _t,d as Ot,o as ut,k as St,K as $t,L as Lt,M as Mt,f as kt,c as Rt,e as Bt,b as t,i as H,j as ht}from"./app.773dea34.js";/*! js-cookie v3.0.1 | MIT */function z(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var d in a)e[d]=a[d]}return e}var Et={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function I(e,n){function a(f,y,l){if(!(typeof document>"u")){l=z({},n,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),f=encodeURIComponent(f).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var m="";for(var D in l)!l[D]||(m+="; "+D,l[D]!==!0&&(m+="="+l[D].split(";")[0]));return document.cookie=f+"="+e.write(y,f)+m}}function d(f){if(!(typeof document>"u"||arguments.length&&!f)){for(var y=document.cookie?document.cookie.split("; "):[],l={},m=0;m<y.length;m++){var D=y[m].split("="),p=D.slice(1).join("=");try{var u=decodeURIComponent(D[0]);if(l[u]=e.read(p,u),f===u)break}catch{}}return f?l[f]:l}}return Object.create({set:a,get:d,remove:function(f,y){a(f,"",z({},y,{expires:-1}))},withAttributes:function(f){return I(this.converter,z({},this.attributes,f))},withConverter:function(f){return I(z({},this.converter,f),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}I(Et,{path:"/"});function xt(e){var n,a;return(a=(n=Object.prototype.toString.call(e).match(/\[object (.*)\]/))==null?void 0:n[1])!=null?a:""}const it={set(e,n){if(n===void 0)return;const a={key:e,value:n,timestamp:Date.now(),type:xt(n)};localStorage.setItem(e,JSON.stringify(a)),this.length++},get(e){const n=localStorage.getItem(e);return n?JSON.parse(n).value:null},remove(e){!this.get(e)||(localStorage.removeItem(e),this.length--)},clear(){localStorage.clear(),this.length=0},setItem(e,n){this.set(e,n)},getItem(e){return this.get(e)},removeItem(e){this.remove(e)},key(e){return localStorage.key(e)},length:0};var Yt={exports:{}};(function(e,n){(function(a,d){e.exports=d(mt.exports)})(x,function(a){function d(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var f=d(a),y={name:"zh-cn",weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),weekdaysShort:"\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D".split("_"),weekdaysMin:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(l,m){return m==="W"?l+"\u5468":l+"\u65E5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524D",s:"\u51E0\u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},meridiem:function(l,m){var D=100*l+m;return D<600?"\u51CC\u6668":D<900?"\u65E9\u4E0A":D<1100?"\u4E0A\u5348":D<1300?"\u4E2D\u5348":D<1800?"\u4E0B\u5348":"\u665A\u4E0A"}};return f.default.locale(y,null,!0),y})})(Yt);var ft={exports:{}};(function(e,n){(function(a,d){e.exports=d()})(x,function(){var a,d,f=1e3,y=6e4,l=36e5,m=864e5,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p=31536e6,u=2592e6,A=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,F={years:p,months:u,days:m,hours:l,minutes:y,seconds:f,milliseconds:1,weeks:6048e5},v=function(i){return i instanceof r},_=function(i,c,o){return new r(i,o,c.$l)},w=function(i){return d.p(i)+"s"},$=function(i){return i<0},S=function(i){return $(i)?Math.ceil(i):Math.floor(i)},M=function(i){return Math.abs(i)},s=function(i,c){return i?$(i)?{negative:!0,format:""+M(i)+c}:{negative:!1,format:""+i+c}:{negative:!1,format:""}},r=function(){function i(o,h,C){var g=this;if(this.$d={},this.$l=C,o===void 0&&(this.$ms=0,this.parseFromMilliseconds()),h)return _(o*F[w(h)],this);if(typeof o=="number")return this.$ms=o,this.parseFromMilliseconds(),this;if(typeof o=="object")return Object.keys(o).forEach(function(L){g.$d[w(L)]=o[L]}),this.calMilliseconds(),this;if(typeof o=="string"){var b=o.match(A);if(b){var O=b.slice(2).map(function(L){return L!=null?Number(L):0});return this.$d.years=O[0],this.$d.months=O[1],this.$d.weeks=O[2],this.$d.days=O[3],this.$d.hours=O[4],this.$d.minutes=O[5],this.$d.seconds=O[6],this.calMilliseconds(),this}}return this}var c=i.prototype;return c.calMilliseconds=function(){var o=this;this.$ms=Object.keys(this.$d).reduce(function(h,C){return h+(o.$d[C]||0)*F[C]},0)},c.parseFromMilliseconds=function(){var o=this.$ms;this.$d.years=S(o/p),o%=p,this.$d.months=S(o/u),o%=u,this.$d.days=S(o/m),o%=m,this.$d.hours=S(o/l),o%=l,this.$d.minutes=S(o/y),o%=y,this.$d.seconds=S(o/f),o%=f,this.$d.milliseconds=o},c.toISOString=function(){var o=s(this.$d.years,"Y"),h=s(this.$d.months,"M"),C=+this.$d.days||0;this.$d.weeks&&(C+=7*this.$d.weeks);var g=s(C,"D"),b=s(this.$d.hours,"H"),O=s(this.$d.minutes,"M"),L=this.$d.seconds||0;this.$d.milliseconds&&(L+=this.$d.milliseconds/1e3);var B=s(L,"S"),E=o.negative||h.negative||g.negative||b.negative||O.negative||B.negative,Y=b.format||O.format||B.format?"T":"",k=(E?"-":"")+"P"+o.format+h.format+g.format+Y+b.format+O.format+B.format;return k==="P"||k==="-P"?"P0D":k},c.toJSON=function(){return this.toISOString()},c.format=function(o){var h=o||"YYYY-MM-DDTHH:mm:ss",C={Y:this.$d.years,YY:d.s(this.$d.years,2,"0"),YYYY:d.s(this.$d.years,4,"0"),M:this.$d.months,MM:d.s(this.$d.months,2,"0"),D:this.$d.days,DD:d.s(this.$d.days,2,"0"),H:this.$d.hours,HH:d.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:d.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:d.s(this.$d.seconds,2,"0"),SSS:d.s(this.$d.milliseconds,3,"0")};return h.replace(D,function(g,b){return b||String(C[g])})},c.as=function(o){return this.$ms/F[w(o)]},c.get=function(o){var h=this.$ms,C=w(o);return C==="milliseconds"?h%=1e3:h=C==="weeks"?S(h/F[C]):this.$d[C],h===0?0:h},c.add=function(o,h,C){var g;return g=h?o*F[w(h)]:v(o)?o.$ms:_(o,this).$ms,_(this.$ms+g*(C?-1:1),this)},c.subtract=function(o,h){return this.add(o,h,!0)},c.locale=function(o){var h=this.clone();return h.$l=o,h},c.clone=function(){return _(this.$ms,this)},c.humanize=function(o){return a().add(this.$ms,"ms").locale(this.$l).fromNow(!o)},c.milliseconds=function(){return this.get("milliseconds")},c.asMilliseconds=function(){return this.as("milliseconds")},c.seconds=function(){return this.get("seconds")},c.asSeconds=function(){return this.as("seconds")},c.minutes=function(){return this.get("minutes")},c.asMinutes=function(){return this.as("minutes")},c.hours=function(){return this.get("hours")},c.asHours=function(){return this.as("hours")},c.days=function(){return this.get("days")},c.asDays=function(){return this.as("days")},c.weeks=function(){return this.get("weeks")},c.asWeeks=function(){return this.as("weeks")},c.months=function(){return this.get("months")},c.asMonths=function(){return this.as("months")},c.years=function(){return this.get("years")},c.asYears=function(){return this.as("years")},i}();return function(i,c,o){a=o,d=o().$utils(),o.duration=function(g,b){var O=o.locale();return _(g,{$l:O},b)},o.isDuration=v;var h=c.prototype.add,C=c.prototype.subtract;c.prototype.add=function(g,b){return v(g)&&(g=g.asMilliseconds()),h.bind(this)(g,b)},c.prototype.subtract=function(g,b){return v(g)&&(g=g.asMilliseconds()),C.bind(this)(g,b)}}})})(ft);const Pt=ft.exports;var Dt={exports:{}};(function(e,n){(function(a,d){e.exports=d()})(x,function(){return function(a,d,f){a=a||{};var y=d.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function m(p,u,A,F){return y.fromToBase(p,u,A,F)}f.en.relativeTime=l,y.fromToBase=function(p,u,A,F,v){for(var _,w,$,S=A.$locale().relativeTime||l,M=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],s=M.length,r=0;r<s;r+=1){var i=M[r];i.d&&(_=F?f(p).diff(A,i.d,!0):A.diff(p,i.d,!0));var c=(a.rounding||Math.round)(Math.abs(_));if($=_>0,c<=i.r||!i.r){c<=1&&r>0&&(i=M[r-1]);var o=S[i.l];v&&(c=v(""+c)),w=typeof o=="string"?o.replace("%d",c):o(c,u,i.l,$);break}}if(u)return w;var h=$?S.future:S.past;return typeof h=="function"?h(w):h.replace("%s",w)},y.to=function(p,u){return m(p,u,this,!0)},y.from=function(p,u){return m(p,u,this)};var D=function(p){return p.$u?f.utc():f()};y.toNow=function(p){return this.to(D(this),p)},y.fromNow=function(p){return this.from(D(this),p)}}})})(Dt);const jt=Dt.exports;pt.extend(jt);pt.extend(Pt);function Tt(e){return{all:e=e||new Map,on:function(n,a){var d=e.get(n);d?d.push(a):e.set(n,[a])},off:function(n,a){var d=e.get(n);d&&(a?d.splice(d.indexOf(a)>>>0,1):e.set(n,[]))},emit:function(n,a){var d=e.get(n);d&&d.slice().map(function(f){f(a)}),(d=e.get("*"))&&d.slice().map(function(f){f(n,a)})}}}function Ut(e){const n=Tt(e);return n.emitAsync=async function(a,d){const f=this.all.get(a);if(f)for(const l of f)await l(d);const y=this.all.get("*");if(y)for(const l of y)await l(a,d)},n}var qt={exports:{}};(function(e,n){(function(a,d){d()})(x,function(){function a(p,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function d(p,u,A){var F=new XMLHttpRequest;F.open("GET",p),F.responseType="blob",F.onload=function(){D(F.response,u,A)},F.onerror=function(){console.error("could not download file")},F.send()}function f(p){var u=new XMLHttpRequest;u.open("HEAD",p,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function y(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(u)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof x=="object"&&x.global===x?x:void 0,m=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),D=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(p,u,A){var F=l.URL||l.webkitURL,v=document.createElement("a");u=u||p.name||"download",v.download=u,v.rel="noopener",typeof p=="string"?(v.href=p,v.origin===location.origin?y(v):f(v.href)?d(p,u,A):y(v,v.target="_blank")):(v.href=F.createObjectURL(p),setTimeout(function(){F.revokeObjectURL(v.href)},4e4),setTimeout(function(){y(v)},0))}:"msSaveOrOpenBlob"in navigator?function(p,u,A){if(u=u||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(a(p,A),u);else if(f(p))d(p,u,A);else{var F=document.createElement("a");F.href=p,F.target="_blank",setTimeout(function(){y(F)})}}:function(p,u,A,F){if(F=F||open("","_blank"),F&&(F.document.title=F.document.body.innerText="downloading..."),typeof p=="string")return d(p,u,A);var v=p.type==="application/octet-stream",_=/constructor/i.test(l.HTMLElement)||l.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||v&&_||m)&&typeof FileReader<"u"){var $=new FileReader;$.onloadend=function(){var s=$.result;s=w?s:s.replace(/^data:[^;]*;/,"data:attachment/file;"),F?F.location.href=s:location=s,F=null},$.readAsDataURL(p)}else{var S=l.URL||l.webkitURL,M=S.createObjectURL(p);F?F.location=M:location.href=M,F=null,setTimeout(function(){S.revokeObjectURL(M)},4e4)}});l.saveAs=D.saveAs=D,e.exports=D})})(qt);function Ht(e=16,n){const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",d=n||a.length,f=[];for(let y=0;y<e;y++)f[y]=a.charAt(Math.random()*d);return f.join("")}function zt(e){return new Promise(n=>setTimeout(n,e))}function It(e,n){return e.then(a=>[null,a]).catch(a=>n?[Object.assign({},a,n),void 0]:[a,void 0])}const P=It;function Kt({crudState:e}){var y;if(e.mockCache)try{const m=`mock-${e.mockCache}`;e.mockData=(y=it.get(m))!=null?y:e.mockData,Ft(()=>e.mockData,()=>it.set(m,e.mockData),{immediate:!0,deep:!0})}catch(l){console.log("\u{1F680} ~ file: mock.ts ~ line 21 ~ error",l)}function n(){const{pageOption:{currentPage:l,pageSize:m},searchForm:D,sortOption:{descs:p,ascs:u}}=e,A=e.mockData.filter(_=>Object.entries(D).every(([w,$])=>typeof _[w]=="string"?_[w].includes($):_[w]==$)),v=Ct(A,p||u||void 0,p?"desc":u?"asc":void 0).filter((_,w)=>w>=(l-1)*m&&w<l*m);return Promise.resolve({code:200,msg:"\u64CD\u4F5C\u6210\u529F",data:{records:v,total:A.length}})}function a(l){const{crudOption:{rowKey:m}}=e;return e.mockData.push({[m]:Ht(16,10),...l}),Promise.resolve({code:200,msg:"\u64CD\u4F5C\u6210\u529F"})}function d(l){const{crudOption:{rowKey:m}}=e;return e.mockData=e.mockData.map(D=>D[m]===l[m]?l:D),Promise.resolve({code:200,msg:"\u64CD\u4F5C\u6210\u529F"})}function f(l){const{crudOption:{rowKey:m}}=e;if(typeof l=="string"){const D=l.split(",");e.mockData=e.mockData.filter(p=>!D.some(u=>u==p[m]))}else e.mockData=e.mockData.filter(D=>l!=D[m]);return Promise.resolve({code:200,msg:"\u64CD\u4F5C\u6210\u529F"})}return{getList:n,create:a,update:d,remove:f}}function Nt(e){var l,m;const n=gt(At({crudOption:{rowKey:(m=(l=e==null?void 0:e.tableOption)==null?void 0:l.rowKey)!=null?m:"id",getList:()=>a(),create:D=>d(D),update:D=>f(D),remove:D=>y(D),dataPath:"res.data.records",totalPath:"res.data.total",currKey:"current",sizeKey:"size",isPage:!0,isSort:!0},pageOption:{total:0,currentPage:1,pageSize:10},sortOption:{},tableLoading:!1,tableOption:{},tableData:[],dataSelections:[],searchForm:{},queryForm:{},formData:{},mockData:[],mockCache:""},e)),{getList:a,create:d,update:f,remove:y}=Kt({crudState:n});return n}function Vt({crudRef:e,crudState:n,emitter:a}){const d=async()=>{var k,j;const{getList:r,dataPath:i,totalPath:c,currKey:o,sizeKey:h,isPage:C,isSort:g}=n.crudOption;if(!r)return;const{currentPage:b,pageSize:O}=n.pageOption,L=C?{[o]:b,[h]:O}:{},B=g?n.sortOption:{},E=U({...n.searchForm,...L,...B,...n.queryForm}),[Y]=await P(a.emitAsync("beforeGetList",E));if(Y===null){n.tableLoading=!0,await zt(100);try{const R=await r(A(E));console.log("getDataList ~ res",R),n.tableData=ot({res:R},i,[]),n.pageOption.total=ot({res:R},c,0),await a.emitAsync("afterGetList",R)}catch(R){console.error("getDataList ~ err",R),n.tableData=[],n.pageOption.total=0}finally{(j=(k=e==null?void 0:e.value)==null?void 0:k.selectClear)==null||j.call(k),n.tableLoading=!1}}},f=async(r,i,c)=>{const{create:o}=n.crudOption;if(!o)return c==null?void 0:c();const h=U({...n.formData,...r}),[C]=await P(a.emitAsync("beforeSave",h));if(C!==null)return c==null?void 0:c();delete h[n.crudOption.rowKey];try{const g=await o(u(h));return q.success("\u4FDD\u5B58\u6210\u529F"),await a.emitAsync("afterSave",g),i==null||i(),d()}catch(g){console.error("handleSave ~ err",g),c==null||c()}},y=async(r,i,c,o)=>{const{update:h}=n.crudOption;if(!h)return o==null?void 0:o();const C=U({...n.formData,...r}),[g]=await P(a.emitAsync("beforeUpdate",C));if(g!==null)return o==null?void 0:o();try{const b=await h(u(C));return q.success("\u4FDD\u5B58\u6210\u529F"),await a.emitAsync("afterUpdate",b),c==null||c(),d()}catch(b){console.error("handleUpdate ~ err",b),o==null||o()}},l=async r=>{const{remove:i}=n.crudOption;if(!i)return;const c=U(r),[o]=await P(a.emitAsync("beforeDel",c));if(o===null){await rt.confirm("\u786E\u8BA4\u8FDB\u884C\u5220\u9664\u64CD\u4F5C\uFF1F","\u63D0\u793A",{type:"warning"});try{const h=await i(c[n.crudOption.rowKey]);return q.success("\u5220\u9664\u6210\u529F"),await a.emitAsync("afterDel",h),d()}catch(h){console.error("handleDel ~ err",h)}}},m=async()=>{const{remove:r}=n.crudOption;if(!r)return;const i=U(n.dataSelections),[c]=await P(a.emitAsync("beforeBatchDel",i));if(c!==null)return;const o=i.length;if(!o)return q.warning("\u8BF7\u9009\u62E9\u5220\u9664\u9879");await rt.confirm(`\u786E\u8BA4\u5220\u9664\u6240\u9009\u7684${o}\u6761\u6570\u636E\uFF1F`,"\u63D0\u793A",{type:"warning"});const h=i.map(C=>C[n.crudOption.rowKey]).join(",");try{const C=await r(h);return q.success("\u5220\u9664\u6210\u529F"),await a.emitAsync("afterBatchDel",C),d()}catch(C){console.error("batchDel ~ err",C)}},D=(r,i)=>i.includes("$"),p=r=>r==="",u=r=>lt(r,ct(dt,D)),A=r=>lt(r,ct(dt,p,D));return{getDataList:d,handleSave:f,handleUpdate:y,handleDel:l,batchDel:m,searchChange:async(r,i)=>{n.pageOption.currentPage=1,Object.keys(n.searchForm).forEach(h=>{delete n.searchForm[h]}),Object.keys(r).forEach(h=>{n.searchForm[h]=r[h]});const[c]=await P(a.emitAsync("beforeSearch",n.searchForm));if(c!==null)return i==null?void 0:i();await d();const[o]=await P(a.emitAsync("afterSearch",n.searchForm));if(o!==null)return i==null?void 0:i();i==null||i()},searchReset:async()=>{Object.keys(n.searchForm).forEach(r=>{delete n.searchForm[r]}),await a.emitAsync("beforeSearchReset",n.searchForm),await d(),await a.emitAsync("afterSearchReset",n.searchForm)},selectionChange:r=>{n.dataSelections=r},pageSizeChange:r=>(n.pageOption.pageSize=r,d()),pageCurrentChange:r=>(n.pageOption.currentPage=r,d()),sortChange:({order:r,prop:i})=>(r&&i?n.sortOption={[r.replace("ending","s")]:vt(i)}:n.sortOption={},d()),beforeOpen:async(r,i)=>{await a.emitAsync("beforeOpen",i),r(),await a.emitAsync("afterOpen",i)},beforeClose:async(r,i)=>{await a.emitAsync("beforeClose",i),r(),await a.emitAsync("afterClose",i)}}}function Gt(){const e=Ut();return{emitter:e,beforeGetList:s=>{e.on("beforeGetList",async(...r)=>await(s==null?void 0:s(...r)))},afterGetList:s=>{e.on("afterGetList",async(...r)=>await(s==null?void 0:s(...r)))},beforeSave:s=>{e.on("beforeSave",async(...r)=>await(s==null?void 0:s(...r)))},afterSave:s=>{e.on("afterSave",async(...r)=>await(s==null?void 0:s(...r)))},beforeUpdate:s=>{e.on("beforeUpdate",async(...r)=>await(s==null?void 0:s(...r)))},afterUpdate:s=>{e.on("afterUpdate",async(...r)=>await(s==null?void 0:s(...r)))},beforeDel:s=>{e.on("beforeDel",async(...r)=>await(s==null?void 0:s(...r)))},afterDel:s=>{e.on("afterDel",async(...r)=>await(s==null?void 0:s(...r)))},beforeBatchDel:s=>{e.on("beforeBatchDel",async(...r)=>await(s==null?void 0:s(...r)))},afterBatchDel:s=>{e.on("afterBatchDel",async(...r)=>await(s==null?void 0:s(...r)))},beforeSearch:s=>{e.on("beforeSearch",async()=>await(s==null?void 0:s()))},afterSearch:s=>{e.on("afterSearch",async()=>await(s==null?void 0:s()))},beforeSearchReset:s=>{e.on("beforeSearch",async()=>await(s==null?void 0:s()))},afterSearchReset:s=>{e.on("afterSearch",async()=>await(s==null?void 0:s()))},beforeOpen:s=>{e.on("beforeOpen",async(...r)=>await(s==null?void 0:s(...r)))},afterOpen:s=>{e.on("afterOpen",async(...r)=>await(s==null?void 0:s(...r)))},beforeClose:s=>{e.on("beforeClose",async(...r)=>await(s==null?void 0:s(...r)))},afterClose:s=>{e.on("afterClose",async(...r)=>await(s==null?void 0:s(...r)))}}}function Jt(e){var K,N,V,G,J,W,X,Z,Q,tt,et,nt,st;const n=wt(),a=Nt(e),d=bt(a),{emitter:f,beforeGetList:y,afterGetList:l,beforeSave:m,afterSave:D,beforeUpdate:p,afterUpdate:u,beforeDel:A,afterDel:F,beforeBatchDel:v,afterBatchDel:_,beforeSearch:w,afterSearch:$,beforeSearchReset:S,afterSearchReset:M,beforeOpen:s,afterOpen:r,beforeClose:i,afterClose:c}=Gt();let{getDataList:o,handleSave:h,handleUpdate:C,handleDel:g,batchDel:b,searchChange:O,searchReset:L,selectionChange:B,pageSizeChange:E,pageCurrentChange:Y,sortChange:k,beforeOpen:j,beforeClose:R}=Vt({crudRef:n,crudState:a,emitter:f});o=(K=e.getDataList)!=null?K:o,h=(N=e.handleSave)!=null?N:h,C=(V=e.handleUpdate)!=null?V:C,g=(G=e.handleDel)!=null?G:g,b=(J=e.batchDel)!=null?J:b,O=(W=e.searchChange)!=null?W:O,L=(X=e.searchReset)!=null?X:L,B=(Z=e.selectionChange)!=null?Z:B,E=(Q=e.pageSizeChange)!=null?Q:E,Y=(tt=e.pageCurrentChange)!=null?tt:Y,k=(et=e.sortChange)!=null?et:k,j=(nt=e.beforeOpen)!=null?nt:j,R=(st=e.beforeClose)!=null?st:R;const yt=_t(()=>{var at;return{ref:"crudRef",modelValue:a.formData,tableLoading:a.tableLoading,option:(at=e.tableOption)!=null?at:{},data:a.tableData,page:a.pageOption,search:a.searchForm,"before-open":j,"before-close":R,onRowSave:h,onRowUpdate:C,onRowDel:g,onRefreshChange:o,onSelectionChange:B,onCurrentChange:Y,onSizeChange:E,onSortChange:k,onSearchChange:O,onSearchReset:L,"onUpdate:search":T=>a.searchForm=T,"onUpdate:page":T=>a.pageOption=T,"onUpdate:modelValue":T=>a.formData=T}});return{crudRef:n,crudState:a,crudStateRefs:d,bindVal:yt,getDataList:o,handleSave:h,handleUpdate:C,handleDel:g,batchDel:b,beforeGetList:y,afterGetList:l,beforeSave:m,afterSave:D,beforeUpdate:p,afterUpdate:u,beforeDel:A,afterDel:F,beforeBatchDel:v,afterBatchDel:_,beforeSearch:w,afterSearch:$,beforeSearchReset:S,afterSearchReset:M,beforeOpen:s,afterOpen:r,beforeClose:i,afterClose:c}}const Wt=Ot({__name:"demo",setup(e){const n=()=>Promise.resolve({data:{records:[{name:"123"}],total:1}}),a=()=>Promise.resolve(),d=()=>Promise.resolve(),f=()=>Promise.resolve(),{bindVal:y,getDataList:l}=Jt({crudOption:{getList:n,create:a,update:d,remove:f},tableOption:{column:[{label:"\u540D\u79F0",prop:"name"}]}});return l(),(m,D)=>{const p=kt("avue-crud");return ut(),St(p,$t(Lt(Mt(y))),null,16)}}}),Xt=t("h1",{id:"usecrud",tabindex:"-1"},[H("useCrud "),t("a",{class:"header-anchor",href:"#usecrud","aria-hidden":"true"},"#")],-1),Zt=t("p",null,"\u5E94\u7528\u4E8E AvueCrud \u7EC4\u4EF6\u7684\u5FEB\u901F\u589E\u5220\u6539\u67E5",-1),Qt=t("h2",{id:"\u57FA\u7840\u7528\u6CD5",tabindex:"-1"},[H("\u57FA\u7840\u7528\u6CD5 "),t("a",{class:"header-anchor",href:"#\u57FA\u7840\u7528\u6CD5","aria-hidden":"true"},"#")],-1),te=ht("",2),ee=t("table",null,[t("thead",null,[t("tr",null,[t("th",null,"\u540D\u79F0"),t("th",null,"\u7C7B\u578B"),t("th",null,"\u9ED8\u8BA4\u503C"),t("th",null,"\u8BF4\u660E")])]),t("tbody",null,[t("tr",null,[t("td",null,"crudOption"),t("td",null,"Object"),t("td"),t("td",null,[H("\u589E\u5220\u6539\u67E5\u914D\u7F6E,"),t("a",{href:"#crudoption"},"\u8BE6\u7EC6\u8BF4\u660E")])]),t("tr",null,[t("td",null,"pageOption"),t("td",null,"Object"),t("td"),t("td",null,[H("\u5206\u9875\u914D\u7F6E,"),t("a",{href:"#pageoption"},"\u8BE6\u7EC6\u8BF4\u660E")])]),t("tr",null,[t("td",null,"sortOption"),t("td",null,"Object"),t("td",{"descs:create_time":""}),t("td",null,[H("\u6392\u5E8F\u914D\u7F6E,\u53EF\u9009"),t("code",null,"{['descs'|'ascs']:$prop}")])]),t("tr",null,[t("td",null,"tableLoading"),t("td",null,"Boolean"),t("td",null,"false"),t("td",null,"\u6570\u636E\u52A0\u8F7D\u72B6\u6001")]),t("tr",null,[t("td",null,"tableOption"),t("td",null,"Object"),t("td",null,"{}"),t("td",null,"\u8868\u683C\u914D\u7F6E\u9879")]),t("tr",null,[t("td",null,"tableData"),t("td",null,"Array"),t("td",null,"[]"),t("td",null,"\u6570\u636E\u5217\u8868")]),t("tr",null,[t("td",null,"dataSelections"),t("td",null,"Array"),t("td",null,"[]"),t("td",null,"\u5DF2\u9009\u62E9\u6570\u636E\u5217\u8868")]),t("tr",null,[t("td",null,"searchForm"),t("td",null,"Object"),t("td",null,"{}"),t("td",null,"\u641C\u7D22\u6761\u4EF6")]),t("tr",null,[t("td",null,"queryForm"),t("td",null,"Object"),t("td",null,"{}"),t("td",null,"\u56FA\u5B9A\u67E5\u8BE2\u6761\u4EF6,\u4E0D\u4F1A\u88AB\u6E05\u7A7A\u91CD\u7F6E")]),t("tr",null,[t("td",null,"formData"),t("td",null,"Object"),t("td",null,"{}"),t("td",null,"\u8868\u5355\u6570\u636E")]),t("tr",null,[t("td",null,"mockData"),t("td",null,"Array"),t("td",null,"[]"),t("td",null,"\u6A21\u62DF\u6570\u636E")]),t("tr",null,[t("td",null,"mockCache"),t("td",null,"String"),t("td",null,'""'),t("td",null,"\u5C06\u5047\u6570\u636E\u5B58\u5728\u7F13\u5B58\u4E2D\u4F7F\u7528\u7684 key")]),t("tr",null,[t("td",null,"getDataList"),t("td",null,"Function"),t("td"),t("td",null,"\u83B7\u53D6\u6570\u636E\u5217\u8868\u65B9\u6CD5,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"handleSave"),t("td",null,"Function"),t("td"),t("td",null,"\u6570\u636E\u6DFB\u52A0\u65B9\u6CD5,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"handleUpdate"),t("td",null,"Function"),t("td"),t("td",null,"\u6570\u636E\u66F4\u65B0\u65B9\u6CD5,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"handleDel"),t("td",null,"Function"),t("td"),t("td",null,"\u5220\u9664\u884C\u65B9\u6CD5,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"batchDel"),t("td",null,"Function"),t("td"),t("td",null,"\u6279\u91CF\u5220\u9664\u65B9\u6CD5,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"searchChange"),t("td",null,"Function"),t("td"),t("td",null,"\u641C\u7D22\u56DE\u8C03,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"searchReset"),t("td",null,"Function"),t("td"),t("td",null,"\u641C\u7D22\u91CD\u7F6E\u56DE\u8C03,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"selectionChange"),t("td",null,"Function"),t("td"),t("td",null,"\u591A\u9009\u56DE\u8C03,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"pageSizeChange"),t("td",null,"Function"),t("td"),t("td",null,"\u5207\u6362\u6BCF\u9875\u6761\u6570\u56DE\u8C03,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"pageCurrentChange"),t("td",null,"Function"),t("td"),t("td",null,"\u5207\u6362\u5F53\u524D\u9875\u56DE\u8C03,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"sortChange"),t("td",null,"Function"),t("td"),t("td",null,"\u5207\u6362\u6392\u5E8F\u56DE\u8C03,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"beforeOpen"),t("td",null,"Function"),t("td"),t("td",null,"\u6253\u5F00\u8868\u5355\u5F39\u7A97\u524D,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")]),t("tr",null,[t("td",null,"beforeClose"),t("td",null,"Function"),t("td"),t("td",null,"\u5173\u95ED\u8868\u5355\u5F39\u7A97\u524D,\u4F20\u5165\u5219\u8986\u76D6\u5185\u90E8\u5B9E\u73B0")])])],-1),ne=ht("",10),oe=JSON.parse('{"title":"useCrud","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u57FA\u7840\u7528\u6CD5","slug":"\u57FA\u7840\u7528\u6CD5","link":"#\u57FA\u7840\u7528\u6CD5","children":[]},{"level":2,"title":"Options","slug":"options","link":"#options","children":[]},{"level":2,"title":"CrudOption","slug":"crudoption","link":"#crudoption","children":[]},{"level":2,"title":"PageOption","slug":"pageoption","link":"#pageoption","children":[]},{"level":2,"title":"Returns","slug":"returns","link":"#returns","children":[]}],"relativePath":"composables/use-crud/index.md"}'),se={name:"composables/use-crud/index.md"},re=Object.assign(se,{setup(e){return(n,a)=>(ut(),Rt("div",null,[Xt,Zt,Qt,Bt(Wt),te,ee,ne]))}});export{oe as __pageData,re as default};
