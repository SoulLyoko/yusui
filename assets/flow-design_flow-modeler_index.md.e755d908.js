import{d as U}from"./chunks/data.4cb21f02.js";import{h as C,p as j,G as F,i as h,C as v,D as y,I as m,u as E,r as f,V as q,U as N,d as W,e as R,_ as K,j as L,B as l,m as e,R as $}from"./chunks/framework.22a77fa2.js";import{u as k}from"./chunks/theme.1d56182c.js";const z=[{label:"",labelWidth:0,prop:"assignee",type:"dynamic",children:{rowKey:"type",addBtn:!0,column:[{label:"类型",prop:"type",type:"select",width:120,dicData:[{label:"用户",value:"user"},{label:"部门",value:"dept"},{label:"角色",value:"role"},{label:"岗位",value:"post"},{label:"指定节点",value:"userTask"},{label:"自定义",value:"custom"}]},{label:"值",prop:"value"}]},value:[]}],u=[{label:"节点id",prop:"id",readonly:!0},{label:"节点名称",prop:"name"},{label:"节点描述",prop:"desc"}],T=C({__name:"flow-text",setup(t){return(a,s)=>j(a.$attrs.modelValue)}}),J=[{label:"",labelWidth:0,prop:"button",value:[],type:"dynamic",children:{addBtn:!1,delBtn:!1,column:[{prop:"_index",hide:!0},{label:"按钮名",prop:"name",width:100,component:T},{label:"按钮值",prop:"buttonKey",width:100,component:T},{label:"显示条件",prop:"display",type:"select",dataType:"string",multiple:!0},{label:"审批窗口",prop:"approval",type:"select",dataType:"string",multiple:!0}]}}],H=[{label:"",labelWidth:0,prop:"circulate",type:"dynamic",children:{type:"form",index:!1,column:[{label:"名称",prop:"name",span:24},{label:"人员配置",prop:"assignee",type:"dynamic",span:24,children:{rowKey:"type",addBtn:!0,column:[{label:"类型",prop:"type",type:"select",width:120,dicData:[{label:"用户",value:"user"},{label:"部门",value:"dept"},{label:"角色",value:"role"},{label:"岗位",value:"post"},{label:"指定节点",value:"userTask"},{label:"自定义",value:"custom"}]},{label:"值",prop:"value"}]}}]},value:[]}],Q=C({__name:"flow-form-property",props:{modelValue:{}},setup(t){const a=t,{modelValue:s}=k(a),d={rowKey:"prop",menu:!1,defaultExpandAll:!0,addBtn:!1,refreshBtn:!1,columnBtn:!1,column:[{label:"字段",prop:"label"},{label:"属性",prop:"prop"},{label:"显示",prop:"display",width:40},{label:"禁用",prop:"disabled",width:40},{label:"详情",prop:"detail",width:40},{label:"只读",prop:"readonly",width:40},{label:"必填",prop:"required",width:40}]};return(r,c)=>{const p=F("el-checkbox"),_=F("avue-crud");return h(),v(_,{class:"hide-menu",data:E(s)||[],option:d},{display:y(({row:o})=>[m(p,{modelValue:o.display,"onUpdate:modelValue":n=>o.display=n},null,8,["modelValue","onUpdate:modelValue"])]),readonly:y(({row:o})=>[m(p,{modelValue:o.readonly,"onUpdate:modelValue":n=>o.readonly=n},null,8,["modelValue","onUpdate:modelValue"])]),disabled:y(({row:o})=>[m(p,{modelValue:o.disabled,"onUpdate:modelValue":n=>o.disabled=n},null,8,["modelValue","onUpdate:modelValue"])]),detail:y(({row:o})=>[m(p,{modelValue:o.detail,"onUpdate:modelValue":n=>o.detail=n},null,8,["modelValue","onUpdate:modelValue"])]),required:y(({row:o})=>[m(p,{modelValue:o.required,"onUpdate:modelValue":n=>o.required=n},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["data"])}}}),A=[{label:"",labelWidth:0,prop:"formProperty",component:Q,type:"dynamic",value:[]}],X=[{label:"网关类型",prop:"inout",type:"radio",button:!0,value:"in",dicData:[{label:"进",value:"in"},{label:"出",value:"out"}]},{label:"完成条件",prop:"completionCondition",type:"slider",showInput:!0,showInputControls:!1,labelPosition:"top",step:.01,max:1,value:0,labelTip:"任务完成的百分比，如2人接收，需同时完成才往下进行时=100%，只需1人完成时=50%",span:23,offset:1}],x=[{label:"多实例类型",prop:"multiInstanceType",tip:"选择后节点变更为多人任务",type:"select",dicData:[{label:"并行审批",value:"parallel",desc:"同时接收审批"},{label:"顺序审批",value:"sequential",desc:"按顺序审批"}]},{label:"完成条件",prop:"completionCondition",type:"slider",showInput:!0,showInputControls:!1,labelPosition:"top",step:.01,max:1,value:0,labelTip:"任务完成的百分比，如2人接收，需同时完成才往下进行时=100%，只需1人完成时=50%",span:23,offset:1},{label:"回收任务",prop:"isRecall",type:"switch",value:!1,labelTip:"满足完成条件时，该节点未审批任务是否回收，回收的任务仅保留记录，对应人员无需再办理"}],Y=[{label:"节点id",prop:"id",readonly:!0},{label:"节点描述",prop:"name",type:"textarea"}],O=Symbol("modelerState");function Cl(t){const a=k(t,void 0,{passive:!0}),{lf:s,modelValue:d,elementData:r,formOptions:c,formData:p,formOption:_,formDefaults:o,dataOptions:n}=a,B=f(!1),S=f(!1);function I(D){var g,V,G;const b=(g=r.value)==null?void 0:g.id;b&&((V=s.value)==null||V.setProperties(b,D)),b&&((G=s.value)==null||G.updateText(b,D.name))}const M=f(),w={lf:s,graphData:d,elementData:r,formRef:M,formData:p,formDefaults:o,formLoading:B,formOption:_,formOptions:c,editorVisible:S,dataOptions:n,onUpdateFormData:I,formOptionFormat:t.formOptionFormat??(D=>D),formDataFormat:t.formDataFormat??(D=>D)};return q(O,w),w}function Z(){return N(O)}const P=C({__name:"flow-node-select",props:{filterType:{},dic:{}},setup(t){const a=t,{lf:s}=Z(),d=W(()=>{var r;return(r=s.value)==null?void 0:r.graphModel.nodes.filter(c=>a.filterType?a.filterType.includes(c.type):!0).map(c=>({label:c.text.value,value:c.id}))});return(r,c)=>{const p=F("avue-select");return h(),v(p,{dic:d.value},null,8,["dic"])}}}),ll=[{label:"跳过第一节点",prop:"skipFirstNode",type:"switch",labelWidth:100,value:!0},{label:"默认驳回节点",prop:"rollbackNode",type:"select",labelWidth:100,component:P,params:{filterType:"userTask"}},{label:"优先级字段",prop:"priority",type:"select",filterable:!0,allowCreate:!0,defaultFirstOption:!0},{label:"表单标题",prop:"formTitle",separator:"-",type:"select",dataType:"string",multiple:!0,filterable:!0,allowCreate:!0,defaultFirstOption:!0},{label:"标题分隔符",prop:"formTitleSeparator",value:"-",control(t){return{formTitle:{separator:t}}}}],i=[{label:"",labelWidth:0,prop:"property",type:"dynamic",children:{column:[{label:"属性名",prop:"name"},{label:"属性值",prop:"value",type:"textarea",minRows:1}]},value:[]}],el=[{label:"条件表达式",prop:"conditionsequenceflow"},{label:"是否为默认分支",prop:"defaultConditions",labelWidth:120,type:"switch",value:!1}],ol=[{label:"",labelWidth:0,prop:"serial",component:"avue-form",option:{menuBtn:!1,span:24,column:[{label:"名称",prop:"name"},{label:"前缀",prop:"prefix"},{label:"日期格式",prop:"dateFormat"},{label:"后缀位数",prop:"suffixLength"},{label:"初始数值",prop:"startSequence"},{label:"连接符",prop:"connector"},{label:"重置周期",prop:"cycle",type:"select",dicData:[{label:"不重置",value:"none"},{label:"按天重置",value:"day"},{label:"按周重置",value:"week"},{label:"按月重置",value:"month"},{label:"按年重置",value:"year"}]}]}}],al=[{label:"类",prop:"className"},{label:"异步",prop:"isAsync",type:"switch",value:!1}],tl=[{label:"驳回节点",prop:"rollbackNode",type:"select",component:P,params:{filterType:"userTask"}},{label:"重新提交后回到驳回人",prop:"backToRejecter",type:"switch",value:!1}],hl=[{label:"基本配置",prop:"base",column:u}],sl={startEvent:[{label:"基本配置",prop:"baseGroup",column:u},{label:"表单配置",prop:"formPropertyGroup",collapse:!1,column:A},{label:"扩展属性",prop:"propertyGroup",collapse:!1,column:i}],endEvent:[{label:"基本配置",prop:"baseGroup",column:u},{label:"表单配置",prop:"formPropertyGroup",collapse:!1,column:A},{label:"扩展属性",prop:"propertyGroup",collapse:!1,column:i}],userTask:[{label:"基本配置",prop:"baseGroup",column:[...u,...tl]},{label:"人员配置",prop:"assigneeGroup",column:z},{label:"传阅配置",prop:"circulateGroup",collapse:!1,column:H},{label:"多实例配置",prop:"multiInstanceGroup",collapse:!1,column:x},{label:"按钮配置",prop:"buttonGroup",collapse:!1,column:J},{label:"表单配置",prop:"formPropertyGroup",collapse:!1,column:A},{label:"扩展属性",prop:"propertyGroup",collapse:!1,column:i}],serviceTask:[{label:"基本配置",prop:"baseGroup",column:u},{label:"服务配置",prop:"serviceGroup",column:al},{label:"扩展属性",prop:"propertyGroup",collapse:!1,column:i}],sequenceFlow:[{label:"基本配置",prop:"baseGroup",column:u},{label:"条件配置",prop:"sequenceFlowGroup",column:el},{label:"扩展属性",prop:"propertyGroup",collapse:!1,column:i}],parallelGateway:[{label:"基本配置",prop:"baseGroup",column:u},{label:"网关配置",prop:"baseGroup",column:X}],process:[{label:"流程配置",prop:"baseGroup",column:ll},{label:"流水号配置",prop:"serialGroup",column:ol},{label:"扩展属性",prop:"propertyGroup",collapse:!1,column:i}],group:[{label:"基本配置",prop:"baseGroup",column:u},{label:"多实例配置",prop:"multiInstanceGroup",collapse:!1,column:x},{label:"扩展属性",prop:"propertyGroup",collapse:!1,column:i}],note:[{label:"基本配置",prop:"baseGroup",column:Y}]},pl=C({__name:"demo",setup(t){const a=f(U());R(()=>{console.log("🚀 ~ file: demo.vue:14 ~ graphData",a)});const s=sl;return(d,r)=>{const c=F("FlowModeler");return h(),v(c,{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=p=>a.value=p),"form-options":E(s),class:"demo","form-width":"30%"},null,8,["modelValue","form-options"])}}});const nl=K(pl,[["__scopeId","data-v-9480b07f"]]),rl=l("h1",{id:"flowmodeler",tabindex:"-1"},[e("FlowModeler "),l("a",{class:"header-anchor",href:"#flowmodeler","aria-label":'Permalink to "FlowModeler"'},"​")],-1),cl=l("p",null,"FlowModeler",-1),dl=l("h2",{id:"基础用法",tabindex:"-1"},[e("基础用法 "),l("a",{class:"header-anchor",href:"#基础用法","aria-label":'Permalink to "基础用法"'},"​")],-1),ul=l("div",{class:"language-vue"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"},"vue"),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"script"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"setup"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"ts"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"ref"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"watchEffect"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"vue"),l("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"defaultGraphData"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"../constants"),l("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"defaultOptions"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"../options"),l("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," graphData "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#82AAFF"}},"ref"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#82AAFF"}},"defaultGraphData"),l("span",{style:{color:"#A6ACCD"}},"())")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#82AAFF"}},"watchEffect"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"()"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"=>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#A6ACCD"}},"console"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"log"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"🚀 ~ file: demo.vue:14 ~ graphData"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"graphData"),l("span",{style:{color:"#F07178"}},")")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," formOptions "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," defaultOptions")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"script"),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"template"),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"FlowModeler"),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"v-model"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"graphData"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},":form-options"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"formOptions"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"class"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"demo"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"form-width"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"30%"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}}," />")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"template"),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"}),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"style"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"scss"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"scoped"),l("span",{style:{color:"#89DDFF"}},">")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#FFCB6B"}},"demo"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#B2CCD6"}},"height"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"600px"),l("span",{style:{color:"#89DDFF"}},";")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"style"),l("span",{style:{color:"#89DDFF"}},">")])])])],-1),il=$('<h2 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-label="Permalink to &quot;属性&quot;">​</a></h2><table><thead><tr><th>属性名</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>lf(v-model)</td><td>LogicFlow 实例</td><td>LogicFlow</td><td></td><td></td></tr><tr><td>initOptions</td><td>LogicFlow 初始化配置</td><td>Object</td><td></td><td></td></tr><tr><td>modelValue(v-model)</td><td>流程图数据</td><td>Object</td><td></td><td></td></tr><tr><td>elementData(v-model)</td><td>当前选中的元素</td><td>NodeConfig|EdgeConfig</td><td></td><td></td></tr><tr><td>formData(v-model)</td><td>当前选中元素的表单数据</td><td>Object</td><td></td><td></td></tr><tr><td>formOptions</td><td>表单配置</td><td>Record&lt;string, AvueFormGroup[]&gt;</td><td></td><td></td></tr><tr><td>formWidth</td><td>表单宽度</td><td>string</td><td></td><td>300px</td></tr></tbody></table>',2),yl=JSON.parse('{"title":"FlowModeler","description":"","frontmatter":{"aside":false},"headers":[],"relativePath":"flow-design/flow-modeler/index.md","filePath":"flow-design/flow-modeler/index.md"}'),ml={name:"flow-design/flow-modeler/index.md"},Dl=Object.assign(ml,{setup(t){return(a,s)=>{const d=F("demo");return h(),L("div",null,[rl,cl,dl,m(d,null,{demo:y(()=>[m(nl)]),code:y(()=>[ul]),_:1}),il])}}}),_l=Object.freeze(Object.defineProperty({__proto__:null,__pageData:yl,default:Dl},Symbol.toStringTag,{value:"Module"}));export{_l as _,yl as __pageData,sl as a,z as b,u as c,hl as d,Dl as default,J as e,H as f,A as g,X as h,i,ol as j,al as k,tl as l,x as m,Y as n,ll as p,el as s,Cl as u};
