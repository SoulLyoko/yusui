import{g as A,h as L,z as N,$ as Ce,S as $e,d as R,J as V,o as T,b as E,c as I,N as _,w as D,K as M,a as F,l as b,B as J,L as j,E as ve,k as H,t as te,A as Oe,R as ye,a3 as K,n as le,O as Se,e as ne,a7 as he,at as _e,a5 as Le,D as Ee}from"./framework.a13ec59b.js";import{a as X,d as We,w as Re}from"./index.f1ae53c3.js";import{d as se,g as Ie,a as O,e as Pe,f as Ue,p as Ae,s as Me,h as re,_ as C,b as Q,i as q,k as ze,l as Be,m as je,n as He,o as Fe,q as Ne,r as qe,t as Ge,u as Ke,v as Je,w as Qe,x as Xe,y as Ye,z as Ze,A as et,B as tt,C as lt,D as ot,E as at,F as nt,G as de,H as ge,V as rt,c as pe,j as pt}from"./tree.cd48adcc.js";import{J as Bl,I as jl}from"./tree.cd48adcc.js";import"./index.013eb64a.js";import{_ as me,f as ut}from"./form.4aced252.js";import{c as U}from"./cloneDeep.0addb388.js";import{f as Ve,a as it,t as st}from"./index.bd45e23b.js";import{b as oe}from"./index.f777dd95.js";import{i as we}from"./isEqual.6a267b93.js";import{m as ae}from"./merge.df46fe1a.js";import{o as ct,a as dt}from"./omitBy.f9462f61.js";import{D as ke}from"./vuedraggable.umd.34b59ae3.js";import{E as mt}from"./index.vue_vue_type_script_setup_true_lang.63583ebd.js";import{u as bt}from"./Uint8Array.9b4f3e17.js";import{d as ft}from"./union.ecf82050.js";import{s as be}from"./set.9ca183df.js";import{g as vt}from"./get.6f01ef8d.js";import"./index.349087e2.js";import"./kebabCase.99797389.js";import"./createCompounder.39cbc467.js";import"./state-local.dd516420.js";import"./initCloneObject.bffa9b07.js";import"./getTag.bbaab4d0.js";import"./index.es.bd4305ee.js";import"./index.386fc70b.js";import"./config.47852ca1.js";import"./pick.4f46ce5c.js";import"./basePickBy.0a9df2e6.js";import"./index.eed65ae8.js";import"./pickBy.6b6b77a8.js";import"./vue.runtime.esm-bundler.45c8764c.js";const yt=Object.freeze(Object.defineProperty({__proto__:null,get array(){return ze},get cascader(){return Be},get checkbox(){return je},get color(){return Ct},get date(){return He},get daterange(){return Fe},get dates(){return Ne},get datetime(){return qe},get datetimerange(){return Ge},get dynamic(){return $t},get form(){return ut},get group(){return Ot},get icon(){return Ke},get img(){return Je},get input(){return St},get month(){return Qe},get monthrange(){return Xe},get number(){return Lt},get password(){return Et},get radio(){return Ye},get rate(){return Wt},get select(){return Ze},get slider(){return Rt},get switch(){return It},get table(){return Pt},get textarea(){return Ut},get time(){return et},get timerange(){return tt},get title(){return At},get tree(){return lt},get upload(){return Mt},get url(){return ot},get week(){return at},get year(){return nt}},Symbol.toStringTag,{value:"Module"}));function ht(l,a=[void 0,null],e=[]){if(typeof l!="object")return l;const t={};for(const n in l){const r=a.every(p=>l[n]!==p),s=e.every(p=>!n.includes(p));r&&s&&(t[n]=l[n])}return t}function ue(l,a=[void 0,null],e=[]){if(typeof l!="object")return l;if(Array.isArray(l))return l.map(n=>ue(n,a,e));const t={};for(const n in l)if(typeof l[n]=="object")t[n]=ue(l[n],a,e);else{const r=a.every(p=>l[n]!==p),s=e.every(p=>!n.includes(p));r&&s&&(t[n]=l[n])}return t}function ee(l){return l.map(a=>{var n;const e=U(a);let t=[];return e.name=e.name||e.component||e.type,e.id=e.id||se(e.name),e.name==="form"?t=ee([...e.column??[],...e.group??[]]):e.name==="group"?t=ee(e.column??[]):["dynamic","table"].includes(e.name)&&(t=ee(((n=e.children)==null?void 0:n.column)??[])),{name:e.name,id:e.id,isRoot:e.isRoot,props:e,children:t}})}function ie(l){return ee([{isRoot:!0,name:"form",id:se("form"),...l}])[0]}function Z(l){return l.map(a=>{var t,n,r;const e=U(a);if(e.props&&(e.props.prop=e.props.prop??e.id),e.name==="form"){const s=Z(((t=e.children)==null?void 0:t.filter(d=>d.name!=="group"))??[]),p=Z(((n=e.children)==null?void 0:n.filter(d=>d.name==="group"))??[]);return{...e.props,column:s.length?s:void 0,group:p.length?p:void 0}}if(e.name==="group"){const s=Z(e.children??[]);return{...e.props,column:s}}else if(["dynamic","table"].includes(e.name??"")){const s=Z(e.children??[]),p={...(r=e.props)==null?void 0:r.children,column:s};return{...e.props,children:p}}return{...e.props}})}function Te(l){return Z([l])[0]??{}}function ce(l,a){const{parentWhiteList:e,parentBlackList:t}=(l==null?void 0:l.rules)??{},{childWhiteList:n,childBlackList:r}=(a==null?void 0:a.rules)??{},s=[];if(e&&a){const p=e.includes((a==null?void 0:a.name)??"");s.push(p)}if(t&&a){const p=t.includes((a==null?void 0:a.name)??"");s.push(!p)}if(n){const p=n.includes((l==null?void 0:l.name)??"");s.push(p)}if(r){const p=r.includes((l==null?void 0:l.name)??"");s.push(!p)}return s.every(p=>p)}const xe=Symbol("form-design-state");function _t(l,a){const e=X(l),{modelValue:t}=e,n=A(()=>l.groupList||Ie),r=A(()=>ae(U({...yt}),l.resources)),s=A(()=>ae(g(Dt),g(l.baseOption))),p=A(()=>ae(g(Tt),g(l.advanceOption))),d=L({}),f=L({}),y=L({}),m=A(()=>{var x;return ct((x=d.value)==null?void 0:x.props,["column","group"])??{}}),o=L([]),u=L(0),v=L("design"),w=L("pc");N(t,x=>{we(d.value,ie(x||{}))||(d.value=ie(x||{}),Object.keys(f.value).length||$(),o.value.length||c("init"))},{immediate:!0,deep:!0}),N(d,()=>{t.value=Te(d.value)},{deep:!0});function S(x){if(x)return r.value[x]}function $(x){f.value=x??d.value??{}}function g(x){if(typeof x=="function"){const P={elementTree:d.value,activeElement:f.value};return U(x(P)??[])}else return U(x??[])}async function c(x){o.value.push({type:x,timestamp:Date.now(),active:U(f.value),tree:U(d.value),option:U(t.value??{})}),u.value=o.value.length-1}function i(x){const P=o.value.find((W,B)=>B===x);P&&(d.value=U(P.tree),f.value=U(P.active),u.value=x)}function h(){o.value=[],u.value=0,d.value={},f.value={},a("reset")}const k={groupList:n,resources:r,elementTree:d,activeElement:f,hoverElement:y,formOption:m,historyList:o,historyIndex:u,workType:v,deviceType:w,modelValue:t,baseOption:s,advanceOption:p,resolveSettings:g,setActiveElement:$,recordHistory:c,restoreHistory:i,resetHistory:h,getResource:S};return Ce(xe,k),k}function z(){return $e(xe)}const gt=R({__name:"property-select",props:{tableData:{},dic:{}},setup(l){const a=l,{elementTree:e,baseOption:t,resolveSettings:n,getResource:r}=z(),s=A(()=>{var f;const p=Ve([e.value],y=>{var m,o,u;return((m=y.props)==null?void 0:m.prop)===((u=(o=a.tableData)==null?void 0:o.row)==null?void 0:u.field)}),d=((f=r(p==null?void 0:p.name))==null?void 0:f.settings)??[];return[...t.value,...n(d)].filter(y=>y.prop).map(y=>({label:y.label,value:y.prop,desc:y.prop}))});return(p,d)=>{const f=V("avue-select");return T(),E(f,{dic:s.value,"allow-create":"",filterable:"","default-first-option":""},null,8,["dic"])}}}),Vt=R({__name:"index",props:{modelValue:{}},setup(l){const e=X(l),{modelValue:t}=e,{elementTree:n}=z(),r=L(!1),s=L([]);N(t,()=>{var f,y,m;if(!t.value){s.value=[];return}try{const u=((m=(y=(f=Pe(t.value,{ecmaVersion:"latest"}).body[0])==null?void 0:f.expression)==null?void 0:y.body)==null?void 0:m.properties)??[];u!=null&&u.length&&(s.value=u.map(v=>v.value.properties.map(w=>{const S=Ue(w.value);return{field:v.key.name,property:w.key.name,value:S}})).flat())}catch{}},{immediate:!0}),N(s,()=>{var m;if(!r.value)return;const y=`(val, form) => ({
    ${[...new Set((m=s.value)==null?void 0:m.map(o=>o.field))].map(o=>{var v;const u=(v=s.value)==null?void 0:v.filter(w=>w.field===o);return`${o}: { ${u==null?void 0:u.map(w=>`${w.property}: ${w.value}`).join(", ")} }`}).join(`,
    `)}
})`;t.value=y},{deep:!0});const p=A(()=>{var y;return it(((y=n.value)==null?void 0:y.children)??[]).map(m=>{const{label:o,prop:u}=m.props??{};return{label:o,value:u,desc:u}})}),d=A(()=>({column:[{label:"受控字段",prop:"field",type:"select",dicData:p.value,rules:{required:!0}},{label:"受控属性",prop:"property",component:gt,rules:{required:!0}},{label:"表达式/值",prop:"value",component:O,tooltip:!0,rules:{required:!0}}]}));return(f,y)=>{const m=V("el-button"),o=V("avue-dynamic"),u=V("el-dialog");return T(),I(M,null,[_(m,{onClick:y[0]||(y[0]=v=>r.value=!0)},{default:D(()=>[F(" 编辑代码 ")]),_:1}),_(u,{modelValue:r.value,"onUpdate:modelValue":y[3]||(y[3]=v=>r.value=v),title:"控制字段属性"},{default:D(()=>[_(o,{modelValue:s.value,"onUpdate:modelValue":y[1]||(y[1]=v=>s.value=v),children:d.value},null,8,["modelValue","children"]),F(" 代码： "),_(O,{modelValue:b(t),"onUpdate:modelValue":y[2]||(y[2]=v=>J(t)?t.value=v:null),"value-type":"function",height:"200px"},null,8,["modelValue"])]),_:1},8,["modelValue"])],64)}}}),Pl=R({__name:"index",props:{modelValue:{},setterType:{}},setup(l){const e=X(l),{modelValue:t}=e,n={column:[{label:"名称",prop:"label"},{label:"值",prop:"value"}]},r={props:{value:"id"},formOption:{column:[{label:"名称",prop:"label"},{label:"值",prop:"value"}]}},s=L({});function p(m,o){m(),setTimeout(()=>{(o==="add"||o==="parentAdd")&&(s.value.id=se())},100)}const d=(m,o,u)=>u(),f=(m,o,u)=>u(),y=(m,o)=>o();return(m,o)=>{const u=V("avue-tree"),v=V("avue-dynamic");return m.setterType=="tree"?(T(),E(u,{key:0,modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=w=>s.value=w),data:b(t),option:r,"before-open":p,onSave:d,onUpdate:f,onDel:y},null,8,["modelValue","data"])):(T(),E(v,{key:1,children:n,"model-value":b(t)||[],"onUpdate:modelValue":o[1]||(o[1]=w=>t.value=w)},null,8,["model-value"]))}}}),wt=R({__name:"index",props:{modelValue:{},tableData:{}},setup(l){const a=l,e=X(a),{modelValue:t}=e,n=L(!1),r=L({});N(t,()=>{var p,d;t.value&&(r.value=((d=(p=a.tableData)==null?void 0:p.row)==null?void 0:d.onLoadData)??{})},{immediate:!0}),N(r,()=>{var w;if(!n.value||!((w=a.tableData)!=null&&w.row)||(a.tableData.row.onLoadData=r.value,r.value.codeMode))return;const{url:p,method:d,isPage:f,currentPageKey:y,pageSizeKey:m,totalPath:o,dataPath:u}=r.value,v=`({ page, value, data }, callback) => {
    const params = page && ${f} ? { ${y}: page.currentPage, ${m}: page.pageSize } : {};
    this.$axios({ url: "${p}", method: "${d}", params }).then(res => {
        const data = this.getAsVal({ res }, "${u}");
        const total = this.getAsVal({ res }, "${o}");
        callback({ data, total });
    });
}`;t.value=v},{deep:!0});const s={span:24,menuBtn:!1,labelWidth:100,column:[{label:"请求地址",prop:"url"},{label:"请求方法",prop:"method",type:"radio",button:!0,value:"get",dicData:[{label:"GET",value:"get"},{label:"POST",value:"post"}]},{label:"是否分页",prop:"isPage",type:"switch",value:!0},{label:"当前页键名",prop:"currentPageKey",value:"current"},{label:"每页条数键名",prop:"pageSizeKey",value:"size"},{label:"总条数路径",prop:"totalPath",value:"res.data.total"},{label:"返回数据路径",prop:"dataPath",value:"res.data.records"},{label:"编辑代码模式",prop:"codeMode",type:"switch",value:!1,span:4,tip:"关闭时，代码根据以上参数自动生成。开启时，可自由编辑代码"}]};return(p,d)=>{const f=V("el-button"),y=V("avue-form"),m=V("el-dialog");return T(),I(M,null,[_(f,{onClick:d[0]||(d[0]=o=>n.value=!0)},{default:D(()=>[F(" 编辑代码 ")]),_:1}),_(m,{modelValue:n.value,"onUpdate:modelValue":d[3]||(d[3]=o=>n.value=o),title:"加载数据函数"},{default:D(()=>[_(y,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=o=>r.value=o),option:s},null,8,["modelValue"]),F(" 代码： "),_(O,{modelValue:b(t),"onUpdate:modelValue":d[2]||(d[2]=o=>J(t)?t.value=o:null),"value-type":"function",height:"200px",disabled:""},null,8,["modelValue"])]),_:1},8,["modelValue"])],64)}}}),kt=R({__name:"index",props:{modelValue:{}},setup(l){const e=X(l),{modelValue:t}=e,n=L(!1),r=L(-1),s=A({get(){var o;return((o=t.value)==null?void 0:o[r.value])??{}},set(o){if(t.value&&r.value!==-1){const u=ht(o,[void 0,null,""],["$"]);t.value[r.value]=u}}});async function p(){var o;!t.value&&(t.value=[]),await ve(),(o=t.value)==null||o.push({})}function d(o,u){r.value=u,n.value=!0}function f(o,u){var v;(v=t.value)==null||v.splice(u,1)}const y=[{label:"否",value:!1},{label:"是",value:!0}],m={menuBtn:!1,span:24,labelWidth:100,column:[{label:"触发方式",prop:"trigger",type:"select",dicData:[{label:"值变化",value:"change"},{label:"聚焦时",value:"focus"},{label:"失焦时",value:"blur"}]},{label:"值类型",prop:"type",type:"select",dicData:[{label:"字符串",value:"string"},{label:"数字",value:"number"},{label:"布尔值",value:"boolean"},{label:"整数",value:"integer"},{label:"浮点数",value:"float"},{label:"日期",value:"date"},{label:"URL地址",value:"url"},{label:"十六进制",value:"hex"},{label:"邮箱",value:"email"},{label:"任意类型",value:"any"}]},{label:"是否必填",prop:"required",type:"radio",button:!0,dicData:y},{label:"错误消息",prop:"message"},{label:"正则表达式",prop:"pattern",prepend:"/",append:"/"},{label:"最小",prop:"min",type:"number"},{label:"最大",prop:"max",type:"number"},{label:"长度",prop:"len",type:"number"},{label:"禁止空白符",prop:"whitespace",type:"radio",button:!0,dicData:y},{label:"自定义校验函数",prop:"validator",labelWidth:120,component:O,tooltip:!0,width:"400px",defaultValue:`(rule, value, callback, source, options) => {

}`}]};return(o,u)=>{const v=V("avue-form"),w=V("el-drawer");return T(),I(M,null,[(T(!0),I(M,null,j(b(t),(S,$)=>(T(),I("div",{key:$},[_(b(oe),{icon:"el-icon-setting",onClick:g=>d(S,$)},{default:D(()=>[F(" 配置规则 ")]),_:2},1032,["onClick"]),_(b(oe),{text:"",icon:"el-icon-delete",onClick:g=>f(S,$)},null,8,["onClick"])]))),128)),_(b(oe),{icon:"el-icon-plus",onClick:p},{default:D(()=>[F(" 添加规则 ")]),_:1}),_(w,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=S=>n.value=S),title:"配置规则","append-to-body":"","destroy-on-close":""},{default:D(()=>[_(v,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=S=>s.value=S),option:m},null,8,["modelValue"])]),_:1},8,["modelValue"])],64)}}}),Tt=[{label:"控制其它字段",prop:"control",component:Vt},{label:"值变化事件",prop:"change",component:O,tooltip:!0,defaultValue:"({ value, row }) => {}"},{label:"点击事件",prop:"click",component:O,tooltip:!0,defaultValue:"({ value, row  }) => {}"},{label:"获取焦点事件",prop:"focus",component:O,tooltip:!0,defaultValue:"({ value, row  }) => {}"},{label:"失去焦点事件",prop:"blur",component:O,tooltip:!0,defaultValue:"({ value, row  }) => {}"},{label:"其他属性",prop:"params",component:O,valueType:"object",tooltip:!0,defaultValue:"{}"},{label:"其他事件",prop:"event",component:O,valueType:"object",tooltip:!0,defaultValue:"{}"}],fe=[{label:"字段标识",prop:"prop"},{label:"标签标题",prop:"label"},{label:"标签宽度",prop:"labelWidth",component:me,types:["string","number"],defaultValueType:"number",step:10},{label:"标签位置",prop:"labelPosition",type:"radio",button:!0,dicData:Ae},{label:"组件尺寸",prop:"size",type:"radio",button:!0,dicData:Me},{label:"数据类型",prop:"dataType",type:"radio",button:!0,labelWidth:90,labelTip:'会将数据转换为对应选择的数据类型，如：[1,2,3]=>"1,2,3"',dicData:[{label:"字符",value:"string"},{label:"数字",value:"number"},{label:"数组",value:"array"}]},{label:"表单项栅格",prop:"span",type:"number",min:1,max:24},{label:"字段提示",prop:"tip"},{label:"字段提示位置",prop:"tipPlacement",type:"select",dicData:re},{label:"标签提示",prop:"labelTip"},{label:"标签提示位置",prop:"labelTipPlacement",type:"select",dicData:re},{label:"默认值",prop:"value",component:me},{label:"占位内容",prop:"placeholder"},{label:"是否可清空",prop:"clearable",component:C,defaultValue:!0},{label:"详情模式",prop:"detail",component:C,defaultValue:!1},{label:"是否只读",prop:"readonly",component:C,defaultValue:!1},{label:"是否禁用",prop:"disabled",component:C,defaultValue:!1},{label:"是否可见",prop:"display",component:C,defaultValue:!0},{label:"校验规则",prop:"rules",component:kt}],xt=[{labelWidth:0,type:"title",modelValue:"子表单/表格属性"},{label:"宽度",prop:"width",type:"number"},{label:"最小宽度",prop:"minWidth",type:"number"},{label:"固定列",prop:"fixed",type:"radio",button:!0,dicData:[{label:"左",value:"left"},{label:"右",value:"right"}]},{label:"超长省略",prop:"overHidden",component:C,defaultValue:!1},{label:"表头对齐方式",prop:"headerAlign",type:"radio",button:!0,dicData:Q},{label:"对齐方式",prop:"align",type:"radio",button:!0,dicData:Q},{label:"是否可搜索",prop:"search",component:C,defaultValue:!1},{label:"是否隐藏",prop:"hide",component:C,defaultValue:!1}],Dt=({elementTree:l,activeElement:a})=>{var n;const e=st([l],(r,s,p)=>({...r,parent:p})),t=Ve(e,r=>r.id===a.id);return((n=t==null?void 0:t.parent)==null?void 0:n.name)==="dynamic"?[...fe,...xt]:fe},Ct={name:"color",title:"颜色",icon:"el-icon-brush",group:"表单组件",props:{type:"color",label:"颜色"},settings:[{label:"支持透明度选择",prop:"showAlpha",component:C,defaultValue:!1,labelWidth:120},{label:"颜色格式",prop:"colorFormat",type:"select",dicData:[{label:"hsl",value:"hsl"},{label:"hsv",value:"hsv"},{label:"hex",value:"hex"},{label:"rgb",value:"rgb"}]},{label:"预定义颜色",prop:"predefine",type:"array"}]},$t={name:"dynamic",title:"子表单",icon:"el-icon-grid",group:"表单组件",isContainer:!0,rules:{parentWhiteList:["form","group"],childBlackList:["group","dynamic"]},designOption:l=>{const{label:a,prop:e}=l.props??{};return{column:[{label:a,prop:e,type:"text"}]}},props:{type:"dynamic",label:"子表单",children:{column:[]}},settings:[{prop:"children",labelWidth:0,component:"avue-form",option:{labelWidth:100,menuBtn:!1,span:24,column:[{label:"展示类型",prop:"type",type:"radio",button:!0,value:"crud",dicData:[{label:"表格",value:"crud"},{label:"表单",value:"form"}],control(l){const a=l==="form",e=l==="crud";return{showHeader:{display:e},stripe:{display:e},border:{display:e},headerAlign:{display:e},align:{display:e},span:{display:a}}}},{label:"显示新增按钮",prop:"addBtn",component:C,defaultValue:!0},{label:"显示删除按钮",prop:"delBtn",component:C,defaultValue:!0},{label:"显示序号",prop:"index",type:"switch",control(l,a){return a.type==="crud"&&typeof l=="boolean"&&(a.index=l?"":!1),{}}},{label:"显示表头",prop:"showHeader",component:C,defaultValue:!0},{label:"表格边框",prop:"border",component:C,defaultValue:!0},{label:"斑马纹",prop:"stripe",component:C,defaultValue:!1},{label:"表头对齐方式",prop:"headerAlign",type:"radio",button:!0,dicData:Q},{label:"对齐方式",prop:"align",type:"radio",button:!0,dicData:Q},{label:"表单项栅格",prop:"span",type:"number"},{label:"空数据文字",prop:"emptyText",type:"number"}]}}]},Ot={name:"group",title:"分组",icon:"el-icon-menu",group:"布局组件",isContainer:!0,rules:{parentWhiteList:["form"],childBlackList:["group"]},designOption:l=>{const{label:a,prop:e}=l.props??{};return{column:[{prop:e,labelWidth:0,type:"title",modelValue:a,styles:{fontWeight:500,fontSize:"16px"}}]}},props:{type:"group",label:"分组",column:[]},settings:[{label:"图标",prop:"icon",type:"icon",iconList:q},{label:"是否默认展开",prop:"collapse",component:C,defaultValue:!0},{label:"是否显示箭头",prop:"arrow",component:C,defaultValue:!0}]},St={name:"input",title:"输入框",icon:"el-icon-chat-dot-square",group:"表单组件",props:{type:"input",label:"输入框"},settings:[{label:"最大长度",prop:"maxlength",type:"number"},{label:"显示统计字数",prop:"showWordLimit",component:C,defaultValue:!1,tip:"仅在最大长度大于0时有效"},{label:"前缀文字",prop:"prepend"},{label:"后缀文字",prop:"append"},{label:"前缀图标",prop:"prefixIcon",type:"icon",iconList:q},{label:"后缀图标",prop:"suffixIcon",type:"icon",iconList:q},{label:"输入值格式化",prop:"formatter",component:O,valueType:"function",tooltip:!0,defaultValue:"(value) => value"},{label:"返回值格式化",prop:"parser",component:O,valueType:"function",tooltip:!0,defaultValue:"(value) => value"},{label:"输入框样式",prop:"inputStyle",component:O,valueType:"object",tooltip:!0,defaultValue:"{}"}]},Lt={name:"number",title:"数字输入框",icon:"el-icon-more",group:"表单组件",props:{type:"number",label:"数字输入框"},settings:[{label:"最小值",prop:"min",type:"number"},{label:"最大值",prop:"max",type:"number"},{label:"计数器步长",prop:"step",type:"number"},{label:"只能输入步长倍数",prop:"stepStrictly",component:C,defaultValue:!1,labelWidth:130},{label:"数值精度",prop:"precision",type:"number"},{label:"是否使用控制按钮",prop:"controls",type:"switch",value:!0,labelWidth:130,control(l){return{controlsPosition:{display:!!l}}}},{label:"控制按钮位置",prop:"controlsPosition",type:"radio",button:!0,dicData:[{label:"两边",value:"default"},{label:"右",value:"right"}]},{label:"清空时显示值",prop:"valueOnClear",type:"select",filterable:!0,allowCreate:!0,defaultFirstOption:!0,dicData:[{label:"最小值",value:"min"},{label:"最大值",value:"max"}],control(l,a){return l&&!["min","max"].includes(l)&&(a.valueOnClear=Number(l)),{}}}]},Et={name:"password",title:"密码输入框",icon:"el-icon-lock",group:"表单组件",props:{type:"password",label:"密码输入框"},settings:[{label:"最大长度",prop:"maxlength",type:"number"},{label:"前缀图标",prop:"prefixIcon",type:"icon",iconList:q},{label:"后缀图标",prop:"suffixIcon",type:"icon",iconList:q},{label:"是否显示切换密码",prop:"showPassword",component:C,defaultValue:!1,labelWidth:130}]},Wt={name:"rate",title:"评分",icon:"el-icon-star",group:"表单组件",props:{type:"rate",label:"评分"},settings:[{label:"是否允许半选",prop:"allowHalf",component:C,defaultValue:!1},{label:"最大分值",prop:"max",type:"number",modelValue:5},{label:"低分界限值",prop:"lowThreshold",type:"number",modelValue:2,labelTip:"低分和中等分数的界限值，值本身被划分在低分中"},{label:"高分界限值",prop:"highThreshold",type:"number",modelValue:4,labelTip:"高分和中等分数的界限值，值本身被划分在高分中"},{label:"颜色数组",prop:"colors",component:O,valueType:"object",tooltip:!0,defaultValue:"{}",labelTip:"若传入数组，共有 3 个元素，为 3 个分段所对应的颜色；若传入对象，可自定义分段，键名为分段的界限值，键值为对应的颜色"},{label:"未选中颜色",prop:"voidColor",type:"color"},{label:"未选颜色(禁用)",prop:"disabledVoidColor",type:"color",labelWidth:110},{label:"图标数组",prop:"icons",component:O,valueType:"object",tooltip:!0,defaultValue:"{}",labelTip:"若传入数组，则需要传入 3 个元素，分别为 3 个部分所对应的图标；若传入对象，则可自定义分段，键名为分段的界限值，键值为对应的图标"},{label:"未选中图标",prop:"voidIcon",type:"icon",iconList:q},{label:"未选图标(禁用)",prop:"disabledVoidIcon",type:"icon",iconList:q,labelWidth:110},{label:"显示辅助文字",prop:"showText",component:C,defaultValue:!1,labelWidth:120,labelTip:"是否显示辅助文字，若为是，则会从 辅助文字数组 中选取当前分数对应的文字内容"},{label:"显示当前分数",prop:"showScore",component:C,defaultValue:!1,labelWidth:120,labelTip:"是否显示当前分数，当前分数 和 辅助文字 不能同时显示"},{label:"辅助文字数组",prop:"texts",type:"array"},{label:"分数显示模板",prop:"scoreTemplate"}]},Rt={name:"slider",title:"滑块",icon:"el-icon-operation",group:"表单组件",props:{type:"slider",label:"滑块"},settings:[{label:"最小值",prop:"min",type:"number"},{label:"最大值",prop:"max",type:"number"},{label:"步长",prop:"step",type:"number"},{label:"显示输入框",prop:"showInput",component:C,defaultValue:!1},{label:"输入控制按钮",prop:"showInputControls",component:C,defaultValue:!0},{label:"显示间断点",prop:"showStops",component:C,defaultValue:!1},{label:"显示提示信息",prop:"showTooltip",component:C,defaultValue:!0},{label:"提示信息类名",prop:"tooltipClase"},{label:"提示信息位置",prop:"placement",type:"select",dicData:re},{label:"格式化提示",prop:"formatTooltip",component:O,valueType:"function",tooltip:!0,defaultValue:"(value) => value"},{label:"开启选择范围",prop:"range",component:C,defaultValue:!1},{label:"垂直模式",prop:"vertical",component:C,defaultValue:!1},{label:"滑块高度",prop:"height",type:"number",labelTip:"垂直模式必填"},{label:"标记",prop:"marks",component:O,valueType:"object",tooltip:!0,defaultValue:"{}",labelTip:"标记， key 的类型必须为 number 且取值在闭区间 [min, max] 内，每个标记可以单独设置样式"}]},It={name:"switch",title:"开关",icon:"el-icon-switch",group:"表单组件",props:{type:"switch",label:"开关"},settings:[{label:"开关数据",prop:"dicData",type:"dynamic",labelPosition:"top",children:{column:[{label:"_index",prop:"_index",hide:!0},{label:"文字",prop:"label"},{label:"值",prop:"value",type:"select",filterable:!0,allowCreate:!0,defaultFirstOption:!0,dicData:[{label:"true",value:!0},{label:"false",value:!1}]}]},value:[{label:"",value:!1},{label:"",value:!0}]},{label:"开关宽度",prop:"len"},{label:"开启时背景色",prop:"activeColor",type:"color"},{label:"关闭时背景色",prop:"inactiveColor",type:"color"}]},Pt={name:"table",title:"表格选择",icon:"el-icon-grid",group:"表单组件",isContainer:!0,props:{type:"table",label:"表格选择",children:{column:[]}},settings:[{label:"显示表头",prop:"showHeader",component:C,defaultValue:!0},{label:"斑马纹",prop:"stripe",component:C,defaultValue:!1},{label:"表格边框",prop:"border",component:C,defaultValue:!1},{label:"表头对齐方式",prop:"headerAlign",type:"radio",button:!0,dicData:Q},{label:"整体对齐方式",prop:"align",type:"radio",button:!0,dicData:Q},{label:"显示序号",prop:"index",type:"switch"},{label:"键值配置",prop:"props",component:O,valueType:"object",tooltip:!0,value:{label:"name",value:"id"}},{label:"格式化函数",prop:"formatter",component:O,valueType:"function",tooltip:!0,defaultValue:"(row) => row.name"},{label:"加载数据函数",prop:"onLoad",component:wt}]},Ut={name:"textarea",title:"文本域",icon:"el-icon-chat-line-square",group:"表单组件",props:{type:"textarea",label:"文本域"},settings:[{label:"最小行数",prop:"minRows",type:"number"},{label:"最大行数",prop:"maxRows",type:"number"},{label:"最大长度",prop:"maxlength",type:"number"},{label:"显示统计字数",prop:"showWordLimit",component:C,defaultValue:!1,tip:"仅在最大长度大于0时有效"},{label:"是否能被缩放",prop:"resize",type:"select",dicData:[{label:"不可缩放",value:"none"},{label:"可水平缩放",value:"horizontal"},{label:"可垂直缩放",value:"vertical"},{label:"可自由缩放",value:"both"}]},{label:"输入框样式",prop:"inputStyle",component:O,valueType:"object",tooltip:!0,defaultValue:"{}"}]},At={name:"title",title:"标题",icon:"el-icon-minus",group:"布局组件",props:{type:"title",labelWidth:0},settings:[{label:"标题内容",prop:"modelValue",type:"textarea",labelPosition:"top",value:"标题"},{label:"样式",prop:"styles",component:O,valueType:"object",tooltip:!0,value:{textAlign:"center"}}]},Mt={name:"upload",title:"上传",icon:"el-icon-upload",group:"表单组件",props:{type:"upload",label:"上传"},settings:[{label:"上传地址",prop:"action"},{label:"请求头",prop:"headers",component:O,valueType:"object",tooltip:!0,defaultValue:"{}"},{label:"请求方法",prop:"method",type:"radio",button:!0,dicData:[{label:"POST",value:"post"},{label:"GET",value:"get"}]},{label:"是否支持多选",prop:"multiple",component:C,defaultValue:!1},{label:"额外参数",prop:"data",component:O,valueType:"object",tooltip:!0,defaultValue:"{}"},{label:"显示文件列表",prop:"showFileList",component:C,defaultValue:!0},{label:"拖拽排序",prop:"drag",component:C,defaultValue:!1},{label:"拖拽上传",prop:"dragFile",component:C,defaultValue:!1},{label:"接受上传类型",prop:"accept"},{label:"文件列表类型",prop:"listType",type:"select",dicData:[{label:"文本",value:"text"},{label:"图片",value:"picture"},{label:"图片卡片",value:"picture-card"},{label:"图片图片",value:"picture-img"}]},{label:"最大上传数量",prop:"limit",type:"number"},{label:"最大上传大小",prop:"fileSize",type:"number"},{label:"上传按钮文字",prop:"fileText"},{label:"上传等待文字",prop:"loadText"},{label:"上传请求配置",prop:"propsHttp",component:O,valueType:"object",tooltip:!0,defaultValue:`{
  home: "",
  res: "",
  url: "",
  name: "",
  fileName: "file"
}`},{label:"图片水印配置",prop:"canvasOption",component:O,valueType:"object",tooltip:!0,defaultValue:`{
  text: "",
  fontFamily: "microsoft yahei",
  color: "#999",
  fontSize: 16,
  opacity: 100,
  bottom: 10,
  right: 10,
  ratio: 1
}`}]},zt={class:"resource-list"},Bt={class:"resource-item"},jt=R({__name:"resource",setup(l){const{groupList:a,resources:e,elementTree:t,workType:n,setActiveElement:r,recordHistory:s,getResource:p}=z(),d=L(""),f=A(()=>{const o=Object.values(e.value).filter(u=>{const{name:v,title:w,keywords:S}=u,$=[v,w,S].filter(g=>g).join(",");return!u.disabled&&($==null?void 0:$.includes(d.value))});return a.value.map(u=>({label:u,children:o.filter(v=>v.group===u).map((v,w)=>({...v,priority:v.priority??w})).sort((v,w)=>v.priority-w.priority)})).filter(u=>u.children.length)});function y(o){var v,w;if(n.value!=="design")return;const u=de(o);(w=(v=t.value)==null?void 0:v.children)==null||w.push(u),r(u),s("added")}function m({draggedContext:o,relatedContext:u}){var v;return ce(p(o.element.name),p((v=u.component.componentData)==null?void 0:v.name))}return(o,u)=>{const v=V("el-input"),w=V("el-button"),S=V("el-collapse-item"),$=V("el-collapse");return T(),I("div",zt,[_(v,{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=g=>d.value=g),"suffix-icon":"el-icon-search",placeholder:"搜索组件"},null,8,["modelValue"]),_($,{"model-value":f.value.map(g=>g.label)},{default:D(()=>[(T(!0),I(M,null,j(f.value,g=>(T(),E(S,{key:g.label,title:g.label,name:g.label},{default:D(()=>[_(b(ke),{list:g.children,group:{name:"components",pull:"clone",put:!1},clone:b(de),sort:!1,"item-key":"name",move:m},{item:D(({element:c})=>[H("div",Bt,[_(w,{icon:c.icon,onClick:i=>y(c)},{default:D(()=>[F(te(c.title),1)]),_:2},1032,["icon","onClick"])])]),_:2},1032,["list","clone"])]),_:2},1032,["title","name"]))),128))]),_:1},8,["model-value"])])}}}),Ht=["onMouseover"],Ft={class:"item-label"},Nt={class:"item-actions"},qt=R({__name:"tree",setup(l){const{elementTree:a,activeElement:e,hoverElement:t,setActiveElement:n,recordHistory:r,getResource:s}=z(),p=A(()=>[U(a.value)]);function d(c,i,h){return i.data.isRoot?!1:h==="inner"?ce(s(c.data.name),s(i.data.name)):!0}const f=L();Oe(()=>{var c,i;(i=f.value)==null||i.setCurrentKey((c=e.value)==null?void 0:c.id)});function y(c){n(c)}function m(){a.value=p.value[0]}function o(c){var h;const i=ge(c.data);(h=f.value)==null||h.append(i,c.parent),m(),n(i),r("added")}function u(c){var i;(i=f.value)==null||i.remove(c),m(),n(),r("removed")}function v(c){var i;(i=c.data.children)!=null&&i.length&&(c.data.children.forEach(h=>{var k;return(k=f.value)==null?void 0:k.remove(h)}),m(),n(c.data),r("clear"))}function w(){m(),r("moved")}const S=[{name:"copy",type:"primary",icon:"el-icon-copy-document",handler:o},{name:"delete",type:"danger",icon:"el-icon-delete",handler:u},{name:"clear",type:"warning",icon:"el-icon-folder-delete",handler:v}];function $(c){return S.filter(i=>g(c,i.name))}function g(c,i){const{disabledActions:h,isContainer:k}=s(c.name)??{},x=!(h!=null&&h.includes(i));return i==="clear"?k&&x:x}return(c,i)=>{const h=V("el-link");return T(),E(b(mt),{ref_key:"treeRef",ref:f,class:"component-tree","node-key":"id",data:p.value,"default-expand-all":"",draggable:"","expand-on-click-node":!1,"allow-drop":d,onNodeClick:y,onNodeDrop:w},{default:D(({node:k,data:x})=>{var P,W;return[H("div",{class:"tree-item",onMouseover:B=>t.value=x||{},onMouseleave:i[0]||(i[0]=B=>t.value={})},[H("div",Ft,te(((P=x.props)==null?void 0:P.label)||((W=b(s)(x.name))==null?void 0:W.title)),1),H("div",Nt,[(T(!0),I(M,null,j($(x),B=>(T(),E(h,ye({key:B.name,underline:!1},B,{onClick:K(G=>B.handler(k),["stop"])}),null,16,["onClick"]))),128))])],40,Ht)]}),_:1},8,["data"])}}}),Gt={init:"初始化",added:"添加组件",moved:"移动组件",removed:"删除组件",property:"修改属性",clear:"清空子组件"},Ul={copy:"复制",delete:"删除",clear:"清空"},Kt={class:"history-list"},Jt=["onClick"],Qt=R({__name:"history",setup(l){const{historyList:a,historyIndex:e,restoreHistory:t}=z(),n=We("history-show-source",!1),r={renderValidationDecorations:"off",readOnly:!0},s=A(()=>document.documentElement.className.includes("dark")?"vs-dark":"light");return(p,d)=>{const f=V("el-switch"),y=V("el-tooltip");return T(),I("div",Kt,[F(" 显示源码："),_(f,{modelValue:b(n),"onUpdate:modelValue":d[0]||(d[0]=m=>J(n)?n.value=m:null)},null,8,["modelValue"]),(T(!0),I(M,null,j(b(a),(m,o)=>(T(),E(y,{key:m.timestamp,disabled:!b(n),effect:"light",placement:"right"},{content:D(()=>[_(b(rt),{original:b(pe)(b(a)[o-1]),modified:b(pe)(m),theme:s.value,options:r,language:"javascript",width:"800px",height:"600px"},null,8,["original","modified","theme"])]),default:D(()=>[H("div",{class:le(["history-item",{"is-active":o===b(e)}]),onClick:u=>b(t)(o)},[H("span",null,te(b(Gt)[m.type]),1),H("span",null,te(new Date(m.timestamp).toLocaleString()),1)],10,Jt)]),_:2},1032,["disabled"]))),128))])}}}),Xt=R({__name:"index",setup(l){const a=[{title:"组件",icon:"el-icon-menu",component:jt},{title:"大纲",icon:"el-icon-operation",component:qt},{title:"历史",icon:"el-icon-clock",component:Qt}];return(e,t)=>{const n=V("el-link"),r=V("el-tab-pane"),s=V("el-tabs");return T(),E(s,{"tab-position":"top",stretch:""},{default:D(()=>[(T(),I(M,null,j(a,p=>_(r,{key:p.title},{label:D(()=>[_(n,{title:p.title,icon:p.icon,underline:!1,style:{color:"inherit"}},null,8,["title","icon"])]),default:D(()=>[(T(),E(Se(p.component)))]),_:2},1024)),64))]),_:1})}}}),Yt={class:"item-actions"},De=R({__name:"design",props:{list:{},componentData:{}},emits:["update:active","update:list"],setup(l,{emit:a}){const e=l,{list:t}=X(e,a,{passive:!0,deep:!0}),{activeElement:n,hoverElement:r,formOption:s,setActiveElement:p,recordHistory:d,getResource:f}=z();function y(i){const h={...U(s.value),span:24,menuBtn:!1},{designOption:k}=f(i.name)??{};if(typeof k=="object")return{...h,...k};if(typeof k=="function")return{...h,...k(i)};{const x=[];return i.props&&x.push({...dt(i.props,bt),span:24}),{...h,column:x}}}function m(i){var h,k;return(h=f(i.name))!=null&&h.isContainer?24:((k=i.props)==null?void 0:k.span)||s.value.span||24}function o(i){var k;const h=Object.keys(i)[0];h&&(p((k=i[h])==null?void 0:k.element),d(h))}function u(i){const h=ge(i);t.value.push(h),p(h),d("added")}function v(i,h){t.value.splice(h,1),p(t.value[h]??t.value[h-1]),d("removed")}function w(i){var h;(h=i.children)!=null&&h.length&&(i.children=[],p(i),d("clear"))}function S({draggedContext:i,relatedContext:h}){var k;return ce(f(i.element.name),f((k=h.component.componentData)==null?void 0:k.name))}const $=[{name:"copy",type:"primary",icon:"el-icon-copy-document",handler:u},{name:"delete",type:"danger",icon:"el-icon-delete",handler:v},{name:"clear",type:"warning",icon:"el-icon-folder-delete",handler:w}];function g(i){return $.filter(h=>c(i,h.name))}function c(i,h){const{disabledActions:k,isContainer:x}=f(i.name)??{},P=!(k!=null&&k.includes(h));return h==="clear"?x&&P:P}return(i,h)=>{const k=V("avue-form"),x=V("el-button"),P=V("el-col");return T(),E(b(ke),{list:b(t),class:le(["el-row draggable-list",{"is-empty":!b(t).length,"is-root":i.componentData.isRoot}]),group:{name:"components"},"component-data":i.componentData,"item-key":"id",move:S,onChange:o},{item:D(({element:W,index:B})=>[_(P,{class:le(["draggable-item",{"is-active":b(n).id===W.id,"is-hover":b(r).name&&b(r).id===W.id}]),span:m(W),onClick:K(G=>b(p)(W),["stop"]),onMouseover:K(G=>r.value=W||{},["stop"]),onMouseleave:h[0]||(h[0]=K(G=>r.value={},["stop"]))},{default:D(()=>{var G;return[W.name!=="form"?(T(),E(k,{key:0,option:y(W)},null,8,["option"])):ne("",!0),(G=b(f)(W.name))!=null&&G.isContainer?(T(),E(De,{key:1,class:"is-container","component-data":W,list:W.children??[],"onUpdate:list":Y=>W.children=Y},null,8,["component-data","list","onUpdate:list"])):ne("",!0),he(H("div",Yt,[(T(!0),I(M,null,j(g(W),Y=>(T(),E(x,ye({key:Y.name},Y,{circle:"",plain:"",onClick:K(al=>Y.handler(W,B),["stop"])}),null,16,["onClick"]))),128))],512),[[_e,b(n).id===W.id]])]}),_:2},1032,["class","span","onClick","onMouseover"])]),_:1},8,["list","class","component-data"])}}}),Zt=R({setup(){const{proxy:l}=Ee(),{modelValue:a}=z(),e=L({}),t=L({}),n=A(()=>pt.bind(l)(pe(a.value))),r=L();return{form:e,defaults:t,option:n,formRef:r}},render(){return Le(V("avue-form"),{ref:"formRef",modelValue:this.form,option:this.option,defaults:this.defaults,"onUpdate:modelValue":l=>this.form=l,"onUpdate:defaults":l=>this.defaults=l})}}),el=R({__name:"source",setup(l){const{modelValue:a,setActiveElement:e}=z();return(t,n)=>(T(),E(b(O),{modelValue:b(a),"onUpdate:modelValue":[n[0]||(n[0]=r=>J(a)?a.value=r:null),n[1]||(n[1]=r=>b(e)())],"value-type":"object"},null,8,["modelValue"]))}}),tl=R({__name:"index",setup(l){const{elementTree:a,workType:e,setActiveElement:t}=z();return(n,r)=>b(e)==="preview"?(T(),E(Zt,{key:0})):b(e)==="source"?(T(),E(el,{key:1})):(T(),E(De,{key:2,"component-data":b(a),list:b(a).children??[],"onUpdate:list":r[0]||(r[0]=s=>b(a).children=s),onClick:r[1]||(r[1]=K(s=>b(t)(),["stop"]))},null,8,["component-data","list"]))}}),ll=R({__name:"index",setup(l){const a=z(),{elementTree:e,activeElement:t,baseOption:n,advanceOption:r,resolveSettings:s,recordHistory:p,getResource:d}=a,f=L(!1),y=L(""),m=L([]),o=L({}),u=L(0),v={labelPosition:"left",labelWidth:100,menuBtn:!1,span:24};N(()=>t.value.id,async()=>{f.value=!0,u.value=0,await ve();const{settings:$,disabledSettings:g}=d(t.value.name)??{},c={...v,label:"基础",prop:"base",column:n.value},i={...v,label:"高级",prop:"advance",column:r.value},h={...v,label:"属性",prop:"component",column:s($)};m.value=[c,h,i].filter(k=>!(g!=null&&g.includes(k.prop))),y.value=m.value[0].prop,o.value=U(t.value.props),f.value=!1},{immediate:!0});const w=ft(()=>p("property"),1e3);Re(o,$=>{const g=ue($,[void 0,null,""],["$"]);if(t.value.isRoot)be(e.value,"props",g);else{const c=S(e.value,t.value.id)??[];c.length&&!we(g,vt(e.value,c.concat("props")))&&be(e.value,c.concat("props"),g)}u.value&&w(),u.value++},{deep:!0,debounce:100});function S($,g){if($.id===g)return[];if($.children)for(const c in $.children){const i=S($.children[c],g);if(i)return["children",c].concat(i)}}return($,g)=>{const c=V("avue-form"),i=V("el-tab-pane"),h=V("el-tabs");return T(),E(h,{modelValue:y.value,"onUpdate:modelValue":g[1]||(g[1]=k=>y.value=k)},{default:D(()=>[(T(!0),I(M,null,j(m.value,k=>(T(),E(i,{key:k.label,label:k.label,name:k.prop},{default:D(()=>[f.value?ne("",!0):(T(),E(c,{key:0,modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=x=>o.value=x),class:"settings-form",option:k},null,8,["modelValue","option"]))]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])}}}),ol=R({__name:"index",setup(l){const{elementTree:a,workType:e,deviceType:t,historyList:n,historyIndex:r,restoreHistory:s,resetHistory:p}=z(),d=[{label:"PC端",value:"pc",icon:"el-icon-monitor"},{label:"移动端",value:"mobile",icon:"el-icon-cellphone"}],f=[{label:"设计",value:"design",icon:"el-icon-brush"},{label:"源码",value:"source",icon:"el-icon-more"},{label:"预览",value:"preview",icon:"el-icon-view"}];return(y,m)=>{const o=V("el-button"),u=V("el-button-group"),v=V("el-col"),w=V("el-link"),S=V("el-radio-button"),$=V("el-radio-group"),g=V("el-row");return T(),E(g,{gutter:20},{default:D(()=>[_(v,{span:8,style:{"align-self":"center"}},{default:D(()=>[_(u,{size:"small"},{default:D(()=>{var c;return[_(o,{disabled:b(r)===0,title:"撤回",icon:"el-icon-arrow-left",onClick:m[0]||(m[0]=i=>b(s)(b(r)-1))},null,8,["disabled"]),_(o,{disabled:b(r)===b(n).length-1,title:"重做",icon:"el-icon-arrow-right",onClick:m[1]||(m[1]=i=>b(s)(b(r)+1))},null,8,["disabled"]),_(o,{disabled:!((c=b(a).children)!=null&&c.length),title:"清空",icon:"el-icon-delete",onClick:m[2]||(m[2]=i=>b(p)())},null,8,["disabled"])]}),_:1})]),_:1}),_(v,{span:8,style:{"text-align":"center"}},{default:D(()=>[_($,{modelValue:b(t),"onUpdate:modelValue":m[3]||(m[3]=c=>J(t)?t.value=c:null),size:"small",style:{"font-size":"unset"}},{default:D(()=>[(T(),I(M,null,j(d,c=>_(S,{key:c.value,label:c.value},{default:D(()=>[_(w,{title:c.label,icon:c.icon,underline:!1,style:{color:"inherit"},onClick:i=>t.value=c.value},null,8,["title","icon","onClick"])]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),_(v,{span:8,style:{"text-align":"right"}},{default:D(()=>[_($,{modelValue:b(e),"onUpdate:modelValue":m[4]||(m[4]=c=>J(e)?e.value=c:null),size:"small",style:{"font-size":"unset"}},{default:D(()=>[(T(),I(M,null,j(f,c=>_(S,{key:c.value,label:c.value},{default:D(()=>[_(w,{title:c.label,icon:c.icon,underline:!1,style:{color:"inherit"},onClick:i=>e.value=c.value},null,8,["title","icon","onClick"])]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})}}}),Al=R({__name:"index",props:{modelValue:{},groupList:{},resources:{},baseOption:{},advanceOption:{},leftWidth:{},rightWidth:{},adapterIn:{type:Function,default:ie},adapterOut:{type:Function,default:Te}},emits:["reset"],setup(l,{emit:a}){const e=l,{workType:t,deviceType:n}=_t(e,a);return(r,s)=>{const p=V("el-aside"),d=V("el-header"),f=V("el-main"),y=V("el-container");return T(),E(y,{class:"form-design"},{default:D(()=>[_(p,{class:"left-panel",width:r.leftWidth},{default:D(()=>[_(Xt)]),_:1},8,["width"]),_(y,null,{default:D(()=>[_(d,{class:"main-header",height:"auto"},{default:D(()=>[_(ol)]),_:1}),_(f,{class:"main-workspace"},{default:D(()=>[_(tl,{class:le(`device-${b(n)}`)},null,8,["class"])]),_:1})]),_:1}),he(_(p,{class:"right-panel",width:r.rightWidth},{default:D(()=>[_(ll)]),_:1},8,["width"]),[[_e,b(t)=="design"]])]),_:1})}}});export{Vt as ControlSetter,Ul as DesignActionMap,Pl as DicDataSetter,Bl as DicTreeSetter,O as EditorSetter,Al as FormDesign,Gt as HistoryTypeMap,wt as OnLoadSetter,kt as RulesSetter,C as SwitchSetter,me as ValueSetter,ie as adapterIn,Te as adapterOut,Tt as advance,Q as alignDic,ze as array,Dt as base,Be as cascader,ce as checkRules,je as checkbox,de as cloneItem,Ct as color,ge as copyItem,He as date,Fe as daterange,Ne as dates,qe as datetime,Ge as datetimerange,jl as dic,$t as dynamic,ut as form,se as getRandomId,Ot as group,Ie as groupList,Ke as icon,q as iconList,Je as img,St as input,pt as jsonParse,pe as jsonStringify,Qe as month,Xe as monthrange,Lt as number,Et as password,re as placementDic,Ae as positionDic,Ye as radio,Wt as rate,Ze as select,Me as sizeDic,Rt as slider,It as switch,Pt as table,Ut as textarea,et as time,tt as timerange,At as title,lt as tree,Mt as upload,ot as url,at as week,nt as year};
