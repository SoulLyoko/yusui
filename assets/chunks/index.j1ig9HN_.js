import{u as P}from"./index.es.NPg-IaLe.js";import"./index.o5MRxqVR.js";import{s as A}from"./index.uIvVZULY.js";import{f as q,a as Q}from"./index.qJIJBhna.js";import{u as U}from"./config.hjVk2HJ-.js";import{g as R}from"./get.ibBWnMyK.js";import{g as v,m as T,y as V}from"./framework.9dEYo5Bo.js";const j={label:"label",value:"value",children:"children",disabled:"disabled",res:"data"};function w(e){return{...j,...e}}function u(e){return typeof e=="function"?e():T(e)}function L(e={}){const p=U(e),a=w(e.props),{dicUrl:c,dicQuery:l}=e,y=c?c+(l?`?${A(l)}`:""):void 0,d=P(g,{cacheKey:y}),{data:n,mutate:D}=d;function g(){const{request:r}=p,{dicQuery:t={},dicHeaders:s={},dicFormatter:o,dicMethod:b="get",dicUrl:m}=e;return e.dicData?(V(()=>e.dicData,()=>D(u(e.dicData)),{deep:!0}),Promise.resolve(u(e.dicData))):m&&r?r({url:m,method:b,params:t,data:t,headers:s}).then(f=>o?o(f.data):R(f.data,a.res,[])):Promise.resolve([])}const i=v(()=>{const r=u(e.modelValue);return Array.isArray(r)?q(n.value??[],t=>r==null?void 0:r.some(s=>s===t[a.value])):Q(n.value??[],t=>t[a.value]===r)}),h=v(()=>{var r,t;return Array.isArray(i.value)?(r=i.value)==null?void 0:r.map(s=>s[a.label]).join(","):(t=i.value)==null?void 0:t[a.label]});return{...d,selectedItem:i,selectedLabel:h}}export{w as m,L as u};
