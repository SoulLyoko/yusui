var X_=Object.defineProperty;var F_=(v,d,s)=>d in v?X_(v,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):v[d]=s;var rv=(v,d,s)=>(F_(v,typeof d!="symbol"?d+"":d,s),s);import{g as Xn,I as U_}from"./index.038acb2e.js";import{c as hu}from"./dayjs.min.50666642.js";import{t as Y_}from"../app.a8f0c0f5.js";var Ql={exports:{}};(function(v,d){(function(s,f){v.exports=f()})(window,function(){return function(s){var f={};function o(l){if(f[l])return f[l].exports;var c=f[l]={i:l,l:!1,exports:{}};return s[l].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=s,o.c=f,o.d=function(l,c,g){o.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:g})},o.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,c){if(1&c&&(l=o(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var g=Object.create(null);if(o.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var m in l)o.d(g,m,(function(w){return l[w]}).bind(null,m));return g},o.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(c,"a",c),c},o.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},o.p="",o(o.s=215)}([function(s,f,o){o.d(f,"a",function(){return $}),o.d(f,"b",function(){return ne}),o.d(f,"c",function(){return Ce}),o.d(f,"d",function(){return Ze}),o.d(f,"e",function(){return I}),o.d(f,"f",function(){return Z}),o.d(f,"g",function(){return I}),o.d(f,"h",function(){return Pe}),o.d(f,"i",function(){return c}),o.d(f,"j",function(){return Ke}),o.d(f,"k",function(){return X});var l,c,g,m,w,S,E,M={},P=[],A=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(J,K){for(var ae in K)J[ae]=K[ae];return J}function C(J){var K=J.parentNode;K&&K.removeChild(J)}function I(J,K,ae){var _e,Me,we,qe={};for(we in K)we=="key"?_e=K[we]:we=="ref"?Me=K[we]:qe[we]=K[we];if(arguments.length>2&&(qe.children=arguments.length>3?l.call(arguments,2):ae),typeof J=="function"&&J.defaultProps!=null)for(we in J.defaultProps)qe[we]===void 0&&(qe[we]=J.defaultProps[we]);return H(J,qe,_e,Me,null)}function H(J,K,ae,_e,Me){var we={type:J,props:K,key:ae,ref:_e,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Me??++g};return Me==null&&c.vnode!=null&&c.vnode(we),we}function Z(){return{current:null}}function ne(J){return J.children}function $(J,K){this.props=J,this.context=K}function Y(J,K){if(K==null)return J.__?Y(J.__,J.__.__k.indexOf(J)+1):null;for(var ae;K<J.__k.length;K++)if((ae=J.__k[K])!=null&&ae.__e!=null)return ae.__e;return typeof J.type=="function"?Y(J):null}function q(J){var K,ae;if((J=J.__)!=null&&J.__c!=null){for(J.__e=J.__c.base=null,K=0;K<J.__k.length;K++)if((ae=J.__k[K])!=null&&ae.__e!=null){J.__e=J.__c.base=ae.__e;break}return q(J)}}function B(J){(!J.__d&&(J.__d=!0)&&m.push(J)&&!N.__r++||S!==c.debounceRendering)&&((S=c.debounceRendering)||w)(N)}function N(){for(var J;N.__r=m.length;)J=m.sort(function(K,ae){return K.__v.__b-ae.__v.__b}),m=[],J.some(function(K){var ae,_e,Me,we,qe,nt;K.__d&&(qe=(we=(ae=K).__v).__e,(nt=ae.__P)&&(_e=[],(Me=k({},we)).__v=we.__v+1,ve(nt,we,Me,ae.__n,nt.ownerSVGElement!==void 0,we.__h!=null?[qe]:null,_e,qe??Y(we),we.__h),ue(_e,we),we.__e!=qe&&q(we)))})}function z(J,K,ae,_e,Me,we,qe,nt,Je,Ve){var ge,Xe,ee,ze,ut,gt,it,yt=_e&&_e.__k||P,St=yt.length;for(ae.__k=[],ge=0;ge<K.length;ge++)if((ze=ae.__k[ge]=(ze=K[ge])==null||typeof ze=="boolean"?null:typeof ze=="string"||typeof ze=="number"||typeof ze=="bigint"?H(null,ze,null,null,ze):Array.isArray(ze)?H(ne,{children:ze},null,null,null):ze.__b>0?H(ze.type,ze.props,ze.key,null,ze.__v):ze)!=null){if(ze.__=ae,ze.__b=ae.__b+1,(ee=yt[ge])===null||ee&&ze.key==ee.key&&ze.type===ee.type)yt[ge]=void 0;else for(Xe=0;Xe<St;Xe++){if((ee=yt[Xe])&&ze.key==ee.key&&ze.type===ee.type){yt[Xe]=void 0;break}ee=null}ve(J,ze,ee=ee||M,Me,we,qe,nt,Je,Ve),ut=ze.__e,(Xe=ze.ref)&&ee.ref!=Xe&&(it||(it=[]),ee.ref&&it.push(ee.ref,null,ze),it.push(Xe,ze.__c||ut,ze)),ut!=null?(gt==null&&(gt=ut),typeof ze.type=="function"&&ze.__k===ee.__k?ze.__d=Je=L(ze,Je,J):Je=te(J,ze,ee,yt,ut,Je),typeof ae.type=="function"&&(ae.__d=Je)):Je&&ee.__e==Je&&Je.parentNode!=J&&(Je=Y(ee))}for(ae.__e=gt,ge=St;ge--;)yt[ge]!=null&&(typeof ae.type=="function"&&yt[ge].__e!=null&&yt[ge].__e==ae.__d&&(ae.__d=Y(_e,ge+1)),Se(yt[ge],yt[ge]));if(it)for(ge=0;ge<it.length;ge++)be(it[ge],it[++ge],it[++ge])}function L(J,K,ae){for(var _e,Me=J.__k,we=0;Me&&we<Me.length;we++)(_e=Me[we])&&(_e.__=J,K=typeof _e.type=="function"?L(_e,K,ae):te(ae,_e,_e,Me,_e.__e,K));return K}function X(J,K){return K=K||[],J==null||typeof J=="boolean"||(Array.isArray(J)?J.some(function(ae){X(ae,K)}):K.push(J)),K}function te(J,K,ae,_e,Me,we){var qe,nt,Je;if(K.__d!==void 0)qe=K.__d,K.__d=void 0;else if(ae==null||Me!=we||Me.parentNode==null)e:if(we==null||we.parentNode!==J)J.appendChild(Me),qe=null;else{for(nt=we,Je=0;(nt=nt.nextSibling)&&Je<_e.length;Je+=2)if(nt==Me)break e;J.insertBefore(Me,we),qe=we}return qe!==void 0?qe:Me.nextSibling}function fe(J,K,ae){K[0]==="-"?J.setProperty(K,ae):J[K]=ae==null?"":typeof ae!="number"||A.test(K)?ae:ae+"px"}function ce(J,K,ae,_e,Me){var we;e:if(K==="style")if(typeof ae=="string")J.style.cssText=ae;else{if(typeof _e=="string"&&(J.style.cssText=_e=""),_e)for(K in _e)ae&&K in ae||fe(J.style,K,"");if(ae)for(K in ae)_e&&ae[K]===_e[K]||fe(J.style,K,ae[K])}else if(K[0]==="o"&&K[1]==="n")we=K!==(K=K.replace(/Capture$/,"")),K=K.toLowerCase()in J?K.toLowerCase().slice(2):K.slice(2),J.l||(J.l={}),J.l[K+we]=ae,ae?_e||J.addEventListener(K,we?xe:ye,we):J.removeEventListener(K,we?xe:ye,we);else if(K!=="dangerouslySetInnerHTML"){if(Me)K=K.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(K!=="href"&&K!=="list"&&K!=="form"&&K!=="tabIndex"&&K!=="download"&&K in J)try{J[K]=ae??"";break e}catch{}typeof ae=="function"||(ae!=null&&(ae!==!1||K[0]==="a"&&K[1]==="r")?J.setAttribute(K,ae):J.removeAttribute(K))}}function ye(J){this.l[J.type+!1](c.event?c.event(J):J)}function xe(J){this.l[J.type+!0](c.event?c.event(J):J)}function ve(J,K,ae,_e,Me,we,qe,nt,Je){var Ve,ge,Xe,ee,ze,ut,gt,it,yt,St,Pt,at=K.type;if(K.constructor!==void 0)return null;ae.__h!=null&&(Je=ae.__h,nt=K.__e=ae.__e,K.__h=null,we=[nt]),(Ve=c.__b)&&Ve(K);try{e:if(typeof at=="function"){if(it=K.props,yt=(Ve=at.contextType)&&_e[Ve.__c],St=Ve?yt?yt.props.value:Ve.__:_e,ae.__c?gt=(ge=K.__c=ae.__c).__=ge.__E:("prototype"in at&&at.prototype.render?K.__c=ge=new at(it,St):(K.__c=ge=new $(it,St),ge.constructor=at,ge.render=Le),yt&&yt.sub(ge),ge.props=it,ge.state||(ge.state={}),ge.context=St,ge.__n=_e,Xe=ge.__d=!0,ge.__h=[]),ge.__s==null&&(ge.__s=ge.state),at.getDerivedStateFromProps!=null&&(ge.__s==ge.state&&(ge.__s=k({},ge.__s)),k(ge.__s,at.getDerivedStateFromProps(it,ge.__s))),ee=ge.props,ze=ge.state,Xe)at.getDerivedStateFromProps==null&&ge.componentWillMount!=null&&ge.componentWillMount(),ge.componentDidMount!=null&&ge.__h.push(ge.componentDidMount);else{if(at.getDerivedStateFromProps==null&&it!==ee&&ge.componentWillReceiveProps!=null&&ge.componentWillReceiveProps(it,St),!ge.__e&&ge.shouldComponentUpdate!=null&&ge.shouldComponentUpdate(it,ge.__s,St)===!1||K.__v===ae.__v){ge.props=it,ge.state=ge.__s,K.__v!==ae.__v&&(ge.__d=!1),ge.__v=K,K.__e=ae.__e,K.__k=ae.__k,K.__k.forEach(function(Nt){Nt&&(Nt.__=K)}),ge.__h.length&&qe.push(ge);break e}ge.componentWillUpdate!=null&&ge.componentWillUpdate(it,ge.__s,St),ge.componentDidUpdate!=null&&ge.__h.push(function(){ge.componentDidUpdate(ee,ze,ut)})}ge.context=St,ge.props=it,ge.state=ge.__s,(Ve=c.__r)&&Ve(K),ge.__d=!1,ge.__v=K,ge.__P=J,Ve=ge.render(ge.props,ge.state,ge.context),ge.state=ge.__s,ge.getChildContext!=null&&(_e=k(k({},_e),ge.getChildContext())),Xe||ge.getSnapshotBeforeUpdate==null||(ut=ge.getSnapshotBeforeUpdate(ee,ze)),Pt=Ve!=null&&Ve.type===ne&&Ve.key==null?Ve.props.children:Ve,z(J,Array.isArray(Pt)?Pt:[Pt],K,ae,_e,Me,we,qe,nt,Je),ge.base=K.__e,K.__h=null,ge.__h.length&&qe.push(ge),gt&&(ge.__E=ge.__=null),ge.__e=!1}else we==null&&K.__v===ae.__v?(K.__k=ae.__k,K.__e=ae.__e):K.__e=he(ae.__e,K,ae,_e,Me,we,qe,Je);(Ve=c.diffed)&&Ve(K)}catch(Nt){K.__v=null,(Je||we!=null)&&(K.__e=nt,K.__h=!!Je,we[we.indexOf(nt)]=null),c.__e(Nt,K,ae)}}function ue(J,K){c.__c&&c.__c(K,J),J.some(function(ae){try{J=ae.__h,ae.__h=[],J.some(function(_e){_e.call(ae)})}catch(_e){c.__e(_e,ae.__v)}})}function he(J,K,ae,_e,Me,we,qe,nt){var Je,Ve,ge,Xe=ae.props,ee=K.props,ze=K.type,ut=0;if(ze==="svg"&&(Me=!0),we!=null){for(;ut<we.length;ut++)if((Je=we[ut])&&"setAttribute"in Je==!!ze&&(ze?Je.localName===ze:Je.nodeType===3)){J=Je,we[ut]=null;break}}if(J==null){if(ze===null)return document.createTextNode(ee);J=Me?document.createElementNS("http://www.w3.org/2000/svg",ze):document.createElement(ze,ee.is&&ee),we=null,nt=!1}if(ze===null)Xe===ee||nt&&J.data===ee||(J.data=ee);else{if(we=we&&l.call(J.childNodes),Ve=(Xe=ae.props||M).dangerouslySetInnerHTML,ge=ee.dangerouslySetInnerHTML,!nt){if(we!=null)for(Xe={},ut=0;ut<J.attributes.length;ut++)Xe[J.attributes[ut].name]=J.attributes[ut].value;(ge||Ve)&&(ge&&(Ve&&ge.__html==Ve.__html||ge.__html===J.innerHTML)||(J.innerHTML=ge&&ge.__html||""))}if(function(gt,it,yt,St,Pt){var at;for(at in yt)at==="children"||at==="key"||at in it||ce(gt,at,null,yt[at],St);for(at in it)Pt&&typeof it[at]!="function"||at==="children"||at==="key"||at==="value"||at==="checked"||yt[at]===it[at]||ce(gt,at,it[at],yt[at],St)}(J,ee,Xe,Me,nt),ge)K.__k=[];else if(ut=K.props.children,z(J,Array.isArray(ut)?ut:[ut],K,ae,_e,Me&&ze!=="foreignObject",we,qe,we?we[0]:ae.__k&&Y(ae,0),nt),we!=null)for(ut=we.length;ut--;)we[ut]!=null&&C(we[ut]);nt||("value"in ee&&(ut=ee.value)!==void 0&&(ut!==Xe.value||ut!==J.value||ze==="progress"&&!ut)&&ce(J,"value",ut,Xe.value,!1),"checked"in ee&&(ut=ee.checked)!==void 0&&ut!==J.checked&&ce(J,"checked",ut,Xe.checked,!1))}return J}function be(J,K,ae){try{typeof J=="function"?J(K):J.current=K}catch(_e){c.__e(_e,ae)}}function Se(J,K,ae){var _e,Me;if(c.unmount&&c.unmount(J),(_e=J.ref)&&(_e.current&&_e.current!==J.__e||be(_e,null,K)),(_e=J.__c)!=null){if(_e.componentWillUnmount)try{_e.componentWillUnmount()}catch(we){c.__e(we,K)}_e.base=_e.__P=null}if(_e=J.__k)for(Me=0;Me<_e.length;Me++)_e[Me]&&Se(_e[Me],K,typeof J.type!="function");ae||J.__e==null||C(J.__e),J.__e=J.__d=void 0}function Le(J,K,ae){return this.constructor(J,ae)}function Ke(J,K,ae){var _e,Me,we;c.__&&c.__(J,K),Me=(_e=typeof ae=="function")?null:ae&&ae.__k||K.__k,we=[],ve(K,J=(!_e&&ae||K).__k=I(ne,null,[J]),Me||M,M,K.ownerSVGElement!==void 0,!_e&&ae?[ae]:Me?null:K.firstChild?l.call(K.childNodes):null,we,!_e&&ae?ae:Me?Me.__e:K.firstChild,_e),ue(we,J)}function Pe(J,K){Ke(J,K,Pe)}function Ce(J,K,ae){var _e,Me,we,qe=k({},J.props);for(we in K)we=="key"?_e=K[we]:we=="ref"?Me=K[we]:qe[we]=K[we];return arguments.length>2&&(qe.children=arguments.length>3?l.call(arguments,2):ae),H(J.type,qe,_e||J.key,Me||J.ref,null)}function Ze(J,K){var ae={__c:K="__cC"+E++,__:J,Consumer:function(_e,Me){return _e.children(Me)},Provider:function(_e){var Me,we;return this.getChildContext||(Me=[],(we={})[K]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(qe){this.props.value!==qe.value&&Me.some(B)},this.sub=function(qe){Me.push(qe);var nt=qe.componentWillUnmount;qe.componentWillUnmount=function(){Me.splice(Me.indexOf(qe),1),nt&&nt.call(qe)}}),_e.children}};return ae.Provider.__=ae.Consumer.contextType=ae}l=P.slice,c={__e:function(J,K){for(var ae,_e,Me;K=K.__;)if((ae=K.__c)&&!ae.__)try{if((_e=ae.constructor)&&_e.getDerivedStateFromError!=null&&(ae.setState(_e.getDerivedStateFromError(J)),Me=ae.__d),ae.componentDidCatch!=null&&(ae.componentDidCatch(J),Me=ae.__d),Me)return ae.__E=ae}catch(we){J=we}throw J}},g=0,$.prototype.setState=function(J,K){var ae;ae=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof J=="function"&&(J=J(k({},ae),this.props)),J&&k(ae,J),J!=null&&this.__v&&(K&&this.__h.push(K),B(this))},$.prototype.forceUpdate=function(J){this.__v&&(this.__e=!0,J&&this.__h.push(J),B(this))},$.prototype.render=ne,m=[],w=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,N.__r=0,E=0},function(s,f,o){(function(l,c){o.d(f,"a",function(){return B}),o.d(f,"b",function(){return Yo}),o.d(f,"c",function(){return In}),o.d(f,"d",function(){return et}),o.d(f,"e",function(){return De}),o.d(f,"f",function(){return ke}),o.d(f,"g",function(){return We}),o.d(f,"h",function(){return Ar}),o.d(f,"i",function(){return Pt}),o.d(f,"j",function(){return Be}),o.d(f,"k",function(){return Vn}),o.d(f,"l",function(){return Xo}),o.d(f,"m",function(){return gt}),o.d(f,"n",function(){return Pr}),o.d(f,"o",function(){return L}),o.d(f,"p",function(){return Xi}),o.d(f,"q",function(){return Wn}),o.d(f,"r",function(){return Bi}),o.d(f,"s",function(){return _n}),o.d(f,"t",function(){return Ur}),o.d(f,"u",function(){return ao}),o.d(f,"v",function(){return zu}),o.d(f,"w",function(){return Hi}),o.d(f,"x",function(){return Vr}),o.d(f,"y",function(){return kn}),o.d(f,"z",function(){return It}),o.d(f,"A",function(){return hn}),o.d(f,"B",function(){return $n}),o.d(f,"C",function(){return Ve}),o.d(f,"D",function(){return Ui}),o.d(f,"E",function(){return jr}),o.d(f,"F",function(){return Sr}),o.d(f,"G",function(){return Ru}),o.d(f,"H",function(){return ki}),o.d(f,"I",function(){return Gu}),o.d(f,"J",function(){return mn}),o.d(f,"K",function(){return re}),o.d(f,"L",function(){return qt}),o.d(f,"M",function(){return Yi});var g=[];Object.freeze(g);var m={};function w(){return++Ue.mobxGuid}function S(y){throw E(!1,y),"X"}function E(y,b){if(!y)throw new Error("[mobx] "+(b||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(m);function M(y){var b=!1;return function(){if(!b)return b=!0,y.apply(this,arguments)}}var P=function(){};function A(y){return y!==null&&typeof y=="object"}function k(y){if(y===null||typeof y!="object")return!1;var b=Object.getPrototypeOf(y);return b===Object.prototype||b===null}function C(y,b,x){Object.defineProperty(y,b,{enumerable:!1,writable:!0,configurable:!0,value:x})}function I(y,b){var x="isMobX"+y;return b.prototype[x]=!0,function(D){return A(D)&&D[x]===!0}}function H(y){return y instanceof Map}function Z(y){return y instanceof Set}function ne(y){var b=new Set;for(var x in y)b.add(x);return Object.getOwnPropertySymbols(y).forEach(function(D){Object.getOwnPropertyDescriptor(y,D).enumerable&&b.add(D)}),Array.from(b)}function $(y){return y&&y.toString?y.toString():new String(y).toString()}function Y(y){return y===null?null:typeof y=="object"?""+y:y}var q=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:Object.getOwnPropertyNames,B=Symbol("mobx administration"),N=function(){function y(b){b===void 0&&(b="Atom@"+w()),this.name=b,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Xe.NOT_TRACKING}return y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},y.prototype.reportObserved=function(){return Ai(this)},y.prototype.reportChanged=function(){gn(),function(b){b.lowestObserverState!==Xe.STALE&&(b.lowestObserverState=Xe.STALE,b.observers.forEach(function(x){x.dependenciesState===Xe.UP_TO_DATE&&(x.isTracing!==ee.NONE&&Yn(x,b),x.onBecomeStale()),x.dependenciesState=Xe.STALE}))}(this),bn()},y.prototype.toString=function(){return this.name},y}(),z=I("Atom",N);function L(y,b,x){b===void 0&&(b=P),x===void 0&&(x=P);var D,G=new N(y);return b!==P&&Ci("onBecomeObserved",G,b,D),x!==P&&jr(G,x),G}var X={identity:function(y,b){return y===b},structural:function(y,b){return Wo(y,b)},default:function(y,b){return Object.is(y,b)},shallow:function(y,b){return Wo(y,b,1)}},te=function(y,b){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,D){x.__proto__=D}||function(x,D){for(var G in D)D.hasOwnProperty(G)&&(x[G]=D[G])},te(y,b)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var fe=function(){return fe=Object.assign||function(y){for(var b,x=1,D=arguments.length;x<D;x++)for(var G in b=arguments[x])Object.prototype.hasOwnProperty.call(b,G)&&(y[G]=b[G]);return y},fe.apply(this,arguments)};function ce(y){var b=typeof Symbol=="function"&&y[Symbol.iterator],x=0;return b?b.call(y):{next:function(){return y&&x>=y.length&&(y=void 0),{value:y&&y[x++],done:!y}}}}function ye(y,b){var x=typeof Symbol=="function"&&y[Symbol.iterator];if(!x)return y;var D,G,Q=x.call(y),pe=[];try{for(;(b===void 0||b-- >0)&&!(D=Q.next()).done;)pe.push(D.value)}catch(je){G={error:je}}finally{try{D&&!D.done&&(x=Q.return)&&x.call(Q)}finally{if(G)throw G.error}}return pe}function xe(){for(var y=[],b=0;b<arguments.length;b++)y=y.concat(ye(arguments[b]));return y}var ve=Symbol("mobx did run lazy initializers"),ue=Symbol("mobx pending decorators"),he={},be={};function Se(y,b){var x=b?he:be;return x[y]||(x[y]={configurable:!0,enumerable:b,get:function(){return Le(this),this[y]},set:function(D){Le(this),this[y]=D}})}function Le(y){var b,x;if(y[ve]!==!0){var D=y[ue];if(D){C(y,ve,!0);var G=xe(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var Q=ce(G),pe=Q.next();!pe.done;pe=Q.next()){var je=D[pe.value];je.propertyCreator(y,je.prop,je.descriptor,je.decoratorTarget,je.decoratorArguments)}}catch(He){b={error:He}}finally{try{pe&&!pe.done&&(x=Q.return)&&x.call(Q)}finally{if(b)throw b.error}}}}}function Ke(y,b){return function(){var x,D=function(G,Q,pe,je){if(je===!0)return b(G,Q,pe,G,x),null;if(!Object.prototype.hasOwnProperty.call(G,ue)){var He=G[ue];C(G,ue,fe({},He))}return G[ue][Q]={prop:Q,propertyCreator:b,descriptor:pe,decoratorTarget:G,decoratorArguments:x},Se(Q,y)};return Pe(arguments)?(x=g,D.apply(null,arguments)):(x=Array.prototype.slice.call(arguments),D)}}function Pe(y){return(y.length===2||y.length===3)&&(typeof y[1]=="string"||typeof y[1]=="symbol")||y.length===4&&y[3]===!0}function Ce(y,b,x){return Vr(y)?y:Array.isArray(y)?Ve.array(y,{name:x}):k(y)?Ve.object(y,void 0,{name:x}):H(y)?Ve.map(y,{name:x}):Z(y)?Ve.set(y,{name:x}):y}function Ze(y){return y}function J(y){E(y);var b=Ke(!0,function(D,G,Q,pe,je){var He=Q?Q.initializer?Q.initializer.call(D):Q.value:void 0;$r(D).addObservableProp(G,He,y)}),x=(l!==void 0&&l.env,b);return x.enhancer=y,x}var K={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ae(y){return y==null?K:typeof y=="string"?{name:y,deep:!0,proxy:!0}:y}Object.freeze(K);var _e=J(Ce),Me=J(function(y,b,x){return y==null||hn(y)||kn(y)||It(y)||dn(y)?y:Array.isArray(y)?Ve.array(y,{name:x,deep:!1}):k(y)?Ve.object(y,void 0,{name:x,deep:!1}):H(y)?Ve.map(y,{name:x,deep:!1}):Z(y)?Ve.set(y,{name:x,deep:!1}):S(!1)}),we=J(Ze),qe=J(function(y,b,x){return Wo(y,b)?b:y});function nt(y){return y.defaultDecorator?y.defaultDecorator.enhancer:y.deep===!1?Ze:Ce}var Je={box:function(y,b){arguments.length>2&&ge("box");var x=ae(b);return new kt(y,nt(x),x.name,!0,x.equals)},array:function(y,b){arguments.length>2&&ge("array");var x=ae(b);return Uo(y,nt(x),x.name)},map:function(y,b){arguments.length>2&&ge("map");var x=ae(b);return new Yo(y,nt(x),x.name)},set:function(y,b){arguments.length>2&&ge("set");var x=ae(b);return new co(y,nt(x),x.name)},object:function(y,b,x){typeof arguments[1]=="string"&&ge("object");var D=ae(x);if(D.proxy===!1)return Wn({},y,b,D);var G=Ri(D),Q=Wn({},void 0,void 0,D),pe=Xu(Q);return Ii(pe,y,b,G),pe},ref:we,shallow:Me,deep:_e,struct:qe},Ve=function(y,b,x){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return _e.apply(null,arguments);if(Vr(y))return y;var D=k(y)?Ve.object(y,b,x):Array.isArray(y)?Ve.array(y,b):H(y)?Ve.map(y,b):Z(y)?Ve.set(y,b):y;if(D!==y)return D;S(!1)};function ge(y){S("Expected one or two arguments to observable."+y+". Did you accidentally try to use observable."+y+" as decorator?")}Object.keys(Je).forEach(function(y){return Ve[y]=Je[y]});var Xe,ee,ze=Ke(!1,function(y,b,x,D,G){var Q=x.get,pe=x.set,je=G[0]||{};$r(y).addComputedProp(y,b,fe({get:Q,set:pe,context:y},je))}),ut=ze({equals:X.structural}),gt=function(y,b,x){if(typeof b=="string"||y!==null&&typeof y=="object"&&arguments.length===1)return ze.apply(null,arguments);var D=typeof b=="object"?b:{};return D.get=y,D.set=typeof b=="function"?b:D.set,D.name=D.name||y.name||"",new Fn(D)};gt.struct=ut,function(y){y[y.NOT_TRACKING=-1]="NOT_TRACKING",y[y.UP_TO_DATE=0]="UP_TO_DATE",y[y.POSSIBLY_STALE=1]="POSSIBLY_STALE",y[y.STALE=2]="STALE"}(Xe||(Xe={})),function(y){y[y.NONE=0]="NONE",y[y.LOG=1]="LOG",y[y.BREAK=2]="BREAK"}(ee||(ee={}));var it=function(y){this.cause=y};function yt(y){return y instanceof it}function St(y){switch(y.dependenciesState){case Xe.UP_TO_DATE:return!1;case Xe.NOT_TRACKING:case Xe.STALE:return!0;case Xe.POSSIBLY_STALE:for(var b=ke(!0),x=V(),D=y.observing,G=D.length,Q=0;Q<G;Q++){var pe=D[Q];if(Un(pe)){if(Ue.disableErrorBoundaries)pe.get();else try{pe.get()}catch{return se(x),De(b),!0}if(y.dependenciesState===Xe.STALE)return se(x),De(b),!0}}return Ye(y),se(x),De(b),!1}}function Pt(){return Ue.trackingDerivation!==null}function at(y){var b=y.observers.size>0;Ue.computationDepth>0&&b&&S(!1),Ue.allowStateChanges||!b&&Ue.enforceActions!=="strict"||S(!1)}function Nt(y,b,x){var D=ke(!0);Ye(y),y.newObserving=new Array(y.observing.length+100),y.unboundDepsCount=0,y.runId=++Ue.runId;var G,Q=Ue.trackingDerivation;if(Ue.trackingDerivation=y,Ue.disableErrorBoundaries===!0)G=b.call(x);else try{G=b.call(x)}catch(pe){G=new it(pe)}return Ue.trackingDerivation=Q,function(pe){for(var je=pe.observing,He=pe.observing=pe.newObserving,dt=Xe.UP_TO_DATE,ot=0,xt=pe.unboundDepsCount,ct=0;ct<xt;ct++)(Ot=He[ct]).diffValue===0&&(Ot.diffValue=1,ot!==ct&&(He[ot]=Ot),ot++),Ot.dependenciesState>dt&&(dt=Ot.dependenciesState);for(He.length=ot,pe.newObserving=null,xt=je.length;xt--;)(Ot=je[xt]).diffValue===0&&Pi(Ot,pe),Ot.diffValue=0;for(;ot--;){var Ot;(Ot=He[ot]).diffValue===1&&(Ot.diffValue=0,ku(Ot,pe))}dt!==Xe.UP_TO_DATE&&(pe.dependenciesState=dt,pe.onBecomeStale())}(y),De(D),G}function F(y){var b=y.observing;y.observing=[];for(var x=b.length;x--;)Pi(b[x],y);y.dependenciesState=Xe.NOT_TRACKING}function re(y){var b=V();try{return y()}finally{se(b)}}function V(){var y=Ue.trackingDerivation;return Ue.trackingDerivation=null,y}function se(y){Ue.trackingDerivation=y}function ke(y){var b=Ue.allowStateReads;return Ue.allowStateReads=y,b}function De(y){Ue.allowStateReads=y}function Ye(y){if(y.dependenciesState!==Xe.UP_TO_DATE){y.dependenciesState=Xe.UP_TO_DATE;for(var b=y.observing,x=b.length;x--;)b[x].lowestObserverState=Xe.UP_TO_DATE}}var ft=0,Ht=1,$t=Object.getOwnPropertyDescriptor(function(){},"name");$t&&$t.configurable;function Ct(y,b,x){var D=function(){return Rt(y,b,x||this,arguments)};return D.isMobxAction=!0,D}function Rt(y,b,x,D){var G=Be();try{return b.apply(x,D)}catch(Q){throw G.error=Q,Q}finally{We(G)}}function Be(y,b,x){var D=0,G=V();gn();var Q={prevDerivation:G,prevAllowStateChanges:rt(!0),prevAllowStateReads:ke(!0),notifySpy:!1,startTime:D,actionId:Ht++,parentActionId:ft};return ft=Q.actionId,Q}function We(y){ft!==y.actionId&&S("invalid action stack. did you forget to finish an action?"),ft=y.parentActionId,y.error!==void 0&&(Ue.suppressReactionErrors=!0),wt(y.prevAllowStateChanges),De(y.prevAllowStateReads),bn(),se(y.prevDerivation),y.notifySpy,Ue.suppressReactionErrors=!1}function et(y,b){var x,D=rt(y);try{x=b()}finally{wt(D)}return x}function rt(y){var b=Ue.allowStateChanges;return Ue.allowStateChanges=y,b}function wt(y){Ue.allowStateChanges=y}var kt=function(y){function b(x,D,G,Q,pe){G===void 0&&(G="ObservableValue@"+w()),pe===void 0&&(pe=X.default);var je=y.call(this,G)||this;return je.enhancer=D,je.name=G,je.equals=pe,je.hasUnreportedChange=!1,je.value=D(x,void 0,G),je}return function(x,D){function G(){this.constructor=x}te(x,D),x.prototype=D===null?Object.create(D):(G.prototype=D.prototype,new G)}(b,y),b.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},b.prototype.set=function(x){this.value,(x=this.prepareNewValue(x))!==Ue.UNCHANGED&&this.setNewValue(x)},b.prototype.prepareNewValue=function(x){if(at(this),rn(this)){var D=vt(this,{object:this,type:"update",newValue:x});if(!D)return Ue.UNCHANGED;x=D.newValue}return x=this.enhancer(x,this.value,this.name),this.equals(this.value,x)?Ue.UNCHANGED:x},b.prototype.setNewValue=function(x){var D=this.value;this.value=x,this.reportChanged(),On(this)&&Kt(this,{type:"update",object:this,newValue:x,oldValue:D})},b.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},b.prototype.intercept=function(x){return lr(this,x)},b.prototype.observe=function(x,D){return D&&x({object:this,type:"update",newValue:this.value,oldValue:void 0}),fr(this,x)},b.prototype.toJSON=function(){return this.get()},b.prototype.toString=function(){return this.name+"["+this.value+"]"},b.prototype.valueOf=function(){return Y(this.get())},b.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},b}(N),ur=I("ObservableValue",kt),Fn=function(){function y(b){this.dependenciesState=Xe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Xe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+w(),this.value=new it(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ee.NONE,E(b.get,"missing option for computed: get"),this.derivation=b.get,this.name=b.name||"ComputedValue@"+w(),b.set&&(this.setter=Ct(this.name+"-setter",b.set)),this.equals=b.equals||(b.compareStructural||b.struct?X.structural:X.default),this.scope=b.context,this.requiresReaction=!!b.requiresReaction,this.keepAlive=!!b.keepAlive}return y.prototype.onBecomeStale=function(){(function(b){b.lowestObserverState===Xe.UP_TO_DATE&&(b.lowestObserverState=Xe.POSSIBLY_STALE,b.observers.forEach(function(x){x.dependenciesState===Xe.UP_TO_DATE&&(x.dependenciesState=Xe.POSSIBLY_STALE,x.isTracing!==ee.NONE&&Yn(x,b),x.onBecomeStale())}))})(this)},y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},y.prototype.get=function(){this.isComputing&&S("Cycle detected in computation "+this.name+": "+this.derivation),Ue.inBatch!==0||this.observers.size!==0||this.keepAlive?(Ai(this),St(this)&&this.trackAndCompute()&&function(x){x.lowestObserverState!==Xe.STALE&&(x.lowestObserverState=Xe.STALE,x.observers.forEach(function(D){D.dependenciesState===Xe.POSSIBLY_STALE?D.dependenciesState=Xe.STALE:D.dependenciesState===Xe.UP_TO_DATE&&(x.lowestObserverState=Xe.UP_TO_DATE)}))}(this)):St(this)&&(this.warnAboutUntrackedRead(),gn(),this.value=this.computeValue(!1),bn());var b=this.value;if(yt(b))throw b.cause;return b},y.prototype.peek=function(){var b=this.computeValue(!1);if(yt(b))throw b.cause;return b},y.prototype.set=function(b){if(this.setter){E(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,b)}finally{this.isRunningSetter=!1}}else E(!1,!1)},y.prototype.trackAndCompute=function(){var b=this.value,x=this.dependenciesState===Xe.NOT_TRACKING,D=this.computeValue(!0),G=x||yt(b)||yt(D)||!this.equals(b,D);return G&&(this.value=D),G},y.prototype.computeValue=function(b){var x;if(this.isComputing=!0,Ue.computationDepth++,b)x=Nt(this,this.derivation,this.scope);else if(Ue.disableErrorBoundaries===!0)x=this.derivation.call(this.scope);else try{x=this.derivation.call(this.scope)}catch(D){x=new it(D)}return Ue.computationDepth--,this.isComputing=!1,x},y.prototype.suspend=function(){this.keepAlive||(F(this),this.value=void 0)},y.prototype.observe=function(b,x){var D=this,G=!0,Q=void 0;return Xo(function(){var pe=D.get();if(!G||x){var je=V();b({type:"update",object:D,newValue:pe,oldValue:Q}),se(je)}G=!1,Q=pe})},y.prototype.warnAboutUntrackedRead=function(){},y.prototype.toJSON=function(){return this.get()},y.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},y.prototype.valueOf=function(){return Y(this.get())},y.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},y}(),Un=I("ComputedValue",Fn),Fr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Tu={};function Bo(){return typeof window<"u"?window:c!==void 0?c:typeof self<"u"?self:Tu}var Pn=!0,ji=!1,Ue=function(){var y=Bo();return y.__mobxInstanceCount>0&&!y.__mobxGlobals&&(Pn=!1),y.__mobxGlobals&&y.__mobxGlobals.version!==new Fr().version&&(Pn=!1),Pn?y.__mobxGlobals?(y.__mobxInstanceCount+=1,y.__mobxGlobals.UNCHANGED||(y.__mobxGlobals.UNCHANGED={}),y.__mobxGlobals):(y.__mobxInstanceCount=1,y.__mobxGlobals=new Fr):(setTimeout(function(){ji||S("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Fr)}();function ku(y,b){y.observers.add(b),y.lowestObserverState>b.dependenciesState&&(y.lowestObserverState=b.dependenciesState)}function Pi(y,b){y.observers.delete(b),y.observers.size===0&&Mi(y)}function Mi(y){y.isPendingUnobservation===!1&&(y.isPendingUnobservation=!0,Ue.pendingUnobservations.push(y))}function gn(){Ue.inBatch++}function bn(){if(--Ue.inBatch==0){Ti();for(var y=Ue.pendingUnobservations,b=0;b<y.length;b++){var x=y[b];x.isPendingUnobservation=!1,x.observers.size===0&&(x.isBeingObserved&&(x.isBeingObserved=!1,x.onBecomeUnobserved()),x instanceof Fn&&x.suspend())}Ue.pendingUnobservations=[]}}function Ai(y){var b=Ue.trackingDerivation;return b!==null?(b.runId!==y.lastAccessedBy&&(y.lastAccessedBy=b.runId,b.newObserving[b.unboundDepsCount++]=y,y.isBeingObserved||(y.isBeingObserved=!0,y.onBecomeObserved())),!0):(y.observers.size===0&&Ue.inBatch>0&&Mi(y),!1)}function Yn(y,b){if(y.isTracing===ee.BREAK){var x=[];Er(Ur(y),x,1),new Function(`debugger;
/*
Tracing '`+y.name+`'

You are entering this break point because derivation '`+y.name+"' is being traced and '"+b.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(y instanceof Fn?y.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+x.join(`
`)+`
*/
    `)()}}function Er(y,b,x){b.length>=1e3?b.push("(and many more)"):(b.push(""+new Array(x).join("	")+y.name),y.dependencies&&y.dependencies.forEach(function(D){return Er(D,b,x+1)}))}var In=function(){function y(b,x,D,G){b===void 0&&(b="Reaction@"+w()),G===void 0&&(G=!1),this.name=b,this.onInvalidate=x,this.errorHandler=D,this.requiresObservable=G,this.observing=[],this.newObserving=[],this.dependenciesState=Xe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+w(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ee.NONE}return y.prototype.onBecomeStale=function(){this.schedule()},y.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ue.pendingReactions.push(this),Ti())},y.prototype.isScheduled=function(){return this._isScheduled},y.prototype.runReaction=function(){if(!this.isDisposed){if(gn(),this._isScheduled=!1,St(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(b){this.reportExceptionInDerivation(b)}}bn()}},y.prototype.track=function(b){if(!this.isDisposed){gn(),this._isRunning=!0;var x=Nt(this,b,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&F(this),yt(x)&&this.reportExceptionInDerivation(x.cause),bn()}},y.prototype.reportExceptionInDerivation=function(b){var x=this;if(this.errorHandler)this.errorHandler(b,this);else{if(Ue.disableErrorBoundaries)throw b;Ue.suppressReactionErrors,Ue.globalReactionErrorHandlers.forEach(function(D){return D(b,x)})}},y.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(gn(),F(this),bn()))},y.prototype.getDisposer=function(){var b=this.dispose.bind(this);return b[B]=this,b},y.prototype.toString=function(){return"Reaction["+this.name+"]"},y.prototype.trace=function(b){b===void 0&&(b=!1),function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];var G=!1;typeof x[x.length-1]=="boolean"&&(G=x.pop());var Q=An(x);if(!Q)return S(!1);Q.isTracing,ee.NONE,Q.isTracing=G?ee.BREAK:ee.LOG}(this,b)},y}(),Go=function(y){return y()};function Ti(){Ue.inBatch>0||Ue.isRunningReactions||Go(Du)}function Du(){Ue.isRunningReactions=!0;for(var y=Ue.pendingReactions,b=0;y.length>0;){++b==100&&y.splice(0);for(var x=y.splice(0),D=0,G=x.length;D<G;D++)x[D].runReaction()}Ue.isRunningReactions=!1}var io=I("Reaction",In);function Nu(y){var b=Go;Go=function(x){return y(function(){return b(x)})}}function ki(y){return function(){}}function Cu(){S(!1)}function sr(y){return function(b,x,D){if(D){if(D.value)return{value:Ct(y,D.value),enumerable:!1,configurable:!0,writable:!0};var G=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Ct(y,G.call(this))}}}return Di(y).apply(this,arguments)}}function Di(y){return function(b,x,D){Object.defineProperty(b,x,{configurable:!0,enumerable:!1,get:function(){},set:function(G){C(this,x,Vn(y,G))}})}}var Vn=function(y,b,x,D){return arguments.length===1&&typeof y=="function"?Ct(y.name||"<unnamed action>",y):arguments.length===2&&typeof b=="function"?Ct(y,b):arguments.length===1&&typeof y=="string"?sr(y):D!==!0?sr(b).apply(null,arguments):void C(y,b,Ct(y.name||b,x.value,this))};function Ru(y,b){return Rt(typeof y=="string"?y:y.name||"<unnamed action>",typeof y=="function"?y:b,this,void 0)}function ao(y){return typeof y=="function"&&y.isMobxAction===!0}function Ho(y,b,x){C(y,b,Ct(b,x.bind(y)))}function Xo(y,b){b===void 0&&(b=m);var x,D=b&&b.name||y.name||"Autorun@"+w();if(!b.scheduler&&!b.delay)x=new In(D,function(){this.track(pe)},b.onError,b.requiresObservable);else{var G=Ni(b),Q=!1;x=new In(D,function(){Q||(Q=!0,G(function(){Q=!1,x.isDisposed||x.track(pe)}))},b.onError,b.requiresObservable)}function pe(){y(x)}return x.schedule(),x.getDisposer()}Vn.bound=function(y,b,x,D){return D===!0?(Ho(y,b,x.value),null):x?{configurable:!0,enumerable:!1,get:function(){return Ho(this,b,x.value||x.initializer.call(this)),this[b]},set:Cu}:{enumerable:!1,configurable:!0,set:function(G){Ho(this,b,G)},get:function(){}}};var Iu=function(y){return y()};function Ni(y){return y.scheduler?y.scheduler:y.delay?function(b){return setTimeout(b,y.delay)}:Iu}function Sr(y,b,x){x===void 0&&(x=m);var D,G,Q,pe=x.name||"Reaction@"+w(),je=Vn(pe,x.onError?(D=x.onError,G=b,function(){try{return G.apply(this,arguments)}catch(At){D.call(this,At)}}):b),He=!x.scheduler&&!x.delay,dt=Ni(x),ot=!0,xt=!1,ct=x.compareStructural?X.structural:x.equals||X.default,Ot=new In(pe,function(){ot||He?wn():xt||(xt=!0,dt(wn))},x.onError,x.requiresObservable);function wn(){if(xt=!1,!Ot.isDisposed){var At=!1;Ot.track(function(){var on=y(Ot);At=ot||!ct(Q,on),Q=on}),ot&&x.fireImmediately&&je(Q,Ot),ot||At!==!0||je(Q,Ot),ot&&(ot=!1)}}return Ot.schedule(),Ot.getDisposer()}function jr(y,b,x){return Ci("onBecomeUnobserved",y,b,x)}function Ci(y,b,x,D){var G=typeof D=="function"?_n(b,x):_n(b),Q=typeof D=="function"?D:x,pe=y+"Listeners";return G[pe]?G[pe].add(Q):G[pe]=new Set([Q]),typeof G[y]!="function"?S(!1):function(){var je=G[pe];je&&(je.delete(Q),je.size===0&&delete G[pe])}}function Pr(y){var b=y.enforceActions,x=y.computedRequiresReaction,D=y.computedConfigurable,G=y.disableErrorBoundaries,Q=y.reactionScheduler,pe=y.reactionRequiresObservable,je=y.observableRequiresReaction;if(y.isolateGlobalState===!0&&((Ue.pendingReactions.length||Ue.inBatch||Ue.isRunningReactions)&&S("isolateGlobalState should be called before MobX is running any reactions"),ji=!0,Pn&&(--Bo().__mobxInstanceCount==0&&(Bo().__mobxGlobals=void 0),Ue=new Fr)),b!==void 0){var He=void 0;switch(b){case!0:case"observed":He=!0;break;case!1:case"never":He=!1;break;case"strict":case"always":He="strict";break;default:S("Invalid value for 'enforceActions': '"+b+"', expected 'never', 'always' or 'observed'")}Ue.enforceActions=He,Ue.allowStateChanges=He!==!0&&He!=="strict"}x!==void 0&&(Ue.computedRequiresReaction=!!x),pe!==void 0&&(Ue.reactionRequiresObservable=!!pe),je!==void 0&&(Ue.observableRequiresReaction=!!je,Ue.allowStateReads=!Ue.observableRequiresReaction),D!==void 0&&(Ue.computedConfigurable=!!D),G!==void 0&&(Ue.disableErrorBoundaries=!!G),Q&&Nu(Q)}function Wn(y,b,x,D){var G=Ri(D=ae(D));return Le(y),$r(y,D.name,G.enhancer),b&&Ii(y,b,x,G),y}function Ri(y){return y.defaultDecorator||(y.deep===!1?we:_e)}function Ii(y,b,x,D){var G,Q;gn();try{var pe=q(b);try{for(var je=ce(pe),He=je.next();!He.done;He=je.next()){var dt=He.value,ot=Object.getOwnPropertyDescriptor(b,dt),xt=(x&&dt in x?x[dt]:ot.get?ze:D)(y,dt,ot,!0);xt&&Object.defineProperty(y,dt,xt)}}catch(ct){G={error:ct}}finally{try{He&&!He.done&&(Q=je.return)&&Q.call(je)}finally{if(G)throw G.error}}}finally{bn()}}function Ur(y,b){return Li(_n(y,b))}function Li(y){var b,x,D={name:y.name};return y.observing&&y.observing.length>0&&(D.dependencies=(b=y.observing,x=[],b.forEach(function(G){x.indexOf(G)===-1&&x.push(G)}),x).map(Li)),D}var Lu=0;function zi(){this.message="FLOW_CANCELLED"}function Bi(y){arguments.length!==1&&S("Flow expects 1 argument and cannot be used as decorator");var b=y.name||"<unnamed flow>";return function(){var x,D=this,G=arguments,Q=++Lu,pe=Vn(b+" - runid: "+Q+" - init",y).apply(D,G),je=void 0,He=new Promise(function(dt,ot){var xt=0;function ct(At){var on;je=void 0;try{on=Vn(b+" - runid: "+Q+" - yield "+xt++,pe.next).call(pe,At)}catch(Kr){return ot(Kr)}wn(on)}function Ot(At){var on;je=void 0;try{on=Vn(b+" - runid: "+Q+" - yield "+xt++,pe.throw).call(pe,At)}catch(Kr){return ot(Kr)}wn(on)}function wn(At){if(!At||typeof At.then!="function")return At.done?dt(At.value):(je=Promise.resolve(At.value)).then(ct,Ot);At.then(wn,ot)}x=ot,ct(void 0)});return He.cancel=Vn(b+" - runid: "+Q+" - cancel",function(){try{je&&Yr(je);var dt=pe.return(void 0),ot=Promise.resolve(dt.value);ot.then(P,P),Yr(ot),x(new zi)}catch(xt){x(xt)}}),He}}function Yr(y){typeof y.cancel=="function"&&y.cancel()}function Gi(y,b){if(y==null)return!1;if(b!==void 0){if(hn(y)===!1||!y[B].values.has(b))return!1;var x=_n(y,b);return Un(x)}return Un(y)}function zu(y){return arguments.length>1?S(!1):Gi(y)}function Hi(y,b){return typeof b!="string"?S(!1):Gi(y,b)}function Fo(y,b){return y!=null&&(b!==void 0?!!hn(y)&&y[B].values.has(b):hn(y)||!!y[B]||z(y)||io(y)||Un(y))}function Vr(y){return arguments.length!==1&&S(!1),Fo(y)}function $n(y){return hn(y)?y[B].getKeys():It(y)||dn(y)?Array.from(y.keys()):kn(y)?y.map(function(b,x){return x}):S(!1)}function qt(y){return hn(y)?$n(y).map(function(b){return y[b]}):It(y)?$n(y).map(function(b){return y.get(b)}):dn(y)?Array.from(y.values()):kn(y)?y.slice():S(!1)}function Xi(y){return hn(y)?$n(y).map(function(b){return[b,y[b]]}):It(y)?$n(y).map(function(b){return[b,y.get(b)]}):dn(y)?Array.from(y.entries()):kn(y)?y.map(function(b,x){return[x,b]}):S(!1)}function Fi(y,b,x){if(arguments.length!==2||dn(y))if(hn(y)){var D=y[B],G=D.values.get(b);G?D.write(b,x):D.addObservableProp(b,x,D.defaultEnhancer)}else if(It(y))y.set(b,x);else if(dn(y))y.add(b);else{if(!kn(y))return S(!1);typeof b!="number"&&(b=parseInt(b,10)),E(b>=0,"Not a valid index: '"+b+"'"),gn(),b>=y.length&&(y.length=b+1),y[b]=x,bn()}else{gn();var Q=b;try{for(var pe in Q)Fi(y,pe,Q[pe])}finally{bn()}}}function Ui(y,b,x,D){return typeof x=="function"?function(G,Q,pe,je){return Ar(G,Q).observe(pe,je)}(y,b,x,D):function(G,Q,pe){return Ar(G).observe(Q,pe)}(y,b,x)}zi.prototype=Object.create(Error.prototype);var Bu={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function cr(y,b,x,D){return D.detectCycles&&y.set(b,x),x}function Mn(y,b,x){if(!b.recurseEverything&&!Vr(y)||typeof y!="object")return y;if(y===null)return null;if(y instanceof Date)return y;if(ur(y))return Mn(y.get(),b,x);if(Vr(y)&&$n(y),b.detectCycles===!0&&y!==null&&x.has(y))return x.get(y);if(kn(y)||Array.isArray(y)){var D=cr(x,y,[],b),G=y.map(function(ct){return Mn(ct,b,x)});D.length=G.length;for(var Q=0,pe=G.length;Q<pe;Q++)D[Q]=G[Q];return D}if(dn(y)||Object.getPrototypeOf(y)===Set.prototype){if(b.exportMapsAsObjects===!1){var je=cr(x,y,new Set,b);return y.forEach(function(ct){je.add(Mn(ct,b,x))}),je}var He=cr(x,y,[],b);return y.forEach(function(ct){He.push(Mn(ct,b,x))}),He}if(It(y)||Object.getPrototypeOf(y)===Map.prototype){if(b.exportMapsAsObjects===!1){var dt=cr(x,y,new Map,b);return y.forEach(function(ct,Ot){dt.set(Ot,Mn(ct,b,x))}),dt}var ot=cr(x,y,{},b);return y.forEach(function(ct,Ot){ot[Ot]=Mn(ct,b,x)}),ot}var xt=cr(x,y,{},b);return ne(y).forEach(function(ct){xt[ct]=Mn(y[ct],b,x)}),xt}function Gu(y,b){var x;return typeof b=="boolean"&&(b={detectCycles:b}),b||(b=Bu),b.detectCycles=b.detectCycles===void 0?b.recurseEverything===!0:b.detectCycles===!0,b.detectCycles&&(x=new Map),Mn(y,b,x)}function An(y){switch(y.length){case 0:return Ue.trackingDerivation;case 1:return _n(y[0]);case 2:return _n(y[0],y[1])}}function mn(y,b){b===void 0&&(b=void 0),gn();try{return y.apply(b)}finally{bn()}}function Yi(y,b,x){return arguments.length===1||b&&typeof b=="object"?Hu(y,b):Vi(y,b,x||{})}function Vi(y,b,x){var D;typeof x.timeout=="number"&&(D=setTimeout(function(){if(!Q[B].isDisposed){Q();var pe=new Error("WHEN_TIMEOUT");if(!x.onError)throw pe;x.onError(pe)}},x.timeout)),x.name=x.name||"When@"+w();var G=Ct(x.name+"-effect",b),Q=Xo(function(pe){y()&&(pe.dispose(),D&&clearTimeout(D),G())},x);return Q}function Hu(y,b){var x,D=new Promise(function(G,Q){var pe=Vi(y,G,fe(fe({},b),{onError:Q}));x=function(){pe(),Q("WHEN_CANCELLED")}});return D.cancel=x,D}function uo(y){return y[B]}function Kn(y){return typeof y=="string"||typeof y=="number"||typeof y=="symbol"}var Wr={has:function(y,b){if(b===B||b==="constructor"||b===ve)return!0;var x=uo(y);return Kn(b)?x.has(b):b in y},get:function(y,b){if(b===B||b==="constructor"||b===ve)return y[b];var x=uo(y),D=x.values.get(b);if(D instanceof N){var G=D.get();return G===void 0&&x.has(b),G}return Kn(b)&&x.has(b),y[b]},set:function(y,b,x){return!!Kn(b)&&(Fi(y,b,x),!0)},deleteProperty:function(y,b){return!!Kn(b)&&(uo(y).remove(b),!0)},ownKeys:function(y){return uo(y).keysAtom.reportObserved(),Reflect.ownKeys(y)},preventExtensions:function(y){return S("Dynamic observable objects cannot be frozen"),!1}};function Xu(y){var b=new Proxy(y,Wr);return y[B].proxy=b,b}function rn(y){return y.interceptors!==void 0&&y.interceptors.length>0}function lr(y,b){var x=y.interceptors||(y.interceptors=[]);return x.push(b),M(function(){var D=x.indexOf(b);D!==-1&&x.splice(D,1)})}function vt(y,b){var x=V();try{for(var D=xe(y.interceptors||[]),G=0,Q=D.length;G<Q&&(E(!(b=D[G](b))||b.type,"Intercept handlers should return nothing or a change object"),b);G++);return b}finally{se(x)}}function On(y){return y.changeListeners!==void 0&&y.changeListeners.length>0}function fr(y,b){var x=y.changeListeners||(y.changeListeners=[]);return x.push(b),M(function(){var D=x.indexOf(b);D!==-1&&x.splice(D,1)})}function Kt(y,b){var x=V(),D=y.changeListeners;if(D){for(var G=0,Q=(D=D.slice()).length;G<Q;G++)D[G](b);se(x)}}var Wi={get:function(y,b){return b===B?y[B]:b==="length"?y[B].getArrayLength():typeof b=="number"?Tn.get.call(y,b):typeof b!="string"||isNaN(b)?Tn.hasOwnProperty(b)?Tn[b]:y[b]:Tn.get.call(y,parseInt(b))},set:function(y,b,x){return b==="length"&&y[B].setArrayLength(x),typeof b=="number"&&Tn.set.call(y,b,x),typeof b=="symbol"||isNaN(b)?y[b]=x:Tn.set.call(y,parseInt(b),x),!0},preventExtensions:function(y){return S("Observable arrays cannot be frozen"),!1}};function Uo(y,b,x,D){x===void 0&&(x="ObservableArray@"+w()),D===void 0&&(D=!1);var G,Q,pe,je=new $i(x,b,D);G=je.values,Q=B,pe=je,Object.defineProperty(G,Q,{enumerable:!1,writable:!1,configurable:!0,value:pe});var He=new Proxy(je.values,Wi);if(je.proxy=He,y&&y.length){var dt=rt(!0);je.spliceWithArray(0,0,y),wt(dt)}return He}var $i=function(){function y(b,x,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new N(b||"ObservableArray@"+w()),this.enhancer=function(G,Q){return x(G,Q,b+"[..]")}}return y.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},y.prototype.dehanceValues=function(b){return this.dehancer!==void 0&&b.length>0?b.map(this.dehancer):b},y.prototype.intercept=function(b){return lr(this,b)},y.prototype.observe=function(b,x){return x===void 0&&(x=!1),x&&b({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),fr(this,b)},y.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},y.prototype.setArrayLength=function(b){if(typeof b!="number"||b<0)throw new Error("[mobx.array] Out of range: "+b);var x=this.values.length;if(b!==x)if(b>x){for(var D=new Array(b-x),G=0;G<b-x;G++)D[G]=void 0;this.spliceWithArray(x,0,D)}else this.spliceWithArray(b,x-b)},y.prototype.updateArrayLength=function(b,x){if(b!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=x},y.prototype.spliceWithArray=function(b,x,D){var G=this;at(this.atom);var Q=this.values.length;if(b===void 0?b=0:b>Q?b=Q:b<0&&(b=Math.max(0,Q+b)),x=arguments.length===1?Q-b:x==null?0:Math.max(0,Math.min(x,Q-b)),D===void 0&&(D=g),rn(this)){var pe=vt(this,{object:this.proxy,type:"splice",index:b,removedCount:x,added:D});if(!pe)return g;x=pe.removedCount,D=pe.added}D=D.length===0?D:D.map(function(He){return G.enhancer(He,void 0)});var je=this.spliceItemsIntoValues(b,x,D);return x===0&&D.length===0||this.notifyArraySplice(b,D,je),this.dehanceValues(je)},y.prototype.spliceItemsIntoValues=function(b,x,D){var G;if(D.length<1e4)return(G=this.values).splice.apply(G,xe([b,x],D));var Q=this.values.slice(b,b+x);return this.values=this.values.slice(0,b).concat(D,this.values.slice(b+x)),Q},y.prototype.notifyArrayChildUpdate=function(b,x,D){var G=!this.owned&&!1,Q=On(this),pe=Q||G?{object:this.proxy,type:"update",index:b,newValue:x,oldValue:D}:null;this.atom.reportChanged(),Q&&Kt(this,pe)},y.prototype.notifyArraySplice=function(b,x,D){var G=!this.owned&&!1,Q=On(this),pe=Q||G?{object:this.proxy,type:"splice",index:b,removed:D,added:x,removedCount:D.length,addedCount:x.length}:null;this.atom.reportChanged(),Q&&Kt(this,pe)},y}(),Tn={intercept:function(y){return this[B].intercept(y)},observe:function(y,b){return b===void 0&&(b=!1),this[B].observe(y,b)},clear:function(){return this.splice(0)},replace:function(y){var b=this[B];return b.spliceWithArray(0,b.values.length,y)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(y,b){for(var x=[],D=2;D<arguments.length;D++)x[D-2]=arguments[D];var G=this[B];switch(arguments.length){case 0:return[];case 1:return G.spliceWithArray(y);case 2:return G.spliceWithArray(y,b)}return G.spliceWithArray(y,b,x)},spliceWithArray:function(y,b,x){return this[B].spliceWithArray(y,b,x)},push:function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var x=this[B];return x.spliceWithArray(x.values.length,0,y),x.values.length},pop:function(){return this.splice(Math.max(this[B].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var x=this[B];return x.spliceWithArray(0,0,y),x.values.length},reverse:function(){var y=this.slice();return y.reverse.apply(y,arguments)},sort:function(y){var b=this.slice();return b.sort.apply(b,arguments)},remove:function(y){var b=this[B],x=b.dehanceValues(b.values).indexOf(y);return x>-1&&(this.splice(x,1),!0)},get:function(y){var b=this[B];if(b&&y<b.values.length)return b.atom.reportObserved(),b.dehanceValue(b.values[y])},set:function(y,b){var x=this[B],D=x.values;if(y<D.length){at(x.atom);var G=D[y];if(rn(x)){var Q=vt(x,{type:"update",object:x.proxy,index:y,newValue:b});if(!Q)return;b=Q.newValue}(b=x.enhancer(b,G))!==G&&(D[y]=b,x.notifyArrayChildUpdate(y,b,G))}else{if(y!==D.length)throw new Error("[mobx.array] Index out of bounds, "+y+" is larger than "+D.length);x.spliceWithArray(y,0,[b])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(y){typeof Array.prototype[y]=="function"&&(Tn[y]=function(){var b=this[B];b.atom.reportObserved();var x=b.dehanceValues(b.values);return x[y].apply(x,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(y){typeof Array.prototype[y]=="function"&&(Tn[y]=function(b,x){var D=this,G=this[B];return G.atom.reportObserved(),G.dehanceValues(G.values)[y](function(Q,pe){return b.call(x,Q,pe,D)},x)})}),["reduce","reduceRight"].forEach(function(y){Tn[y]=function(){var b=this,x=this[B];x.atom.reportObserved();var D=arguments[0];return arguments[0]=function(G,Q,pe){return Q=x.dehanceValue(Q),D(G,Q,pe,b)},x.values[y].apply(x.values,arguments)}});var Ki,so=I("ObservableArrayAdministration",$i);function kn(y){return A(y)&&so(y[B])}var Zi,Fu={},Yo=function(){function y(b,x,D){if(x===void 0&&(x=Ce),D===void 0&&(D="ObservableMap@"+w()),this.enhancer=x,this.name=D,this[Ki]=Fu,this._keysAtom=L(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(b)}return y.prototype._has=function(b){return this._data.has(b)},y.prototype.has=function(b){var x=this;if(!Ue.trackingDerivation)return this._has(b);var D=this._hasMap.get(b);if(!D){var G=D=new kt(this._has(b),Ze,this.name+"."+$(b)+"?",!1);this._hasMap.set(b,G),jr(G,function(){return x._hasMap.delete(b)})}return D.get()},y.prototype.set=function(b,x){var D=this._has(b);if(rn(this)){var G=vt(this,{type:D?"update":"add",object:this,newValue:x,name:b});if(!G)return this;x=G.newValue}return D?this._updateValue(b,x):this._addValue(b,x),this},y.prototype.delete=function(b){var x=this;if(at(this._keysAtom),rn(this)&&!(G=vt(this,{type:"delete",object:this,name:b})))return!1;if(this._has(b)){var D=On(this),G=D?{type:"delete",object:this,oldValue:this._data.get(b).value,name:b}:null;return mn(function(){x._keysAtom.reportChanged(),x._updateHasMapEntry(b,!1),x._data.get(b).setNewValue(void 0),x._data.delete(b)}),D&&Kt(this,G),!0}return!1},y.prototype._updateHasMapEntry=function(b,x){var D=this._hasMap.get(b);D&&D.setNewValue(x)},y.prototype._updateValue=function(b,x){var D=this._data.get(b);if((x=D.prepareNewValue(x))!==Ue.UNCHANGED){var G=On(this),Q=G?{type:"update",object:this,oldValue:D.value,name:b,newValue:x}:null;D.setNewValue(x),G&&Kt(this,Q)}},y.prototype._addValue=function(b,x){var D=this;at(this._keysAtom),mn(function(){var pe=new kt(x,D.enhancer,D.name+"."+$(b),!1);D._data.set(b,pe),x=pe.value,D._updateHasMapEntry(b,!0),D._keysAtom.reportChanged()});var G=On(this),Q=G?{type:"add",object:this,name:b,newValue:x}:null;G&&Kt(this,Q)},y.prototype.get=function(b){return this.has(b)?this.dehanceValue(this._data.get(b).get()):this.dehanceValue(void 0)},y.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},y.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},y.prototype.values=function(){var b=this,x=this.keys();return ho({next:function(){var D=x.next(),G=D.done,Q=D.value;return{done:G,value:G?void 0:b.get(Q)}}})},y.prototype.entries=function(){var b=this,x=this.keys();return ho({next:function(){var D=x.next(),G=D.done,Q=D.value;return{done:G,value:G?void 0:[Q,b.get(Q)]}}})},y.prototype[Ki=B,Symbol.iterator]=function(){return this.entries()},y.prototype.forEach=function(b,x){var D,G;try{for(var Q=ce(this),pe=Q.next();!pe.done;pe=Q.next()){var je=ye(pe.value,2),He=je[0],dt=je[1];b.call(x,dt,He,this)}}catch(ot){D={error:ot}}finally{try{pe&&!pe.done&&(G=Q.return)&&G.call(Q)}finally{if(D)throw D.error}}},y.prototype.merge=function(b){var x=this;return It(b)&&(b=b.toJS()),mn(function(){var D=rt(!0);try{k(b)?ne(b).forEach(function(G){return x.set(G,b[G])}):Array.isArray(b)?b.forEach(function(G){var Q=ye(G,2),pe=Q[0],je=Q[1];return x.set(pe,je)}):H(b)?(b.constructor!==Map&&S("Cannot initialize from classes that inherit from Map: "+b.constructor.name),b.forEach(function(G,Q){return x.set(Q,G)})):b!=null&&S("Cannot initialize map from "+b)}finally{wt(D)}}),this},y.prototype.clear=function(){var b=this;mn(function(){re(function(){var x,D;try{for(var G=ce(b.keys()),Q=G.next();!Q.done;Q=G.next()){var pe=Q.value;b.delete(pe)}}catch(je){x={error:je}}finally{try{Q&&!Q.done&&(D=G.return)&&D.call(G)}finally{if(x)throw x.error}}})})},y.prototype.replace=function(b){var x=this;return mn(function(){var D,G,Q,pe,je=function(an){if(H(an)||It(an))return an;if(Array.isArray(an))return new Map(an);if(k(an)){var na=new Map;for(var Zr in an)na.set(Zr,an[Zr]);return na}return S("Cannot convert to map from '"+an+"'")}(b),He=new Map,dt=!1;try{for(var ot=ce(x._data.keys()),xt=ot.next();!xt.done;xt=ot.next()){var ct=xt.value;if(!je.has(ct))if(x.delete(ct))dt=!0;else{var Ot=x._data.get(ct);He.set(ct,Ot)}}}catch(an){D={error:an}}finally{try{xt&&!xt.done&&(G=ot.return)&&G.call(ot)}finally{if(D)throw D.error}}try{for(var wn=ce(je.entries()),At=wn.next();!At.done;At=wn.next()){var on=ye(At.value,2),Kr=(ct=on[0],Ot=on[1],x._data.has(ct));if(x.set(ct,Ot),x._data.has(ct)){var Yu=x._data.get(ct);He.set(ct,Yu),Kr||(dt=!0)}}}catch(an){Q={error:an}}finally{try{At&&!At.done&&(pe=wn.return)&&pe.call(wn)}finally{if(Q)throw Q.error}}if(!dt)if(x._data.size!==He.size)x._keysAtom.reportChanged();else for(var ea=x._data.keys(),ta=He.keys(),yo=ea.next(),Ko=ta.next();!yo.done;){if(yo.value!==Ko.value){x._keysAtom.reportChanged();break}yo=ea.next(),Ko=ta.next()}x._data=He}),this},Object.defineProperty(y.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.toPOJO=function(){var b,x,D={};try{for(var G=ce(this),Q=G.next();!Q.done;Q=G.next()){var pe=ye(Q.value,2),je=pe[0],He=pe[1];D[typeof je=="symbol"?je:$(je)]=He}}catch(dt){b={error:dt}}finally{try{Q&&!Q.done&&(x=G.return)&&x.call(G)}finally{if(b)throw b.error}}return D},y.prototype.toJS=function(){return new Map(this)},y.prototype.toJSON=function(){return this.toPOJO()},y.prototype.toString=function(){var b=this;return this.name+"[{ "+Array.from(this.keys()).map(function(x){return $(x)+": "+b.get(x)}).join(", ")+" }]"},y.prototype.observe=function(b,x){return fr(this,b)},y.prototype.intercept=function(b){return lr(this,b)},y}(),It=I("ObservableMap",Yo),Mr={},co=function(){function y(b,x,D){if(x===void 0&&(x=Ce),D===void 0&&(D="ObservableSet@"+w()),this.name=D,this[Zi]=Mr,this._data=new Set,this._atom=L(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(G,Q){return x(G,Q,D)},b&&this.replace(b)}return y.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},y.prototype.clear=function(){var b=this;mn(function(){re(function(){var x,D;try{for(var G=ce(b._data.values()),Q=G.next();!Q.done;Q=G.next()){var pe=Q.value;b.delete(pe)}}catch(je){x={error:je}}finally{try{Q&&!Q.done&&(D=G.return)&&D.call(G)}finally{if(x)throw x.error}}})})},y.prototype.forEach=function(b,x){var D,G;try{for(var Q=ce(this),pe=Q.next();!pe.done;pe=Q.next()){var je=pe.value;b.call(x,je,je,this)}}catch(He){D={error:He}}finally{try{pe&&!pe.done&&(G=Q.return)&&G.call(Q)}finally{if(D)throw D.error}}},Object.defineProperty(y.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.add=function(b){var x=this;if(at(this._atom),rn(this)&&!(G=vt(this,{type:"add",object:this,newValue:b})))return this;if(!this.has(b)){mn(function(){x._data.add(x.enhancer(b,void 0)),x._atom.reportChanged()});var D=On(this),G=D?{type:"add",object:this,newValue:b}:null;D&&Kt(this,G)}return this},y.prototype.delete=function(b){var x=this;if(rn(this)&&!(G=vt(this,{type:"delete",object:this,oldValue:b})))return!1;if(this.has(b)){var D=On(this),G=D?{type:"delete",object:this,oldValue:b}:null;return mn(function(){x._atom.reportChanged(),x._data.delete(b)}),D&&Kt(this,G),!0}return!1},y.prototype.has=function(b){return this._atom.reportObserved(),this._data.has(this.dehanceValue(b))},y.prototype.entries=function(){var b=0,x=Array.from(this.keys()),D=Array.from(this.values());return ho({next:function(){var G=b;return b+=1,G<D.length?{value:[x[G],D[G]],done:!1}:{done:!0}}})},y.prototype.keys=function(){return this.values()},y.prototype.values=function(){this._atom.reportObserved();var b=this,x=0,D=Array.from(this._data.values());return ho({next:function(){return x<D.length?{value:b.dehanceValue(D[x++]),done:!1}:{done:!0}}})},y.prototype.replace=function(b){var x=this;return dn(b)&&(b=b.toJS()),mn(function(){var D=rt(!0);try{Array.isArray(b)||Z(b)?(x.clear(),b.forEach(function(G){return x.add(G)})):b!=null&&S("Cannot initialize set from "+b)}finally{wt(D)}}),this},y.prototype.observe=function(b,x){return fr(this,b)},y.prototype.intercept=function(b){return lr(this,b)},y.prototype.toJS=function(){return new Set(this)},y.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},y.prototype[Zi=B,Symbol.iterator]=function(){return this.values()},y}(),dn=I("ObservableSet",co),qi=function(){function y(b,x,D,G){x===void 0&&(x=new Map),this.target=b,this.values=x,this.name=D,this.defaultEnhancer=G,this.keysAtom=new N(D+".keys")}return y.prototype.read=function(b){return this.values.get(b).get()},y.prototype.write=function(b,x){var D=this.target,G=this.values.get(b);if(G instanceof Fn)G.set(x);else{if(rn(this)){if(!(pe=vt(this,{type:"update",object:this.proxy||D,name:b,newValue:x})))return;x=pe.newValue}if((x=G.prepareNewValue(x))!==Ue.UNCHANGED){var Q=On(this),pe=Q?{type:"update",object:this.proxy||D,oldValue:G.value,name:b,newValue:x}:null;G.setNewValue(x),Q&&Kt(this,pe)}}},y.prototype.has=function(b){var x=this.pendingKeys||(this.pendingKeys=new Map),D=x.get(b);if(D)return D.get();var G=!!this.values.get(b);return D=new kt(G,Ze,this.name+"."+$(b)+"?",!1),x.set(b,D),D.get()},y.prototype.addObservableProp=function(b,x,D){D===void 0&&(D=this.defaultEnhancer);var G=this.target;if(rn(this)){var Q=vt(this,{object:this.proxy||G,name:b,type:"add",newValue:x});if(!Q)return;x=Q.newValue}var pe=new kt(x,D,this.name+"."+$(b),!1);this.values.set(b,pe),x=pe.value,Object.defineProperty(G,b,function(je){return lo[je]||(lo[je]={configurable:!0,enumerable:!0,get:function(){return this[B].read(je)},set:function(He){this[B].write(je,He)}})}(b)),this.notifyPropertyAddition(b,x)},y.prototype.addComputedProp=function(b,x,D){var G,Q,pe,je=this.target;D.name=D.name||this.name+"."+$(x),this.values.set(x,new Fn(D)),(b===je||(G=b,Q=x,!(pe=Object.getOwnPropertyDescriptor(G,Q))||pe.configurable!==!1&&pe.writable!==!1))&&Object.defineProperty(b,x,function(He){return fo[He]||(fo[He]={configurable:Ue.computedConfigurable,enumerable:!1,get:function(){return po(this).read(He)},set:function(dt){po(this).write(He,dt)}})}(x))},y.prototype.remove=function(b){if(this.values.has(b)){var x=this.target;if(rn(this)&&!(He=vt(this,{object:this.proxy||x,name:b,type:"remove"})))return;try{gn();var D=On(this),G=!1,Q=this.values.get(b),pe=Q&&Q.get();if(Q&&Q.set(void 0),this.keysAtom.reportChanged(),this.values.delete(b),this.pendingKeys){var je=this.pendingKeys.get(b);je&&je.set(!1)}delete this.target[b];var He=D?{type:"remove",object:this.proxy||x,oldValue:pe,name:b}:null;D&&Kt(this,He)}finally{bn()}}},y.prototype.illegalAccess=function(b,x){},y.prototype.observe=function(b,x){return fr(this,b)},y.prototype.intercept=function(b){return lr(this,b)},y.prototype.notifyPropertyAddition=function(b,x){var D=On(this),G=D?{type:"add",object:this.proxy||this.target,name:b,newValue:x}:null;if(D&&Kt(this,G),this.pendingKeys){var Q=this.pendingKeys.get(b);Q&&Q.set(!0)}this.keysAtom.reportChanged()},y.prototype.getKeys=function(){var b,x;this.keysAtom.reportObserved();var D=[];try{for(var G=ce(this.values),Q=G.next();!Q.done;Q=G.next()){var pe=ye(Q.value,2),je=pe[0];pe[1]instanceof kt&&D.push(je)}}catch(He){b={error:He}}finally{try{Q&&!Q.done&&(x=G.return)&&x.call(G)}finally{if(b)throw b.error}}return D},y}();function $r(y,b,x){if(b===void 0&&(b=""),x===void 0&&(x=Ce),Object.prototype.hasOwnProperty.call(y,B))return y[B];k(y)||(b=(y.constructor.name||"ObservableObject")+"@"+w()),b||(b="ObservableObject@"+w());var D=new qi(y,new Map,$(b),x);return C(y,B,D),D}var lo=Object.create(null),fo=Object.create(null);function po(y){var b=y[B];return b||(Le(y),y[B])}var Ji=I("ObservableObjectAdministration",qi);function hn(y){return!!A(y)&&(Le(y),Ji(y[B]))}function _n(y,b){if(typeof y=="object"&&y!==null){if(kn(y))return b!==void 0&&S(!1),y[B].atom;if(dn(y))return y[B];if(It(y)){var x=y;return b===void 0?x._keysAtom:((D=x._data.get(b)||x._hasMap.get(b))||S(!1),D)}var D;if(Le(y),b&&!y[B]&&y[b],hn(y))return b?((D=y[B].values.get(b))||S(!1),D):S(!1);if(z(y)||Un(y)||io(y))return y}else if(typeof y=="function"&&io(y[B]))return y[B];return S(!1)}function Ar(y,b){return y||S("Expecting some object"),b!==void 0?Ar(_n(y,b)):z(y)||Un(y)||io(y)||It(y)||dn(y)?y:(Le(y),y[B]?y[B]:void S(!1))}var Vo=Object.prototype.toString;function Wo(y,b,x){return x===void 0&&(x=-1),$o(y,b,x)}function $o(y,b,x,D,G){if(y===b)return y!==0||1/y==1/b;if(y==null||b==null)return!1;if(y!=y)return b!=b;var Q=typeof y;if(Q!=="function"&&Q!=="object"&&typeof b!="object")return!1;var pe=Vo.call(y);if(pe!==Vo.call(b))return!1;switch(pe){case"[object RegExp]":case"[object String]":return""+y==""+b;case"[object Number]":return+y!=+y?+b!=+b:+y==0?1/+y==1/b:+y==+b;case"[object Date]":case"[object Boolean]":return+y==+b;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(y)===Symbol.valueOf.call(b);case"[object Map]":case"[object Set]":x>=0&&x++}y=Qi(y),b=Qi(b);var je=pe==="[object Array]";if(!je){if(typeof y!="object"||typeof b!="object")return!1;var He=y.constructor,dt=b.constructor;if(He!==dt&&!(typeof He=="function"&&He instanceof He&&typeof dt=="function"&&dt instanceof dt)&&"constructor"in y&&"constructor"in b)return!1}if(x===0)return!1;x<0&&(x=-1),G=G||[];for(var ot=(D=D||[]).length;ot--;)if(D[ot]===y)return G[ot]===b;if(D.push(y),G.push(b),je){if((ot=y.length)!==b.length)return!1;for(;ot--;)if(!$o(y[ot],b[ot],x-1,D,G))return!1}else{var xt=Object.keys(y),ct=void 0;if(ot=xt.length,Object.keys(b).length!==ot)return!1;for(;ot--;)if(!Uu(b,ct=xt[ot])||!$o(y[ct],b[ct],x-1,D,G))return!1}return D.pop(),G.pop(),!0}function Qi(y){return kn(y)?y.slice():H(y)||It(y)||Z(y)||dn(y)?Array.from(y.entries()):y}function Uu(y,b){return Object.prototype.hasOwnProperty.call(y,b)}function ho(y){return y[Symbol.iterator]=pr,y}function pr(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ki,extras:{getDebugName:function(y,b){return(b!==void 0?_n(y,b):hn(y)||It(y)||dn(y)?Ar(y):_n(y)).name}},$mobx:B})}).call(this,o(155),o(82))},function(s,f,o){var l=o(116),c=o(44),g=o(179);l||c(Object.prototype,"toString",g,{unsafe:!0})},function(s,f,o){var l=o(40),c=o(83),g=o(70),m=o(56),w=o(111),S="Array Iterator",E=m.set,M=m.getterFor(S);s.exports=w(Array,"Array",function(P,A){E(this,{type:S,target:l(P),index:0,kind:A})},function(){var P=M(this),A=P.target,k=P.kind,C=P.index++;return!A||C>=A.length?(P.target=void 0,{value:void 0,done:!0}):k=="keys"?{value:C,done:!1}:k=="values"?{value:A[C],done:!1}:{value:[C,A[C]],done:!1}},"values"),g.Arguments=g.Array,c("keys"),c("values"),c("entries")},function(s,f,o){var l=o(7),c=o(147),g=o(148),m=o(3),w=o(57),S=o(27),E=S("iterator"),M=S("toStringTag"),P=m.values,A=function(C,I){if(C){if(C[E]!==P)try{w(C,E,P)}catch{C[E]=P}if(C[M]||w(C,M,I),c[I]){for(var H in m)if(C[H]!==m[H])try{w(C,H,m[H])}catch{C[H]=m[H]}}}};for(var k in c)A(l[k]&&l[k].prototype,k);A(g,"DOMTokenList")},function(s,f,o){var l=o(17),c=o(7),g=o(46),m=o(76),w=o(35),S=o(15),E=o(64),M=o(36),P=o(109),A=o(19),k=o(34),C=o(99),I=o(28),H=o(33),Z=o(58),ne=o(88),$=o(32),Y=o(38),q=o(40),B=o(87),N=o(41),z=o(71),L=o(54),X=o(66),te=o(72),fe=o(139),ce=o(112),ye=o(51),xe=o(37),ve=o(93),ue=o(101),he=o(44),be=o(84),Se=o(91),Le=o(69),Ke=o(85),Pe=o(27),Ce=o(149),Ze=o(150),J=o(73),K=o(56),ae=o(74).forEach,_e=Se("hidden"),Me="Symbol",we=Pe("toPrimitive"),qe=K.set,nt=K.getterFor(Me),Je=Object.prototype,Ve=c.Symbol,ge=Ve&&Ve.prototype,Xe=c.TypeError,ee=c.QObject,ze=g("JSON","stringify"),ut=ye.f,gt=xe.f,it=fe.f,yt=ve.f,St=S([].push),Pt=be("symbols"),at=be("op-symbols"),Nt=be("string-to-symbol-registry"),F=be("symbol-to-string-registry"),re=be("wks"),V=!ee||!ee.prototype||!ee.prototype.findChild,se=M&&A(function(){return L(gt({},"a",{get:function(){return gt(this,"a",{value:7}).a}})).a!=7})?function(Be,We,et){var rt=ut(Je,We);rt&&delete Je[We],gt(Be,We,et),rt&&Be!==Je&&gt(Je,We,rt)}:gt,ke=function(Be,We){var et=Pt[Be]=L(ge);return qe(et,{type:Me,tag:Be,description:We}),M||(et.description=We),et},De=function(Be,We,et){Be===Je&&De(at,We,et),$(Be);var rt=B(We);return $(et),k(Pt,rt)?(et.enumerable?(k(Be,_e)&&Be[_e][rt]&&(Be[_e][rt]=!1),et=L(et,{enumerable:z(0,!1)})):(k(Be,_e)||gt(Be,_e,z(1,{})),Be[_e][rt]=!0),se(Be,rt,et)):gt(Be,rt,et)},Ye=function(Be,We){$(Be);var et=q(We),rt=X(et).concat(Ct(et));return ae(rt,function(wt){M&&!w(ft,et,wt)||De(Be,wt,et[wt])}),Be},ft=function(Be){var We=B(Be),et=w(yt,this,We);return!(this===Je&&k(Pt,We)&&!k(at,We))&&(!(et||!k(this,We)||!k(Pt,We)||k(this,_e)&&this[_e][We])||et)},Ht=function(Be,We){var et=q(Be),rt=B(We);if(et!==Je||!k(Pt,rt)||k(at,rt)){var wt=ut(et,rt);return!wt||!k(Pt,rt)||k(et,_e)&&et[_e][rt]||(wt.enumerable=!0),wt}},$t=function(Be){var We=it(q(Be)),et=[];return ae(We,function(rt){k(Pt,rt)||k(Le,rt)||St(et,rt)}),et},Ct=function(Be){var We=Be===Je,et=it(We?at:q(Be)),rt=[];return ae(et,function(wt){!k(Pt,wt)||We&&!k(Je,wt)||St(rt,Pt[wt])}),rt};if(P||(Ve=function(){if(Z(ge,this))throw Xe("Symbol is not a constructor");var Be=arguments.length&&arguments[0]!==void 0?N(arguments[0]):void 0,We=Ke(Be),et=function(rt){this===Je&&w(et,at,rt),k(this,_e)&&k(this[_e],We)&&(this[_e][We]=!1),se(this,We,z(1,rt))};return M&&V&&se(Je,We,{configurable:!0,set:et}),ke(We,Be)},he(ge=Ve.prototype,"toString",function(){return nt(this).tag}),he(Ve,"withoutSetter",function(Be){return ke(Ke(Be),Be)}),ve.f=ft,xe.f=De,ye.f=Ht,te.f=fe.f=$t,ce.f=Ct,Ce.f=function(Be){return ke(Pe(Be),Be)},M&&(gt(ge,"description",{configurable:!0,get:function(){return nt(this).description}}),E||he(Je,"propertyIsEnumerable",ft,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:Ve}),ae(X(re),function(Be){Ze(Be)}),l({target:Me,stat:!0,forced:!P},{for:function(Be){var We=N(Be);if(k(Nt,We))return Nt[We];var et=Ve(We);return Nt[We]=et,F[et]=We,et},keyFor:function(Be){if(!ne(Be))throw Xe(Be+" is not a symbol");if(k(F,Be))return F[Be]},useSetter:function(){V=!0},useSimple:function(){V=!1}}),l({target:"Object",stat:!0,forced:!P,sham:!M},{create:function(Be,We){return We===void 0?L(Be):Ye(L(Be),We)},defineProperty:De,defineProperties:Ye,getOwnPropertyDescriptor:Ht}),l({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:$t,getOwnPropertySymbols:Ct}),l({target:"Object",stat:!0,forced:A(function(){ce.f(1)})},{getOwnPropertySymbols:function(Be){return ce.f(Y(Be))}}),ze&&l({target:"JSON",stat:!0,forced:!P||A(function(){var Be=Ve();return ze([Be])!="[null]"||ze({a:Be})!="{}"||ze(Object(Be))!="{}"})},{stringify:function(Be,We,et){var rt=ue(arguments),wt=We;if((H(We)||Be!==void 0)&&!ne(Be))return C(We)||(We=function(kt,ur){if(I(wt)&&(ur=w(wt,this,kt,ur)),!ne(ur))return ur}),rt[1]=We,m(ze,null,rt)}}),!ge[we]){var Rt=ge.valueOf;he(ge,we,function(Be){return w(Rt,this)})}J(Ve,Me),Le[_e]=!0},function(s,f,o){var l=o(146).charAt,c=o(41),g=o(56),m=o(111),w="String Iterator",S=g.set,E=g.getterFor(w);m(String,"String",function(M){S(this,{type:w,string:c(M),index:0})},function(){var M,P=E(this),A=P.string,k=P.index;return k>=A.length?{value:void 0,done:!0}:(M=l(A,k),P.index+=M.length,{value:M,done:!1})})},function(s,f,o){(function(l){var c=function(g){return g&&g.Math==Math&&g};s.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,o(82))},function(s,f,o){var l=o(17),c=o(36),g=o(7),m=o(15),w=o(34),S=o(28),E=o(58),M=o(41),P=o(37).f,A=o(134),k=g.Symbol,C=k&&k.prototype;if(c&&S(k)&&(!("description"in C)||k().description!==void 0)){var I={},H=function(){var N=arguments.length<1||arguments[0]===void 0?void 0:M(arguments[0]),z=E(C,this)?new k(N):N===void 0?k():k(N);return N===""&&(I[z]=!0),z};A(H,k),H.prototype=C,C.constructor=H;var Z=String(k("test"))=="Symbol(test)",ne=m(C.toString),$=m(C.valueOf),Y=/^Symbol\((.*)\)[^)]+$/,q=m("".replace),B=m("".slice);P(C,"description",{configurable:!0,get:function(){var N=$(this),z=ne(N);if(w(I,N))return"";var L=Z?B(z,7,-1):q(z,Y,"$1");return L===""?void 0:L}}),l({global:!0,forced:!0},{Symbol:H})}},function(s,f,o){o(150)("iterator")},function(s,f,o){o.d(f,"a",function(){return m.a}),o.d(f,"c",function(){return m.e}),o.d(f,"h",function(){return Y}),o.d(f,"i",function(){return Z}),o.d(f,"j",function(){return I}),o.d(f,"b",function(){return ye}),o.d(f,"e",function(){return he}),o.d(f,"f",function(){return xe}),o.d(f,"g",function(){return Pt});var l,c,g,m=o(0),w=0,S=[],E=m.i.__b,M=m.i.__r,P=m.i.diffed,A=m.i.__c,k=m.i.unmount;function C(F,re){m.i.__h&&m.i.__h(c,F,w||re),w=0;var V=c.__H||(c.__H={__:[],__h:[]});return F>=V.__.length&&V.__.push({}),V.__[F]}function I(F){return w=1,H(te,F)}function H(F,re,V){var se=C(l++,2);return se.t=F,se.__c||(se.__=[V?V(re):te(void 0,re),function(ke){var De=se.t(se.__[0],ke);se.__[0]!==De&&(se.__=[De,se.__[1]],se.__c.setState({}))}],se.__c=c),se.__}function Z(F,re){var V=C(l++,3);!m.i.__s&&X(V.__H,re)&&(V.__=F,V.__H=re,c.__H.__h.push(V))}function ne(F,re){var V=C(l++,4);!m.i.__s&&X(V.__H,re)&&(V.__=F,V.__H=re,c.__h.push(V))}function $(F,re){var V=C(l++,7);return X(V.__H,re)&&(V.__=F(),V.__H=re,V.__h=F),V.__}function Y(F,re){return w=8,$(function(){return F},re)}function q(){var F;for(S.sort(function(re,V){return re.__v.__b-V.__v.__b});F=S.pop();)if(F.__P)try{F.__H.__h.forEach(z),F.__H.__h.forEach(L),F.__H.__h=[]}catch(re){F.__H.__h=[],m.i.__e(re,F.__v)}}m.i.__b=function(F){c=null,E&&E(F)},m.i.__r=function(F){M&&M(F),l=0;var re=(c=F.__c).__H;re&&(re.__h.forEach(z),re.__h.forEach(L),re.__h=[])},m.i.diffed=function(F){P&&P(F);var re=F.__c;re&&re.__H&&re.__H.__h.length&&(S.push(re)!==1&&g===m.i.requestAnimationFrame||((g=m.i.requestAnimationFrame)||N)(q)),c=null},m.i.__c=function(F,re){re.some(function(V){try{V.__h.forEach(z),V.__h=V.__h.filter(function(se){return!se.__||L(se)})}catch(se){re.some(function(ke){ke.__h&&(ke.__h=[])}),re=[],m.i.__e(se,V.__v)}}),A&&A(F,re)},m.i.unmount=function(F){k&&k(F);var re,V=F.__c;V&&V.__H&&(V.__H.__.forEach(function(se){try{z(se)}catch(ke){re=ke}}),re&&m.i.__e(re,V.__v))};var B=typeof requestAnimationFrame=="function";function N(F){var re,V=function(){clearTimeout(se),B&&cancelAnimationFrame(re),setTimeout(F)},se=setTimeout(V,100);B&&(re=requestAnimationFrame(V))}function z(F){var re=c,V=F.__c;typeof V=="function"&&(F.__c=void 0,V()),c=re}function L(F){var re=c;F.__c=F.__(),c=re}function X(F,re){return!F||F.length!==re.length||re.some(function(V,se){return V!==F[se]})}function te(F,re){return typeof re=="function"?re(F):re}function fe(F,re){for(var V in re)F[V]=re[V];return F}function ce(F,re){for(var V in F)if(V!=="__source"&&!(V in re))return!0;for(var se in re)if(se!=="__source"&&F[se]!==re[se])return!0;return!1}function ye(F){this.props=F}function xe(F,re){function V(ke){var De=this.props.ref,Ye=De==ke.ref;return!Ye&&De&&(De.call?De(null):De.current=null),re?!re(this.props,ke)||!Ye:ce(this.props,ke)}function se(ke){return this.shouldComponentUpdate=V,Object(m.e)(F,ke)}return se.displayName="Memo("+(F.displayName||F.name)+")",se.prototype.isReactComponent=!0,se.__f=!0,se}(ye.prototype=new m.a).isPureReactComponent=!0,ye.prototype.shouldComponentUpdate=function(F,re){return ce(this.props,F)||ce(this.state,re)};var ve=m.i.__b;m.i.__b=function(F){F.type&&F.type.__f&&F.ref&&(F.props.ref=F.ref,F.ref=null),ve&&ve(F)};var ue=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function he(F){function re(V,se){var ke=fe({},V);return delete ke.ref,F(ke,!(se=V.ref||se)||typeof se=="object"&&!("current"in se)?null:se)}return re.$$typeof=ue,re.render=re,re.prototype.isReactComponent=re.__f=!0,re.displayName="ForwardRef("+(F.displayName||F.name)+")",re}var be=function(F,re){return F==null?null:Object(m.k)(Object(m.k)(F).map(re))},Se={map:be,forEach:be,count:function(F){return F?Object(m.k)(F).length:0},only:function(F){var re=Object(m.k)(F);if(re.length!==1)throw"Children.only";return re[0]},toArray:m.k},Le=m.i.__e;m.i.__e=function(F,re,V){if(F.then){for(var se,ke=re;ke=ke.__;)if((se=ke.__c)&&se.__c)return re.__e==null&&(re.__e=V.__e,re.__k=V.__k),se.__c(F,re)}Le(F,re,V)};var Ke=m.i.unmount;function Pe(F,re,V){return F&&(F.__c&&F.__c.__H&&(F.__c.__H.__.forEach(function(se){typeof se.__c=="function"&&se.__c()}),F.__c.__H=null),(F=fe({},F)).__c!=null&&(F.__c.__P===V&&(F.__c.__P=re),F.__c=null),F.__k=F.__k&&F.__k.map(function(se){return Pe(se,re,V)})),F}function Ce(F,re,V){return F&&(F.__v=null,F.__k=F.__k&&F.__k.map(function(se){return Ce(se,re,V)}),F.__c&&F.__c.__P===re&&(F.__e&&V.insertBefore(F.__e,F.__d),F.__c.__e=!0,F.__c.__P=V)),F}function Ze(){this.__u=0,this.t=null,this.__b=null}function J(F){var re=F.__.__c;return re&&re.__e&&re.__e(F)}function K(){this.u=null,this.o=null}m.i.unmount=function(F){var re=F.__c;re&&re.__R&&re.__R(),re&&F.__h===!0&&(F.type=null),Ke&&Ke(F)},(Ze.prototype=new m.a).__c=function(F,re){var V=re.__c,se=this;se.t==null&&(se.t=[]),se.t.push(V);var ke=J(se.__v),De=!1,Ye=function(){De||(De=!0,V.__R=null,ke?ke(ft):ft())};V.__R=Ye;var ft=function(){if(!--se.__u){if(se.state.__e){var $t=se.state.__e;se.__v.__k[0]=Ce($t,$t.__c.__P,$t.__c.__O)}var Ct;for(se.setState({__e:se.__b=null});Ct=se.t.pop();)Ct.forceUpdate()}},Ht=re.__h===!0;se.__u++||Ht||se.setState({__e:se.__b=se.__v.__k[0]}),F.then(Ye,Ye)},Ze.prototype.componentWillUnmount=function(){this.t=[]},Ze.prototype.render=function(F,re){if(this.__b){if(this.__v.__k){var V=document.createElement("div"),se=this.__v.__k[0].__c;this.__v.__k[0]=Pe(this.__b,V,se.__O=se.__P)}this.__b=null}var ke=re.__e&&Object(m.e)(m.b,null,F.fallback);return ke&&(ke.__h=null),[Object(m.e)(m.b,null,re.__e?null:F.children),ke]};var ae=function(F,re,V){if(++V[1]===V[0]&&F.o.delete(re),F.props.revealOrder&&(F.props.revealOrder[0]!=="t"||!F.o.size))for(V=F.u;V;){for(;V.length>3;)V.pop()();if(V[1]<V[0])break;F.u=V=V[2]}};function _e(F){return this.getChildContext=function(){return F.context},F.children}function Me(F){var re=this,V=F.i;re.componentWillUnmount=function(){Object(m.j)(null,re.l),re.l=null,re.i=null},re.i&&re.i!==V&&re.componentWillUnmount(),F.__v?(re.l||(re.i=V,re.l={nodeType:1,parentNode:V,childNodes:[],appendChild:function(se){this.childNodes.push(se),re.i.appendChild(se)},insertBefore:function(se,ke){this.childNodes.push(se),re.i.appendChild(se)},removeChild:function(se){this.childNodes.splice(this.childNodes.indexOf(se)>>>1,1),re.i.removeChild(se)}}),Object(m.j)(Object(m.e)(_e,{context:re.context},F.__v),re.l)):re.l&&re.componentWillUnmount()}(K.prototype=new m.a).__e=function(F){var re=this,V=J(re.__v),se=re.o.get(F);return se[0]++,function(ke){var De=function(){re.props.revealOrder?(se.push(ke),ae(re,F,se)):ke()};V?V(De):De()}},K.prototype.render=function(F){this.u=null,this.o=new Map;var re=Object(m.k)(F.children);F.revealOrder&&F.revealOrder[0]==="b"&&re.reverse();for(var V=re.length;V--;)this.o.set(re[V],this.u=[1,0,this.u]);return F.children},K.prototype.componentDidUpdate=K.prototype.componentDidMount=function(){var F=this;this.o.forEach(function(re,V){ae(F,V,re)})};var we=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,qe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nt=typeof document<"u",Je=function(F){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(F)};m.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(F){Object.defineProperty(m.a.prototype,F,{configurable:!0,get:function(){return this["UNSAFE_"+F]},set:function(re){Object.defineProperty(this,F,{configurable:!0,writable:!0,value:re})}})});var Ve=m.i.event;function ge(){}function Xe(){return this.cancelBubble}function ee(){return this.defaultPrevented}m.i.event=function(F){return Ve&&(F=Ve(F)),F.persist=ge,F.isPropagationStopped=Xe,F.isDefaultPrevented=ee,F.nativeEvent=F};var ze,ut={configurable:!0,get:function(){return this.class}},gt=m.i.vnode;m.i.vnode=function(F){var re=F.type,V=F.props,se=V;if(typeof re=="string"){var ke=re.indexOf("-")===-1;for(var De in se={},V){var Ye=V[De];nt&&De==="children"&&re==="noscript"||De==="value"&&"defaultValue"in V&&Ye==null||(De==="defaultValue"&&"value"in V&&V.value==null?De="value":De==="download"&&Ye===!0?Ye="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+re)&&!Je(V.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():ke&&qe.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ye===null&&(Ye=void 0),se[De]=Ye)}re=="select"&&se.multiple&&Array.isArray(se.value)&&(se.value=Object(m.k)(V.children).forEach(function(ft){ft.props.selected=se.value.indexOf(ft.props.value)!=-1})),re=="select"&&se.defaultValue!=null&&(se.value=Object(m.k)(V.children).forEach(function(ft){ft.props.selected=se.multiple?se.defaultValue.indexOf(ft.props.value)!=-1:se.defaultValue==ft.props.value})),F.props=se,V.class!=V.className&&(ut.enumerable="className"in V,V.className!=null&&(se.class=V.className),Object.defineProperty(se,"className",ut))}F.$$typeof=we,gt&&gt(F)};var it=m.i.__r;m.i.__r=function(F){it&&it(F),ze=F.__c};var yt={ReactCurrentDispatcher:{current:{readContext:function(F){return ze.__n[F.__c].props.value}}}};function St(F){return!!F&&F.$$typeof===we}var Pt=function(F,re){return F(re)},at=m.b,Nt={useState:I,useReducer:H,useEffect:Z,useLayoutEffect:ne,useRef:function(F){return w=5,$(function(){return{current:F}},[])},useImperativeHandle:function(F,re,V){w=6,ne(function(){typeof F=="function"?F(re()):F&&(F.current=re())},V==null?V:V.concat(F))},useMemo:$,useCallback:Y,useContext:function(F){var re=c.context[F.__c],V=C(l++,9);return V.c=F,re?(V.__==null&&(V.__=!0,re.sub(c)),re.props.value):F.__},useDebugValue:function(F,re){m.i.useDebugValue&&m.i.useDebugValue(re?re(F):F)},version:"17.0.2",Children:Se,render:function(F,re,V){return re.__k==null&&(re.textContent=""),Object(m.j)(F,re),typeof V=="function"&&V(),F?F.__c:null},hydrate:function(F,re,V){return Object(m.h)(F,re),typeof V=="function"&&V(),F?F.__c:null},unmountComponentAtNode:function(F){return!!F.__k&&(Object(m.j)(null,F),!0)},createPortal:function(F,re){return Object(m.e)(Me,{__v:F,i:re})},createElement:m.e,createContext:m.d,createFactory:function(F){return m.e.bind(null,F)},cloneElement:function(F){return St(F)?m.c.apply(null,arguments):F},createRef:m.f,Fragment:m.b,isValidElement:St,findDOMNode:function(F){return F&&(F.base||F.nodeType===1&&F)||null},Component:m.a,PureComponent:ye,memo:xe,forwardRef:he,flushSync:function(F,re){return F(re)},unstable_batchedUpdates:Pt,StrictMode:at,Suspense:Ze,SuspenseList:K,lazy:function(F){var re,V,se;function ke(De){if(re||(re=F()).then(function(Ye){V=Ye.default||Ye},function(Ye){se=Ye}),se)throw se;if(!V)throw re;return Object(m.e)(V,De)}return ke.displayName="Lazy",ke.__f=!0,ke},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:yt};f.d=Nt},function(s,f,o){var l=o(7),c=o(147),g=o(148),m=o(180),w=o(57),S=function(M){if(M&&M.forEach!==m)try{w(M,"forEach",m)}catch{M.forEach=m}};for(var E in c)c[E]&&S(l[E]&&l[E].prototype);S(g)},function(s,f,o){o(17)({target:"Object",stat:!0},{setPrototypeOf:o(97)})},function(s,f,o){var l=o(17),c=o(19),g=o(38),m=o(96),w=o(137);l({target:"Object",stat:!0,forced:c(function(){m(1)}),sham:!w},{getPrototypeOf:function(S){return m(g(S))}})},function(s,f,o){var l=o(17),c=o(46),g=o(76),m=o(200),w=o(157),S=o(32),E=o(33),M=o(54),P=o(19),A=c("Reflect","construct"),k=Object.prototype,C=[].push,I=P(function(){function ne(){}return!(A(function(){},[],ne)instanceof ne)}),H=!P(function(){A(function(){})}),Z=I||H;l({target:"Reflect",stat:!0,forced:Z,sham:Z},{construct:function(ne,$){w(ne),S($);var Y=arguments.length<3?ne:w(arguments[2]);if(H&&!I)return A(ne,$,Y);if(ne==Y){switch($.length){case 0:return new ne;case 1:return new ne($[0]);case 2:return new ne($[0],$[1]);case 3:return new ne($[0],$[1],$[2]);case 4:return new ne($[0],$[1],$[2],$[3])}var q=[null];return g(C,q,$),new(g(m,ne,q))}var B=Y.prototype,N=M(E(B)?B:k),z=g(ne,N,$);return E(z)?z:N}})},function(s,f){var o=Function.prototype,l=o.bind,c=o.call,g=l&&l.bind(c);s.exports=l?function(m){return m&&g(c,m)}:function(m){return m&&function(){return c.apply(m,arguments)}}},function(s,f,o){var l=o(17),c=o(7),g=o(99),m=o(100),w=o(33),S=o(67),E=o(43),M=o(40),P=o(61),A=o(27),k=o(75),C=o(101),I=k("slice"),H=A("species"),Z=c.Array,ne=Math.max;l({target:"Array",proto:!0,forced:!I},{slice:function($,Y){var q,B,N,z=M(this),L=E(z),X=S($,L),te=S(Y===void 0?L:Y,L);if(g(z)&&(q=z.constructor,(m(q)&&(q===Z||g(q.prototype))||w(q)&&(q=q[H])===null)&&(q=void 0),q===Z||q===void 0))return C(z,X,te);for(B=new(q===void 0?Z:q)(ne(te-X,0)),N=0;X<te;X++,N++)X in z&&P(B,N,z[X]);return B.length=N,B}})},function(s,f,o){var l=o(7),c=o(51).f,g=o(57),m=o(44),w=o(108),S=o(134),E=o(95);s.exports=function(M,P){var A,k,C,I,H,Z=M.target,ne=M.global,$=M.stat;if(A=ne?l:$?l[Z]||w(Z,{}):(l[Z]||{}).prototype)for(k in P){if(I=P[k],C=M.noTargetGet?(H=c(A,k))&&H.value:A[k],!E(ne?k:Z+($?".":"#")+k,M.forced)&&C!==void 0){if(typeof I==typeof C)continue;S(I,C)}(M.sham||C&&C.sham)&&g(I,"sham",!0),m(A,k,I,M)}}},function(s,f,o){var l=o(17),c=o(102);l({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},function(s,f){s.exports=function(o){try{return!!o()}catch{return!0}}},function(s,f,o){var l=o(17),c=o(38),g=o(66);l({target:"Object",stat:!0,forced:o(19)(function(){g(1)})},{keys:function(m){return g(c(m))}})},function(s,f,o){var l=o(17),c=o(19),g=o(40),m=o(51).f,w=o(36),S=c(function(){m(1)});l({target:"Object",stat:!0,forced:!w||S,sham:!w},{getOwnPropertyDescriptor:function(E,M){return m(g(E),M)}})},function(s,f,o){var l=o(36),c=o(94).EXISTS,g=o(15),m=o(37).f,w=Function.prototype,S=g(w.toString),E=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,M=g(E.exec);l&&!c&&m(w,"name",{configurable:!0,get:function(){try{return M(E,S(this))[1]}catch{return""}}})},function(s,f,o){var l=o(17),c=o(74).filter;l({target:"Array",proto:!0,forced:!o(75)("filter")},{filter:function(g){return c(this,g,arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var l=o(17),c=o(183);l({target:"Array",stat:!0,forced:!o(118)(function(g){Array.from(g)})},{from:c})},function(s,f,o){var l=o(17),c=o(36),g=o(135),m=o(40),w=o(51),S=o(61);l({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(E){for(var M,P,A=m(E),k=w.f,C=g(A),I={},H=0;C.length>H;)(P=k(A,M=C[H++]))!==void 0&&S(I,M,P);return I}})},,function(s,f,o){var l=o(7),c=o(84),g=o(34),m=o(85),w=o(109),S=o(128),E=c("wks"),M=l.Symbol,P=M&&M.for,A=S?M:M&&M.withoutSetter||m;s.exports=function(k){if(!g(E,k)||!w&&typeof E[k]!="string"){var C="Symbol."+k;w&&g(M,k)?E[k]=M[k]:E[k]=S&&P?P(C):A(C)}return E[k]}},function(s,f){s.exports=function(o){return typeof o=="function"}},function(s,f,o){var l=o(17),c=o(7),g=o(19),m=o(99),w=o(33),S=o(38),E=o(43),M=o(61),P=o(119),A=o(75),k=o(27),C=o(65),I=k("isConcatSpreadable"),H=9007199254740991,Z="Maximum allowed index exceeded",ne=c.TypeError,$=C>=51||!g(function(){var B=[];return B[I]=!1,B.concat()[0]!==B}),Y=A("concat"),q=function(B){if(!w(B))return!1;var N=B[I];return N!==void 0?!!N:m(B)};l({target:"Array",proto:!0,forced:!$||!Y},{concat:function(B){var N,z,L,X,te,fe=S(this),ce=P(fe,0),ye=0;for(N=-1,L=arguments.length;N<L;N++)if(q(te=N===-1?fe:arguments[N])){if(ye+(X=E(te))>H)throw ne(Z);for(z=0;z<X;z++,ye++)z in te&&M(ce,ye,te[z])}else{if(ye>=H)throw ne(Z);M(ce,ye++,te)}return ce.length=ye,ce}})},function(s,f,o){var l=o(17),c=o(199);l({target:"Object",stat:!0,forced:Object.assign!==c},{assign:c})},function(s,f,o){var l=o(105),c=typeof self=="object"&&self&&self.Object===Object&&self,g=l.a||c||Function("return this")();f.a=g},function(s,f,o){var l=o(7),c=o(33),g=l.String,m=l.TypeError;s.exports=function(w){if(c(w))return w;throw m(g(w)+" is not an object")}},function(s,f,o){var l=o(28);s.exports=function(c){return typeof c=="object"?c!==null:l(c)}},function(s,f,o){var l=o(15),c=o(38),g=l({}.hasOwnProperty);s.exports=Object.hasOwn||function(m,w){return g(c(m),w)}},function(s,f){var o=Function.prototype.call;s.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(s,f,o){var l=o(19);s.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,f,o){var l=o(7),c=o(36),g=o(129),m=o(32),w=o(87),S=l.TypeError,E=Object.defineProperty;f.f=c?E:function(M,P,A){if(m(M),P=w(P),m(A),g)try{return E(M,P,A)}catch{}if("get"in A||"set"in A)throw S("Accessors not supported");return"value"in A&&(M[P]=A.value),M}},function(s,f,o){var l=o(7),c=o(45),g=l.Object;s.exports=function(m){return g(c(m))}},function(s,f,o){var l=o(17),c=o(74).map;l({target:"Array",proto:!0,forced:!o(75)("map")},{map:function(g){return c(this,g,arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var l=o(81),c=o(45);s.exports=function(g){return l(c(g))}},function(s,f,o){var l=o(7),c=o(98),g=l.String;s.exports=function(m){if(c(m)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return g(m)}},function(s,f,o){(function(l){o.d(f,"d",function(){return m}),o.d(f,"c",function(){return w}),o.d(f,"b",function(){return S}),o.d(f,"a",function(){return M});var c=o(10),g=function(P,A){var k=typeof Symbol=="function"&&P[Symbol.iterator];if(!k)return P;var C,I,H=k.call(P),Z=[];try{for(;(A===void 0||A-- >0)&&!(C=H.next()).done;)Z.push(C.value)}catch(ne){I={error:ne}}finally{try{C&&!C.done&&(k=H.return)&&k.call(H)}finally{if(I)throw I.error}}return Z};function m(){var P=g(Object(c.j)(0),2)[1];return Object(c.h)(function(){P(function(A){return A+1})},[])}function w(P){if(!P||typeof P!="object")return!1;var A=Object.getPrototypeOf(P);return!A||A===Object.prototype}function S(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var E={};function M(){return typeof window<"u"?window:l!==void 0?l:typeof self<"u"?self:E}}).call(this,o(82))},function(s,f,o){var l=o(90);s.exports=function(c){return l(c.length)}},function(s,f,o){var l=o(7),c=o(28),g=o(34),m=o(57),w=o(108),S=o(92),E=o(56),M=o(94).CONFIGURABLE,P=E.get,A=E.enforce,k=String(String).split("String");(s.exports=function(C,I,H,Z){var ne,$=!!Z&&!!Z.unsafe,Y=!!Z&&!!Z.enumerable,q=!!Z&&!!Z.noTargetGet,B=Z&&Z.name!==void 0?Z.name:I;c(H)&&(String(B).slice(0,7)==="Symbol("&&(B="["+String(B).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!g(H,"name")||M&&H.name!==B)&&m(H,"name",B),(ne=A(H)).source||(ne.source=k.join(typeof B=="string"?B:""))),C!==l?($?!q&&C[I]&&(Y=!0):delete C[I],Y?C[I]=H:m(C,I,H)):Y?C[I]=H:w(I,H)})(Function.prototype,"toString",function(){return c(this)&&P(this).source||S(this)})},function(s,f,o){var l=o(7).TypeError;s.exports=function(c){if(c==null)throw l("Can't call method on "+c);return c}},function(s,f,o){var l=o(7),c=o(28),g=function(m){return c(m)?m:void 0};s.exports=function(m,w){return arguments.length<2?g(l[m]):l[m]&&l[m][w]}},function(s,f,o){var l=o(17),c=o(35),g=o(33),m=o(32),w=o(201),S=o(51),E=o(96);l({target:"Reflect",stat:!0},{get:function M(P,A){var k,C,I=arguments.length<3?P:arguments[2];return m(P)===I?P[A]:(k=S.f(P,A))?w(k)?k.value:k.get===void 0?void 0:c(k.get,I):g(C=E(P))?M(C,A,I):void 0}})},function(s,f,o){(function(l){var c=o(31),g=o(166),m=d&&!d.nodeType&&d,w=m&&typeof l=="object"&&l&&!l.nodeType&&l,S=w&&w.exports===m?c.a.Buffer:void 0,E=(S?S.isBuffer:void 0)||g.a;f.a=E}).call(this,o(121)(s))},function(s,f,o){(function(l){var c=o(105),g=d&&!d.nodeType&&d,m=g&&typeof l=="object"&&l&&!l.nodeType&&l,w=m&&m.exports===g&&c.a.process,S=function(){try{var E=m&&m.require&&m.require("util").types;return E||w&&w.binding&&w.binding("util")}catch{}}();f.a=S}).call(this,o(121)(s))},function(s,f,o){var l=o(15),c=l({}.toString),g=l("".slice);s.exports=function(m){return g(c(m),8,-1)}},function(s,f,o){var l=o(36),c=o(35),g=o(93),m=o(71),w=o(40),S=o(87),E=o(34),M=o(129),P=Object.getOwnPropertyDescriptor;f.f=l?P:function(A,k){if(A=w(A),k=S(k),M)try{return P(A,k)}catch{}if(E(A,k))return m(!c(g.f,A,k),A[k])}},function(s,f,o){var l=o(17),c=o(213).entries;l({target:"Object",stat:!0},{entries:function(g){return c(g)}})},function(s,f,o){var l=o(46);s.exports=l("navigator","userAgent")||""},function(s,f,o){var l,c=o(32),g=o(169),m=o(110),w=o(69),S=o(133),E=o(86),M=o(91),P=M("IE_PROTO"),A=function(){},k=function(H){return"<script>"+H+"<\/script>"},C=function(H){H.write(k("")),H.close();var Z=H.parentWindow.Object;return H=null,Z},I=function(){try{l=new ActiveXObject("htmlfile")}catch{}var H,Z;I=typeof document<"u"?document.domain&&l?C(l):((Z=E("iframe")).style.display="none",S.appendChild(Z),Z.src="javascript:",(H=Z.contentWindow.document).open(),H.write(k("document.F=Object")),H.close(),H.F):C(l);for(var ne=m.length;ne--;)delete I.prototype[m[ne]];return I()};w[P]=!0,s.exports=Object.create||function(H,Z){var ne;return H!==null?(A.prototype=c(H),ne=new A,A.prototype=null,ne[P]=H):ne=I(),Z===void 0?ne:g(ne,Z)}},function(s,f,o){var l=o(7),c=o(28),g=o(89),m=l.TypeError;s.exports=function(w){if(c(w))return w;throw m(g(w)+" is not a function")}},function(s,f,o){var l,c,g,m=o(171),w=o(7),S=o(15),E=o(33),M=o(57),P=o(34),A=o(107),k=o(91),C=o(69),I="Object already initialized",H=w.TypeError,Z=w.WeakMap;if(m||A.state){var ne=A.state||(A.state=new Z),$=S(ne.get),Y=S(ne.has),q=S(ne.set);l=function(N,z){if(Y(ne,N))throw new H(I);return z.facade=N,q(ne,N,z),z},c=function(N){return $(ne,N)||{}},g=function(N){return Y(ne,N)}}else{var B=k("state");C[B]=!0,l=function(N,z){if(P(N,B))throw new H(I);return z.facade=N,M(N,B,z),z},c=function(N){return P(N,B)?N[B]:{}},g=function(N){return P(N,B)}}s.exports={set:l,get:c,has:g,enforce:function(N){return g(N)?c(N):l(N,{})},getterFor:function(N){return function(z){var L;if(!E(z)||(L=c(z)).type!==N)throw H("Incompatible receiver, "+N+" required");return L}}}},function(s,f,o){var l=o(36),c=o(37),g=o(71);s.exports=l?function(m,w,S){return c.f(m,w,g(1,S))}:function(m,w,S){return m[w]=S,m}},function(s,f,o){var l=o(15);s.exports=l({}.isPrototypeOf)},function(s,f,o){var l=o(55);s.exports=function(c,g){var m=c[g];return m==null?void 0:l(m)}},function(s,f,o){o(174)("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},o(178))},function(s,f,o){var l=o(87),c=o(37),g=o(71);s.exports=function(m,w,S){var E=l(w);E in m?c.f(m,E,g(0,S)):m[E]=S}},function(s,f,o){var l=o(15),c=o(55),g=l(l.bind);s.exports=function(m,w){return c(m),w===void 0?m:g?g(m,w):function(){return m.apply(w,arguments)}}},function(s,f,o){var l=o(17),c=o(15),g=o(81),m=o(40),w=o(120),S=c([].join),E=g!=Object,M=w("join",",");l({target:"Array",proto:!0,forced:E||!M},{join:function(P){return S(m(this),P===void 0?",":P)}})},function(s,f){s.exports=!1},function(s,f,o){var l,c,g=o(7),m=o(53),w=g.process,S=g.Deno,E=w&&w.versions||S&&S.version,M=E&&E.v8;M&&(c=(l=M.split("."))[0]>0&&l[0]<4?1:+(l[0]+l[1])),!c&&m&&(!(l=m.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=m.match(/Chrome\/(\d+)/))&&(c=+l[1]),s.exports=c},function(s,f,o){var l=o(131),c=o(110);s.exports=Object.keys||function(g){return l(g,c)}},function(s,f,o){var l=o(68),c=Math.max,g=Math.min;s.exports=function(m,w){var S=l(m);return S<0?c(S+w,0):g(S,w)}},function(s,f){var o=Math.ceil,l=Math.floor;s.exports=function(c){var g=+c;return g!=g||g===0?0:(g>0?l:o)(g)}},function(s,f){s.exports={}},function(s,f){s.exports={}},function(s,f){s.exports=function(o,l){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:l}}},function(s,f,o){var l=o(131),c=o(110).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(g){return l(g,c)}},function(s,f,o){var l=o(37).f,c=o(34),g=o(27)("toStringTag");s.exports=function(m,w,S){m&&!c(m=S?m:m.prototype,g)&&l(m,g,{configurable:!0,value:w})}},function(s,f,o){var l=o(62),c=o(15),g=o(81),m=o(38),w=o(43),S=o(119),E=c([].push),M=function(P){var A=P==1,k=P==2,C=P==3,I=P==4,H=P==6,Z=P==7,ne=P==5||H;return function($,Y,q,B){for(var N,z,L=m($),X=g(L),te=l(Y,q),fe=w(X),ce=0,ye=B||S,xe=A?ye($,fe):k||Z?ye($,0):void 0;fe>ce;ce++)if((ne||ce in X)&&(z=te(N=X[ce],ce,L),P))if(A)xe[ce]=z;else if(z)switch(P){case 3:return!0;case 5:return N;case 6:return ce;case 2:E(xe,N)}else switch(P){case 4:return!1;case 7:E(xe,N)}return H?-1:C||I?I:xe}};s.exports={forEach:M(0),map:M(1),filter:M(2),some:M(3),every:M(4),find:M(5),findIndex:M(6),filterReject:M(7)}},function(s,f,o){var l=o(19),c=o(27),g=o(65),m=c("species");s.exports=function(w){return g>=51||!l(function(){var S=[];return(S.constructor={})[m]=function(){return{foo:1}},S[w](Boolean).foo!==1})}},function(s,f){var o=Function.prototype,l=o.apply,c=o.bind,g=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(c?g.bind(l):function(){return g.apply(l,arguments)})},function(s,f,o){var l=o(76),c=o(35),g=o(15),m=o(122),w=o(154),S=o(32),E=o(45),M=o(156),P=o(123),A=o(90),k=o(41),C=o(59),I=o(113),H=o(124),Z=o(102),ne=o(151),$=o(19),Y=ne.UNSUPPORTED_Y,q=4294967295,B=Math.min,N=[].push,z=g(/./.exec),L=g(N),X=g("".slice),te=!$(function(){var fe=/(?:)/,ce=fe.exec;fe.exec=function(){return ce.apply(this,arguments)};var ye="ab".split(fe);return ye.length!==2||ye[0]!=="a"||ye[1]!=="b"});m("split",function(fe,ce,ye){var xe;return xe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(ve,ue){var he=k(E(this)),be=ue===void 0?q:ue>>>0;if(be===0)return[];if(ve===void 0)return[he];if(!w(ve))return c(ce,he,ve,be);for(var Se,Le,Ke,Pe=[],Ce=(ve.ignoreCase?"i":"")+(ve.multiline?"m":"")+(ve.unicode?"u":"")+(ve.sticky?"y":""),Ze=0,J=new RegExp(ve.source,Ce+"g");(Se=c(Z,J,he))&&!((Le=J.lastIndex)>Ze&&(L(Pe,X(he,Ze,Se.index)),Se.length>1&&Se.index<he.length&&l(N,Pe,I(Se,1)),Ke=Se[0].length,Ze=Le,Pe.length>=be));)J.lastIndex===Se.index&&J.lastIndex++;return Ze===he.length?!Ke&&z(J,"")||L(Pe,""):L(Pe,X(he,Ze)),Pe.length>be?I(Pe,0,be):Pe}:"0".split(void 0,0).length?function(ve,ue){return ve===void 0&&ue===0?[]:c(ce,this,ve,ue)}:ce,[function(ve,ue){var he=E(this),be=ve==null?void 0:C(ve,fe);return be?c(be,ve,he,ue):c(xe,k(he),ve,ue)},function(ve,ue){var he=S(this),be=k(ve),Se=ye(xe,he,be,ue,xe!==ce);if(Se.done)return Se.value;var Le=M(he,RegExp),Ke=he.unicode,Pe=(he.ignoreCase?"i":"")+(he.multiline?"m":"")+(he.unicode?"u":"")+(Y?"g":"y"),Ce=new Le(Y?"^(?:"+he.source+")":he,Pe),Ze=ue===void 0?q:ue>>>0;if(Ze===0)return[];if(be.length===0)return H(Ce,be)===null?[be]:[];for(var J=0,K=0,ae=[];K<be.length;){Ce.lastIndex=Y?0:K;var _e,Me=H(Ce,Y?X(be,K):be);if(Me===null||(_e=B(A(Ce.lastIndex+(Y?K:0)),be.length))===J)K=P(be,K,Ke);else{if(L(ae,X(be,J,K)),ae.length===Ze)return ae;for(var we=1;we<=Me.length-1;we++)if(L(ae,Me[we]),ae.length===Ze)return ae;K=J=_e}}return L(ae,X(be,J)),ae}]},!te,Y)},function(s,f,o){var l=o(36),c=o(7),g=o(15),m=o(95),w=o(44),S=o(34),E=o(143),M=o(58),P=o(88),A=o(130),k=o(19),C=o(72).f,I=o(51).f,H=o(37).f,Z=o(197),ne=o(159).trim,$="Number",Y=c.Number,q=Y.prototype,B=c.TypeError,N=g("".slice),z=g("".charCodeAt),L=function(xe){var ve=A(xe,"number");return typeof ve=="bigint"?ve:X(ve)},X=function(xe){var ve,ue,he,be,Se,Le,Ke,Pe,Ce=A(xe,"number");if(P(Ce))throw B("Cannot convert a Symbol value to a number");if(typeof Ce=="string"&&Ce.length>2){if(Ce=ne(Ce),(ve=z(Ce,0))===43||ve===45){if((ue=z(Ce,2))===88||ue===120)return NaN}else if(ve===48){switch(z(Ce,1)){case 66:case 98:he=2,be=49;break;case 79:case 111:he=8,be=55;break;default:return+Ce}for(Le=(Se=N(Ce,2)).length,Ke=0;Ke<Le;Ke++)if((Pe=z(Se,Ke))<48||Pe>be)return NaN;return parseInt(Se,he)}}return+Ce};if(m($,!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var te,fe=function(xe){var ve=arguments.length<1?0:Y(L(xe)),ue=this;return M(q,ue)&&k(function(){Z(ue)})?E(Object(ve),ue,fe):ve},ce=l?C(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ye=0;ce.length>ye;ye++)S(Y,te=ce[ye])&&!S(fe,te)&&H(fe,te,I(Y,te));fe.prototype=q,q.constructor=fe,w(c,$,fe)}},function(s,f,o){o(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,f,o){var l=o(17),c=o(214),g=o(83);l({target:"Array",proto:!0},{fill:c}),g("fill")},function(s,f,o){var l=o(7),c=o(15),g=o(19),m=o(50),w=l.Object,S=c("".split);s.exports=g(function(){return!w("z").propertyIsEnumerable(0)})?function(E){return m(E)=="String"?S(E,""):w(E)}:w},function(s,f){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}s.exports=o},function(s,f,o){var l=o(27),c=o(54),g=o(37),m=l("unscopables"),w=Array.prototype;w[m]==null&&g.f(w,m,{configurable:!0,value:c(null)}),s.exports=function(S){w[m][S]=!0}},function(s,f,o){var l=o(64),c=o(107);(s.exports=function(g,m){return c[g]||(c[g]=m!==void 0?m:{})})("versions",[]).push({version:"3.19.3",mode:l?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(s,f,o){var l=o(15),c=0,g=Math.random(),m=l(1 .toString);s.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+m(++c+g,36)}},function(s,f,o){var l=o(7),c=o(33),g=l.document,m=c(g)&&c(g.createElement);s.exports=function(w){return m?g.createElement(w):{}}},function(s,f,o){var l=o(130),c=o(88);s.exports=function(g){var m=l(g,"string");return c(m)?m:m+""}},function(s,f,o){var l=o(7),c=o(46),g=o(28),m=o(58),w=o(128),S=l.Object;s.exports=w?function(E){return typeof E=="symbol"}:function(E){var M=c("Symbol");return g(M)&&m(M.prototype,S(E))}},function(s,f,o){var l=o(7).String;s.exports=function(c){try{return l(c)}catch{return"Object"}}},function(s,f,o){var l=o(68),c=Math.min;s.exports=function(g){return g>0?c(l(g),9007199254740991):0}},function(s,f,o){var l=o(84),c=o(85),g=l("keys");s.exports=function(m){return g[m]||(g[m]=c(m))}},function(s,f,o){var l=o(15),c=o(28),g=o(107),m=l(Function.toString);c(g.inspectSource)||(g.inspectSource=function(w){return m(w)}),s.exports=g.inspectSource},function(s,f,o){var l={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,g=c&&!l.call({1:2},1);f.f=g?function(m){var w=c(this,m);return!!w&&w.enumerable}:l},function(s,f,o){var l=o(36),c=o(34),g=Function.prototype,m=l&&Object.getOwnPropertyDescriptor,w=c(g,"name"),S=w&&(function(){}).name==="something",E=w&&(!l||l&&m(g,"name").configurable);s.exports={EXISTS:w,PROPER:S,CONFIGURABLE:E}},function(s,f,o){var l=o(19),c=o(28),g=/#|\.prototype\./,m=function(P,A){var k=S[w(P)];return k==M||k!=E&&(c(A)?l(A):!!A)},w=m.normalize=function(P){return String(P).replace(g,".").toLowerCase()},S=m.data={},E=m.NATIVE="N",M=m.POLYFILL="P";s.exports=m},function(s,f,o){var l=o(7),c=o(34),g=o(28),m=o(38),w=o(91),S=o(137),E=w("IE_PROTO"),M=l.Object,P=M.prototype;s.exports=S?M.getPrototypeOf:function(A){var k=m(A);if(c(k,E))return k[E];var C=k.constructor;return g(C)&&k instanceof C?C.prototype:k instanceof M?P:null}},function(s,f,o){var l=o(15),c=o(32),g=o(173);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m,w=!1,S={};try{(m=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(S,[]),w=S instanceof Array}catch{}return function(E,M){return c(E),g(M),w?m(E,M):E.__proto__=M,E}}():void 0)},function(s,f,o){var l=o(7),c=o(116),g=o(28),m=o(50),w=o(27)("toStringTag"),S=l.Object,E=m(function(){return arguments}())=="Arguments";s.exports=c?m:function(M){var P,A,k;return M===void 0?"Undefined":M===null?"Null":typeof(A=function(C,I){try{return C[I]}catch{}}(P=S(M),w))=="string"?A:E?m(P):(k=m(P))=="Object"&&g(P.callee)?"Arguments":k}},function(s,f,o){var l=o(50);s.exports=Array.isArray||function(c){return l(c)=="Array"}},function(s,f,o){var l=o(15),c=o(19),g=o(28),m=o(98),w=o(46),S=o(92),E=function(){},M=[],P=w("Reflect","construct"),A=/^\s*(?:class|function)\b/,k=l(A.exec),C=!A.exec(E),I=function(H){if(!g(H))return!1;try{return P(E,M,H),!0}catch{return!1}};s.exports=!P||c(function(){var H;return I(I.call)||!I(Object)||!I(function(){H=!0})||H})?function(H){if(!g(H))return!1;switch(m(H)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return C||!!k(A,S(H))}:I},function(s,f,o){var l=o(15);s.exports=l([].slice)},function(s,f,o){var l,c,g=o(35),m=o(15),w=o(41),S=o(185),E=o(151),M=o(84),P=o(54),A=o(56).get,k=o(186),C=o(187),I=M("native-string-replace",String.prototype.replace),H=RegExp.prototype.exec,Z=H,ne=m("".charAt),$=m("".indexOf),Y=m("".replace),q=m("".slice),B=(c=/b*/g,g(H,l=/a/,"a"),g(H,c,"a"),l.lastIndex!==0||c.lastIndex!==0),N=E.BROKEN_CARET,z=/()??/.exec("")[1]!==void 0;(B||z||N||k||C)&&(Z=function(L){var X,te,fe,ce,ye,xe,ve,ue=this,he=A(ue),be=w(L),Se=he.raw;if(Se)return Se.lastIndex=ue.lastIndex,X=g(Z,Se,be),ue.lastIndex=Se.lastIndex,X;var Le=he.groups,Ke=N&&ue.sticky,Pe=g(S,ue),Ce=ue.source,Ze=0,J=be;if(Ke&&(Pe=Y(Pe,"y",""),$(Pe,"g")===-1&&(Pe+="g"),J=q(be,ue.lastIndex),ue.lastIndex>0&&(!ue.multiline||ue.multiline&&ne(be,ue.lastIndex-1)!==`
`)&&(Ce="(?: "+Ce+")",J=" "+J,Ze++),te=new RegExp("^(?:"+Ce+")",Pe)),z&&(te=new RegExp("^"+Ce+"$(?!\\s)",Pe)),B&&(fe=ue.lastIndex),ce=g(H,Ke?te:ue,J),Ke?ce?(ce.input=q(ce.input,Ze),ce[0]=q(ce[0],Ze),ce.index=ue.lastIndex,ue.lastIndex+=ce[0].length):ue.lastIndex=0:B&&ce&&(ue.lastIndex=ue.global?ce.index+ce[0].length:fe),z&&ce&&ce.length>1&&g(I,ce[0],te,function(){for(ye=1;ye<arguments.length-2;ye++)arguments[ye]===void 0&&(ce[ye]=void 0)}),ce&&Le)for(ce.groups=xe=P(null),ye=0;ye<Le.length;ye++)xe[(ve=Le[ye])[0]]=ce[ve[1]];return ce}),s.exports=Z},function(s,f,o){var l=o(17),c=o(7),g=o(67),m=o(68),w=o(43),S=o(38),E=o(119),M=o(61),P=o(75)("splice"),A=c.TypeError,k=Math.max,C=Math.min,I=9007199254740991,H="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!P},{splice:function(Z,ne){var $,Y,q,B,N,z,L=S(this),X=w(L),te=g(Z,X),fe=arguments.length;if(fe===0?$=Y=0:fe===1?($=0,Y=X-te):($=fe-2,Y=C(k(m(ne),0),X-te)),X+$-Y>I)throw A(H);for(q=E(L,Y),B=0;B<Y;B++)(N=te+B)in L&&M(q,B,L[N]);if(q.length=Y,$<Y){for(B=te;B<X-Y;B++)z=B+$,(N=B+Y)in L?L[z]=L[N]:delete L[z];for(B=X;B>X-Y+$;B--)delete L[B-1]}else if($>Y)for(B=X-Y;B>te;B--)z=B+$-1,(N=B+Y-1)in L?L[z]=L[N]:delete L[z];for(B=0;B<$;B++)L[B+te]=arguments[B+2];return L.length=X-Y+$,q}})},function(s,f,o){var l=o(17),c=o(202);l({target:"String",proto:!0,forced:o(203)("anchor")},{anchor:function(g){return c(this,"a","name",g)}})},function(s,f,o){(function(l){var c=typeof l=="object"&&l&&l.Object===Object&&l;f.a=c}).call(this,o(82))},function(s,f,o){(function(l){var c=o(31),g=d&&!d.nodeType&&d,m=g&&typeof l=="object"&&l&&!l.nodeType&&l,w=m&&m.exports===g?c.a.Buffer:void 0,S=w?w.allocUnsafe:void 0;f.a=function(E,M){if(M)return E.slice();var P=E.length,A=S?S(P):new E.constructor(P);return E.copy(A),A}}).call(this,o(121)(s))},function(s,f,o){var l=o(7),c=o(108),g="__core-js_shared__",m=l[g]||c(g,{});s.exports=m},function(s,f,o){var l=o(7),c=Object.defineProperty;s.exports=function(g,m){try{c(l,g,{value:m,configurable:!0,writable:!0})}catch{l[g]=m}return m}},function(s,f,o){var l=o(65),c=o(19);s.exports=!!Object.getOwnPropertySymbols&&!c(function(){var g=Symbol();return!String(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(s,f){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,f,o){var l=o(17),c=o(35),g=o(64),m=o(94),w=o(28),S=o(172),E=o(96),M=o(97),P=o(73),A=o(57),k=o(44),C=o(27),I=o(70),H=o(136),Z=m.PROPER,ne=m.CONFIGURABLE,$=H.IteratorPrototype,Y=H.BUGGY_SAFARI_ITERATORS,q=C("iterator"),B="keys",N="values",z="entries",L=function(){return this};s.exports=function(X,te,fe,ce,ye,xe,ve){S(fe,te,ce);var ue,he,be,Se=function(K){if(K===ye&&Ze)return Ze;if(!Y&&K in Pe)return Pe[K];switch(K){case B:case N:case z:return function(){return new fe(this,K)}}return function(){return new fe(this)}},Le=te+" Iterator",Ke=!1,Pe=X.prototype,Ce=Pe[q]||Pe["@@iterator"]||ye&&Pe[ye],Ze=!Y&&Ce||Se(ye),J=te=="Array"&&Pe.entries||Ce;if(J&&(ue=E(J.call(new X)))!==Object.prototype&&ue.next&&(g||E(ue)===$||(M?M(ue,$):w(ue[q])||k(ue,q,L)),P(ue,Le,!0,!0),g&&(I[Le]=L)),Z&&ye==N&&Ce&&Ce.name!==N&&(!g&&ne?A(Pe,"name",N):(Ke=!0,Ze=function(){return c(Ce,this)})),ye)if(he={values:Se(N),keys:xe?Ze:Se(B),entries:Se(z)},ve)for(be in he)(Y||Ke||!(be in Pe))&&k(Pe,be,he[be]);else l({target:te,proto:!0,forced:Y||Ke},he);return g&&!ve||Pe[q]===Ze||k(Pe,q,Ze,{name:ye}),I[te]=Ze,he}},function(s,f){f.f=Object.getOwnPropertySymbols},function(s,f,o){var l=o(7),c=o(67),g=o(43),m=o(61),w=l.Array,S=Math.max;s.exports=function(E,M,P){for(var A=g(E),k=c(M,A),C=c(P===void 0?A:P,A),I=w(S(C-k,0)),H=0;k<C;k++,H++)m(I,H,E[k]);return I.length=H,I}},function(s,f,o){var l=o(7),c=o(62),g=o(35),m=o(32),w=o(89),S=o(140),E=o(43),M=o(58),P=o(141),A=o(115),k=o(142),C=l.TypeError,I=function(Z,ne){this.stopped=Z,this.result=ne},H=I.prototype;s.exports=function(Z,ne,$){var Y,q,B,N,z,L,X,te=$&&$.that,fe=!(!$||!$.AS_ENTRIES),ce=!(!$||!$.IS_ITERATOR),ye=!(!$||!$.INTERRUPTED),xe=c(ne,te),ve=function(he){return Y&&k(Y,"normal",he),new I(!0,he)},ue=function(he){return fe?(m(he),ye?xe(he[0],he[1],ve):xe(he[0],he[1])):ye?xe(he,ve):xe(he)};if(ce)Y=Z;else{if(!(q=A(Z)))throw C(w(Z)+" is not iterable");if(S(q)){for(B=0,N=E(Z);N>B;B++)if((z=ue(Z[B]))&&M(H,z))return z;return new I(!1)}Y=P(Z,q)}for(L=Y.next;!(X=g(L,Y)).done;){try{z=ue(X.value)}catch(he){k(Y,"throw",he)}if(typeof z=="object"&&z&&M(H,z))return z}return new I(!1)}},function(s,f,o){var l=o(98),c=o(59),g=o(70),m=o(27)("iterator");s.exports=function(w){if(w!=null)return c(w,m)||c(w,"@@iterator")||g[l(w)]}},function(s,f,o){var l={};l[o(27)("toStringTag")]="z",s.exports=String(l)==="[object z]"},function(s,f,o){var l=o(7),c=o(58),g=l.TypeError;s.exports=function(m,w){if(c(w,m))return m;throw g("Incorrect invocation")}},function(s,f,o){var l=o(27)("iterator"),c=!1;try{var g=0,m={next:function(){return{done:!!g++}},return:function(){c=!0}};m[l]=function(){return this},Array.from(m,function(){throw 2})}catch{}s.exports=function(w,S){if(!S&&!c)return!1;var E=!1;try{var M={};M[l]=function(){return{next:function(){return{done:E=!0}}}},w(M)}catch{}return E}},function(s,f,o){var l=o(181);s.exports=function(c,g){return new(l(c))(g===0?0:g)}},function(s,f,o){var l=o(19);s.exports=function(c,g){var m=[][c];return!!m&&l(function(){m.call(null,g||function(){throw 1},1)})}},function(s,f){s.exports=function(o){if(!o.webpackPolyfill){var l=Object.create(o);l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),Object.defineProperty(l,"exports",{enumerable:!0}),l.webpackPolyfill=1}return l}},function(s,f,o){o(18);var l=o(15),c=o(44),g=o(102),m=o(19),w=o(27),S=o(57),E=w("species"),M=RegExp.prototype;s.exports=function(P,A,k,C){var I=w(P),H=!m(function(){var Y={};return Y[I]=function(){return 7},""[P](Y)!=7}),Z=H&&!m(function(){var Y=!1,q=/a/;return P==="split"&&((q={}).constructor={},q.constructor[E]=function(){return q},q.flags="",q[I]=/./[I]),q.exec=function(){return Y=!0,null},q[I](""),!Y});if(!H||!Z||k){var ne=l(/./[I]),$=A(I,""[P],function(Y,q,B,N,z){var L=l(Y),X=q.exec;return X===g||X===M.exec?H&&!z?{done:!0,value:ne(q,B,N)}:{done:!0,value:L(B,q,N)}:{done:!1}});c(String.prototype,P,$[0]),c(M,I,$[1])}C&&S(M[I],"sham",!0)}},function(s,f,o){var l=o(146).charAt;s.exports=function(c,g,m){return g+(m?l(c,g).length:1)}},function(s,f,o){var l=o(7),c=o(35),g=o(32),m=o(28),w=o(50),S=o(102),E=l.TypeError;s.exports=function(M,P){var A=M.exec;if(m(A)){var k=c(A,M,P);return k!==null&&g(k),k}if(w(M)==="RegExp")return c(S,M,P);throw E("RegExp#exec called on incompatible receiver")}},function(s,f,o){var l=o(76),c=o(35),g=o(15),m=o(122),w=o(19),S=o(32),E=o(28),M=o(68),P=o(90),A=o(41),k=o(45),C=o(123),I=o(59),H=o(198),Z=o(124),ne=o(27)("replace"),$=Math.max,Y=Math.min,q=g([].concat),B=g([].push),N=g("".indexOf),z=g("".slice),L="a".replace(/./,"$0")==="$0",X=!!/./[ne]&&/./[ne]("a","$0")==="";m("replace",function(te,fe,ce){var ye=X?"$":"$0";return[function(xe,ve){var ue=k(this),he=xe==null?void 0:I(xe,ne);return he?c(he,xe,ue,ve):c(fe,A(ue),xe,ve)},function(xe,ve){var ue=S(this),he=A(xe);if(typeof ve=="string"&&N(ve,ye)===-1&&N(ve,"$<")===-1){var be=ce(fe,ue,he,ve);if(be.done)return be.value}var Se=E(ve);Se||(ve=A(ve));var Le=ue.global;if(Le){var Ke=ue.unicode;ue.lastIndex=0}for(var Pe=[];;){var Ce=Z(ue,he);if(Ce===null||(B(Pe,Ce),!Le))break;A(Ce[0])===""&&(ue.lastIndex=C(he,P(ue.lastIndex),Ke))}for(var Ze,J="",K=0,ae=0;ae<Pe.length;ae++){for(var _e=A((Ce=Pe[ae])[0]),Me=$(Y(M(Ce.index),he.length),0),we=[],qe=1;qe<Ce.length;qe++)B(we,(Ze=Ce[qe])===void 0?Ze:String(Ze));var nt=Ce.groups;if(Se){var Je=q([_e],we,Me,he);nt!==void 0&&B(Je,nt);var Ve=A(l(ve,void 0,Je))}else Ve=H(_e,he,Me,we,nt,ve);Me>=K&&(J+=z(he,K,Me)+Ve,K=Me+_e.length)}return J+z(he,K)}]},!!w(function(){var te=/./;return te.exec=function(){var fe=[];return fe.groups={a:"7"},fe},"".replace(te,"$<a>")!=="7"})||!L||X)},function(s,f,o){var l=o(50),c=o(7);s.exports=l(c.process)=="process"},function(s,f,o){o(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,f,o){var l=o(109);s.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,f,o){var l=o(36),c=o(19),g=o(86);s.exports=!l&&!c(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},function(s,f,o){var l=o(7),c=o(35),g=o(33),m=o(88),w=o(59),S=o(170),E=o(27),M=l.TypeError,P=E("toPrimitive");s.exports=function(A,k){if(!g(A)||m(A))return A;var C,I=w(A,P);if(I){if(k===void 0&&(k="default"),C=c(I,A,k),!g(C)||m(C))return C;throw M("Can't convert object to primitive value")}return k===void 0&&(k="number"),S(A,k)}},function(s,f,o){var l=o(15),c=o(34),g=o(40),m=o(132).indexOf,w=o(69),S=l([].push);s.exports=function(E,M){var P,A=g(E),k=0,C=[];for(P in A)!c(w,P)&&c(A,P)&&S(C,P);for(;M.length>k;)c(A,P=M[k++])&&(~m(C,P)||S(C,P));return C}},function(s,f,o){var l=o(40),c=o(67),g=o(43),m=function(w){return function(S,E,M){var P,A=l(S),k=g(A),C=c(M,k);if(w&&E!=E){for(;k>C;)if((P=A[C++])!=P)return!0}else for(;k>C;C++)if((w||C in A)&&A[C]===E)return w||C||0;return!w&&-1}};s.exports={includes:m(!0),indexOf:m(!1)}},function(s,f,o){var l=o(46);s.exports=l("document","documentElement")},function(s,f,o){var l=o(34),c=o(135),g=o(51),m=o(37);s.exports=function(w,S){for(var E=c(S),M=m.f,P=g.f,A=0;A<E.length;A++){var k=E[A];l(w,k)||M(w,k,P(S,k))}}},function(s,f,o){var l=o(46),c=o(15),g=o(72),m=o(112),w=o(32),S=c([].concat);s.exports=l("Reflect","ownKeys")||function(E){var M=g.f(w(E)),P=m.f;return P?S(M,P(E)):M}},function(s,f,o){var l,c,g,m=o(19),w=o(28),S=o(54),E=o(96),M=o(44),P=o(27),A=o(64),k=P("iterator"),C=!1;[].keys&&("next"in(g=[].keys())?(c=E(E(g)))!==Object.prototype&&(l=c):C=!0),l==null||m(function(){var I={};return l[k].call(I)!==I})?l={}:A&&(l=S(l)),w(l[k])||M(l,k,function(){return this}),s.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:C}},function(s,f,o){var l=o(19);s.exports=!l(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},function(s,f,o){var l=o(17),c=o(15),g=o(69),m=o(33),w=o(34),S=o(37).f,E=o(72),M=o(139),P=o(175),A=o(85),k=o(177),C=!1,I=A("meta"),H=0,Z=function($){S($,I,{value:{objectID:"O"+H++,weakData:{}}})},ne=s.exports={enable:function(){ne.enable=function(){},C=!0;var $=E.f,Y=c([].splice),q={};q[I]=1,$(q).length&&(E.f=function(B){for(var N=$(B),z=0,L=N.length;z<L;z++)if(N[z]===I){Y(N,z,1);break}return N},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:M.f}))},fastKey:function($,Y){if(!m($))return typeof $=="symbol"?$:(typeof $=="string"?"S":"P")+$;if(!w($,I)){if(!P($))return"F";if(!Y)return"E";Z($)}return $[I].objectID},getWeakData:function($,Y){if(!w($,I)){if(!P($))return!0;if(!Y)return!1;Z($)}return $[I].weakData},onFreeze:function($){return k&&C&&P($)&&!w($,I)&&Z($),$}};g[I]=!0},function(s,f,o){var l=o(50),c=o(40),g=o(72).f,m=o(113),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(S){return w&&l(S)=="Window"?function(E){try{return g(E)}catch{return m(w)}}(S):g(c(S))}},function(s,f,o){var l=o(27),c=o(70),g=l("iterator"),m=Array.prototype;s.exports=function(w){return w!==void 0&&(c.Array===w||m[g]===w)}},function(s,f,o){var l=o(7),c=o(35),g=o(55),m=o(32),w=o(89),S=o(115),E=l.TypeError;s.exports=function(M,P){var A=arguments.length<2?S(M):P;if(g(A))return m(c(A,M));throw E(w(M)+" is not iterable")}},function(s,f,o){var l=o(35),c=o(32),g=o(59);s.exports=function(m,w,S){var E,M;c(m);try{if(!(E=g(m,"return"))){if(w==="throw")throw S;return S}E=l(E,m)}catch(P){M=!0,E=P}if(w==="throw")throw S;if(M)throw E;return c(E),S}},function(s,f,o){var l=o(28),c=o(33),g=o(97);s.exports=function(m,w,S){var E,M;return g&&l(E=w.constructor)&&E!==S&&c(M=E.prototype)&&M!==S.prototype&&g(m,M),m}},function(s,f,o){var l=o(44);s.exports=function(c,g,m){for(var w in g)l(c,w,g[w],m);return c}},function(s,f,o){var l=o(46),c=o(37),g=o(27),m=o(36),w=g("species");s.exports=function(S){var E=l(S),M=c.f;m&&E&&!E[w]&&M(E,w,{configurable:!0,get:function(){return this}})}},function(s,f,o){var l=o(15),c=o(68),g=o(41),m=o(45),w=l("".charAt),S=l("".charCodeAt),E=l("".slice),M=function(P){return function(A,k){var C,I,H=g(m(A)),Z=c(k),ne=H.length;return Z<0||Z>=ne?P?"":void 0:(C=S(H,Z))<55296||C>56319||Z+1===ne||(I=S(H,Z+1))<56320||I>57343?P?w(H,Z):C:P?E(H,Z,Z+2):I-56320+(C-55296<<10)+65536}};s.exports={codeAt:M(!1),charAt:M(!0)}},function(s,f){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,f,o){var l=o(86)("span").classList,c=l&&l.constructor&&l.constructor.prototype;s.exports=c===Object.prototype?void 0:c},function(s,f,o){var l=o(27);f.f=l},function(s,f,o){var l=o(182),c=o(34),g=o(149),m=o(37).f;s.exports=function(w){var S=l.Symbol||(l.Symbol={});c(S,w)||m(S,w,{value:g.f(w)})}},function(s,f,o){var l=o(19),c=o(7).RegExp,g=l(function(){var S=c("a","y");return S.lastIndex=2,S.exec("abcd")!=null}),m=g||l(function(){return!c("a","y").sticky}),w=g||l(function(){var S=c("^r","gy");return S.lastIndex=2,S.exec("str")!=null});s.exports={BROKEN_CARET:w,MISSED_STICKY:m,UNSUPPORTED_Y:g}},function(s,f,o){var l=o(17),c=o(132).includes,g=o(83);l({target:"Array",proto:!0},{includes:function(m){return c(this,m,arguments.length>1?arguments[1]:void 0)}}),g("includes")},function(s,f,o){var l=o(17),c=o(15),g=o(194),m=o(45),w=o(41),S=o(195),E=c("".indexOf);l({target:"String",proto:!0,forced:!S("includes")},{includes:function(M){return!!~E(w(m(this)),w(g(M)),arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var l=o(33),c=o(50),g=o(27)("match");s.exports=function(m){var w;return l(m)&&((w=m[g])!==void 0?!!w:c(m)=="RegExp")}},function(s,f){var o,l,c=s.exports={};function g(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function w(H){if(o===setTimeout)return setTimeout(H,0);if((o===g||!o)&&setTimeout)return o=setTimeout,setTimeout(H,0);try{return o(H,0)}catch{try{return o.call(null,H,0)}catch{return o.call(this,H,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:g}catch{o=g}try{l=typeof clearTimeout=="function"?clearTimeout:m}catch{l=m}})();var S,E=[],M=!1,P=-1;function A(){M&&S&&(M=!1,S.length?E=S.concat(E):P=-1,E.length&&k())}function k(){if(!M){var H=w(A);M=!0;for(var Z=E.length;Z;){for(S=E,E=[];++P<Z;)S&&S[P].run();P=-1,Z=E.length}S=null,M=!1,function(ne){if(l===clearTimeout)return clearTimeout(ne);if((l===m||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(ne);try{l(ne)}catch{try{return l.call(null,ne)}catch{return l.call(this,ne)}}}(H)}}function C(H,Z){this.fun=H,this.array=Z}function I(){}c.nextTick=function(H){var Z=new Array(arguments.length-1);if(arguments.length>1)for(var ne=1;ne<arguments.length;ne++)Z[ne-1]=arguments[ne];E.push(new C(H,Z)),E.length!==1||M||w(k)},C.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=I,c.addListener=I,c.once=I,c.off=I,c.removeListener=I,c.removeAllListeners=I,c.emit=I,c.prependListener=I,c.prependOnceListener=I,c.listeners=function(H){return[]},c.binding=function(H){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(H){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(s,f,o){var l=o(32),c=o(157),g=o(27)("species");s.exports=function(m,w){var S,E=l(m).constructor;return E===void 0||(S=l(E)[g])==null?w:c(S)}},function(s,f,o){var l=o(7),c=o(100),g=o(89),m=l.TypeError;s.exports=function(w){if(c(w))return w;throw m(g(w)+" is not a constructor")}},function(s,f,o){var l=o(17),c=o(159).trim;l({target:"String",proto:!0,forced:o(196)("trim")},{trim:function(){return c(this)}})},function(s,f,o){var l=o(15),c=o(45),g=o(41),m=o(160),w=l("".replace),S="["+m+"]",E=RegExp("^"+S+S+"*"),M=RegExp(S+S+"*$"),P=function(A){return function(k){var C=g(c(k));return 1&A&&(C=w(C,E,"")),2&A&&(C=w(C,M,"")),C}};s.exports={start:P(1),end:P(2),trim:P(3)}},function(s,f){s.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(s,f,o){var l=o(35),c=o(122),g=o(32),m=o(90),w=o(41),S=o(45),E=o(59),M=o(123),P=o(124);c("match",function(A,k,C){return[function(I){var H=S(this),Z=I==null?void 0:E(I,A);return Z?l(Z,I,H):new RegExp(I)[A](w(H))},function(I){var H=g(this),Z=w(I),ne=C(k,H,Z);if(ne.done)return ne.value;if(!H.global)return P(H,Z);var $=H.unicode;H.lastIndex=0;for(var Y,q=[],B=0;(Y=P(H,Z))!==null;){var N=w(Y[0]);q[B]=N,N===""&&(H.lastIndex=M(Z,m(H.lastIndex),$)),B++}return B===0?null:q}]})},function(s,f,o){var l=o(17),c=Math.hypot,g=Math.abs,m=Math.sqrt;l({target:"Math",stat:!0,forced:!!c&&c(1/0,NaN)!==1/0},{hypot:function(w,S){for(var E,M,P=0,A=0,k=arguments.length,C=0;A<k;)C<(E=g(arguments[A++]))?(P=P*(M=C/E)*M+1,C=E):P+=E>0?(M=E/C)*M:E;return C===1/0?1/0:C*m(P)}})},function(s,f,o){var l,c,g,m,w=o(7),S=o(76),E=o(62),M=o(28),P=o(34),A=o(19),k=o(133),C=o(101),I=o(86),H=o(164),Z=o(126),ne=w.setImmediate,$=w.clearImmediate,Y=w.process,q=w.Dispatch,B=w.Function,N=w.MessageChannel,z=w.String,L=0,X={},te="onreadystatechange";try{l=w.location}catch{}var fe=function(ve){if(P(X,ve)){var ue=X[ve];delete X[ve],ue()}},ce=function(ve){return function(){fe(ve)}},ye=function(ve){fe(ve.data)},xe=function(ve){w.postMessage(z(ve),l.protocol+"//"+l.host)};ne&&$||(ne=function(ve){var ue=C(arguments,1);return X[++L]=function(){S(M(ve)?ve:B(ve),void 0,ue)},c(L),L},$=function(ve){delete X[ve]},Z?c=function(ve){Y.nextTick(ce(ve))}:q&&q.now?c=function(ve){q.now(ce(ve))}:N&&!H?(m=(g=new N).port2,g.port1.onmessage=ye,c=E(m.postMessage,m)):w.addEventListener&&M(w.postMessage)&&!w.importScripts&&l&&l.protocol!=="file:"&&!A(xe)?(c=xe,w.addEventListener("message",ye,!1)):c=te in I("script")?function(ve){k.appendChild(I("script")).onreadystatechange=function(){k.removeChild(this),fe(ve)}}:function(ve){setTimeout(ce(ve),0)}),s.exports={set:ne,clear:$}},function(s,f,o){var l=o(53);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},function(s,f,o){var l=o(55),c=function(g){var m,w;this.promise=new g(function(S,E){if(m!==void 0||w!==void 0)throw TypeError("Bad Promise constructor");m=S,w=E}),this.resolve=l(m),this.reject=l(w)};s.exports.f=function(g){return new c(g)}},function(s,f,o){f.a=function(){return!1}},function(s,f,o){(function(l){o.d(f,"a",function(){return Y});var c=o(1);function g(N){throw new Error("[mobx-utils] "+N)}function m(N,z){z===void 0&&(z="Illegal state"),N||g(z)}var w=function(N){return N&&N!==Object.prototype&&Object.getOwnPropertyNames(N).concat(w(Object.getPrototypeOf(N))||[])},S=function(N){return function(z){var L=w(z);return L.filter(function(X,te){return L.indexOf(X)===te})}(N).filter(function(z){return z!=="constructor"&&!~z.indexOf("__")})},E="pending",M="fulfilled",P="rejected";function A(N){switch(this.state){case E:return N.pending&&N.pending(this.value);case P:return N.rejected&&N.rejected(this.value);case M:return N.fulfilled?N.fulfilled(this.value):this.value}}function k(N,z){if(m(arguments.length<=2,"fromPromise expects up to two arguments"),m(typeof N=="function"||typeof N=="object"&&N&&typeof N.then=="function","Please pass a promise or function to fromPromise"),N.isPromiseBasedObservable===!0)return N;typeof N=="function"&&(N=new Promise(N));var L=N;N.then(Object(c.k)("observableFromPromise-resolve",function(te){L.value=te,L.state=M}),Object(c.k)("observableFromPromise-reject",function(te){L.value=te,L.state=P})),L.isPromiseBasedObservable=!0,L.case=A;var X=z&&z.state===M?z.value:void 0;return Object(c.q)(L,{value:X,state:E},{},{deep:!1}),L}(function(N){N.reject=Object(c.k)("fromPromise.reject",function(z){var L=N(Promise.reject(z));return L.state=P,L.value=z,L}),N.resolve=Object(c.k)("fromPromise.resolve",function(z){z===void 0&&(z=void 0);var L=N(Promise.resolve(z));return L.state=M,L.value=z,L})})(k||(k={}));var C=function(N,z,L,X){var te,fe=arguments.length,ce=fe<3?z:X===null?X=Object.getOwnPropertyDescriptor(z,L):X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(N,z,L,X);else for(var ye=N.length-1;ye>=0;ye--)(te=N[ye])&&(ce=(fe<3?te(ce):fe>3?te(z,L,ce):te(z,L))||ce);return fe>3&&ce&&Object.defineProperty(z,L,ce),ce};(function(){function N(z,L){var X=this;Object(c.G)(function(){X.current=L,X.subscription=z.subscribe(X)})}N.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},N.prototype.next=function(z){this.current=z},N.prototype.complete=function(){this.dispose()},N.prototype.error=function(z){this.current=z,this.dispose()},C([c.C.ref],N.prototype,"current",void 0),C([c.k.bound],N.prototype,"next",null),C([c.k.bound],N.prototype,"complete",null),C([c.k.bound],N.prototype,"error",null)})();var I=function(){return I=Object.assign||function(N){for(var z,L=1,X=arguments.length;L<X;L++)for(var te in z=arguments[L])Object.prototype.hasOwnProperty.call(z,te)&&(N[te]=z[te]);return N},I.apply(this,arguments)},H=function(N,z,L,X){var te,fe=arguments.length,ce=fe<3?z:X===null?X=Object.getOwnPropertyDescriptor(z,L):X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(N,z,L,X);else for(var ye=N.length-1;ye>=0;ye--)(te=N[ye])&&(ce=(fe<3?te(ce):fe>3?te(z,L,ce):te(z,L))||ce);return fe>3&&ce&&Object.defineProperty(z,L,ce),ce},Z=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function N(z){var L=this;this.model=z,this.localValues=c.C.map({}),this.localComputedValues=c.C.map({}),this.isPropertyDirty=function(X){return L.localValues.has(X)},m(Object(c.A)(z),"createViewModel expects an observable object"),S(z).forEach(function(X){if(X!==c.a&&X!=="__mobxDidRunLazyInitializers"){if(m(Z.indexOf(X)===-1,"The propertyname "+X+" is reserved and cannot be used with viewModels"),Object(c.w)(z,X)){var te=Object(c.h)(z,X).derivation;L.localComputedValues.set(X,Object(c.m)(te.bind(L)))}var fe=Object.getOwnPropertyDescriptor(z,X),ce=fe?{enumerable:fe.enumerable}:{};Object.defineProperty(L,X,I(I({},ce),{configurable:!0,get:function(){return Object(c.w)(z,X)?L.localComputedValues.get(X).get():L.isPropertyDirty(X)?L.localValues.get(X):L.model[X]},set:Object(c.k)(function(ye){ye!==L.model[X]?L.localValues.set(X,ye):L.localValues.delete(X)})}))}})}Object.defineProperty(N.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),N.prototype.submit=function(){var z=this;Object(c.B)(this.localValues).forEach(function(L){var X=z.localValues.get(L),te=z.model[L];Object(c.y)(te)?te.replace(X):Object(c.z)(te)?(te.clear(),te.merge(X)):Object(c.v)(X)||(z.model[L]=X)}),this.localValues.clear()},N.prototype.reset=function(){this.localValues.clear()},N.prototype.resetProperty=function(z){this.localValues.delete(z)},H([c.m],N.prototype,"isDirty",null),H([c.m],N.prototype,"changedValues",null),H([c.k.bound],N.prototype,"submit",null),H([c.k.bound],N.prototype,"reset",null),H([c.k.bound],N.prototype,"resetProperty",null)})();function ne(N){if(!N)return"ROOT";for(var z=[];N.parent;)z.push(N.path),N=N.parent;return z.reverse().join("/")}function $(N){return Object(c.A)(N)||Object(c.y)(N)||Object(c.z)(N)}function Y(N,z){var L=new WeakMap;function X(ce){var ye=L.get(ce.object);(function(xe,ve){switch(xe.type){case"add":te(xe.newValue,ve,xe.name);break;case"update":fe(xe.oldValue),te(xe.newValue,ve,xe.name||""+xe.index);break;case"remove":case"delete":fe(xe.oldValue);break;case"splice":xe.removed.map(fe),xe.added.forEach(function(be,Se){return te(be,ve,""+(xe.index+Se))});for(var ue=xe.index+xe.addedCount;ue<xe.object.length;ue++)if($(xe.object[ue])){var he=L.get(xe.object[ue]);he&&(he.path=""+ue)}}})(ce,ye),z(ce,ne(ye),N)}function te(ce,ye,xe){if($(ce)){var ve=L.get(ce);if(ve){if(ve.parent!==ye||ve.path!==xe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ne(ye)+"/"+xe+"', but it already exists at '"+ne(ve.parent)+"/"+ve.path+"'")}else{var ue={parent:ye,path:xe,dispose:Object(c.D)(ce,X)};L.set(ce,ue),Object(c.p)(ce).forEach(function(he){var be=he[0];return te(he[1],ue,be)})}}}function fe(ce){if($(ce)){var ye=L.get(ce);if(!ye)return;L.delete(ce),ye.dispose(),Object(c.L)(ce).forEach(fe)}}return te(N,void 0,""),function(){fe(N)}}var q,B=(q=function(N,z){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,X){L.__proto__=X}||function(L,X){for(var te in X)X.hasOwnProperty(te)&&(L[te]=X[te])},q(N,z)},function(N,z){function L(){this.constructor=N}q(N,z),N.prototype=z===null?Object.create(z):(L.prototype=z.prototype,new L)});(function(N){function z(L,X,te){var fe=te===void 0?{}:te,ce=fe.name,ye=ce===void 0?"ogm"+(1e3*Math.random()|0):ce,xe=fe.keyToName,ve=xe===void 0?function(be){return""+be}:xe,ue=N.call(this)||this;ue._keyToName=ve,ue._groupBy=X,ue._ogmInfoKey=Symbol("ogmInfo"+ye),ue._base=L;for(var he=0;he<L.length;he++)ue._addItem(L[he]);return ue._disposeBaseObserver=Object(c.D)(ue._base,function(be){if(be.type==="splice")Object(c.J)(function(){for(var Se=0,Le=be.removed;Se<Le.length;Se++){var Ke=Le[Se];ue._removeItem(Ke)}for(var Pe=0,Ce=be.added;Pe<Ce.length;Pe++){var Ze=Ce[Pe];ue._addItem(Ze)}});else{if(be.type!=="update")throw new Error("illegal state");Object(c.J)(function(){ue._removeItem(be.oldValue),ue._addItem(be.newValue)})}}),ue}B(z,N),z.prototype.clear=function(){throw new Error("not supported")},z.prototype.delete=function(L){throw new Error("not supported")},z.prototype.set=function(L,X){throw new Error("not supported")},z.prototype.dispose=function(){this._disposeBaseObserver();for(var L=0;L<this._base.length;L++){var X=this._base[L];X[this._ogmInfoKey].reaction(),delete X[this._ogmInfoKey]}},z.prototype._getGroupArr=function(L){var X=N.prototype.get.call(this,L);return X===void 0&&(X=Object(c.C)([],{name:"GroupArray["+this._keyToName(L)+"]",deep:!1}),N.prototype.set.call(this,L,X)),X},z.prototype._removeFromGroupArr=function(L,X){var te=N.prototype.get.call(this,L);te.length===1?N.prototype.delete.call(this,L):(X===te.length-1||(te[X]=te[te.length-1],te[X][this._ogmInfoKey].groupArrIndex=X),te.length--)},z.prototype._addItem=function(L){var X=this,te=this._groupBy(L),fe=this._getGroupArr(te),ce={groupByValue:te,groupArrIndex:fe.length,reaction:Object(c.F)(function(){return X._groupBy(L)},function(ye,xe){var ve=L[X._ogmInfoKey];X._removeFromGroupArr(ve.groupByValue,ve.groupArrIndex);var ue=X._getGroupArr(ye),he=ue.length;ue.push(L),ve.groupByValue=ye,ve.groupArrIndex=he})};Object.defineProperty(L,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:ce}),fe.push(L)},z.prototype._removeItem=function(L){var X=L[this._ogmInfoKey];this._removeFromGroupArr(X.groupByValue,X.groupArrIndex),X.reaction(),delete L[this._ogmInfoKey]}})(c.b),function(){function N(z,L){this.base=z,this.args=L,this.closestIdx=0,this.isDisposed=!1;for(var X=this.closest=this.root=z,te=0;te<this.args.length-1&&(X=X.get(L[te]));te++)this.closest=X;this.closestIdx=te}return N.prototype.exists=function(){this.assertNotDisposed();var z=this.args.length;return this.closestIdx>=z-1&&this.closest.has(this.args[z-1])},N.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},N.prototype.set=function(z){this.assertNotDisposed();for(var L=this.args.length,X=this.closest,te=this.closestIdx;te<L-1;te++){var fe=new Map;X.set(this.args[te],fe),X=fe}this.closestIdx=L-1,this.closest=X,X.set(this.args[L-1],z)},N.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var z=this.args.length;this.closest.delete(this.args[z-1]);for(var L=this.root,X=[L],te=0;te<z-1;te++)L=L.get(this.args[te]),X.push(L);for(te=X.length-1;te>0;te--)X[te].size===0&&X[te-1].delete(this.args[te-1]);this.isDisposed=!0},N.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},N}(),Promise.resolve(),typeof queueMicrotask<"u"||l!==void 0&&l.nextTick}).call(this,o(155))},function(s,f,o){var l;(function(c,g,m){if(c){for(var w,S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},E={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},M={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A=1;A<20;++A)S[111+A]="f"+A;for(A=0;A<=9;++A)S[A+96]=A.toString();$.prototype.bind=function(Y,q,B){var N=this;return Y=Y instanceof Array?Y:[Y],N._bindMultiple.call(N,Y,q,B),N},$.prototype.unbind=function(Y,q){return this.bind.call(this,Y,function(){},q)},$.prototype.trigger=function(Y,q){var B=this;return B._directMap[Y+":"+q]&&B._directMap[Y+":"+q]({},Y),B},$.prototype.reset=function(){var Y=this;return Y._callbacks={},Y._directMap={},Y},$.prototype.stopCallback=function(Y,q){if((" "+q.className+" ").indexOf(" mousetrap ")>-1||ne(q,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var B=Y.composedPath()[0];B!==Y.target&&(q=B)}return q.tagName=="INPUT"||q.tagName=="SELECT"||q.tagName=="TEXTAREA"||q.isContentEditable},$.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},$.addKeycodes=function(Y){for(var q in Y)Y.hasOwnProperty(q)&&(S[q]=Y[q]);w=null},$.init=function(){var Y=$(g);for(var q in Y)q.charAt(0)!=="_"&&($[q]=function(B){return function(){return Y[B].apply(Y,arguments)}}(q))},$.init(),c.Mousetrap=$,s.exports&&(s.exports=$),(l=(function(){return $}).call(f,o,f,s))===void 0||(s.exports=l)}function k(Y,q,B){Y.addEventListener?Y.addEventListener(q,B,!1):Y.attachEvent("on"+q,B)}function C(Y){if(Y.type=="keypress"){var q=String.fromCharCode(Y.which);return Y.shiftKey||(q=q.toLowerCase()),q}return S[Y.which]?S[Y.which]:E[Y.which]?E[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function I(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function H(Y,q,B){return B||(B=function(){if(!w)for(var N in w={},S)N>95&&N<112||S.hasOwnProperty(N)&&(w[S[N]]=N);return w}()[Y]?"keydown":"keypress"),B=="keypress"&&q.length&&(B="keydown"),B}function Z(Y,q){var B,N,z,L=[];for(B=function(X){return X==="+"?["+"]:(X=X.replace(/\+{2}/g,"+plus")).split("+")}(Y),z=0;z<B.length;++z)N=B[z],P[N]&&(N=P[N]),q&&q!="keypress"&&M[N]&&(N=M[N],L.push("shift")),I(N)&&L.push(N);return{key:N,modifiers:L,action:q=H(N,L,q)}}function ne(Y,q){return Y!==null&&Y!==g&&(Y===q||ne(Y.parentNode,q))}function $(Y){var q=this;if(Y=Y||g,!(q instanceof $))return new $(Y);q.target=Y,q._callbacks={},q._directMap={};var B,N={},z=!1,L=!1,X=!1;function te(ue){ue=ue||{};var he,be=!1;for(he in N)ue[he]?be=!0:N[he]=0;be||(X=!1)}function fe(ue,he,be,Se,Le,Ke){var Pe,Ce,Ze,J,K=[],ae=be.type;if(!q._callbacks[ue])return[];for(ae=="keyup"&&I(ue)&&(he=[ue]),Pe=0;Pe<q._callbacks[ue].length;++Pe)if(Ce=q._callbacks[ue][Pe],(Se||!Ce.seq||N[Ce.seq]==Ce.level)&&ae==Ce.action&&(ae=="keypress"&&!be.metaKey&&!be.ctrlKey||(Ze=he,J=Ce.modifiers,Ze.sort().join(",")===J.sort().join(",")))){var _e=!Se&&Ce.combo==Le,Me=Se&&Ce.seq==Se&&Ce.level==Ke;(_e||Me)&&q._callbacks[ue].splice(Pe,1),K.push(Ce)}return K}function ce(ue,he,be,Se){q.stopCallback(he,he.target||he.srcElement,be,Se)||ue(he,be)===!1&&(function(Le){Le.preventDefault?Le.preventDefault():Le.returnValue=!1}(he),function(Le){Le.stopPropagation?Le.stopPropagation():Le.cancelBubble=!0}(he))}function ye(ue){typeof ue.which!="number"&&(ue.which=ue.keyCode);var he=C(ue);he&&(ue.type!="keyup"||z!==he?q.handleKey(he,function(be){var Se=[];return be.shiftKey&&Se.push("shift"),be.altKey&&Se.push("alt"),be.ctrlKey&&Se.push("ctrl"),be.metaKey&&Se.push("meta"),Se}(ue),ue):z=!1)}function xe(ue,he,be,Se){function Le(Ze){return function(){X=Ze,++N[ue],clearTimeout(B),B=setTimeout(te,1e3)}}function Ke(Ze){ce(be,Ze,ue),Se!=="keyup"&&(z=C(Ze)),setTimeout(te,10)}N[ue]=0;for(var Pe=0;Pe<he.length;++Pe){var Ce=Pe+1===he.length?Ke:Le(Se||Z(he[Pe+1]).action);ve(he[Pe],Ce,Se,ue,Pe)}}function ve(ue,he,be,Se,Le){q._directMap[ue+":"+be]=he;var Ke,Pe=(ue=ue.replace(/\s+/g," ")).split(" ");Pe.length>1?xe(ue,Pe,he,be):(Ke=Z(ue,be),q._callbacks[Ke.key]=q._callbacks[Ke.key]||[],fe(Ke.key,Ke.modifiers,{type:Ke.action},Se,ue,Le),q._callbacks[Ke.key][Se?"unshift":"push"]({callback:he,modifiers:Ke.modifiers,action:Ke.action,seq:Se,level:Le,combo:ue}))}q._handleKey=function(ue,he,be){var Se,Le=fe(ue,he,be),Ke={},Pe=0,Ce=!1;for(Se=0;Se<Le.length;++Se)Le[Se].seq&&(Pe=Math.max(Pe,Le[Se].level));for(Se=0;Se<Le.length;++Se)if(Le[Se].seq){if(Le[Se].level!=Pe)continue;Ce=!0,Ke[Le[Se].seq]=1,ce(Le[Se].callback,be,Le[Se].combo,Le[Se].seq)}else Ce||ce(Le[Se].callback,be,Le[Se].combo);var Ze=be.type=="keypress"&&L;be.type!=X||I(ue)||Ze||te(Ke),L=Ce&&be.type=="keydown"},q._bindMultiple=function(ue,he,be){for(var Se=0;Se<ue.length;++Se)ve(ue[Se],he,be)},k(Y,"keypress",ye),k(Y,"keydown",ye),k(Y,"keyup",ye)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(s,f,o){var l=o(36),c=o(37),g=o(32),m=o(40),w=o(66);s.exports=l?Object.defineProperties:function(S,E){g(S);for(var M,P=m(E),A=w(E),k=A.length,C=0;k>C;)c.f(S,M=A[C++],P[M]);return S}},function(s,f,o){var l=o(7),c=o(35),g=o(28),m=o(33),w=l.TypeError;s.exports=function(S,E){var M,P;if(E==="string"&&g(M=S.toString)&&!m(P=c(M,S))||g(M=S.valueOf)&&!m(P=c(M,S))||E!=="string"&&g(M=S.toString)&&!m(P=c(M,S)))return P;throw w("Can't convert object to primitive value")}},function(s,f,o){var l=o(7),c=o(28),g=o(92),m=l.WeakMap;s.exports=c(m)&&/native code/.test(g(m))},function(s,f,o){var l=o(136).IteratorPrototype,c=o(54),g=o(71),m=o(73),w=o(70),S=function(){return this};s.exports=function(E,M,P,A){var k=M+" Iterator";return E.prototype=c(l,{next:g(+!A,P)}),m(E,k,!1,!0),w[k]=S,E}},function(s,f,o){var l=o(7),c=o(28),g=l.String,m=l.TypeError;s.exports=function(w){if(typeof w=="object"||c(w))return w;throw m("Can't set "+g(w)+" as a prototype")}},function(s,f,o){var l=o(17),c=o(7),g=o(15),m=o(95),w=o(44),S=o(138),E=o(114),M=o(117),P=o(28),A=o(33),k=o(19),C=o(118),I=o(73),H=o(143);s.exports=function(Z,ne,$){var Y=Z.indexOf("Map")!==-1,q=Z.indexOf("Weak")!==-1,B=Y?"set":"add",N=c[Z],z=N&&N.prototype,L=N,X={},te=function(ue){var he=g(z[ue]);w(z,ue,ue=="add"?function(be){return he(this,be===0?0:be),this}:ue=="delete"?function(be){return!(q&&!A(be))&&he(this,be===0?0:be)}:ue=="get"?function(be){return q&&!A(be)?void 0:he(this,be===0?0:be)}:ue=="has"?function(be){return!(q&&!A(be))&&he(this,be===0?0:be)}:function(be,Se){return he(this,be===0?0:be,Se),this})};if(m(Z,!P(N)||!(q||z.forEach&&!k(function(){new N().entries().next()}))))L=$.getConstructor(ne,Z,Y,B),S.enable();else if(m(Z,!0)){var fe=new L,ce=fe[B](q?{}:-0,1)!=fe,ye=k(function(){fe.has(1)}),xe=C(function(ue){new N(ue)}),ve=!q&&k(function(){for(var ue=new N,he=5;he--;)ue[B](he,he);return!ue.has(-0)});xe||((L=ne(function(ue,he){M(ue,z);var be=H(new N,ue,L);return he!=null&&E(he,be[B],{that:be,AS_ENTRIES:Y}),be})).prototype=z,z.constructor=L),(ye||ve)&&(te("delete"),te("has"),Y&&te("get")),(ve||ce)&&te(B),q&&z.clear&&delete z.clear}return X[Z]=L,l({global:!0,forced:L!=N},X),I(L,Z),q||$.setStrong(L,Z,Y),L}},function(s,f,o){var l=o(19),c=o(33),g=o(50),m=o(176),w=Object.isExtensible,S=l(function(){});s.exports=S||m?function(E){return!!c(E)&&(!m||g(E)!="ArrayBuffer")&&(!w||w(E))}:w},function(s,f,o){var l=o(19);s.exports=l(function(){if(typeof ArrayBuffer=="function"){var c=new ArrayBuffer(8);Object.isExtensible(c)&&Object.defineProperty(c,"a",{value:8})}})},function(s,f,o){var l=o(19);s.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,f,o){var l=o(37).f,c=o(54),g=o(144),m=o(62),w=o(117),S=o(114),E=o(111),M=o(145),P=o(36),A=o(138).fastKey,k=o(56),C=k.set,I=k.getterFor;s.exports={getConstructor:function(H,Z,ne,$){var Y=H(function(L,X){w(L,q),C(L,{type:Z,index:c(null),first:void 0,last:void 0,size:0}),P||(L.size=0),X!=null&&S(X,L[$],{that:L,AS_ENTRIES:ne})}),q=Y.prototype,B=I(Z),N=function(L,X,te){var fe,ce,ye=B(L),xe=z(L,X);return xe?xe.value=te:(ye.last=xe={index:ce=A(X,!0),key:X,value:te,previous:fe=ye.last,next:void 0,removed:!1},ye.first||(ye.first=xe),fe&&(fe.next=xe),P?ye.size++:L.size++,ce!=="F"&&(ye.index[ce]=xe)),L},z=function(L,X){var te,fe=B(L),ce=A(X);if(ce!=="F")return fe.index[ce];for(te=fe.first;te;te=te.next)if(te.key==X)return te};return g(q,{clear:function(){for(var L=B(this),X=L.index,te=L.first;te;)te.removed=!0,te.previous&&(te.previous=te.previous.next=void 0),delete X[te.index],te=te.next;L.first=L.last=void 0,P?L.size=0:this.size=0},delete:function(L){var X=this,te=B(X),fe=z(X,L);if(fe){var ce=fe.next,ye=fe.previous;delete te.index[fe.index],fe.removed=!0,ye&&(ye.next=ce),ce&&(ce.previous=ye),te.first==fe&&(te.first=ce),te.last==fe&&(te.last=ye),P?te.size--:X.size--}return!!fe},forEach:function(L){for(var X,te=B(this),fe=m(L,arguments.length>1?arguments[1]:void 0);X=X?X.next:te.first;)for(fe(X.value,X.key,this);X&&X.removed;)X=X.previous},has:function(L){return!!z(this,L)}}),g(q,ne?{get:function(L){var X=z(this,L);return X&&X.value},set:function(L,X){return N(this,L===0?0:L,X)}}:{add:function(L){return N(this,L=L===0?0:L,L)}}),P&&l(q,"size",{get:function(){return B(this).size}}),Y},setStrong:function(H,Z,ne){var $=Z+" Iterator",Y=I(Z),q=I($);E(H,Z,function(B,N){C(this,{type:$,target:B,state:Y(B),kind:N,last:void 0})},function(){for(var B=q(this),N=B.kind,z=B.last;z&&z.removed;)z=z.previous;return B.target&&(B.last=z=z?z.next:B.state.first)?N=="keys"?{value:z.key,done:!1}:N=="values"?{value:z.value,done:!1}:{value:[z.key,z.value],done:!1}:(B.target=void 0,{value:void 0,done:!0})},ne?"entries":"values",!ne,!0),M(Z)}}},function(s,f,o){var l=o(116),c=o(98);s.exports=l?{}.toString:function(){return"[object "+c(this)+"]"}},function(s,f,o){var l=o(74).forEach,c=o(120)("forEach");s.exports=c?[].forEach:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}},function(s,f,o){var l=o(7),c=o(99),g=o(100),m=o(33),w=o(27)("species"),S=l.Array;s.exports=function(E){var M;return c(E)&&(M=E.constructor,(g(M)&&(M===S||c(M.prototype))||m(M)&&(M=M[w])===null)&&(M=void 0)),M===void 0?S:M}},function(s,f,o){var l=o(7);s.exports=l},function(s,f,o){var l=o(7),c=o(62),g=o(35),m=o(38),w=o(184),S=o(140),E=o(100),M=o(43),P=o(61),A=o(141),k=o(115),C=l.Array;s.exports=function(I){var H=m(I),Z=E(this),ne=arguments.length,$=ne>1?arguments[1]:void 0,Y=$!==void 0;Y&&($=c($,ne>2?arguments[2]:void 0));var q,B,N,z,L,X,te=k(H),fe=0;if(!te||this==C&&S(te))for(q=M(H),B=Z?new this(q):C(q);q>fe;fe++)X=Y?$(H[fe],fe):H[fe],P(B,fe,X);else for(L=(z=A(H,te)).next,B=Z?new this:[];!(N=g(L,z)).done;fe++)X=Y?w(z,$,[N.value,fe],!0):N.value,P(B,fe,X);return B.length=fe,B}},function(s,f,o){var l=o(32),c=o(142);s.exports=function(g,m,w,S){try{return S?m(l(w)[0],w[1]):m(w)}catch(E){c(g,"throw",E)}}},function(s,f,o){var l=o(32);s.exports=function(){var c=l(this),g="";return c.global&&(g+="g"),c.ignoreCase&&(g+="i"),c.multiline&&(g+="m"),c.dotAll&&(g+="s"),c.unicode&&(g+="u"),c.sticky&&(g+="y"),g}},function(s,f,o){var l=o(19),c=o(7).RegExp;s.exports=l(function(){var g=c(".","s");return!(g.dotAll&&g.exec(`
`)&&g.flags==="s")})},function(s,f,o){var l=o(19),c=o(7).RegExp;s.exports=l(function(){var g=c("(?<a>b)","g");return g.exec("b").groups.a!=="b"||"b".replace(g,"$<a>c")!=="bc"})},function(s,f,o){var l=o(17),c=o(15),g=o(55),m=o(38),w=o(43),S=o(41),E=o(19),M=o(189),P=o(120),A=o(190),k=o(191),C=o(65),I=o(192),H=[],Z=c(H.sort),ne=c(H.push),$=E(function(){H.sort(void 0)}),Y=E(function(){H.sort(null)}),q=P("sort"),B=!E(function(){if(C)return C<70;if(!(A&&A>3)){if(k)return!0;if(I)return I<603;var N,z,L,X,te="";for(N=65;N<76;N++){switch(z=String.fromCharCode(N),N){case 66:case 69:case 70:case 72:L=3;break;case 68:case 71:L=4;break;default:L=2}for(X=0;X<47;X++)H.push({k:z+X,v:L})}for(H.sort(function(fe,ce){return ce.v-fe.v}),X=0;X<H.length;X++)z=H[X].k.charAt(0),te.charAt(te.length-1)!==z&&(te+=z);return te!=="DGBEFHACIJK"}});l({target:"Array",proto:!0,forced:$||!Y||!q||!B},{sort:function(N){N!==void 0&&g(N);var z=m(this);if(B)return N===void 0?Z(z):Z(z,N);var L,X,te=[],fe=w(z);for(X=0;X<fe;X++)X in z&&ne(te,z[X]);for(M(te,function(ce){return function(ye,xe){return xe===void 0?-1:ye===void 0?1:ce!==void 0?+ce(ye,xe)||0:S(ye)>S(xe)?1:-1}}(N)),L=te.length,X=0;X<L;)z[X]=te[X++];for(;X<fe;)delete z[X++];return z}})},function(s,f,o){var l=o(113),c=Math.floor,g=function(S,E){var M=S.length,P=c(M/2);return M<8?m(S,E):w(S,g(l(S,0,P),E),g(l(S,P),E),E)},m=function(S,E){for(var M,P,A=S.length,k=1;k<A;){for(P=k,M=S[k];P&&E(S[P-1],M)>0;)S[P]=S[--P];P!==k++&&(S[P]=M)}return S},w=function(S,E,M,P){for(var A=E.length,k=M.length,C=0,I=0;C<A||I<k;)S[C+I]=C<A&&I<k?P(E[C],M[I])<=0?E[C++]:M[I++]:C<A?E[C++]:M[I++];return S};s.exports=g},function(s,f,o){var l=o(53).match(/firefox\/(\d+)/i);s.exports=!!l&&+l[1]},function(s,f,o){var l=o(53);s.exports=/MSIE|Trident/.test(l)},function(s,f,o){var l=o(53).match(/AppleWebKit\/(\d+)\./);s.exports=!!l&&+l[1]},function(s,f,o){var l=o(17),c=o(74).find,g=o(83),m="find",w=!0;m in[]&&Array(1).find(function(){w=!1}),l({target:"Array",proto:!0,forced:w},{find:function(S){return c(this,S,arguments.length>1?arguments[1]:void 0)}}),g(m)},function(s,f,o){var l=o(7),c=o(154),g=l.TypeError;s.exports=function(m){if(c(m))throw g("The method doesn't accept regular expressions");return m}},function(s,f,o){var l=o(27)("match");s.exports=function(c){var g=/./;try{"/./"[c](g)}catch{try{return g[l]=!1,"/./"[c](g)}catch{}}return!1}},function(s,f,o){var l=o(94).PROPER,c=o(19),g=o(160);s.exports=function(m){return c(function(){return!!g[m]()||"​᠎"[m]()!=="​᠎"||l&&g[m].name!==m})}},function(s,f,o){var l=o(15);s.exports=l(1 .valueOf)},function(s,f,o){var l=o(15),c=o(38),g=Math.floor,m=l("".charAt),w=l("".replace),S=l("".slice),E=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;s.exports=function(P,A,k,C,I,H){var Z=k+P.length,ne=C.length,$=M;return I!==void 0&&(I=c(I),$=E),w(H,$,function(Y,q){var B;switch(m(q,0)){case"$":return"$";case"&":return P;case"`":return S(A,0,k);case"'":return S(A,Z);case"<":B=I[S(q,1,-1)];break;default:var N=+q;if(N===0)return Y;if(N>ne){var z=g(N/10);return z===0?Y:z<=ne?C[z-1]===void 0?m(q,1):C[z-1]+m(q,1):Y}B=C[N-1]}return B===void 0?"":B})}},function(s,f,o){var l=o(36),c=o(15),g=o(35),m=o(19),w=o(66),S=o(112),E=o(93),M=o(38),P=o(81),A=Object.assign,k=Object.defineProperty,C=c([].concat);s.exports=!A||m(function(){if(l&&A({b:1},A(k({},"a",{enumerable:!0,get:function(){k(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var I={},H={},Z=Symbol(),ne="abcdefghijklmnopqrst";return I[Z]=7,ne.split("").forEach(function($){H[$]=$}),A({},I)[Z]!=7||w(A({},H)).join("")!=ne})?function(I,H){for(var Z=M(I),ne=arguments.length,$=1,Y=S.f,q=E.f;ne>$;)for(var B,N=P(arguments[$++]),z=Y?C(w(N),Y(N)):w(N),L=z.length,X=0;L>X;)B=z[X++],l&&!g(q,N,B)||(Z[B]=N[B]);return Z}:A},function(s,f,o){var l=o(7),c=o(15),g=o(55),m=o(33),w=o(34),S=o(101),E=l.Function,M=c([].concat),P=c([].join),A={},k=function(C,I,H){if(!w(A,I)){for(var Z=[],ne=0;ne<I;ne++)Z[ne]="a["+ne+"]";A[I]=E("C,a","return new C("+P(Z,",")+")")}return A[I](C,H)};s.exports=E.bind||function(C){var I=g(this),H=I.prototype,Z=S(arguments,1),ne=function(){var $=M(Z,S(arguments));return this instanceof ne?k(I,$.length,$):I.apply(C,$)};return m(H)&&(ne.prototype=H),ne}},function(s,f,o){var l=o(34);s.exports=function(c){return c!==void 0&&(l(c,"value")||l(c,"writable"))}},function(s,f,o){var l=o(15),c=o(45),g=o(41),m=/"/g,w=l("".replace);s.exports=function(S,E,M,P){var A=g(c(S)),k="<"+E;return M!==""&&(k+=" "+M+'="'+w(g(P),m,"&quot;")+'"'),k+">"+A+"</"+E+">"}},function(s,f,o){var l=o(19);s.exports=function(c){return l(function(){var g=""[c]('"');return g!==g.toLowerCase()||g.split('"').length>3})}},function(s,f,o){var l,c,g,m,w=o(17),S=o(64),E=o(7),M=o(46),P=o(35),A=o(205),k=o(44),C=o(144),I=o(97),H=o(73),Z=o(145),ne=o(55),$=o(28),Y=o(33),q=o(117),B=o(92),N=o(114),z=o(118),L=o(156),X=o(163).set,te=o(206),fe=o(209),ce=o(210),ye=o(165),xe=o(211),ve=o(56),ue=o(95),he=o(27),be=o(212),Se=o(126),Le=o(65),Ke=he("species"),Pe="Promise",Ce=ve.getterFor(Pe),Ze=ve.set,J=ve.getterFor(Pe),K=A&&A.prototype,ae=A,_e=K,Me=E.TypeError,we=E.document,qe=E.process,nt=ye.f,Je=nt,Ve=!!(we&&we.createEvent&&E.dispatchEvent),ge=$(E.PromiseRejectionEvent),Xe="unhandledrejection",ee=!1,ze=ue(Pe,function(){var V=B(ae),se=V!==String(ae);if(!se&&Le===66||S&&!_e.finally)return!0;if(Le>=51&&/native code/.test(V))return!1;var ke=new ae(function(Ye){Ye(1)}),De=function(Ye){Ye(function(){},function(){})};return(ke.constructor={})[Ke]=De,!(ee=ke.then(function(){})instanceof De)||!se&&be&&!ge}),ut=ze||!z(function(V){ae.all(V).catch(function(){})}),gt=function(V){var se;return!(!Y(V)||!$(se=V.then))&&se},it=function(V,se){if(!V.notified){V.notified=!0;var ke=V.reactions;te(function(){for(var De=V.value,Ye=V.state==1,ft=0;ke.length>ft;){var Ht,$t,Ct,Rt=ke[ft++],Be=Ye?Rt.ok:Rt.fail,We=Rt.resolve,et=Rt.reject,rt=Rt.domain;try{Be?(Ye||(V.rejection===2&&at(V),V.rejection=1),Be===!0?Ht=De:(rt&&rt.enter(),Ht=Be(De),rt&&(rt.exit(),Ct=!0)),Ht===Rt.promise?et(Me("Promise-chain cycle")):($t=gt(Ht))?P($t,Ht,We,et):We(Ht)):et(De)}catch(wt){rt&&!Ct&&rt.exit(),et(wt)}}V.reactions=[],V.notified=!1,se&&!V.rejection&&St(V)})}},yt=function(V,se,ke){var De,Ye;Ve?((De=we.createEvent("Event")).promise=se,De.reason=ke,De.initEvent(V,!1,!0),E.dispatchEvent(De)):De={promise:se,reason:ke},!ge&&(Ye=E["on"+V])?Ye(De):V===Xe&&ce("Unhandled promise rejection",ke)},St=function(V){P(X,E,function(){var se,ke=V.facade,De=V.value;if(Pt(V)&&(se=xe(function(){Se?qe.emit("unhandledRejection",De,ke):yt(Xe,ke,De)}),V.rejection=Se||Pt(V)?2:1,se.error))throw se.value})},Pt=function(V){return V.rejection!==1&&!V.parent},at=function(V){P(X,E,function(){var se=V.facade;Se?qe.emit("rejectionHandled",se):yt("rejectionhandled",se,V.value)})},Nt=function(V,se,ke){return function(De){V(se,De,ke)}},F=function(V,se,ke){V.done||(V.done=!0,ke&&(V=ke),V.value=se,V.state=2,it(V,!0))},re=function(V,se,ke){if(!V.done){V.done=!0,ke&&(V=ke);try{if(V.facade===se)throw Me("Promise can't be resolved itself");var De=gt(se);De?te(function(){var Ye={done:!1};try{P(De,se,Nt(re,Ye,V),Nt(F,Ye,V))}catch(ft){F(Ye,ft,V)}}):(V.value=se,V.state=1,it(V,!1))}catch(Ye){F({done:!1},Ye,V)}}};if(ze&&(_e=(ae=function(V){q(this,_e),ne(V),P(l,this);var se=Ce(this);try{V(Nt(re,se),Nt(F,se))}catch(ke){F(se,ke)}}).prototype,(l=function(V){Ze(this,{type:Pe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=C(_e,{then:function(V,se){var ke=J(this),De=ke.reactions,Ye=nt(L(this,ae));return Ye.ok=!$(V)||V,Ye.fail=$(se)&&se,Ye.domain=Se?qe.domain:void 0,ke.parent=!0,De[De.length]=Ye,ke.state!=0&&it(ke,!1),Ye.promise},catch:function(V){return this.then(void 0,V)}}),c=function(){var V=new l,se=Ce(V);this.promise=V,this.resolve=Nt(re,se),this.reject=Nt(F,se)},ye.f=nt=function(V){return V===ae||V===g?new c(V):Je(V)},!S&&$(A)&&K!==Object.prototype)){m=K.then,ee||(k(K,"then",function(V,se){var ke=this;return new ae(function(De,Ye){P(m,ke,De,Ye)}).then(V,se)},{unsafe:!0}),k(K,"catch",_e.catch,{unsafe:!0}));try{delete K.constructor}catch{}I&&I(K,_e)}w({global:!0,wrap:!0,forced:ze},{Promise:ae}),H(ae,Pe,!1,!0),Z(Pe),g=M(Pe),w({target:Pe,stat:!0,forced:ze},{reject:function(V){var se=nt(this);return P(se.reject,void 0,V),se.promise}}),w({target:Pe,stat:!0,forced:S||ze},{resolve:function(V){return fe(S&&this===g?ae:this,V)}}),w({target:Pe,stat:!0,forced:ut},{all:function(V){var se=this,ke=nt(se),De=ke.resolve,Ye=ke.reject,ft=xe(function(){var Ht=ne(se.resolve),$t=[],Ct=0,Rt=1;N(V,function(Be){var We=Ct++,et=!1;Rt++,P(Ht,se,Be).then(function(rt){et||(et=!0,$t[We]=rt,--Rt||De($t))},Ye)}),--Rt||De($t)});return ft.error&&Ye(ft.value),ke.promise},race:function(V){var se=this,ke=nt(se),De=ke.reject,Ye=xe(function(){var ft=ne(se.resolve);N(V,function(Ht){P(ft,se,Ht).then(ke.resolve,De)})});return Ye.error&&De(Ye.value),ke.promise}})},function(s,f,o){var l=o(7);s.exports=l.Promise},function(s,f,o){var l,c,g,m,w,S,E,M,P=o(7),A=o(62),k=o(51).f,C=o(163).set,I=o(164),H=o(207),Z=o(208),ne=o(126),$=P.MutationObserver||P.WebKitMutationObserver,Y=P.document,q=P.process,B=P.Promise,N=k(P,"queueMicrotask"),z=N&&N.value;z||(l=function(){var L,X;for(ne&&(L=q.domain)&&L.exit();c;){X=c.fn,c=c.next;try{X()}catch(te){throw c?m():g=void 0,te}}g=void 0,L&&L.enter()},I||ne||Z||!$||!Y?!H&&B&&B.resolve?((E=B.resolve(void 0)).constructor=B,M=A(E.then,E),m=function(){M(l)}):ne?m=function(){q.nextTick(l)}:(C=A(C,P),m=function(){C(l)}):(w=!0,S=Y.createTextNode(""),new $(l).observe(S,{characterData:!0}),m=function(){S.data=w=!w})),s.exports=z||function(L){var X={fn:L,next:void 0};g&&(g.next=X),c||(c=X,m()),g=X}},function(s,f,o){var l=o(53),c=o(7);s.exports=/ipad|iphone|ipod/i.test(l)&&c.Pebble!==void 0},function(s,f,o){var l=o(53);s.exports=/web0s(?!.*chrome)/i.test(l)},function(s,f,o){var l=o(32),c=o(33),g=o(165);s.exports=function(m,w){if(l(m),c(w)&&w.constructor===m)return w;var S=g.f(m);return(0,S.resolve)(w),S.promise}},function(s,f,o){var l=o(7);s.exports=function(c,g){var m=l.console;m&&m.error&&(arguments.length==1?m.error(c):m.error(c,g))}},function(s,f){s.exports=function(o){try{return{error:!1,value:o()}}catch(l){return{error:!0,value:l}}}},function(s,f){s.exports=typeof window=="object"},function(s,f,o){var l=o(36),c=o(15),g=o(66),m=o(40),w=c(o(93).f),S=c([].push),E=function(M){return function(P){for(var A,k=m(P),C=g(k),I=C.length,H=0,Z=[];I>H;)A=C[H++],l&&!w(k,A)||S(Z,M?[A,k[A]]:k[A]);return Z}};s.exports={entries:E(!0),values:E(!1)}},function(s,f,o){var l=o(38),c=o(67),g=o(43);s.exports=function(m){for(var w=l(this),S=g(w),E=arguments.length,M=c(E>1?arguments[1]:void 0,S),P=E>2?arguments[2]:void 0,A=P===void 0?S:c(P,S);A>M;)w[M++]=m;return w}},function(s,f,o){o.r(f),o.d(f,"observer",function(){return Hn}),o.d(f,"LogicFlow",function(){return ql}),o.d(f,"h",function(){return ee.g}),o.d(f,"LogicFlowUtil",function(){return l}),o.d(f,"BaseNode",function(){return br}),o.d(f,"RectNode",function(){return Uc}),o.d(f,"CircleNode",function(){return $c}),o.d(f,"PolygonNode",function(){return Qc}),o.d(f,"DiamondNode",function(){return rl}),o.d(f,"EllipseNode",function(){return sl}),o.d(f,"TextNode",function(){return fl}),o.d(f,"HtmlNode",function(){return yl}),o.d(f,"BaseEdge",function(){return yi}),o.d(f,"LineEdge",function(){return Al}),o.d(f,"PolylineEdge",function(){return Cl}),o.d(f,"BezierEdge",function(){return zl}),o.d(f,"Arrow",function(){return l_}),o.d(f,"BaseEdgeModel",function(){return fs}),o.d(f,"BezierEdgeModel",function(){return Qs}),o.d(f,"LineEdgeModel",function(){return vs}),o.d(f,"PolylineEdgeModel",function(){return Os}),o.d(f,"BaseNodeModel",function(){return gr}),o.d(f,"CircleNodeModel",function(){return ic}),o.d(f,"DiamondNodeModel",function(){return lc}),o.d(f,"EllipseNodeModel",function(){return hc}),o.d(f,"PolygonNodeModel",function(){return Oc}),o.d(f,"RectNodeModel",function(){return Ec}),o.d(f,"TextNodeModel",function(){return Mc}),o.d(f,"HtmlNodeModel",function(){return kc}),o.d(f,"EditConfigModel",function(){return Bf}),o.d(f,"GraphModel",function(){return Td}),o.d(f,"SnaplineModel",function(){return ly}),o.d(f,"Keyboard",function(){return Zy}),o.d(f,"get",function(){return eh}),o.d(f,"defaults",function(){return nh}),o.d(f,"ElementState",function(){return _t}),o.d(f,"ModelType",function(){return ht}),o.d(f,"ElementType",function(){return Xt}),o.d(f,"EventType",function(){return tt}),o.d(f,"formateAnchorConnectValidateData",function(){return ei});var l={};o.r(l),o.d(l,"createUuid",function(){return kr}),o.d(l,"refreshGraphId",function(){return hb}),o.d(l,"createDrag",function(){return Fb}),o.d(l,"StepDrag",function(){return dr});var c=o(1),g=o(10);if(!g.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!c.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var m=o(42),w=Object(m.b)("observerBatching");function S(e){e()}var E=!1;function M(){return E}function P(e){return Object(c.t)(e)}var A,k=1e4,C=new Set;function I(){A===void 0&&(A=setTimeout(H,1e4))}function H(){A=void 0;var e=Date.now();C.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,C.delete(t))}),C.size>0&&I()}var Z=!1,ne=[],$={};function Y(e){return"observer"+e}function q(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=$),M();var r,a=function(O){return function(){Z?ne.push(O):O()}}((n.useForceUpdate||m.d)()),i=g.d.useRef(null);if(!i.current){var u=new c.c(Y(t),function(){p.mounted?a():(u.dispose(),i.current=null)}),p=function(O){return{cleanAt:Date.now()+k,reaction:O}}(u);i.current=p,r=i,C.add(r),I()}var h=i.current.reaction;return g.d.useDebugValue(h,P),g.d.useEffect(function(){var O;return O=i,C.delete(O),i.current?i.current.mounted=!0:(i.current={reaction:new c.c(Y(t),function(){a()}),cleanAt:1/0},a()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(O){Z=!0,ne=[];try{var _=O();Z=!1;var j=ne.length>0?ne:void 0;return g.d.useLayoutEffect(function(){j&&j.forEach(function(T){return T()})},[j]),_}finally{Z=!1}}(function(){var O,_;if(h.track(function(){try{O=e()}catch(j){_=j}}),_)throw _;return O})}var B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},B.apply(this,arguments)};function N(e,t){var n,r,a,i=B({forwardRef:!1},t),u=e.displayName||e.name,p=function(h,O){return q(function(){return e(h,O)},u)};return p.displayName=u,n=i.forwardRef?Object(g.f)(Object(g.e)(p)):Object(g.f)(p),r=e,a=n,Object.keys(r).forEach(function(h){z[h]||Object.defineProperty(a,h,Object.getOwnPropertyDescriptor(r,h))}),n.displayName=u,n}var z={$$typeof:!0,render:!0,compare:!0,type:!0};function L(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:q(r)}function X(e,t,n,r,a){var i=t==="children"?"render":"children",u=typeof e[t]=="function",p=typeof e[i]=="function";return u&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||p?null:new Error("Invalid prop `"+a+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}L.propTypes={children:X,render:X},L.displayName="Observer";var te;(te=g.g)||(te=S),Object(c.n)({reactionScheduler:te}),Object(m.a)()[w]=!0;var fe=0,ce={};function ye(e){return ce[e]||(ce[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+fe+")";return fe++,n}(e)),ce[e]}function xe(e,t){if(ve(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(t,n[a])||!ve(e[n[a]],t[n[a]]))return!1;return!0}function ve(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ue(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var he=ye("patchMixins"),be=ye("patchedDefinition");function Se(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];t.locks++;try{var u;return e!=null&&(u=e.apply(this,a)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(p){p.apply(n,a)})}}function Le(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Se.call.apply(Se,[this,e,t].concat(r))}}function Ke(e,t,n){var r=function(p,h){var O=p[he]=p[he]||{},_=O[h]=O[h]||{};return _.locks=_.locks||0,_.methods=_.methods||[],_}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a[be]){var i=e[t],u=Pe(e,t,a?a.enumerable:void 0,r,i);Object.defineProperty(e,t,u)}}function Pe(e,t,n,r,a){var i,u=Le(a,r);return(i={})[be]=!0,i.get=function(){return u},i.set=function(p){if(this===e)u=Le(p,r);else{var h=Pe(this,t,n,r,p);Object.defineProperty(this,t,h)}},i.configurable=!0,i.enumerable=n,i}var Ce=c.a||"$mobx",Ze=ye("isMobXReactObserver"),J=ye("isUnmounted"),K=ye("skipRender"),ae=ye("isForcingUpdate");function _e(e){var t=e.prototype;if(e[Ze]?Me(t):e[Ze]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==g.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==qe)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=qe;nt(t,"props"),nt(t,"state");var n=t.render;return t.render=function(){return we.call(this,n)},Ke(t,"componentWillUnmount",function(){var r;(r=this.render[Ce])===null||r===void 0||r.dispose(),this[J]=!0,!this.render[Ce]&&Me(this)}),e}function Me(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function we(e){var t=this;ue(this,K,!1),ue(this,ae,!1);var n=Me(this),r=e.bind(this),a=!1,i=new c.c(n+".render()",function(){if(!a&&(a=!0,t[J]!==!0)){var p=!0;try{ue(t,ae,!0),t[K]||g.a.prototype.forceUpdate.call(t),p=!1}finally{ue(t,ae,!1),p&&i.dispose()}}});function u(){a=!1;var p=void 0,h=void 0;if(i.track(function(){try{h=Object(c.d)(!1,r)}catch(O){p=O}}),p)throw p;return h}return i.reactComponent=this,u[Ce]=i,this.render=u,u.call(this)}function qe(e,t){return this.state!==t||!xe(this.props,e)}function nt(e,t){var n=ye("reactProp_"+t+"_valueHolder"),r=ye("reactProp_"+t+"_atomHolder");function a(){return this[r]||ue(this,r,Object(c.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var i=!1;return c.f&&c.e&&(i=Object(c.f)(!0)),a.call(this).reportObserved(),c.f&&c.e&&Object(c.e)(i),this[n]},set:function(i){this[ae]||xe(this[n],i)?ue(this,n,i):(ue(this,n,i),ue(this,K,!0),a.call(this).reportChanged(),ue(this,K,!1))}})}var Je=typeof Symbol=="function"&&Symbol.for,Ve=Je?Symbol.for("react.forward_ref"):typeof g.e=="function"&&Object(g.e)(function(e){return null}).$$typeof,ge=Je?Symbol.for("react.memo"):typeof g.f=="function"&&Object(g.f)(function(e){return null}).$$typeof;function Xe(e){if(e.isMobxInjector,ge&&e.$$typeof===ge)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Ve&&e.$$typeof===Ve){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(g.e)(function(){var n=arguments;return Object(g.c)(L,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(g.a,e)?_e(e):N(e)}if(!g.a)throw new Error("mobx-react requires React to be available");if(!c.C)throw new Error("mobx-react requires mobx to be available");var ee=o(0);o(3),o(60),o(2),o(6),o(4),o(11),o(39),o(29),o(22),o(20),o(5),o(23),o(21),o(25),o(8),o(9),o(16),o(24),o(18),o(188),o(193),o(103),o(152),o(153);var ze=function(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a},ut=function(){this.__data__=[],this.size=0},gt=function(e,t){return e===t||e!=e&&t!=t},it=function(e,t){for(var n=e.length;n--;)if(gt(e[n][0],t))return n;return-1},yt=Array.prototype.splice,St=function(e){var t=this.__data__,n=it(t,e);return!(n<0)&&(n==t.length-1?t.pop():yt.call(t,n,1),--this.size,!0)},Pt=function(e){var t=this.__data__,n=it(t,e);return n<0?void 0:t[n][1]},at=function(e){return it(this.__data__,e)>-1},Nt=function(e,t){var n=this.__data__,r=it(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function F(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}F.prototype.clear=ut,F.prototype.delete=St,F.prototype.get=Pt,F.prototype.has=at,F.prototype.set=Nt;var re=F,V=function(){this.__data__=new re,this.size=0},se=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ke=function(e){return this.__data__.get(e)},De=function(e){return this.__data__.has(e)},Ye=o(31),ft=Ye.a.Symbol,Ht=Object.prototype,$t=Ht.hasOwnProperty,Ct=Ht.toString,Rt=ft?ft.toStringTag:void 0,Be=function(e){var t=$t.call(e,Rt),n=e[Rt];try{e[Rt]=void 0;var r=!0}catch{}var a=Ct.call(e);return r&&(t?e[Rt]=n:delete e[Rt]),a},We=Object.prototype.toString,et=function(e){return We.call(e)},rt=ft?ft.toStringTag:void 0,wt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":rt&&rt in Object(e)?Be(e):et(e)},kt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},ur,Fn=function(e){if(!kt(e))return!1;var t=wt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Un=Ye.a["__core-js_shared__"],Fr=(ur=/[^.]+$/.exec(Un&&Un.keys&&Un.keys.IE_PROTO||""))?"Symbol(src)_1."+ur:"",Tu=function(e){return!!Fr&&Fr in e},Bo=Function.prototype.toString,Pn=function(e){if(e!=null){try{return Bo.call(e)}catch{}try{return e+""}catch{}}return""},ji=/^\[object .+?Constructor\]$/,Ue=Function.prototype,ku=Object.prototype,Pi=Ue.toString,Mi=ku.hasOwnProperty,gn=RegExp("^"+Pi.call(Mi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bn=function(e){return!(!kt(e)||Tu(e))&&(Fn(e)?gn:ji).test(Pn(e))},Ai=function(e,t){return e==null?void 0:e[t]},Yn=function(e,t){var n=Ai(e,t);return bn(n)?n:void 0},Er=Yn(Ye.a,"Map"),In=Yn(Object,"create"),Go=function(){this.__data__=In?In(null):{},this.size=0},Ti=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Du=Object.prototype.hasOwnProperty,io=function(e){var t=this.__data__;if(In){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Du.call(t,e)?t[e]:void 0},Nu=Object.prototype.hasOwnProperty,ki=function(e){var t=this.__data__;return In?t[e]!==void 0:Nu.call(t,e)},Cu=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===void 0?"__lodash_hash_undefined__":t,this};function sr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sr.prototype.clear=Go,sr.prototype.delete=Ti,sr.prototype.get=io,sr.prototype.has=ki,sr.prototype.set=Cu;var Di=sr,Vn=function(){this.size=0,this.__data__={hash:new Di,map:new(Er||re),string:new Di}},Ru=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},ao=function(e,t){var n=e.__data__;return Ru(t)?n[typeof t=="string"?"string":"hash"]:n.map},Ho=function(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t},Xo=function(e){return ao(this,e).get(e)},Iu=function(e){return ao(this,e).has(e)},Ni=function(e,t){var n=ao(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Sr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Sr.prototype.clear=Vn,Sr.prototype.delete=Ho,Sr.prototype.get=Xo,Sr.prototype.has=Iu,Sr.prototype.set=Ni;var jr=Sr,Ci=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!Er||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jr(r)}return n.set(e,t),this.size=n.size,this};function Pr(e){var t=this.__data__=new re(e);this.size=t.size}Pr.prototype.clear=V,Pr.prototype.delete=se,Pr.prototype.get=ke,Pr.prototype.has=De,Pr.prototype.set=Ci;var Wn=Pr,Ri=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ii=function(e){return this.__data__.has(e)};function Ur(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new jr;++t<n;)this.add(e[t])}Ur.prototype.add=Ur.prototype.push=Ri,Ur.prototype.has=Ii;var Li=Ur,Lu=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},zi=function(e,t){return e.has(t)},Bi=function(e,t,n,r,a,i){var u=1&n,p=e.length,h=t.length;if(p!=h&&!(u&&h>p))return!1;var O=i.get(e),_=i.get(t);if(O&&_)return O==t&&_==e;var j=-1,T=!0,R=2&n?new Li:void 0;for(i.set(e,t),i.set(t,e);++j<p;){var U=e[j],W=t[j];if(r)var ie=u?r(W,U,j,t,e,i):r(U,W,j,e,t,i);if(ie!==void 0){if(ie)continue;T=!1;break}if(R){if(!Lu(t,function(oe,de){if(!zi(R,de)&&(U===oe||a(U,oe,n,r,i)))return R.push(de)})){T=!1;break}}else if(U!==W&&!a(U,W,n,r,i)){T=!1;break}}return i.delete(e),i.delete(t),T},Yr=Ye.a.Uint8Array,Gi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n},zu=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Hi=ft?ft.prototype:void 0,Fo=Hi?Hi.valueOf:void 0,Vr=function(e,t,n,r,a,i,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Yr(e),new Yr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=Gi;case"[object Set]":var h=1&r;if(p||(p=zu),e.size!=t.size&&!h)return!1;var O=u.get(e);if(O)return O==t;r|=2,u.set(e,t);var _=Bi(p(e),p(t),r,a,i,u);return u.delete(e),_;case"[object Symbol]":if(Fo)return Fo.call(e)==Fo.call(t)}return!1},$n=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e},qt=Array.isArray,Xi=function(e,t,n){var r=t(e);return qt(e)?r:$n(r,n(e))},Fi=function(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[a++]=u)}return i},Ui=function(){return[]},Bu=Object.prototype.propertyIsEnumerable,cr=Object.getOwnPropertySymbols,Mn=cr?function(e){return e==null?[]:(e=Object(e),Fi(cr(e),function(t){return Bu.call(e,t)}))}:Ui,Gu=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},An=function(e){return e!=null&&typeof e=="object"},mn=function(e){return An(e)&&wt(e)=="[object Arguments]"},Yi=Object.prototype,Vi=Yi.hasOwnProperty,Hu=Yi.propertyIsEnumerable,uo=mn(function(){return arguments}())?mn:function(e){return An(e)&&Vi.call(e,"callee")&&!Hu.call(e,"callee")},Kn=uo,Wr=o(48),Xu=/^(?:0|[1-9]\d*)$/,rn=function(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&(n=="number"||n!="symbol"&&Xu.test(e))&&e>-1&&e%1==0&&e<t},lr=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},vt={};vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var On=function(e){return An(e)&&lr(e.length)&&!!vt[wt(e)]},fr=function(e){return function(t){return e(t)}},Kt=o(49),Wi=Kt.a&&Kt.a.isTypedArray,Uo=Wi?fr(Wi):On,$i=Object.prototype.hasOwnProperty,Tn=function(e,t){var n=qt(e),r=!n&&Kn(e),a=!n&&!r&&Object(Wr.a)(e),i=!n&&!r&&!a&&Uo(e),u=n||r||a||i,p=u?Gu(e.length,String):[],h=p.length;for(var O in e)!t&&!$i.call(e,O)||u&&(O=="length"||a&&(O=="offset"||O=="parent")||i&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||rn(O,h))||p.push(O);return p},Ki=Object.prototype,so=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Ki)},kn=function(e,t){return function(n){return e(t(n))}},Zi=kn(Object.keys,Object),Fu=Object.prototype.hasOwnProperty,Yo=function(e){if(!so(e))return Zi(e);var t=[];for(var n in Object(e))Fu.call(e,n)&&n!="constructor"&&t.push(n);return t},It=function(e){return e!=null&&lr(e.length)&&!Fn(e)},Mr=function(e){return It(e)?Tn(e):Yo(e)},co=function(e){return Xi(e,Mr,Mn)},dn=Object.prototype.hasOwnProperty,qi=function(e,t,n,r,a,i){var u=1&n,p=co(e),h=p.length;if(h!=co(t).length&&!u)return!1;for(var O=h;O--;){var _=p[O];if(!(u?_ in t:dn.call(t,_)))return!1}var j=i.get(e),T=i.get(t);if(j&&T)return j==t&&T==e;var R=!0;i.set(e,t),i.set(t,e);for(var U=u;++O<h;){var W=e[_=p[O]],ie=t[_];if(r)var oe=u?r(ie,W,_,t,e,i):r(W,ie,_,e,t,i);if(!(oe===void 0?W===ie||a(W,ie,n,r,i):oe)){R=!1;break}U||(U=_=="constructor")}if(R&&!U){var de=e.constructor,me=t.constructor;de==me||!("constructor"in e)||!("constructor"in t)||typeof de=="function"&&de instanceof de&&typeof me=="function"&&me instanceof me||(R=!1)}return i.delete(e),i.delete(t),R},$r=Yn(Ye.a,"DataView"),lo=Yn(Ye.a,"Promise"),fo=Yn(Ye.a,"Set"),po=Yn(Ye.a,"WeakMap"),Ji="[object Map]",hn="[object Promise]",_n="[object Set]",Ar="[object WeakMap]",Vo="[object DataView]",Wo=Pn($r),$o=Pn(Er),Qi=Pn(lo),Uu=Pn(fo),ho=Pn(po),pr=wt;($r&&pr(new $r(new ArrayBuffer(1)))!=Vo||Er&&pr(new Er)!=Ji||lo&&pr(lo.resolve())!=hn||fo&&pr(new fo)!=_n||po&&pr(new po)!=Ar)&&(pr=function(e){var t=wt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Pn(n):"";if(r)switch(r){case Wo:return Vo;case $o:return Ji;case Qi:return hn;case Uu:return _n;case ho:return Ar}return t});var y=pr,b="[object Arguments]",x="[object Array]",D="[object Object]",G=Object.prototype.hasOwnProperty,Q=function(e,t,n,r,a,i){var u=qt(e),p=qt(t),h=u?x:y(e),O=p?x:y(t),_=(h=h==b?D:h)==D,j=(O=O==b?D:O)==D,T=h==O;if(T&&Object(Wr.a)(e)){if(!Object(Wr.a)(t))return!1;u=!0,_=!1}if(T&&!_)return i||(i=new Wn),u||Uo(e)?Bi(e,t,n,r,a,i):Vr(e,t,h,n,r,a,i);if(!(1&n)){var R=_&&G.call(e,"__wrapped__"),U=j&&G.call(t,"__wrapped__");if(R||U){var W=R?e.value():e,ie=U?t.value():t;return i||(i=new Wn),a(W,ie,n,r,i)}}return!!T&&(i||(i=new Wn),qi(e,t,n,r,a,i))},pe=function e(t,n,r,a,i){return t===n||(t==null||n==null||!An(t)&&!An(n)?t!=t&&n!=n:Q(t,n,r,a,e,i))},je=function(e,t,n,r){var a=n.length,i=a,u=!r;if(e==null)return!i;for(e=Object(e);a--;){var p=n[a];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++a<i;){var h=(p=n[a])[0],O=e[h],_=p[1];if(u&&p[2]){if(O===void 0&&!(h in e))return!1}else{var j=new Wn;if(r)var T=r(O,_,h,e,t,j);if(!(T===void 0?pe(_,O,3,r,j):T))return!1}}return!0},He=function(e){return e==e&&!kt(e)},dt=function(e){for(var t=Mr(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,He(a)]}return t},ot=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},xt=function(e){var t=dt(e);return t.length==1&&t[0][2]?ot(t[0][0],t[0][1]):function(n){return n===e||je(n,e,t)}},ct=function(e){return typeof e=="symbol"||An(e)&&wt(e)=="[object Symbol]"},Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wn=/^\w*$/,At=function(e,t){if(qt(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!ct(e))||wn.test(e)||!Ot.test(e)||t!=null&&e in Object(t)};function on(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var u=e.apply(this,r);return n.cache=i.set(a,u)||i,u};return n.cache=new(on.Cache||jr),n}on.Cache=jr;var Kr=on,Yu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ea=/\\(\\)?/g,ta=function(e){var t=Kr(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yu,function(n,r,a,i){t.push(a?i.replace(ea,"$1"):r||n)}),t}),yo=ft?ft.prototype:void 0,Ko=yo?yo.toString:void 0,an=function e(t){if(typeof t=="string")return t;if(qt(t))return ze(t,e)+"";if(ct(t))return Ko?Ko.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},na=function(e){return e==null?"":an(e)},Zr=function(e,t){return qt(e)?e:At(e,t)?[e]:ta(na(e))},Zo=function(e){if(typeof e=="string"||ct(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Vu=function(e,t){for(var n=0,r=(t=Zr(t,e)).length;e!=null&&n<r;)e=e[Zo(t[n++])];return n&&n==r?e:void 0},pf=function(e,t,n){var r=e==null?void 0:Vu(e,t);return r===void 0?n:r},eg=function(e,t){return e!=null&&t in Object(e)},tg=function(e,t,n){for(var r=-1,a=(t=Zr(t,e)).length,i=!1;++r<a;){var u=Zo(t[r]);if(!(i=e!=null&&n(e,u)))break;e=e[u]}return i||++r!=a?i:!!(a=e==null?0:e.length)&&lr(a)&&rn(u,a)&&(qt(e)||Kn(e))},df=function(e,t){return e!=null&&tg(e,t,eg)},ng=function(e,t){return At(e)&&He(t)?ot(Zo(e),t):function(n){var r=pf(n,e);return r===void 0&&r===t?df(n,e):pe(t,r,3)}},Wu=function(e){return e},rg=function(e){return function(t){return t==null?void 0:t[e]}},og=function(e){return function(t){return Vu(t,e)}},ig=function(e){return At(e)?rg(Zo(e)):og(e)},ag=function(e){return typeof e=="function"?e:e==null?Wu:typeof e=="object"?qt(e)?ng(e[0],e[1]):xt(e):ig(e)},hf=function(e){return function(t,n,r){for(var a=-1,i=Object(t),u=r(t),p=u.length;p--;){var h=u[e?p:++a];if(n(i[h],h,i)===!1)break}return t}}(),ug=function(e,t){return function(n,r){if(n==null)return n;if(!It(n))return e(n,r);for(var a=n.length,i=t?a:-1,u=Object(n);(t?i--:++i<a)&&r(u[i],i,u)!==!1;);return n}}(function(e,t){return e&&hf(e,t,Mr)}),sg=function(e,t){var n=-1,r=It(e)?Array(e.length):[];return ug(e,function(a,i,u){r[++n]=t(a,i,u)}),r},ra=function(e,t){return(qt(e)?ze:sg)(e,ag(t))};Object(c.n)({isolateGlobalState:!0});var oa=function(){try{var e=Yn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),$u=function(e,t,n){t=="__proto__"&&oa?oa(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},cg=Object.prototype.hasOwnProperty,ia=function(e,t,n){var r=e[t];cg.call(e,t)&&gt(r,n)&&(n!==void 0||t in e)||$u(e,t,n)},vo=function(e,t,n,r){var a=!n;n||(n={});for(var i=-1,u=t.length;++i<u;){var p=t[i],h=r?r(n[p],e[p],p,n,e):void 0;h===void 0&&(h=e[p]),a?$u(n,p,h):ia(n,p,h)}return n},lg=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},yf=Math.max,vf=function(e,t,n){return t=yf(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=yf(r.length-t,0),u=Array(i);++a<i;)u[a]=r[t+a];a=-1;for(var p=Array(t+1);++a<t;)p[a]=r[a];return p[t]=n(u),lg(e,this,p)}},fg=function(e){return function(){return e}},pg=oa?function(e,t){return oa(e,"toString",{configurable:!0,enumerable:!1,value:fg(t),writable:!0})}:Wu,dg=Date.now,hg=function(e){var t=0,n=0;return function(){var r=dg(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},gf=hg(pg),yg=function(e,t){return gf(vf(e,t,Wu),e+"")},vg=function(e,t,n){if(!kt(n))return!1;var r=typeof t;return!!(r=="number"?It(n)&&rn(t,n.length):r=="string"&&t in n)&&gt(n[t],e)},bf=function(e){return yg(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,u&&vg(n[0],n[1],u)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var p=n[r];p&&e(t,p,r,i)}return t})},gg=Object.prototype.hasOwnProperty,un=bf(function(e,t){if(so(t)||It(t))vo(t,Mr(t),e);else for(var n in t)gg.call(t,n)&&ia(e,n,t[n])}),bg=function(e,t,n,r){if(!kt(e))return e;for(var a=-1,i=(t=Zr(t,e)).length,u=i-1,p=e;p!=null&&++a<i;){var h=Zo(t[a]),O=n;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(a!=u){var _=p[h];(O=r?r(_,h,p):void 0)===void 0&&(O=kt(_)?_:rn(t[a+1])?[]:{})}ia(p,h,O),p=p[h]}return e},mg=function(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var u=t[r],p=Vu(e,u);n(p,u)&&bg(i,Zr(u,e),p)}return i},Og=function(e,t){return mg(e,t,function(n,r){return df(e,r)})},mf=ft?ft.isConcatSpreadable:void 0,_g=function(e){return qt(e)||Kn(e)||!!(mf&&e&&e[mf])},wg=function e(t,n,r,a,i){var u=-1,p=t.length;for(r||(r=_g),i||(i=[]);++u<p;){var h=t[u];n>0&&r(h)?n>1?e(h,n-1,r,a,i):$n(i,h):a||(i[i.length]=h)}return i},xg=function(e){return e!=null&&e.length?wg(e,1):[]},Lt,Of,_f,wf,xf,Ef,Sf,jf,Pf,Mf,Af,Tf,kf,Df,Nf,Cf,Rf,If,qo=function(e){return gf(vf(e,void 0,xg),e+"")}(function(e,t){return e==null?{}:Og(e,t)});function Jt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var _t,zf,ht,Xt,tt,Tt,Sg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ku=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Bf=(Of=Zt((Lt=function(){function e(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),Jt(this,"isSilentMode",Of,this),Jt(this,"stopZoomGraph",_f,this),Jt(this,"stopScrollGraph",wf,this),Jt(this,"stopMoveGraph",xf,this),Jt(this,"adjustEdge",Ef,this),Jt(this,"adjustEdgeMiddle",Sf,this),Jt(this,"adjustEdgeStartAndEnd",jf,this),Jt(this,"adjustNodePosition",Pf,this),Jt(this,"hideAnchors",Mf,this),Jt(this,"hoverOutline",Af,this),Jt(this,"nodeSelectedOutline",Tf,this),Jt(this,"edgeSelectedOutline",kf,this),Jt(this,"nodeTextEdit",Df,this),Jt(this,"edgeTextEdit",Nf,this),Jt(this,"nodeTextDraggable",Cf,this),Jt(this,"edgeTextDraggable",Rf,this),Jt(this,"autoExpand",If,this),Lf(this,"multipleSelectKey",""),Lf(this,"defaultConfig",{}),un(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);un(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,i=r.textEdit,u={};if(a===!1&&un(u,this.defaultConfig),a===!0&&a!==this.isSilentMode){var p=qo(Sg,Ku);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},un(u,p)}i===!1&&un(u,{nodeTextEdit:!1,edgeTextEdit:!1});var h=qo(r,Ku);return un(u,h)}},{key:"getConfig",value:function(){return qo(this,Ku)}}])&&Eg(t.prototype,n),e}()).prototype,"isSilentMode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_f=Zt(Lt.prototype,"stopZoomGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wf=Zt(Lt.prototype,"stopScrollGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xf=Zt(Lt.prototype,"stopMoveGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ef=Zt(Lt.prototype,"adjustEdge",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sf=Zt(Lt.prototype,"adjustEdgeMiddle",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jf=Zt(Lt.prototype,"adjustEdgeStartAndEnd",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pf=Zt(Lt.prototype,"adjustNodePosition",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mf=Zt(Lt.prototype,"hideAnchors",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Af=Zt(Lt.prototype,"hoverOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tf=Zt(Lt.prototype,"nodeSelectedOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kf=Zt(Lt.prototype,"edgeSelectedOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Df=Zt(Lt.prototype,"nodeTextEdit",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Nf=Zt(Lt.prototype,"edgeTextEdit",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cf=Zt(Lt.prototype,"nodeTextDraggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rf=Zt(Lt.prototype,"edgeTextDraggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),If=Zt(Lt.prototype,"autoExpand",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zt(Lt.prototype,"updateEditConfig",[c.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateEditConfig"),Lt.prototype),Lt);o(63),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(_t||(_t={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(zf||(zf={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(ht||(ht={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Xt||(Xt={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(tt||(tt={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Tt||(Tt={}));var xn,zt,Gf,Hf,Xf,Ff,Uf,Yf,Vf;function aa(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Wf(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Wf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(xn||(xn={}));var Pg=(zt=function(){function e(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),Zu(this,"MINI_SCALE_SIZE",.2),Zu(this,"MAX_SCALE_SIZE",16),qr(this,"SCALE_X",Gf,this),qr(this,"SKEW_Y",Hf,this),qr(this,"SKEW_X",Xf,this),qr(this,"SCALE_Y",Ff,this),qr(this,"TRANSLATE_X",Uf,this),qr(this,"TRANSLATE_Y",Yf,this),qr(this,"ZOOM_SIZE",Vf,this),Zu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=aa(r,2),i=a[0],u=a[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=aa(r,2),i=a[0],u=a[1];return[i*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,i){var u=aa(r,2),p=u[0],h=u[1];return[p+a/this.SCALE_X,h+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,u=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,u=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(i-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*a[1]),this.SCALE_X=i,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(tt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=a,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,i,u){var p=aa(this.CanvasPointToHtmlPoint([r,a]),2),h=i/2-p[0],O=u/2-p[1];this.TRANSLATE_X+=h,this.TRANSLATE_Y+=O,this.emitGraphTransform("focusOn")}}],n&&jg(t.prototype,n),e}(),Gf=Ln(zt.prototype,"SCALE_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hf=Ln(zt.prototype,"SKEW_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xf=Ln(zt.prototype,"SKEW_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ff=Ln(zt.prototype,"SCALE_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Uf=Ln(zt.prototype,"TRANSLATE_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yf=Ln(zt.prototype,"TRANSLATE_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vf=Ln(zt.prototype,"ZOOM_SIZE",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Ln(zt.prototype,"zoom",[c.k],Object.getOwnPropertyDescriptor(zt.prototype,"zoom"),zt.prototype),Ln(zt.prototype,"resetZoom",[c.k],Object.getOwnPropertyDescriptor(zt.prototype,"resetZoom"),zt.prototype),Ln(zt.prototype,"translate",[c.k],Object.getOwnPropertyDescriptor(zt.prototype,"translate"),zt.prototype),Ln(zt.prototype,"focusOn",[c.k],Object.getOwnPropertyDescriptor(zt.prototype,"focusOn"),zt.prototype),zt),Mg=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},Ag=function(e,t){return e&&vo(t,Mr(t),e)},Tg=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},kg=Object.prototype.hasOwnProperty,Dg=function(e){if(!kt(e))return Tg(e);var t=so(e),n=[];for(var r in e)(r!="constructor"||!t&&kg.call(e,r))&&n.push(r);return n},Jo=function(e){return It(e)?Tn(e,!0):Dg(e)},Ng=function(e,t){return e&&vo(t,Jo(t),e)},$f=o(106),Kf=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Cg=function(e,t){return vo(e,Mn(e),t)},qu=kn(Object.getPrototypeOf,Object),Zf=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)$n(t,Mn(e)),e=qu(e);return t}:Ui,Rg=function(e,t){return vo(e,Zf(e),t)},Ig=function(e){return Xi(e,Jo,Zf)},Lg=Object.prototype.hasOwnProperty,zg=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Lg.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Ju=function(e){var t=new e.constructor(e.byteLength);return new Yr(t).set(new Yr(e)),t},Bg=function(e,t){var n=t?Ju(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Gg=/\w*$/,Hg=function(e){var t=new e.constructor(e.source,Gg.exec(e));return t.lastIndex=e.lastIndex,t},qf=ft?ft.prototype:void 0,Jf=qf?qf.valueOf:void 0,Xg=function(e){return Jf?Object(Jf.call(e)):{}},Qf=function(e,t){var n=t?Ju(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Fg=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Ju(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Bg(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Qf(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Hg(e);case"[object Symbol]":return Xg(e)}},ep=Object.create,Ug=function(){function e(){}return function(t){if(!kt(t))return{};if(ep)return ep(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),tp=function(e){return typeof e.constructor!="function"||so(e)?{}:Ug(qu(e))},Yg=function(e){return An(e)&&y(e)=="[object Map]"},np=Kt.a&&Kt.a.isMap,Vg=np?fr(np):Yg,Wg=function(e){return An(e)&&y(e)=="[object Set]"},rp=Kt.a&&Kt.a.isSet,$g=rp?fr(rp):Wg,op="[object Arguments]",ip="[object Function]",Kg="[object Object]",Mt={};Mt[op]=Mt["[object Array]"]=Mt["[object ArrayBuffer]"]=Mt["[object DataView]"]=Mt["[object Boolean]"]=Mt["[object Date]"]=Mt["[object Float32Array]"]=Mt["[object Float64Array]"]=Mt["[object Int8Array]"]=Mt["[object Int16Array]"]=Mt["[object Int32Array]"]=Mt["[object Map]"]=Mt["[object Number]"]=Mt["[object Object]"]=Mt["[object RegExp]"]=Mt["[object Set]"]=Mt["[object String]"]=Mt["[object Symbol]"]=Mt["[object Uint8Array]"]=Mt["[object Uint8ClampedArray]"]=Mt["[object Uint16Array]"]=Mt["[object Uint32Array]"]=!0,Mt["[object Error]"]=Mt[ip]=Mt["[object WeakMap]"]=!1;var Zg=function e(t,n,r,a,i,u){var p,h=1&n,O=2&n,_=4&n;if(r&&(p=i?r(t,a,i,u):r(t)),p!==void 0)return p;if(!kt(t))return t;var j=qt(t);if(j){if(p=zg(t),!h)return Kf(t,p)}else{var T=y(t),R=T==ip||T=="[object GeneratorFunction]";if(Object(Wr.a)(t))return Object($f.a)(t,h);if(T==Kg||T==op||R&&!i){if(p=O||R?{}:tp(t),!h)return O?Rg(t,Ng(p,t)):Cg(t,Ag(p,t))}else{if(!Mt[T])return i?t:{};p=Fg(t,T,h)}}u||(u=new Wn);var U=u.get(t);if(U)return U;u.set(t,p),$g(t)?t.forEach(function(ie){p.add(e(ie,n,r,ie,t,u))}):Vg(t)&&t.forEach(function(ie,oe){p.set(oe,e(ie,n,r,oe,t,u))});var W=j?void 0:(_?O?Ig:co:O?Jo:Mr)(t);return Mg(W||t,function(ie,oe){W&&(ie=t[oe=ie]),ia(p,oe,e(ie,n,r,oe,t,u))}),p},Dt=function(e){return Zg(e,5)},Qu=function(e,t,n){(n!==void 0&&!gt(e[t],n)||n===void 0&&!(t in e))&&$u(e,t,n)},qg=function(e){return An(e)&&It(e)},Jg=Function.prototype,Qg=Object.prototype,ap=Jg.toString,eb=Qg.hasOwnProperty,tb=ap.call(Object),nb=function(e){if(!An(e)||wt(e)!="[object Object]")return!1;var t=qu(e);if(t===null)return!0;var n=eb.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ap.call(n)==tb},es=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},rb=function(e){return vo(e,Jo(e))},ob=function(e,t,n,r,a,i,u){var p=es(e,n),h=es(t,n),O=u.get(h);if(O)Qu(e,n,O);else{var _=i?i(p,h,n+"",e,t,u):void 0,j=_===void 0;if(j){var T=qt(h),R=!T&&Object(Wr.a)(h),U=!T&&!R&&Uo(h);_=h,T||R||U?qt(p)?_=p:qg(p)?_=Kf(p):R?(j=!1,_=Object($f.a)(h,!0)):U?(j=!1,_=Qf(h,!0)):_=[]:nb(h)||Kn(h)?(_=p,Kn(p)?_=rb(p):kt(p)&&!Fn(p)||(_=tp(h))):j=!1}j&&(u.set(h,_),a(_,h,r,i,u),u.delete(h)),Qu(e,n,_)}},ib=function e(t,n,r,a,i){t!==n&&hf(n,function(u,p){if(i||(i=new Wn),kt(u))ob(t,n,p,r,e,a,i);else{var h=a?a(es(t,p),u,p+"",t,n,i):void 0;h===void 0&&(h=u),Qu(t,p,h)}},Jo)},up=bf(function(e,t,n){ib(e,t,n)}),ab={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},sp=function(e){var t=Dt(ab);return e&&(t=up(t,e)),t};o(77),o(158);function ub(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sb=function(){function e(){var r,a,i;(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,e),i={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}var t,n;return t=e,(n=[{key:"on",value:function(r,a,i){var u=this;return r==null||r.split(",").forEach(function(p){p=p.trim(),u._events[p]||(u._events[p]=[]),u._events[p].push({callback:a,once:!!i})}),this}},{key:"once",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),i.on(u,a,!0)})}},{key:"emit",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(u){var p=i._events[u]||[],h=i._events["*"]||[],O=function(_){for(var j=_.length,T=0;T<j;T++)if(_[T]){var R=_[T],U=R.callback;R.once&&(_.splice(T,1),_.length===0&&delete i._events[u],j--,T--),U.apply(i,[a])}};O(p),O(h)})}},{key:"off",value:function(r,a){var i=this;return r||(this._events={}),r.split(",").forEach(function(u){if(a){for(var p=i._events[u]||[],h=p.length,O=0;O<h;O++)p[O].callback===a&&(p.splice(O,1),h--,O--);p.length===0&&delete i._events[u]}else delete i._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&ub(t.prototype,n),e}();function Tr(e,t){return t*Math.round(e/t)||e}function cp(e,t){return e%t}function ts(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return lp(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return lp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ns,rs=function(e,t,n){var r=ts(e,2),a=r[0],i=r[1],u=ts(t,2),p=u[0],h=u[1],O=ts(n,2),_=O[0],j=O[1];return a>p&&a<_&&i>h&&i<j},fp=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;case"ctrl":n=e.ctrlKey;break;default:n=!1}return n},cb=(o(78),o(161),o(125),o(79),o(30),o(12),o(13),o(14),o(47),new Uint8Array(16));function lb(){if(!ns&&!(ns=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ns(cb)}for(var fb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pb=function(e){return typeof e=="string"&&fb.test(e)},Qt=[],os=0;os<256;++os)Qt.push((os+256).toString(16).substr(1));var db=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Qt[e[t+0]]+Qt[e[t+1]]+Qt[e[t+2]]+Qt[e[t+3]]+"-"+Qt[e[t+4]]+Qt[e[t+5]]+"-"+Qt[e[t+6]]+Qt[e[t+7]]+"-"+Qt[e[t+8]]+Qt[e[t+9]]+"-"+Qt[e[t+10]]+Qt[e[t+11]]+Qt[e[t+12]]+Qt[e[t+13]]+Qt[e[t+14]]+Qt[e[t+15]]).toLowerCase();if(!pb(n))throw TypeError("Stringified UUID is invalid");return n},is=function(e,t,n){var r=(e=e||{}).random||(e.rng||lb)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return db(r)},kr=function(){return is()},hb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,a){return r[a.id]=t+is(),a.id=r[a.id],r},{});return e.edges.forEach(function(r){r.id=t+is(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},Qo=(o(104),o(162),function(e,t,n){var r=e.x,a=e.y;return(r-t.x)*(r-n.x)<=0&&(a-t.y)*(a-n.y)<=0});function as(e){return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pp(Object(n),!0).forEach(function(r){yb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe,hp,yp,vp,gp,bp,mp,Op,_p,wp,xp,Ep,Sp,jp,Pp,Mp,Ap,Tp,kp,Dp,Np,us=function(e){return e.anchors},ua=function(e,t){for(var n,r=t.nodes,a=r.length-1;a>=0;a--){var i=r[a];if(gb(e,i)){var u=i.getTargetAnchor(e);if(u){var p={node:i,anchorIndex:u.index,anchor:u.anchor};n&&!vb(i,n.node,t)||(n=p)}}}return n},vb=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},Zn=function(e,t,n,r){return Math.hypot(e-n,t-r)},Dr=function(e,t){var n=!1,r=En(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},gb=function(e,t){var n=!1,r=En(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},En=function(e){var t=e.x,n=e.y,r=e.width,a=e.height;return{minX:t-r/2,minY:n-a/2,maxX:t+r/2,maxY:n+a/2,x:t,y:n,width:r,height:a,centerX:t,centerY:n}},Cp=function(e,t,n){var r,a=function(u){var p=u,h=p.x,O=p.y,_=p.width,j=p.height,T=p.radius;return[{x:h-_/2+T,y:O-j/2+T,r:T},{x:h+_/2-T,y:O-j/2+T,r:T},{x:h-_/2+T,y:O+j/2-T,r:T},{x:h+_/2-T,y:O+j/2-T,r:T}]}(n),i=Number.MAX_SAFE_INTEGER;return a.forEach(function(u){var p=Zn(e.x,e.y,u.x,u.y);p<i&&(i=p,r=u)}),ss(e,t,r)},ss=function(e,t,n){var r,a=n,i=a.x,u=a.y,p=a.r;if(t===Tt.HORIZONTAL){var h=i-Math.sqrt(p*p-(e.y-u)*(e.y-u)),O=i+Math.sqrt(p*p-(e.y-u)*(e.y-u));r={x:Math.abs(h-e.x)<Math.abs(O-e.x)?h:O,y:e.y}}else if(t===Tt.VERTICAL){var _=u-Math.sqrt(p*p-(e.x-i)*(e.x-i)),j=u+Math.sqrt(p*p-(e.x-i)*(e.x-i)),T=Math.abs(_-e.y)<Math.abs(j-e.y)?_:j;r={x:e.x,y:T}}return r},Rp=function(e,t){var n=t,r=!1,a=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,p=n.y+n.height/2-n.radius,h=n.x,O=n.y,_=n.width,j=n.height;return e.y===O+j/2||e.y===O-j/2?r=e.x>a&&e.x<i:e.x!==h+_/2&&e.x!==h-_/2||(r=e.y>u&&e.y<p),r},Ip=function(e,t,n){var r,a=n,i=a.x,u=a.y,p=a.rx,h=a.ry;if(t===Tt.HORIZONTAL){var O=i-Math.sqrt(p*p-(e.y-u)*(e.y-u)*p*p/(h*h)),_=i+Math.sqrt(p*p-(e.y-u)*(e.y-u)*p*p/(h*h));r={x:Math.abs(O-e.x)<Math.abs(_-e.x)?O:_,y:e.y}}else if(t===Tt.VERTICAL){var j=u-Math.sqrt(h*h-(e.x-i)*(e.x-i)*h*h/(p*p)),T=u+Math.sqrt(h*h-(e.x-i)*(e.x-i)*h*h/(p*p)),R=Math.abs(j-e.y)<Math.abs(T-e.y)?j:T;r={x:e.x,y:R}}return r},Lp=function(e,t,n){for(var r,a=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,u=[],p=0;p<a.length;p++)u.push({start:a[p],end:a[(p+1)%a.length]});return u.forEach(function(h){var O=h.start,_=h.end,j=O,T=_;O.x>_.x&&(j=_,T=O);var R={x:e.x,y:e.y};if(j.x===T.x&&t===Tt.HORIZONTAL&&(R={x:j.x,y:e.y}),j.y===T.y&&t===Tt.VERTICAL&&(R={x:e.x,y:j.y}),j.x!==T.x&&j.y!==T.y){var U=(T.y-j.y)/(T.x-j.x),W=(j.x*T.y-T.x*j.y)/(j.x-T.x);t===Tt.HORIZONTAL?R={x:(e.y-W)/U,y:e.y}:t===Tt.VERTICAL&&(R={x:e.x,y:U*e.x+W})}if(Qo(R,O,_)){var ie=Zn(R.x,R.y,e.x,e.y);ie<i&&(i=ie,r=R)}}),r},zp=function(e,t,n,r){var a=e.x,i=e.y;return t.x>e.x?a=e.x+n/2:t.x<e.x&&(a=e.x-n/2),t.y>e.y?i=e.y+r/2:t.y<e.y&&(i=e.y-r/2),{x:a,y:i}},Bp=function(e){var t=e.rows,n=e.style,r=e.rowsLength,a=e.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=a,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?t.forEach(function(p){var h=document.createElement("div");h.textContent=p,i.appendChild(h)}):i.textContent=t,document.body.appendChild(i);var u=i.clientHeight;return document.body.removeChild(i),u},cs=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,a=0;return t&&t.forEach(function(i){var u=sd(i);a=u>a?u:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},ei=function(e){return as(e)!=="object"?{isAllPass:!!e,msg:e?"":"不允许连接"}:e},en=function(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}},bb=1e3,mb=999,ls=function(){return++bb};function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gp(Object(n),!0).forEach(function(r){Dn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ft(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var fs=(Oe=function(){function e(r,a){(function(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Dn(this,"id",""),Ft(this,"type",hp,this),Ft(this,"sourceNodeId",yp,this),Ft(this,"targetNodeId",vp,this),Ft(this,"startPoint",gp,this),Ft(this,"endPoint",bp,this),Ft(this,"text",mp,this),Ft(this,"properties",Op,this),Ft(this,"points",_p,this),Ft(this,"pointsList",wp,this),Ft(this,"isSelected",xp,this),Ft(this,"isHovered",Ep,this),Ft(this,"isHitable",Sp,this),Ft(this,"draggable",jp,this),Ft(this,"visible",Pp,this),Dn(this,"virtual",!1),Ft(this,"isAnimation",Mp,this),Ft(this,"isShowAdjustPoint",Ap,this),Dn(this,"graphModel",void 0),Ft(this,"zIndex",Tp,this),Dn(this,"BaseType",Xt.EDGE),Dn(this,"modelType",ht.EDGE),Ft(this,"state",kp,this),Dn(this,"additionStateData",void 0),Dn(this,"sourceAnchorId",""),Dn(this,"targetAnchorId",""),Dn(this,"menu",void 0),Dn(this,"customTextPosition",!1),Ft(this,"style",Dp,this),Ft(this,"arrowConfig",Np,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),u=this.createId();r.id=u||i||kr()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var p=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=p,un(this,Hb(r)),this.graphModel.overlapMode===xn.INCREASE&&(this.zIndex=r.zIndex||ls()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return yn(yn({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return yn({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Dt(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Dt(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),a=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,u=this.isAnimation?a.stroke:r.stroke;return yn(yn({},r),{},{fill:u,stroke:u},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var i,u;return us(r).forEach(function(p){var h=pd(p,a);(u===void 0||h<u)&&(u=h,i=p)}),i}},{key:"getEndAnchor",value:function(r){var a,i,u=this;return us(r).forEach(function(p){var h=pd(p,u.startPoint);(i===void 0||h<i)&&(i=h,a=p)}),a}},{key:"getProperties",value:function(){return Object(c.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,u=r.value,p={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(c.I)(this.properties)};return u&&(p.text={x:a,y:i,value:u}),this.graphModel.overlapMode===xn.INCREASE&&(p.zIndex=this.zIndex),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=en(a),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=yn(yn({},Object(c.I)(this.properties)),en(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var a=this.arrowConfig,i=a.markerEnd,u=a.markerStart;u&&u==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,a){this.style=yn(yn({},this.style),{},Dn({},r,en(a)))}},{key:"setStyles",value:function(r){this.style=yn(yn({},this.style),en(r))}},{key:"updateStyles",value:function(r){this.style=yn({},en(r))}},{key:"formatText",value:function(r){var a=this.textPosition,i=a.x,u=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,i=r.y;this.text.x=a,this.text.y=i}},{key:"moveText",value:function(r,a){if(this.text){var i=this.text,u=i.x,p=i.y,h=i.value,O=i.draggable,_=i.editable;this.text={value:h,draggable:O,x:u+r,y:p+a,editable:_}}}},{key:"setText",value:function(r){r&&un(this.text,r)}},{key:"updateText",value:function(r){this.text=yn(yn({},Object(c.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){un(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,i=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&Ob(t.prototype,n),e}(),hp=Qe(Oe.prototype,"type",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yp=Qe(Oe.prototype,"sourceNodeId",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vp=Qe(Oe.prototype,"targetNodeId",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),gp=Qe(Oe.prototype,"startPoint",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bp=Qe(Oe.prototype,"endPoint",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mp=Qe(Oe.prototype,"text",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Op=Qe(Oe.prototype,"properties",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_p=Qe(Oe.prototype,"points",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wp=Qe(Oe.prototype,"pointsList",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xp=Qe(Oe.prototype,"isSelected",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ep=Qe(Oe.prototype,"isHovered",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sp=Qe(Oe.prototype,"isHitable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jp=Qe(Oe.prototype,"draggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pp=Qe(Oe.prototype,"visible",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mp=Qe(Oe.prototype,"isAnimation",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ap=Qe(Oe.prototype,"isShowAdjustPoint",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tp=Qe(Oe.prototype,"zIndex",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kp=Qe(Oe.prototype,"state",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Dp=Qe(Oe.prototype,"style",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Np=Qe(Oe.prototype,"arrowConfig",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Qe(Oe.prototype,"sourceNode",[c.m],Object.getOwnPropertyDescriptor(Oe.prototype,"sourceNode"),Oe.prototype),Qe(Oe.prototype,"targetNode",[c.m],Object.getOwnPropertyDescriptor(Oe.prototype,"targetNode"),Oe.prototype),Qe(Oe.prototype,"textPosition",[c.m],Object.getOwnPropertyDescriptor(Oe.prototype,"textPosition"),Oe.prototype),Qe(Oe.prototype,"setProperty",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperty"),Oe.prototype),Qe(Oe.prototype,"deleteProperty",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"deleteProperty"),Oe.prototype),Qe(Oe.prototype,"setProperties",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperties"),Oe.prototype),Qe(Oe.prototype,"changeEdgeId",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"changeEdgeId"),Oe.prototype),Qe(Oe.prototype,"setStyle",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyle"),Oe.prototype),Qe(Oe.prototype,"setStyles",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyles"),Oe.prototype),Qe(Oe.prototype,"updateStyles",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStyles"),Oe.prototype),Qe(Oe.prototype,"formatText",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"formatText"),Oe.prototype),Qe(Oe.prototype,"resetTextPosition",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"resetTextPosition"),Oe.prototype),Qe(Oe.prototype,"moveText",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveText"),Oe.prototype),Qe(Oe.prototype,"setText",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setText"),Oe.prototype),Qe(Oe.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateText"),Oe.prototype),Qe(Oe.prototype,"setAnchors",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setAnchors"),Oe.prototype),Qe(Oe.prototype,"setSelected",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setSelected"),Oe.prototype),Qe(Oe.prototype,"setHovered",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHovered"),Oe.prototype),Qe(Oe.prototype,"setHitable",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHitable"),Oe.prototype),Qe(Oe.prototype,"openEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"openEdgeAnimation"),Oe.prototype),Qe(Oe.prototype,"closeEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"closeEdgeAnimation"),Oe.prototype),Qe(Oe.prototype,"setElementState",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setElementState"),Oe.prototype),Qe(Oe.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStartPoint"),Oe.prototype),Qe(Oe.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveStartPoint"),Oe.prototype),Qe(Oe.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateEndPoint"),Oe.prototype),Qe(Oe.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveEndPoint"),Oe.prototype),Qe(Oe.prototype,"setZIndex",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setZIndex"),Oe.prototype),Qe(Oe.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"initPoints"),Oe.prototype),Qe(Oe.prototype,"updateAttributes",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAttributes"),Oe.prototype),Qe(Oe.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustStart"),Oe.prototype),Qe(Oe.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustEnd"),Oe.prototype),Qe(Oe.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAfterAdjustStartAndEnd"),Oe.prototype),Oe),ps=fs;function ds(e){return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function Hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hp(Object(n),!0).forEach(function(r){Up(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hs(){return hs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=xb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},hs.apply(this,arguments)}function xb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=go(e))!==null;);return e}function ys(e,t){return ys=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ys(e,t)}function Eb(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=go(e);if(t){var a=go(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Sb(this,n)}}function Sb(e,t){if(t&&(ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fp(e)}function Fp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function go(e){return go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},go(e)}function Up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st,Yp,vs=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&ys(i,u)})(a,e);var t,n,r=Eb(a);function a(){var i;_b(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return Up(Fp(i=r.call.apply(r,[this].concat(p))),"modelType",ht.LINE_EDGE),i}return t=a,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return Xp(Xp({},hs(go(a.prototype),"getEdgeStyle",this).call(this)),Dt(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&wb(t.prototype,n),a}(ps);function gs(e){return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function jb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Vp(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Vp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wp(Object(n),!0).forEach(function(r){ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pb(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ti(){return ti=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=Tb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},ti.apply(this,arguments)}function Tb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Nr(e))!==null;);return e}function bs(e,t){return bs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bs(e,t)}function kb(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nr(e);if(t){var a=Nr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Db(this,n)}}function Db(e,t){if(t&&(gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ni(e)}function ni(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr(e)}function ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Os=(st=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&bs(i,u)})(a,e);var t,n,r=kb(a);function a(){var i;Mb(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return ms(ni(i=r.call.apply(r,[this].concat(p))),"modelType",ht.POLYLINE_EDGE),ms(ni(i),"draggingPointList",void 0),Pb(ni(i),"dbClickPosition",Yp,ni(i)),i}return t=a,(n=[{key:"initEdgeData",value:function(i){this.offset=30,ti(Nr(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return $p($p({},ti(Nr(a.prototype),"getEdgeStyle",this).call(this)),Dt(i))}},{key:"getTextPosition",value:function(){var i,u=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!u){var p=this.dbClickPosition;return{x:p.x,y:p.y}}var h=Jr(this.points),O=jb(Bb(h),2),_=O[0],j=O[1];return{x:(_.x+j.x)/2,y:(_.y+j.y)/2}}},{key:"getAfterAnchor",value:function(i,u,p){var h,O;return p.forEach(function(_){var j;i===Tt.HORIZONTAL?j=Math.abs(u.y-_.y):i===Tt.VERTICAL&&(j=Math.abs(u.x-_.x)),(!O||O>j)&&(O=j,h=_)}),h}},{key:"getCrossPoint",value:function(i,u,p){var h;return i===Tt.HORIZONTAL?h={x:p.x,y:u.y}:i===Tt.VERTICAL&&(h={x:u.x,y:p.y}),h}},{key:"removeCrossPoints",value:function(i,u,p){var h=p.map(function(oe){return oe});if(i===1){var O=h[i],_=h[u],j=h[i-1];if(od(j,O,this.sourceNode)){if(id(O,_,this.sourceNode)){var T=ad(O,_,this.sourceNode);T&&(h[i]=T,h.splice(i-1,1),i--,u--)}}else this.sourceNode.anchors.forEach(function(oe){(oe.x===j.x&&oe.x===O.x||oe.y===j.y&&oe.y===O.y)&&Zn(oe.x,oe.y,O.x,O.y)<Zn(j.x,j.y,O.x,O.y)&&(h[i-1]=oe)})}if(u===p.length-2){var R=h[i],U=h[u],W=h[u+1];if(od(U,W,this.targetNode)){if(id(R,U,this.targetNode)){var ie=ad(R,U,this.targetNode);ie&&(h[u]=ie,h.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(oe){(oe.x===W.x&&oe.x===U.x||oe.y===W.y&&oe.y===U.y)&&Zn(oe.x,oe.y,U.x,U.y)<Zn(W.x,W.y,U.x,U.y)&&(h[u+1]=oe)})}return h}},{key:"getDraggingPoints",value:function(i,u,p,h,O){var _=O.map(function(R){return R}),j=this.getAfterAnchor(i,p,h),T=this.getCrossPoint(i,p,j);return u==="start"?(_.unshift(T),_.unshift(j)):(_.push(T),_.push(j)),_}},{key:"updateCrossPoints",value:function(i){var u=i.map(function(me){return me}),p=i[0],h=i[1],O=i[u.length-2],_=i[u.length-1],j=this.sourceNode,T=this.targetNode,R=j.modelType,U=T.modelType,W=ha(p,h),ie=u[0];switch(R){case ht.RECT_NODE:j.radius!==0&&(Rp(p,j)||(ie=Cp(p,W,j)));break;case ht.CIRCLE_NODE:ie=ss(p,W,j);break;case ht.ELLIPSE_NODE:ie=Ip(p,W,j);break;case ht.DIAMOND_NODE:case ht.POLYGON_NODE:ie=Lp(p,W,j)}u[0]=ie;var oe=ha(O,_),de=u[u.length-1];switch(U){case ht.RECT_NODE:T.radius!==0&&(Rp(_,T)||(de=Cp(_,oe,T)));break;case ht.CIRCLE_NODE:de=ss(_,oe,T);break;case ht.ELLIPSE_NODE:de=Ip(_,oe,T);break;case ht.DIAMOND_NODE:case ht.POLYGON_NODE:de=Lp(_,oe,T)}return u[u.length-1]=de,u}},{key:"getData",value:function(){var i=ti(Nr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(p){return{x:p.x,y:p.y}});return Object.assign({},i,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=rd({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,u){this.startPoint.x+=i,this.startPoint.y+=u,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,u){this.endPoint.x+=i,this.endPoint.y+=u,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,u){this.isDragging=!0;var p=i.start,h=i.end,O=i.startIndex,_=i.endIndex,j=i.direction,T=this.pointsList,R=T;return j===Tt.HORIZONTAL?(T[O]={x:p.x,y:p.y+u.y},T[_]={x:h.x,y:h.y+u.y},R=this.pointsList.map(function(U){return U})):j===Tt.VERTICAL&&(T[O]={x:p.x+u.x,y:p.y},T[_]={x:h.x+u.x,y:h.y},R=this.pointsList.map(function(U){return U})),this.updatePointsAfterDrag(R),this.draggingPointList=R,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},T[O]),end:Object.assign({},T[_]),startIndex:O,endIndex:_,direction:j}}},{key:"dragAppend",value:function(i,u){this.isDragging=!0;var p=i.start,h=i.end,O=i.startIndex,_=i.endIndex,j=i.direction,T=this.pointsList;if(j===Tt.HORIZONTAL){T[O]={x:p.x,y:p.y+u.y},T[_]={x:h.x,y:h.y+u.y};var R=this.pointsList.map(function(Te){return Te});if(O!==0&&_!==this.pointsList.length-1&&(R=this.removeCrossPoints(O,_,R)),O===0){var U={x:p.x,y:p.y+u.y};if(!Dr(U,this.sourceNode)){var W=this.sourceNode.anchors;R=this.getDraggingPoints(j,"start",U,W,R)}}if(_===this.pointsList.length-1){var ie={x:h.x,y:h.y+u.y};if(!Dr(ie,this.targetNode)){var oe=this.targetNode.anchors;R=this.getDraggingPoints(j,"end",ie,oe,R)}}this.updatePointsAfterDrag(R),this.draggingPointList=R}else if(j===Tt.VERTICAL){T[O]={x:p.x+u.x,y:p.y},T[_]={x:h.x+u.x,y:h.y};var de=this.pointsList.map(function(Te){return Te});if(O!==0&&_!==this.pointsList.length-1&&(de=this.removeCrossPoints(O,_,de)),O===0){var me={x:p.x+u.x,y:p.y};if(!Dr(me,this.sourceNode)){var Ae=this.sourceNode.anchors;de=this.getDraggingPoints(j,"start",me,Ae,de)}}if(_===this.pointsList.length-1){var Ee={x:h.x+u.x,y:h.y};if(!Dr(Ee,this.targetNode)){var Fe=this.targetNode.anchors;de=this.getDraggingPoints(j,"end",Ee,Fe,de)}}this.updatePointsAfterDrag(de),this.draggingPointList=de}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},T[O]),end:Object.assign({},T[_]),startIndex:O,endIndex:_,direction:j}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=nd(Jr(this.points));this.pointsList=i.map(function(h){return h}),this.draggingPointList=[];var u=i[0];this.startPoint=Object.assign({},u);var p=i[i.length-1];this.endPoint=Object.assign({},p)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var u=this.updateCrossPoints(i);this.points=u.map(function(p){return"".concat(p.x,",").concat(p.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var u=i.startPoint,p=i.endPoint,h=i.sourceNode,O=i.targetNode,_=rd({x:u.x,y:u.y},{x:p.x,y:p.y},h,O,this.offset||0);this.pointsList=_,this.initPoints()}}])&&Ab(t.prototype,n),a}(ps),Yp=sn(st.prototype,"dbClickPosition",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn(st.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"initPoints"),st.prototype),sn(st.prototype,"updatePoints",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"updatePoints"),st.prototype),sn(st.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"updateStartPoint"),st.prototype),sn(st.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"moveStartPoint"),st.prototype),sn(st.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"updateEndPoint"),st.prototype),sn(st.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"moveEndPoint"),st.prototype),sn(st.prototype,"dragAppendStart",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"dragAppendStart"),st.prototype),sn(st.prototype,"dragAppendSimple",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"dragAppendSimple"),st.prototype),sn(st.prototype,"dragAppend",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"dragAppend"),st.prototype),sn(st.prototype,"dragAppendEnd",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"dragAppendEnd"),st.prototype),sn(st.prototype,"updatePointsAfterDrag",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"updatePointsAfterDrag"),st.prototype),sn(st.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"getAdjustStart"),st.prototype),sn(st.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"getAdjustEnd"),st.prototype),sn(st.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(st.prototype,"updateAfterAdjustStartAndEnd"),st.prototype),st),ri=function(e){var t=e.start,n=e.end,r=e.offset,a=e.verticalLength,i=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},p=Math.atan((n.y-t.y)/(n.x-t.x)),h=Math.atan(r/a),O=Math.sqrt(a*a+r*r);return i==="start"?n.x>=t.x?(u.leftX=t.x+O*Math.sin(p+h),u.leftY=t.y-O*Math.cos(p+h),u.rightX=t.x-O*Math.sin(p-h),u.rightY=t.y+O*Math.cos(p-h)):(u.leftX=t.x-O*Math.sin(p+h),u.leftY=t.y+O*Math.cos(p+h),u.rightX=t.x+O*Math.sin(p-h),u.rightY=t.y-O*Math.cos(p-h)):i==="end"&&(n.x>=t.x?(u.leftX=n.x+O*Math.sin(p-h),u.leftY=n.y-O*Math.cos(p-h),u.rightX=n.x-O*Math.sin(p+h),u.rightY=n.y+O*Math.cos(p+h)):(u.leftX=n.x-O*Math.sin(p-h),u.leftY=n.y+O*Math.cos(p-h),u.rightX=n.x+O*Math.sin(p+h),u.rightY=n.y-O*Math.cos(p+h))),u},Nb={x:1,y:0,z:0};function Kp(e){var t=Math.hypot(e.x,e.y);return{x:e.x/t,y:e.y/t,z:0}}function Cb(e){return r=function(i,u){return i.x*u.y-i.y*u.x}(t=Nb,n=e),a=Math.acos(function(i,u){var p=[i.x,i.y,i.z];return[u.x,u.y,u.z].reduce(function(h,O,_){return h+O*p[_]})}(Kp(t),Kp(n))),r>=0?a:-a;var t,n,r,a}function Zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zp(Object(n),!0).forEach(function(r){Rb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ib(e){return function(t){if(Array.isArray(t))return ws(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||qp(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _s(e){return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function ca(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||qp(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qp(e,t){if(e){if(typeof e=="string")return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ws(e,t):void 0}}function ws(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xs=function(e){var t=[],n={};return e.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},la=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},fa=function(e,t,n){var r=function(a,i){var u=Math.abs(a.x-i.centerX),p=Math.abs(a.y-i.centerY);return u/i.width>p/i.height?Tt.HORIZONTAL:Tt.VERTICAL}(n,t);return r===Tt.HORIZONTAL?{x:n.x>e.centerX?e.maxX:e.minX,y:n.y}:{x:n.x,y:n.y>e.centerY?e.maxY:e.minY}},Jp=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:a,maxY:i,height:i-r,width:a-n}},oi=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(_){n.push(_.x),r.push(_.y)});var a=Math.min.apply(Math,n),i=Math.max.apply(Math,n),u=Math.min.apply(Math,r),p=Math.max.apply(Math,r),h=i-a,O=p-u;return t&&(h+=t,O+=t),{centerX:(a+i)/2,centerY:(u+p)/2,maxX:i,maxY:p,minX:a,minY:u,x:(a+i)/2,y:(u+p)/2,height:O,width:h}},pa=function(e){var t=e.minX,n=e.minY,r=e.maxX,a=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:a},{x:t,y:a}]},da=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Es=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Qp=function(e,t,n,r,a){return Es(e,t)+Es(e,n)+function(i,u){var p=0;return u.forEach(function(h){h&&(i.x===h.x&&(p+=-2),i.y===h.y&&(p+=-2))}),p}(e,[t,n,r,a])},Lb=function e(t,n,r,a,i){i||(i=0),t.unshift(n[a]),r[a]&&r[a]!==a&&i<=100&&e(t,n,r,r[a],i+1)},ii=function(e,t,n,r){var a=t.x-e.x,i=t.y-e.y,u=r.x-n.x,p=r.y-n.y,h=(-i*(e.x-n.x)+a*(e.y-n.y))/(-u*i+a*p),O=(u*(e.y-n.y)-p*(e.x-n.x))/(-u*i+a*p);return h>=0&&h<=1&&O>=0&&O<=1},ed=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=ca(pa(n),4),a=r[0],i=r[1],u=r[2],p=r[3];return ii(e,t,a,i)||ii(e,t,a,p)||ii(e,t,i,u)||ii(e,t,u,p)},zb=function(e,t,n,r,a,i,u){var p=[],h=[t],O={},_={},j={};_[t.id]=0,j[t.id]=Qp(t,n,t);var T={};e.forEach(function(W){T[W.id]=W});for(var R=function(){var W,ie,oe,de=void 0,me=1/0;if(h.forEach(function(Ee){j[Ee.id]<me&&(me=j[Ee.id],de=Ee)}),de===n){var Ae=[];return Lb(Ae,T,O,n.id),{v:Ae}}ie=de,(oe=(W=h).indexOf(ie))>-1&&W.splice(oe,1),p.push(de),function(Ee,Fe,Te,Ge){var Re=[];return Ee.forEach(function(lt){lt!==Fe&&(lt.x!==Fe.x&&lt.y!==Fe.y||ed(lt,Fe,Te)||ed(lt,Fe,Ge)||Re.push(lt))}),xs(Re)}(e,de,r,a).forEach(function(Ee){if(p.indexOf(Ee)===-1){h.indexOf(Ee)===-1&&h.push(Ee);var Fe=j[de.id]+Es(de,Ee);_[Ee.id]&&Fe>=_[Ee.id]||(O[Ee.id]=de.id,_[Ee.id]=Fe,j[Ee.id]=_[Ee.id]+Qp(Ee,n,t,i,u))}})};h.length;){var U=R();if(_s(U)==="object")return U.v}return[t,n]},td=function(e){return En(e)},nd=function(e){for(var t=1;t<e.length-1;){var n=e[t-1],r=e[t],a=e[t+1];n.x===r.x&&r.x===a.x||n.y===r.y&&r.y===a.y?e.splice(t,1):t++}return e},rd=function(e,t,n,r,a){var i,u,p=td(n),h=td(r),O=la(p,a),_=la(h,a),j=fa(O,p,e),T=fa(_,h,t);if(i=O,u=_,2*Math.abs(i.centerX-u.centerX)<i.width+u.width&&2*Math.abs(i.centerY-u.centerY)<i.height+u.height){var R=Gb(e,t,j,T);return[e,j].concat(Ib(R),[T,t])}var U=oi([j,T]),W=Jp(O,U),ie=Jp(_,U),oe=[];oe=(oe=oe.concat(pa(W))).concat(pa(ie));var de={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[U,W,ie].forEach(function(Ae){oe=oe.concat(function(Ee,Fe){return function(Te,Ge){return Ge<Te.minX||Ge>Te.maxX?[]:[{x:Ge,y:Te.minY},{x:Ge,y:Te.maxY}]}(Ee,Fe.x).concat(function(Te,Ge){return Ge<Te.minY||Ge>Te.maxY?[]:[{x:Te.minX,y:Ge},{x:Te.maxX,y:Ge}]}(Ee,Fe.y))}(Ae,de).filter(function(Ee){return da(Ee,O)&&da(Ee,_)}))}),[{x:j.x,y:T.y},{x:T.x,y:j.y}].forEach(function(Ae){da(Ae,O)&&da(Ae,_)&&oe.push(Ae)}),oe.unshift(j),oe.push(T),oe=xs(oe);var me=zb(oe,j,T,p,h,e,t);return me.unshift(e),me.push(t),me.length>2&&(me=nd(me)),xs(me)},Bb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],a=Zn(n.x,n.y,r.x,r.y),i=1;i<e.length-1;i++){var u=e[i],p=e[i+1],h=Zn(u.x,u.y,p.x,p.y);h>a&&(a=h,n=u,r=p)}t=[n,r]}return t},od=function(e,t,n){var r=Dr(e,n),a=Dr(t,n);return r&&a},id=function(e,t,n){var r=Dr(e,n),a=Dr(t,n);return!(r&&a)&&(r||a)},ad=function(e,t,n){for(var r,a,i=En(n),u=pa(i),p=0;p<u.length;p++)ii(e,t,u[p],u[(p+1)%u.length])&&(a=[u[p],u[(p+1)%u.length]]);return a&&(r=function(h,O,_,j){var T=(O.y-h.y)*(j.x-_.x)-(h.x-O.x)*(_.y-j.y);if(T===0)return!1;var R=((O.x-h.x)*(j.x-_.x)*(_.y-h.y)+(O.y-h.y)*(j.x-_.x)*h.x-(j.y-_.y)*(O.x-h.x)*_.x)/T,U=-((O.y-h.y)*(j.y-_.y)*(_.x-h.x)+(O.x-h.x)*(j.y-_.y)*h.y-(j.x-_.x)*(O.y-h.y)*_.y)/T;return(R-h.x)*(R-O.x)<=0&&(U-h.y)*(U-O.y)<=0&&(R-_.x)*(R-j.x)<=0&&(U-_.y)*(U-j.y)<=0&&{x:R,y:U}}(e,t,a[0],a[1])),r},ha=function(e,t){var n;return e.x===t.x?n=Tt.VERTICAL:e.y===t.y&&(n=Tt.HORIZONTAL),n},Jr=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var a=ca(r.split(","),2),i=a[0],u=a[1];n.push({x:Number(i),y:Number(u)})}),n},Gb=function(e,t,n,r){var a=[];if(ha(e,n)===ha(t,r))e.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},u=Qo(i,e,n),p=Qo(i,t,r);if(u||p)i={x:r.x,y:n.y};else{var h=ud(i,e,n),O=ud(i,t,r);h&&O&&(i={x:r.x,y:n.y})}a.push(i)}return a},ud=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},sd=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},cd=function(e){var t=e.start,n=e.end,r=e.sourceNode,a=e.targetNode,i=e.offset,u=En(r),p=En(a),h=la(u,i),O=la(p,i);return{sNext:fa(h,u,t),ePre:fa(O,p,n)}},ya=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[va(t[0]),va(t[1]),va(t[2]),va(t[3])]},va=function(e){var t=ca(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},ld=function(e){var t=ya(e),n=ca(t,4),r=function(a,i,u,p){return function(h){if(h<0||h>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:a.x*Math.pow(1-h,3)+3*i.x*h*Math.pow(1-h,2)+3*u.x*Math.pow(h,2)*(1-h)+p.x*Math.pow(h,3),y:a.y*Math.pow(1-h,3)+3*i.y*h*Math.pow(1-h,2)+3*u.y*Math.pow(h,2)*(1-h)+p.y*Math.pow(h,3)}}(.95)}(n[0],n[1],n[2],n[3]);return[r,t[3]]},fd=function(e,t){for(var n,r=e.x,a=e.y,i=Jr(t),u=Number.MAX_SAFE_INTEGER,p=[],h=0;h<i.length;h++)p.push({start:i[h],end:i[(h+1)%i.length]});if(p.forEach(function(T){var R=T.start,U=T.end;if(R.x===U.x){var W={x:R.x,y:a};if(Qo(W,R,U)){var ie=Math.abs(R.x-r);ie<u&&(u=ie,n=W)}}else if(R.y===U.y){var oe={x:r,y:R.y};if(Qo(oe,R,U)){var de=Math.abs(R.y-a);de<u&&(u=de,n=oe)}}}),!n){var O=p[0],_=O.start,j=O.end;n={x:_.x+(j.x-_.x)/2,y:_.y+(j.y-_.y)/2}}return n},Hb=function(e){return qo(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},pd=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};o(204);var bo=function(){};function Xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn=window.document;function Fb(e){var t=e.onDragStart,n=t===void 0?bo:t,r=e.onDragging,a=r===void 0?bo:r,i=e.onDragEnd,u=i===void 0?bo:i,p=e.step,h=p===void 0?1:p,O=e.isStopPropagation,_=O===void 0||O,j=!1,T=!1,R=0,U=0,W=0,ie=0;function oe(me){if(_&&me.stopPropagation(),T&&(j=!0,W+=me.clientX-R,ie+=me.clientY-U,R=me.clientX,U=me.clientY,Math.abs(W)>h||Math.abs(ie)>h)){var Ae=W%h,Ee=ie%h,Fe=W-Ae,Te=ie-Ee;W=Ae,ie=Ee,a({deltaX:Fe,deltaY:Te,event:me})}}function de(me){if(_&&me.stopPropagation(),T=!1,qn.removeEventListener("mousemove",oe,!1),qn.removeEventListener("mouseup",de,!1),j)return j=!1,u({event:me})}return function(me){if(me.button===0)return _&&me.stopPropagation(),T=!0,R=me.clientX,U=me.clientY,qn.addEventListener("mousemove",oe,!1),qn.addEventListener("mouseup",de,!1),n({event:me})}}var le,dd,hd,yd,vd,gd,bd,md,Od,_d,wd,xd,Ed,dr=function(){function e(r){var a=this,i=r.onDragStart,u=i===void 0?bo:i,p=r.onDragging,h=p===void 0?bo:p,O=r.onDragEnd,_=O===void 0?bo:O,j=r.eventType,T=j===void 0?"":j,R=r.eventCenter,U=R===void 0?null:R,W=r.step,ie=W===void 0?1:W,oe=r.isStopPropagation,de=oe===void 0||oe,me=r.model,Ae=me===void 0?null:me,Ee=r.data,Fe=Ee===void 0?null:Ee;(function(Te,Ge){if(!(Te instanceof Ge))throw new TypeError("Cannot call a class as a function")})(this,e),Ut(this,"onDragStart",void 0),Ut(this,"onDragging",void 0),Ut(this,"onDragEnd",void 0),Ut(this,"step",void 0),Ut(this,"isStopPropagation",void 0),Ut(this,"isDragging",!1),Ut(this,"isStartDragging",!1),Ut(this,"startX",0),Ut(this,"startY",0),Ut(this,"sumDeltaX",0),Ut(this,"sumDeltaY",0),Ut(this,"eventType",void 0),Ut(this,"eventCenter",void 0),Ut(this,"model",void 0),Ut(this,"data",void 0),Ut(this,"startTime",void 0),Ut(this,"handleMouseDown",function(Te){var Ge,Re;if(Te.button===0){a.isStopPropagation&&Te.stopPropagation(),a.isStartDragging=!0,a.startX=Te.clientX,a.startY=Te.clientY,qn.addEventListener("mousemove",a.handleMouseMove,!1),qn.addEventListener("mouseup",a.handleMouseUp,!1);var lt=(Ge=a.model)===null||Ge===void 0?void 0:Ge.getData();(Re=a.eventCenter)===null||Re===void 0||Re.emit(tt["".concat(a.eventType,"_MOUSEDOWN")],{e:Te,data:a.data||lt}),a.startTime=new Date().getTime()}}),Ut(this,"handleMouseMove",function(Te){if(a.isStopPropagation&&Te.stopPropagation(),a.isStartDragging&&(a.sumDeltaX+=Te.clientX-a.startX,a.sumDeltaY+=Te.clientY-a.startY,a.startX=Te.clientX,a.startY=Te.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var Ge,Re=a.sumDeltaX%a.step,lt=a.sumDeltaY%a.step,Et=a.sumDeltaX-Re,mt=a.sumDeltaY-lt;a.sumDeltaX=Re,a.sumDeltaY=lt;var jt,Gt=(Ge=a.model)===null||Ge===void 0?void 0:Ge.getData();a.isDragging||((jt=a.eventCenter)===null||jt===void 0||jt.emit(tt["".concat(a.eventType,"_DRAGSTART")],{e:Te,data:a.data||Gt}),a.onDragStart({event:Te})),a.isDragging=!0,Promise.resolve().then(function(){var Wt,fn;a.onDragging({deltaX:Et,deltaY:mt,event:Te}),(Wt=a.eventCenter)===null||Wt===void 0||Wt.emit(tt["".concat(a.eventType,"_MOUSEMOVE")],{e:Te,data:a.data||Gt}),(fn=a.eventCenter)===null||fn===void 0||fn.emit(tt["".concat(a.eventType,"_DRAG")],{e:Te,data:a.data||Gt})})}}),Ut(this,"handleMouseUp",function(Te){a.isStartDragging=!1,a.isStopPropagation&&Te.stopPropagation(),Promise.resolve().then(function(){var Ge,Re,lt;qn.removeEventListener("mousemove",a.handleMouseMove,!1),qn.removeEventListener("mouseup",a.handleMouseUp,!1);var Et=(Ge=a.model)===null||Ge===void 0?void 0:Ge.getData();(Re=a.eventCenter)===null||Re===void 0||Re.emit(tt["".concat(a.eventType,"_MOUSEUP")],{e:Te,data:a.data||Et}),a.isDragging&&(a.isDragging=!1,a.onDragEnd({event:Te}),(lt=a.eventCenter)===null||lt===void 0||lt.emit(tt["".concat(a.eventType,"_DROP")],{e:Te,data:a.data||Et}))})}),Ut(this,"cancelDrag",function(){qn.removeEventListener("mousemove",a.handleMouseMove,!1),qn.removeEventListener("mouseup",a.handleMouseUp,!1),a.onDragEnd({event:null}),a.isDragging=!1}),this.onDragStart=u,this.onDragging=h,this.onDragEnd=_,this.step=ie,this.isStopPropagation=de,this.eventType=T,this.eventCenter=U,this.model=Ae,this.data=Fe}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Xb(t.prototype,n),e}(),Sd={node:!1,edge:!1},Ub={node:!0,edge:!0};function jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jd(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ai(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||Pd(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mo(e){return function(t){if(Array.isArray(t))return Ss(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Pd(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pd(e,t){if(e){if(typeof e=="string")return Ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ss(e,t):void 0}}function Ss(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ba(e){return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(e)}function Nn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Md,Ad=200,Td=(le=function(){function e(r){(function(U,W){if(!(U instanceof W))throw new TypeError("Cannot call a class as a function")})(this,e),Jn(this,"rootEl",void 0),Nn(this,"width",dd,this),Nn(this,"height",hd,this),Jn(this,"theme",void 0),Jn(this,"eventCenter",void 0),Jn(this,"modelMap",new Map),Jn(this,"topElement",void 0),Jn(this,"animation",void 0),Jn(this,"idGenerator",void 0),Jn(this,"edgeGenerator",void 0),Jn(this,"nodeMoveRules",[]),Nn(this,"edgeType",yd,this),Nn(this,"nodes",vd,this),Nn(this,"edges",gd,this),Nn(this,"overlapMode",bd,this),Nn(this,"background",md,this),Nn(this,"transformModel",Od,this),Nn(this,"editConfigModel",_d,this),Nn(this,"gridSize",wd,this),Nn(this,"partial",xd,this),Nn(this,"fakerNode",Ed,this);var a,i,u,p=r.container,h=r.background,O=h===void 0?{}:h,_=r.grid,j=r.idGenerator,T=r.edgeGenerator,R=r.animation;this.background=O,ba(_)==="object"&&(this.gridSize=_.size),this.rootEl=p,this.editConfigModel=new Bf(r),this.eventCenter=new sb,this.transformModel=new Pg(this.eventCenter),this.theme=sp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(a=R)&&typeof a!="boolean"?up(Dt(Sd),a):Dt(a===!0?Ub:Sd),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=j,this.edgeGenerator=(i=this,typeof(u=T)!="function"?function(U,W,ie){return Object.assign({type:i.edgeType},ie)}:function(U,W,ie){var oe=u(U,W,ie);return oe?typeof oe=="string"?Object.assign({},ie,{type:oe}):Object.assign({type:oe},ie):{type:i.edgeType}}),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=kr()}var t,n;return t=e,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(mo(this.nodes),mo(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(O){return r.push(O)}),this.edges.forEach(function(O){return r.push(O)}),r=r.sort(function(O,_){return O.zIndex-_.zIndex});for(var a=[],i=[-200,-200],u=[this.width+Ad,this.height+Ad],p=0;p<r.length;p++){var h=r[p];h.visible&&(!this.partial||h.isSelected||this.isElementInArea(h,i,u,!1,!1))&&a.push(h)}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===_t.TEXT_EDIT}),a=this.edges.find(function(i){return i.state===_t.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(a){a.isSelected&&r.push(a)}),r}},{key:"getAreaElement",value:function(r,a){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],p=arguments.length>4&&arguments[4]!==void 0&&arguments[4],h=[],O=[];this.nodes.forEach(function(T){return O.push(T)}),this.edges.forEach(function(T){return O.push(T)});for(var _=0;_<O.length;_++){var j=O[_];p&&!j.visible||!this.isElementInArea(j,r,a,i,u)||h.push(j)}return h}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,i=r.y,u=this.rootEl.getBoundingClientRect(),p={x:a-u.left,y:i-u.top},h=ai(this.transformModel.HtmlPointToCanvasPoint([p.x,p.y]),2);return{domOverlayPosition:p,canvasOverlayPosition:{x:h[0],y:h[1]}}}},{key:"isElementInArea",value:function(r,a,i){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],p=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Xt.NODE){for(var h=En(r=r),O=h.minX,_=h.minY,j=h.maxX,T=h.maxY,R=[{x:O,y:_},{x:j,y:_},{x:j,y:T},{x:O,y:T}],U=p,W=0;W<R.length;W++){var ie=R[W],oe=ie.x,de=ie.y,me=this.transformModel.CanvasPointToHtmlPoint([oe,de]),Ae=ai(me,2);if(oe=Ae[0],de=Ae[1],rs([oe,de],a,i)!==p){U=!p;break}}return U}if(r.BaseType===Xt.EDGE){var Ee=r=r,Fe=Ee.startPoint,Te=Ee.endPoint,Ge=this.transformModel.CanvasPointToHtmlPoint([Fe.x,Fe.y]),Re=this.transformModel.CanvasPointToHtmlPoint([Te.x,Te.y]),lt=rs(Ge,a,i),Et=rs(Re,a,i);return u?lt&&Et:lt||Et}return!1}},{key:"graphDataToModel",value:function(r){var a=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=ra(r.nodes,function(i){var u=a.getModel(i.type);if(!u)throw new Error("找不到".concat(i.type,"对应的节点。"));var p=i.x,h=i.y;return p&&h&&(i.x=Tr(p,a.gridSize),i.y=Tr(h,a.gridSize),ba(i.text)==="object"&&(i.text.x-=cp(p,a.gridSize),i.text.y-=cp(h,a.gridSize))),new u(i,a)}):this.nodes=[],r.edges?this.edges=ra(r.edges,function(i){var u=a.getModel(i.type);if(!u)throw new Error("找不到".concat(i.type,"对应的边。"));return new u(i,a)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var u=i.getData();u&&!i.virtual&&r.push(u)});var a=[];return this.nodes.forEach(function(i){var u=i.getData();u&&!i.virtual&&a.push(u)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],i=0;i<this.nodes.length;i++){var u=this.nodes[i];if(u.isDragging){r=!0;break}a.push(u.getHistoryData())}if(r)return!1;for(var p=!1,h=[],O=0;O<this.edges.length;O++){var _=this.edges[O];if(_.isDragging){p=!0;break}h.push(_.getHistoryData())}return!p&&{nodes:a,edges:h}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],i=0;i<this.edges.length;i++){var u=this.edges[i],p=this.edges[i].sourceNodeId===r,h=this.edges[i].targetNodeId===r;(p||h)&&a.push(u)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,i={nodes:[],edges:[]};return a.forEach(function(u){if(u.BaseType===Xt.NODE&&i.nodes.push(u.getData()),u.BaseType===Xt.EDGE){var p=u.getData(),h=a.get(p.sourceNodeId)&&a.get(p.targetNodeId);(r||h)&&i.edges.push(p)}}),i}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=kr()),this.nodesMap[a]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=a),i.targetNodeId===r&&(i.targetNodeId=a)}),this.nodesMap[r].model.id=a,this.nodesMap[a]=this.nodesMap[r],a):""}},{key:"changeEdgeId",value:function(r,a){return a||(a=kr()),this.edgesMap[a]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(a)}),a):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,i,u,p=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);p&&(this.overlapMode===xn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),p.setZIndex(9999),this.topElement=p),this.overlapMode===xn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var i,u,p,h=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);h&&(typeof a=="number"&&(p=a),a==="top"&&(p=ls()),a==="bottom"&&(p=--mb),h.setZIndex(p))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(tt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,u=en(r);u.id&&this.nodesMap[r.id]&&delete u.id;var p=this.getModel(u.type);if(!p)throw new Error("找不到".concat(u.type,"对应的节点，请确认是否已注册此类型节点。"));u.x=Tr(u.x,this.gridSize),u.y=Tr(u.y,this.gridSize);var h=new p(u,this);this.nodes.push(h);var O=h.getData(),_={data:O};return i&&(_.e=i),this.eventCenter.emit(a,_),h}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),i=a.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var u=this.addNode(i);return u.setSelected(!0),a.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,a,i){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=this.nodesMap[r];if(p){var h=p.model,O=h.getMoveDistance(a,i,u),_=ai(O,2);a=_[0],i=_[1],this.moveEdge(r,a,i)}}},{key:"moveNode2Coordinate",value:function(r,a,i){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=this.nodesMap[r];if(p){var h=p.model,O=h.x,_=h.y,j=a-O,T=i-_;this.moveNode(r,j,T,u)}}},{key:"editText",value:function(r){this.setElementStateById(r,_t.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=en(r),i=a.type;i||(i=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var u=this.getModel(i);if(!u)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var p=new u(ga(ga({},a),{},{type:i}),this),h=p.getData();return this.edges.push(p),this.eventCenter.emit(tt.EDGE_ADD,{data:h}),p}},{key:"moveEdge",value:function(r,a,i){for(var u=0;u<this.edges.length;u++){var p=this.edges[u],h=p.textPosition,O=h.x,_=h.y,j=this.edges[u].sourceNodeId===r,T=this.edges[u].targetNodeId===r;j&&p.moveStartPoint(a,i),T&&p.moveEndPoint(a,i),(j||T)&&this.handleEdgeTextMove(p,O,_)}}},{key:"handleEdgeTextMove",value:function(r,a,i){var u;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===ht.POLYLINE_EDGE&&(u=r.text)!==null&&u!==void 0&&u.value){var p=r.text,h=fd(p,r.points);r.moveText(h.x-p.x,h.y-p.y)}else{var O=r.textPosition,_=O.x,j=O.y;r.moveText(_-a,j-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===a){var u=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(tt.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(tt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(tt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(tt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,a,i){this.nodes.forEach(function(u){u.id===r?u.setElementState(a,i):u.setElementState(_t.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(a,i):u.setElementState(_t.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(i){i.id===r&&i.updateText(a)}),this.edges.forEach(function(i){i.id===r&&i.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var u=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var u=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===xn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,i){for(var u=this,p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=r.reduce(function(Ae,Ee){var Fe=u.nodesMap[Ee].model.getMoveDistance(a,i,p);return Ae[Ee]=Fe,Ae},{}),O=0;O<this.edges.length;O++){var _=this.edges[O],j=_.textPosition,T=j.x,R=j.y,U=h[_.sourceNodeId],W=void 0,ie=void 0;if(U){var oe=ai(U,2);W=oe[0],ie=oe[1],_.moveStartPoint(W,ie)}var de=h[_.targetNodeId];if(de){var me=ai(de,2);W=me[0],ie=me[1],_.moveEndPoint(W,ie)}(U||de)&&this.handleEdgeTextMove(_,T,R)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var i=this.getNodeModelById(r);if(i){var u=i.getData();u.type=a;var p=this.getModel(a);if(!p)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));var h=new p(u,this);this.nodes.splice(this.nodesMap[r].index,1,h),this.getNodeEdges(r).forEach(function(O){if(O.sourceNodeId===r){var _=zp(h,O.startPoint,h.width,h.height);O.updateStartPoint(_)}if(O.targetNodeId===r){var j=zp(h,O.endPoint,h.width,h.height);O.updateEndPoint(j)}})}}},{key:"changeEdgeType",value:function(r,a){var i=this.getEdgeModelById(r);if(i&&i.type!==a){var u=i.getData();u.type=a;var p=this.getModel(a);if(!p)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));delete u.pointsList;var h=new p(u,this);this.edges.splice(this.edgesMap[r].index,1,h)}}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetNodeId===r&&a.push(i)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&a.push(i)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(u){u.targetNodeId===r&&i.push(a.nodesMap[u.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&i.push(a.nodesMap[u.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=sp(ga(ga({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=a||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],i=[];r.forEach(function(j){var T=j.x,R=j.y,U=j.width,W=j.height,ie=j.getNodeStyle().strokeWidth,oe=ie===void 0?0:ie;a=a.concat([T+U/2+oe,T-U/2-oe]),i=i.concat([R+W/2+oe,R-W/2-oe])});var u=Math.min.apply(Math,mo(a)),p=Math.max.apply(Math,mo(a)),h=Math.min.apply(Math,mo(i)),O=p-u||0,_=Math.max.apply(Math,mo(i))-h||0;return{virtualRectWidth:O,virtualRectHeight:_,virtualRectCenterPositionX:u+O/2,virtualRectCenterPositionY:h+_/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,i=this.height,u=this.rootEl,p=this.transformModel;if(r.length){var h=a||u.clientWidth,O=i||u.clientHeight,_=this.getVirtualRectSize(),j=_.virtualRectCenterPositionX,T=_.virtualRectCenterPositionY;p.focusOn(j,T,h,O)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,u=this.width,p=this.height,h=this.rootEl,O=this.transformModel;if(i.length){var _=u||h.clientWidth,j=p||h.clientHeight,T=this.getVirtualRectSize(),R=T.virtualRectWidth,U=T.virtualRectHeight,W=T.virtualRectCenterPositionX,ie=T.virtualRectCenterPositionY,oe=(R+a)/_,de=(U+r)/j,me=0;me=1/Math.max(oe,de);var Ae=[_/2,j/2];O.zoom(me,Ae),O.focusOn(W,ie,_,j)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&Yb(t.prototype,n),e}(),dd=$e(le.prototype,"width",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hd=$e(le.prototype,"height",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yd=$e(le.prototype,"edgeType",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vd=$e(le.prototype,"nodes",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gd=$e(le.prototype,"edges",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bd=$e(le.prototype,"overlapMode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.DEFAULT}}),md=$e(le.prototype,"background",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Od=$e(le.prototype,"transformModel",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_d=$e(le.prototype,"editConfigModel",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wd=$e(le.prototype,"gridSize",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xd=$e(le.prototype,"partial",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ed=$e(le.prototype,"fakerNode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e(le.prototype,"nodesMap",[c.m],Object.getOwnPropertyDescriptor(le.prototype,"nodesMap"),le.prototype),$e(le.prototype,"edgesMap",[c.m],Object.getOwnPropertyDescriptor(le.prototype,"edgesMap"),le.prototype),$e(le.prototype,"modelsMap",[c.m],Object.getOwnPropertyDescriptor(le.prototype,"modelsMap"),le.prototype),$e(le.prototype,"sortElements",[c.m],Object.getOwnPropertyDescriptor(le.prototype,"sortElements"),le.prototype),$e(le.prototype,"textEditElement",[c.m],Object.getOwnPropertyDescriptor(le.prototype,"textEditElement"),le.prototype),$e(le.prototype,"selectElements",[c.m],Object.getOwnPropertyDescriptor(le.prototype,"selectElements"),le.prototype),$e(le.prototype,"selectNodes",[c.m],Object.getOwnPropertyDescriptor(le.prototype,"selectNodes"),le.prototype),$e(le.prototype,"setFakerNode",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"setFakerNode"),le.prototype),$e(le.prototype,"removeFakerNode",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"removeFakerNode"),le.prototype),$e(le.prototype,"setModel",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"setModel"),le.prototype),$e(le.prototype,"toFront",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"toFront"),le.prototype),$e(le.prototype,"setElementZIndex",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementZIndex"),le.prototype),$e(le.prototype,"deleteNode",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteNode"),le.prototype),$e(le.prototype,"addNode",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"addNode"),le.prototype),$e(le.prototype,"cloneNode",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"cloneNode"),le.prototype),$e(le.prototype,"moveNode",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode"),le.prototype),$e(le.prototype,"moveNode2Coordinate",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode2Coordinate"),le.prototype),$e(le.prototype,"editText",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"editText"),le.prototype),$e(le.prototype,"addEdge",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"addEdge"),le.prototype),$e(le.prototype,"moveEdge",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"moveEdge"),le.prototype),$e(le.prototype,"deleteEdgeBySourceAndTarget",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySourceAndTarget"),le.prototype),$e(le.prototype,"deleteEdgeById",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeById"),le.prototype),$e(le.prototype,"deleteEdgeBySource",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySource"),le.prototype),$e(le.prototype,"deleteEdgeByTarget",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeByTarget"),le.prototype),$e(le.prototype,"setElementStateById",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementStateById"),le.prototype),$e(le.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"updateText"),le.prototype),$e(le.prototype,"selectNodeById",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"selectNodeById"),le.prototype),$e(le.prototype,"selectEdgeById",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"selectEdgeById"),le.prototype),$e(le.prototype,"selectElementById",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"selectElementById"),le.prototype),$e(le.prototype,"clearSelectElements",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"clearSelectElements"),le.prototype),$e(le.prototype,"moveNodes",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNodes"),le.prototype),$e(le.prototype,"setDefaultEdgeType",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"setDefaultEdgeType"),le.prototype),$e(le.prototype,"changeNodeType",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"changeNodeType"),le.prototype),$e(le.prototype,"changeEdgeType",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"changeEdgeType"),le.prototype),$e(le.prototype,"getNodeIncomingEdge",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingEdge"),le.prototype),$e(le.prototype,"getNodeOutgoingEdge",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingEdge"),le.prototype),$e(le.prototype,"getNodeIncomingNode",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingNode"),le.prototype),$e(le.prototype,"getNodeOutgoingNode",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingNode"),le.prototype),$e(le.prototype,"setTheme",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"setTheme"),le.prototype),$e(le.prototype,"resize",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"resize"),le.prototype),$e(le.prototype,"clearData",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"clearData"),le.prototype),$e(le.prototype,"translateCenter",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"translateCenter"),le.prototype),$e(le.prototype,"fitView",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"fitView"),le.prototype),$e(le.prototype,"openEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"openEdgeAnimation"),le.prototype),$e(le.prototype,"closeEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(le.prototype,"closeEdgeAnimation"),le.prototype),le),Vb=Td;function js(e){return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function Ps(){return Ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ps.apply(this,arguments)}function Wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ms(e,t){return Ms=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ms(e,t)}function $b(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ma(e);if(t){var a=ma(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qn(e)}function Qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ma(e){return ma=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ma(e)}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kd,Zb=Hn(Md=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Ms(i,u)})(a,e);var t,n,r=$b(a);function a(i){var u;(function(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,a),hr(Qn(u=r.call(this)),"stepDrag",void 0),hr(Qn(u),"stepScrollX",0),hr(Qn(u),"stepScrollY",0),hr(Qn(u),"onDragging",function(_){var j=_.deltaX,T=_.deltaY;u.setState({isDragging:!0});var R=u.props.graphModel,U=R.transformModel;R.editConfigModel.stopMoveGraph||U.translate(j,T)}),hr(Qn(u),"onDragEnd",function(){u.setState({isDragging:!1})}),hr(Qn(u),"zoomHandler",function(_){var j=u.props,T=j.graphModel,R=T.editConfigModel,U=T.transformModel,W=T.gridSize,ie=j.graphModel,oe=_.deltaX,de=_.deltaY;if(R.stopScrollGraph||_.ctrlKey===!0){if(!R.stopZoomGraph){_.preventDefault();var me=ie.getPointByClient({x:_.clientX,y:_.clientY}).canvasOverlayPosition,Ae=me.x,Ee=me.y;U.zoom(_.deltaY<0,[Ae,Ee])}}else{if(_.preventDefault(),u.stepScrollX+=oe,u.stepScrollY+=de,Math.abs(u.stepScrollX)>=W){var Fe=u.stepScrollX%W,Te=u.stepScrollX-Fe;U.translate(-Te*U.SCALE_X,0),u.stepScrollX=Fe}if(Math.abs(u.stepScrollY)>=W){var Ge=u.stepScrollY%W,Re=u.stepScrollY-Ge;U.translate(0,-Re*U.SCALE_Y),u.stepScrollY=Ge}}}),hr(Qn(u),"clickHandler",function(_){if(_.target.getAttribute("name")==="canvas-overlay"){var j=u.props.graphModel;j.selectElements.size>0&&j.clearSelectElements(),j.eventCenter.emit(tt.BLANK_CLICK,{e:_})}}),hr(Qn(u),"handleContextMenu",function(_){if(_.target.getAttribute("name")==="canvas-overlay"){_.preventDefault();var j=u.props.graphModel,T=j.getPointByClient({x:_.clientX,y:_.clientY});j.eventCenter.emit(tt.BLANK_CONTEXTMENU,{e:_,position:T})}}),hr(Qn(u),"mouseDownHandler",function(_){var j=u.props.graphModel,T=j.eventCenter,R=j.editConfigModel,U=j.transformModel.SCALE_X,W=j.gridSize,ie=_.target,oe=!R.adjustEdge&&!R.adjustNodePosition;(ie.getAttribute("name")==="canvas-overlay"||oe)&&(R.stopMoveGraph?T.emit(tt.BLANK_MOUSEDOWN,{e:_}):(u.stepDrag.setStep(W*U),u.stepDrag.handleMouseDown(_)),u.clickHandler(_))});var p=i.graphModel,h=p.gridSize,O=p.eventCenter;return u.stepDrag=new dr({onDragging:u.onDragging,onDragEnd:u.onDragEnd,step:h,eventType:"BLANK",isStopPropagation:!1,eventCenter:O,model:null}),u.state={isDragging:!1},u}return t=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,p=u.children,h=u.dnd,O=this.state.isDragging;return Object(ee.g)("svg",Ps({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:O?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},h.eventMap()),Object(ee.g)("g",{transform:i},p))}}])&&Wb(t.prototype,n),a}(ee.a))||Md;function As(e){return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t){return Ts=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ts(e,t)}function Qb(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Oa(e);if(t){var a=Oa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return em(this,n)}}function em(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Oa(e){return Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Oa(e)}var tm=Hn(kd=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Ts(i,u)})(a,e);var t,n,r=Qb(a);function a(){return qb(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,u=i.tool,p=i.graphModel,h=u.getTools().map(function(O){return Object(ee.g)(O,{graphModel:p,logicFlow:u.instance})});return u.components=h,h}},{key:"triggerToolRender",value:function(){var i=this.props,u=i.tool,p=i.graphModel,h=document.querySelector("#ToolOverlay_".concat(p.flowId)),O=u.getInstance();O.components.forEach(function(_){return _(O,h)}),O.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(ee.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&Jb(t.prototype,n),a}(ee.a))||kd;function ks(e){return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t){return Ds=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ds(e,t)}function om(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_a(e);if(t){var a=_a(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return im(this,n)}}function im(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_a(e)}var Dd,am=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Ds(i,u)})(a,e);var t,n,r=om(a);function a(){return nm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var i=this.props.background;return Object(ee.g)("div",{className:"lf-background"},Object(ee.g)("div",{style:i,className:"lf-background-area"}))}}])&&rm(t.prototype,n),a}(ee.a);function Ns(e){return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cs(e,t){return Cs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cs(e,t)}function cm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wa(e);if(t){var a=wa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lm(this,n)}}function lm(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nd(e)}function Nd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wa(e){return wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wa(e)}function fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cd=Hn(Dd=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Cs(i,u)})(a,e);var t,n,r=cm(a);function a(){var i;um(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return fm(Nd(i=r.call.apply(r,[this].concat(p))),"id",kr()),i}return t=a,(n=[{key:"renderDot",value:function(){var i=this.props,u=i.config,p=u.color,h=u.thickness,O=h===void 0?2:h,_=i.size,j=i.visible,T=Math.min(Math.max(2,O),_/2),R=1;return j||(R=0),Object(ee.g)("rect",{width:T,height:T,rx:T/2,ry:T/2,fill:p,opacity:R})}},{key:"renderMesh",value:function(){var i=this.props,u=i.config,p=u.color,h=u.thickness,O=h===void 0?1:h,_=i.size,j=i.visible,T=Math.min(Math.max(1,O),_/2),R="M ".concat(_," 0 H0 M0 0 V0 ").concat(_),U=1;return j||(U=0),Object(ee.g)("path",{d:R,stroke:p,strokeWidth:T,opacity:U})}},{key:"render",value:function(){var i=this.props,u=i.type,p=i.size,h=i.graphModel.transformModel,O=[h.SCALE_X,h.SKEW_Y,h.SKEW_X,h.SCALE_Y,h.TRANSLATE_X,h.TRANSLATE_Y].join(","),_="matrix(".concat(O,")");return Object(ee.g)("div",{className:"lf-grid"},Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ee.g)("defs",null,Object(ee.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:_,x:"0",y:"0",width:p,height:p},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(ee.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&sm(t.prototype,n),a}(ee.a))||Dd;Cd.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(52);function Rs(e){return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function pm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Rd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Rd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Id,Oo=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=pm(n,2),a=r[0],i=r[1];(a==="style"||Rs(i)!=="object")&&(t[a]=i)}),Object(ee.g)("line",t)};function Is(e){return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ld(Object(n),!0).forEach(function(r){dm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ls(e,t){return Ls=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ls(e,t)}function vm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ea(e);if(t){var a=Ea(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gm(this,n)}}function gm(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ea(e){return Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ea(e)}var zd,bm=Hn(Id=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Ls(i,u)})(a,e);var t,n,r=vm(a);function a(){return hm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,u=i.position,p=i.isShowHorizontal,h=i.isShowVertical,O=i.getStyle(),_=u.x,j=_===void 0?0:_,T=u.y,R=T===void 0?0:T,U=xa(xa({x1:-1e5,y1:R,x2:1e5,y2:R},O),{},{stroke:p?O.stroke:"none"}),W=xa(xa({x1:j,y1:-1e5,x2:j,y2:1e5},O),{},{stroke:h?O.stroke:"none"});return Object(ee.g)("g",{className:"lf-snapline"},Object(ee.g)(Oo,U),Object(ee.g)(Oo,W))}}])&&ym(t.prototype,n),a}(ee.a))||Id;function zs(e){return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function mm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Bd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cr(e){var t=e.x,n=e.y,r=e.width,a=e.height,i=e.className,u=e.radius,p=t-r/2,h=n-a/2,O={};return Object.entries(e).forEach(function(_){var j=mm(_,2),T=j[0],R=j[1];zs(R)!=="object"&&(O[T]=R)}),O.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",u&&(O.rx=u,O.ry=u),O.x=p,O.y=h,Object(ee.g)("rect",O)}function Bs(e){return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function _o(){return _o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(this,arguments)}function Gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gd(Object(n),!0).forEach(function(r){Om(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Om(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gs(e,t){return Gs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gs(e,t)}function xm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sa(e);if(t){var a=Sa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Em(this,n)}}function Em(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sa(e)}Cr.defaultProps={className:"",radius:""};var Xd,Sm=Hn(zd=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Gs(i,u)})(a,e);var t,n,r=xm(a);function a(){return _m(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,u=i.nodes,p=i.editConfigModel,h=p.hoverOutline,O=p.nodeSelectedOutline,_=[];return u.forEach(function(j){if(j.isHovered||j.isSelected){var T=j.isHovered,R=j.isSelected,U=j.x,W=j.y,ie=j.width,oe=j.height;if(O&&R||h&&T){var de=j.getOutlineStyle(),me={};if(Object.keys(de).forEach(function(Ee){Ee!=="hover"&&(me[Ee]=de[Ee])}),T){var Ae=de.hover;me=Hd(Hd({},me),Ae)}_.push(Object(ee.g)(Cr,_o({className:"lf-outline-node",x:U,y:W,width:ie+10,height:oe+10},me)))}}}),_}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,u=i.edges,p=i.editConfigModel,h=p.edgeSelectedOutline,O=p.hoverOutline,_=[],j=0;j<u.length;j++){var T=u[j];(h&&T.isSelected||O&&T.isHovered)&&(T.modelType===ht.LINE_EDGE?_.push(this.getLineOutline(T)):T.modelType===ht.POLYLINE_EDGE?_.push(this.getPolylineOutline(T)):T.modelType===ht.BEZIER_EDGE&&_.push(this.getBezierOutline(T)))}return _}},{key:"getLineOutline",value:function(i){var u=i.startPoint,p=i.endPoint,h=(u.x+p.x)/2,O=(u.y+p.y)/2,_=Math.abs(u.x-p.x)+10,j=Math.abs(u.y-p.y)+10,T=i.getOutlineStyle();return Object(ee.g)(Cr,_o({className:"lf-outline-edge",x:h,y:O,width:_,height:j},T))}},{key:"getPolylineOutline",value:function(i){var u=i.points,p=Jr(u),h=oi(p,8),O=h.x,_=h.y,j=h.width,T=h.height,R=i.getOutlineStyle();return Object(ee.g)(Cr,_o({className:"lf-outline",x:O,y:_,width:j,height:T},R))}},{key:"getBezierOutline",value:function(i){var u=i.path,p=ya(u),h=oi(p,8),O=h.x,_=h.y,j=h.width,T=h.height,R=i.getOutlineStyle();return Object(ee.g)(Cr,_o({className:"lf-outline",x:O,y:_,width:j,height:T},R))}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&wm(t.prototype,n),a}(ee.a))||zd;function Hs(e){return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function jm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Fd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,i=e.r,u=i===void 0?4:i,p=e.className,h={cx:n,cy:a,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(O){var _=jm(O,2),j=_[0],T=_[1];Hs(T)!=="object"&&(h[j]=T)}),h.className=p?"lf-basic-shape ".concat(p):"lf-basic-shape",Object(ee.g)("circle",h)}function Xs(e){return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function Pm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ud(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ud(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ud(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function si(){return si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si.apply(this,arguments)}function Yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wd(e,t,n){return t&&Vd(e.prototype,t),n&&Vd(e,n),e}function $d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fs(e,t)}function Fs(e,t){return Fs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fs(e,t)}function Kd(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pa(e);if(t){var a=Pa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mm(this,n)}}function Mm(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ja(e)}function ja(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pa(e){return Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pa(e)}function Us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zd,qd=function(e){$d(n,e);var t=Kd(n);function n(){var r;return Yd(this,n),Us(ja(r=t.call(this)),"dragHandler",void 0),Us(ja(r),"onDragging",function(a){var i=a.event,u=r.props,p=u.graphModel,h=u.bezierModel,O=u.type,_=p.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,j=_.x,T=_.y;h.updateAdjustAnchor({x:j,y:T},O)}),Us(ja(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new dr({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Wd(n,[{key:"render",value:function(){var r=this,a=this.props.position,i=a.x,u=a.y,p=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ee.g)(ui,si({className:"lf-bezier-adjust-anchor",x:i,y:u},p,{onMouseDown:function(h){r.dragHandler.handleMouseDown(h)}}))}}]),n}(ee.a),Am=Hn(Xd=function(e){$d(n,e);var t=Kd(n);function n(){return Yd(this,n),t.apply(this,arguments)}return Wd(n,[{key:"getBezierAdjust",value:function(r,a){var i=r.path,u=r.id,p=Pm(ya(i),4),h=p[0],O=p[1],_=p[2],j=p[3],T=r.getEdgeStyle().adjustLine,R=[];return R.push(Object(ee.g)(Oo,si({x1:h.x,y1:h.y,x2:O.x,y2:O.y},T))),R.push(Object(ee.g)(qd,{position:O,bezierModel:r,graphModel:a,key:"".concat(u,"_ePre"),type:"sNext"})),R.push(Object(ee.g)(Oo,si({x1:j.x,y1:j.y,x2:_.x,y2:_.y},T))),R.push(Object(ee.g)(qd,{position:_,bezierModel:r,graphModel:a,key:"".concat(u,"_sNext"),type:"ePre"})),R}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,i=[],u=0;u<a.length;u++){var p=a[u];p.isSelected&&p.modelType===ht.BEZIER_EDGE&&p.draggable&&i.push(this.getBezierAdjust(p,r))}return i}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ee.a))||Xd;function Ys(e){return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function Tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vs(e,t){return Vs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vs(e,t)}function Dm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ma(e);if(t){var a=Ma(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Nm(this,n)}}function Nm(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ma(e){return Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ma(e)}var Jd,Cm=Hn(Zd=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Vs(i,u)})(a,e);var t,n,r=Dm(a);function a(){return Tm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ee.g)("g",{transform:i},u))}}])&&km(t.prototype,n),a}(ee.a))||Zd;function Ws(e){return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function $s(){return $s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}function Rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ks(e,t){return Ks=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ks(e,t)}function Lm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Aa(e);if(t){var a=Aa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return zm(this,n)}}function zm(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Aa(e){return Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Aa(e)}var Bm=Hn(Jd=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Ks(i,u)})(a,e);var t,n,r=Lm(a);function a(){return Rm(this,a),r.apply(this,arguments)}return t=a,n=[{key:"getComponent",value:function(i,u){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",h=this.props.getView,O=h(i.type);return Object(ee.g)(O,{key:i.id,model:i,graphModel:u,overlay:p})}},{key:"render",value:function(){var i=this,u=this.props,p=u.graphModel,h=u.tool,O=u.options,_=u.dnd,j=u.snaplineModel,T={};O.width&&(T.width="".concat(p.width,"px")),O.height&&(T.height="".concat(p.height,"px"));var R=O.grid,U=p.fakerNode,W=p.editConfigModel.adjustEdge;return Object(ee.g)("div",{className:"lf-graph","flow-id":p.flowId,style:T},Object(ee.g)(Zb,{graphModel:p,dnd:_},Object(ee.g)("g",{className:"lf-base"},ra(p.sortElements,function(ie){return i.getComponent(ie,p)})),U?this.getComponent(U,p):""),Object(ee.g)(Cm,{graphModel:p},Object(ee.g)(Sm,{graphModel:p}),W?Object(ee.g)(Am,{graphModel:p}):"",O.snapline!==!1?Object(ee.g)(bm,{snaplineModel:j}):""),Object(ee.g)(tm,{graphModel:p,tool:h}),O.background&&Object(ee.g)(am,{background:O.background}),O.grid&&Object(ee.g)(Cd,$s({},R,{graphModel:p})))}}],n&&Im(t.prototype,n),a}(ee.a))||Jd,Gm=Bm;function Qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qd(Object(n),!0).forEach(function(r){yr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xm=function(){function e(r){var a=this;(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,e),yr(this,"nodeConfig",void 0),yr(this,"lf",void 0),yr(this,"fakerNode",void 0),yr(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),yr(this,"dragEnter",function(u){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(Ta(Ta({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),yr(this,"onDragOver",function(u){if(u.preventDefault(),a.fakerNode){var p=a.clientToLocalPoint({x:u.clientX,y:u.clientY}),h=p.x,O=p.y;a.fakerNode.moveTo(h,O);var _=a.fakerNode.getData();a.lf.setNodeSnapLine(_),a.lf.graphModel.eventCenter.emit(tt.NODE_DND_DRAG,{data:_})}return!1}),yr(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),yr(this,"onDrop",function(u){a.lf.graphModel&&u&&a.nodeConfig&&(a.lf.addNode(Ta(Ta({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY})),tt.NODE_DND_ADD,u),u.preventDefault(),u.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)});var i=r.lf;this.lf=i}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,i=r.y,u=pf(this.lf.options,["grid","size"]),p=this.lf.graphModel.getPointByClient({x:a,y:i}).canvasOverlayPosition,h=p.x,O=p.y;return{x:Tr(h,u),y:Tr(O,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Hm(t.prototype,n),e}();function eh(e){var t=e.container,n=e.grid,r=e.width,a=e.height;if(!t)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof a=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(e.grid=un({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),un({},nh,e)}var bt,th,nh={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Zs(e){return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function qs(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return rh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oh(Object(n),!0).forEach(function(r){ih(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(){return ci=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=Vm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},ci.apply(this,arguments)}function Vm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Rr(e))!==null;);return e}function Js(e,t){return Js=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Js(e,t)}function Wm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Rr(e);if(t){var a=Rr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $m(this,n)}}function $m(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Da(e)}function Da(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e){return Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(e)}function ih(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Qs=(bt=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Js(i,u)})(a,e);var t,n,r=Wm(a);function a(){var i;Um(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return ih(Da(i=r.call.apply(r,[this].concat(p))),"modelType",ht.BEZIER_EDGE),Fm(Da(i),"path",th,Da(i)),i}return t=a,(n=[{key:"initEdgeData",value:function(i){this.offset=100,ci(Rr(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return ka(ka({},ci(Rr(a.prototype),"getEdgeStyle",this).call(this)),Dt(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,u=0;return this.pointsList.forEach(function(p){var h=p.x,O=p.y;i+=h,u+=O}),{x:i/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=ci(Rr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(p){return{x:p.x,y:p.y}});return ka(ka({},i),{},{pointsList:u})}},{key:"getControls",value:function(){var i=this.startPoint,u=this.endPoint;return cd({start:i,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var u=qs(i,4),p=u[0],h=u[1],O=u[2],_=u[3];return"M ".concat(p.x," ").concat(p.y,`
    C `).concat(h.x," ").concat(h.y,`,
    `).concat(O.x," ").concat(O.y,`,
    `).concat(_.x," ").concat(_.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),u=i.sNext,p=i.ePre;this.updatePath(u,p)}},{key:"updatePath",value:function(i,u){i=Dt(i),u=Dt(u);var p={x:this.startPoint.x,y:this.startPoint.y},h={x:this.endPoint.x,y:this.endPoint.y};if(!i||!u){var O=this.getControls();i=O.sNext,u=O.ePre}this.pointsList=[p,i,u,h],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,u){this.startPoint.x+=i,this.startPoint.y+=u;var p=qs(this.pointsList,3),h=p[1],O=p[2];h.x+=i,h.y+=u,this.updatePath(h,O)}},{key:"moveEndPoint",value:function(i,u){this.endPoint.x+=i,this.endPoint.y+=u;var p=qs(this.pointsList,3),h=p[1],O=p[2];O.x+=i,O.y+=u,this.updatePath(h,O)}},{key:"updateAdjustAnchor",value:function(i,u){u==="sNext"?this.pointsList[1]=i:u==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var u=i.startPoint,p=i.endPoint,h=i.sourceNode,O=i.targetNode,_=cd({start:u,end:p,sourceNode:h,targetNode:O,offset:this.offset}),j=_.sNext,T=_.ePre;this.pointsList=[u,j,T,p],this.initPoints()}}])&&Ym(t.prototype,n),a}(ps),th=zn(bt.prototype,"path",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zn(bt.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"initPoints"),bt.prototype),zn(bt.prototype,"updatePoints",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"updatePoints"),bt.prototype),zn(bt.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateStartPoint"),bt.prototype),zn(bt.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateEndPoint"),bt.prototype),zn(bt.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"moveStartPoint"),bt.prototype),zn(bt.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"moveEndPoint"),bt.prototype),zn(bt.prototype,"updateAdjustAnchor",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateAdjustAnchor"),bt.prototype),zn(bt.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"getAdjustStart"),bt.prototype),zn(bt.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"getAdjustEnd"),bt.prototype),zn(bt.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateAfterAdjustStartAndEnd"),bt.prototype),bt),Ne,ah,uh,sh,ch,lh,fh,ph,dh,hh,yh,vh,gh,bh,mh,Oh,_h,wh,xh,Eh,Km=function(e){return e==null};function ec(e){return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function Zm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(h,O){if(h){if(typeof h=="string")return Sh(h,O);var _=Object.prototype.toString.call(h).slice(8,-1);if(_==="Object"&&h.constructor&&(_=h.constructor.name),_==="Map"||_==="Set")return Array.from(h);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Sh(h,O)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(h){throw h},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,u=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var h=n.next();return u=h.done,h},e:function(h){p=!0,i=h},f:function(){try{u||n.return==null||n.return()}finally{if(p)throw i}}}}function Sh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jh(Object(n),!0).forEach(function(r){vn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var vr,Ph,gr=(Ne=function(){function e(r,a){(function(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),vn(this,"id",""),Vt(this,"type",ah,this),Vt(this,"x",uh,this),Vt(this,"y",sh,this),Vt(this,"text",ch,this),Vt(this,"properties",lh,this),Vt(this,"_width",fh,this),Vt(this,"_height",ph,this),Vt(this,"anchorsOffset",dh,this),Vt(this,"isSelected",hh,this),Vt(this,"isHovered",yh,this),Vt(this,"isShowAnchor",vh,this),Vt(this,"isDragging",gh,this),Vt(this,"isHitable",bh,this),Vt(this,"draggable",mh,this),Vt(this,"visible",Oh,this),vn(this,"virtual",!1),vn(this,"graphModel",void 0),Vt(this,"zIndex",_h,this),Vt(this,"state",wh,this),Vt(this,"autoToFront",xh,this),Vt(this,"style",Eh,this),vn(this,"BaseType",Xt.NODE),vn(this,"modelType",ht.NODE),vn(this,"additionStateData",void 0),vn(this,"targetRules",[]),vn(this,"sourceRules",[]),vn(this,"moveRules",[]),vn(this,"hasSetTargetRules",!1),vn(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),u=this.createId();r.id=u||i||kr()}this.formatText(r),un(this,function(p){return qo(p,["id","type","x","y","text","properties","virtual"])}(r)),this.graphModel.overlapMode===xn.INCREASE&&(this.zIndex=r.zIndex||ls())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,u=r.value,p=this.properties;Object(c.x)(p)&&(p=Object(c.I)(p));var h={id:this.id,type:this.type,x:this.x,y:this.y,properties:p};return this.graphModel.overlapMode===xn.INCREASE&&(h.zIndex=this.zIndex),u&&(h.text={x:a,y:i,value:u}),h}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(c.I)(this.properties)}},{key:"getNodeStyle",value:function(){return cn(cn({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Dt(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return Dt(a)}},{key:"getAnchorLineStyle",value:function(r){var a=this.graphModel.theme.anchorLine;return Dt(a)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,i,u){var p=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var h,O=!0,_=0;_<p.length;_++){var j=p[_];if(!j.validate.call(this,this,r,a,i,u)){O=!1,h=j.message;break}}return{isAllPass:O,msg:h}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,i,u){var p=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var h,O=!0,_=0;_<p.length;_++){var j=p[_];if(!j.validate.call(this,r,this,a,i,u)){O=!1,h=j.message;break}}return{isAllPass:O,msg:h}}},{key:"isAllowMoveNode",value:function(r,a){var i,u=!0,p=!0,h=Zm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(h.s();!(i=h.n()).done;){var O=(0,i.value)(this,r,a);if(!O)return!1;if(ec(O)==="object"){var _=O;if(_.x===!1&&_.y===!1)return!1;u=u&&_.x,p=p&&_.y}}}catch(j){h.e(j)}finally{h.f()}return{x:u,y:p}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,i=this.x,u=this.y;return r&&r.length>0?r.map(function(p,h){return p.length?(p=p,{id:"".concat(a,"_").concat(h),x:i+p[0],y:u+p[1]}):cn(cn({},p=p),{},{x:i+p.x,y:u+p.y,id:p.id||"".concat(a,"_").concat(h)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(a,i){for(var u,p=us(i),h=Number.MAX_SAFE_INTEGER,O=0;O<p.length;O++){var _=Zn(a.x,a.y,p[O].x,p[O].y);_<h&&(h=_,u={index:O,anchor:dp(dp({},p[O]),{},{x:p[O].x,y:p[O].y,id:p[O].id})})}return u}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Km(r))for(var a=0;a<this.anchors.length;a++){var i=this.anchors[a];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,p=!1;if(i)u=!0,p=!0;else{var h=this.isAllowMoveNode(r,a);typeof h=="boolean"?(u=h,p=h):(u=h.x,p=h.y)}if(u){var O=this.x+r;this.x=O,this.text&&this.moveText(r,0)}if(p){var _=this.y+a;this.y=_,this.text&&this.moveText(0,a)}return u||p}},{key:"getMoveDistance",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,p=!1,h=0,O=0;if(i)u=!0,p=!0;else{var _=this.isAllowMoveNode(r,a);typeof _=="boolean"?(u=_,p=_):(u=_.x,p=_.y)}if(u&&r){var j=this.x+r;this.x=j,this.text&&this.moveText(r,0),h=r}if(p&&a){var T=this.y+a;this.y=T,this.text&&this.moveText(0,a),O=a}return[h,O]}},{key:"moveTo",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,p=a-this.y;return!(!i&&!this.isAllowMoveNode(u,p)||(this.text&&this.text&&this.moveText(u,p),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var i=this.text,u=i.x,p=i.y,h=i.value,O=i.draggable,_=i.editable;this.text={value:h,editable:_,draggable:O,x:u+r,y:p+a}}},{key:"updateText",value:function(r){this.text=cn(cn({},Object(c.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=cn(cn({},Object(c.I)(this.properties)),{},vn({},r,en(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=cn(cn({},Object(c.I)(this.properties)),en(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=cn(cn({},this.style),{},vn({},r,en(a)))}},{key:"setStyles",value:function(r){this.style=cn(cn({},this.style),en(r))}},{key:"updateStyles",value:function(r){this.style=cn({},en(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){un(this,r)}}],n&&qm(t.prototype,n),e}(),ah=pt(Ne.prototype,"type",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),uh=pt(Ne.prototype,"x",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sh=pt(Ne.prototype,"y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ch=pt(Ne.prototype,"text",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),lh=pt(Ne.prototype,"properties",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),fh=pt(Ne.prototype,"_width",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),ph=pt(Ne.prototype,"_height",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),dh=pt(Ne.prototype,"anchorsOffset",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hh=pt(Ne.prototype,"isSelected",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yh=pt(Ne.prototype,"isHovered",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vh=pt(Ne.prototype,"isShowAnchor",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gh=pt(Ne.prototype,"isDragging",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bh=pt(Ne.prototype,"isHitable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mh=pt(Ne.prototype,"draggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oh=pt(Ne.prototype,"visible",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_h=pt(Ne.prototype,"zIndex",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wh=pt(Ne.prototype,"state",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xh=pt(Ne.prototype,"autoToFront",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Eh=pt(Ne.prototype,"style",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pt(Ne.prototype,"incoming",[c.m],Object.getOwnPropertyDescriptor(Ne.prototype,"incoming"),Ne.prototype),pt(Ne.prototype,"outgoing",[c.m],Object.getOwnPropertyDescriptor(Ne.prototype,"outgoing"),Ne.prototype),pt(Ne.prototype,"addNodeMoveRules",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"addNodeMoveRules"),Ne.prototype),pt(Ne.prototype,"move",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"move"),Ne.prototype),pt(Ne.prototype,"getMoveDistance",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getMoveDistance"),Ne.prototype),pt(Ne.prototype,"moveTo",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveTo"),Ne.prototype),pt(Ne.prototype,"moveText",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveText"),Ne.prototype),pt(Ne.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateText"),Ne.prototype),pt(Ne.prototype,"setSelected",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setSelected"),Ne.prototype),pt(Ne.prototype,"setHovered",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHovered"),Ne.prototype),pt(Ne.prototype,"setIsShowAnchor",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setIsShowAnchor"),Ne.prototype),pt(Ne.prototype,"setHitable",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHitable"),Ne.prototype),pt(Ne.prototype,"setElementState",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setElementState"),Ne.prototype),pt(Ne.prototype,"setProperty",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperty"),Ne.prototype),pt(Ne.prototype,"setProperties",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperties"),Ne.prototype),pt(Ne.prototype,"deleteProperty",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteProperty"),Ne.prototype),pt(Ne.prototype,"setStyle",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyle"),Ne.prototype),pt(Ne.prototype,"setStyles",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyles"),Ne.prototype),pt(Ne.prototype,"updateStyles",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateStyles"),Ne.prototype),pt(Ne.prototype,"setZIndex",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setZIndex"),Ne.prototype),pt(Ne.prototype,"updateAttributes",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateAttributes"),Ne.prototype),Ne);function tc(e){return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mh(Object(n),!0).forEach(function(r){Th(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(){return nc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=t0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},nc.apply(this,arguments)}function t0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=wo(e))!==null;);return e}function rc(e,t){return rc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},rc(e,t)}function n0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wo(e);if(t){var a=wo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return r0(this,n)}}function r0(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Na(e)}function Na(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wo(e)}function Th(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oc(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var tn,kh,Dh,ic=(vr=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&rc(i,u)})(a,e);var t,n,r=n0(a);function a(){var i;Qm(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return Th(Na(i=r.call.apply(r,[this].concat(p))),"modelType",ht.CIRCLE_NODE),Jm(Na(i),"r",Ph,Na(i)),i}return t=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=nc(wo(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return Ah(Ah({},i),Dt(u))}},{key:"getDefaultAnchor",value:function(){var i=this.x,u=this.y,p=this.r;return[{x:i,y:u-p,id:"".concat(this.id,"_0")},{x:i+p,y:u,id:"".concat(this.id,"_1")},{x:i,y:u+p,id:"".concat(this.id,"_2")},{x:i-p,y:u,id:"".concat(this.id,"_3")}]}}])&&e0(t.prototype,n),a}(gr),Ph=oc(vr.prototype,"r",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),oc(vr.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(vr.prototype,"width"),vr.prototype),oc(vr.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(vr.prototype,"height"),vr.prototype),vr);o(127);function ac(e){return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function uc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Nh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Nh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ch(Object(n),!0).forEach(function(r){Lh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ch(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ih(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(){return sc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=a0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},sc.apply(this,arguments)}function a0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Eo(e))!==null;);return e}function cc(e,t){return cc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cc(e,t)}function u0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Eo(e);if(t){var a=Eo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s0(this,n)}}function s0(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xo(e)}function xo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(e)}function Lh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function So(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var er,zh,Bh,lc=(tn=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&cc(i,u)})(a,e);var t,n,r=u0(a);function a(){var i;o0(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return Lh(xo(i=r.call.apply(r,[this].concat(p))),"modelType",ht.DIAMOND_NODE),Ih(xo(i),"rx",kh,xo(i)),Ih(xo(i),"ry",Dh,xo(i)),i}return t=a,(n=[{key:"getNodeStyle",value:function(){var i=sc(Eo(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return Rh(Rh({},i),Dt(u))}},{key:"points",get:function(){var i=this.x,u=this.y,p=this.rx,h=this.ry;return[[i,u-h],[i+p,u],[i,u+h],[i-p,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(p){var h=uc(p,1)[0];h<i&&(i=h),h>u&&(u=h)}),u-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(p){var h=uc(p,2)[1];h<i&&(i=h),h>u&&(u=h)}),u-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(u,p){var h=uc(u,2);return{x:h[0],y:h[1],id:"".concat(i.id,"_").concat(p)}})}}])&&i0(t.prototype,n),a}(gr),kh=So(tn.prototype,"rx",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Dh=So(tn.prototype,"ry",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),So(tn.prototype,"points",[c.m],Object.getOwnPropertyDescriptor(tn.prototype,"points"),tn.prototype),So(tn.prototype,"pointsPosition",[c.m],Object.getOwnPropertyDescriptor(tn.prototype,"pointsPosition"),tn.prototype),So(tn.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(tn.prototype,"width"),tn.prototype),So(tn.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(tn.prototype,"height"),tn.prototype),tn);function fc(e){return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gh(Object(n),!0).forEach(function(r){Fh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pc(){return pc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=f0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},pc.apply(this,arguments)}function f0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Po(e))!==null;);return e}function dc(e,t){return dc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dc(e,t)}function p0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Po(e);if(t){var a=Po(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d0(this,n)}}function d0(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jo(e)}function jo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(e)}function Fh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ca(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Cn,Uh,hc=(er=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&dc(i,u)})(a,e);var t,n,r=p0(a);function a(){var i;c0(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return Fh(jo(i=r.call.apply(r,[this].concat(p))),"modelType",ht.ELLIPSE_NODE),Xh(jo(i),"rx",zh,jo(i)),Xh(jo(i),"ry",Bh,jo(i)),i}return t=a,(n=[{key:"getNodeStyle",value:function(){var i=pc(Po(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return Hh(Hh({},i),Dt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,u=this.y,p=this.rx,h=this.ry;return[{x:i,y:u-h,id:"".concat(this.id,"_0")},{x:i+p,y:u,id:"".concat(this.id,"_1")},{x:i,y:u+h,id:"".concat(this.id,"_2")},{x:i-p,y:u,id:"".concat(this.id,"_3")}]}}])&&l0(t.prototype,n),a}(gr),zh=Ca(er.prototype,"rx",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Bh=Ca(er.prototype,"ry",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Ca(er.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(er.prototype,"width"),er.prototype),Ca(er.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(er.prototype,"height"),er.prototype),er);function yc(e){return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function vc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Yh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Yh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vh(Object(n),!0).forEach(function(r){$h(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gc(){return gc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=g0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},gc.apply(this,arguments)}function g0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Mo(e))!==null;);return e}function bc(e,t){return bc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bc(e,t)}function b0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mo(e);if(t){var a=Mo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m0(this,n)}}function m0(e,t){if(t&&(yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ra(e)}function Ra(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(e)}function $h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ia(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var mc,Kh,Oc=(Cn=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&bc(i,u)})(a,e);var t,n,r=b0(a);function a(){var i;y0(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return $h(Ra(i=r.call.apply(r,[this].concat(p))),"modelType",ht.POLYGON_NODE),h0(Ra(i),"points",Uh,Ra(i)),i}return t=a,(n=[{key:"getNodeStyle",value:function(){var i=gc(Mo(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return Wh(Wh({},i),Dt(u))}},{key:"pointsPosition",get:function(){var i=this.x,u=this.y,p=this.width,h=this.height;return this.points.map(function(O){return{x:O[0]+i-p/2,y:O[1]+u-h/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(p){var h=vc(p,1)[0];h<i&&(i=h),h>u&&(u=h)}),u-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(p){var h=vc(p,2)[1];h<i&&(i=h),h>u&&(u=h)}),u-i}},{key:"getDefaultAnchor",value:function(){var i=this,u=this.x,p=this.y,h=this.width,O=this.height;return this.points.map(function(_,j){var T=vc(_,2),R=T[0],U=T[1];return{x:u+R-h/2,y:p+U-O/2,id:"".concat(i.id,"_").concat(j)}})}}])&&v0(t.prototype,n),a}(gr),Uh=Ia(Cn.prototype,"points",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ia(Cn.prototype,"pointsPosition",[c.m],Object.getOwnPropertyDescriptor(Cn.prototype,"pointsPosition"),Cn.prototype),Ia(Cn.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(Cn.prototype,"width"),Cn.prototype),Ia(Cn.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(Cn.prototype,"height"),Cn.prototype),Cn);function _c(e){return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function Zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zh(Object(n),!0).forEach(function(r){Jh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wc(){return wc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=x0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},wc.apply(this,arguments)}function x0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ao(e))!==null;);return e}function xc(e,t){return xc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xc(e,t)}function E0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ao(e);if(t){var a=Ao(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S0(this,n)}}function S0(e,t){if(t&&(_c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return La(e)}function La(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(e)}function Jh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ir,Ec=(mc=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&xc(i,u)})(a,e);var t,n,r=E0(a);function a(){var i;_0(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return Jh(La(i=r.call.apply(r,[this].concat(p))),"modelType",ht.RECT_NODE),O0(La(i),"radius",Kh,La(i)),i}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,u=this.y,p=this.width,h=this.height;return[{x:i,y:u-h/2,id:"".concat(this.id,"_0")},{x:i+p/2,y:u,id:"".concat(this.id,"_1")},{x:i,y:u+h/2,id:"".concat(this.id,"_2")},{x:i-p/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=wc(Ao(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return qh(qh({},i),Dt(u))}}])&&w0(t.prototype,n),a}(gr),Kh=function(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}(mc.prototype,"radius",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mc);function Sc(e){return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qh(Object(n),!0).forEach(function(r){ny(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jc(){return jc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=M0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},jc.apply(this,arguments)}function M0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=To(e))!==null;);return e}function Pc(e,t){return Pc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pc(e,t)}function A0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=To(e);if(t){var a=To(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return T0(this,n)}}function T0(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ty(e)}function ty(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},To(e)}function ny(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ry(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Mc=(Ir=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Pc(i,u)})(a,e);var t,n,r=A0(a);function a(){var i;j0(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return ny(ty(i=r.call.apply(r,[this].concat(p))),"modelType",ht.TEXT_NODE),i}return t=a,(n=[{key:"getTextStyle",value:function(){var i=jc(To(a.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return ey(ey({},i),Dt(u))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return cs({rows:i,fontSize:u,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return cs({rows:i,fontSize:u,rowsLength:i.length}).height}}])&&P0(t.prototype,n),a}(gr),ry(Ir.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(Ir.prototype,"width"),Ir.prototype),ry(Ir.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(Ir.prototype,"height"),Ir.prototype),Ir);function Ac(e){return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function k0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t){return Tc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tc(e,t)}function N0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=za(e);if(t){var a=za(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C0(this,n)}}function C0(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oy(e)}function oy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function za(e){return za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},za(e)}function R0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bn,iy,ay,uy,kc=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Tc(i,u)})(a,e);var t,n,r=N0(a);function a(){var i;k0(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return R0(oy(i=r.call.apply(r,[this].concat(p))),"modelType",ht.HTML_NODE),i}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,u=this.y,p=this.width,h=this.height;return[{x:i,y:u-h/2,id:"".concat(this.id,"_0")},{x:i+p/2,y:u,id:"".concat(this.id,"_1")},{x:i,y:u+h/2,id:"".concat(this.id,"_2")},{x:i-p/2,y:u,id:"".concat(this.id,"_3")}]}}])&&D0(t.prototype,n),a}(gr);function sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function I0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t,n,r,a){var i={};return Object.keys(r).forEach(function(u){i[u]=r[u]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(u,p){return p(e,t,u)||u},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var ly=(Bn=function(){function e(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),cy(this,"graphModel",void 0),Dc(this,"isShowHorizontal",iy,this),Dc(this,"isShowVertical",ay,this),Dc(this,"position",uy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?sy(Object(i),!0).forEach(function(u){cy(r,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):sy(Object(i)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(i,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var i=r.x,u=r.y,p=!1,h=!1,O=0;O<a.length;O++){var _=a[O];if(_.id!==r.id&&(i===_.x&&(p=!0),u===_.y&&(h=!0),p&&h))break}return{isShowVertical:p,isShowHorizontal:h,position:{x:i,y:u}}}},{key:"getHorizontalSnapline",value:function(r,a){var i,u,p=!1,h=r.id;if(h){var O=this.graphModel.fakerNode;if(O&&O.id===h)u=En(O);else{var _=this.graphModel.getNodeModelById(h);u=En(_)}}for(var j=0;j<a.length;j++){var T=a[j];if(T.id!==r.id){var R=En(T);if(R.minY===u.minY||R.maxY===u.minY){p=!0,i=u.minY;break}if(R.minY===u.maxY||R.maxY===u.maxY){p=!0,i=u.maxY;break}}}return un({isShowHorizontal:p,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,a){var i,u,p=!1,h=r.id;if(h){var O=this.graphModel.fakerNode;if(O&&O.id===h)u=En(O);else{var _=this.graphModel.getNodeModelById(h);u=En(_)}}for(var j=0;j<a.length;j++){var T=a[j];if(T.id!==r.id){var R=En(T);if(R.minX===u.minX||R.maxX===u.minX){p=!0,i=u.minX;break}if(R.minX===u.maxX||R.maxX===u.maxX){p=!0,i=u.maxX;break}}}return un({isShowVertical:p,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,a){var i=this.getCenterSnapLine(r,a),u=i.isShowHorizontal,p=i.isShowVertical;if(!u){var h=this.getHorizontalSnapline(r,a);h.isShowHorizontal&&(i.isShowHorizontal=h.isShowHorizontal,i.position.y=h.position.y)}if(!p){var O=this.getVerticalSnapline(r,a);O.isShowVertical&&(i.isShowVertical=O.isShowVertical,i.position.x=O.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,i=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=a,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,i=this.getSnapLinePosition(r,a);this.setSnaplineInfo(i)}}],n&&I0(t.prototype,n),e}(),iy=li(Bn.prototype,"isShowHorizontal",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ay=li(Bn.prototype,"isShowVertical",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uy=li(Bn.prototype,"position",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li(Bn.prototype,"clearSnapline",[c.k],Object.getOwnPropertyDescriptor(Bn.prototype,"clearSnapline"),Bn.prototype),li(Bn.prototype,"setNodeSnapLine",[c.k],Object.getOwnPropertyDescriptor(Bn.prototype,"setNodeSnapLine"),Bn.prototype),Bn),fi=new Map,fy=function(e){var t=kr(),n=window.requestAnimationFrame(function r(){if(e(),fi.get(t)){var a=window.requestAnimationFrame(r);fi.set(t,a)}});return fi.set(t,n),t},Ba=function(e){var t=fi.get(e);t&&(window.cancelAnimationFrame(t),fi.delete(e))};function Nc(e){return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function pi(){return pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(this,arguments)}function py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?py(Object(n),!0).forEach(function(r){nr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return dy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return dy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t){return Cc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cc(e,t)}function B0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ha(e);if(t){var a=Ha(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return G0(this,n)}}function G0(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function tr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ha(e)}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H0=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Cc(i,u)})(a,e);var t,n,r=B0(a);function a(){var i;return function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}(this,a),nr(tr(i=r.call(this)),"preTargetNode",void 0),nr(tr(i),"sourceRuleResults",void 0),nr(tr(i),"targetRuleResults",void 0),nr(tr(i),"dragHandler",void 0),nr(tr(i),"t",void 0),nr(tr(i),"onDragStart",function(u){var p=u.event,h=i.props,O=h.anchorData,_=h.nodeModel,j=h.graphModel,T=j.overlapMode;j.selectNodeById(_.id),T!==xn.INCREASE&&_.autoToFront&&j.toFront(_.id),j.eventCenter.emit(tt.ANCHOR_DRAGSTART,{data:O,e:p,nodeModel:_}),i.setState({startX:O.x,startY:O.y,endX:O.x,endY:O.y})}),nr(tr(i),"onDragging",function(u){var p=u.event,h=i.props,O=h.graphModel,_=h.nodeModel,j=h.anchorData,T=O.transformModel,R=O.eventCenter,U=O.width,W=O.height,ie=O.editConfigModel,oe=ie.autoExpand,de=ie.stopMoveGraph,me=p.clientX,Ae=p.clientY,Ee=O.getPointByClient({x:me,y:Ae}),Fe=Ee.domOverlayPosition,Te=Fe.x,Ge=Fe.y,Re=Ee.canvasOverlayPosition,lt=Re.x,Et=Re.y;i.t&&Ba(i.t);var mt=[];Te<10?mt=[10,0]:Te+10>U?mt=[-10,0]:Ge<10?mt=[0,10]:Ge+10>W&&(mt=[0,-10]),i.setState({endX:lt,endY:Et,dragging:!0}),i.moveAnchorEnd(lt,Et),mt.length>0&&!de&&oe&&(i.t=fy(function(){var jt=L0(mt,2),Gt=jt[0],Wt=jt[1];T.translate(Gt,Wt);var fn=i.state,ir=fn.endX,Rn=fn.endY;i.setState({endX:ir-Gt,endY:Rn-Wt}),i.moveAnchorEnd(ir-Gt,Rn-Wt)})),R.emit(tt.ANCHOR_DRAG,{data:j,e:p,nodeModel:_})}),nr(tr(i),"onDragEnd",function(u){var p=u.event;i.t&&Ba(i.t),i.checkEnd(p),i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var h=i.props,O=h.graphModel,_=h.nodeModel,j=h.anchorData;O.eventCenter.emit(tt.ANCHOR_DRAGEND,{data:j,e:p,nodeModel:_})}),nr(tr(i),"checkEnd",function(u){var p=i.props,h=p.graphModel,O=p.nodeModel,_=p.anchorData,j=_.x,T=_.y,R=_.id,U=(h.edgeType,i.state),W=U.endX,ie=U.endY,oe=U.dragging,de=ua({x:W,y:ie},h);if(i.preTargetNode&&i.preTargetNode.state!==_t.DEFAULT&&i.preTargetNode.setElementState(_t.DEFAULT),oe&&de&&de.node){var me=de.node,Ae=de.anchor.id,Ee="".concat(O.id,"_").concat(me.id,"_").concat(Ae,"_").concat(R),Fe=i.sourceRuleResults.get(Ee)||{},Te=Fe.isAllPass,Ge=Fe.msg,Re=i.targetRuleResults.get(Ee)||{},lt=Re.isAllPass,Et=Re.msg;if(Te&&lt){me.setElementState(_t.DEFAULT);var mt=h.edgeGenerator(O.getData(),h.getNodeModelById(de.node.id).getData()),jt=h.addEdge(Ga(Ga({},mt),{},{sourceNodeId:O.id,sourceAnchorId:R,startPoint:{x:j,y:T},targetNodeId:de.node.id,targetAnchorId:de.anchor.id,endPoint:{x:de.anchor.x,y:de.anchor.y}})),Gt=i.props.anchorData;h.eventCenter.emit(tt.ANCHOR_DROP,{data:Gt,e:u,nodeModel:O,edgeModel:jt})}else{var Wt=me.getData();h.eventCenter.emit(tt.CONNECTION_NOT_ALLOWED,{data:Wt,msg:Et||Ge})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new dr({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return t=a,(n=[{key:"getAnchorShape",value:function(){var i=this.props,u=i.anchorData,p=i.style,h=i.node.getAnchorShape(u);if(h)return h;var O=u.x,_=u.y,j=Ga(Ga({},p),p.hover);return Object(ee.g)("g",null,Object(ee.g)(ui,pi({className:"lf-node-anchor-hover"},j,{x:O,y:_})),Object(ee.g)(ui,pi({className:"lf-node-anchor"},p,{x:O,y:_})))}},{key:"moveAnchorEnd",value:function(i,u){var p=this.props,h=p.graphModel,O=p.nodeModel,_=p.anchorData,j=ua({x:i,y:u},h);if(j){var T=j.node,R=j.anchor.id;if(this.preTargetNode&&this.preTargetNode!==j.node&&this.preTargetNode.setElementState(_t.DEFAULT),_.id===R)return;this.preTargetNode=T;var U="".concat(O.id,"_").concat(T.id,"_").concat(R,"_").concat(_.id);if(!this.targetRuleResults.has(U)){var W=j.anchor,ie=O.isAllowConnectedAsSource(T,_,W),oe=T.isAllowConnectedAsTarget(O,_,W);this.sourceRuleResults.set(U,ei(ie)),this.targetRuleResults.set(U,ei(oe))}var de=this.sourceRuleResults.get(U).isAllPass,me=this.targetRuleResults.get(U).isAllPass;de&&me?T.setElementState(_t.ALLOW_CONNECT):T.setElementState(_t.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==_t.DEFAULT&&this.preTargetNode.setElementState(_t.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,u=i.startX,p=i.startY,h=i.endX,O=i.endY;return Zn(u,p,h,O)>10}},{key:"render",value:function(){var i=this,u=this.state,p=u.startX,h=u.startY,O=u.endX,_=u.endY,j=this.props,T=j.anchorData.edgeAddable,R=j.edgeStyle;return Object(ee.g)("g",{className:"lf-anchor"},Object(ee.g)("g",{onMouseDown:function(U){T!==!1&&i.dragHandler.handleMouseDown(U)}},this.getAnchorShape()),this.isShowLine()&&Object(ee.g)(Oo,pi({x1:p,y1:h,x2:O,y2:_},R,{"pointer-events":"none"})))}}])&&z0(t.prototype,n),a}(ee.a);o(80);function hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function X0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(n),!0).forEach(function(r){F0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rc(e){return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function U0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return yy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vy(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,i=e.value,u=e.fontSize,p=e.fill,h=p===void 0?"currentColor":p,O=e.overflowMode,_=O===void 0?"default":O,j=e.textWidth,T=j===void 0?"":j,R=e.model,U={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:h};if(Object.entries(e).forEach(function(Ae){var Ee=U0(Ae,2),Fe=Ee[0],Te=Ee[1];Rc(Te)!=="object"&&(U[Fe]=Te)}),i){var W=String(i).split(/[\r\n]/g),ie=W.length;if(_!=="default"){var oe=R.BaseType,de=R.modelType;if(oe===Xt.NODE&&de!==ht.TEXT_NODE||oe===Xt.EDGE&&T)return function(Ae){var Ee=Ae.value,Fe=Ae.fontSize,Te=Ae.model,Ge=Ae.fontFamily,Re=Ge===void 0?"":Ge,lt=Ae.lineHeight,Et=Ae.wrapPadding,mt=Et===void 0?"0, 0":Et,jt=Ae.overflowMode,Gt=Ae.x,Wt=Ae.y,fn=Te.width,ir=Te.textHeight,Rn=Ae.textWidth||fn,No=String(Ee).split(/[\r\n]/g),lu=No.length,fu=Bp({rows:No,style:{fontSize:"".concat(Fe,"px"),width:"".concat(Rn,"px"),fontFamily:Re,lineHeight:lt,padding:mt},rowsLength:lu,className:"lf-get-text-height"}),no=Te.height>fu?Te.height:fu;ir&&(no=ir);var Br=jt==="ellipsis";return Br&&(no=Fe+2),Object(ee.g)("g",null,Object(ee.g)("foreignObject",{width:Rn,height:no,x:Gt-Rn/2,y:Wt-no/2},Object(ee.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:no,width:Rn,padding:mt}},Object(ee.g)("div",{className:Br?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Br?No.join(""):"",style:X0({},Ae)},No.map(function(Gr){return Object(ee.g)("div",{className:"lf-node-text--auto-wrap-inner"},Gr)})))))}(e)}if(ie>1){var me=W.map(function(Ae,Ee){var Fe=(Ee-(ie-1)/2)*(u+2);return Object(ee.g)("tspan",{className:"lf-text-tspan",x:n,y:a+Fe},Ae)});return Object(ee.g)("text",U,me)}return Object(ee.g)("text",U,i)}}function Ic(e){return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Lc(){return Lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lc.apply(this,arguments)}function Y0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return gy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return gy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zc(e,t){return zc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zc(e,t)}function W0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xa(e);if(t){var a=Xa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $0(this,n)}}function $0(e,t){if(t&&(Ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xa(e){return Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(e)}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var by=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&zc(i,u)})(a,e);var t,n,r=W0(a);function a(i){var u;(function(h,O){if(!(h instanceof O))throw new TypeError("Cannot call a class as a function")})(this,a),Qr(Lr(u=r.call(this)),"dragHandler",void 0),Qr(Lr(u),"sumDeltaX",0),Qr(Lr(u),"sumDeltaY",0),Qr(Lr(u),"stepDrag",void 0),Qr(Lr(u),"onDragging",function(h){var O=h.deltaX,_=h.deltaY,j=u.props,T=j.model,R=Y0(j.graphModel.transformModel.fixDeltaXY(O,_),2),U=R[0],W=R[1];T.moveText(U,W)}),Qr(Lr(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(_t.TEXT_EDIT)}),Qr(Lr(u),"mouseDownHandle",function(h){var O=u.props,_=O.draggable,j=O.model,T=O.graphModel.editConfigModel.nodeTextDraggable;(_||T)&&(u.stepDrag.model=j,u.stepDrag.handleMouseDown(h))}),i.model;var p=i.draggable;return u.stepDrag=new dr({onDragging:u.onDragging,step:1,isStopPropagation:p}),u}return t=a,(n=[{key:"getShape",value:function(){var i=this.props,u=i.model,p=i.graphModel,h=u.text,O=p.editConfigModel,_=h.value,j=h.x,T=h.y,R=h.editable,U=h.draggable,W={x:j,y:T,className:"",value:_};R?W.className="lf-element-text":U||O.nodeTextDraggable?W.className="lf-text-draggable":W.className="lf-text-disabled";var ie=u.getTextStyle();return Object(ee.g)(vy,Lc({},W,ie,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ee.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&V0(t.prototype,n),a}(ee.a),K0=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Bc(e){return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Fa(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return my(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return my(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function my(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gc(e,t){return Gc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gc(e,t)}function Z0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ua(e);if(t){var a=Ua(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q0(this,n)}}function q0(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nn(e)}function nn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ua(e){return Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ua(e)}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var br=function(e){(function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),p&&Gc(u,p)})(i,e);var t,n,r,a=Z0(i);function i(u){var p;(function(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")})(this,i),ln(nn(p=a.call(this)),"t",void 0),ln(nn(p),"moveOffset",void 0),ln(nn(p),"stepDrag",void 0),ln(nn(p),"contextMenuTime",void 0),ln(nn(p),"startTime",void 0),ln(nn(p),"clickTimer",void 0),ln(nn(p),"onDragStart",function(T){var R=T.event,U=R.clientX,W=R.clientY,ie=p.props,oe=ie.model,de=ie.graphModel.getPointByClient({x:U,y:W}).canvasOverlayPosition,me=de.x,Ae=de.y;p.moveOffset={x:oe.x-me,y:oe.y-Ae}}),ln(nn(p),"onDragging",function(T){var R=T.event,U=p.props,W=U.model,ie=U.graphModel,oe=ie.editConfigModel,de=oe.stopMoveGraph,me=oe.autoExpand,Ae=ie.transformModel,Ee=ie.selectNodes,Fe=ie.width,Te=ie.height,Ge=ie.gridSize;W.isDragging=!0;var Re=R.clientX,lt=R.clientY,Et=ie.getPointByClient({x:Re,y:lt}).canvasOverlayPosition,mt=Et.x,jt=Et.y,Gt=Fa(Ae.CanvasPointToHtmlPoint([mt,jt]),2),Wt=Gt[0],fn=Gt[1];if(mt+=p.moveOffset.x,jt+=p.moveOffset.y,mt=Tr(mt,Ge),jt=Tr(jt,Ge),Fe&&Te){if(!me||de||!(Wt<0||fn<0||Wt>Fe||fn>Te)){var ir=Fa(Ae.CanvasPointToHtmlPoint([mt-W.width/2,jt-W.height/2]),2),Rn=ir[0],No=ir[1],lu=Fa(Ae.CanvasPointToHtmlPoint([mt+W.width/2,jt+W.height/2]),2),fu=lu[0],no=lu[1],Br=Math.max(Ge,20),Gr=[];Rn<0?Gr=[Br,0]:fu>ie.width?Gr=[-Br,0]:No<0?Gr=[0,Br]:no>ie.height&&(Gr=[0,-Br]),p.t&&Ba(p.t);var pu=Ee.map(function(du){return du.id});pu.indexOf(W.id)===-1&&(pu=[W.id]),Gr.length>0&&!de&&me?p.t=fy(function(){var du=Fa(Gr,2),tv=du[0],nv=du[1];Ae.translate(tv,nv);var G_=-tv/Ae.SCALE_X,H_=-nv/Ae.SCALE_X;ie.moveNodes(pu,G_,H_)}):ie.moveNodes(pu,mt-W.x,jt-W.y)}}else ie.moveNode2Coordinate(W.id,mt,jt)}),ln(nn(p),"onDragEnd",function(){p.t&&Ba(p.t),p.props.model.isDragging=!1}),ln(nn(p),"handleClick",function(T){if(p.startTime&&!(new Date().getTime()-p.startTime>200)){var R=p.props,U=R.model,W=R.graphModel,ie={data:U.getData(),e:T,position:W.getPointByClient({x:T.clientX,y:T.clientY}),isSelected:!1,isMultiple:!1},oe=T.button===2,de=T.detail===2;if(!oe){var me=W.editConfigModel,Ae=fp(T,me);ie.isMultiple=Ae,U.isSelected&&!de&&Ae?(ie.isSelected=!1,U.setSelected(!1)):(W.selectNodeById(U.id,Ae),ie.isSelected=!0,p.toFront()),de?(me.nodeTextEdit&&U.text.editable&&(U.setSelected(!1),W.setElementStateById(U.id,_t.TEXT_EDIT)),W.eventCenter.emit(tt.NODE_DBCLICK,ie)):(W.eventCenter.emit(tt.ELEMENT_CLICK,ie),W.eventCenter.emit(tt.NODE_CLICK,ie))}}}),ln(nn(p),"handleContextMenu",function(T){T.preventDefault();var R=p.props,U=R.model,W=R.graphModel,ie=U.getData(),oe=W.getPointByClient({x:T.clientX,y:T.clientY});W.setElementStateById(U.id,_t.SHOW_MENU,oe.domOverlayPosition),U.isSelected||W.selectNodeById(U.id),W.eventCenter.emit(tt.NODE_CONTEXTMENU,{data:ie,e:T,position:oe}),p.toFront()}),ln(nn(p),"handleMouseDown",function(T){var R=p.props,U=R.model,W=R.graphModel;p.startTime=new Date().getTime(),W.editConfigModel.adjustNodePosition&&U.draggable&&p.stepDrag&&p.stepDrag.handleMouseDown(T)}),ln(nn(p),"setHoverON",function(T){var R=p.props,U=R.model,W=R.graphModel;if(!U.isHovered){var ie=U.getData();U.setHovered(!0),W.eventCenter.emit(tt.NODE_MOUSEENTER,{data:ie,e:T})}}),ln(nn(p),"setHoverOFF",function(T){var R=p.props,U=R.model,W=R.graphModel,ie=U.getData();U.isHovered&&(U.setHovered(!1),W.eventCenter.emit(tt.NODE_MOUSELEAVE,{data:ie,e:T}))}),ln(nn(p),"onMouseOut",function(T){K0&&p.setHoverOFF(T)});var h=u.graphModel,O=h.gridSize,_=h.eventCenter,j=u.model;return p.stepDrag=new dr({onDragStart:p.onDragStart,onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:O,eventType:"NODE",isStopPropagation:!1,eventCenter:_,model:j}),p}return t=i,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,p=this.props,h=p.model,O=p.graphModel,_=h.isSelected,j=h.isHitable,T=h.isDragging,R=h.isShowAnchor;return j&&(_||R)&&!T?ra(h.anchors,function(U,W){var ie=h.getAnchorLineStyle(U),oe=h.getAnchorStyle(U);return Object(ee.g)(H0,{anchorData:U,node:u,style:oe,edgeStyle:ie,anchorIndex:W,nodeModel:h,graphModel:O,setHoverOFF:u.setHoverOFF})}):[]}},{key:"getText",value:function(){var u=this.props,p=u.model,h=u.graphModel;if(p.state===_t.TEXT_EDIT)return"";if(p.text){var O=h.editConfigModel,_=!1;return(p.text.draggable||O.nodeTextDraggable)&&(_=!0),Object(ee.g)(by,{editable:O.nodeTextEdit&&p.text.editable,model:p,graphModel:h,draggable:_})}}},{key:"getStateClassName",value:function(){var u=this.props.model,p=u.state,h=u.isDragging,O=u.isSelected,_="lf-node";switch(p){case _t.ALLOW_CONNECT:_+=" lf-node-allow";break;case _t.NOT_ALLOW_CONNECT:_+=" lf-node-not-allow";break;default:_+=" lf-node-default"}return h&&(_+=" lf-isDragging"),O&&(_+=" lf-node-selected"),_}},{key:"toFront",value:function(){var u=this.props,p=u.model,h=u.graphModel;h.overlapMode!==xn.INCREASE&&p.autoToFront&&h.toFront(p.id)}},{key:"render",value:function(){var u,p=this.props,h=p.model,O=p.graphModel,_=O.editConfigModel,j=_.hideAnchors,T=_.adjustNodePosition,R=O.gridSize,U=O.transformModel.SCALE_X,W=h.isHitable,ie=h.draggable,oe=Object(ee.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),j?null:this.getAnchors());return W?(T&&ie&&this.stepDrag.setStep(R*U),u=Object(ee.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},oe)):u=Object(ee.g)("g",{className:this.getStateClassName()},oe),u}}])&&Oy(t.prototype,n),r&&Oy(t,r),i}(ee.a);function Hc(e){return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Xc(){return Xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc.apply(this,arguments)}function J0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fc(e,t){return Fc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fc(e,t)}function eO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ya(e);if(t){var a=Ya(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tO(this,n)}}function tO(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ya(e){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ya(e)}var Uc=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Fc(i,u)})(a,e);var t,n,r=eO(a);function a(){return J0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var i=this.props.model,u=i.getNodeStyle();return Object(ee.g)(Cr,Xc({},u,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&Q0(t.prototype,n),a}(br);function Yc(e){return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function Vc(){return Vc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vc.apply(this,arguments)}function nO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t){return Wc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wc(e,t)}function oO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Va(e);if(t){var a=Va(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return iO(this,n)}}function iO(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}var $c=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Wc(i,u)})(a,e);var t,n,r=oO(a);function a(){return nO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var i=this.props.model,u=i.x,p=i.y,h=i.r,O=i.getNodeStyle();return Object(ee.g)(ui,Vc({},O,{x:u,y:p,r:h}))}}])&&rO(t.prototype,n),a}(br);function Kc(e){return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function aO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return _y(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _y(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _y(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wy(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(a){var i=aO(a,2),u=i[0],p=i[1];Kc(p)!=="object"&&(r[u]=p)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(a){return a.join(",")}).join(" "),Object(ee.g)("polygon",r)}function Zc(e){return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function qc(){return qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qc.apply(this,arguments)}function uO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jc(e,t){return Jc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jc(e,t)}function cO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wa(e);if(t){var a=Wa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lO(this,n)}}function lO(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Wa(e){return Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wa(e)}var Qc=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Jc(i,u)})(a,e);var t,n,r=cO(a);function a(){return uO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var i=this.props.model,u=i.x,p=i.y,h=i.width,O=i.height,_=i.points,j=i.getNodeStyle(),T={transform:"matrix(1 0 0 1 ".concat(u-h/2," ").concat(p-O/2,")")};return Object(ee.g)("g",T,Object(ee.g)(wy,qc({},j,{points:_,x:u,y:p})))}}])&&sO(t.prototype,n),a}(br);function el(e){return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function tl(){return tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl.apply(this,arguments)}function fO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nl(e,t){return nl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nl(e,t)}function dO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$a(e);if(t){var a=$a(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return hO(this,n)}}function hO(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function $a(e){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(e)}var rl=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&nl(i,u)})(a,e);var t,n,r=dO(a);function a(){return fO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var i=this.props.model,u=i.getNodeStyle();return Object(ee.g)("g",null,Object(ee.g)(wy,tl({},u,{points:i.points,x:i.x,y:i.y})))}}])&&pO(t.prototype,n),a}(br);function ol(e){return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function yO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return xy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vO(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,i=e.rx,u=i===void 0?4:i,p=e.ry,h=p===void 0?4:p,O=e.className,_={cx:n,cy:a,rx:u,ry:h,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(j){var T=yO(j,2),R=T[0],U=T[1];ol(U)!=="object"&&(_[R]=U)}),_.className=O?"lf-basic-shape ".concat(O):"lf-basic-shape",Object(ee.g)("ellipse",_)}function il(e){return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function al(){return al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(this,arguments)}function gO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ul(e,t){return ul=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ul(e,t)}function mO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ka(e);if(t){var a=Ka(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(e)}var sl=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&ul(i,u)})(a,e);var t,n,r=mO(a);function a(){return gO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var i=this.props.model,u=i.getNodeStyle();return Object(ee.g)(vO,al({},u,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&bO(t.prototype,n),a}(br);function cl(e){return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function Ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ey(Object(n),!0).forEach(function(r){_O(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ll(e,t){return ll=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ll(e,t)}function EO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Za(e);if(t){var a=Za(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return SO(this,n)}}function SO(e,t){if(t&&(cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(e)}var fl=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&ll(i,u)})(a,e);var t,n,r=EO(a);function a(){return wO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,u=i.getTextStyle(),p=i.width,h=i.height,O=i.x,_=i.y,j=Sy(Sy({},u.background),{},{x:O,y:_-1,width:p,height:h});return Object(ee.g)(Cr,j)}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getBackground())}}])&&xO(t.prototype,n),a}(br);function pl(e){return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function dl(){return dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(this,arguments)}function jO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hl(e,t){return hl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hl(e,t)}function MO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qa(e);if(t){var a=qa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return AO(this,n)}}function AO(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(e)}function Ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yl=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&hl(i,u)})(a,e);var t,n,r=MO(a);function a(){var i;jO(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return Ja(di(i=r.call.apply(r,[this].concat(p))),"ref",void 0),Ja(di(i),"currentProperties",void 0),Ja(di(i),"preProperties",void 0),Ja(di(i),"setRef",function(O){i.ref=O}),i}return t=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,u=i.x,p=i.y,h=i.height,O=i.width,_=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(ee.g)("foreignObject",dl({},_,{x:u-O/2,y:p-h/2,width:O,height:h,ref:this.setRef}))}}])&&PO(t.prototype,n),a}(br);function vl(e){return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function gl(){return gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gl.apply(this,arguments)}function jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jy(Object(n),!0).forEach(function(r){Ol(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bl(e,t){return bl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bl(e,t)}function kO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qa(e);if(t){var a=Qa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return DO(this,n)}}function DO(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ml(e)}function ml(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}function Ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rr,NO=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&bl(i,u)})(a,e);var t,n,r=kO(a);function a(i){var u;return function(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),Ol(ml(u=r.call(this,i)),"setHoverON",function(){u.setState({isHovered:!0})}),Ol(ml(u),"setHoverOFF",function(){u.setState({isHovered:!1})}),u.state={isHovered:!1},u}return t=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,u=i.getTextStyle(),p=i.text,h=i.width,O=u.background||{};if(this.state.isHovered&&u.hover&&u.hover.background&&(O=eo(eo({},O),u.hover.background)),p&&p.value&&O.fill!=="transparent"){var _,j=u.fontSize,T=u.overflowMode,R=u.lineHeight,U=u.wrapPadding,W=u.textWidth,ie=p.value,oe=p.x,de=p.y,me=String(ie).split(/[\r\n]/g),Ae=me.length;if(T==="autoWrap"&&W){var Ee=Bp({rows:me,style:{fontSize:"".concat(j,"px"),width:"".concat(W,"px"),lineHeight:R,padding:U},rowsLength:Ae,className:"lf-get-text-height"});_=eo(eo({},O),{},{x:oe-1,y:de-1,width:W,height:Ee})}else{me&&me.forEach(function(lt){sd(lt)});var Fe=cs({rows:me,fontSize:j,rowsLength:Ae}),Te=Fe.width,Ge=Fe.height;if(T==="ellipsis"&&(Te=W||h,Ge=j+2),typeof O.wrapPadding=="string"){var Re=O.wrapPadding.split(",").filter(function(lt){return lt.trim()}).map(function(lt){return parseFloat(lt.trim())});Re.length>0&&Re.length<=4&&(Re.length===1?Re=[Re[0],Re[0],Re[0],Re[0]]:Re.length===2?Re=[Re[0],Re[1],Re[0],Re[1]]:Re.length===3&&(Re=[Re[0],Re[1],Re[2],Re[1]]),Te+=Re[1]+Re[3],Ge+=Re[0]+Re[2],oe+=(Re[1]-Re[3])/2,de+=(Re[2]-Re[0])/2)}_=eo(eo({},O),{},{x:oe-1,y:de-1,width:Te,height:Ge})}return Object(ee.g)(Cr,_)}}},{key:"getShape",value:function(){var i=this.props.model,u=i.text,p=u.value,h=u.x,O=u.y;if(p){var _=eo({x:h,y:O,className:"lf-element-text",value:p},i.getTextStyle());return Object(ee.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ee.g)(vy,gl({},_,{model:i})))}}}])&&TO(t.prototype,n),a}(by);function _l(e){return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(n),!0).forEach(function(r){jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return My(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return My(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function My(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e,t){return wl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wl(e,t)}function IO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=eu(e);if(t){var a=eu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return LO(this,n)}}function LO(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sn(e)}function Sn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(rr||(rr={}));var Ay=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&wl(i,u)})(a,e);var t,n,r=IO(a);function a(i){var u;(function(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,a),jn(Sn(u=r.call(this)),"stepDragData",void 0),jn(Sn(u),"stepDrag",void 0),jn(Sn(u),"oldEdge",void 0),jn(Sn(u),"preTargetNode",void 0),jn(Sn(u),"targetRuleResults",void 0),jn(Sn(u),"sourceRuleResults",void 0),jn(Sn(u),"handleMouseDown",function(_){u.stepDrag&&u.stepDrag.handleMouseDown(_)}),jn(Sn(u),"onDragStart",function(){var _=u.props,j=_.x,T=_.y,R=_.edgeModel,U=R.startPoint,W=R.endPoint,ie=R.pointsList;u.oldEdge={startPoint:U,endPoint:W,pointsList:ie},u.setState({endX:j,endY:T,dragging:!0})}),jn(Sn(u),"onDragging",function(_){var j=_.deltaX,T=_.deltaY,R=u.state,U=R.endX,W=R.endY,ie=u.props,oe=ie.graphModel,de=ie.type,me=oe.transformModel,Ae=oe.editConfigModel,Ee=CO(me.moveCanvasPointByHtml([U,W],j,T),2),Fe=Ee[0],Te=Ee[1];u.setState({endX:Fe,endY:Te,dragging:!0});var Ge=u.props.edgeModel,Re=ua({x:U,y:W},oe);if(Re&&Re.node&&u.isAllowAdjust(Re).pass){var lt,Et=Ge.startPoint,mt=Ge.endPoint,jt=Ge.sourceNode,Gt=Ge.targetNode;de===rr.SOURCE?lt={startPoint:{x:Re.anchor.x,y:Re.anchor.y},endPoint:{x:mt.x,y:mt.y},sourceNode:Re.node,targetNode:Gt}:de===rr.TARGET&&(lt={startPoint:{x:Et.x,y:Et.y},endPoint:{x:Re.anchor.x,y:Re.anchor.y},sourceNode:jt,targetNode:Re.node}),Ge.updateAfterAdjustStartAndEnd(lt)}else de===rr.SOURCE?Ge.updateStartPoint({x:Fe,y:Te}):de===rr.TARGET&&Ge.updateEndPoint({x:Fe,y:Te});Ge.text.value&&Ae.adjustEdge&&Ge.setText(Object.assign({},Ge.text,Ge.textPosition))}),jn(Sn(u),"onDragEnd",function(_){var j=_.event;try{var T;u.setState({dragging:!1});var R=u.props,U=R.graphModel,W=R.edgeModel,ie=R.type,oe=u.state,de=oe.endX,me=oe.endY,Ae=oe.dragging,Ee=ua({x:de,y:me},U);if(!Ae)return;var Fe,Te=!1;if(Ee&&Ee.node){var Ge=u.isAllowAdjust(Ee),Re=Ge.pass,lt=Ge.msg,Et=Ge.newTargetNode;if(Re){var mt,jt=W.getData();Fe=mr(mr({},jt),{},{sourceAnchorId:"",targetAnchorId:"",text:(jt==null||(mt=jt.text)===null||mt===void 0?void 0:mt.value)||""}),ie===rr.SOURCE?(Fe=mr(mr({},U.edgeGenerator(U.getNodeModelById(Ee.node.id).getData(),U.getNodeModelById(W.targetNodeId).getData(),Fe)),{},{sourceNodeId:Ee.node.id,sourceAnchorId:Ee.anchor.id,startPoint:{x:Ee.anchor.x,y:Ee.anchor.y},targetNodeId:W.targetNodeId,endPoint:mr({},W.endPoint)}),W.sourceNodeId===Ee.node.id&&W.sourceAnchorId===Ee.anchor.id&&(Te=!0)):ie===rr.TARGET&&(Fe=mr(mr({},U.edgeGenerator(U.getNodeModelById(W.sourceNodeId).getData(),U.getNodeModelById(Ee.node.id).getData(),Fe)),{},{sourceNodeId:W.sourceNodeId,startPoint:mr({},W.startPoint),targetNodeId:Ee.node.id,targetAnchorId:Ee.anchor.id,endPoint:{x:Ee.anchor.x,y:Ee.anchor.y}}),W.targetNodeId===Ee.node.id&&W.targetAnchorId===Ee.anchor.id&&(Te=!0))}else{Te=!0;var Gt=Et.getData();U.eventCenter.emit(tt.CONNECTION_NOT_ALLOWED,{data:Gt,msg:lt})}}else Te=!0;if(Te)u.recoveryEdge();else{var Wt=W.getData();U.deleteEdgeById(W.id);var fn=U.addEdge(mr({},Fe));U.eventCenter.emit(tt.EDGE_EXCHANGE_NODE,{data:{newEdge:fn.getData(),oldEdge:Wt}})}(T=u.preTargetNode)===null||T===void 0||T.setElementState(_t.DEFAULT)}finally{u.props.graphModel.eventCenter.emit(tt.ADJUST_POINT_DRAGEND,{e:j,data:u.stepDragData})}}),jn(Sn(u),"recoveryEdge",function(){var _=u.props.edgeModel,j=u.oldEdge,T=j.startPoint,R=j.endPoint,U=j.pointsList;_.updateStartPoint(T),_.updateEndPoint(R),_.modelType!==ht.LINE_EDGE&&(_.pointsList=U,_.initPoints())}),jn(Sn(u),"getAdjustPointStyle",function(){var _=u.props,j=_.graphModel.theme;return _.edgeModel,j.edgeAdjust}),u.state={dragging:!1,endX:0,endY:0},u.targetRuleResults=new Map,u.sourceRuleResults=new Map;var p=i.type,h=i.edgeModel,O=i.graphModel.eventCenter;return u.stepDragData={type:p,edgeData:h.getData()},u.stepDrag=new dr({onDragStart:u.onDragStart,onDragging:u.onDragging,onDragEnd:u.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:O,data:u.stepDragData}),u}return t=a,(n=[{key:"isAllowAdjust",value:function(i){var u=this.props,p=u.edgeModel,h=p.id,O=p.sourceNode,_=p.targetNode,j=p.sourceAnchorId,T=p.targetAnchorId,R=u.type,U=null,W=null,ie=null,oe=null;if(R===rr.SOURCE?(U=i.node,W=_,ie=i.anchor,oe=_.getAnchorInfo(T)):(U=O,W=i.node,oe=i.anchor,ie=O.getAnchorInfo(j)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(_t.DEFAULT),this.preTargetNode=i.node,oe.id===ie.id)return{pass:!1,msg:"",newTargetNode:W};var de="".concat(U.id,"_").concat(W.id,"_").concat(ie.id,"_").concat(oe.id);if(!this.targetRuleResults.has(de)){var me=U.isAllowConnectedAsSource(W,ie,oe,h),Ae=W.isAllowConnectedAsTarget(U,ie,oe,h);this.sourceRuleResults.set(de,ei(me)),this.targetRuleResults.set(de,ei(Ae))}var Ee=this.sourceRuleResults.get(de),Fe=Ee.isAllPass,Te=Ee.msg,Ge=this.targetRuleResults.get(de),Re=Ge.isAllPass,lt=Ge.msg,Et=Fe&&Re?_t.ALLOW_CONNECT:_t.NOT_ALLOW_CONNECT;return R===rr.SOURCE?U.setElementState(Et):W.setElementState(Et),{pass:Fe&&Re,msg:lt||Te,newTargetNode:W}}},{key:"render",value:function(){var i=this.props,u=i.x,p=i.y,h=i.getAdjustPointShape,O=i.edgeModel,_=this.state.dragging;return Object(ee.g)("g",{pointerEvents:_?"none":"",onMouseDown:this.handleMouseDown},_?"":h(u,p,O))}}])&&RO(t.prototype,n),a}(ee.a);function xl(e){return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function hi(){return hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hi.apply(this,arguments)}function zO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ty(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ty(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function El(e,t){return El=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},El(e,t)}function HO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=tu(e);if(t){var a=tu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}function Gn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yi=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&El(i,u)})(a,e);var t,n,r=HO(a);function a(){var i;BO(this,a);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return or(Gn(i=r.call.apply(r,[this].concat(p))),"startTime",void 0),or(Gn(i),"contextMenuTime",void 0),or(Gn(i),"clickTimer",void 0),or(Gn(i),"textRef",Object(ee.f)()),or(Gn(i),"handleHover",function(O,_){var j=i.props,T=j.model,R=j.graphModel.eventCenter;T.setHovered(O);var U=O?tt.EDGE_MOUSEENTER:tt.EDGE_MOUSELEAVE,W=T.getData();R.emit(U,{data:W,e:_})}),or(Gn(i),"setHoverON",function(O){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,O))}),or(Gn(i),"setHoverOFF",function(O){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,O))}),or(Gn(i),"handleContextMenu",function(O){O.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var _=i.props,j=_.model,T=_.graphModel,R=T.getPointByClient({x:O.clientX,y:O.clientY});T.setElementStateById(j.id,_t.SHOW_MENU,R.domOverlayPosition),i.toFront(),j.isSelected||T.selectEdgeById(j.id);var U=j==null?void 0:j.getData();T.eventCenter.emit(tt.EDGE_CONTEXTMENU,{data:U,e:O,position:R})}),or(Gn(i),"handleMouseDown",function(O){O.stopPropagation(),i.startTime=new Date().getTime()}),or(Gn(i),"handleMouseUp",function(O){if(i.startTime&&!(new Date().getTime()-i.startTime>200||O.button===2)){var _=O.detail===2,j=i.props,T=j.model,R=j.graphModel,U=T==null?void 0:T.getData(),W=R.getPointByClient({x:O.clientX,y:O.clientY});if(_){var ie=R.editConfigModel,oe=R.textEditElement;if(oe&&oe.id===T.id&&R.setElementStateById(T.id,_t.DEFAULT),ie.edgeTextEdit&&T.text.editable&&R.setElementStateById(T.id,_t.TEXT_EDIT),T.modelType===ht.POLYLINE_EDGE){var de=T,me=R.getPointByClient({x:O.x,y:O.y}).canvasOverlayPosition,Ae=me.x,Ee=me.y,Fe=fd({x:Ae,y:Ee},de.points);de.dbClickPosition=Fe}R.eventCenter.emit(tt.EDGE_DBCLICK,{data:U,e:O,position:W})}else R.eventCenter.emit(tt.ELEMENT_CLICK,{data:U,e:O,position:W}),R.eventCenter.emit(tt.EDGE_CLICK,{data:U,e:O,position:W});var Te=R.editConfigModel;R.selectEdgeById(T.id,fp(O,Te)),i.toFront()}}),i}return t=a,(n=[{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,u=i.model,p=i.graphModel;if(u.state===_t.TEXT_EDIT)return null;var h=!1,O=p.editConfigModel;return(u.text.draggable||O.edgeTextDraggable)&&(h=!0),Object(ee.g)(NO,{ref:this.textRef,editable:O.edgeTextEdit&&u.text.editable,model:u,graphModel:p,draggable:h})}},{key:"getArrowInfo",value:function(){var i=this.props.model,u=i.startPoint,p=i.endPoint,h=i.isSelected;return{start:u,end:p,hover:this.state.hover,isSelected:h}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,u=i.id,p=i.getArrowStyle(),h=p.refY,O=h===void 0?0:h,_=p.refX,j=_===void 0?2:_,T=zO(this.getLastTwoPoints(),2),R=T[0],U=T[1],W="auto";return R!==null&&U!==null&&(W=Cb({x:U.x-R.x,y:U.y-R.y,z:0})*(180/Math.PI)),Object(ee.g)("g",null,Object(ee.g)("defs",null,Object(ee.g)("marker",{id:"marker-start-".concat(u),refX:-j,refY:O,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ee.g)("marker",{id:"marker-end-".concat(u),refX:j,refY:O,overflow:"visible",orient:W,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(ee.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),u=i.stroke,p=i.strokeWidth,h=i.offset,O=i.verticalLength;return Object(ee.g)("path",{stroke:u,fill:u,strokeWidth:p,transform:"rotate(180)",d:"M 0 0 L ".concat(h," -").concat(O," L ").concat(h," ").concat(O," Z")})}},{key:"getAdjustPointShape",value:function(i,u,p){var h=p.getAdjustPointStyle();return Object(ee.g)(ui,hi({className:"lf-edge-adjust-point"},h,{x:i,y:u}))}},{key:"getAdjustPoints",value:function(){var i=this.props,u=i.model,p=i.graphModel,h=u.getAdjustStart(),O=u.getAdjustEnd();return Object(ee.g)("g",null,Object(ee.g)(Ay,hi({type:"SOURCE"},h,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:u,graphModel:p})),Object(ee.g)(Ay,hi({type:"TARGET"},O,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:u,graphModel:p})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ee.g)("g",null)}},{key:"getAppend",value:function(){return Object(ee.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,u=i.graphModel,p=i.model;u.overlapMode!==xn.INCREASE&&u.toFront(p.id)}},{key:"render",value:function(){var i=this.props,u=i.model,p=u.isSelected,h=u.isHitable,O=u.isShowAdjustPoint;return i.graphModel.animation,Object(ee.g)("g",null,Object(ee.g)("g",{className:["lf-edge",!h&&"pointer-none",p&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),O&&p?this.getAdjustPoints():"")}}])&&GO(t.prototype,n),a}(ee.a);function Sl(e){return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function FO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return ky(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ky(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ky(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vi=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=FO(n,2),a=r[0],i=r[1],u=Sl(i);a!=="style"&&u==="object"||(t[a]=i)}),Object(ee.g)("path",t)};function jl(e){return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function Pl(){return Pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pl.apply(this,arguments)}function UO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ml(e,t){return Ml=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ml(e,t)}function VO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=nu(e);if(t){var a=nu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return WO(this,n)}}function WO(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function nu(e){return nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nu(e)}var Al=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Ml(i,u)})(a,e);var t,n,r=VO(a);function a(){return UO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,u=i.startPoint,p=i.endPoint,h=i.isAnimation,O=i.arrowConfig,_=i.getEdgeStyle(),j=i.getEdgeAnimationStyle(),T=j.strokeDasharray,R=j.stroke,U=j.strokeDashoffset,W=j.animationName,ie=j.animationDuration,oe=j.animationIterationCount,de=j.animationTimingFunction,me=j.animationDirection;return Object(ee.g)(Oo,Pl({},_,{x1:u.x,y1:u.y,x2:p.x,y2:p.y},O,h?{strokeDasharray:T,stroke:R,style:{strokeDashoffset:U,animationName:W,animationDuration:ie,animationIterationCount:oe,animationTimingFunction:de,animationDirection:me}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,u=function(T){var R,U=T.start,W=T.end;if(U.x===W.x&&U.y===W.y)R="";else{var ie={start:U,end:W,offset:10,verticalLength:5},oe=ri(sa(sa({},ie),{},{type:"start"})),de=ri(sa(sa({},ie),{},{type:"end"}));R="M".concat(oe.leftX," ").concat(oe.leftY,` 
    L`).concat(oe.rightX," ").concat(oe.rightY,` 
    L`).concat(de.rightX," ").concat(de.rightY,`
    L`).concat(de.leftX," ").concat(de.leftY," z")}return{d:R,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:i.startPoint,end:i.endPoint}),p=u.d,h=u.strokeWidth,O=u.fill,_=u.strokeDasharray,j=u.stroke;return Object(ee.g)(vi,{d:p,fill:O,strokeWidth:h,stroke:j,strokeDasharray:_})}}])&&YO(t.prototype,n),a}(yi);function Tl(e){return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function $O(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Dy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Dy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var KO=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=$O(n,2),a=r[0],i=r[1];(a==="style"||Tl(i)!=="object")&&(t[a]=i)}),Object(ee.g)("polyline",t)};function kl(e){return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function Ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ny(Object(n),!0).forEach(function(r){_r(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ny(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dl(){return Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}function ZO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Cy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nl(e,t){return Nl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nl(e,t)}function JO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ou(e);if(t){var a=ou(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return QO(this,n)}}function QO(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}function Or(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(e)}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cl=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Nl(i,u)})(a,e);var t,n,r=JO(a);function a(){var i;return function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}(this,a),_r(Or(i=r.call(this)),"drag",void 0),_r(Or(i),"isDragging",void 0),_r(Or(i),"isShowAdjustPointTemp",void 0),_r(Or(i),"appendInfo",void 0),_r(Or(i),"onDragStart",function(){var u=i.props.model;u.dragAppendStart(),i.isShowAdjustPointTemp=u.isShowAdjustPoint,u.isShowAdjustPoint=!1}),_r(Or(i),"onDragging",function(u){var p=u.deltaX,h=u.deltaY,O=i.props,_=O.model,j=O.graphModel;i.isDragging=!0;var T=j.transformModel,R=j.editConfigModel,U=ZO(T.fixDeltaXY(p,h),2),W=U[0],ie=U[1],oe=_,de=R.adjustEdgeMiddle;i.appendInfo=de?oe.dragAppendSimple(i.appendInfo,{x:W,y:ie}):oe.dragAppend(i.appendInfo,{x:W,y:ie})}),_r(Or(i),"onDragEnd",function(){var u=i.props,p=u.model,h=u.graphModel.eventCenter,O=p;O.dragAppendEnd(),i.isDragging=!1,O.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,h.emit(tt.EDGE_ADJUST,{data:O.getData()})}),_r(Or(i),"beforeDragStart",function(u,p){p.dragAble&&i.drag.handleMouseDown(u),i.appendInfo=p}),i.drag=new dr({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return t=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,u=i.points,p=i.isAnimation,h=i.arrowConfig,O=i.getEdgeStyle(),_=i.getEdgeAnimationStyle(),j=_.strokeDasharray,T=_.stroke,R=_.strokeDashoffset,U=_.animationName,W=_.animationDuration,ie=_.animationIterationCount,oe=_.animationTimingFunction,de=_.animationDirection;return Object(ee.g)(KO,Dl({points:u},O,h,p?{strokeDasharray:j,stroke:T,style:{strokeDashoffset:R,animationName:U,animationDuration:W,animationIterationCount:ie,animationTimingFunction:oe,animationDirection:de}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,u=i.points,p=i.isSelected,h={start:null,end:null,hover:this.state.hover,isSelected:p},O=Jr(u);return O.length>=2&&(h.start=O[O.length-2],h.end=O[O.length-1]),h}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,u=Jr(i);return u.length>=2?[u[u.length-2],u[u.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var u,p=i.start,h=i.end;if(p.x===h.x&&p.y===h.y)u="";else{var O={start:p,end:h,offset:10,verticalLength:5},_=ri(ru(ru({},O),{},{type:"start"})),j=ri(ru(ru({},O),{},{type:"end"}));u="M".concat(_.leftX," ").concat(_.leftY,` 
      L`).concat(_.rightX," ").concat(_.rightY,` 
      L`).concat(j.rightX," ").concat(j.rightY,`
      L`).concat(j.leftX," ").concat(j.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var u=this.getAppendAttributes(i),p=u.d,h=u.strokeWidth,O=u.fill,_=u.strokeDasharray,j=u.stroke;return Object(ee.g)(vi,{d:p,fill:O,strokeWidth:h,stroke:j,strokeDasharray:_})}},{key:"getAppendWidth",value:function(){for(var i=this,u=this.props,p=u.model,h=u.graphModel,O=p.pointsList,_=p.draggable,j=[],T=O.length,R=function(W){var ie="lf-polyline-append",oe={start:{x:O[W].x,y:O[W].y},end:{x:O[W+1].x,y:O[W+1].y},startIndex:W,endIndex:W+1,direction:"",dragAble:!0},de=Object(ee.g)("g",{className:ie},i.getAppendShape(oe)),me=h.editConfigModel,Ae=me.adjustEdge,Ee=me.adjustEdgeMiddle;if(Ae&&_){var Fe=oe.startIndex,Te=oe.endIndex,Ge=Ee&&(Fe===0||Te===T-1);oe.dragAble=!Ge,oe.start.x===oe.end.x?(oe.dragAble&&(ie+="-ew-resize"),oe.direction=Tt.VERTICAL):oe.start.y===oe.end.y&&(oe.dragAble&&(ie+="-ns-resize"),oe.direction=Tt.HORIZONTAL),de=Object(ee.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(Re){return i.beforeDragStart(Re,oe)}},Object(ee.g)("g",{className:ie},i.getAppendShape(oe)))}j.push(de)},U=0;U<T-1;U++)R(U);return Object(ee.g)("g",null,j)}}])&&qO(t.prototype,n),a}(yi);function Rl(e){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function e_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ry(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ry(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ry(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Il(){return Il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}function t_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ll(e,t){return Ll=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ll(e,t)}function r_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=iu(e);if(t){var a=iu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o_(this,n)}}function o_(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(e)}var zl=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Ll(i,u)})(a,e);var t,n,r=r_(a);function a(){return t_(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,u=i.getEdgeStyle(),p=i.path,h=i.isAnimation,O=i.arrowConfig,_=i.getEdgeAnimationStyle(),j=_.strokeDasharray,T=_.stroke,R=_.strokeDashoffset,U=_.animationName,W=_.animationDuration,ie=_.animationIterationCount,oe=_.animationTimingFunction,de=_.animationDirection;return Object(ee.g)(vi,Il({d:p},u,O,h?{strokeDasharray:j,stroke:T,style:{strokeDashoffset:R,animationName:U,animationDuration:W,animationIterationCount:ie,animationTimingFunction:oe,animationDirection:de}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(ee.g)(vi,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,u=this.state.hover,p=i,h=p.path,O=p.isSelected,_=e_(ld(h),2);return{start:_[0],end:_[1],hover:u,isSelected:O}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.path;return ld(i)}}])&&n_(t.prototype,n),a}(yi);function Bl(e){return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function Iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function i_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gl(e,t){return Gl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gl(e,t)}function s_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=au(e);if(t){var a=au(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c_(this,n)}}function c_(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},au(e)}var l_=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Gl(i,u)})(a,e);var t,n,r=s_(a);function a(){return a_(this,a),r.apply(this,arguments)}return t=a,n=[{key:"getArrowAttributes",value:function(){var i=this.props,u=i.arrowInfo,p=i.style,h=u.start,O=u.end,_={start:h,end:O,offset:p.offset,verticalLength:p.verticalLength,type:"end"},j=ri(_),T=j.leftX,R=j.leftY,U=j.rightX,W=j.rightY;return function(ie){for(var oe=1;oe<arguments.length;oe++){var de=arguments[oe]!=null?arguments[oe]:{};oe%2?Iy(Object(de),!0).forEach(function(me){i_(ie,me,de[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(de)):Iy(Object(de)).forEach(function(me){Object.defineProperty(ie,me,Object.getOwnPropertyDescriptor(de,me))})}return ie}({d:"M".concat(T," ").concat(R," L").concat(O.x," ").concat(O.y," L").concat(U," ").concat(W," z")},p)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),u=i.d,p=i.strokeWidth,h=i.stroke,O=i.fill;return Object(ee.g)(vi,{d:u,fill:O,strokeWidth:p,stroke:h})}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&u_(t.prototype,n),a}(ee.a),Ly=function(e,t){return pe(e,t)},f_=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Hl=function(){return Ye.a.Date.now()},p_=/\s/,d_=function(e){for(var t=e.length;t--&&p_.test(e.charAt(t)););return t},h_=/^\s+/,y_=function(e){return e&&e.slice(0,d_(e)+1).replace(h_,"")},v_=/^[-+]0x[0-9a-f]+$/i,g_=/^0b[01]+$/i,b_=/^0o[0-7]+$/i,m_=parseInt,zy=function(e){if(typeof e=="number")return e;if(ct(e))return NaN;if(kt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=kt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=y_(e);var n=g_.test(e);return n||b_.test(e)?m_(e.slice(2),n?2:8):v_.test(e)?NaN:+e},O_=Math.max,__=Math.min,w_=function(e,t,n){var r,a,i,u,p,h,O=0,_=!1,j=!1,T=!0;if(typeof e!="function")throw new TypeError("Expected a function");function R(me){var Ae=r,Ee=a;return r=a=void 0,O=me,u=e.apply(Ee,Ae)}function U(me){return O=me,p=setTimeout(ie,t),_?R(me):u}function W(me){var Ae=me-h;return h===void 0||Ae>=t||Ae<0||j&&me-O>=i}function ie(){var me=Hl();if(W(me))return oe(me);p=setTimeout(ie,function(Ae){var Ee=t-(Ae-h);return j?__(Ee,i-(Ae-O)):Ee}(me))}function oe(me){return p=void 0,T&&r?R(me):(r=a=void 0,u)}function de(){var me=Hl(),Ae=W(me);if(r=arguments,a=this,h=me,Ae){if(p===void 0)return U(h);if(j)return clearTimeout(p),p=setTimeout(ie,t),R(h)}return p===void 0&&(p=setTimeout(ie,t)),u}return t=zy(t)||0,kt(n)&&(_=!!n.leading,i=(j="maxWait"in n)?O_(zy(n.maxWait)||0,t):i,T="trailing"in n?!!n.trailing:T),de.cancel=function(){p!==void 0&&clearTimeout(p),O=0,r=h=a=p=void 0},de.flush=function(){return p===void 0?u:oe(Hl())},de},x_=o(167);function E_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var By,Gy,Hy,S_=function(){function e(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),zr(this,"undos",[]),zr(this,"redos",[]),zr(this,"callbacks",[]),zr(this,"stopWatch",null),zr(this,"curData",null),zr(this,"maxSize",50),zr(this,"waitTime",100),zr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){Ly(f_(this.undos),r)||(this.undos.push(r),Ly(this.curData,r)||(this.redos=[]),this.eventCenter.emit(tt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=Dt(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Dt(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(x_.a)(r,w_(function(){var i=r.modelToHistoryData();i&&a.add(i)},this.waitTime))}}])&&E_(t.prototype,n),e}();function Xl(e){return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function j_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Xy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(n),!0).forEach(function(r){to(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fl(e,t){return Fl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fl(e,t)}function P_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uu(e);if(t){var a=uu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return M_(this,n)}}function M_(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Do(e)}function Do(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(e)}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yy,Vy,Wy,Ul=Hn((Hy=Gy=function(e){(function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),p&&Fl(u,p)})(i,e);var t,n,r,a=P_(i);function i(){var u;return function(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),to(Do(u=a.call(this)),"ref",Object(ee.f)()),to(Do(u),"__prevText",{type:"",text:"",id:""}),to(Do(u),"keyupHandler",function(p){var h=u.props.graphModel.textEditElement;p.key==="Enter"&&p.altKey&&h.setElementState(0)}),to(Do(u),"inputHandler",function(p){var h=p.target.innerText,O=u.props.graphModel.textEditElement;u.__prevText={type:O.type,text:h.replace(/(\r\n)+$|(\n)+$/,""),id:O.id}}),to(Do(u),"keydownHandler",function(p){p.stopPropagation()}),u.state={style:{left:0,top:0}},u}return t=i,r=[{key:"getDerivedStateFromProps",value:function(u){var p,h=u.graphModel,O=h.transformModel,_=h.theme,j=h.textEditElement;if(j){var T;if((T=j.text)===null||T===void 0||!T.value)if(j.BaseType===Xt.EDGE){var R=(j=j).text,U=j.textPosition,W=U.x,ie=U.y;R.x=W,R.y=ie,j.setText(R)}else j=j;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(j.BaseType===Xt.EDGE){var de=_.edgeText,me=de.overflowMode,Ae=de.lineHeight,Ee=de.wrapPadding,Fe=de.textWidth;Fe&&me==="autoWrap"&&(p=ko(ko({},oe),{},{width:Fe,minWidth:Fe,lineHeight:Ae,padding:Ee}))}else if(j.BaseType===Xt.NODE){var Te=_.nodeText,Ge=Te.overflowMode,Re=Te.lineHeight,lt=Te.wrapPadding,Et=Te.textWidth,mt=j,jt=mt.width,Gt=mt.modelType;(Gt!==ht.TEXT_NODE&&Ge==="autoWrap"||Gt===ht.TEXT_NODE&&Et)&&(p=ko(ko({},oe),{},{width:Et||jt,minWidth:Et||jt,lineHeight:Re,padding:lt}))}var Wt=j.text,fn=Wt.x,ir=Wt.y,Rn=j_(O.CanvasPointToHtmlPoint([fn,ir]),2);return{style:ko({left:Rn[0],top:Rn[1]},p)}}}}],(n=[{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var p=this.__prevText,h=p.text,O=p.id;u.updateText(O,h),u.eventCenter.emit(tt.TEXT_UPDATE,ko({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var p=document.createRange();p.selectNodeContents(u),p.collapse(!1);var h=window.getSelection();h.removeAllRanges(),h.addRange(p)}}},{key:"render",value:function(){var u,p=this.props.graphModel.textEditElement,h=this.state.style;return p?Object(ee.g)("div",{contentEditable:!0,className:"lf-text-input",style:h,ref:this.ref,key:p.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(u=p.text)===null||u===void 0?void 0:u.value):null}}])&&Uy(t.prototype,n),r&&Uy(t,r),i}(ee.a),to(Gy,"toolName","textEdit"),By=Hy))||By,A_=function(e){return e.modelType===ht.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,a=(n.x+r.x)/2,i=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,p=Math.abs(n.y-r.y)+10;return{x:a-u/2,y:i-p/2,x1:a+u/2,y1:i+p/2}}(e):e.modelType===ht.POLYLINE_EDGE?function(t){var n=t.points,r=Jr(n),a=oi(r,8),i=a.x,u=a.y,p=a.width,h=a.height;return{x:i-p/2,y:u-h/2,x1:i+p/2,y1:u+h/2}}(e):e.modelType===ht.BEZIER_EDGE?function(t){var n=t.path,r=ya(n),a=oi(r,8),i=a.x,u=a.y,p=a.width,h=a.height;return{x:i-p/2,y:u-h/2,x1:i+p/2,y1:u+h/2}}(e):void 0};function Yl(e){return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function $y(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,u,p=[],h=!0,O=!1;try{for(a=a.call(n);!(h=(i=a.next()).done)&&(p.push(i.value),!r||p.length!==r);h=!0);}catch(_){O=!0,u=_}finally{try{h||a.return==null||a.return()}finally{if(O)throw u}}return p}}(e,t)||Ky(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T_(e){return function(t){if(Array.isArray(t))return Vl(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Ky(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ky(e,t){if(e){if(typeof e=="string")return Vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vl(e,t):void 0}}function Vl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wl(e,t){return Wl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wl(e,t)}function D_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=su(e);if(t){var a=su(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N_(this,n)}}function N_(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gi(e)}function gi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},su(e)}function bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $l=Hn((Wy=Vy=function(e){(function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),u&&Wl(i,u)})(a,e);var t,n,r=D_(a);function a(i){var u;(function(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,a),bi(gi(u=r.call(this)),"stepDrag",void 0),bi(gi(u),"handleMouseDown",function(_){u.stepDrag.handleMouseDown(_)}),bi(gi(u),"onDragging",function(_){var j=_.deltaX,T=_.deltaY,R=u.props.graphModel,U=R.getSelectElements(!0);R.moveNodes(U.nodes.map(function(W){return W.id}),j,T)}),bi(gi(u),"handleContextMenu",function(_){_.preventDefault();var j=u.props,T=j.graphModel,R=j.graphModel,U=R.eventCenter,W=R.selectElements,ie=T.getPointByClient({x:_.clientX,y:_.clientY}),oe={nodes:[],edges:[]};T_(W.values()).forEach(function(de){de.BaseType===Xt.NODE&&oe.nodes.push(de.getData()),de.BaseType===Xt.EDGE&&oe.edges.push(de.getData())}),U.emit(tt.SELECTION_CONTEXTMENU,{data:oe,e:_,position:ie})});var p=i.graphModel,h=p.gridSize,O=p.eventCenter;return u.stepDrag=new dr({onDragging:u.onDragging,step:h,eventType:"SELECTION",eventCenter:O}),u}return t=a,(n=[{key:"render",value:function(){var i=this.props.graphModel,u=i.selectElements,p=i.transformModel;if(!(u.size<=1)){var h=Number.MAX_SAFE_INTEGER,O=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;u.forEach(function(W){var ie={x:0,y:0,x1:0,y1:0};W.BaseType===Xt.NODE&&(ie=function(oe){var de=oe.x,me=oe.y,Ae=oe.width,Ee=oe.height;return{x:de-Ae/2,y:me-Ee/2,x1:de+Ae/2,y1:me+Ee/2}}(W)),W.BaseType===Xt.EDGE&&(ie=A_(W)),h=Math.min(h,ie.x),O=Math.min(O,ie.y),_=Math.max(_,ie.x1),j=Math.max(j,ie.y1)});var T=$y(p.CanvasPointToHtmlPoint([h,O]),2);h=T[0],O=T[1];var R=$y(p.CanvasPointToHtmlPoint([_,j]),2);_=R[0],j=R[1];var U={left:"".concat(h-10,"px"),top:"".concat(O-10,"px"),width:"".concat(_-h+20,"px"),height:"".concat(j-O+20,"px")};return Object(ee.g)("div",{className:"lf-multiple-select",style:U,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&k_(t.prototype,n),a}(ee.a),bi(Vy,"toolName","multipleSelect"),Yy=Wy))||Yy;function C_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R_=function(){function e(r){(function(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),cu(this,"tools",void 0),cu(this,"components",void 0),cu(this,"toolMap",new Map),cu(this,"instance",void 0),this.instance=r,this.isDisabledTool(Ul.toolName)||this.registerTool(Ul.toolName,Ul),this.isDisabledTool($l.toolName)||this.registerTool($l.toolName,$l);var a=r.graphModel;a.eventCenter.on("".concat(tt.GRAPH_TRANSFORM,",").concat(tt.NODE_CLICK,",").concat(tt.BLANK_CLICK," "),function(){var i=a.textEditElement,u=a.editConfigModel,p=u.edgeTextEdit,h=u.nodeTextEdit;(p||h)&&i&&a.textEditElement.setElementState(_t.DEFAULT)})}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&C_(t.prototype,n),e}(),I_=o(168),L_=o.n(I_);function z_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zy=function(){function e(r){(function(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Kl(this,"mousetrap",void 0),Kl(this,"options",void 0),Kl(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new L_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(qt(a))a.forEach(function(h){var O=h.keys,_=h.callback,j=h.action;return r.on(O,_,j)});else{var i=a.keys,u=a.callback,p=a.action;this.on(i,u,p)}}},{key:"on",value:function(r,a,i){this.mousetrap.bind(this.getKeys(r),a,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(i){return a.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&z_(t.prototype,n),e}(),B_=Zy,wr=null;function qy(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Jy(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Zl(e){return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qy(Object(n),!0).forEach(function(r){Bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ev(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ql=function(){function e(a){var i,u,p=this;(function(h,O){if(!(h instanceof O))throw new TypeError("Cannot call a class as a function")})(this,e),Bt(this,"container",void 0),Bt(this,"width",void 0),Bt(this,"height",void 0),Bt(this,"graphModel",void 0),Bt(this,"history",void 0),Bt(this,"viewMap",new Map),Bt(this,"tool",void 0),Bt(this,"keyboard",void 0),Bt(this,"dnd",void 0),Bt(this,"options",void 0),Bt(this,"snaplineModel",void 0),Bt(this,"components",[]),Bt(this,"plugins",void 0),Bt(this,"extension",{}),Bt(this,"adapterIn",void 0),Bt(this,"adapterOut",void 0),Bt(this,"getView",function(h){return p.viewMap.get(h)}),a=eh(a),this.options=a,this.container=this.initContainer(a.container),this.plugins=a.plugins,this.graphModel=new Vb(mi({},a)),this.tool=new R_(this),this.history=new S_(this.graphModel.eventCenter),this.dnd=new Xm({lf:this}),this.keyboard=new B_({lf:this,keyboard:a.keyboard}),a.snapline!==!1&&(this.snaplineModel=new ly(this.graphModel),i=this.graphModel.eventCenter,u=this.snaplineModel,i.on("node:mousemove",function(h){var O=h.data;u.setNodeSnapLine(O)}),i.on("node:mouseup",function(){u.clearSnapline()})),function(h,O){var _=h.keyboard,j=_.options.keyboard;_.on(["cmd + c","ctrl + c"],function(){if(!j.enabled||O.textEditElement)return!0;var T=h.options.guards,R=O.getSelectElements(!1);return T&&T.beforeClone&&!T.beforeClone(R)||R.nodes.length===0&&R.edges.length===0?(wr=null,!0):((wr=R).nodes.forEach(function(U){return qy(U,40)}),wr.edges.forEach(function(U){return Jy(U,40)}),!1)}),_.on(["cmd + v","ctrl + v"],function(){if(!j.enabled||O.textEditElement)return!0;if(wr&&(wr.nodes||wr.edges)){h.clearSelectElements();var T=h.addElements(wr);if(!T)return!0;T.nodes.forEach(function(R){return h.selectElementById(R.id,!0)}),T.edges.forEach(function(R){return h.selectElementById(R.id,!0)}),wr.nodes.forEach(function(R){return qy(R,40)}),wr.edges.forEach(function(R){return Jy(R,40)})}return!1}),_.on(["cmd + z","ctrl + z"],function(){return!j.enabled||!!O.textEditElement||(h.undo(),!1)}),_.on(["cmd + y","ctrl + y"],function(){return!j.enabled||!!O.textEditElement||(h.redo(),!1)}),_.on(["backspace"],function(){if(!j.enabled||O.textEditElement)return!0;var T=O.getSelectElements(!0);return h.clearSelectElements(),T.edges.forEach(function(R){return h.deleteEdge(R.id)}),T.nodes.forEach(function(R){return h.deleteNode(R.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var t,n,r;return t=e,n=[{key:"register",value:function(a,i){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var p={BaseEdge:yi,BaseEdgeModel:fs,BaseNode:br,BaseNodeModel:gr,RectNode:Uc,RectNodeModel:Ec,CircleNode:$c,CircleNodeModel:ic,PolygonNode:Qc,PolygonNodeModel:Oc,TextNode:fl,TextNodeModel:Mc,LineEdge:Al,LineEdgeModel:vs,DiamondNode:rl,DiamondNodeModel:lc,PolylineEdge:Cl,PolylineEdgeModel:Os,BezierEdge:zl,BezierEdgeModel:Qs,EllipseNode:sl,EllipseNodeModel:hc,HtmlNode:yl,HtmlNodeModel:kc,h:ee.g,type:a};this.viewMap.forEach(function(T){var R=T.extendKey;R&&(p[R]=T)}),this.graphModel.modelMap.forEach(function(T){var R=T.extendKey;R&&(p[R]=T)});var h=i(p),O=h.view,_=h.model,j=O;u&&!j.isObervered&&(j.isObervered=!0,j=Xe(j)),this.setView(a,j),this.graphModel.setModel(a,_)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var i=a.view;a.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=Xe(i)),this.setView(a.type,i),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(u){a.registerElement(u)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Uc,model:Ec,type:"rect"}),this.registerElement({type:"circle",view:$c,model:ic}),this.registerElement({type:"polygon",view:Qc,model:Oc}),this.registerElement({type:"line",view:Al,model:vs}),this.registerElement({type:"polyline",view:Cl,model:Os}),this.registerElement({type:"bezier",view:zl,model:Qs}),this.registerElement({type:"text",view:fl,model:Mc}),this.registerElement({type:"ellipse",view:sl,model:hc}),this.registerElement({type:"diamond",view:rl,model:lc}),this.registerElement({type:"html",view:yl,model:kc})}},{key:"selectElementById",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(a,i),!i&&u&&this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var i=this.graphModel.transformModel,u=a.coordinate,p=a.id;if(!u){var h=this.getNodeModelById(p);h&&(u=h.getData());var O=this.getEdgeModelById(p);O&&(u=O.textPosition)}var _=u,j=_.x,T=_.y;i.focusOn(j,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,i){this.graphModel.resize(a,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,i){this.graphModel.updateText(a,i)}},{key:"deleteElement",value:function(a){var i,u,p,h=this.getModelById(a);return!!h&&(u=(p=(Bt(i={},Xt.NODE,this.deleteNode),Bt(i,Xt.EDGE,this.deleteEdge),i)[h.BaseType])===null||p===void 0?void 0:p.call(this,a))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(a,i){this.graphModel.changeNodeType(a,i)}},{key:"changeEdgeType",value:function(a,i){this.graphModel.changeEdgeType(a,i)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt.NODE_ADD,u=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(a,i,u)}},{key:"deleteNode",value:function(a){var i=this.graphModel.getNodeModelById(a);if(!i)return!1;var u=i.getData(),p=this.options.guards,h=!p||!p.beforeDelete||p.beforeDelete(u);return h&&this.graphModel.deleteNode(a),h}},{key:"cloneNode",value:function(a){var i=this.graphModel.getNodeModelById(a).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(i))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,i){return this.graphModel.changeNodeId(a,i)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){var i;return(i=this.graphModel.getNodeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var i=this.options.guards,u=this.graphModel.edgesMap[a];if(!u)return!1;var p=u.model.getData(),h=!i||!i.beforeDelete||i.beforeDelete(p);return h&&this.graphModel.deleteEdgeById(a),h}},{key:"deleteEdgeByNodeId",value:function(a){var i=a.sourceNodeId,u=a.targetNodeId;i&&u?this.graphModel.deleteEdgeBySourceAndTarget(i,u):i?this.graphModel.deleteEdgeBySource(i):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(a,i){return this.graphModel.changeEdgeId(a,i)}},{key:"getEdgeModelById",value:function(a){var i;return(i=this.graphModel.edgesMap[a])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(a){var i=this.graphModel.edges,u=a.sourceNodeId,p=a.targetNodeId;if(u&&p){var h=[];return i.forEach(function(j){j.sourceNodeId===u&&j.targetNodeId===p&&h.push(j)}),h}if(u){var O=[];return i.forEach(function(j){j.sourceNodeId===u&&O.push(j)}),O}if(p){var _=[];return i.forEach(function(j){j.targetNodeId===p&&_.push(j)}),_}return[]}},{key:"getEdgeDataById",value:function(a){var i;return(i=this.getEdgeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,i){var u;(u=this.graphModel.getElement(a))===null||u===void 0||u.setProperties(en(i))}},{key:"deleteProperty",value:function(a,i){var u;(u=this.graphModel.getElement(a))===null||u===void 0||u.deleteProperty(i)}},{key:"getProperties",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,i){return this.graphModel.setElementZIndex(a,i)}},{key:"addElements",value:function(a){for(var i=this,u=a.nodes,p=a.edges,h={},O={nodes:[],edges:[]},_=0;_<u.length;_++){var j=u[_],T=j.id,R=this.addNode(j);if(!R)return;T&&(h[T]=R.id),O.nodes.push(R)}return p.forEach(function(U){var W=U.sourceNodeId,ie=U.targetNodeId;h[W]&&(W=h[W]),h[ie]&&(ie=h[ie]);var oe=i.graphModel.addEdge(mi(mi({},U),{},{sourceNodeId:W,targetNodeId:ie}));O.edges.push(oe)}),O}},{key:"getAreaElement",value:function(a,i){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(a,i,u,p,h).map(function(O){return O.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,u=new Array(i),p=0;p<i;p++)u[p]=arguments[p];return this.adapterOut.apply(this,[a].concat(u))}return a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){this.graphModel.editConfigModel.updateEditConfig(a)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,i){return this.graphModel.getPointByClient({x:a,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=en(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=en(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,i){return this.graphModel.transformModel.zoom(a,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,i){this.graphModel.transformModel.translate(a,i)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,i=a.TRANSLATE_X,u=a.TRANSLATE_Y;this.translate(-i,-u)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,i){i===void 0&&(i=a),this.graphModel.fitView(a,i)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,i){this.graphModel.eventCenter.on(a,i)}},{key:"off",value:function(a,i){this.graphModel.eventCenter.off(a,i)}},{key:"once",value:function(a,i){this.graphModel.eventCenter.once(a,i)}},{key:"emit",value:function(a,i){this.graphModel.eventCenter.emit(a,i)}},{key:"initContainer",value:function(a){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",a.innerHTML="",a.appendChild(i),i}},{key:"installPlugins",value:function(){var a,i=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=(a=this.plugins)!==null&&a!==void 0?a:e.extensions;p.forEach(function(h){var O=h.pluginName||h.name;u.indexOf(O)===-1&&i.installPlugin(h)})}},{key:"installPlugin",value:function(a){if(Zl(a)==="object"){var i=a.install,u=a.render;return i&&i.call(a,this,e),u&&this.components.push(u.bind(a)),void(this.extension[a.pluginName]=a)}var p=a,h=new p({lf:this,LogicFlow:e,options:this.options.pluginsOptions});h.render&&this.components.push(h.render.bind(h)),this.extension[p.pluginName]=h}},{key:"updateAttributes",value:function(a,i){this.graphModel.updateAttributes(a,i)}},{key:"createFakerNode",value:function(a){var i=this.graphModel.modelMap.get(a.type);if(i){var u=new i(mi(mi({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,i){this.viewMap.set(a,i)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(en(a)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ee.j)(Object(ee.g)(Gm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(tt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}],r=[{key:"use",value:function(a){var i=a.pluginName;i||(i=a.name);var u=this.extensions.get(i);u&&u.destroy&&u.destroy(),this.extensions.set(i,a)}}],n&&ev(t.prototype,n),r&&ev(t,r),e}();function Hn(e){return Xe(e)}Bt(ql,"extensions",new Map),f.default=ql}])})})(Ql,Ql.exports);var Ie=Ql.exports,Mv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),V_=function(v){Mv(d,v);function d(s,f){var o=this;return s.id||(s.id="Event_"+Xn()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=v.call(this,s,f)||this,o}return d.prototype.setAttributes=function(){this.r=18},d.prototype.getConnectedTargetRules=function(){var s=v.prototype.getConnectedTargetRules.call(this),f={message:"起始节点不能作为边的终点",validate:function(){return!1}};return s.push(f),s},d.extendKey="StartEventModel",d}(Ie.CircleNodeModel),W_=function(v){Mv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.extendKey="StartEventNode",d}(Ie.CircleNode),Av=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),bu=globalThis&&globalThis.__assign||function(){return bu=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},bu.apply(this,arguments)},$_=function(v){Av(d,v);function d(s,f){var o=this;return s.id||(s.id="Event_"+Xn()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=v.call(this,s,f)||this,o}return d.prototype.setAttributes=function(){this.r=18},d.prototype.getConnectedSourceRules=function(){var s=v.prototype.getConnectedSourceRules.call(this),f={message:"结束节点不能作为边的起点",validate:function(){return!1}};return s.push(f),s},d.extendKey="EndEventModel",d}(Ie.CircleNodeModel),K_=function(v){Av(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},d.prototype.getShape=function(){var s=this.props.model,f=s.getNodeStyle(),o=s.x,l=s.y,c=s.r,g=v.prototype.getShape.call(this);return Ie.h("g",{},g,Ie.h("circle",bu(bu({},f),{cx:o,cy:l,r:c-5})))},d.extendKey="EndEventView",d}(Ie.CircleNode),Tv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),xi=globalThis&&globalThis.__assign||function(){return xi=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},xi.apply(this,arguments)},Z_=function(v){Tv(d,v);function d(s,f){var o=this;return s.id||(s.id="Gateway_"+Xn()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=v.call(this,s,f)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return d.extendKey="ExclusiveGatewayModel",d}(Ie.PolygonNodeModel),q_=function(v){Tv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,l=s.width,c=s.height,g=s.points,m=s.getNodeStyle();return Ie.h("g",{transform:"matrix(1 0 0 1 "+(f-l/2)+" "+(o-c/2)+")"},Ie.h("polygon",xi(xi({},m),{x:f,y:o,points:g})),Ie.h("path",xi({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},m)))},d.extendKey="ExclusiveGatewayNode",d}(Ie.PolygonNode),kv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),mu=globalThis&&globalThis.__assign||function(){return mu=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},mu.apply(this,arguments)},J_=function(v){kv(d,v);function d(s,f){var o=this;return s.id||(s.id="Activity_"+Xn()),o=v.call(this,s,f)||this,o}return d.extendKey="UserTaskModel",d}(Ie.RectNodeModel),Q_=function(v){kv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.getLabelShape=function(){var s=this.props.model,f=s.x,o=s.y,l=s.width,c=s.height,g=s.getNodeStyle();return Ie.h("svg",{x:f-l/2+5,y:o-c/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ie.h("path",{fill:g.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},d.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,l=s.width,c=s.height,g=s.radius,m=s.getNodeStyle();return Ie.h("g",{},[Ie.h("rect",mu(mu({},m),{x:f-l/2,y:o-c/2,rx:g,ry:g,width:l,height:c})),this.getLabelShape()])},d.extendKey="UserTaskNode",d}(Ie.RectNode),Dv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),ef=globalThis&&globalThis.__assign||function(){return ef=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},ef.apply(this,arguments)},ew=function(v){Dv(d,v);function d(s,f){var o=this;return s.id||(s.id="Activity_"+Xn()),o=v.call(this,s,f)||this,o}return d.extendKey="ServiceTaskModel",d}(Ie.RectNodeModel),tw=function(v){Dv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.getLabelShape=function(){var s=this.props.model,f=s.x,o=s.y,l=s.width,c=s.height,g=s.getNodeStyle();return Ie.h("svg",{x:f-l/2+5,y:o-c/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ie.h("path",{fill:g.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},d.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,l=s.width,c=s.height,g=s.radius,m=s.getNodeStyle();return Ie.h("g",{},[Ie.h("rect",ef({x:f-l/2,y:o-c/2,rx:g,ry:g,width:l,height:c},m)),this.getLabelShape()])},d.extendKey="ServiceTaskNode",d}(Ie.RectNode),Nv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Cv=function(v){Nv(d,v);function d(s,f){var o=this;return s.id||(s.id="Flow_"+Xn()),o=v.call(this,s,f)||this,o}return d.extendKey="SequenceFlowModel",d}(Ie.PolylineEdgeModel),Rv=function(v){Nv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.extendKey="SequenceFlowEdge",d}(Ie.PolylineEdge),ov={width:40,height:40},iv={width:40,height:40},av={width:40,height:40},uv={width:100,height:80},sv={width:100,height:80},nw=new U_([32,32,1]);function cv(){return nw.next()}function Iv(v){return Object.prototype.toString.call(v)}function rw(v){return"  ".repeat(v)}function Ou(v){var d=v;return Iv(v)==="[object Object]"?(d={},Object.keys(v).forEach(function(s){var f=s;s.charAt(0)==="-"&&(f=s.substring(1)),d[f]=Ou(v[s])})):Array.isArray(v)&&(d=[],v.forEach(function(s,f){d[f]=Ou(s)})),d}function ow(v){var d=v;try{typeof d!="string"&&(d=JSON.parse(v))}catch{d=JSON.stringify(Ou(v)).replace(/"/g,"'")}return d}var Co=`	
`;function yu(v,d,s){var f=rw(s),o="";if(d==="#text")return Co+f+v;if(d==="#cdata-section")return Co+f+"<![CDATA["+v+"]]>";if(d==="#comment")return Co+f+"<!--"+v+"-->";if((""+d).charAt(0)==="-")return" "+d.substring(1)+'="'+ow(v)+'"';if(Array.isArray(v))v.forEach(function(m){o+=yu(m,d,s+1)});else if(Iv(v)==="[object Object]"){var l=Object.keys(v),c="",g="";o+=(s===0?"":Co+f)+"<"+d,l.forEach(function(m){m.charAt(0)==="-"?c+=yu(v[m],m,s+1):g+=yu(v[m],m,s+1)}),o+=c+(g!==""?">"+g+(Co+f)+"</"+d+">":" />")}else o+=Co+f+("<"+d+">"+v.toString()+"</"+d+">");return o}function iw(v){var d="";for(var s in v)d+=yu(v[s],s,0);return d}var pn=function(){};pn.ObjTree=function(){return this};pn.ObjTree.VERSION="0.23";pn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;pn.ObjTree.prototype.attr_prefix="-";pn.ObjTree.prototype.parseXML=function(v){var d;if(window.DOMParser){var s=new DOMParser,f=s.parseFromString(v,"application/xml");if(!f)return;d=f.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(v),d=s.documentElement);if(d)return this.parseDOM(d)};pn.ObjTree.prototype.parseHTTP=function(v,d,s){var f={};for(var o in d)f[o]=d[o];if(f.method||(typeof f.postBody>"u"&&typeof f.postbody>"u"&&typeof f.parameters>"u"?f.method="get":f.method="post"),s){f.asynchronous=!0;var l=this,c=s,g=f.onComplete;f.onComplete=function(S){var E;S&&S.responseXML&&S.responseXML.documentElement&&(E=l.parseDOM(S.responseXML.documentElement)),c(E,S),g&&g(S)}}else f.asynchronous=!1;var m;if(typeof HTTP<"u"&&HTTP.Request){f.uri=v;var w=new HTTP.Request(f);w&&(m=w.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var w=new Ajax.Request(v,f);w&&(m=w.transport)}if(s)return m;if(m&&m.responseXML&&m.responseXML.documentElement)return this.parseDOM(m.responseXML.documentElement)};pn.ObjTree.prototype.parseDOM=function(v){if(v){if(this.__force_array={},this.force_array)for(var d=0;d<this.force_array.length;d++)this.__force_array[this.force_array[d]]=1;var s=this.parseElement(v);if(this.__force_array[v.nodeName]&&(s=[s]),v.nodeType!=11){var f={};f[v.nodeName]=s,s=f}return s}};pn.ObjTree.prototype.parseElement=function(v){if(v.nodeType!=7){if(v.nodeType==3||v.nodeType==4||v.nodeType==8){var d=v.nodeValue.match(/[^\x00-\x20]/);return d==null?void 0:v.nodeValue}var s=null,f={};if(v.attributes&&v.attributes.length){s={};for(var o=0;o<v.attributes.length;o++){var l=v.attributes[o].nodeName;if(typeof l=="string"){var c=v.attributes[o].nodeValue;try{c=JSON.parse(v.attributes[o].nodeValue.replace(/'/g,'"'))}catch{c=v.attributes[o].nodeValue}c&&(l=this.attr_prefix+l,typeof f[l]>"u"&&(f[l]=0),f[l]++,this.addNode(s,l,f[l],c))}}}if(v.childNodes&&v.childNodes.length){var g=!0;s&&(g=!1);for(var o=0;o<v.childNodes.length&&g;o++){var m=v.childNodes[o].nodeType;m==3||m==4||m==8||(g=!1)}if(g){s||(s="");for(var o=0;o<v.childNodes.length;o++)s+=v.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<v.childNodes.length;o++){var l=v.childNodes[o].nodeName;if(typeof l=="string"){var c=this.parseElement(v.childNodes[o]);c&&(typeof f[l]>"u"&&(f[l]=0),f[l]++,this.addNode(s,l,f[l],c))}}}}else s===null&&(s={});return s}};pn.ObjTree.prototype.addNode=function(v,d,s,f){this.__force_array[d]?(s==1&&(v[d]=[]),v[d][v[d].length]=f):s==1?v[d]=f:s==2?v[d]=[v[d],f]:v[d][v[d].length]=f};pn.ObjTree.prototype.writeXML=function(v){var d=this.hash_to_xml(null,v);return this.xmlDecl+d};pn.ObjTree.prototype.hash_to_xml=function(v,d){var s=[],f=[];for(var o in d)if(d.hasOwnProperty(o)){var l=d[o];o.charAt(0)!=this.attr_prefix?typeof l>"u"||l==null?s[s.length]="<"+o+" />":typeof l=="object"&&l.constructor==Array?s[s.length]=this.array_to_xml(o,l):typeof l=="object"?s[s.length]=this.hash_to_xml(o,l):s[s.length]=this.scalar_to_xml(o,l):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(l)+'"'}var c=f.join(""),g=s.join("");return typeof v>"u"||v==null||(s.length>0?g.match(/\n/)?g="<"+v+c+`>
`+g+"</"+v+`>
`:g="<"+v+c+">"+g+"</"+v+`>
`:g="<"+v+c+` />
`),g};pn.ObjTree.prototype.array_to_xml=function(v,d){for(var s=[],f=0;f<d.length;f++){var o=d[f];typeof o>"u"||o==null?s[s.length]="<"+v+" />":typeof o=="object"&&o.constructor==Array?s[s.length]=this.array_to_xml(v,o):typeof o=="object"?s[s.length]=this.hash_to_xml(v,o):s[s.length]=this.scalar_to_xml(v,o)}return s.join("")};pn.ObjTree.prototype.scalar_to_xml=function(v,d){return v=="#text"?this.xml_escape(d):"<"+v+">"+this.xml_escape(d)+"</"+v+`>
`};pn.ObjTree.prototype.xml_escape=function(v){return v.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var aw=function(v){return new pn.ObjTree().parseXML(v)},uw=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),tf=globalThis&&globalThis.__assign||function(){return tf=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},tf.apply(this,arguments)},Pu=globalThis&&globalThis.__read||function(v,d){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),o,l=[],c;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)l.push(o.value)}catch(g){c={error:g}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return l},ar;(function(v){v.START="bpmn:startEvent",v.END="bpmn:endEvent",v.GATEWAY="bpmn:exclusiveGateway",v.USER="bpmn:userTask",v.SYSTEM="bpmn:serviceTask",v.FLOW="bpmn:sequenceFlow"})(ar||(ar={}));var Lv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],lv=["properties","startPoint","endPoint","pointsList"];function fv(v){var d=v?lv.concat(v):lv;return function(s){function f(o){var l={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(c){return f(c)}):(Object.entries(o).forEach(function(c){var g=Pu(c,2),m=g[0],w=g[1];typeof w!="object"?m.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(m)?l[m]=w:l["-"+m]=w:d.includes(m)?l["-"+m]=f(w):l[m]=f(w)}),l)}return f(s)}}function _u(v){var d={};return Object.entries(v).forEach(function(s){var f=Pu(s,2),o=f[0],l=f[1];o.indexOf("-")===0?d[o.substring(1)]=Ou(l):typeof l=="string"?d[o]=l:Object.prototype.toString.call(l)==="[object Object]"?d[o]=_u(l):Array.isArray(l)?d[o]=l.map(function(c){return _u(c)}):d[o]=l}),d}function sw(v,d,s){var f=new Map;d.nodes.forEach(function(l){var c,g={"-id":l.id};if(!((c=l.text)===null||c===void 0)&&c.value&&(g["-name"]=l.text.value),l.properties){var m=fv(s)(l.properties);Object.assign(g,m)}f.set(l.id,g),v[l.type]?Array.isArray(v[l.type])?v[l.type].push(g):v[l.type]=[v[l.type],g]:v[l.type]=g});var o=d.edges.map(function(l){var c,g,m=f.get(l.targetNodeId);m["bpmn:incoming"]?Array.isArray(m["bpmn:incoming"])?m["bpmn:incoming"].push(l.id):m["bpmn:incoming"]=[m["bpmn:incoming"],l.id]:m["bpmn:incoming"]=l.id;var w={"-id":l.id,"-sourceRef":l.sourceNodeId,"-targetRef":l.targetNodeId};if(!((c=l.text)===null||c===void 0)&&c.value&&(w["-name"]=(g=l.text)===null||g===void 0?void 0:g.value),l.properties){var S=fv(s)(l.properties);Object.assign(w,S)}return w});d.edges.forEach(function(l){var c=f.get(l.sourceNodeId);c["bpmn:outgoing"]?Array.isArray(c["bpmn:outgoing"])?c["bpmn:outgoing"].push(l.id):c["bpmn:outgoing"]=[c["bpmn:outgoing"],l.id]:c["bpmn:outgoing"]=l.id}),v[ar.FLOW]=o}function cw(v,d){v["bpmndi:BPMNEdge"]=d.edges.map(function(s){var f,o=s.id,l=s.pointsList.map(function(g){var m=g.x,w=g.y;return{"-x":m,"-y":w}}),c={"-id":o+"_di","-bpmnElement":o,"di:waypoint":l};return!((f=s.text)===null||f===void 0)&&f.value&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),c}),v["bpmndi:BPMNShape"]=d.nodes.map(function(s){var f,o=s.id,l=100,c=80,g=s.x,m=s.y,w=Xr.shapeConfigMap.get(s.type);w&&(l=w.width,c=w.height),g-=l/2,m-=c/2;var S={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":g,"-y":m,"-width":l,"-height":c}};return!((f=s.text)===null||f===void 0)&&f.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),S})}function lw(v){var d=[],s=[],f=v["bpmn:definitions"];if(f){var o=f["bpmn:process"];Object.keys(o).forEach(function(l){if(l.indexOf("bpmn:")===0){var c=o[l];if(l===ar.FLOW){var g=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=pw(c,g)}else{var m=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];d=d.concat(fw(c,m,l))}}})}return{nodes:d,edges:s}}function fw(v,d,s){var f=[];if(Array.isArray(v))v.forEach(function(c){var g;Array.isArray(d)?g=d.find(function(w){return w["-bpmnElement"]===c["-id"]}):g=d;var m=pv(g,s,c);f.push(m)});else{var o=void 0;Array.isArray(d)?o=d.find(function(c){return c["-bpmnElement"]===v["-id"]}):o=d;var l=pv(o,s,v);f.push(l)}return f}function pv(v,d,s){var f=Number(v["dc:Bounds"]["-x"]),o=Number(v["dc:Bounds"]["-y"]),l=s["-name"],c=Xr.shapeConfigMap.get(d);c&&(f+=c.width/2,o+=c.height/2);var g;Object.entries(s).forEach(function(E){var M=Pu(E,2),P=M[0],A=M[1];Lv.indexOf(P)===-1&&(g||(g={}),g[P]=A)}),g&&(g=_u(g));var m;if(l&&(m={x:f,y:o,value:l},v["bpmndi:BPMNLabel"]&&v["bpmndi:BPMNLabel"]["dc:Bounds"])){var w=v["bpmndi:BPMNLabel"]["dc:Bounds"];m.x=Number(w["-x"])+Number(w["-width"])/2,m.y=Number(w["-y"])+Number(w["-height"])/2}var S={id:v["-bpmnElement"],type:d,x:f,y:o,properties:g};return m&&(S.text=m),S}function pw(v,d){var s=[];if(Array.isArray(v))v.forEach(function(o){var l;Array.isArray(d)?l=d.find(function(c){return c["-bpmnElement"]===o["-id"]}):l=d,s.push(dv(l,o))});else{var f=void 0;Array.isArray(d)?f=d.find(function(o){return o["-bpmnElement"]===v["-id"]}):f=d,s.push(dv(f,v))}return s}function dv(v,d){var s,f=d["-name"];if(f){var o=v["bpmndi:BPMNLabel"]["dc:Bounds"],l=0;f.split(`
`).forEach(function(m){l<m.length&&(l=m.length)}),s={value:f,x:Number(o["-x"])+l*10/2,y:Number(o["-y"])+7}}var c;Object.entries(d).forEach(function(m){var w=Pu(m,2),S=w[0],E=w[1];Lv.indexOf(S)===-1&&(c||(c={}),c[S]=E)}),c&&(c=_u(c));var g={id:d["-id"],type:ar.FLOW,pointsList:v["di:waypoint"].map(function(m){return{x:Number(m["-x"]),y:Number(m["-y"])}}),sourceNodeId:d["-sourceRef"],targetNodeId:d["-targetRef"],properties:c};return s&&(g.text=s),g}var Xr=function(){function v(d){var s=this,f=d.lf;this.adapterOut=function(o,l){var c=tf({},s.processAttributes);sw(c,o,l);var g={"-id":"BPMNPlane_1","-bpmnElement":c["-id"]};cw(g,o);var m=s.definitionAttributes;m["bpmn:process"]=c,m["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":g};var w={"bpmn:definitions":m};return w},this.adapterIn=function(o){if(o)return lw(o)},f.adapterIn=function(o){return s.adapterIn(o)},f.adapterOut=function(o,l){return s.adapterOut(o,l)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+cv()},this.definitionAttributes={"-id":"Definitions_"+cv(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return v.prototype.setCustomShape=function(d,s){v.shapeConfigMap.set(d,s)},v.pluginName="bpmn-adapter",v.shapeConfigMap=new Map,v}();Xr.shapeConfigMap.set(ar.START,{width:ov.width,height:ov.height});Xr.shapeConfigMap.set(ar.END,{width:iv.width,height:iv.height});Xr.shapeConfigMap.set(ar.GATEWAY,{width:av.width,height:av.height});Xr.shapeConfigMap.set(ar.SYSTEM,{width:uv.width,height:uv.height});Xr.shapeConfigMap.set(ar.USER,{width:sv.width,height:sv.height});(function(v){uw(d,v);function d(s){var f=v.call(this,s)||this;f.adapterXmlIn=function(l){var c=aw(l);return f.adapterIn(c)},f.adapterXmlOut=function(l,c){var g=f.adapterOut(l,c);return iw(g)};var o=s.lf;return o.adapterIn=f.adapterXmlIn,o.adapterOut=f.adapterXmlOut,f}return d.pluginName="bpmnXmlAdapter",d})(Xr);var hv=globalThis&&globalThis.__assign||function(){return hv=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},hv.apply(this,arguments)};globalThis&&globalThis.__read;var zo;(function(v){v.HORIZONTAL="horizontal",v.VERTICAL="vertical"})(zo||(zo={}));var dw=function(v,d,s,f){f===void 0&&(f=0);var o=yw(v,d,s);return o<=f};function yv(v){return v*v}function Jl(v,d){return yv(v.x-d.x)+yv(v.y-d.y)}var hw=function(v,d,s){var f=Jl(d,s);if(f===0)return Jl(v,d);var o=((v.x-d.x)*(s.x-d.x)+(v.y-d.y)*(s.y-d.y))/f;return o=Math.max(0,Math.min(1,o)),Jl(v,{x:d.x+o*(s.x-d.x),y:d.y+o*(s.y-d.y)})},yw=function(v,d,s){return Math.sqrt(hw(v,d,s))},vw=function(v){var d=v.x,s=v.y,f=v.width,o=v.height,l={minX:d-f/2,minY:s-o/2,maxX:d+f/2,maxY:s+o/2,x:d,y:s,width:f,height:o,centerX:d,centerY:s};return l},gw=function(v,d){var s;return v.x===d.x?s=zo.VERTICAL:v.y===d.y&&(s=zo.HORIZONTAL),s},bw=function(v,d,s){var f=vw(v),o=gw(d,s),l=Math.max(d.x,s.x),c=Math.min(d.x,s.x),g=Math.max(d.y,s.y),m=Math.min(d.y,s.y),w=v.x,S=v.y,E=v.width,M=v.height;if(o===zo.HORIZONTAL){if(l>=f.maxX&&c<=f.minX)return{startCrossPoint:{x:d.x>s.x?w+E/2:w-E/2,y:d.y},endCrossPoint:{x:d.x>s.x?w-E/2:w+E/2,y:d.y}}}else if(o===zo.VERTICAL&&g>=f.maxY&&m<=f.minY)return{startCrossPoint:{x:d.x,y:d.y>s.y?S+M/2:S-M/2},endCrossPoint:{x:d.x,y:d.y>s.y?S-M/2:S+M/2}}},mw=function(v,d,s){s===void 0&&(s=0);for(var f=v.x,o=v.y,l=d.pointsList,c=0;c<l.length-1;c++)if(dw({x:f,y:o},l[c],l[c+1],s)){var g=bw(v,l[c],l[c+1]);if(g)return{crossIndex:c+1,crossPoints:g}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Ow=globalThis&&globalThis.__read||function(v,d){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),o,l=[],c;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)l.push(o.value)}catch(g){c={error:g}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return l},vv=globalThis&&globalThis.__spread||function(){for(var v=[],d=0;d<arguments.length;d++)v=v.concat(Ow(arguments[d]));return v},A1=function(){function v(d){var s=d.lf;this._lf=s,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return v.prototype.eventHandler=function(){var d=this;this.dndAdd&&this._lf.on("node:dnd-add",function(s){var f=s.data;d.insetNode(f)}),this.dropAdd&&this._lf.on("node:drop",function(s){for(var f=s.data,o=d._lf.graphModel.edges,l=f.id,c=!0,g=0;g<o.length;g++)if(o[g].sourceNodeId===l||o[g].targetNodeId===l){c=!1;break}c&&d.insetNode(f)})},v.prototype.checkRuleBeforeInsetNode=function(d,s,f,o,l){var c=this._lf.getNodeModelById(d),g=this._lf.getNodeModelById(s),m=c.getAnchorInfo(f),w=g.getAnchorInfo(o),S=c.isAllowConnectedAsSource(l,m,w),E=g.isAllowConnectedAsTarget(l,m,w),M=Ie.formateAnchorConnectValidateData(S),P=M.isAllPass,A=M.msg,k=Ie.formateAnchorConnectValidateData(E),C=k.isAllPass,I=k.msg;return{isPass:P&&C,sourceMsg:A,targetMsg:I}},v.prototype.insetNode=function(d){for(var s=this,f=this._lf.graphModel.edges,o=this._lf.getNodeModelById(d.id),l=0;l<f.length;l++){var c=mw(o,f[l],this.deviation),g=c.crossIndex,m=c.crossPoints;if(g>=0){var w=f[l],S=w.sourceNodeId,E=w.targetNodeId,M=w.id,P=w.type,A=w.pointsList,k=w.sourceAnchorId,C=w.targetAnchorId,I=hu(A[0]),H=hu(m.startCrossPoint);this._lf.deleteEdge(M);var Z=this.checkRuleBeforeInsetNode(S,E,k,C,d);if(this._lf.addEdge({type:P,sourceNodeId:S,targetNodeId:d.id,startPoint:I,endPoint:H,pointsList:vv(A.slice(0,g),[m.startCrossPoint])}),this._lf.addEdge({type:P,sourceNodeId:d.id,targetNodeId:E,startPoint:hu(m.endCrossPoint),endPoint:hu(A[A.length-1]),pointsList:vv([m.endCrossPoint],A.slice(g))}),Z.isPass)break;this._lf.graphModel.eventCenter.emit(Ie.EventType.CONNECTION_NOT_ALLOWED,{data:d,msg:Z.targetMsg||Z.sourceMsg}),setTimeout(function(){s._lf.undo()},200);break}}},v.pluginName="insertNodeInPolyline",v}(),_w=globalThis&&globalThis.__read||function(v,d){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),o,l=[],c;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)l.push(o.value)}catch(g){c={error:g}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return l},ww=globalThis&&globalThis.__spread||function(){for(var v=[],d=0;d<arguments.length;d++)v=v.concat(_w(arguments[d]));return v},T1=function(){function v(d){var s=this,f=d.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){s.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){s.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){s.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){s.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){s.lf.redo()}}],this.lf=f}return v.prototype.render=function(d,s){this.destroy();var f=this.getControlTool();this.toolEl=f,s.appendChild(f),this.domContainer=s},v.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},v.prototype.addItem=function(d){this.controlItems.push(d)},v.prototype.removeItem=function(d){var s=this.controlItems.findIndex(function(f){return f.key===d});return s==-1?null:this.controlItems.splice(s,1)[0]},v.prototype.getControlTool=function(){var d=this,s="lf-control-item",f="lf-control-item disabled",o=document.createElement("div"),l=[];return o.className="lf-control",this.controlItems.forEach(function(c){var g=document.createElement("div"),m=document.createElement("i"),w=document.createElement("span");switch(g.className=f,c.onClick&&(g.onclick=c.onClick.bind(null,d.lf)),c.onMouseEnter&&(g.onmouseenter=c.onMouseEnter.bind(null,d.lf)),c.onMouseLeave&&(g.onmouseleave=c.onMouseLeave.bind(null,d.lf)),m.className=c.iconClass,w.className="lf-control-text",w.title=c.title,w.innerText=c.text,g.append(m,w),c.text){case"上一步":d.lf.on("history:change",function(S){var E=S.data.undoAble;g.className=E?s:f});break;case"下一步":d.lf.on("history:change",function(S){var E=S.data.redoAble;g.className=E?s:f});break;default:g.className=s;break}l.push(g)}),o.append.apply(o,ww(l)),o},v.pluginName="control",v}(),xw=globalThis&&globalThis.__read||function(v,d){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),o,l=[],c;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)l.push(o.value)}catch(g){c={error:g}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return l},Ew=globalThis&&globalThis.__spread||function(){for(var v=[],d=0;d<arguments.length;d++)v=v.concat(xw(arguments[d]));return v},Oi="lf:defaultNodeMenu",_i="lf:defaultEdgeMenu",wi="lf:defaultGraphMenu",gv="lf:defaultSelectionMenu",k1=function(){function v(d){var s=this,f=d.lf;this.__menuDOM=document.createElement("ul"),this.lf=f,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(o){s.setMenuConfig(o)},this.lf.addMenuConfig=function(o){s.addMenuConfig(o)},this.lf.setMenuByType=function(o){s.setMenuByType(o)}}return v.prototype.init=function(){var d=this,s=[{text:"删除",callback:function(l){d.lf.deleteNode(l.id)}},{text:"编辑文本",callback:function(l){d.lf.graphModel.editText(l.id)}},{text:"复制",callback:function(l){d.lf.cloneNode(l.id)}}];this.menuTypeMap.set(Oi,s);var f=[{text:"删除",callback:function(l){d.lf.deleteEdge(l.id)}},{text:"编辑文本",callback:function(l){d.lf.graphModel.editText(l.id)}}];this.menuTypeMap.set(_i,f),this.menuTypeMap.set(wi,[]);var o=[{text:"删除",callback:function(l){d.lf.clearSelectElements(),l.edges.forEach(function(c){return d.lf.deleteEdge(c.id)}),l.nodes.forEach(function(c){return d.lf.deleteNode(c.id)})}}];this.menuTypeMap.set(gv,o)},v.prototype.render=function(d,s){var f=this;this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var l=o.target;Array.from(l.classList).indexOf("lf-menu-item")===-1&&Array.from(l.classList).indexOf("lf-menu")===-1;)l=l.parentElement;Array.from(l.classList).indexOf("lf-menu-item")>-1?(l.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var l=o.data,c=o.position,g=o.e,m=c.domOverlayPosition,w=m.x,S=m.y,E=l.id,M=f.lf.graphModel.getNodeModelById(E),P=[],A=f.menuTypeMap.get(M.type);M&&M.menu&&Array.isArray(M.menu)?P=M.menu:A?P=A:P=f.menuTypeMap.get(Oi),f.__currentData=l,f.showMenu(w,S,P,{width:M.width,height:M.height,clientX:g.clientX,clientY:g.clientY})}),this.lf.on("edge:contextmenu",function(o){var l=o.data,c=o.position,g=o.e,m=c.domOverlayPosition,w=m.x,S=m.y,E=l.id,M=f.lf.graphModel.getEdgeModelById(E),P=[],A=f.menuTypeMap.get(M.type);M&&M.menu&&Array.isArray(M.menu)?P=M.menu:A?P=A:P=f.menuTypeMap.get(_i),f.__currentData=l,f.showMenu(w,S,P,{width:M.width,height:M.height,clientX:g.clientX,clientY:g.clientY})}),this.lf.on("blank:contextmenu",function(o){var l=o.position,c=f.menuTypeMap.get(wi),g=l.domOverlayPosition,m=g.x,w=g.y;f.showMenu(m,w,c)}),this.lf.on("selection:contextmenu",function(o){var l=o.data,c=o.position,g=f.menuTypeMap.get(gv),m=c.domOverlayPosition,w=m.x,S=m.y;f.__currentData=l,f.showMenu(w,S,g)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"})},v.prototype.destroy=function(){var d;(d=this===null||this===void 0?void 0:this.__container)===null||d===void 0||d.removeChild(this.__menuDOM),this.__menuDOM=null},v.prototype.showMenu=function(d,s,f,o){if(!(!f||!f.length)){var l=this.__menuDOM;if(l.innerHTML="",l.append.apply(l,Ew(this.__getMenuDom(f))),!!l.children.length){if(l.style.display="block",!o){l.style.top=s+"px",l.style.left=d+"px";return}var c=o.width,g=o.height,m=o.clientX,w=o.clientY,S=this.lf.graphModel,E=l.offsetWidth,M=!0,P=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,A=P-m,k=S.rootEl.getBoundingClientRect(),C=k.left+k.width;C<P&&(A=C-m),A<E&&(M=!1),M?l.style.left=d+"px":l.style.left=d-c+"px";var I=l.offsetHeight,H=!0,Z=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ne=Z-w,$=k.top+k.height;$<Z&&(ne=$-w),ne<I&&(H=!1),H?l.style.top=s+"px":l.style.top=s-g+"px"}}},v.prototype.setMenuByType=function(d){!d.type||!d.menu||this.menuTypeMap.set(d.type,d.menu)},v.prototype.__getMenuDom=function(d){var s=[];return d&&d.length>0&&d.forEach(function(f){var o=document.createElement("li");if(f.className?o.className="lf-menu-item "+f.className:o.className="lf-menu-item",f.icon===!0){var l=document.createElement("span");l.className="lf-menu-item-icon",o.appendChild(l)}var c=document.createElement("span");c.className="lf-menu-item-text",f.text&&(c.innerText=f.text),o.appendChild(c),o.onclickCallback=f.callback,s.push(o)}),s},v.prototype.setMenuConfig=function(d){d&&(d.nodeMenu!==void 0&&this.menuTypeMap.set(Oi,d.nodeMenu?d.nodeMenu:[]),d.edgeMenu!==void 0&&this.menuTypeMap.set(_i,d.edgeMenu?d.edgeMenu:[]),d.graphMenu!==void 0&&this.menuTypeMap.set(wi,d.graphMenu?d.graphMenu:[]))},v.prototype.addMenuConfig=function(d){if(d){if(Array.isArray(d.nodeMenu)){var s=this.menuTypeMap.get(Oi);this.menuTypeMap.set(Oi,s.concat(d.nodeMenu))}if(Array.isArray(d.edgeMenu)){var s=this.menuTypeMap.get(_i);this.menuTypeMap.set(_i,s.concat(d.edgeMenu))}if(Array.isArray(d.graphMenu)){var s=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,s.concat(d.graphMenu))}}},v.prototype.changeMenuItem=function(d,s){if(d==="add")this.addMenuConfig(s);else if(d==="reset")this.setMenuConfig(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},v.pluginName="menu",v}();globalThis&&globalThis.__read;var D1=function(){function v(d){var s=this,f=d.lf;this.lf=f,this.lf.setPatternItems=function(o){s.setPatternItems(o)}}return v.prototype.render=function(d,s){var f=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=s;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){f.panelEl.appendChild(f.createDndItem(o))}),s.appendChild(this.panelEl),this.domContainer=s},v.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},v.prototype.setPatternItems=function(d){this.shapeList=d,this.domContainer&&this.render(this.lf,this.domContainer)},v.prototype.createDndItem=function(d){var s=this,f=document.createElement("div");f.className=d.className?"lf-dnd-item "+d.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",d.icon&&(o.style.backgroundImage="url("+d.icon+")"),f.appendChild(o),d.label){var l=document.createElement("div");l.innerText=d.label,l.className="lf-dnd-text",f.appendChild(l)}return f.onmousedown=function(){d.type&&s.lf.dnd.startDrag({type:d.type,properties:d.properties,text:d.text}),d.callback&&d.callback(s.lf,s.domContainer)},f.ondblclick=function(c){s.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:c,data:d})},f.onclick=function(c){s.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:c,data:d})},f.oncontextmenu=function(c){s.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:c,data:d})},f},v.pluginName="dndPanel",v}(),N1=function(){function v(d){var s=this,f=d.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(l){var c=s.lf.getPointByClient(l.clientX,l.clientY).domOverlayPosition,g=c.x,m=c.y;s.endPoint={x:g,y:m};var w=s.startPoint,S=w.x,E=w.y,M=s.wrapper.style,P=S,A=E,k=g-S,C=m-E;g<S&&(P=g,k=S-g),m<E&&(A=m,C=E-m),M.left=P+"px",M.top=A+"px",M.width=k+"px",M.height=C+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",s.__draw),document.removeEventListener("mouseup",s.__drawOff),s.wrapper.oncontextmenu=null,s.__domContainer.removeChild(s.wrapper);var l=s.startPoint,c=l.x,g=l.y,m=s.endPoint,w=m.x,S=m.y;if(!(Math.abs(w-c)<10&&Math.abs(S-g)<10)){var E=[Math.min(c,w),Math.min(g,S)],M=[Math.max(c,w),Math.max(g,S)],P=s.lf.graphModel.getAreaElement(E,M,s.isWholeEdge,s.isWholeNode,!0),A=s.lf.graphModel.group;P.forEach(function(k){(!A||!A.getNodeGroup(k.id))&&s.lf.selectElementById(k.id,!0)}),s.lf.emit("selection:selected",P)}},this.lf=f;var o=f.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,f.openSelectionSelect=function(){s.openSelectionSelect()},f.closeSelectionSelect=function(){s.closeSelectionSelect()}}return v.prototype.render=function(d,s){var f=this;this.__domContainer=s,d.on("blank:mousedown",function(o){var l=o.e,c=d.getEditConfig();if(!(!c.stopMoveGraph||f.__disabled)){var g=l.button===2;if(!g){var m=d.getPointByClient(l.clientX,l.clientY).domOverlayPosition,w=m.x,S=m.y;f.startPoint={x:w,y:S},f.endPoint={x:w,y:S};var E=document.createElement("div");E.className="lf-selection-select",E.oncontextmenu=function(P){P.preventDefault()},E.style.top=f.startPoint.y+"px",E.style.left=f.startPoint.x+"px",s.appendChild(E),f.wrapper=E,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}}})},v.prototype.setSelectionSense=function(d,s){d===void 0&&(d=!0),s===void 0&&(s=!0),this.isWholeEdge=d,this.isWholeNode=s},v.prototype.openSelectionSelect=function(){var d=this.lf.getEditConfig().stopMoveGraph;d||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},v.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},v.prototype.open=function(){this.__disabled=!1},v.prototype.close=function(){this.__disabled=!0},v.pluginName="selectionSelect",v}(),Sw=globalThis&&globalThis.__values||function(v){var d=typeof Symbol=="function"&&Symbol.iterator,s=d&&v[d],f=0;if(s)return s.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&f>=v.length&&(v=void 0),{value:v&&v[f++],done:!v}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},C1=function(){function v(d){var s=this,f=d.lf,o=d.LogicFlow,l=d.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(c,g){s.setView(),s.isShow||s.createMiniMap(c,g),s.isShow=!0},this.hide=function(){s.isShow&&s.removeMiniMap(),s.isShow=!1},this.reset=function(){s.lf.resetTranslate(),s.lf.resetZoom(),s.hide(),s.show()},this.startDrag=function(c){document.addEventListener("mousemove",s.drag),document.addEventListener("mouseup",s.drop),s.startPosition={x:c.x,y:c.y}},this.moveViewport=function(c,g){var m=s.viewport.style;s.viewPortTop=c,s.viewPortLeft=g,m.top=s.viewPortTop+"px",m.left=s.viewPortLeft+"px"},this.drag=function(c){s.dragging=!0;var g=s.viewPortTop+c.y-s.startPosition.y,m=s.viewPortLeft+c.x-s.startPosition.x;s.moveViewport(g,m),s.startPosition={x:c.x,y:c.y};var w=(s.viewPortLeft+s.viewPortWidth/2)/s.viewPortScale,S=(s.viewPortTop+s.viewPortHeight/2)/s.viewPortScale;s.lf.focusOn({coordinate:{x:w+s.resetDataX,y:S+s.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",s.drag),document.removeEventListener("mouseup",s.drop);var c=s.viewPortTop,g=s.viewPortLeft;s.viewPortLeft>s.width&&(g=s.width-s.viewPortWidth),s.viewPortTop>s.height&&(c=s.height-s.viewPortHeight),s.viewPortLeft<-s.width&&(g=0),s.viewPortTop<-s.height&&(c=0),s.moveViewport(c,g)},this.mapClick=function(c){if(s.dragging)s.dragging=!1;else{var g=c.layerX,m=c.layerY,w=g,S=m,E=s.lf.getGraphRawData(),M=s.getBounds(E),P=M.left,A=M.top,k=P+w/s.viewPortScale,C=A+S/s.viewPortScale;s.lf.focusOn({coordinate:{x:k,y:C}})}},this.lf=f,l&&l.MiniMap&&this.setOption(l),this.miniMapWidth=f.graphModel.width,this.miniMapHeight=f.graphModel.width*this.height/this.width,this.LogicFlow=o,this.initMiniMap()}return v.prototype.render=function(d,s){var f=this;this.container=s,this.lf.on("history:change",function(){f.isShow&&f.setView()}),this.lf.on("graph:transform",Y_(function(){f.isShow&&!f.dragging&&f.setView()},300))},v.prototype.init=function(d){this.disabledPlugins=this.disabledPlugins.concat(d.disabledPlugins||[])},v.prototype.setOption=function(d){var s=d.MiniMap,f=s.width,o=f===void 0?150:f,l=s.height,c=l===void 0?220:l,g=s.isShowHeader,m=g===void 0?!0:g,w=s.isShowCloseIcon,S=w===void 0?!0:w,E=s.leftPosition,M=E===void 0?0:E,P=s.topPosition,A=P===void 0?0:P,k=s.rightPosition,C=s.bottomPosition;this.width=o,this.height=c,this.isShowHeader=m,this.isShowCloseIcon=S,this.viewPortWidth=o,this.leftPosition=M,this.topPosition=A,this.rightPosition=k,this.bottomPosition=C},v.prototype.initMiniMap=function(){var d=document.createElement("div");d.className="lf-mini-map-graph",d.style.width=this.width+4+"px",d.style.height=this.height+"px",this.lfMap=new this.LogicFlow({container:d,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(s){return s},this.lfMap.adapterOut=function(s){return s},this.miniMapWrap=d,this.createViewPort(),d.addEventListener("click",this.mapClick)},v.prototype.createMiniMap=function(d,s){var f=document.createElement("div");f.appendChild(this.miniMapWrap),typeof d<"u"||typeof s<"u"?(f.style.left=(d||0)+"px",f.style.top=(s||0)+"px"):(typeof this.rightPosition<"u"?f.style.right=this.rightPosition+"px":typeof this.leftPosition<"u"&&(f.style.left=this.leftPosition+"px"),typeof this.bottomPosition<"u"?f.style.bottom=this.bottomPosition+"px":typeof this.topPosition<"u"&&(f.style.top=this.topPosition+"px")),f.style.position="absolute",f.className="lf-mini-map",this.isShowCloseIcon||f.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||f.classList.add("lf-mini-map-no-header"),this.container.appendChild(f),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=v.headerTitle,f.appendChild(o);var l=document.createElement("span");l.className="lf-mini-map-close",l.addEventListener("click",this.hide),f.appendChild(l),this.miniMapContainer=f},v.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},v.prototype.getBounds=function(d){var s=0,f=this.miniMapWidth,o=0,l=this.miniMapHeight,c=d.nodes;return c&&c.length>0&&c.forEach(function(g){var m=g.x,w=g.y,S=g.width,E=S===void 0?200:S,M=g.height,P=M===void 0?200:M,A=m-E/2,k=m+E/2,C=w-P/2,I=w+P/2;s=A<s?A:s,f=k>f?k:f,o=C<o?C:o,l=I>l?I:l}),{left:s,top:o,bottom:l,right:f}},v.prototype.resetData=function(d){var s=d.nodes,f=d.edges,o=0,l=0;return s&&s.length>0&&(s.forEach(function(c){var g=c.x,m=c.y,w=c.width,S=w===void 0?200:w,E=c.height,M=E===void 0?200:E,P=g-S/2,A=m-M/2;o=P<o?P:o,l=A<l?A:l}),(o<0||l<0)&&(this.resetDataX=o,this.resetDataY=l,s.forEach(function(c){c.x=c.x-o,c.y=c.y-l,c.text&&(c.text.x=c.text.x-o,c.text.y=c.text.y-l)}),f.forEach(function(c){c.startPoint&&(c.startPoint.x=c.startPoint.x-o,c.startPoint.y=c.startPoint.y-l),c.endPoint&&(c.endPoint.x=c.endPoint.x-o,c.endPoint.y=c.endPoint.y-l),c.text&&(c.text.x=c.text.x-o,c.text.y=c.text.y-l),c.pointsList&&c.pointsList.forEach(function(g){g.x=g.x-o,g.y=g.y-l})}))),d},v.prototype.setView=function(){var d,s,f=this.lf.getGraphRawData(),o=this.resetData(f),l=this.lf.viewMap,c=this.lf.graphModel.modelMap,g=this.lfMap.viewMap;try{for(var m=Sw(l.keys()),w=m.next();!w.done;w=m.next()){var S=w.value;g.has(S)||(this.lfMap.setView(S,l.get(S)),this.lfMap.graphModel.modelMap.set(S,c.get(S)))}}catch(ne){d={error:ne}}finally{try{w&&!w.done&&(s=m.return)&&s.call(m)}finally{if(d)throw d.error}}this.lfMap.render(o);var E=this.getBounds(o),M=E.left,P=E.top,A=E.right,k=E.bottom,C=this.width/(A-M),I=this.height/(k-P),H=this.miniMapWrap.firstChild.style,Z=Math.min(C,I);H.transform="matrix("+Z+", 0, 0, "+Z+", 0, 0)",H.transformOrigin="left top",H.height=k-Math.min(P,0)+"px",H.width=A-Math.min(M,0)+"px",this.viewPortScale=Z,this.setViewPort(Z,{left:M,top:P,right:A,bottom:k})},v.prototype.setViewPort=function(d,s){var f=s.left,o=s.right;s.top,s.bottom;var l=this.viewport.style;l.width=this.viewPortWidth+"px",l.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var c=this.lf.getTransform(),g=c.TRANSLATE_X,m=c.TRANSLATE_Y,w=c.SCALE_X,S=c.SCALE_Y,E=o-f,M=this.width/(E/this.lf.graphModel.width),P=this.width*(M/this.width),A=this.lf.graphModel.width/this.lf.graphModel.height,k=P/A,C=this.lf.getGraphRawData(),I=this.getBounds(C),H=I.left,Z=I.top,ne=H,$=Z;ne+=g/w,$+=m/S,this.viewPortTop=$>0?0:-$*d,this.viewPortLeft=ne>0?0:-ne*d,this.viewPortWidth=P,this.viewPortHeight=k,l.top=this.viewPortTop+"px",l.left=this.viewPortLeft+"px",l.width=P/w+"px",l.height=k/S+"px"},v.prototype.createViewPort=function(){var d=document.createElement("div");d.className="lf-minimap-viewport",d.addEventListener("mousedown",this.startDrag),this.viewport=d},v.pluginName="miniMap",v.width=150,v.height=220,v.viewPortWidth=150,v.viewPortHeight=75,v.isShowHeader=!0,v.isShowCloseIcon=!0,v.leftPosition=0,v.topPosition=0,v.rightPosition=null,v.bottomPosition=null,v.headerTitle="导航",v}();function jw(v){if(v.length<=1)return!1;for(var d=0,s=v.length-1;d!==s&&d+1!==s&&s-1!==d;)d++,s--;return d===s?[--d,s]:[d,s]}var zv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Ro=globalThis&&globalThis.__assign||function(){return Ro=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},Ro.apply(this,arguments)},xr=globalThis&&globalThis.__read||function(v,d){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),o,l=[],c;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)l.push(o.value)}catch(g){c={error:g}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return l};(function(v){zv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.pointFilter=function(s){for(var f=s,o=1;o<f.length-1;){var l=xr(f[o-1],2),c=l[0],g=l[1],m=xr(f[o],2),w=m[0],S=m[1],E=xr(f[o+1],2),M=E[0],P=E[1];c===w&&w===M||g===S&&S===P?f.splice(o,1):o++}return f},d.prototype.getEdge=function(){var s=this.props.model,f=s.points,o=s.isAnimation,l=s.arrowConfig,c=s.radius,g=c===void 0?5:c,m=s.getEdgeStyle(),w=s.getEdgeAnimationStyle(),S=this.pointFilter(f.split(" ").map(function(Pe){return Pe.split(",").map(function(Ce){return Number(Ce)})})),E=jw(S);if(E){var M=xr(E,2),P=M[0],A=M[1],k=S[P],C=S[A],I=k.some(function(Pe,Ce){return Pe===C[Ce]});if(!I){var H=(C[1]-k[1])/2,Z=[C[0],C[1]-H],ne=[k[0],k[1]+H];S.splice(P+1,0,ne,Z)}}for(var $=xr(S[0],2),Y=$[0],q=$[1],B="M"+Y+" "+q,N=1;N<S.length-1;N++){var z=xr(S[N-1],2),L=z[0],X=z[1],te=xr(S[N],2),fe=te[0],ce=te[1],ye=xr(S[N+1],2),xe=ye[0],ve=ye[1];if(fe===L&&ce!==X){var ue=ce>X?ce-g:ce+g;B=B+" L "+fe+" "+ue}if(ce===X&&fe!==L){var he=fe>L?fe-g:fe+g;B=B+" L "+he+" "+ce}if(B=B+" Q "+fe+" "+ce,fe===xe&&ce!==ve){var ue=ce>ve?ce-g:ce+g;B=B+" "+fe+" "+ue}if(ce===ve&&fe!==xe){var he=fe>xe?fe-g:fe+g;B=B+" "+he+" "+ce}}var be=xr(S[S.length-1],2),Se=be[0],Le=be[1];B=B+" L "+Se+" "+Le;var Ke=Ro(Ro(Ro({d:B,style:o?w:{}},m),l),{fill:"none"});return Ie.h("path",Ro({d:B},Ke))},d})(Ie.PolylineEdge);(function(v){zv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d})(Ie.PolylineEdgeModel);var af,Yt,Bv,ro,bv,Gv,nf,vu={},Hv=[],Pw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,uf=Array.isArray;function Hr(v,d){for(var s in d)v[s]=d[s];return v}function Xv(v){var d=v.parentNode;d&&d.removeChild(v)}function Ei(v,d,s){var f,o,l,c={};for(l in d)l=="key"?f=d[l]:l=="ref"?o=d[l]:c[l]=d[l];if(arguments.length>2&&(c.children=arguments.length>3?af.call(arguments,2):s),typeof v=="function"&&v.defaultProps!=null)for(l in v.defaultProps)c[l]===void 0&&(c[l]=v.defaultProps[l]);return gu(v,c,f,o,null)}function gu(v,d,s,f,o){var l={type:v,props:d,key:s,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++Bv};return o==null&&Yt.vnode!=null&&Yt.vnode(l),l}function sf(v){return v.children}function Lo(v,d){this.props=v,this.context=d}function wu(v,d){if(d==null)return v.__?wu(v.__,v.__.__k.indexOf(v)+1):null;for(var s;d<v.__k.length;d++)if((s=v.__k[d])!=null&&s.__e!=null)return s.__e;return typeof v.type=="function"?wu(v):null}function Fv(v){var d,s;if((v=v.__)!=null&&v.__c!=null){for(v.__e=v.__c.base=null,d=0;d<v.__k.length;d++)if((s=v.__k[d])!=null&&s.__e!=null){v.__e=v.__c.base=s.__e;break}return Fv(v)}}function mv(v){(!v.__d&&(v.__d=!0)&&ro.push(v)&&!xu.__r++||bv!==Yt.debounceRendering)&&((bv=Yt.debounceRendering)||Gv)(xu)}function xu(){var v,d,s,f,o,l,c,g,m;for(ro.sort(nf);v=ro.shift();)v.__d&&(d=ro.length,f=void 0,o=void 0,l=void 0,g=(c=(s=v).__v).__e,(m=s.__P)&&(f=[],o=[],(l=Hr({},c)).__v=c.__v+1,Wv(m,c,l,s.__n,m.ownerSVGElement!==void 0,c.__h!=null?[g]:null,f,g??wu(c),c.__h,o),Tw(f,c,o),c.__e!=g&&Fv(c)),ro.length>d&&ro.sort(nf));xu.__r=0}function Uv(v,d,s,f,o,l,c,g,m,w,S){var E,M,P,A,k,C,I,H,Z,ne,$=0,Y=f&&f.__k||Hv,q=Y.length,B=q,N=d.length;for(s.__k=[],E=0;E<N;E++)(A=s.__k[E]=(A=d[E])==null||typeof A=="boolean"||typeof A=="function"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?gu(null,A,null,null,A):uf(A)?gu(sf,{children:A},null,null,null):A.__b>0?gu(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)!=null&&(A.__=s,A.__b=s.__b+1,(H=Mw(A,Y,I=E+$,B))===-1?P=vu:(P=Y[H]||vu,Y[H]=void 0,B--),Wv(v,A,P,o,l,c,g,m,w,S),k=A.__e,(M=A.ref)&&P.ref!=M&&(P.ref&&cf(P.ref,null,A),S.push(M,A.__c||k,A)),k!=null&&(C==null&&(C=k),ne=!(Z=P===vu||P.__v===null)&&H===I,Z?H==-1&&$--:H!==I&&(H===I+1?($++,ne=!0):H>I?B>N-I?($+=H-I,ne=!0):$--:$=H<I&&H==I-1?H-I:0),I=E+$,ne=ne||H==E&&!Z,typeof A.type!="function"||H===I&&P.__k!==A.__k?typeof A.type=="function"||ne?A.__d!==void 0?(m=A.__d,A.__d=void 0):m=k.nextSibling:m=Vv(v,k,m):m=Yv(A,m,v),typeof s.type=="function"&&(s.__d=m)));for(s.__e=C,E=q;E--;)Y[E]!=null&&(typeof s.type=="function"&&Y[E].__e!=null&&Y[E].__e==s.__d&&(s.__d=Y[E].__e.nextSibling),$v(Y[E],Y[E]))}function Yv(v,d,s){for(var f,o=v.__k,l=0;o&&l<o.length;l++)(f=o[l])&&(f.__=v,d=typeof f.type=="function"?Yv(f,d,s):Vv(s,f.__e,d));return d}function Vv(v,d,s){return s==null||s.parentNode!==v?v.insertBefore(d,null):d==s&&d.parentNode!=null||v.insertBefore(d,s),d.nextSibling}function Mw(v,d,s,f){var o=v.key,l=v.type,c=s-1,g=s+1,m=d[s];if(m===null||m&&o==m.key&&l===m.type)return s;if(f>(m!=null?1:0))for(;c>=0||g<d.length;){if(c>=0){if((m=d[c])&&o==m.key&&l===m.type)return c;c--}if(g<d.length){if((m=d[g])&&o==m.key&&l===m.type)return g;g++}}return-1}function Aw(v,d,s,f,o){var l;for(l in s)l==="children"||l==="key"||l in d||Eu(v,l,null,s[l],f);for(l in d)o&&typeof d[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||s[l]===d[l]||Eu(v,l,d[l],s[l],f)}function Ov(v,d,s){d[0]==="-"?v.setProperty(d,s??""):v[d]=s==null?"":typeof s!="number"||Pw.test(d)?s:s+"px"}function Eu(v,d,s,f,o){var l;e:if(d==="style")if(typeof s=="string")v.style.cssText=s;else{if(typeof f=="string"&&(v.style.cssText=f=""),f)for(d in f)s&&d in s||Ov(v.style,d,"");if(s)for(d in s)f&&s[d]===f[d]||Ov(v.style,d,s[d])}else if(d[0]==="o"&&d[1]==="n")l=d!==(d=d.replace(/Capture$/,"")),d=d.toLowerCase()in v?d.toLowerCase().slice(2):d.slice(2),v.l||(v.l={}),v.l[d+l]=s,s?f||v.addEventListener(d,l?wv:_v,l):v.removeEventListener(d,l?wv:_v,l);else if(d!=="dangerouslySetInnerHTML"){if(o)d=d.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(d!=="width"&&d!=="height"&&d!=="href"&&d!=="list"&&d!=="form"&&d!=="tabIndex"&&d!=="download"&&d!=="rowSpan"&&d!=="colSpan"&&d in v)try{v[d]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&d[4]!=="-"?v.removeAttribute(d):v.setAttribute(d,s))}}function _v(v){return this.l[v.type+!1](Yt.event?Yt.event(v):v)}function wv(v){return this.l[v.type+!0](Yt.event?Yt.event(v):v)}function Wv(v,d,s,f,o,l,c,g,m,w){var S,E,M,P,A,k,C,I,H,Z,ne,$,Y,q,B,N=d.type;if(d.constructor!==void 0)return null;s.__h!=null&&(m=s.__h,g=d.__e=s.__e,d.__h=null,l=[g]),(S=Yt.__b)&&S(d);try{e:if(typeof N=="function"){if(I=d.props,H=(S=N.contextType)&&f[S.__c],Z=S?H?H.props.value:S.__:f,s.__c?C=(E=d.__c=s.__c).__=E.__E:("prototype"in N&&N.prototype.render?d.__c=E=new N(I,Z):(d.__c=E=new Lo(I,Z),E.constructor=N,E.render=Dw),H&&H.sub(E),E.props=I,E.state||(E.state={}),E.context=Z,E.__n=f,M=E.__d=!0,E.__h=[],E._sb=[]),E.__s==null&&(E.__s=E.state),N.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=Hr({},E.__s)),Hr(E.__s,N.getDerivedStateFromProps(I,E.__s))),P=E.props,A=E.state,E.__v=d,M)N.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(N.getDerivedStateFromProps==null&&I!==P&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(I,Z),!E.__e&&(E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(I,E.__s,Z)===!1||d.__v===s.__v)){for(d.__v!==s.__v&&(E.props=I,E.state=E.__s,E.__d=!1),d.__e=s.__e,d.__k=s.__k,d.__k.forEach(function(z){z&&(z.__=d)}),ne=0;ne<E._sb.length;ne++)E.__h.push(E._sb[ne]);E._sb=[],E.__h.length&&c.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(I,E.__s,Z),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(P,A,k)})}if(E.context=Z,E.props=I,E.__P=v,E.__e=!1,$=Yt.__r,Y=0,"prototype"in N&&N.prototype.render){for(E.state=E.__s,E.__d=!1,$&&$(d),S=E.render(E.props,E.state,E.context),q=0;q<E._sb.length;q++)E.__h.push(E._sb[q]);E._sb=[]}else do E.__d=!1,$&&$(d),S=E.render(E.props,E.state,E.context),E.state=E.__s;while(E.__d&&++Y<25);E.state=E.__s,E.getChildContext!=null&&(f=Hr(Hr({},f),E.getChildContext())),M||E.getSnapshotBeforeUpdate==null||(k=E.getSnapshotBeforeUpdate(P,A)),Uv(v,uf(B=S!=null&&S.type===sf&&S.key==null?S.props.children:S)?B:[B],d,s,f,o,l,c,g,m,w),E.base=d.__e,d.__h=null,E.__h.length&&c.push(E),C&&(E.__E=E.__=null)}else l==null&&d.__v===s.__v?(d.__k=s.__k,d.__e=s.__e):d.__e=kw(s.__e,d,s,f,o,l,c,m,w);(S=Yt.diffed)&&S(d)}catch(z){d.__v=null,(m||l!=null)&&(d.__e=g,d.__h=!!m,l[l.indexOf(g)]=null),Yt.__e(z,d,s)}}function Tw(v,d,s){for(var f=0;f<s.length;f++)cf(s[f],s[++f],s[++f]);Yt.__c&&Yt.__c(d,v),v.some(function(o){try{v=o.__h,o.__h=[],v.some(function(l){l.call(o)})}catch(l){Yt.__e(l,o.__v)}})}function kw(v,d,s,f,o,l,c,g,m){var w,S,E,M=s.props,P=d.props,A=d.type,k=0;if(A==="svg"&&(o=!0),l!=null){for(;k<l.length;k++)if((w=l[k])&&"setAttribute"in w==!!A&&(A?w.localName===A:w.nodeType===3)){v=w,l[k]=null;break}}if(v==null){if(A===null)return document.createTextNode(P);v=o?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,P.is&&P),l=null,g=!1}if(A===null)M===P||g&&v.data===P||(v.data=P);else{if(l=l&&af.call(v.childNodes),S=(M=s.props||vu).dangerouslySetInnerHTML,E=P.dangerouslySetInnerHTML,!g){if(l!=null)for(M={},k=0;k<v.attributes.length;k++)M[v.attributes[k].name]=v.attributes[k].value;(E||S)&&(E&&(S&&E.__html==S.__html||E.__html===v.innerHTML)||(v.innerHTML=E&&E.__html||""))}if(Aw(v,P,M,o,g),E)d.__k=[];else if(Uv(v,uf(k=d.props.children)?k:[k],d,s,f,o&&A!=="foreignObject",l,c,l?l[0]:s.__k&&wu(s,0),g,m),l!=null)for(k=l.length;k--;)l[k]!=null&&Xv(l[k]);g||("value"in P&&(k=P.value)!==void 0&&(k!==v.value||A==="progress"&&!k||A==="option"&&k!==M.value)&&Eu(v,"value",k,M.value,!1),"checked"in P&&(k=P.checked)!==void 0&&k!==v.checked&&Eu(v,"checked",k,M.checked,!1))}return v}function cf(v,d,s){try{typeof v=="function"?v(d):v.current=d}catch(f){Yt.__e(f,s)}}function $v(v,d,s){var f,o;if(Yt.unmount&&Yt.unmount(v),(f=v.ref)&&(f.current&&f.current!==v.__e||cf(f,null,d)),(f=v.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(l){Yt.__e(l,d)}f.base=f.__P=null,v.__c=void 0}if(f=v.__k)for(o=0;o<f.length;o++)f[o]&&$v(f[o],d,s||typeof v.type!="function");s||v.__e==null||Xv(v.__e),v.__=v.__e=v.__d=void 0}function Dw(v,d,s){return this.constructor(v,s)}af=Hv.slice,Yt={__e:function(v,d,s,f){for(var o,l,c;d=d.__;)if((o=d.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(v)),c=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(v,f||{}),c=o.__d),c)return o.__E=o}catch(g){v=g}throw v}},Bv=0,Lo.prototype.setState=function(v,d){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Hr({},this.state),typeof v=="function"&&(v=v(Hr({},s),this.props)),v&&Hr(s,v),v!=null&&this.__v&&(d&&this._sb.push(d),mv(this))},Lo.prototype.forceUpdate=function(v){this.__v&&(this.__e=!0,v&&this.__h.push(v),mv(this))},Lo.prototype.render=sf,ro=[],Gv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nf=function(v,d){return v.__v.__b-d.__v.__b},xu.__r=0;var Si=globalThis&&globalThis.__assign||function(){return Si=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},Si.apply(this,arguments)};function lf(v){var d=v.x,s=v.y,f=v.width,o=v.height,l=v.radius,c=v.className,g=d-f/2,m=s-o/2,w=Si(Si({width:10,height:10,cx:0,cy:0,rx:l||0,ry:l||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+c},v),{x:g,y:m});return Ie.h("rect",Si({},w))}lf.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Io;(function(v){v.NODE="node",v.CIRCLE_NODE="circle-node",v.POLYGON_NODE="polygon-node",v.RECT_NODE="rect-node",v.HTML_NODE="html-node",v.TEXT_NODE="text-node",v.ELLIPSE_NODE="ellipse-node",v.DIAMOND_NODE="diamond-node",v.EDGE="edge",v.LINE_EDGE="line-edge",v.POLYLINE_EDGE="polyline-edge",v.BEZIER_EDGE="bezier-edge",v.GRAPH="graph"})(Io||(Io={}));var Nw=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),oo=globalThis&&globalThis.__assign||function(){return oo=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},oo.apply(this,arguments)},Cw=globalThis&&globalThis.__read||function(v,d){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),o,l=[],c;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)l.push(o.value)}catch(g){c={error:g}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return l},Rw=Ie.LogicFlowUtil.StepDrag,Iw=function(v){Nw(d,v);function d(s){var f=v.call(this)||this;return f.updatePosition=function(o){var l=o.deltaX,c=o.deltaY,g=f.nodeModel,m=g.x,w=g.y;f.nodeModel.x=m+l/2,f.nodeModel.y=w+c/2,f.nodeModel.moveText(l/2,c/2)},f.getResize=function(o){var l=o.index,c=o.deltaX,g=o.deltaY,m=o.width,w=o.height,S=o.PCTResizeInfo,E=o.pct,M=E===void 0?1:E,P={width:m,height:w,deltaX:c,deltaY:g};if(S){var A=4,k=0,C=0;switch(l){case 0:C=(c*-1-g)/A;break;case 1:C=(c-g)/A;break;case 2:C=(c+g)/A;break;case 3:C=(c*-1+g)/A;break}C!==0&&(k=Math.round(C/S.ResizeBasis.basisHeight*1e5)/1e3),S.ResizePCT.widthPCT=Math.max(Math.min(S.ResizePCT.widthPCT+k,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit),S.ResizePCT.hightPCT=Math.max(Math.min(S.ResizePCT.hightPCT+k,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit);var I=Math.round(S.ResizePCT.widthPCT*S.ResizeBasis.basisWidth/100),H=Math.round(S.ResizePCT.hightPCT*S.ResizeBasis.basisHeight/100);switch(l){case 0:c=m-I,g=w-H;break;case 1:c=I-m,g=w-H;break;case 2:c=I-m,g=H-w;break;case 3:c=m-I,g=H-w;break}return P.width=I,P.height=H,P.deltaX=c/M,P.deltaY=g/M,P}switch(l){case 0:P.width=m-c*M,P.height=w-g*M;break;case 1:P.width=m+c*M,P.height=w-g*M;break;case 2:P.width=m+c*M,P.height=w+g*M;break;case 3:P.width=m-c*M,P.height=w+g*M;break}return P},f.updateEdgePointByAnchors=function(){var o=f.nodeModel,l=o.id,c=o.anchors,g=f.getNodeEdges(l);g.sourceEdges.forEach(function(m){var w=c.find(function(S){return S.id===m.sourceAnchorId});m.updateStartPoint({x:w.x,y:w.y})}),g.targetEdges.forEach(function(m){var w=c.find(function(S){return S.id===m.targetAnchorId});m.updateEndPoint({x:w.x,y:w.y})})},f.updateRect=function(o){var l=o.deltaX,c=o.deltaY,g=f.nodeModel,m=g.id,w=g.x,S=g.y,E=g.width,M=g.height,P=g.radius,A=g.PCTResizeInfo,k=f.index,C=f.getResize({index:k,deltaX:l,deltaY:c,width:E,height:M,PCTResizeInfo:A,pct:1}),I=f.nodeModel,H=I.minWidth,Z=I.minHeight,ne=I.maxWidth,$=I.maxHeight;if(C.width<H||C.width>ne||C.height<Z||C.height>$){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:C.deltaX,deltaY:C.deltaY}),f.nodeModel.width=C.width,f.nodeModel.height=C.height,f.nodeModel.setProperties({nodeSize:{width:C.width,height:C.height}}),f.getNodeEdges(m);var Y={x:w,y:S,width:E,height:M,radius:P},q={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:P};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:Y,afterNode:q})},f.updateEllipse=function(o){var l=o.deltaX,c=o.deltaY,g=f.nodeModel,m=g.id,w=g.rx,S=g.ry,E=g.x,M=g.y,P=g.PCTResizeInfo,A=f.index,k=w,C=S,I=f.getResize({index:A,deltaX:l,deltaY:c,width:k,height:C,PCTResizeInfo:P,pct:1/2}),H=f.nodeModel,Z=H.minWidth,ne=H.minHeight,$=H.maxWidth,Y=H.maxHeight;if(I.width<Z/2||I.width>$/2||I.height<ne/2||I.height>Y/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),f.nodeModel.rx=I.width,f.nodeModel.ry=I.height,f.nodeModel.setProperties({nodeSize:{rx:I.width,ry:I.height}}),f.getNodeEdges(m);var q={x:E,y:M},B={rx:I.width,ry:I.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:oo(oo({},q),{rx:w,ry:S}),afterNode:B})},f.updateDiamond=function(o){var l=o.deltaX,c=o.deltaY,g=f.nodeModel;g.id;var m=g.rx,w=g.ry,S=g.x,E=g.y,M=g.PCTResizeInfo,P=f.index,A=m,k=w,C=f.getResize({index:P,deltaX:l,deltaY:c,width:A,height:k,PCTResizeInfo:M,pct:1/2}),I=f.nodeModel,H=I.minWidth,Z=I.minHeight,ne=I.maxWidth,$=I.maxHeight;if(C.width<H/2||C.width>ne/2||C.height<Z/2||C.height>$/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:C.deltaX,deltaY:C.deltaY}),f.nodeModel.rx=C.width,f.nodeModel.ry=C.height,f.nodeModel.setProperties({nodeSize:{rx:C.width,ry:C.height}});var Y={x:S,y:E,rx:m,ry:w},q={rx:C.width,ry:C.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:Y,afterNode:q})},f.eventEmit=function(o){var l=o.beforeNode,c=o.afterNode,g=f.nodeModel,m=g.id,w=g.modelType,S=g.type,E=oo({id:m,modelType:w,type:S},l),M=oo({id:m,modelType:w,type:S},c);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:E,newNodeSize:M})},f.onDragging=function(o){var l,c=o.deltaX,g=o.deltaY,m=f.graphModel.transformModel,w=f.nodeModel.modelType;l=Cw(m.fixDeltaXY(c,g),2),c=l[0],g=l[1],w===Io.RECT_NODE||w===Io.HTML_NODE?f.updateRect({deltaX:c,deltaY:g}):w===Io.ELLIPSE_NODE?f.updateEllipse({deltaX:c,deltaY:g}):w===Io.DIAMOND_NODE&&f.updateDiamond({deltaX:c,deltaY:g})},f.onDragEnd=function(){f.updateEdgePointByAnchors();var o=f.graphModel.gridSize,l=o===void 0?1:o,c=l*Math.round(f.nodeModel.x/l),g=l*Math.round(f.nodeModel.y/l);f.nodeModel.moveTo(c,g)},f.index=s.index,f.nodeModel=s.model,f.graphModel=s.graphModel,f.state={},f.dragHandler=new Rw({onDragging:f.onDragging,onDragEnd:f.onDragEnd,step:1}),f}return d.prototype.getNodeEdges=function(s){for(var f=this.graphModel,o=f.edges,l=[],c=[],g=0;g<o.length;g++){var m=o[g];m.sourceNodeId===s?l.push(m):o[g].targetNodeId===s&&c.push(m)}return{sourceEdges:l,targetEdges:c}},d.prototype.render=function(){var s=this.props,f=s.x,o=s.y,l=s.index,c=s.model,g=c.getControlPointStyle();return Ei("g",{className:"lf-resize-control-"+l},Ei(lf,oo({className:"lf-node-control"},{x:f,y:o},g,{onMouseDown:this.dragHandler.handleMouseDown})))},d}(Lo),Lw=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Su=globalThis&&globalThis.__assign||function(){return Su=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},Su.apply(this,arguments)},Mu=function(v){Lw(d,v);function d(){var s=v.call(this)||this;return s.state={},s}return d.prototype.getResizeControl=function(){var s=this.props,f=s.model,o=s.graphModel,l=f.x,c=f.y,g=f.width,m=f.height,w={minX:l-g/2,minY:c-m/2,maxX:l+g/2,maxY:c+m/2},S=w.minX,E=w.minY,M=w.maxX,P=w.maxY,A=[{x:S,y:E},{x:M,y:E},{x:M,y:P},{x:S,y:P}];return A.map(function(k,C){return Ei(Iw,Su({index:C},k,{model:f,graphModel:o}))})},d.prototype.getGroupSolid=function(){var s=this.props.model,f=s.x,o=s.y,l=s.width,c=s.height,g=s.getResizeOutlineStyle();return Ei(lf,Su({fill:"none"},g,{x:f,y:o,width:l,height:c}))},d.prototype.render=function(){return Ei("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},d}(Lo),Kv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),zw=function(v){Kv(d,v);function d(s,f){var o=v.call(this,s,f)||this,l=o.properties.nodeSize;return l&&(o.width=l.width,o.height=l.height),o}return d.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},d.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},d.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},d.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},d.prototype.resize=function(s,f){console.log(s,f)},d.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},l={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:l}}else delete this.PCTResizeInfo},d}(Ie.RectNodeModel),Bw=function(v){Kv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return Ie.h(Mu,{model:f,graphModel:o})},d.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},d.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return Ie.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},d}(Ie.RectNode),Au={type:"rect",view:Bw,model:zw},Zv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}();(function(v){Zv(d,v);function d(s,f){var o=v.call(this,s,f)||this,l=o.properties.nodeSize;return l&&(o.rx=l.rx,o.ry=l.ry),o}return d.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},d.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},d.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},d.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},d.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},l={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:l}}else delete this.PCTResizeInfo},d})(Ie.EllipseNodeModel);(function(v){Zv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return Ie.h(Mu,{model:f,graphModel:o})},d.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},d.prototype.getShape=function(){var s=this.props,f=s.model,o=s.graphModel.editConfigModel.isSilentMode;return Ie.h("g",null,this.getResizeShape(),f.isSelected&&!o?this.getControlGroup():"")},d})(Ie.EllipseNode);var rf=globalThis&&globalThis.__assign||function(){return rf=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},rf.apply(this,arguments)};function Gw(v){var d=v.fillOpacity,s=d===void 0?1:d,f=v.strokeWidth,o=f===void 0?1:f,l=v.strokeOpacity,c=l===void 0?1:l,g=v.fill,m=g===void 0?"transparent":g,w=v.stroke,S=w===void 0?"#000":w,E=v.points,M=v.className,P=M===void 0?"lf-basic-shape":M,A={fill:m,fillOpacity:s,strokeWidth:o,stroke:S,strokeOpacity:c,points:"",className:P};return A.points=E.map(function(k){return k.join(",")}).join(" "),Ie.h("polygon",rf({},A))}var qv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),of=globalThis&&globalThis.__assign||function(){return of=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},of.apply(this,arguments)};(function(v){qv(d,v);function d(s,f){var o=v.call(this,s,f)||this,l=o.properties.nodeSize;return l&&(o.rx=l.rx,o.ry=l.ry),o}return d.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},d.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},d.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},d.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},d.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},l={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:l}}else delete this.PCTResizeInfo},d})(Ie.DiamondNodeModel);(function(v){qv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return Ie.h(Mu,{model:f,graphModel:o})},d.prototype.getResizeShape=function(){var s=this.props.model,f=s.points,o=s.getNodeStyle();return Ie.h("g",null,Ie.h(Gw,of({},o,{points:f})))},d.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return Ie.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},d})(Ie.DiamondNode);var Jv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}();(function(v){Jv(d,v);function d(s,f){var o=v.call(this,s,f)||this,l=o.properties.nodeSize;return l&&(o.width=l.width,o.height=l.height),o}return d.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},d.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},d.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},d.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},d.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},l={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:l}}else delete this.PCTResizeInfo},d})(Ie.HtmlNodeModel);(function(v){Jv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return Ie.h(Mu,{model:f,graphModel:o})},d.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},d.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return Ie.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},d})(Ie.HtmlNode);var Qv=globalThis&&globalThis.__extends||function(){var v=function(d,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var l in o)o.hasOwnProperty(l)&&(f[l]=o[l])},v(d,s)};return function(d,s){v(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),ju=globalThis&&globalThis.__assign||function(){return ju=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},ju.apply(this,arguments)},Hw=globalThis&&globalThis.__read||function(v,d){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),o,l=[],c;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)l.push(o.value)}catch(g){c={error:g}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return l},Xw=globalThis&&globalThis.__spread||function(){for(var v=[],d=0;d<arguments.length;d++)v=v.concat(Hw(arguments[d]));return v},xv=500,Ev=300,Fw=-1e4,Uw=function(v){Qv(d,v);function d(){var s=v!==null&&v.apply(this,arguments)||this;return s.isGroup=!0,s.unfoldedWidth=xv,s.unfoldedHight=Ev,s.childrenLastFoldStatus={},s}return d.prototype.initNodeData=function(s){var f=this;v.prototype.initNodeData.call(this,s);var o=[];Array.isArray(s.children)&&(o=s.children),this.children=new Set(o),this.width=xv,this.height=Ev,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=Fw,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){f.isFolded&&f.foldGroup(f.isFolded)})},d.prototype.getResizeOutlineStyle=function(){var s=v.prototype.getResizeOutlineStyle.call(this);return s.stroke="none",s},d.prototype.foldGroup=function(s){var f=this;if(s!==this.isFolded){this.setProperty("isFolded",s),this.isFolded=s,s?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(l){var c=f.graphModel.getElement(l),g=c.isFolded;if(c.isGroup&&!c.isFolded&&c.foldGroup(s),c.isGroup&&!s){var m=f.childrenLastFoldStatus[l];m!==void 0&&m!==c.isFolded&&c.foldGroup(m)}f.childrenLastFoldStatus[l]=g,c.visible=!s,o=o.concat(c.incoming.edges.concat(c.outgoing.edges))}),this.foldEdge(s,o)}},d.prototype.getAnchorStyle=function(s){var f=v.prototype.getAnchorStyle.call(this,s);return f.stroke="transparent",f.fill="transparent",f.hover.fill="transparent",f.hover.stroke="transparent",f},d.prototype.foldEdge=function(s,f){var o=this;f.forEach(function(l,c){var g=l.id,m=l.sourceNodeId,w=l.targetNodeId,S=l.startPoint,E=l.endPoint,M=l.type,P=l.text,A=l.getProperties(),k={id:g+"__"+c,sourceNodeId:m,targetNodeId:w,startPoint:S,endPoint:E,type:M,properties:A,text:P==null?void 0:P.value};l.virtual&&o.graphModel.deleteEdgeById(l.id);var C=o.graphModel.group.getNodeGroup(w);C||(C=o.graphModel.getNodeModelById(w));var I=o.graphModel.group.getNodeGroup(m);I||(I=o.graphModel.getNodeModelById(m)),s&&l.visible!==!1&&(o.children.has(m)||o.id===m?(k.startPoint=void 0,k.sourceNodeId=o.id):(k.endPoint=void 0,k.targetNodeId=o.id),(C.id!==o.id||I.id!==o.id)&&o.createVirtualEdge(k),l.visible=!1),!s&&l.visible===!1&&(C&&C.isGroup&&C.isFolded?(k.targetNodeId=C.id,k.endPoint=void 0,o.createVirtualEdge(k)):I&&I.isGroup&&I.isFolded?(k.sourceNodeId=I.id,k.startPoint=void 0,o.createVirtualEdge(k)):l.visible=!0)})},d.prototype.createVirtualEdge=function(s){s.pointsList=void 0;var f=this.graphModel.addEdge(s);f.virtual=!0,f.text.editable=!1,f.isFoldedEdge=!0},d.prototype.isInRange=function(s){var f=s.x1,o=s.y1,l=s.x2,c=s.y2;return f>=this.x-this.width/2&&l<=this.x+this.width/2&&o>=this.y-this.height/2&&c<=this.y+this.height/2},d.prototype.isAllowMoveTo=function(s){var f=s.x1,o=s.y1,l=s.x2,c=s.y2;return{x:f>=this.x-this.width/2&&l<=this.x+this.width/2,y:o>=this.y-this.height/2&&c<=this.y+this.height/2}},d.prototype.setAllowAppendChild=function(s){this.setProperty("groupAddable",s)},d.prototype.addChild=function(s){this.children.add(s)},d.prototype.removeChild=function(s){this.children.delete(s)},d.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},d.prototype.getData=function(){var s=this,f=v.prototype.getData.call(this);f.children=[],this.children.forEach(function(l){var c=s.graphModel.getNodeModelById(l);c&&!c.virtual&&f.children.push(l)});var o=f.properties;return delete o.groupAddable,delete o.isFolded,f},d.prototype.getHistoryData=function(){var s=v.prototype.getData.call(this);s.children=Xw(this.children),s.isGroup=!0;var f=s.properties;return delete f.groupAddable,f.isFolded&&(s.x=s.x+this.unfoldedWidth/2-this.foldedWidth/2,s.y=s.y+this.unfoldedHight/2-this.foldedHeight/2),s},d.prototype.isAllowAppendIn=function(s){return!0},d.prototype.toBack=function(){this.zIndex--},d}(Au.model),Yw=function(v){Qv(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props.model,f=s.resizable,o=s.properties;return f&&!o.isFolded?v.prototype.getControlGroup.call(this):null},d.prototype.getAddableShape=function(){var s=this.props.model,f=s.width,o=s.height,l=s.x,c=s.y,g=s.radius,m=s.properties;if(!m.groupAddable)return null;var w=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),E=f+w+8,M=o+w+8;return Ie.h("rect",ju(ju({},S),{width:E,height:M,x:l-E/2,y:c-M/2,rx:g,ry:g}))},d.prototype.getFoldIcon=function(){var s=this.props.model,f=s.x-s.width/2+5,o=s.y-s.height/2+5;if(!s.foldable)return null;var l=Ie.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:s.properties.isFolded?"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" M"+(f+7)+","+(o+2)+" "+(f+7)+","+(o+10):"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" "});return Ie.h("g",{},[Ie.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:s.x-s.width/2+5,y:s.y-s.height/2+5,onClick:function(){s.foldGroup(!s.properties.isFolded)}}),l])},d.prototype.getResizeShape=function(){return Ie.h("g",{},[this.getAddableShape(),v.prototype.getResizeShape.call(this),this.getFoldIcon()])},d}(Au.view);const ff={type:"group",view:Yw,model:Uw};var Vw=-1e3,Sv=-1e4,Ww=function(){function v(d){var s=this,f=d.lf;this.topGroupZIndex=Sv,this.nodeGroupMap=new Map,this.graphRendered=function(o){o&&o.nodes&&o.nodes.forEach(function(l){l.children&&l.children.forEach(function(c){s.nodeGroupMap.set(c,l.id)})})},this.appendNodeToGroup=function(o){var l=o.data,c=s.nodeGroupMap.get(l.id);if(c){var g=s.lf.getNodeModelById(c);g.removeChild(l.id),s.nodeGroupMap.delete(l.id),g.setAllowAppendChild(!1)}var m=s.lf.getNodeModelById(l.id),w=m.getBounds(),S=s.getGroup(w,l);if(S){var E=S.isAllowAppendIn(l);if(!E){s.lf.emit("group:not-allowed",{group:S.getData(),node:l});return}S.addChild(l.id),s.nodeGroupMap.set(l.id,S.id),S.setAllowAppendChild(!1),m.isGroup&&(l.children.forEach(function(M){s.nodeGroupMap.set(M,l.id)}),s.nodeSelected({data:l,isSelected:!1,isMultiple:!1}))}},this.deleteGroupChild=function(o){var l=o.data;l.children&&l.children.forEach(function(m){s.nodeGroupMap.delete(m),s.lf.deleteNode(m)});var c=s.nodeGroupMap.get(l.id);if(c){var g=s.lf.getNodeModelById(c);g.removeChild(l.id),s.nodeGroupMap.delete(l.id)}},this.setActiveGroup=function(o){var l=o.data,c=s.lf.getNodeModelById(l.id),g=c.getBounds(),m=s.getGroup(g,l);if(s.activeGroup&&s.activeGroup.setAllowAppendChild(!1),!(!m||c.isGroup&&m.id===l.id)){var w=m.isAllowAppendIn(l);w&&(s.activeGroup=m,s.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(o){var l=o.data,c=o.isMultiple,g=o.isSelected,m=s.lf.getNodeModelById(l.id);if(s.toFrontGroup(m),s.topGroupZIndex>Vw){s.topGroupZIndex=Sv;for(var w=s.lf.graphModel.nodes.filter(function(k){return k.isGroup}).sort(function(k,C){return k.zIndex-C.zIndex}),S=0,E=0;E<w.length;E++){var M=w[E];M.zIndex!==S&&(s.topGroupZIndex++,S=M.zIndex),M.setZIndex(s.topGroupZIndex)}}if(c&&g)if(m.isGroup)m.children.forEach(function(k){var C=s.lf.graphModel.getElement(k);C.setSelected(!1)});else{var P=s.nodeGroupMap.get(l.id);if(P){var A=s.lf.getNodeModelById(P);A.isSelected&&m.setSelected(!1)}}},this.toFrontGroup=function(o){!o||!o.isGroup||(s.topGroupZIndex++,o.setZIndex(s.topGroupZIndex),o.children&&o.children.forEach(function(l){var c=s.lf.getNodeModelById(l);s.toFrontGroup(c)}))},f.register(ff),this.lf=f,f.graphModel.addNodeMoveRules(function(o,l,c){if(o.isGroup){var g=s.getNodeAllChild(o);return f.graphModel.moveNodes(g,l,c,!0),!0}var m=f.getNodeModelById(s.nodeGroupMap.get(o.id));if(m&&m.isRestrict){var w=o.getBounds(),S=w.x1,E=w.y1,M=w.x2,P=w.y2,A=m.isAllowMoveTo({x1:S+l,y1:E+c,x2:M+l,y2:P+c});return A}return!0}),f.graphModel.group=this,f.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),f.on("node:delete",this.deleteGroupChild),f.on("node:dnd-drag,node:drag",this.setActiveGroup),f.on("node:click",this.nodeSelected),f.on("graph:rendered",this.graphRendered)}return v.prototype.getNodeAllChild=function(d){var s=this,f=[];return d.children&&d.children.forEach(function(o){f.push(o);var l=s.lf.getNodeModelById(o);l.isGroup&&(f=f.concat(s.getNodeAllChild(l)))}),f},v.prototype.getGroup=function(d,s){var f=this.lf.graphModel.nodes,o=f.filter(function(g){return g.isGroup&&g.isInRange(d)&&g.id!==s.id});if(o.length!==0){if(o.length===1)return o[0];for(var l=o[o.length-1],c=o.length-2;c>=0;c--)o[c].zIndex>l.zIndex&&(l=o[c]);return l}},v.prototype.getNodeGroup=function(d){var s=this.nodeGroupMap.get(d);if(s)return this.lf.getNodeModelById(s)},v.pluginName="group",v}(),$w=globalThis&&globalThis.__read||function(v,d){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),o,l=[],c;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)l.push(o.value)}catch(g){c={error:g}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return l};globalThis&&globalThis.__spread;var jv=globalThis&&globalThis.__assign||function(){return jv=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},jv.apply(this,arguments)},Pv=globalThis&&globalThis.__assign||function(){return Pv=Object.assign||function(v){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(v[o]=d[o])}return v},Pv.apply(this,arguments)},Kw=globalThis&&globalThis.__read||function(v,d){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),o,l=[],c;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)l.push(o.value)}catch(g){c={error:g}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return l};globalThis&&globalThis.__spread;class Zw extends Ie.HtmlNodeModel{setAttributes(){this.width=0,this.height=0}}class qw extends Ie.HtmlNode{}class Jw extends V_{}class Qw extends W_{}class e1 extends $_{}class t1 extends K_{getShape(){const d=this.props.model,s=d.getNodeStyle(),{x:f,y:o,r:l}=d;return Ie.h("circle",{...s,cx:f,cy:o,r:l,strokeWidth:5})}}class n1 extends Z_{constructor(d,s){const{id:f,text:o,x:l,y:c}=d;d.id=f||`Gateway_${Xn()}`,d.text=o||{value:o||"",x:l,y:c+40},super(d,s),this.points=[[25,0],[50,25],[25,50],[0,25]]}}class r1 extends q_{getShape(){const{model:d}=this.props,{x:s,y:f,width:o,height:l,points:c}=d,g=d.getNodeStyle();return Ie.h("g",{transform:`matrix(1 0 0 1 ${s-o/2} ${f-l/2})`},Ie.h("polygon",{...g,x:s,y:f,points:c}),Ie.h("line",{...g,x1:15,y1:15,x2:35,y2:35}),Ie.h("line",{...g,x1:35,y1:15,x2:15,y2:35}))}}class o1 extends Ie.PolygonNodeModel{constructor(d,s){const{id:f,text:o,x:l,y:c}=d;d.id=f||`Gateway_${Xn()}`,d.text=o||{value:o||"",x:l,y:c+40},super(d,s),this.points=[[25,0],[50,25],[25,50],[0,25]]}}class i1 extends Ie.PolygonNode{getShape(){const{model:d}=this.props,{x:s,y:f,width:o,height:l,points:c}=d,g=d.getNodeStyle();return Ie.h("g",{transform:`matrix(1 0 0 1 ${s-o/2} ${f-l/2})`},Ie.h("polygon",{...g,x:s,y:f,points:c}),Ie.h("line",{...g,x1:10,y1:25,x2:40,y2:25}),Ie.h("line",{...g,x1:25,y1:10,x2:25,y2:40}))}}class a1 extends J_{}class u1 extends Q_{}class s1 extends ew{isAllowConnectedAsSource(){return!1}}class c1 extends tw{}class l1 extends Cv{getTextPosition(){const{x:d,y:s}=this.text;return d&&s?{x:d,y:s}:this.dbClickPosition||{x:0,y:0}}}class f1 extends Rv{}const p1=Au.model,d1=Au.view;class h1 extends p1{createId(){return`Note_${Xn()}`}initNodeData(d){super.initNodeData(d),this.height=40,this.text.draggable=!1}isAllowConnectedAsSource(){return!1}getNodeStyle(){const d=super.getNodeStyle();return d.strokeDasharray="3 3",d.fill="transparent",d}}class y1 extends d1{}class v1 extends Cv{getEdgeStyle(){const d=super.getEdgeStyle();return d.strokeDasharray="3 3",d}getTextPosition(){const{x:d,y:s}=this.text;return d&&s?{x:d,y:s}:this.dbClickPosition||{x:0,y:0}}}class g1 extends Rv{}const b1=ff.model;class m1 extends b1{createId(){return`Group_${Xn()}`}initNodeData(d){super.initNodeData(d),this.resizable=!0,this.foldable=!0}addChild(d){var s,f;super.addChild(d),(f=(s=this.graphModel.nodesMap[d])==null?void 0:s.model)==null||f.setProperty("groupKey",this.id)}removeChild(d){var s,f;super.removeChild(d),(f=(s=this.graphModel.nodesMap[d])==null?void 0:s.model)==null||f.deleteProperty("groupKey")}}class O1 extends ff.view{}class R1 extends Ww{constructor({lf:d}){super({lf:d}),d.register({type:"group",model:m1,view:O1}),d.off("node:delete",this.deleteGroupChild),d.on("node:delete",({data:s})=>{s.children&&s.children.forEach(f=>{this.nodeGroupMap.delete(f),this.lf.deleteNode(f)})})}}class _1 extends Ie.RectNodeModel{createId(){return`Activity_${Xn()}`}}class w1 extends Ie.RectNode{}const x1=[{type:"process",model:Zw,view:qw},{type:"startEvent",model:Jw,view:Qw},{type:"endEvent",model:e1,view:t1},{type:"exclusiveGateway",model:n1,view:r1},{type:"parallelGateway",model:o1,view:i1},{type:"userTask",model:a1,view:u1},{type:"serviceTask",model:s1,view:c1},{type:"sequenceFlow",model:l1,view:f1},{type:"note",model:h1,view:y1},{type:"noteFlow",model:v1,view:g1},{type:"circulateTask",model:_1,view:w1}];class E1{constructor({lf:d}){d.batchRegister(x1),d.setDefaultEdgeType("sequenceFlow")}}rv(E1,"pluginName","bpmnExtend");export{E1 as B,T1 as C,D1 as D,e1 as E,R1 as G,A1 as I,k1 as M,h1 as N,Zw as P,N1 as S,a1 as U,C1 as a,qw as b,Jw as c,Qw as d,t1 as e,n1 as f,r1 as g,o1 as h,i1 as i,u1 as j,s1 as k,Ie as l,c1 as m,l1 as n,f1 as o,y1 as p,v1 as q,g1 as r,m1 as s,O1 as t,_1 as u,w1 as v};
