import{c as Jx,b as Qx,e as eE,f as tE,d as nE,g as rE,h as oE,j as iE,k as aE,l as uE,m as sE,n as cE,o as c0,p as lE,q as fE,r as pE,s as hE,t as dE,v as yE,w as vE,x as gE,y as mE,z as bE,A as _E,B as OE,C as wE,D as xE,E as EE,F as SE,G as jE,H as PE,I as ME,J as AE,K as TE,L as kE,M as NE,N as DE,O as CE,P as IE,Q as RE,R as LE,S as zE,T as BE,U as FE,V as WE,W as GE,a as XE,X as HE,Y as UE,Z as YE,_ as VE,$ as $E,a0 as KE,a1 as qE,a2 as ZE,a3 as JE,a4 as QE,a5 as eS,a6 as tS,a7 as l0,a8 as f0,a9 as nS,aa as rS,ab as oS,ac as iS,ad as aS,ae as uS,af as sS,ag as cS,ah as lS,ai as fS,aj as pS,ak as hS,al as dS,am as yS,an as vS,ao as gS,ap as mS,aq as bS,ar as _S,as as OS,at as wS,au as xS,av as ES,aw as SS,ax as jS,ay as PS,az as MS,aA as AS,aB as TS,aC as kS,aD as NS,aE as DS,aF as CS,aG as IS,aH as RS,aI as LS,aJ as zS,aK as BS,aL as FS,aM as WS,aN as GS,aO as XS,aP as HS,aQ as US,aR as YS,aS as VS,aT as $S,aU as KS,aV as qS,aW as ZS,aX as JS,aY as QS,aZ as ej,a_ as tj,a$ as nj,b0 as rj,b1 as oj,b2 as ij,b3 as aj,b4 as uj,b5 as sj,i as cj,b6 as lj,b7 as fj,b8 as pj,b9 as hj,ba as dj,bb as yj,bc as vj,bd as gj,be as mj,bf as bj,bg as _j,bh as Oj,bi as wj,bj as xj,bk as Ej,bl as Sj,bm as jj,bn as Pj,bo as Mj,bp as Aj,bq as Tj,br as kj,bs as Nj,bt as Dj,bu as Cj,bv as Ij,bw as p0,bx as h0,by as Rj,bz as Lj,bA as zj,bB as Bj,bC as Fj,bD as d0,bE as y0,bF as Wj,bG as Gj,bH as Xj,bI as Hj,bJ as Uj,bK as Yj,bL as Vj,bM as $j,bN as Kj,bO as qj,bP as Zj,bQ as Jj,bR as Qj,bS as eP,bT as tP,bU as nP,bV as rP,bW as oP,bX as iP,bY as aP,bZ as uP,b_ as sP,b$ as cP,c0 as lP,c1 as fP,c2 as pP,c3 as W,c4 as hP,c5 as dP,c6 as yP,c7 as vP,c8 as vg,c9 as gP,ca as ng,cb as mP,cc as bP,cd as _P,ce as OP,cf as wP,cg as xP,ch as EP,ci as SP,cj as jP,ck as PP,cl as MP,cm as AP,cn as TP,co as kP,cp as NP,cq as DP,cr as CP,cs as IP,ct as RP,cu as LP,cv as zP,cw as BP,cx as FP,cy as WP,cz as GP,cA as XP,cB as HP,cC as UP,cD as YP,cE as VP,cF as $P,cG as KP,cH as qP,cI as ZP,cJ as JP,cK as QP,cL as e2,cM as t2,cN as n2,cO as r2,cP as d_,cQ as o2,cR as i2,cS as a2,cT as u2,cU as s2,cV as c2,cW as l2,cX as f2,cY as p2,cZ as h2,c_ as d2,u as y2,c$ as Ln,d0 as v2,d1 as g2,d2 as Ih,d3 as m2,d4 as b2,d5 as _2}from"./zipWith.4bbbed88.js";import{q as O2,f as w2,e as Pc,l as x2,i as gg,h as E2,d as S2,k as j2,S as v0}from"./baseGet.33efa4e1.js";import{c as bf,i as P2,a as M2,d as Ac}from"./cloneDeep.38140ad9.js";import{d as A2,g as T2,f as k2}from"./baseSet.5cd4fe03.js";import{a as mg}from"./baseMap.51883d4b.js";import{p as N2,b as y_}from"./baseIteratee.e15dbb75.js";import{c as D2,i as C2,t as I2,m as R2,a as L2}from"./merge.7ae91fcb.js";import{d as z2,h as B2,e as F2,i as bg}from"./basePickBy.849e35fc.js";import{k as _g,s as W2}from"./getTag.ca971ad7.js";import{l as v_,o as G2}from"./omit.b0c6495f.js";import{a as rg}from"./initCloneObject.da4dff06.js";import{n as Og,o as X2}from"./omitBy.2cbd96a1.js";import{f as H2,a as U2,u as Y2,b as V2,m as $2,n as K2,d as q2,t as g_,c as Z2,e as J2,i as Q2,g as eM,h as jf,j as tM,k as nM}from"./union.1b10ac77.js";import{g as rM}from"./get.e01f160e.js";import{i as oM,c as iM,d as aM,k as uM,s as sM}from"./Uint8Array.ba75e730.js";import{p as cM}from"./pick.6e01753f.js";import{p as lM}from"./pickBy.99e5d3ae.js";import{s as fM}from"./set.55ae329a.js";import{o as pM,s as hM,a as dM}from"./snakeCase.0c37c420.js";import{i as yM}from"./isEqual.b8a8bf1a.js";import{i as vM}from"./isNil.c75b1b34.js";import{f as gM}from"./fromPairs.e099444b.js";import{d as mM,w as bM}from"./createCompounder.0a7f7d4d.js";import{k as _M}from"./kebabCase.11d8206e.js";const ht={chunk:Jx,compact:Qx,concat:eE,difference:tE,differenceBy:nE,differenceWith:rE,drop:oE,dropRight:iE,dropRightWhile:aE,dropWhile:uE,fill:sE,findIndex:cE,findLastIndex:H2,first:c0,flatten:z2,flattenDeep:U2,flattenDepth:lE,fromPairs:gM,head:c0,indexOf:fE,initial:pE,intersection:hE,intersectionBy:dE,intersectionWith:yE,join:vE,last:v_,lastIndexOf:gE,nth:mE,pull:bE,pullAll:_E,pullAllBy:OE,pullAllWith:wE,pullAt:xE,remove:EE,reverse:SE,slice:jE,sortedIndex:PE,sortedIndexBy:ME,sortedIndexOf:AE,sortedLastIndex:TE,sortedLastIndexBy:kE,sortedLastIndexOf:NE,sortedUniq:DE,sortedUniqBy:CE,tail:IE,take:RE,takeRight:LE,takeRightWhile:zE,takeWhile:BE,union:Y2,unionBy:FE,unionWith:WE,uniq:GE,uniqBy:XE,uniqWith:HE,unzip:UE,unzipWith:YE,without:VE,xor:$E,xorBy:KE,xorWith:qE,zip:ZE,zipObject:JE,zipObjectDeep:QE,zipWith:eS},Pn={countBy:tS,each:l0,eachRight:f0,every:nS,filter:rS,find:oS,findLast:iS,flatMap:V2,flatMapDeep:aS,flatMapDepth:uS,forEach:l0,forEachRight:f0,groupBy:sS,includes:cS,invokeMap:lS,keyBy:fS,map:$2,orderBy:pM,partition:pS,reduce:hS,reduceRight:dS,reject:yS,sample:vS,sampleSize:gS,shuffle:mS,size:bS,some:_S,sortBy:OS},OM={now:K2},ar={after:wS,ary:xS,before:ES,bind:SS,bindKey:jS,curry:PS,curryRight:MS,debounce:q2,defer:AS,delay:TS,flip:kS,memoize:O2,negate:Og,once:NS,overArgs:DS,partial:CS,partialRight:IS,rearg:RS,rest:LS,spread:zS,throttle:g_,unary:BS,wrap:FS},Tt={castArray:Z2,clone:J2,cloneDeep:bf,cloneDeepWith:WS,cloneWith:GS,conformsTo:XS,eq:w2,gt:HS,gte:US,isArguments:A2,isArray:Pc,isArrayBuffer:YS,isArrayLike:oM,isArrayLikeObject:D2,isBoolean:VS,isBuffer:iM,isDate:$S,isElement:KS,isEmpty:qS,isEqual:yM,isEqualWith:ZS,isError:JS,isFinite:QS,isFunction:x2,isInteger:ej,isLength:T2,isMap:P2,isMatch:tj,isMatchWith:nj,isNaN:rj,isNative:oj,isNil:vM,isNull:ij,isNumber:aj,isObject:gg,isObjectLike:E2,isPlainObject:C2,isRegExp:uj,isSafeInteger:sj,isSet:M2,isString:cj,isSymbol:S2,isTypedArray:aM,isUndefined:Q2,isWeakMap:lj,isWeakSet:fj,lt:pj,lte:hj,toArray:dj,toFinite:eM,toInteger:jf,toLength:yj,toNumber:tM,toPlainObject:I2,toSafeInteger:vj,toString:j2},no={add:gj,ceil:mj,divide:bj,floor:_j,max:Oj,maxBy:wj,mean:xj,meanBy:Ej,min:Sj,minBy:jj,multiply:Pj,round:Mj,subtract:Aj,sum:Tj,sumBy:kj},wg={clamp:Nj,inRange:Dj,random:Cj},Ht={assign:Ij,assignIn:p0,assignInWith:h0,assignWith:Rj,at:Lj,create:zj,defaults:Bj,defaultsDeep:Fj,entries:d0,entriesIn:y0,extend:p0,extendWith:h0,findKey:Wj,findLastKey:Gj,forIn:Xj,forInRight:Hj,forOwn:Uj,forOwnRight:Yj,functions:Vj,functionsIn:$j,get:rM,has:Kj,hasIn:B2,invert:qj,invertBy:Zj,invoke:Jj,keys:_g,keysIn:uM,mapKeys:Qj,mapValues:eP,merge:R2,mergeWith:tP,omit:G2,omitBy:X2,pick:cM,pickBy:lM,result:nP,set:fM,setWith:rP,toPairs:d0,toPairsIn:y0,transform:oP,unset:iP,update:aP,updateWith:uP,values:sP,valuesIn:cP},Fi={at:lP,chain:fP,commit:pP,lodash:W,next:hP,plant:dP,reverse:yP,tap:vP,thru:vg,toIterator:gP,toJSON:ng,value:ng,valueOf:ng,wrapperChain:mP},bn={camelCase:bP,capitalize:_P,deburr:mM,endsWith:OP,escape:wP,escapeRegExp:xP,kebabCase:_M,lowerCase:EP,lowerFirst:SP,pad:jP,padEnd:PP,padStart:MP,parseInt:AP,repeat:TP,replace:kP,snakeCase:hM,split:NP,startCase:DP,startsWith:CP,template:IP,templateSettings:RP,toLower:LP,toUpper:zP,trim:BP,trimEnd:FP,trimStart:WP,truncate:GP,unescape:XP,upperCase:HP,upperFirst:UP,words:bM},_n={attempt:YP,bindAll:VP,cond:$P,conforms:KP,constant:F2,defaultTo:qP,flow:ZP,flowRight:JP,identity:bg,iteratee:QP,matches:e2,matchesProperty:t2,method:n2,methodOf:r2,mixin:d_,noop:nM,nthArg:o2,over:i2,overEvery:a2,overSome:dM,property:N2,propertyOf:u2,range:s2,rangeRight:c2,stubArray:W2,stubFalse:sM,stubObject:l2,stubString:f2,stubTrue:p2,times:h2,toPath:d2,uniqueId:y2};function wM(){var y=new Ln(this.__wrapped__);return y.__actions__=rg(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=rg(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=rg(this.__views__),y}function xM(){if(this.__filtered__){var y=new Ln(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}var EM=Math.max,SM=Math.min;function jM(y,h,a){for(var l=-1,o=a.length;++l<o;){var f=a[l],p=f.size;switch(f.type){case"drop":y+=p;break;case"dropRight":h-=p;break;case"take":h=SM(h,y+p);break;case"takeRight":y=EM(y,h-p);break}}return{start:y,end:h}}var PM=1,MM=2,AM=Math.min;function TM(){var y=this.__wrapped__.value(),h=this.__dir__,a=Pc(y),l=h<0,o=a?y.length:0,f=jM(0,o,this.__views__),p=f.start,m=f.end,g=m-p,E=l?m:p-1,j=this.__iteratees__,S=j.length,k=0,T=AM(g,this.__takeCount__);if(!a||!l&&o==g&&T==g)return v2(y,this.__actions__);var C=[];e:for(;g--&&k<T;){E+=h;for(var N=-1,R=y[E];++N<S;){var G=j[N],H=G.iteratee,Q=G.type,ue=H(R);if(Q==MM)R=ue;else if(!ue){if(Q==PM)continue e;break e}}C[k++]=R}return C}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var kM="4.17.21",NM=2,DM=1,CM=3,m_=4294967295,IM=Array.prototype,RM=Object.prototype,b_=RM.hasOwnProperty,g0=v0?v0.iterator:void 0,LM=Math.max,m0=Math.min,xg=function(y){return function(h,a,l){if(l==null){var o=gg(a),f=o&&_g(a),p=f&&f.length&&b2(a,f);(p?p.length:o)||(l=a,a=h,h=this)}return y(h,a,l)}}(d_);W.after=ar.after;W.ary=ar.ary;W.assign=Ht.assign;W.assignIn=Ht.assignIn;W.assignInWith=Ht.assignInWith;W.assignWith=Ht.assignWith;W.at=Ht.at;W.before=ar.before;W.bind=ar.bind;W.bindAll=_n.bindAll;W.bindKey=ar.bindKey;W.castArray=Tt.castArray;W.chain=Fi.chain;W.chunk=ht.chunk;W.compact=ht.compact;W.concat=ht.concat;W.cond=_n.cond;W.conforms=_n.conforms;W.constant=_n.constant;W.countBy=Pn.countBy;W.create=Ht.create;W.curry=ar.curry;W.curryRight=ar.curryRight;W.debounce=ar.debounce;W.defaults=Ht.defaults;W.defaultsDeep=Ht.defaultsDeep;W.defer=ar.defer;W.delay=ar.delay;W.difference=ht.difference;W.differenceBy=ht.differenceBy;W.differenceWith=ht.differenceWith;W.drop=ht.drop;W.dropRight=ht.dropRight;W.dropRightWhile=ht.dropRightWhile;W.dropWhile=ht.dropWhile;W.fill=ht.fill;W.filter=Pn.filter;W.flatMap=Pn.flatMap;W.flatMapDeep=Pn.flatMapDeep;W.flatMapDepth=Pn.flatMapDepth;W.flatten=ht.flatten;W.flattenDeep=ht.flattenDeep;W.flattenDepth=ht.flattenDepth;W.flip=ar.flip;W.flow=_n.flow;W.flowRight=_n.flowRight;W.fromPairs=ht.fromPairs;W.functions=Ht.functions;W.functionsIn=Ht.functionsIn;W.groupBy=Pn.groupBy;W.initial=ht.initial;W.intersection=ht.intersection;W.intersectionBy=ht.intersectionBy;W.intersectionWith=ht.intersectionWith;W.invert=Ht.invert;W.invertBy=Ht.invertBy;W.invokeMap=Pn.invokeMap;W.iteratee=_n.iteratee;W.keyBy=Pn.keyBy;W.keys=_g;W.keysIn=Ht.keysIn;W.map=Pn.map;W.mapKeys=Ht.mapKeys;W.mapValues=Ht.mapValues;W.matches=_n.matches;W.matchesProperty=_n.matchesProperty;W.memoize=ar.memoize;W.merge=Ht.merge;W.mergeWith=Ht.mergeWith;W.method=_n.method;W.methodOf=_n.methodOf;W.mixin=xg;W.negate=Og;W.nthArg=_n.nthArg;W.omit=Ht.omit;W.omitBy=Ht.omitBy;W.once=ar.once;W.orderBy=Pn.orderBy;W.over=_n.over;W.overArgs=ar.overArgs;W.overEvery=_n.overEvery;W.overSome=_n.overSome;W.partial=ar.partial;W.partialRight=ar.partialRight;W.partition=Pn.partition;W.pick=Ht.pick;W.pickBy=Ht.pickBy;W.property=_n.property;W.propertyOf=_n.propertyOf;W.pull=ht.pull;W.pullAll=ht.pullAll;W.pullAllBy=ht.pullAllBy;W.pullAllWith=ht.pullAllWith;W.pullAt=ht.pullAt;W.range=_n.range;W.rangeRight=_n.rangeRight;W.rearg=ar.rearg;W.reject=Pn.reject;W.remove=ht.remove;W.rest=ar.rest;W.reverse=ht.reverse;W.sampleSize=Pn.sampleSize;W.set=Ht.set;W.setWith=Ht.setWith;W.shuffle=Pn.shuffle;W.slice=ht.slice;W.sortBy=Pn.sortBy;W.sortedUniq=ht.sortedUniq;W.sortedUniqBy=ht.sortedUniqBy;W.split=bn.split;W.spread=ar.spread;W.tail=ht.tail;W.take=ht.take;W.takeRight=ht.takeRight;W.takeRightWhile=ht.takeRightWhile;W.takeWhile=ht.takeWhile;W.tap=Fi.tap;W.throttle=ar.throttle;W.thru=vg;W.toArray=Tt.toArray;W.toPairs=Ht.toPairs;W.toPairsIn=Ht.toPairsIn;W.toPath=_n.toPath;W.toPlainObject=Tt.toPlainObject;W.transform=Ht.transform;W.unary=ar.unary;W.union=ht.union;W.unionBy=ht.unionBy;W.unionWith=ht.unionWith;W.uniq=ht.uniq;W.uniqBy=ht.uniqBy;W.uniqWith=ht.uniqWith;W.unset=Ht.unset;W.unzip=ht.unzip;W.unzipWith=ht.unzipWith;W.update=Ht.update;W.updateWith=Ht.updateWith;W.values=Ht.values;W.valuesIn=Ht.valuesIn;W.without=ht.without;W.words=bn.words;W.wrap=ar.wrap;W.xor=ht.xor;W.xorBy=ht.xorBy;W.xorWith=ht.xorWith;W.zip=ht.zip;W.zipObject=ht.zipObject;W.zipObjectDeep=ht.zipObjectDeep;W.zipWith=ht.zipWith;W.entries=Ht.toPairs;W.entriesIn=Ht.toPairsIn;W.extend=Ht.assignIn;W.extendWith=Ht.assignInWith;xg(W,W);W.add=no.add;W.attempt=_n.attempt;W.camelCase=bn.camelCase;W.capitalize=bn.capitalize;W.ceil=no.ceil;W.clamp=wg.clamp;W.clone=Tt.clone;W.cloneDeep=Tt.cloneDeep;W.cloneDeepWith=Tt.cloneDeepWith;W.cloneWith=Tt.cloneWith;W.conformsTo=Tt.conformsTo;W.deburr=bn.deburr;W.defaultTo=_n.defaultTo;W.divide=no.divide;W.endsWith=bn.endsWith;W.eq=Tt.eq;W.escape=bn.escape;W.escapeRegExp=bn.escapeRegExp;W.every=Pn.every;W.find=Pn.find;W.findIndex=ht.findIndex;W.findKey=Ht.findKey;W.findLast=Pn.findLast;W.findLastIndex=ht.findLastIndex;W.findLastKey=Ht.findLastKey;W.floor=no.floor;W.forEach=Pn.forEach;W.forEachRight=Pn.forEachRight;W.forIn=Ht.forIn;W.forInRight=Ht.forInRight;W.forOwn=Ht.forOwn;W.forOwnRight=Ht.forOwnRight;W.get=Ht.get;W.gt=Tt.gt;W.gte=Tt.gte;W.has=Ht.has;W.hasIn=Ht.hasIn;W.head=ht.head;W.identity=bg;W.includes=Pn.includes;W.indexOf=ht.indexOf;W.inRange=wg.inRange;W.invoke=Ht.invoke;W.isArguments=Tt.isArguments;W.isArray=Pc;W.isArrayBuffer=Tt.isArrayBuffer;W.isArrayLike=Tt.isArrayLike;W.isArrayLikeObject=Tt.isArrayLikeObject;W.isBoolean=Tt.isBoolean;W.isBuffer=Tt.isBuffer;W.isDate=Tt.isDate;W.isElement=Tt.isElement;W.isEmpty=Tt.isEmpty;W.isEqual=Tt.isEqual;W.isEqualWith=Tt.isEqualWith;W.isError=Tt.isError;W.isFinite=Tt.isFinite;W.isFunction=Tt.isFunction;W.isInteger=Tt.isInteger;W.isLength=Tt.isLength;W.isMap=Tt.isMap;W.isMatch=Tt.isMatch;W.isMatchWith=Tt.isMatchWith;W.isNaN=Tt.isNaN;W.isNative=Tt.isNative;W.isNil=Tt.isNil;W.isNull=Tt.isNull;W.isNumber=Tt.isNumber;W.isObject=gg;W.isObjectLike=Tt.isObjectLike;W.isPlainObject=Tt.isPlainObject;W.isRegExp=Tt.isRegExp;W.isSafeInteger=Tt.isSafeInteger;W.isSet=Tt.isSet;W.isString=Tt.isString;W.isSymbol=Tt.isSymbol;W.isTypedArray=Tt.isTypedArray;W.isUndefined=Tt.isUndefined;W.isWeakMap=Tt.isWeakMap;W.isWeakSet=Tt.isWeakSet;W.join=ht.join;W.kebabCase=bn.kebabCase;W.last=v_;W.lastIndexOf=ht.lastIndexOf;W.lowerCase=bn.lowerCase;W.lowerFirst=bn.lowerFirst;W.lt=Tt.lt;W.lte=Tt.lte;W.max=no.max;W.maxBy=no.maxBy;W.mean=no.mean;W.meanBy=no.meanBy;W.min=no.min;W.minBy=no.minBy;W.stubArray=_n.stubArray;W.stubFalse=_n.stubFalse;W.stubObject=_n.stubObject;W.stubString=_n.stubString;W.stubTrue=_n.stubTrue;W.multiply=no.multiply;W.nth=ht.nth;W.noop=_n.noop;W.now=OM.now;W.pad=bn.pad;W.padEnd=bn.padEnd;W.padStart=bn.padStart;W.parseInt=bn.parseInt;W.random=wg.random;W.reduce=Pn.reduce;W.reduceRight=Pn.reduceRight;W.repeat=bn.repeat;W.replace=bn.replace;W.result=Ht.result;W.round=no.round;W.sample=Pn.sample;W.size=Pn.size;W.snakeCase=bn.snakeCase;W.some=Pn.some;W.sortedIndex=ht.sortedIndex;W.sortedIndexBy=ht.sortedIndexBy;W.sortedIndexOf=ht.sortedIndexOf;W.sortedLastIndex=ht.sortedLastIndex;W.sortedLastIndexBy=ht.sortedLastIndexBy;W.sortedLastIndexOf=ht.sortedLastIndexOf;W.startCase=bn.startCase;W.startsWith=bn.startsWith;W.subtract=no.subtract;W.sum=no.sum;W.sumBy=no.sumBy;W.template=bn.template;W.times=_n.times;W.toFinite=Tt.toFinite;W.toInteger=jf;W.toLength=Tt.toLength;W.toLower=bn.toLower;W.toNumber=Tt.toNumber;W.toSafeInteger=Tt.toSafeInteger;W.toString=Tt.toString;W.toUpper=bn.toUpper;W.trim=bn.trim;W.trimEnd=bn.trimEnd;W.trimStart=bn.trimStart;W.truncate=bn.truncate;W.unescape=bn.unescape;W.uniqueId=_n.uniqueId;W.upperCase=bn.upperCase;W.upperFirst=bn.upperFirst;W.each=Pn.forEach;W.eachRight=Pn.forEachRight;W.first=ht.head;xg(W,function(){var y={};return mg(W,function(h,a){b_.call(W.prototype,a)||(y[a]=h)}),y}(),{chain:!1});W.VERSION=kM;(W.templateSettings=bn.templateSettings).imports._=W;Ac(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){W[y].placeholder=W});Ac(["drop","take"],function(y,h){Ln.prototype[y]=function(a){a=a===void 0?1:LM(jf(a),0);var l=this.__filtered__&&!h?new Ln(this):this.clone();return l.__filtered__?l.__takeCount__=m0(a,l.__takeCount__):l.__views__.push({size:m0(a,m_),type:y+(l.__dir__<0?"Right":"")}),l},Ln.prototype[y+"Right"]=function(a){return this.reverse()[y](a).reverse()}});Ac(["filter","map","takeWhile"],function(y,h){var a=h+1,l=a==DM||a==CM;Ln.prototype[y]=function(o){var f=this.clone();return f.__iteratees__.push({iteratee:y_(o),type:a}),f.__filtered__=f.__filtered__||l,f}});Ac(["head","last"],function(y,h){var a="take"+(h?"Right":"");Ln.prototype[y]=function(){return this[a](1).value()[0]}});Ac(["initial","tail"],function(y,h){var a="drop"+(h?"":"Right");Ln.prototype[y]=function(){return this.__filtered__?new Ln(this):this[a](1)}});Ln.prototype.compact=function(){return this.filter(bg)};Ln.prototype.find=function(y){return this.filter(y).head()};Ln.prototype.findLast=function(y){return this.reverse().find(y)};Ln.prototype.invokeMap=L2(function(y,h){return typeof y=="function"?new Ln(this):this.map(function(a){return g2(a,y,h)})});Ln.prototype.reject=function(y){return this.filter(Og(y_(y)))};Ln.prototype.slice=function(y,h){y=jf(y);var a=this;return a.__filtered__&&(y>0||h<0)?new Ln(a):(y<0?a=a.takeRight(-y):y&&(a=a.drop(y)),h!==void 0&&(h=jf(h),a=h<0?a.dropRight(-h):a.take(h-y)),a)};Ln.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()};Ln.prototype.toArray=function(){return this.take(m_)};mg(Ln.prototype,function(y,h){var a=/^(?:filter|find|map|reject)|While$/.test(h),l=/^(?:head|last)$/.test(h),o=W[l?"take"+(h=="last"?"Right":""):h],f=l||/^find/.test(h);o&&(W.prototype[h]=function(){var p=this.__wrapped__,m=l?[1]:arguments,g=p instanceof Ln,E=m[0],j=g||Pc(p),S=function(G){var H=o.apply(W,k2([G],m));return l&&k?H[0]:H};j&&a&&typeof E=="function"&&E.length!=1&&(g=j=!1);var k=this.__chain__,T=!!this.__actions__.length,C=f&&!k,N=g&&!T;if(!f&&j){p=N?p:new Ln(this);var R=y.apply(p,m);return R.__actions__.push({func:vg,args:[S],thisArg:void 0}),new _2(R,k)}return C&&N?y.apply(this,m):(R=this.thru(S),C?l?R.value()[0]:R.value():R)})});Ac(["pop","push","shift","sort","splice","unshift"],function(y){var h=IM[y],a=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",l=/^(?:pop|shift)$/.test(y);W.prototype[y]=function(){var o=arguments;if(l&&!this.__chain__){var f=this.value();return h.apply(Pc(f)?f:[],o)}return this[a](function(p){return h.apply(Pc(p)?p:[],o)})}});mg(Ln.prototype,function(y,h){var a=W[h];if(a){var l=a.name+"";b_.call(Ih,l)||(Ih[l]=[]),Ih[l].push({name:h,func:a})}});Ih[m2(void 0,NM).name]=[{name:"wrapper",func:void 0}];Ln.prototype.clone=wM;Ln.prototype.reverse=xM;Ln.prototype.value=TM;W.prototype.at=Fi.at;W.prototype.chain=Fi.wrapperChain;W.prototype.commit=Fi.commit;W.prototype.next=Fi.next;W.prototype.plant=Fi.plant;W.prototype.reverse=Fi.reverse;W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Fi.value;W.prototype.first=W.prototype.head;g0&&(W.prototype[g0]=Fi.toIterator);var ug={exports:{}};(function(y,h){(function(a,l){y.exports=l()})(window,function(){return function(a){var l={};function o(f){if(l[f])return l[f].exports;var p=l[f]={i:f,l:!1,exports:{}};return a[f].call(p.exports,p,p.exports,o),p.l=!0,p.exports}return o.m=a,o.c=l,o.d=function(f,p,m){o.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:m})},o.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},o.t=function(f,p){if(1&p&&(f=o(f)),8&p||4&p&&typeof f=="object"&&f&&f.__esModule)return f;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:f}),2&p&&typeof f!="string")for(var g in f)o.d(m,g,(function(E){return f[E]}).bind(null,g));return m},o.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return o.d(p,"a",p),p},o.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},o.p="",o(o.s=221)}([function(a,l,o){o.d(l,"a",function(){return re}),o.d(l,"b",function(){return ue}),o.d(l,"c",function(){return Ze}),o.d(l,"d",function(){return gt}),o.d(l,"e",function(){return G}),o.d(l,"f",function(){return Q}),o.d(l,"g",function(){return G}),o.d(l,"h",function(){return Ve}),o.d(l,"i",function(){return p}),o.d(l,"j",function(){return wt}),o.d(l,"k",function(){return q});var f,p,m,g,E,j,S,k={},T=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(le,se){for(var ve in se)le[ve]=se[ve];return le}function R(le){var se=le.parentNode;se&&se.removeChild(le)}function G(le,se,ve){var Ce,He,ze,xt={};for(ze in se)ze=="key"?Ce=se[ze]:ze=="ref"?He=se[ze]:xt[ze]=se[ze];if(arguments.length>2&&(xt.children=arguments.length>3?f.call(arguments,2):ve),typeof le=="function"&&le.defaultProps!=null)for(ze in le.defaultProps)xt[ze]===void 0&&(xt[ze]=le.defaultProps[ze]);return H(le,xt,Ce,He,null)}function H(le,se,ve,Ce,He){var ze={type:le,props:se,key:ve,ref:Ce,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:He??++m};return He==null&&p.vnode!=null&&p.vnode(ze),ze}function Q(){return{current:null}}function ue(le){return le.children}function re(le,se){this.props=le,this.context=se}function ee(le,se){if(se==null)return le.__?ee(le.__,le.__.__k.indexOf(le)+1):null;for(var ve;se<le.__k.length;se++)if((ve=le.__k[se])!=null&&ve.__e!=null)return ve.__e;return typeof le.type=="function"?ee(le):null}function ne(le){var se,ve;if((le=le.__)!=null&&le.__c!=null){for(le.__e=le.__c.base=null,se=0;se<le.__k.length;se++)if((ve=le.__k[se])!=null&&ve.__e!=null){le.__e=le.__c.base=ve.__e;break}return ne(le)}}function V(le){(!le.__d&&(le.__d=!0)&&g.push(le)&&!B.__r++||j!==p.debounceRendering)&&((j=p.debounceRendering)||E)(B)}function B(){for(var le;B.__r=g.length;)le=g.sort(function(se,ve){return se.__v.__b-ve.__v.__b}),g=[],le.some(function(se){var ve,Ce,He,ze,xt,kt;se.__d&&(xt=(ze=(ve=se).__v).__e,(kt=ve.__P)&&(Ce=[],(He=N({},ze)).__v=ze.__v+1,je(kt,ze,He,ve.__n,kt.ownerSVGElement!==void 0,ze.__h!=null?[xt]:null,Ce,xt??ee(ze),ze.__h),ge(Ce,ze),ze.__e!=xt&&ne(ze)))})}function Y(le,se,ve,Ce,He,ze,xt,kt,jt,vt){var ke,st,pe,ot,Lt,sn,zt,Qt=Ce&&Ce.__k||T,yn=Qt.length;for(ve.__k=[],ke=0;ke<se.length;ke++)if((ot=ve.__k[ke]=(ot=se[ke])==null||typeof ot=="boolean"?null:typeof ot=="string"||typeof ot=="number"||typeof ot=="bigint"?H(null,ot,null,null,ot):Array.isArray(ot)?H(ue,{children:ot},null,null,null):ot.__b>0?H(ot.type,ot.props,ot.key,null,ot.__v):ot)!=null){if(ot.__=ve,ot.__b=ve.__b+1,(pe=Qt[ke])===null||pe&&ot.key==pe.key&&ot.type===pe.type)Qt[ke]=void 0;else for(st=0;st<yn;st++){if((pe=Qt[st])&&ot.key==pe.key&&ot.type===pe.type){Qt[st]=void 0;break}pe=null}je(le,ot,pe=pe||k,He,ze,xt,kt,jt,vt),Lt=ot.__e,(st=ot.ref)&&pe.ref!=st&&(zt||(zt=[]),pe.ref&&zt.push(pe.ref,null,ot),zt.push(st,ot.__c||Lt,ot)),Lt!=null?(sn==null&&(sn=Lt),typeof ot.type=="function"&&ot.__k===pe.__k?ot.__d=jt=$(ot,jt,le):jt=ce(le,ot,pe,Qt,Lt,jt),typeof ve.type=="function"&&(ve.__d=jt)):jt&&pe.__e==jt&&jt.parentNode!=le&&(jt=ee(pe))}for(ve.__e=sn,ke=yn;ke--;)Qt[ke]!=null&&(typeof ve.type=="function"&&Qt[ke].__e!=null&&Qt[ke].__e==ve.__d&&(ve.__d=ee(Ce,ke+1)),Xe(Qt[ke],Qt[ke]));if(zt)for(ke=0;ke<zt.length;ke++)Te(zt[ke],zt[++ke],zt[++ke])}function $(le,se,ve){for(var Ce,He=le.__k,ze=0;He&&ze<He.length;ze++)(Ce=He[ze])&&(Ce.__=le,se=typeof Ce.type=="function"?$(Ce,se,ve):ce(ve,Ce,Ce,He,Ce.__e,se));return se}function q(le,se){return se=se||[],le==null||typeof le=="boolean"||(Array.isArray(le)?le.some(function(ve){q(ve,se)}):se.push(le)),se}function ce(le,se,ve,Ce,He,ze){var xt,kt,jt;if(se.__d!==void 0)xt=se.__d,se.__d=void 0;else if(ve==null||He!=ze||He.parentNode==null)e:if(ze==null||ze.parentNode!==le)le.appendChild(He),xt=null;else{for(kt=ze,jt=0;(kt=kt.nextSibling)&&jt<Ce.length;jt+=2)if(kt==He)break e;le.insertBefore(He,ze),xt=ze}return xt!==void 0?xt:He.nextSibling}function Se(le,se,ve){se[0]==="-"?le.setProperty(se,ve):le[se]=ve==null?"":typeof ve!="number"||C.test(se)?ve:ve+"px"}function Oe(le,se,ve,Ce,He){var ze;e:if(se==="style")if(typeof ve=="string")le.style.cssText=ve;else{if(typeof Ce=="string"&&(le.style.cssText=Ce=""),Ce)for(se in Ce)ve&&se in ve||Se(le.style,se,"");if(ve)for(se in ve)Ce&&ve[se]===Ce[se]||Se(le.style,se,ve[se])}else if(se[0]==="o"&&se[1]==="n")ze=se!==(se=se.replace(/Capture$/,"")),se=se.toLowerCase()in le?se.toLowerCase().slice(2):se.slice(2),le.l||(le.l={}),le.l[se+ze]=ve,ve?Ce||le.addEventListener(se,ze?We:Ae,ze):le.removeEventListener(se,ze?We:Ae,ze);else if(se!=="dangerouslySetInnerHTML"){if(He)se=se.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(se!=="href"&&se!=="list"&&se!=="form"&&se!=="tabIndex"&&se!=="download"&&se in le)try{le[se]=ve??"";break e}catch{}typeof ve=="function"||(ve!=null&&(ve!==!1||se[0]==="a"&&se[1]==="r")?le.setAttribute(se,ve):le.removeAttribute(se))}}function Ae(le){this.l[le.type+!1](p.event?p.event(le):le)}function We(le){this.l[le.type+!0](p.event?p.event(le):le)}function je(le,se,ve,Ce,He,ze,xt,kt,jt){var vt,ke,st,pe,ot,Lt,sn,zt,Qt,yn,jn,Ct=se.type;if(se.constructor!==void 0)return null;ve.__h!=null&&(jt=ve.__h,kt=se.__e=ve.__e,se.__h=null,ze=[kt]),(vt=p.__b)&&vt(se);try{e:if(typeof Ct=="function"){if(zt=se.props,Qt=(vt=Ct.contextType)&&Ce[vt.__c],yn=vt?Qt?Qt.props.value:vt.__:Ce,ve.__c?sn=(ke=se.__c=ve.__c).__=ke.__E:("prototype"in Ct&&Ct.prototype.render?se.__c=ke=new Ct(zt,yn):(se.__c=ke=new re(zt,yn),ke.constructor=Ct,ke.render=rt),Qt&&Qt.sub(ke),ke.props=zt,ke.state||(ke.state={}),ke.context=yn,ke.__n=Ce,st=ke.__d=!0,ke.__h=[]),ke.__s==null&&(ke.__s=ke.state),Ct.getDerivedStateFromProps!=null&&(ke.__s==ke.state&&(ke.__s=N({},ke.__s)),N(ke.__s,Ct.getDerivedStateFromProps(zt,ke.__s))),pe=ke.props,ot=ke.state,st)Ct.getDerivedStateFromProps==null&&ke.componentWillMount!=null&&ke.componentWillMount(),ke.componentDidMount!=null&&ke.__h.push(ke.componentDidMount);else{if(Ct.getDerivedStateFromProps==null&&zt!==pe&&ke.componentWillReceiveProps!=null&&ke.componentWillReceiveProps(zt,yn),!ke.__e&&ke.shouldComponentUpdate!=null&&ke.shouldComponentUpdate(zt,ke.__s,yn)===!1||se.__v===ve.__v){ke.props=zt,ke.state=ke.__s,se.__v!==ve.__v&&(ke.__d=!1),ke.__v=se,se.__e=ve.__e,se.__k=ve.__k,se.__k.forEach(function(Gn){Gn&&(Gn.__=se)}),ke.__h.length&&xt.push(ke);break e}ke.componentWillUpdate!=null&&ke.componentWillUpdate(zt,ke.__s,yn),ke.componentDidUpdate!=null&&ke.__h.push(function(){ke.componentDidUpdate(pe,ot,Lt)})}ke.context=yn,ke.props=zt,ke.state=ke.__s,(vt=p.__r)&&vt(se),ke.__d=!1,ke.__v=se,ke.__P=le,vt=ke.render(ke.props,ke.state,ke.context),ke.state=ke.__s,ke.getChildContext!=null&&(Ce=N(N({},Ce),ke.getChildContext())),st||ke.getSnapshotBeforeUpdate==null||(Lt=ke.getSnapshotBeforeUpdate(pe,ot)),jn=vt!=null&&vt.type===ue&&vt.key==null?vt.props.children:vt,Y(le,Array.isArray(jn)?jn:[jn],se,ve,Ce,He,ze,xt,kt,jt),ke.base=se.__e,se.__h=null,ke.__h.length&&xt.push(ke),sn&&(ke.__E=ke.__=null),ke.__e=!1}else ze==null&&se.__v===ve.__v?(se.__k=ve.__k,se.__e=ve.__e):se.__e=Pe(ve.__e,se,ve,Ce,He,ze,xt,jt);(vt=p.diffed)&&vt(se)}catch(Gn){se.__v=null,(jt||ze!=null)&&(se.__e=kt,se.__h=!!jt,ze[ze.indexOf(kt)]=null),p.__e(Gn,se,ve)}}function ge(le,se){p.__c&&p.__c(se,le),le.some(function(ve){try{le=ve.__h,ve.__h=[],le.some(function(Ce){Ce.call(ve)})}catch(Ce){p.__e(Ce,ve.__v)}})}function Pe(le,se,ve,Ce,He,ze,xt,kt){var jt,vt,ke,st=ve.props,pe=se.props,ot=se.type,Lt=0;if(ot==="svg"&&(He=!0),ze!=null){for(;Lt<ze.length;Lt++)if((jt=ze[Lt])&&"setAttribute"in jt==!!ot&&(ot?jt.localName===ot:jt.nodeType===3)){le=jt,ze[Lt]=null;break}}if(le==null){if(ot===null)return document.createTextNode(pe);le=He?document.createElementNS("http://www.w3.org/2000/svg",ot):document.createElement(ot,pe.is&&pe),ze=null,kt=!1}if(ot===null)st===pe||kt&&le.data===pe||(le.data=pe);else{if(ze=ze&&f.call(le.childNodes),vt=(st=ve.props||k).dangerouslySetInnerHTML,ke=pe.dangerouslySetInnerHTML,!kt){if(ze!=null)for(st={},Lt=0;Lt<le.attributes.length;Lt++)st[le.attributes[Lt].name]=le.attributes[Lt].value;(ke||vt)&&(ke&&(vt&&ke.__html==vt.__html||ke.__html===le.innerHTML)||(le.innerHTML=ke&&ke.__html||""))}if(function(sn,zt,Qt,yn,jn){var Ct;for(Ct in Qt)Ct==="children"||Ct==="key"||Ct in zt||Oe(sn,Ct,null,Qt[Ct],yn);for(Ct in zt)jn&&typeof zt[Ct]!="function"||Ct==="children"||Ct==="key"||Ct==="value"||Ct==="checked"||Qt[Ct]===zt[Ct]||Oe(sn,Ct,zt[Ct],Qt[Ct],yn)}(le,pe,st,He,kt),ke)se.__k=[];else if(Lt=se.props.children,Y(le,Array.isArray(Lt)?Lt:[Lt],se,ve,Ce,He&&ot!=="foreignObject",ze,xt,ze?ze[0]:ve.__k&&ee(ve,0),kt),ze!=null)for(Lt=ze.length;Lt--;)ze[Lt]!=null&&R(ze[Lt]);kt||("value"in pe&&(Lt=pe.value)!==void 0&&(Lt!==st.value||Lt!==le.value||ot==="progress"&&!Lt)&&Oe(le,"value",Lt,st.value,!1),"checked"in pe&&(Lt=pe.checked)!==void 0&&Lt!==le.checked&&Oe(le,"checked",Lt,st.checked,!1))}return le}function Te(le,se,ve){try{typeof le=="function"?le(se):le.current=se}catch(Ce){p.__e(Ce,ve)}}function Xe(le,se,ve){var Ce,He;if(p.unmount&&p.unmount(le),(Ce=le.ref)&&(Ce.current&&Ce.current!==le.__e||Te(Ce,null,se)),(Ce=le.__c)!=null){if(Ce.componentWillUnmount)try{Ce.componentWillUnmount()}catch(ze){p.__e(ze,se)}Ce.base=Ce.__P=null}if(Ce=le.__k)for(He=0;He<Ce.length;He++)Ce[He]&&Xe(Ce[He],se,typeof le.type!="function");ve||le.__e==null||R(le.__e),le.__e=le.__d=void 0}function rt(le,se,ve){return this.constructor(le,ve)}function wt(le,se,ve){var Ce,He,ze;p.__&&p.__(le,se),He=(Ce=typeof ve=="function")?null:ve&&ve.__k||se.__k,ze=[],je(se,le=(!Ce&&ve||se).__k=G(ue,null,[le]),He||k,k,se.ownerSVGElement!==void 0,!Ce&&ve?[ve]:He?null:se.firstChild?f.call(se.childNodes):null,ze,!Ce&&ve?ve:He?He.__e:se.firstChild,Ce),ge(ze,le)}function Ve(le,se){wt(le,se,Ve)}function Ze(le,se,ve){var Ce,He,ze,xt=N({},le.props);for(ze in se)ze=="key"?Ce=se[ze]:ze=="ref"?He=se[ze]:xt[ze]=se[ze];return arguments.length>2&&(xt.children=arguments.length>3?f.call(arguments,2):ve),H(le.type,xt,Ce||le.key,He||le.ref,null)}function gt(le,se){var ve={__c:se="__cC"+S++,__:le,Consumer:function(Ce,He){return Ce.children(He)},Provider:function(Ce){var He,ze;return this.getChildContext||(He=[],(ze={})[se]=this,this.getChildContext=function(){return ze},this.shouldComponentUpdate=function(xt){this.props.value!==xt.value&&He.some(V)},this.sub=function(xt){He.push(xt);var kt=xt.componentWillUnmount;xt.componentWillUnmount=function(){He.splice(He.indexOf(xt),1),kt&&kt.call(xt)}}),Ce.children}};return ve.Provider.__=ve.Consumer.contextType=ve}f=T.slice,p={__e:function(le,se){for(var ve,Ce,He;se=se.__;)if((ve=se.__c)&&!ve.__)try{if((Ce=ve.constructor)&&Ce.getDerivedStateFromError!=null&&(ve.setState(Ce.getDerivedStateFromError(le)),He=ve.__d),ve.componentDidCatch!=null&&(ve.componentDidCatch(le),He=ve.__d),He)return ve.__E=ve}catch(ze){le=ze}throw le}},m=0,re.prototype.setState=function(le,se){var ve;ve=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof le=="function"&&(le=le(N({},ve),this.props)),le&&N(ve,le),le!=null&&this.__v&&(se&&this.__h.push(se),V(this))},re.prototype.forceUpdate=function(le){this.__v&&(this.__e=!0,le&&this.__h.push(le),V(this))},re.prototype.render=ue,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B.__r=0,S=0},function(a,l,o){(function(f,p){o.d(l,"a",function(){return V}),o.d(l,"b",function(){return Ou}),o.d(l,"c",function(){return ao}),o.d(l,"d",function(){return St}),o.d(l,"e",function(){return Ke}),o.d(l,"f",function(){return $e}),o.d(l,"g",function(){return bt}),o.d(l,"h",function(){return Oo}),o.d(l,"i",function(){return jn}),o.d(l,"j",function(){return it}),o.d(l,"k",function(){return Ao}),o.d(l,"l",function(){return fu}),o.d(l,"m",function(){return sn}),o.d(l,"n",function(){return vi}),o.d(l,"o",function(){return $}),o.d(l,"p",function(){return cs}),o.d(l,"q",function(){return To}),o.d(l,"r",function(){return ya}),o.d(l,"s",function(){return Kr}),o.d(l,"t",function(){return zn}),o.d(l,"u",function(){return da}),o.d(l,"v",function(){return ss}),o.d(l,"w",function(){return vu}),o.d(l,"x",function(){return gi}),o.d(l,"y",function(){return $r}),o.d(l,"z",function(){return Kn}),o.d(l,"A",function(){return Mr}),o.d(l,"B",function(){return vo}),o.d(l,"C",function(){return vt}),o.d(l,"D",function(){return ls}),o.d(l,"E",function(){return cn}),o.d(l,"F",function(){return ln}),o.d(l,"G",function(){return cu}),o.d(l,"H",function(){return su}),o.d(l,"I",function(){return gu}),o.d(l,"J",function(){return er}),o.d(l,"K",function(){return de}),o.d(l,"L",function(){return mn}),o.d(l,"M",function(){return ga});var m=[];Object.freeze(m);var g={};function E(){return++ct.mobxGuid}function j(O){throw S(!1,O),"X"}function S(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function k(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var T=function(){};function C(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function R(O,w,A){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:A})}function G(O,w){var A="isMobX"+O;return w.prototype[A]=!0,function(z){return C(z)&&z[A]===!0}}function H(O){return O instanceof Map}function Q(O){return O instanceof Set}function ue(O){var w=new Set;for(var A in O)w.add(A);return Object.getOwnPropertySymbols(O).forEach(function(z){Object.getOwnPropertyDescriptor(O,z).enumerable&&w.add(z)}),Array.from(w)}function re(O){return O&&O.toString?O.toString():new String(O).toString()}function ee(O){return O===null?null:typeof O=="object"?""+O:O}var ne=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,V=Symbol("mobx administration"),B=function(){function O(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=st.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return ha(this)},O.prototype.reportChanged=function(){xr(),function(w){w.lowestObserverState!==st.STALE&&(w.lowestObserverState=st.STALE,w.observers.forEach(function(A){A.dependenciesState===st.UP_TO_DATE&&(A.isTracing!==pe.NONE&&io(A,w),A.onBecomeStale()),A.dependenciesState=st.STALE}))}(this),Dr()},O.prototype.toString=function(){return this.name},O}(),Y=G("Atom",B);function $(O,w,A){w===void 0&&(w=T),A===void 0&&(A=T);var z,K=new B(O);return w!==T&&as("onBecomeObserved",K,w,z),A!==T&&cn(K,A),K}var q={identity:function(O,w){return O===w},structural:function(O,w){return Ie(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Ie(O,w,1)}},ce=function(O,w){return ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,z){A.__proto__=z}||function(A,z){for(var K in z)z.hasOwnProperty(K)&&(A[K]=z[K])},ce(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Se=function(){return Se=Object.assign||function(O){for(var w,A=1,z=arguments.length;A<z;A++)for(var K in w=arguments[A])Object.prototype.hasOwnProperty.call(w,K)&&(O[K]=w[K]);return O},Se.apply(this,arguments)};function Oe(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],A=0;return w?w.call(O):{next:function(){return O&&A>=O.length&&(O=void 0),{value:O&&O[A++],done:!O}}}}function Ae(O,w){var A=typeof Symbol=="function"&&O[Symbol.iterator];if(!A)return O;var z,K,he=A.call(O),Ee=[];try{for(;(w===void 0||w-- >0)&&!(z=he.next()).done;)Ee.push(z.value)}catch(Ge){K={error:Ge}}finally{try{z&&!z.done&&(A=he.return)&&A.call(he)}finally{if(K)throw K.error}}return Ee}function We(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Ae(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),ge=Symbol("mobx pending decorators"),Pe={},Te={};function Xe(O,w){var A=w?Pe:Te;return A[O]||(A[O]={configurable:!0,enumerable:w,get:function(){return rt(this),this[O]},set:function(z){rt(this),this[O]=z}})}function rt(O){var w,A;if(O[je]!==!0){var z=O[ge];if(z){R(O,je,!0);var K=We(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var he=Oe(K),Ee=he.next();!Ee.done;Ee=he.next()){var Ge=z[Ee.value];Ge.propertyCreator(O,Ge.prop,Ge.descriptor,Ge.decoratorTarget,Ge.decoratorArguments)}}catch(at){w={error:at}}finally{try{Ee&&!Ee.done&&(A=he.return)&&A.call(he)}finally{if(w)throw w.error}}}}}function wt(O,w){return function(){var A,z=function(K,he,Ee,Ge){if(Ge===!0)return w(K,he,Ee,K,A),null;if(!Object.prototype.hasOwnProperty.call(K,ge)){var at=K[ge];R(K,ge,Se({},at))}return K[ge][he]={prop:he,propertyCreator:w,descriptor:Ee,decoratorTarget:K,decoratorArguments:A},Xe(he,O)};return Ve(arguments)?(A=m,z.apply(null,arguments)):(A=Array.prototype.slice.call(arguments),z)}}function Ve(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function Ze(O,w,A){return gi(O)?O:Array.isArray(O)?vt.array(O,{name:A}):N(O)?vt.object(O,void 0,{name:A}):H(O)?vt.map(O,{name:A}):Q(O)?vt.set(O,{name:A}):O}function gt(O){return O}function le(O){S(O);var w=wt(!0,function(z,K,he,Ee,Ge){var at=he?he.initializer?he.initializer.call(z):he.value:void 0;Cr(z).addObservableProp(K,at,O)}),A=(f!==void 0&&f.env,w);return A.enhancer=O,A}var se={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ve(O){return O==null?se:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(se);var Ce=le(Ze),He=le(function(O,w,A){return O==null||Mr(O)||$r(O)||Kn(O)||mr(O)?O:Array.isArray(O)?vt.array(O,{name:A,deep:!1}):N(O)?vt.object(O,void 0,{name:A,deep:!1}):H(O)?vt.map(O,{name:A,deep:!1}):Q(O)?vt.set(O,{name:A,deep:!1}):j(!1)}),ze=le(gt),xt=le(function(O,w,A){return Ie(O,w)?w:O});function kt(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?gt:Ze}var jt={box:function(O,w){arguments.length>2&&ke("box");var A=ve(w);return new Dn(O,kt(A),A.name,!0,A.equals)},array:function(O,w){arguments.length>2&&ke("array");var A=ve(w);return Hi(O,kt(A),A.name)},map:function(O,w){arguments.length>2&&ke("map");var A=ve(w);return new Ou(O,kt(A),A.name)},set:function(O,w){arguments.length>2&&ke("set");var A=ve(w);return new bo(O,kt(A),A.name)},object:function(O,w,A){typeof arguments[1]=="string"&&ke("object");var z=ve(A);if(z.proxy===!1)return To({},O,w,z);var K=pu(z),he=To({},void 0,void 0,z),Ee=mi(he);return us(Ee,O,w,K),Ee},ref:ze,shallow:He,deep:Ce,struct:xt},vt=function(O,w,A){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ce.apply(null,arguments);if(gi(O))return O;var z=N(O)?vt.object(O,w,A):Array.isArray(O)?vt.array(O,w):H(O)?vt.map(O,w):Q(O)?vt.set(O,w):O;if(z!==O)return z;j(!1)};function ke(O){j("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(jt).forEach(function(O){return vt[O]=jt[O]});var st,pe,ot=wt(!1,function(O,w,A,z,K){var he=A.get,Ee=A.set,Ge=K[0]||{};Cr(O).addComputedProp(O,w,Se({get:he,set:Ee,context:O},Ge))}),Lt=ot({equals:q.structural}),sn=function(O,w,A){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return ot.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=O,z.set=typeof w=="function"?w:z.set,z.name=z.name||O.name||"",new yo(z)};sn.struct=Lt,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(st||(st={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(pe||(pe={}));var zt=function(O){this.cause=O};function Qt(O){return O instanceof zt}function yn(O){switch(O.dependenciesState){case st.UP_TO_DATE:return!1;case st.NOT_TRACKING:case st.STALE:return!0;case st.POSSIBLY_STALE:for(var w=$e(!0),A=ae(),z=O.observing,K=z.length,he=0;he<K;he++){var Ee=z[he];if(Mo(Ee)){if(ct.disableErrorBoundaries)Ee.get();else try{Ee.get()}catch{return be(A),Ke(w),!0}if(O.dependenciesState===st.STALE)return be(A),Ke(w),!0}}return ft(O),be(A),Ke(w),!1}}function jn(){return ct.trackingDerivation!==null}function Ct(O){var w=O.observers.size>0;ct.computationDepth>0&&w&&j(!1),ct.allowStateChanges||!w&&ct.enforceActions!=="strict"||j(!1)}function Gn(O,w,A){var z=$e(!0);ft(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ct.runId;var K,he=ct.trackingDerivation;if(ct.trackingDerivation=O,ct.disableErrorBoundaries===!0)K=w.call(A);else try{K=w.call(A)}catch(Ee){K=new zt(Ee)}return ct.trackingDerivation=he,function(Ee){for(var Ge=Ee.observing,at=Ee.observing=Ee.newObserving,$t=st.UP_TO_DATE,tt=0,vn=Ee.unboundDepsCount,Ft=0;Ft<vn;Ft++)(an=at[Ft]).diffValue===0&&(an.diffValue=1,tt!==Ft&&(at[tt]=an),tt++),an.dependenciesState>$t&&($t=an.dependenciesState);for(at.length=tt,Ee.newObserving=null,vn=Ge.length;vn--;)(an=Ge[vn]).diffValue===0&&ou(an,Ee),an.diffValue=0;for(;tt--;){var an;(an=at[tt]).diffValue===1&&(an.diffValue=0,Dc(an,Ee))}$t!==st.UP_TO_DATE&&(Ee.dependenciesState=$t,Ee.onBecomeStale())}(O),Ke(z),K}function J(O){var w=O.observing;O.observing=[];for(var A=w.length;A--;)ou(w[A],O);O.dependenciesState=st.NOT_TRACKING}function de(O){var w=ae();try{return O()}finally{be(w)}}function ae(){var O=ct.trackingDerivation;return ct.trackingDerivation=null,O}function be(O){ct.trackingDerivation=O}function $e(O){var w=ct.allowStateReads;return ct.allowStateReads=O,w}function Ke(O){ct.allowStateReads=O}function ft(O){if(O.dependenciesState!==st.UP_TO_DATE){O.dependenciesState=st.UP_TO_DATE;for(var w=O.observing,A=w.length;A--;)w[A].lowestObserverState=st.UP_TO_DATE}}var Ut=0,Qn=1,lr=Object.getOwnPropertyDescriptor(function(){},"name");lr&&lr.configurable;function Xn(O,w,A){var z=function(){return $n(O,w,A||this,arguments)};return z.isMobxAction=!0,z}function $n(O,w,A,z){var K=it();try{return w.apply(A,z)}catch(he){throw K.error=he,he}finally{bt(K)}}function it(O,w,A){var z=0,K=ae();xr();var he={prevDerivation:K,prevAllowStateChanges:It(!0),prevAllowStateReads:$e(!0),notifySpy:!1,startTime:z,actionId:Qn++,parentActionId:Ut};return Ut=he.actionId,he}function bt(O){Ut!==O.actionId&&j("invalid action stack. did you forget to finish an action?"),Ut=O.parentActionId,O.error!==void 0&&(ct.suppressReactionErrors=!0),hn(O.prevAllowStateChanges),Ke(O.prevAllowStateReads),Dr(),be(O.prevDerivation),O.notifySpy,ct.suppressReactionErrors=!1}function St(O,w){var A,z=It(O);try{A=w()}finally{hn(z)}return A}function It(O){var w=ct.allowStateChanges;return ct.allowStateChanges=O,w}function hn(O){ct.allowStateChanges=O}var Dn=function(O){function w(A,z,K,he,Ee){K===void 0&&(K="ObservableValue@"+E()),Ee===void 0&&(Ee=q.default);var Ge=O.call(this,K)||this;return Ge.enhancer=z,Ge.name=K,Ge.equals=Ee,Ge.hasUnreportedChange=!1,Ge.value=z(A,void 0,K),Ge}return function(A,z){function K(){this.constructor=A}ce(A,z),A.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)}(w,O),w.prototype.dehanceValue=function(A){return this.dehancer!==void 0?this.dehancer(A):A},w.prototype.set=function(A){this.value,(A=this.prepareNewValue(A))!==ct.UNCHANGED&&this.setNewValue(A)},w.prototype.prepareNewValue=function(A){if(Ct(this),jr(this)){var z=en(this,{object:this,type:"update",newValue:A});if(!z)return ct.UNCHANGED;A=z.newValue}return A=this.enhancer(A,this.value,this.name),this.equals(this.value,A)?ct.UNCHANGED:A},w.prototype.setNewValue=function(A){var z=this.value;this.value=A,this.reportChanged(),Pr(this)&&ur(this,{type:"update",object:this,newValue:A,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(A){return No(this,A)},w.prototype.observe=function(A,z){return z&&A({object:this,type:"update",newValue:this.value,oldValue:void 0}),mo(this,A)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return ee(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(B),Po=G("ObservableValue",Dn),yo=function(){function O(w){this.dependenciesState=st.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=st.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new zt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=pe.NONE,S(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Xn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?q.structural:q.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===st.UP_TO_DATE&&(w.lowestObserverState=st.POSSIBLY_STALE,w.observers.forEach(function(A){A.dependenciesState===st.UP_TO_DATE&&(A.dependenciesState=st.POSSIBLY_STALE,A.isTracing!==pe.NONE&&io(A,w),A.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),ct.inBatch!==0||this.observers.size!==0||this.keepAlive?(ha(this),yn(this)&&this.trackAndCompute()&&function(A){A.lowestObserverState!==st.STALE&&(A.lowestObserverState=st.STALE,A.observers.forEach(function(z){z.dependenciesState===st.POSSIBLY_STALE?z.dependenciesState=st.STALE:z.dependenciesState===st.UP_TO_DATE&&(A.lowestObserverState=st.UP_TO_DATE)}))}(this)):yn(this)&&(this.warnAboutUntrackedRead(),xr(),this.value=this.computeValue(!1),Dr());var w=this.value;if(Qt(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(Qt(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){S(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else S(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,A=this.dependenciesState===st.NOT_TRACKING,z=this.computeValue(!0),K=A||Qt(w)||Qt(z)||!this.equals(w,z);return K&&(this.value=z),K},O.prototype.computeValue=function(w){var A;if(this.isComputing=!0,ct.computationDepth++,w)A=Gn(this,this.derivation,this.scope);else if(ct.disableErrorBoundaries===!0)A=this.derivation.call(this.scope);else try{A=this.derivation.call(this.scope)}catch(z){A=new zt(z)}return ct.computationDepth--,this.isComputing=!1,A},O.prototype.suspend=function(){this.keepAlive||(J(this),this.value=void 0)},O.prototype.observe=function(w,A){var z=this,K=!0,he=void 0;return fu(function(){var Ee=z.get();if(!K||A){var Ge=ae();w({type:"update",object:z,newValue:Ee,oldValue:he}),be(Ge)}K=!1,he=Ee})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return ee(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),Mo=G("ComputedValue",yo),yi=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Nc={};function ru(){return typeof window<"u"?window:p!==void 0?p:typeof self<"u"?self:Nc}var Yr=!0,Wi=!1,ct=function(){var O=ru();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(Yr=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new yi().version&&(Yr=!1),Yr?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new yi):(setTimeout(function(){Wi||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new yi)}();function Dc(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function ou(O,w){O.observers.delete(w),O.observers.size===0&&iu(O)}function iu(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ct.pendingUnobservations.push(O))}function xr(){ct.inBatch++}function Dr(){if(--ct.inBatch==0){uu();for(var O=ct.pendingUnobservations,w=0;w<O.length;w++){var A=O[w];A.isPendingUnobservation=!1,A.observers.size===0&&(A.isBeingObserved&&(A.isBeingObserved=!1,A.onBecomeUnobserved()),A instanceof yo&&A.suspend())}ct.pendingUnobservations=[]}}function ha(O){var w=ct.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ct.inBatch>0&&iu(O),!1)}function io(O,w){if(O.isTracing===pe.BREAK){var A=[];Vr(zn(O),A,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof yo?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+A.join(`
`)+`
*/
    `)()}}function Vr(O,w,A){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(A).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(z){return Vr(z,w,A+1)}))}var ao=function(){function O(w,A,z,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=A,this.errorHandler=z,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=st.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=pe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ct.pendingReactions.push(this),uu())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(xr(),this._isScheduled=!1,yn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Dr()}},O.prototype.track=function(w){if(!this.isDisposed){xr(),this._isRunning=!0;var A=Gn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&J(this),Qt(A)&&this.reportExceptionInDerivation(A.cause),Dr()}},O.prototype.reportExceptionInDerivation=function(w){var A=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ct.disableErrorBoundaries)throw w;ct.suppressReactionErrors,ct.globalReactionErrorHandlers.forEach(function(z){return z(w,A)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(xr(),J(this),Dr()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[V]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var A=[],z=0;z<arguments.length;z++)A[z]=arguments[z];var K=!1;typeof A[A.length-1]=="boolean"&&(K=A.pop());var he=rn(A);if(!he)return j(!1);he.isTracing,pe.NONE,he.isTracing=K?pe.BREAK:pe.LOG}(this,w)},O}(),au=function(O){return O()};function uu(){ct.inBatch>0||ct.isRunningReactions||au(ns)}function ns(){ct.isRunningReactions=!0;for(var O=ct.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var A=O.splice(0),z=0,K=A.length;z<K;z++)A[z].runReaction()}ct.isRunningReactions=!1}var Gi=G("Reaction",ao);function rs(O){var w=au;au=function(A){return O(function(){return w(A)})}}function su(O){return function(){}}function Cc(){j(!1)}function qo(O){return function(w,A,z){if(z){if(z.value)return{value:Xn(O,z.value),enumerable:!1,configurable:!0,writable:!0};var K=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xn(O,K.call(this))}}}return os(O).apply(this,arguments)}}function os(O){return function(w,A,z){Object.defineProperty(w,A,{configurable:!0,enumerable:!1,get:function(){},set:function(K){R(this,A,Ao(O,K))}})}}var Ao=function(O,w,A,z){return arguments.length===1&&typeof O=="function"?Xn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Xn(O,w):arguments.length===1&&typeof O=="string"?qo(O):z!==!0?qo(w).apply(null,arguments):void R(O,w,Xn(O.name||w,A.value,this))};function cu(O,w){return $n(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function da(O){return typeof O=="function"&&O.isMobxAction===!0}function lu(O,w,A){R(O,w,Xn(w,A.bind(O)))}function fu(O,w){w===void 0&&(w=g);var A,z=w&&w.name||O.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)A=new ao(z,function(){this.track(Ee)},w.onError,w.requiresObservable);else{var K=is(w),he=!1;A=new ao(z,function(){he||(he=!0,K(function(){he=!1,A.isDisposed||A.track(Ee)}))},w.onError,w.requiresObservable)}function Ee(){O(A)}return A.schedule(),A.getDisposer()}Ao.bound=function(O,w,A,z){return z===!0?(lu(O,w,A.value),null):A?{configurable:!0,enumerable:!1,get:function(){return lu(this,w,A.value||A.initializer.call(this)),this[w]},set:Cc}:{enumerable:!1,configurable:!0,set:function(K){lu(this,w,K)},get:function(){}}};var Ic=function(O){return O()};function is(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Ic}function ln(O,w,A){A===void 0&&(A=g);var z,K,he,Ee=A.name||"Reaction@"+E(),Ge=Ao(Ee,A.onError?(z=A.onError,K=w,function(){try{return K.apply(this,arguments)}catch(Mn){z.call(this,Mn)}}):w),at=!A.scheduler&&!A.delay,$t=is(A),tt=!0,vn=!1,Ft=A.compareStructural?q.structural:A.equals||q.default,an=new ao(Ee,function(){tt||at?qr():vn||(vn=!0,$t(qr))},A.onError,A.requiresObservable);function qr(){if(vn=!1,!an.isDisposed){var Mn=!1;an.track(function(){var Ar=O(an);Mn=tt||!Ft(he,Ar),he=Ar}),tt&&A.fireImmediately&&Ge(he,an),tt||Mn!==!0||Ge(he,an),tt&&(tt=!1)}}return an.schedule(),an.getDisposer()}function cn(O,w,A){return as("onBecomeUnobserved",O,w,A)}function as(O,w,A,z){var K=typeof z=="function"?Kr(w,A):Kr(w),he=typeof z=="function"?z:A,Ee=O+"Listeners";return K[Ee]?K[Ee].add(he):K[Ee]=new Set([he]),typeof K[O]!="function"?j(!1):function(){var Ge=K[Ee];Ge&&(Ge.delete(he),Ge.size===0&&delete K[Ee])}}function vi(O){var w=O.enforceActions,A=O.computedRequiresReaction,z=O.computedConfigurable,K=O.disableErrorBoundaries,he=O.reactionScheduler,Ee=O.reactionRequiresObservable,Ge=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ct.pendingReactions.length||ct.inBatch||ct.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),Wi=!0,Yr&&(--ru().__mobxInstanceCount==0&&(ru().__mobxGlobals=void 0),ct=new yi)),w!==void 0){var at=void 0;switch(w){case!0:case"observed":at=!0;break;case!1:case"never":at=!1;break;case"strict":case"always":at="strict";break;default:j("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ct.enforceActions=at,ct.allowStateChanges=at!==!0&&at!=="strict"}A!==void 0&&(ct.computedRequiresReaction=!!A),Ee!==void 0&&(ct.reactionRequiresObservable=!!Ee),Ge!==void 0&&(ct.observableRequiresReaction=!!Ge,ct.allowStateReads=!ct.observableRequiresReaction),z!==void 0&&(ct.computedConfigurable=!!z),K!==void 0&&(ct.disableErrorBoundaries=!!K),he&&rs(he)}function To(O,w,A,z){var K=pu(z=ve(z));return rt(O),Cr(O,z.name,K.enhancer),w&&us(O,w,A,K),O}function pu(O){return O.defaultDecorator||(O.deep===!1?ze:Ce)}function us(O,w,A,z){var K,he;xr();try{var Ee=ne(w);try{for(var Ge=Oe(Ee),at=Ge.next();!at.done;at=Ge.next()){var $t=at.value,tt=Object.getOwnPropertyDescriptor(w,$t),vn=(A&&$t in A?A[$t]:tt.get?ot:z)(O,$t,tt,!0);vn&&Object.defineProperty(O,$t,vn)}}catch(Ft){K={error:Ft}}finally{try{at&&!at.done&&(he=Ge.return)&&he.call(Ge)}finally{if(K)throw K.error}}}finally{Dr()}}function zn(O,w){return hu(Kr(O,w))}function hu(O){var w,A,z={name:O.name};return O.observing&&O.observing.length>0&&(z.dependencies=(w=O.observing,A=[],w.forEach(function(K){A.indexOf(K)===-1&&A.push(K)}),A).map(hu)),z}var Xi=0;function du(){this.message="FLOW_CANCELLED"}function ya(O){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var A,z=this,K=arguments,he=++Xi,Ee=Ao(w+" - runid: "+he+" - init",O).apply(z,K),Ge=void 0,at=new Promise(function($t,tt){var vn=0;function Ft(Mn){var Ar;Ge=void 0;try{Ar=Ao(w+" - runid: "+he+" - yield "+vn++,Ee.next).call(Ee,Mn)}catch(Co){return tt(Co)}qr(Ar)}function an(Mn){var Ar;Ge=void 0;try{Ar=Ao(w+" - runid: "+he+" - yield "+vn++,Ee.throw).call(Ee,Mn)}catch(Co){return tt(Co)}qr(Ar)}function qr(Mn){if(!Mn||typeof Mn.then!="function")return Mn.done?$t(Mn.value):(Ge=Promise.resolve(Mn.value)).then(Ft,an);Mn.then(qr,tt)}A=tt,Ft(void 0)});return at.cancel=Ao(w+" - runid: "+he+" - cancel",function(){try{Ge&&fr(Ge);var $t=Ee.return(void 0),tt=Promise.resolve($t.value);tt.then(T,T),fr(tt),A(new du)}catch(vn){A(vn)}}),at}}function fr(O){typeof O.cancel=="function"&&O.cancel()}function yu(O,w){if(O==null)return!1;if(w!==void 0){if(Mr(O)===!1||!O[V].values.has(w))return!1;var A=Kr(O,w);return Mo(A)}return Mo(O)}function ss(O){return arguments.length>1?j(!1):yu(O)}function vu(O,w){return typeof w!="string"?j(!1):yu(O,w)}function va(O,w){return O!=null&&(w!==void 0?!!Mr(O)&&O[V].values.has(w):Mr(O)||!!O[V]||Y(O)||Gi(O)||Mo(O))}function gi(O){return arguments.length!==1&&j(!1),va(O)}function vo(O){return Mr(O)?O[V].getKeys():Kn(O)||mr(O)?Array.from(O.keys()):$r(O)?O.map(function(w,A){return A}):j(!1)}function mn(O){return Mr(O)?vo(O).map(function(w){return O[w]}):Kn(O)?vo(O).map(function(w){return O.get(w)}):mr(O)?Array.from(O.values()):$r(O)?O.slice():j(!1)}function cs(O){return Mr(O)?vo(O).map(function(w){return[w,O[w]]}):Kn(O)?vo(O).map(function(w){return[w,O.get(w)]}):mr(O)?Array.from(O.entries()):$r(O)?O.map(function(w,A){return[A,w]}):j(!1)}function Er(O,w,A){if(arguments.length!==2||mr(O))if(Mr(O)){var z=O[V],K=z.values.get(w);K?z.write(w,A):z.addObservableProp(w,A,z.defaultEnhancer)}else if(Kn(O))O.set(w,A);else if(mr(O))O.add(w);else{if(!$r(O))return j(!1);typeof w!="number"&&(w=parseInt(w,10)),S(w>=0,"Not a valid index: '"+w+"'"),xr(),w>=O.length&&(O.length=w+1),O[w]=A,Dr()}else{xr();var he=w;try{for(var Ee in he)Er(O,Ee,he[Ee])}finally{Dr()}}}function ls(O,w,A,z){return typeof A=="function"?function(K,he,Ee,Ge){return Oo(K,he).observe(Ee,Ge)}(O,w,A,z):function(K,he,Ee){return Oo(K).observe(he,Ee)}(O,w,A)}du.prototype=Object.create(Error.prototype);var fs={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function gr(O,w,A,z){return z.detectCycles&&O.set(w,A),A}function Sr(O,w,A){if(!w.recurseEverything&&!gi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(Po(O))return Sr(O.get(),w,A);if(gi(O)&&vo(O),w.detectCycles===!0&&O!==null&&A.has(O))return A.get(O);if($r(O)||Array.isArray(O)){var z=gr(A,O,[],w),K=O.map(function(Ft){return Sr(Ft,w,A)});z.length=K.length;for(var he=0,Ee=K.length;he<Ee;he++)z[he]=K[he];return z}if(mr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var Ge=gr(A,O,new Set,w);return O.forEach(function(Ft){Ge.add(Sr(Ft,w,A))}),Ge}var at=gr(A,O,[],w);return O.forEach(function(Ft){at.push(Sr(Ft,w,A))}),at}if(Kn(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var $t=gr(A,O,new Map,w);return O.forEach(function(Ft,an){$t.set(an,Sr(Ft,w,A))}),$t}var tt=gr(A,O,{},w);return O.forEach(function(Ft,an){tt[an]=Sr(Ft,w,A)}),tt}var vn=gr(A,O,{},w);return ue(O).forEach(function(Ft){vn[Ft]=Sr(O[Ft],w,A)}),vn}function gu(O,w){var A;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=fs),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(A=new Map),Sr(O,w,A)}function rn(O){switch(O.length){case 0:return ct.trackingDerivation;case 1:return Kr(O[0]);case 2:return Kr(O[0],O[1])}}function er(O,w){w===void 0&&(w=void 0),xr();try{return O.apply(w)}finally{Dr()}}function ga(O,w,A){return arguments.length===1||w&&typeof w=="object"?mu(O,w):ps(O,w,A||{})}function ps(O,w,A){var z;typeof A.timeout=="number"&&(z=setTimeout(function(){if(!he[V].isDisposed){he();var Ee=new Error("WHEN_TIMEOUT");if(!A.onError)throw Ee;A.onError(Ee)}},A.timeout)),A.name=A.name||"When@"+E();var K=Xn(A.name+"-effect",w),he=fu(function(Ee){O()&&(Ee.dispose(),z&&clearTimeout(z),K())},A);return he}function mu(O,w){var A,z=new Promise(function(K,he){var Ee=ps(O,K,Se(Se({},w),{onError:he}));A=function(){Ee(),he("WHEN_CANCELLED")}});return z.cancel=A,z}function ma(O){return O[V]}function go(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var ko={has:function(O,w){if(w===V||w==="constructor"||w===je)return!0;var A=ma(O);return go(w)?A.has(w):w in O},get:function(O,w){if(w===V||w==="constructor"||w===je)return O[w];var A=ma(O),z=A.values.get(w);if(z instanceof B){var K=z.get();return K===void 0&&A.has(w),K}return go(w)&&A.has(w),O[w]},set:function(O,w,A){return!!go(w)&&(Er(O,w,A),!0)},deleteProperty:function(O,w){return!!go(w)&&(ma(O).remove(w),!0)},ownKeys:function(O){return ma(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return j("Dynamic observable objects cannot be frozen"),!1}};function mi(O){var w=new Proxy(O,ko);return O[V].proxy=w,w}function jr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function No(O,w){var A=O.interceptors||(O.interceptors=[]);return A.push(w),k(function(){var z=A.indexOf(w);z!==-1&&A.splice(z,1)})}function en(O,w){var A=ae();try{for(var z=We(O.interceptors||[]),K=0,he=z.length;K<he&&(S(!(w=z[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{be(A)}}function Pr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function mo(O,w){var A=O.changeListeners||(O.changeListeners=[]);return A.push(w),k(function(){var z=A.indexOf(w);z!==-1&&A.splice(z,1)})}function ur(O,w){var A=ae(),z=O.changeListeners;if(z){for(var K=0,he=(z=z.slice()).length;K<he;K++)z[K](w);be(A)}}var ba={get:function(O,w){return w===V?O[V]:w==="length"?O[V].getArrayLength():typeof w=="number"?Cn.get.call(O,w):typeof w!="string"||isNaN(w)?Cn.hasOwnProperty(w)?Cn[w]:O[w]:Cn.get.call(O,parseInt(w))},set:function(O,w,A){return w==="length"&&O[V].setArrayLength(A),typeof w=="number"&&Cn.set.call(O,w,A),typeof w=="symbol"||isNaN(w)?O[w]=A:Cn.set.call(O,parseInt(w),A),!0},preventExtensions:function(O){return j("Observable arrays cannot be frozen"),!1}};function Hi(O,w,A,z){A===void 0&&(A="ObservableArray@"+E()),z===void 0&&(z=!1);var K,he,Ee,Ge=new bu(A,w,z);K=Ge.values,he=V,Ee=Ge,Object.defineProperty(K,he,{enumerable:!1,writable:!1,configurable:!0,value:Ee});var at=new Proxy(Ge.values,ba);if(Ge.proxy=at,O&&O.length){var $t=It(!0);Ge.spliceWithArray(0,0,O),hn($t)}return at}var bu=function(){function O(w,A,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B(w||"ObservableArray@"+E()),this.enhancer=function(K,he){return A(K,he,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return No(this,w)},O.prototype.observe=function(w,A){return A===void 0&&(A=!1),A&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),mo(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var A=this.values.length;if(w!==A)if(w>A){for(var z=new Array(w-A),K=0;K<w-A;K++)z[K]=void 0;this.spliceWithArray(A,0,z)}else this.spliceWithArray(w,A-w)},O.prototype.updateArrayLength=function(w,A){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=A},O.prototype.spliceWithArray=function(w,A,z){var K=this;Ct(this.atom);var he=this.values.length;if(w===void 0?w=0:w>he?w=he:w<0&&(w=Math.max(0,he+w)),A=arguments.length===1?he-w:A==null?0:Math.max(0,Math.min(A,he-w)),z===void 0&&(z=m),jr(this)){var Ee=en(this,{object:this.proxy,type:"splice",index:w,removedCount:A,added:z});if(!Ee)return m;A=Ee.removedCount,z=Ee.added}z=z.length===0?z:z.map(function(at){return K.enhancer(at,void 0)});var Ge=this.spliceItemsIntoValues(w,A,z);return A===0&&z.length===0||this.notifyArraySplice(w,z,Ge),this.dehanceValues(Ge)},O.prototype.spliceItemsIntoValues=function(w,A,z){var K;if(z.length<1e4)return(K=this.values).splice.apply(K,We([w,A],z));var he=this.values.slice(w,w+A);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+A)),he},O.prototype.notifyArrayChildUpdate=function(w,A,z){var K=!this.owned&&!1,he=Pr(this),Ee=he||K?{object:this.proxy,type:"update",index:w,newValue:A,oldValue:z}:null;this.atom.reportChanged(),he&&ur(this,Ee)},O.prototype.notifyArraySplice=function(w,A,z){var K=!this.owned&&!1,he=Pr(this),Ee=he||K?{object:this.proxy,type:"splice",index:w,removed:z,added:A,removedCount:z.length,addedCount:A.length}:null;this.atom.reportChanged(),he&&ur(this,Ee)},O}(),Cn={intercept:function(O){return this[V].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[V].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[V];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var A=[],z=2;z<arguments.length;z++)A[z-2]=arguments[z];var K=this[V];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(O);case 2:return K.spliceWithArray(O,w)}return K.spliceWithArray(O,w,A)},spliceWithArray:function(O,w,A){return this[V].spliceWithArray(O,w,A)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var A=this[V];return A.spliceWithArray(A.values.length,0,O),A.values.length},pop:function(){return this.splice(Math.max(this[V].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var A=this[V];return A.spliceWithArray(0,0,O),A.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[V],A=w.dehanceValues(w.values).indexOf(O);return A>-1&&(this.splice(A,1),!0)},get:function(O){var w=this[V];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var A=this[V],z=A.values;if(O<z.length){Ct(A.atom);var K=z[O];if(jr(A)){var he=en(A,{type:"update",object:A.proxy,index:O,newValue:w});if(!he)return;w=he.newValue}(w=A.enhancer(w,K))!==K&&(z[O]=w,A.notifyArrayChildUpdate(O,w,K))}else{if(O!==z.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+z.length);A.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Cn[O]=function(){var w=this[V];w.atom.reportObserved();var A=w.dehanceValues(w.values);return A[O].apply(A,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Cn[O]=function(w,A){var z=this,K=this[V];return K.atom.reportObserved(),K.dehanceValues(K.values)[O](function(he,Ee){return w.call(A,he,Ee,z)},A)})}),["reduce","reduceRight"].forEach(function(O){Cn[O]=function(){var w=this,A=this[V];A.atom.reportObserved();var z=arguments[0];return arguments[0]=function(K,he,Ee){return he=A.dehanceValue(he),z(K,he,Ee,w)},A.values[O].apply(A.values,arguments)}});var _a,Do=G("ObservableArrayAdministration",bu);function $r(O){return C(O)&&Do(O[V])}var _u,Rc={},Ou=function(){function O(w,A,z){if(A===void 0&&(A=Ze),z===void 0&&(z="ObservableMap@"+E()),this.enhancer=A,this.name=z,this[_a]=Rc,this._keysAtom=$(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var A=this;if(!ct.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var K=z=new Dn(this._has(w),gt,this.name+"."+re(w)+"?",!1);this._hasMap.set(w,K),cn(K,function(){return A._hasMap.delete(w)})}return z.get()},O.prototype.set=function(w,A){var z=this._has(w);if(jr(this)){var K=en(this,{type:z?"update":"add",object:this,newValue:A,name:w});if(!K)return this;A=K.newValue}return z?this._updateValue(w,A):this._addValue(w,A),this},O.prototype.delete=function(w){var A=this;if(Ct(this._keysAtom),jr(this)&&!(K=en(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=Pr(this),K=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return er(function(){A._keysAtom.reportChanged(),A._updateHasMapEntry(w,!1),A._data.get(w).setNewValue(void 0),A._data.delete(w)}),z&&ur(this,K),!0}return!1},O.prototype._updateHasMapEntry=function(w,A){var z=this._hasMap.get(w);z&&z.setNewValue(A)},O.prototype._updateValue=function(w,A){var z=this._data.get(w);if((A=z.prepareNewValue(A))!==ct.UNCHANGED){var K=Pr(this),he=K?{type:"update",object:this,oldValue:z.value,name:w,newValue:A}:null;z.setNewValue(A),K&&ur(this,he)}},O.prototype._addValue=function(w,A){var z=this;Ct(this._keysAtom),er(function(){var Ee=new Dn(A,z.enhancer,z.name+"."+re(w),!1);z._data.set(w,Ee),A=Ee.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var K=Pr(this),he=K?{type:"add",object:this,name:w,newValue:A}:null;K&&ur(this,he)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,A=this.keys();return Zt({next:function(){var z=A.next(),K=z.done,he=z.value;return{done:K,value:K?void 0:w.get(he)}}})},O.prototype.entries=function(){var w=this,A=this.keys();return Zt({next:function(){var z=A.next(),K=z.done,he=z.value;return{done:K,value:K?void 0:[he,w.get(he)]}}})},O.prototype[_a=V,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,A){var z,K;try{for(var he=Oe(this),Ee=he.next();!Ee.done;Ee=he.next()){var Ge=Ae(Ee.value,2),at=Ge[0],$t=Ge[1];w.call(A,$t,at,this)}}catch(tt){z={error:tt}}finally{try{Ee&&!Ee.done&&(K=he.return)&&K.call(he)}finally{if(z)throw z.error}}},O.prototype.merge=function(w){var A=this;return Kn(w)&&(w=w.toJS()),er(function(){var z=It(!0);try{N(w)?ue(w).forEach(function(K){return A.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var he=Ae(K,2),Ee=he[0],Ge=he[1];return A.set(Ee,Ge)}):H(w)?(w.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,he){return A.set(he,K)})):w!=null&&j("Cannot initialize map from "+w)}finally{hn(z)}}),this},O.prototype.clear=function(){var w=this;er(function(){de(function(){var A,z;try{for(var K=Oe(w.keys()),he=K.next();!he.done;he=K.next()){var Ee=he.value;w.delete(Ee)}}catch(Ge){A={error:Ge}}finally{try{he&&!he.done&&(z=K.return)&&z.call(K)}finally{if(A)throw A.error}}})})},O.prototype.replace=function(w){var A=this;return er(function(){var z,K,he,Ee,Ge=function(br){if(H(br)||Kn(br))return br;if(Array.isArray(br))return new Map(br);if(N(br)){var Yi=new Map;for(var _i in br)Yi.set(_i,br[_i]);return Yi}return j("Cannot convert to map from '"+br+"'")}(w),at=new Map,$t=!1;try{for(var tt=Oe(A._data.keys()),vn=tt.next();!vn.done;vn=tt.next()){var Ft=vn.value;if(!Ge.has(Ft))if(A.delete(Ft))$t=!0;else{var an=A._data.get(Ft);at.set(Ft,an)}}}catch(br){z={error:br}}finally{try{vn&&!vn.done&&(K=tt.return)&&K.call(tt)}finally{if(z)throw z.error}}try{for(var qr=Oe(Ge.entries()),Mn=qr.next();!Mn.done;Mn=qr.next()){var Ar=Ae(Mn.value,2),Co=(Ft=Ar[0],an=Ar[1],A._data.has(Ft));if(A.set(Ft,an),A._data.has(Ft)){var Io=A._data.get(Ft);at.set(Ft,Io),Co||($t=!0)}}}catch(br){he={error:br}}finally{try{Mn&&!Mn.done&&(Ee=qr.return)&&Ee.call(qr)}finally{if(he)throw he.error}}if(!$t)if(A._data.size!==at.size)A._keysAtom.reportChanged();else for(var Ui=A._data.keys(),xu=at.keys(),Jo=Ui.next(),wa=xu.next();!Jo.done;){if(Jo.value!==wa.value){A._keysAtom.reportChanged();break}Jo=Ui.next(),wa=xu.next()}A._data=at}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,A,z={};try{for(var K=Oe(this),he=K.next();!he.done;he=K.next()){var Ee=Ae(he.value,2),Ge=Ee[0],at=Ee[1];z[typeof Ge=="symbol"?Ge:re(Ge)]=at}}catch($t){w={error:$t}}finally{try{he&&!he.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return z},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(A){return re(A)+": "+w.get(A)}).join(", ")+" }]"},O.prototype.observe=function(w,A){return mo(this,w)},O.prototype.intercept=function(w){return No(this,w)},O}(),Kn=G("ObservableMap",Ou),bi={},bo=function(){function O(w,A,z){if(A===void 0&&(A=Ze),z===void 0&&(z="ObservableSet@"+E()),this.name=z,this[_u]=bi,this._data=new Set,this._atom=$(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,he){return A(K,he,z)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;er(function(){de(function(){var A,z;try{for(var K=Oe(w._data.values()),he=K.next();!he.done;he=K.next()){var Ee=he.value;w.delete(Ee)}}catch(Ge){A={error:Ge}}finally{try{he&&!he.done&&(z=K.return)&&z.call(K)}finally{if(A)throw A.error}}})})},O.prototype.forEach=function(w,A){var z,K;try{for(var he=Oe(this),Ee=he.next();!Ee.done;Ee=he.next()){var Ge=Ee.value;w.call(A,Ge,Ge,this)}}catch(at){z={error:at}}finally{try{Ee&&!Ee.done&&(K=he.return)&&K.call(he)}finally{if(z)throw z.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var A=this;if(Ct(this._atom),jr(this)&&!(K=en(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){er(function(){A._data.add(A.enhancer(w,void 0)),A._atom.reportChanged()});var z=Pr(this),K=z?{type:"add",object:this,newValue:w}:null;z&&ur(this,K)}return this},O.prototype.delete=function(w){var A=this;if(jr(this)&&!(K=en(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=Pr(this),K=z?{type:"delete",object:this,oldValue:w}:null;return er(function(){A._atom.reportChanged(),A._data.delete(w)}),z&&ur(this,K),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,A=Array.from(this.keys()),z=Array.from(this.values());return Zt({next:function(){var K=w;return w+=1,K<z.length?{value:[A[K],z[K]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,A=0,z=Array.from(this._data.values());return Zt({next:function(){return A<z.length?{value:w.dehanceValue(z[A++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var A=this;return mr(w)&&(w=w.toJS()),er(function(){var z=It(!0);try{Array.isArray(w)||Q(w)?(A.clear(),w.forEach(function(K){return A.add(K)})):w!=null&&j("Cannot initialize set from "+w)}finally{hn(z)}}),this},O.prototype.observe=function(w,A){return mo(this,w)},O.prototype.intercept=function(w){return No(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[_u=V,Symbol.iterator]=function(){return this.values()},O}(),mr=G("ObservableSet",bo),wu=function(){function O(w,A,z,K){A===void 0&&(A=new Map),this.target=w,this.values=A,this.name=z,this.defaultEnhancer=K,this.keysAtom=new B(z+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,A){var z=this.target,K=this.values.get(w);if(K instanceof yo)K.set(A);else{if(jr(this)){if(!(Ee=en(this,{type:"update",object:this.proxy||z,name:w,newValue:A})))return;A=Ee.newValue}if((A=K.prepareNewValue(A))!==ct.UNCHANGED){var he=Pr(this),Ee=he?{type:"update",object:this.proxy||z,oldValue:K.value,name:w,newValue:A}:null;K.setNewValue(A),he&&ur(this,Ee)}}},O.prototype.has=function(w){var A=this.pendingKeys||(this.pendingKeys=new Map),z=A.get(w);if(z)return z.get();var K=!!this.values.get(w);return z=new Dn(K,gt,this.name+"."+re(w)+"?",!1),A.set(w,z),z.get()},O.prototype.addObservableProp=function(w,A,z){z===void 0&&(z=this.defaultEnhancer);var K=this.target;if(jr(this)){var he=en(this,{object:this.proxy||K,name:w,type:"add",newValue:A});if(!he)return;A=he.newValue}var Ee=new Dn(A,z,this.name+"."+re(w),!1);this.values.set(w,Ee),A=Ee.value,Object.defineProperty(K,w,function(Ge){return Zo[Ge]||(Zo[Ge]={configurable:!0,enumerable:!0,get:function(){return this[V].read(Ge)},set:function(at){this[V].write(Ge,at)}})}(w)),this.notifyPropertyAddition(w,A)},O.prototype.addComputedProp=function(w,A,z){var K,he,Ee,Ge=this.target;z.name=z.name||this.name+"."+re(A),this.values.set(A,new yo(z)),(w===Ge||(K=w,he=A,!(Ee=Object.getOwnPropertyDescriptor(K,he))||Ee.configurable!==!1&&Ee.writable!==!1))&&Object.defineProperty(w,A,function(at){return Oa[at]||(Oa[at]={configurable:ct.computedConfigurable,enumerable:!1,get:function(){return _o(this).read(at)},set:function($t){_o(this).write(at,$t)}})}(A))},O.prototype.remove=function(w){if(this.values.has(w)){var A=this.target;if(jr(this)&&!(at=en(this,{object:this.proxy||A,name:w,type:"remove"})))return;try{xr();var z=Pr(this),K=!1,he=this.values.get(w),Ee=he&&he.get();if(he&&he.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Ge=this.pendingKeys.get(w);Ge&&Ge.set(!1)}delete this.target[w];var at=z?{type:"remove",object:this.proxy||A,oldValue:Ee,name:w}:null;z&&ur(this,at)}finally{Dr()}}},O.prototype.illegalAccess=function(w,A){},O.prototype.observe=function(w,A){return mo(this,w)},O.prototype.intercept=function(w){return No(this,w)},O.prototype.notifyPropertyAddition=function(w,A){var z=Pr(this),K=z?{type:"add",object:this.proxy||this.target,name:w,newValue:A}:null;if(z&&ur(this,K),this.pendingKeys){var he=this.pendingKeys.get(w);he&&he.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,A;this.keysAtom.reportObserved();var z=[];try{for(var K=Oe(this.values),he=K.next();!he.done;he=K.next()){var Ee=Ae(he.value,2),Ge=Ee[0];Ee[1]instanceof Dn&&z.push(Ge)}}catch(at){w={error:at}}finally{try{he&&!he.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return z},O}();function Cr(O,w,A){if(w===void 0&&(w=""),A===void 0&&(A=Ze),Object.prototype.hasOwnProperty.call(O,V))return O[V];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var z=new wu(O,new Map,re(w),A);return R(O,V,z),z}var Zo=Object.create(null),Oa=Object.create(null);function _o(O){var w=O[V];return w||(rt(O),O[V])}var Ir=G("ObservableObjectAdministration",wu);function Mr(O){return!!C(O)&&(rt(O),Ir(O[V]))}function Kr(O,w){if(typeof O=="object"&&O!==null){if($r(O))return w!==void 0&&j(!1),O[V].atom;if(mr(O))return O[V];if(Kn(O)){var A=O;return w===void 0?A._keysAtom:((z=A._data.get(w)||A._hasMap.get(w))||j(!1),z)}var z;if(rt(O),w&&!O[V]&&O[w],Mr(O))return w?((z=O[V].values.get(w))||j(!1),z):j(!1);if(Y(O)||Mo(O)||Gi(O))return O}else if(typeof O=="function"&&Gi(O[V]))return O[V];return j(!1)}function Oo(O,w){return O||j("Expecting some object"),w!==void 0?Oo(Kr(O,w)):Y(O)||Mo(O)||Gi(O)||Kn(O)||mr(O)?O:(rt(O),O[V]?O[V]:void j(!1))}var we=Object.prototype.toString;function Ie(O,w,A){return A===void 0&&(A=-1),Le(O,w,A)}function Le(O,w,A,z,K){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var he=typeof O;if(he!=="function"&&he!=="object"&&typeof w!="object")return!1;var Ee=we.call(O);if(Ee!==we.call(w))return!1;switch(Ee){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":A>=0&&A++}O=Qe(O),w=Qe(w);var Ge=Ee==="[object Array]";if(!Ge){if(typeof O!="object"||typeof w!="object")return!1;var at=O.constructor,$t=w.constructor;if(at!==$t&&!(typeof at=="function"&&at instanceof at&&typeof $t=="function"&&$t instanceof $t)&&"constructor"in O&&"constructor"in w)return!1}if(A===0)return!1;A<0&&(A=-1),K=K||[];for(var tt=(z=z||[]).length;tt--;)if(z[tt]===O)return K[tt]===w;if(z.push(O),K.push(w),Ge){if((tt=O.length)!==w.length)return!1;for(;tt--;)if(!Le(O[tt],w[tt],A-1,z,K))return!1}else{var vn=Object.keys(O),Ft=void 0;if(tt=vn.length,Object.keys(w).length!==tt)return!1;for(;tt--;)if(!Bt(w,Ft=vn[tt])||!Le(O[Ft],w[Ft],A-1,z,K))return!1}return z.pop(),K.pop(),!0}function Qe(O){return $r(O)?O.slice():H(O)||Kn(O)||Q(O)||mr(O)?Array.from(O.entries()):O}function Bt(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function Zt(O){return O[Symbol.iterator]=On,O}function On(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:su,extras:{getDebugName:function(O,w){return(w!==void 0?Kr(O,w):Mr(O)||Kn(O)||mr(O)?Oo(O):Kr(O)).name}},$mobx:V})}).call(this,o(163),o(68))},function(a,l,o){var f=o(113),p=o(42),m=o(179);f||p(Object.prototype,"toString",m,{unsafe:!0})},function(a,l,o){var f=o(41),p=o(100),m=o(80),g=o(58),E=o(116),j="Array Iterator",S=g.set,k=g.getterFor(j);a.exports=E(Array,"Array",function(T,C){S(this,{type:j,target:f(T),index:0,kind:C})},function(){var T=k(this),C=T.target,N=T.kind,R=T.index++;return!C||R>=C.length?(T.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:R,done:!1}:N=="values"?{value:C[R],done:!1}:{value:[R,C[R]],done:!1}},"values"),m.Arguments=m.Array,p("keys"),p("values"),p("entries")},function(a,l,o){var f=o(16),p=o(7),m=o(46),g=o(76),E=o(34),j=o(15),S=o(71),k=o(36),T=o(108),C=o(18),N=o(35),R=o(96),G=o(30),H=o(33),Q=o(54),ue=o(87),re=o(32),ee=o(40),ne=o(41),V=o(86),B=o(39),Y=o(69),$=o(60),q=o(77),ce=o(74),Se=o(139),Oe=o(112),Ae=o(50),We=o(38),je=o(84),ge=o(98),Pe=o(42),Te=o(89),Xe=o(93),rt=o(72),wt=o(90),Ve=o(28),Ze=o(140),gt=o(141),le=o(78),se=o(58),ve=o(79).forEach,Ce=Xe("hidden"),He="Symbol",ze=Ve("toPrimitive"),xt=se.set,kt=se.getterFor(He),jt=Object.prototype,vt=p.Symbol,ke=vt&&vt.prototype,st=p.TypeError,pe=p.QObject,ot=m("JSON","stringify"),Lt=Ae.f,sn=We.f,zt=Se.f,Qt=je.f,yn=j([].push),jn=Te("symbols"),Ct=Te("op-symbols"),Gn=Te("string-to-symbol-registry"),J=Te("symbol-to-string-registry"),de=Te("wks"),ae=!pe||!pe.prototype||!pe.prototype.findChild,be=k&&C(function(){return $(sn({},"a",{get:function(){return sn(this,"a",{value:7}).a}})).a!=7})?function(it,bt,St){var It=Lt(jt,bt);It&&delete jt[bt],sn(it,bt,St),It&&it!==jt&&sn(jt,bt,It)}:sn,$e=function(it,bt){var St=jn[it]=$(ke);return xt(St,{type:He,tag:it,description:bt}),k||(St.description=bt),St},Ke=function(it,bt,St){it===jt&&Ke(Ct,bt,St),re(it);var It=V(bt);return re(St),N(jn,It)?(St.enumerable?(N(it,Ce)&&it[Ce][It]&&(it[Ce][It]=!1),St=$(St,{enumerable:Y(0,!1)})):(N(it,Ce)||sn(it,Ce,Y(1,{})),it[Ce][It]=!0),be(it,It,St)):sn(it,It,St)},ft=function(it,bt){re(it);var St=ne(bt),It=q(St).concat(Xn(St));return ve(It,function(hn){k&&!E(Ut,St,hn)||Ke(it,hn,St[hn])}),it},Ut=function(it){var bt=V(it),St=E(Qt,this,bt);return!(this===jt&&N(jn,bt)&&!N(Ct,bt))&&(!(St||!N(this,bt)||!N(jn,bt)||N(this,Ce)&&this[Ce][bt])||St)},Qn=function(it,bt){var St=ne(it),It=V(bt);if(St!==jt||!N(jn,It)||N(Ct,It)){var hn=Lt(St,It);return!hn||!N(jn,It)||N(St,Ce)&&St[Ce][It]||(hn.enumerable=!0),hn}},lr=function(it){var bt=zt(ne(it)),St=[];return ve(bt,function(It){N(jn,It)||N(rt,It)||yn(St,It)}),St},Xn=function(it){var bt=it===jt,St=zt(bt?Ct:ne(it)),It=[];return ve(St,function(hn){!N(jn,hn)||bt&&!N(jt,hn)||yn(It,jn[hn])}),It};if(T||(vt=function(){if(Q(ke,this))throw st("Symbol is not a constructor");var it=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,bt=wt(it),St=function(It){this===jt&&E(St,Ct,It),N(this,Ce)&&N(this[Ce],bt)&&(this[Ce][bt]=!1),be(this,bt,Y(1,It))};return k&&ae&&be(jt,bt,{configurable:!0,set:St}),$e(bt,it)},Pe(ke=vt.prototype,"toString",function(){return kt(this).tag}),Pe(vt,"withoutSetter",function(it){return $e(wt(it),it)}),je.f=Ut,We.f=Ke,Ae.f=Qn,ce.f=Se.f=lr,Oe.f=Xn,Ze.f=function(it){return $e(Ve(it),it)},k&&(sn(ke,"description",{configurable:!0,get:function(){return kt(this).description}}),S||Pe(jt,"propertyIsEnumerable",Ut,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:vt}),ve(q(de),function(it){gt(it)}),f({target:He,stat:!0,forced:!T},{for:function(it){var bt=B(it);if(N(Gn,bt))return Gn[bt];var St=vt(bt);return Gn[bt]=St,J[St]=bt,St},keyFor:function(it){if(!ue(it))throw st(it+" is not a symbol");if(N(J,it))return J[it]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),f({target:"Object",stat:!0,forced:!T,sham:!k},{create:function(it,bt){return bt===void 0?$(it):ft($(it),bt)},defineProperty:Ke,defineProperties:ft,getOwnPropertyDescriptor:Qn}),f({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:lr,getOwnPropertySymbols:Xn}),f({target:"Object",stat:!0,forced:C(function(){Oe.f(1)})},{getOwnPropertySymbols:function(it){return Oe.f(ee(it))}}),ot&&f({target:"JSON",stat:!0,forced:!T||C(function(){var it=vt();return ot([it])!="[null]"||ot({a:it})!="{}"||ot(Object(it))!="{}"})},{stringify:function(it,bt,St){var It=ge(arguments),hn=bt;if((H(bt)||it!==void 0)&&!ue(it))return R(bt)||(bt=function(Dn,Po){if(G(hn)&&(Po=E(hn,this,Dn,Po)),!ue(Po))return Po}),It[1]=bt,g(ot,null,It)}}),!ke[ze]){var $n=ke.valueOf;Pe(ke,ze,function(it){return E($n,this)})}le(vt,He),rt[Ce]=!0},function(a,l,o){var f=o(7),p=o(152),m=o(153),g=o(3),E=o(57),j=o(28),S=j("iterator"),k=j("toStringTag"),T=g.values,C=function(R,G){if(R){if(R[S]!==T)try{E(R,S,T)}catch{R[S]=T}if(R[k]||E(R,k,G),p[G]){for(var H in g)if(R[H]!==g[H])try{E(R,H,g[H])}catch{R[H]=g[H]}}}};for(var N in p)C(f[N]&&f[N].prototype,N);C(m,"DOMTokenList")},function(a,l,o){var f=o(151).charAt,p=o(39),m=o(58),g=o(116),E="String Iterator",j=m.set,S=m.getterFor(E);g(String,"String",function(k){j(this,{type:E,string:p(k),index:0})},function(){var k,T=S(this),C=T.string,N=T.index;return N>=C.length?{value:void 0,done:!0}:(k=f(C,N),T.index+=k.length,{value:k,done:!1})})},function(a,l,o){(function(f){var p=function(m){return m&&m.Math==Math&&m};a.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(a,l,o){var f=o(16),p=o(36),m=o(7),g=o(15),E=o(35),j=o(30),S=o(54),k=o(39),T=o(38).f,C=o(134),N=m.Symbol,R=N&&N.prototype;if(p&&j(N)&&(!("description"in R)||N().description!==void 0)){var G={},H=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),Y=S(R,this)?new N(B):B===void 0?N():N(B);return B===""&&(G[Y]=!0),Y};C(H,N),H.prototype=R,R.constructor=H;var Q=String(N("test"))=="Symbol(test)",ue=g(R.toString),re=g(R.valueOf),ee=/^Symbol\((.*)\)[^)]+$/,ne=g("".replace),V=g("".slice);T(R,"description",{configurable:!0,get:function(){var B=re(this),Y=ue(B);if(E(G,B))return"";var $=Q?V(Y,7,-1):ne(Y,ee,"$1");return $===""?void 0:$}}),f({global:!0,forced:!0},{Symbol:H})}},function(a,l,o){o(141)("iterator")},function(a,l,o){o.d(l,"a",function(){return g.a}),o.d(l,"c",function(){return g.e}),o.d(l,"h",function(){return ee}),o.d(l,"i",function(){return Q}),o.d(l,"j",function(){return G}),o.d(l,"b",function(){return Ae}),o.d(l,"e",function(){return Pe}),o.d(l,"f",function(){return We}),o.d(l,"g",function(){return jn});var f,p,m,g=o(0),E=0,j=[],S=g.i.__b,k=g.i.__r,T=g.i.diffed,C=g.i.__c,N=g.i.unmount;function R(J,de){g.i.__h&&g.i.__h(p,J,E||de),E=0;var ae=p.__H||(p.__H={__:[],__h:[]});return J>=ae.__.length&&ae.__.push({}),ae.__[J]}function G(J){return E=1,H(ce,J)}function H(J,de,ae){var be=R(f++,2);return be.t=J,be.__c||(be.__=[ae?ae(de):ce(void 0,de),function($e){var Ke=be.t(be.__[0],$e);be.__[0]!==Ke&&(be.__=[Ke,be.__[1]],be.__c.setState({}))}],be.__c=p),be.__}function Q(J,de){var ae=R(f++,3);!g.i.__s&&q(ae.__H,de)&&(ae.__=J,ae.__H=de,p.__H.__h.push(ae))}function ue(J,de){var ae=R(f++,4);!g.i.__s&&q(ae.__H,de)&&(ae.__=J,ae.__H=de,p.__h.push(ae))}function re(J,de){var ae=R(f++,7);return q(ae.__H,de)&&(ae.__=J(),ae.__H=de,ae.__h=J),ae.__}function ee(J,de){return E=8,re(function(){return J},de)}function ne(){var J;for(j.sort(function(de,ae){return de.__v.__b-ae.__v.__b});J=j.pop();)if(J.__P)try{J.__H.__h.forEach(Y),J.__H.__h.forEach($),J.__H.__h=[]}catch(de){J.__H.__h=[],g.i.__e(de,J.__v)}}g.i.__b=function(J){p=null,S&&S(J)},g.i.__r=function(J){k&&k(J),f=0;var de=(p=J.__c).__H;de&&(de.__h.forEach(Y),de.__h.forEach($),de.__h=[])},g.i.diffed=function(J){T&&T(J);var de=J.__c;de&&de.__H&&de.__H.__h.length&&(j.push(de)!==1&&m===g.i.requestAnimationFrame||((m=g.i.requestAnimationFrame)||B)(ne)),p=null},g.i.__c=function(J,de){de.some(function(ae){try{ae.__h.forEach(Y),ae.__h=ae.__h.filter(function(be){return!be.__||$(be)})}catch(be){de.some(function($e){$e.__h&&($e.__h=[])}),de=[],g.i.__e(be,ae.__v)}}),C&&C(J,de)},g.i.unmount=function(J){N&&N(J);var de,ae=J.__c;ae&&ae.__H&&(ae.__H.__.forEach(function(be){try{Y(be)}catch($e){de=$e}}),de&&g.i.__e(de,ae.__v))};var V=typeof requestAnimationFrame=="function";function B(J){var de,ae=function(){clearTimeout(be),V&&cancelAnimationFrame(de),setTimeout(J)},be=setTimeout(ae,100);V&&(de=requestAnimationFrame(ae))}function Y(J){var de=p,ae=J.__c;typeof ae=="function"&&(J.__c=void 0,ae()),p=de}function $(J){var de=p;J.__c=J.__(),p=de}function q(J,de){return!J||J.length!==de.length||de.some(function(ae,be){return ae!==J[be]})}function ce(J,de){return typeof de=="function"?de(J):de}function Se(J,de){for(var ae in de)J[ae]=de[ae];return J}function Oe(J,de){for(var ae in J)if(ae!=="__source"&&!(ae in de))return!0;for(var be in de)if(be!=="__source"&&J[be]!==de[be])return!0;return!1}function Ae(J){this.props=J}function We(J,de){function ae($e){var Ke=this.props.ref,ft=Ke==$e.ref;return!ft&&Ke&&(Ke.call?Ke(null):Ke.current=null),de?!de(this.props,$e)||!ft:Oe(this.props,$e)}function be($e){return this.shouldComponentUpdate=ae,Object(g.e)(J,$e)}return be.displayName="Memo("+(J.displayName||J.name)+")",be.prototype.isReactComponent=!0,be.__f=!0,be}(Ae.prototype=new g.a).isPureReactComponent=!0,Ae.prototype.shouldComponentUpdate=function(J,de){return Oe(this.props,J)||Oe(this.state,de)};var je=g.i.__b;g.i.__b=function(J){J.type&&J.type.__f&&J.ref&&(J.props.ref=J.ref,J.ref=null),je&&je(J)};var ge=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(J){function de(ae,be){var $e=Se({},ae);return delete $e.ref,J($e,!(be=ae.ref||be)||typeof be=="object"&&!("current"in be)?null:be)}return de.$$typeof=ge,de.render=de,de.prototype.isReactComponent=de.__f=!0,de.displayName="ForwardRef("+(J.displayName||J.name)+")",de}var Te=function(J,de){return J==null?null:Object(g.k)(Object(g.k)(J).map(de))},Xe={map:Te,forEach:Te,count:function(J){return J?Object(g.k)(J).length:0},only:function(J){var de=Object(g.k)(J);if(de.length!==1)throw"Children.only";return de[0]},toArray:g.k},rt=g.i.__e;g.i.__e=function(J,de,ae){if(J.then){for(var be,$e=de;$e=$e.__;)if((be=$e.__c)&&be.__c)return de.__e==null&&(de.__e=ae.__e,de.__k=ae.__k),be.__c(J,de)}rt(J,de,ae)};var wt=g.i.unmount;function Ve(J,de,ae){return J&&(J.__c&&J.__c.__H&&(J.__c.__H.__.forEach(function(be){typeof be.__c=="function"&&be.__c()}),J.__c.__H=null),(J=Se({},J)).__c!=null&&(J.__c.__P===ae&&(J.__c.__P=de),J.__c=null),J.__k=J.__k&&J.__k.map(function(be){return Ve(be,de,ae)})),J}function Ze(J,de,ae){return J&&(J.__v=null,J.__k=J.__k&&J.__k.map(function(be){return Ze(be,de,ae)}),J.__c&&J.__c.__P===de&&(J.__e&&ae.insertBefore(J.__e,J.__d),J.__c.__e=!0,J.__c.__P=ae)),J}function gt(){this.__u=0,this.t=null,this.__b=null}function le(J){var de=J.__.__c;return de&&de.__e&&de.__e(J)}function se(){this.u=null,this.o=null}g.i.unmount=function(J){var de=J.__c;de&&de.__R&&de.__R(),de&&J.__h===!0&&(J.type=null),wt&&wt(J)},(gt.prototype=new g.a).__c=function(J,de){var ae=de.__c,be=this;be.t==null&&(be.t=[]),be.t.push(ae);var $e=le(be.__v),Ke=!1,ft=function(){Ke||(Ke=!0,ae.__R=null,$e?$e(Ut):Ut())};ae.__R=ft;var Ut=function(){if(!--be.__u){if(be.state.__e){var lr=be.state.__e;be.__v.__k[0]=Ze(lr,lr.__c.__P,lr.__c.__O)}var Xn;for(be.setState({__e:be.__b=null});Xn=be.t.pop();)Xn.forceUpdate()}},Qn=de.__h===!0;be.__u++||Qn||be.setState({__e:be.__b=be.__v.__k[0]}),J.then(ft,ft)},gt.prototype.componentWillUnmount=function(){this.t=[]},gt.prototype.render=function(J,de){if(this.__b){if(this.__v.__k){var ae=document.createElement("div"),be=this.__v.__k[0].__c;this.__v.__k[0]=Ve(this.__b,ae,be.__O=be.__P)}this.__b=null}var $e=de.__e&&Object(g.e)(g.b,null,J.fallback);return $e&&($e.__h=null),[Object(g.e)(g.b,null,de.__e?null:J.children),$e]};var ve=function(J,de,ae){if(++ae[1]===ae[0]&&J.o.delete(de),J.props.revealOrder&&(J.props.revealOrder[0]!=="t"||!J.o.size))for(ae=J.u;ae;){for(;ae.length>3;)ae.pop()();if(ae[1]<ae[0])break;J.u=ae=ae[2]}};function Ce(J){return this.getChildContext=function(){return J.context},J.children}function He(J){var de=this,ae=J.i;de.componentWillUnmount=function(){Object(g.j)(null,de.l),de.l=null,de.i=null},de.i&&de.i!==ae&&de.componentWillUnmount(),J.__v?(de.l||(de.i=ae,de.l={nodeType:1,parentNode:ae,childNodes:[],appendChild:function(be){this.childNodes.push(be),de.i.appendChild(be)},insertBefore:function(be,$e){this.childNodes.push(be),de.i.appendChild(be)},removeChild:function(be){this.childNodes.splice(this.childNodes.indexOf(be)>>>1,1),de.i.removeChild(be)}}),Object(g.j)(Object(g.e)(Ce,{context:de.context},J.__v),de.l)):de.l&&de.componentWillUnmount()}(se.prototype=new g.a).__e=function(J){var de=this,ae=le(de.__v),be=de.o.get(J);return be[0]++,function($e){var Ke=function(){de.props.revealOrder?(be.push($e),ve(de,J,be)):$e()};ae?ae(Ke):Ke()}},se.prototype.render=function(J){this.u=null,this.o=new Map;var de=Object(g.k)(J.children);J.revealOrder&&J.revealOrder[0]==="b"&&de.reverse();for(var ae=de.length;ae--;)this.o.set(de[ae],this.u=[1,0,this.u]);return J.children},se.prototype.componentDidUpdate=se.prototype.componentDidMount=function(){var J=this;this.o.forEach(function(de,ae){ve(J,ae,de)})};var ze=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,xt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,kt=typeof document<"u",jt=function(J){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(J)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(J){Object.defineProperty(g.a.prototype,J,{configurable:!0,get:function(){return this["UNSAFE_"+J]},set:function(de){Object.defineProperty(this,J,{configurable:!0,writable:!0,value:de})}})});var vt=g.i.event;function ke(){}function st(){return this.cancelBubble}function pe(){return this.defaultPrevented}g.i.event=function(J){return vt&&(J=vt(J)),J.persist=ke,J.isPropagationStopped=st,J.isDefaultPrevented=pe,J.nativeEvent=J};var ot,Lt={configurable:!0,get:function(){return this.class}},sn=g.i.vnode;g.i.vnode=function(J){var de=J.type,ae=J.props,be=ae;if(typeof de=="string"){var $e=de.indexOf("-")===-1;for(var Ke in be={},ae){var ft=ae[Ke];kt&&Ke==="children"&&de==="noscript"||Ke==="value"&&"defaultValue"in ae&&ft==null||(Ke==="defaultValue"&&"value"in ae&&ae.value==null?Ke="value":Ke==="download"&&ft===!0?ft="":/ondoubleclick/i.test(Ke)?Ke="ondblclick":/^onchange(textarea|input)/i.test(Ke+de)&&!jt(ae.type)?Ke="oninput":/^onfocus$/i.test(Ke)?Ke="onfocusin":/^onblur$/i.test(Ke)?Ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ke)?Ke=Ke.toLowerCase():$e&&xt.test(Ke)?Ke=Ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():ft===null&&(ft=void 0),be[Ke]=ft)}de=="select"&&be.multiple&&Array.isArray(be.value)&&(be.value=Object(g.k)(ae.children).forEach(function(Ut){Ut.props.selected=be.value.indexOf(Ut.props.value)!=-1})),de=="select"&&be.defaultValue!=null&&(be.value=Object(g.k)(ae.children).forEach(function(Ut){Ut.props.selected=be.multiple?be.defaultValue.indexOf(Ut.props.value)!=-1:be.defaultValue==Ut.props.value})),J.props=be,ae.class!=ae.className&&(Lt.enumerable="className"in ae,ae.className!=null&&(be.class=ae.className),Object.defineProperty(be,"className",Lt))}J.$$typeof=ze,sn&&sn(J)};var zt=g.i.__r;g.i.__r=function(J){zt&&zt(J),ot=J.__c};var Qt={ReactCurrentDispatcher:{current:{readContext:function(J){return ot.__n[J.__c].props.value}}}};function yn(J){return!!J&&J.$$typeof===ze}var jn=function(J,de){return J(de)},Ct=g.b,Gn={useState:G,useReducer:H,useEffect:Q,useLayoutEffect:ue,useRef:function(J){return E=5,re(function(){return{current:J}},[])},useImperativeHandle:function(J,de,ae){E=6,ue(function(){typeof J=="function"?J(de()):J&&(J.current=de())},ae==null?ae:ae.concat(J))},useMemo:re,useCallback:ee,useContext:function(J){var de=p.context[J.__c],ae=R(f++,9);return ae.c=J,de?(ae.__==null&&(ae.__=!0,de.sub(p)),de.props.value):J.__},useDebugValue:function(J,de){g.i.useDebugValue&&g.i.useDebugValue(de?de(J):J)},version:"17.0.2",Children:Xe,render:function(J,de,ae){return de.__k==null&&(de.textContent=""),Object(g.j)(J,de),typeof ae=="function"&&ae(),J?J.__c:null},hydrate:function(J,de,ae){return Object(g.h)(J,de),typeof ae=="function"&&ae(),J?J.__c:null},unmountComponentAtNode:function(J){return!!J.__k&&(Object(g.j)(null,J),!0)},createPortal:function(J,de){return Object(g.e)(He,{__v:J,i:de})},createElement:g.e,createContext:g.d,createFactory:function(J){return g.e.bind(null,J)},cloneElement:function(J){return yn(J)?g.c.apply(null,arguments):J},createRef:g.f,Fragment:g.b,isValidElement:yn,findDOMNode:function(J){return J&&(J.base||J.nodeType===1&&J)||null},Component:g.a,PureComponent:Ae,memo:We,forwardRef:Pe,flushSync:function(J,de){return J(de)},unstable_batchedUpdates:jn,StrictMode:Ct,Suspense:gt,SuspenseList:se,lazy:function(J){var de,ae,be;function $e(Ke){if(de||(de=J()).then(function(ft){ae=ft.default||ft},function(ft){be=ft}),be)throw be;if(!ae)throw de;return Object(g.e)(ae,Ke)}return $e.displayName="Lazy",$e.__f=!0,$e},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Qt};l.d=Gn},function(a,l,o){var f=o(7),p=o(152),m=o(153),g=o(187),E=o(57),j=function(k){if(k&&k.forEach!==g)try{E(k,"forEach",g)}catch{k.forEach=g}};for(var S in p)p[S]&&j(f[S]&&f[S].prototype);j(m)},function(a,l,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(a,l,o){var f=o(16),p=o(18),m=o(40),g=o(101),E=o(143);f({target:"Object",stat:!0,forced:p(function(){g(1)}),sham:!E},{getPrototypeOf:function(j){return g(m(j))}})},function(a,l,o){var f=o(16),p=o(46),m=o(76),g=o(203),E=o(165),j=o(32),S=o(33),k=o(60),T=o(18),C=p("Reflect","construct"),N=Object.prototype,R=[].push,G=T(function(){function ue(){}return!(C(function(){},[],ue)instanceof ue)}),H=!T(function(){C(function(){})}),Q=G||H;f({target:"Reflect",stat:!0,forced:Q,sham:Q},{construct:function(ue,re){E(ue),j(re);var ee=arguments.length<3?ue:E(arguments[2]);if(H&&!G)return C(ue,re,ee);if(ue==ee){switch(re.length){case 0:return new ue;case 1:return new ue(re[0]);case 2:return new ue(re[0],re[1]);case 3:return new ue(re[0],re[1],re[2]);case 4:return new ue(re[0],re[1],re[2],re[3])}var ne=[null];return m(R,ne,re),new(m(g,ue,ne))}var V=ee.prototype,B=k(S(V)?V:N),Y=m(ue,B,re);return S(Y)?Y:B}})},function(a,l){var o=Function.prototype,f=o.bind,p=o.call,m=f&&f.bind(p);a.exports=f?function(g){return g&&m(p,g)}:function(g){return g&&function(){return p.apply(g,arguments)}}},function(a,l,o){var f=o(7),p=o(50).f,m=o(57),g=o(42),E=o(110),j=o(134),S=o(95);a.exports=function(k,T){var C,N,R,G,H,Q=k.target,ue=k.global,re=k.stat;if(C=ue?f:re?f[Q]||E(Q,{}):(f[Q]||{}).prototype)for(N in T){if(G=T[N],R=k.noTargetGet?(H=p(C,N))&&H.value:C[N],!S(ue?N:Q+(re?".":"#")+N,k.forced)&&R!==void 0){if(typeof G==typeof R)continue;j(G,R)}(k.sham||R&&R.sham)&&m(G,"sham",!0),g(C,N,G,k)}}},function(a,l,o){var f=o(16),p=o(7),m=o(96),g=o(99),E=o(33),j=o(75),S=o(45),k=o(41),T=o(62),C=o(28),N=o(81),R=o(98),G=N("slice"),H=C("species"),Q=p.Array,ue=Math.max;f({target:"Array",proto:!0,forced:!G},{slice:function(re,ee){var ne,V,B,Y=k(this),$=S(Y),q=j(re,$),ce=j(ee===void 0?$:ee,$);if(m(Y)&&(ne=Y.constructor,(g(ne)&&(ne===Q||m(ne.prototype))||E(ne)&&(ne=ne[H])===null)&&(ne=void 0),ne===Q||ne===void 0))return R(Y,q,ce);for(V=new(ne===void 0?Q:ne)(ue(ce-q,0)),B=0;q<ce;q++,B++)q in Y&&T(V,B,Y[q]);return V.length=B,V}})},function(a,l){a.exports=function(o){try{return!!o()}catch{return!0}}},function(a,l,o){var f=o(16),p=o(103);f({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},function(a,l,o){var f=o(16),p=o(40),m=o(77);f({target:"Object",stat:!0,forced:o(18)(function(){m(1)})},{keys:function(g){return m(p(g))}})},function(a,l,o){var f=o(36),p=o(73).EXISTS,m=o(15),g=o(38).f,E=Function.prototype,j=m(E.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=m(S.exec);f&&!p&&g(E,"name",{configurable:!0,get:function(){try{return k(S,j(this))[1]}catch{return""}}})},function(a,l,o){var f=o(16),p=o(18),m=o(41),g=o(50).f,E=o(36),j=p(function(){g(1)});f({target:"Object",stat:!0,forced:!E||j,sham:!E},{getOwnPropertyDescriptor:function(S,k){return g(m(S),k)}})},function(a,l,o){var f=o(16),p=o(188);f({target:"Array",stat:!0,forced:!o(120)(function(m){Array.from(m)})},{from:p})},function(a,l,o){var f=o(16),p=o(79).filter;f({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(m){return p(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,l,o){var f=o(16),p=o(36),m=o(135),g=o(41),E=o(50),j=o(62);f({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(S){for(var k,T,C=g(S),N=E.f,R=m(C),G={},H=0;R.length>H;)(T=N(C,k=R[H++]))!==void 0&&j(G,k,T);return G}})},function(a,l,o){var f=o(16),p=o(7),m=o(18),g=o(96),E=o(33),j=o(40),S=o(45),k=o(62),T=o(115),C=o(81),N=o(28),R=o(70),G=N("isConcatSpreadable"),H=9007199254740991,Q="Maximum allowed index exceeded",ue=p.TypeError,re=R>=51||!m(function(){var V=[];return V[G]=!1,V.concat()[0]!==V}),ee=C("concat"),ne=function(V){if(!E(V))return!1;var B=V[G];return B!==void 0?!!B:g(V)};f({target:"Array",proto:!0,forced:!re||!ee},{concat:function(V){var B,Y,$,q,ce,Se=j(this),Oe=T(Se,0),Ae=0;for(B=-1,$=arguments.length;B<$;B++)if(ne(ce=B===-1?Se:arguments[B])){if(Ae+(q=S(ce))>H)throw ue(Q);for(Y=0;Y<q;Y++,Ae++)Y in ce&&k(Oe,Ae,ce[Y])}else{if(Ae>=H)throw ue(Q);k(Oe,Ae++,ce)}return Oe.length=Ae,Oe}})},,function(a,l,o){var f=o(7),p=o(89),m=o(35),g=o(90),E=o(108),j=o(132),S=p("wks"),k=f.Symbol,T=k&&k.for,C=j?k:k&&k.withoutSetter||g;a.exports=function(N){if(!m(S,N)||!E&&typeof S[N]!="string"){var R="Symbol."+N;E&&m(k,N)?S[N]=k[N]:S[N]=j&&T?T(R):C(R)}return S[N]}},function(a,l,o){var f=o(16),p=o(202);f({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},function(a,l){a.exports=function(o){return typeof o=="function"}},function(a,l,o){var f=o(106),p=typeof self=="object"&&self&&self.Object===Object&&self,m=f.a||p||Function("return this")();l.a=m},function(a,l,o){var f=o(7),p=o(33),m=f.String,g=f.TypeError;a.exports=function(E){if(p(E))return E;throw g(m(E)+" is not an object")}},function(a,l,o){var f=o(30);a.exports=function(p){return typeof p=="object"?p!==null:f(p)}},function(a,l){var o=Function.prototype.call;a.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(a,l,o){var f=o(15),p=o(40),m=f({}.hasOwnProperty);a.exports=Object.hasOwn||function(g,E){return m(p(g),E)}},function(a,l,o){var f=o(18);a.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(a,l,o){var f=o(16),p=o(79).map;f({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(m){return p(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,l,o){var f=o(7),p=o(36),m=o(133),g=o(32),E=o(86),j=f.TypeError,S=Object.defineProperty;l.f=p?S:function(k,T,C){if(g(k),T=E(T),g(C),m)try{return S(k,T,C)}catch{}if("get"in C||"set"in C)throw j("Accessors not supported");return"value"in C&&(k[T]=C.value),k}},function(a,l,o){var f=o(7),p=o(97),m=f.String;a.exports=function(g){if(p(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(g)}},function(a,l,o){var f=o(7),p=o(44),m=f.Object;a.exports=function(g){return m(p(g))}},function(a,l,o){var f=o(85),p=o(44);a.exports=function(m){return f(p(m))}},function(a,l,o){var f=o(7),p=o(30),m=o(35),g=o(57),E=o(110),j=o(92),S=o(58),k=o(73).CONFIGURABLE,T=S.get,C=S.enforce,N=String(String).split("String");(a.exports=function(R,G,H,Q){var ue,re=!!Q&&!!Q.unsafe,ee=!!Q&&!!Q.enumerable,ne=!!Q&&!!Q.noTargetGet,V=Q&&Q.name!==void 0?Q.name:G;p(H)&&(String(V).slice(0,7)==="Symbol("&&(V="["+String(V).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(H,"name")||k&&H.name!==V)&&g(H,"name",V),(ue=C(H)).source||(ue.source=N.join(typeof V=="string"?V:""))),R!==f?(re?!ne&&R[G]&&(ee=!0):delete R[G],ee?R[G]=H:g(R,G,H)):ee?R[G]=H:E(G,H)})(Function.prototype,"toString",function(){return p(this)&&T(this).source||j(this)})},function(a,l,o){(function(f){o.d(l,"d",function(){return g}),o.d(l,"c",function(){return E}),o.d(l,"b",function(){return j}),o.d(l,"a",function(){return k});var p=o(10),m=function(T,C){var N=typeof Symbol=="function"&&T[Symbol.iterator];if(!N)return T;var R,G,H=N.call(T),Q=[];try{for(;(C===void 0||C-- >0)&&!(R=H.next()).done;)Q.push(R.value)}catch(ue){G={error:ue}}finally{try{R&&!R.done&&(N=H.return)&&N.call(H)}finally{if(G)throw G.error}}return Q};function g(){var T=m(Object(p.j)(0),2)[1];return Object(p.h)(function(){T(function(C){return C+1})},[])}function E(T){if(!T||typeof T!="object")return!1;var C=Object.getPrototypeOf(T);return!C||C===Object.prototype}function j(T){return typeof Symbol=="function"?Symbol.for(T):"__$mobx-react "+T+"__"}var S={};function k(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:S}}).call(this,o(68))},function(a,l,o){var f=o(7).TypeError;a.exports=function(p){if(p==null)throw f("Can't call method on "+p);return p}},function(a,l,o){var f=o(94);a.exports=function(p){return f(p.length)}},function(a,l,o){var f=o(7),p=o(30),m=function(g){return p(g)?g:void 0};a.exports=function(g,E){return arguments.length<2?m(f[g]):f[g]&&f[g][E]}},function(a,l,o){var f=o(16),p=o(34),m=o(33),g=o(32),E=o(204),j=o(50),S=o(101);f({target:"Reflect",stat:!0},{get:function k(T,C){var N,R,G=arguments.length<3?T:arguments[2];return g(T)===G?T[C]:(N=j.f(T,C))?E(N)?N.value:N.get===void 0?void 0:p(N.get,G):m(R=S(T))?k(R,C,G):void 0}})},function(a,l,o){(function(f){var p=o(31),m=o(171),g=h&&!h.nodeType&&h,E=g&&typeof f=="object"&&f&&!f.nodeType&&f,j=E&&E.exports===g?p.a.Buffer:void 0,S=(j?j.isBuffer:void 0)||m.a;l.a=S}).call(this,o(122)(a))},function(a,l,o){(function(f){var p=o(106),m=h&&!h.nodeType&&h,g=m&&typeof f=="object"&&f&&!f.nodeType&&f,E=g&&g.exports===m&&p.a.process,j=function(){try{var S=g&&g.require&&g.require("util").types;return S||E&&E.binding&&E.binding("util")}catch{}}();l.a=j}).call(this,o(122)(a))},function(a,l,o){var f=o(36),p=o(34),m=o(84),g=o(69),E=o(41),j=o(86),S=o(35),k=o(133),T=Object.getOwnPropertyDescriptor;l.f=f?T:function(C,N){if(C=E(C),N=j(N),k)try{return T(C,N)}catch{}if(S(C,N))return g(!p(m.f,C,N),C[N])}},function(a,l,o){var f=o(15),p=f({}.toString),m=f("".slice);a.exports=function(g){return m(p(g),8,-1)}},function(a,l,o){o(182)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},o(186))},function(a,l,o){var f=o(16),p=o(219).entries;f({target:"Object",stat:!0},{entries:function(m){return p(m)}})},function(a,l,o){var f=o(15);a.exports=f({}.isPrototypeOf)},function(a,l,o){var f=o(46);a.exports=f("navigator","userAgent")||""},function(a,l,o){var f=o(7),p=o(30),m=o(88),g=f.TypeError;a.exports=function(E){if(p(E))return E;throw g(m(E)+" is not a function")}},function(a,l,o){var f=o(36),p=o(38),m=o(69);a.exports=f?function(g,E,j){return p.f(g,E,m(1,j))}:function(g,E,j){return g[E]=j,g}},function(a,l,o){var f,p,m,g=o(175),E=o(7),j=o(15),S=o(33),k=o(57),T=o(35),C=o(109),N=o(93),R=o(72),G="Object already initialized",H=E.TypeError,Q=E.WeakMap;if(g||C.state){var ue=C.state||(C.state=new Q),re=j(ue.get),ee=j(ue.has),ne=j(ue.set);f=function(B,Y){if(ee(ue,B))throw new H(G);return Y.facade=B,ne(ue,B,Y),Y},p=function(B){return re(ue,B)||{}},m=function(B){return ee(ue,B)}}else{var V=N("state");R[V]=!0,f=function(B,Y){if(T(B,V))throw new H(G);return Y.facade=B,k(B,V,Y),Y},p=function(B){return T(B,V)?B[V]:{}},m=function(B){return T(B,V)}}a.exports={set:f,get:p,has:m,enforce:function(B){return m(B)?p(B):f(B,{})},getterFor:function(B){return function(Y){var $;if(!S(Y)||($=p(Y)).type!==B)throw H("Incompatible receiver, "+B+" required");return $}}}},function(a,l){var o=Math.ceil,f=Math.floor;a.exports=function(p){var m=+p;return m!=m||m===0?0:(m>0?f:o)(m)}},function(a,l,o){var f,p=o(32),m=o(176),g=o(111),E=o(72),j=o(138),S=o(91),k=o(93),T=k("IE_PROTO"),C=function(){},N=function(H){return"<script>"+H+"<\/script>"},R=function(H){H.write(N("")),H.close();var Q=H.parentWindow.Object;return H=null,Q},G=function(){try{f=new ActiveXObject("htmlfile")}catch{}var H,Q;G=typeof document<"u"?document.domain&&f?R(f):((Q=S("iframe")).style.display="none",j.appendChild(Q),Q.src="javascript:",(H=Q.contentWindow.document).open(),H.write(N("document.F=Object")),H.close(),H.F):R(f);for(var ue=g.length;ue--;)delete G.prototype[g[ue]];return G()};E[T]=!0,a.exports=Object.create||function(H,Q){var ue;return H!==null?(C.prototype=p(H),ue=new C,C.prototype=null,ue[T]=H):ue=G(),Q===void 0?ue:m(ue,Q)}},function(a,l,o){var f=o(56);a.exports=function(p,m){var g=p[m];return g==null?void 0:f(g)}},function(a,l,o){var f=o(86),p=o(38),m=o(69);a.exports=function(g,E,j){var S=f(E);S in g?p.f(g,S,m(0,j)):g[S]=j}},function(a,l,o){var f=o(15),p=o(56),m=f(f.bind);a.exports=function(g,E){return p(g),E===void 0?g:m?m(g,E):function(){return g.apply(E,arguments)}}},function(a,l,o){var f=o(36),p=o(7),m=o(15),g=o(95),E=o(42),j=o(35),S=o(148),k=o(54),T=o(87),C=o(131),N=o(18),R=o(74).f,G=o(50).f,H=o(38).f,Q=o(160),ue=o(161).trim,re="Number",ee=p.Number,ne=ee.prototype,V=p.TypeError,B=m("".slice),Y=m("".charCodeAt),$=function(We){var je=C(We,"number");return typeof je=="bigint"?je:q(je)},q=function(We){var je,ge,Pe,Te,Xe,rt,wt,Ve,Ze=C(We,"number");if(T(Ze))throw V("Cannot convert a Symbol value to a number");if(typeof Ze=="string"&&Ze.length>2){if(Ze=ue(Ze),(je=Y(Ze,0))===43||je===45){if((ge=Y(Ze,2))===88||ge===120)return NaN}else if(je===48){switch(Y(Ze,1)){case 66:case 98:Pe=2,Te=49;break;case 79:case 111:Pe=8,Te=55;break;default:return+Ze}for(rt=(Xe=B(Ze,2)).length,wt=0;wt<rt;wt++)if((Ve=Y(Xe,wt))<48||Ve>Te)return NaN;return parseInt(Xe,Pe)}}return+Ze};if(g(re,!ee(" 0o1")||!ee("0b1")||ee("+0x1"))){for(var ce,Se=function(We){var je=arguments.length<1?0:ee($(We)),ge=this;return k(ne,ge)&&N(function(){Q(ge)})?S(Object(je),ge,Se):je},Oe=f?R(ee):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ae=0;Oe.length>Ae;Ae++)j(ee,ce=Oe[Ae])&&!j(Se,ce)&&H(Se,ce,G(ee,ce));Se.prototype=ne,ne.constructor=Se,E(p,re,Se)}},function(a,l,o){var f=o(16),p=o(15),m=o(85),g=o(41),E=o(121),j=p([].join),S=m!=Object,k=E("join",",");f({target:"Array",proto:!0,forced:S||!k},{join:function(T){return j(g(this),T===void 0?",":T)}})},function(a,l,o){var f=o(15),p=o(73).PROPER,m=o(42),g=o(32),E=o(54),j=o(39),S=o(18),k=o(154),T="toString",C=RegExp.prototype,N=C.toString,R=f(k),G=S(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),H=p&&N.name!=T;(G||H)&&m(RegExp.prototype,T,function(){var Q=g(this),ue=j(Q.source),re=Q.flags;return"/"+ue+"/"+j(re===void 0&&E(C,Q)&&!("flags"in C)?R(Q):re)},{unsafe:!0})},function(a,l,o){var f=o(16),p=o(216),m=o(100);f({target:"Array",proto:!0},{fill:p}),m("fill")},function(a,l){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}a.exports=o},function(a,l){a.exports=function(o,f){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:f}}},function(a,l,o){var f,p,m=o(7),g=o(55),E=m.process,j=m.Deno,S=E&&E.versions||j&&j.version,k=S&&S.v8;k&&(p=(f=k.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!p&&g&&(!(f=g.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=g.match(/Chrome\/(\d+)/))&&(p=+f[1]),a.exports=p},function(a,l){a.exports=!1},function(a,l){a.exports={}},function(a,l,o){var f=o(36),p=o(35),m=Function.prototype,g=f&&Object.getOwnPropertyDescriptor,E=p(m,"name"),j=E&&(function(){}).name==="something",S=E&&(!f||f&&g(m,"name").configurable);a.exports={EXISTS:E,PROPER:j,CONFIGURABLE:S}},function(a,l,o){var f=o(136),p=o(111).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(m){return f(m,p)}},function(a,l,o){var f=o(59),p=Math.max,m=Math.min;a.exports=function(g,E){var j=f(g);return j<0?p(j+E,0):m(j,E)}},function(a,l){var o=Function.prototype,f=o.apply,p=o.bind,m=o.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(p?m.bind(f):function(){return m.apply(f,arguments)})},function(a,l,o){var f=o(136),p=o(111);a.exports=Object.keys||function(m){return f(m,p)}},function(a,l,o){var f=o(38).f,p=o(35),m=o(28)("toStringTag");a.exports=function(g,E,j){g&&!p(g=j?g:g.prototype,m)&&f(g,m,{configurable:!0,value:E})}},function(a,l,o){var f=o(63),p=o(15),m=o(85),g=o(40),E=o(45),j=o(115),S=p([].push),k=function(T){var C=T==1,N=T==2,R=T==3,G=T==4,H=T==6,Q=T==7,ue=T==5||H;return function(re,ee,ne,V){for(var B,Y,$=g(re),q=m($),ce=f(ee,ne),Se=E(q),Oe=0,Ae=V||j,We=C?Ae(re,Se):N||Q?Ae(re,0):void 0;Se>Oe;Oe++)if((ue||Oe in q)&&(Y=ce(B=q[Oe],Oe,$),T))if(C)We[Oe]=Y;else if(Y)switch(T){case 3:return!0;case 5:return B;case 6:return Oe;case 2:S(We,B)}else switch(T){case 4:return!1;case 7:S(We,B)}return H?-1:R||G?G:We}};a.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},function(a,l){a.exports={}},function(a,l,o){var f=o(18),p=o(28),m=o(70),g=p("species");a.exports=function(E){return m>=51||!f(function(){var j=[];return(j.constructor={})[g]=function(){return{foo:1}},j[E](Boolean).foo!==1})}},function(a,l,o){var f=o(76),p=o(34),m=o(15),g=o(123),E=o(159),j=o(32),S=o(44),k=o(164),T=o(124),C=o(94),N=o(39),R=o(61),G=o(114),H=o(125),Q=o(103),ue=o(155),re=o(18),ee=ue.UNSUPPORTED_Y,ne=4294967295,V=Math.min,B=[].push,Y=m(/./.exec),$=m(B),q=m("".slice),ce=!re(function(){var Se=/(?:)/,Oe=Se.exec;Se.exec=function(){return Oe.apply(this,arguments)};var Ae="ab".split(Se);return Ae.length!==2||Ae[0]!=="a"||Ae[1]!=="b"});g("split",function(Se,Oe,Ae){var We;return We="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ge){var Pe=N(S(this)),Te=ge===void 0?ne:ge>>>0;if(Te===0)return[];if(je===void 0)return[Pe];if(!E(je))return p(Oe,Pe,je,Te);for(var Xe,rt,wt,Ve=[],Ze=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),gt=0,le=new RegExp(je.source,Ze+"g");(Xe=p(Q,le,Pe))&&!((rt=le.lastIndex)>gt&&($(Ve,q(Pe,gt,Xe.index)),Xe.length>1&&Xe.index<Pe.length&&f(B,Ve,G(Xe,1)),wt=Xe[0].length,gt=rt,Ve.length>=Te));)le.lastIndex===Xe.index&&le.lastIndex++;return gt===Pe.length?!wt&&Y(le,"")||$(Ve,""):$(Ve,q(Pe,gt)),Ve.length>Te?G(Ve,0,Te):Ve}:"0".split(void 0,0).length?function(je,ge){return je===void 0&&ge===0?[]:p(Oe,this,je,ge)}:Oe,[function(je,ge){var Pe=S(this),Te=je==null?void 0:R(je,Se);return Te?p(Te,je,Pe,ge):p(We,N(Pe),je,ge)},function(je,ge){var Pe=j(this),Te=N(je),Xe=Ae(We,Pe,Te,ge,We!==Oe);if(Xe.done)return Xe.value;var rt=k(Pe,RegExp),wt=Pe.unicode,Ve=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(ee?"g":"y"),Ze=new rt(ee?"^(?:"+Pe.source+")":Pe,Ve),gt=ge===void 0?ne:ge>>>0;if(gt===0)return[];if(Te.length===0)return H(Ze,Te)===null?[Te]:[];for(var le=0,se=0,ve=[];se<Te.length;){Ze.lastIndex=ee?0:se;var Ce,He=H(Ze,ee?q(Te,se):Te);if(He===null||(Ce=V(C(Ze.lastIndex+(ee?se:0)),Te.length))===le)se=T(Te,se,wt);else{if($(ve,q(Te,le,se)),ve.length===gt)return ve;for(var ze=1;ze<=He.length-1;ze++)if($(ve,He[ze]),ve.length===gt)return ve;se=le=Ce}}return $(ve,q(Te,le)),ve}]},!ce,ee)},function(a,l,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(a,l,o){var f={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,m=p&&!f.call({1:2},1);l.f=m?function(g){var E=p(this,g);return!!E&&E.enumerable}:f},function(a,l,o){var f=o(7),p=o(15),m=o(18),g=o(51),E=f.Object,j=p("".split);a.exports=m(function(){return!E("z").propertyIsEnumerable(0)})?function(S){return g(S)=="String"?j(S,""):E(S)}:E},function(a,l,o){var f=o(131),p=o(87);a.exports=function(m){var g=f(m,"string");return p(g)?g:g+""}},function(a,l,o){var f=o(7),p=o(46),m=o(30),g=o(54),E=o(132),j=f.Object;a.exports=E?function(S){return typeof S=="symbol"}:function(S){var k=p("Symbol");return m(k)&&g(k.prototype,j(S))}},function(a,l,o){var f=o(7).String;a.exports=function(p){try{return f(p)}catch{return"Object"}}},function(a,l,o){var f=o(71),p=o(109);(a.exports=function(m,g){return p[m]||(p[m]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(a,l,o){var f=o(15),p=0,m=Math.random(),g=f(1 .toString);a.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+g(++p+m,36)}},function(a,l,o){var f=o(7),p=o(33),m=f.document,g=p(m)&&p(m.createElement);a.exports=function(E){return g?m.createElement(E):{}}},function(a,l,o){var f=o(15),p=o(30),m=o(109),g=f(Function.toString);p(m.inspectSource)||(m.inspectSource=function(E){return g(E)}),a.exports=m.inspectSource},function(a,l,o){var f=o(89),p=o(90),m=f("keys");a.exports=function(g){return m[g]||(m[g]=p(g))}},function(a,l,o){var f=o(59),p=Math.min;a.exports=function(m){return m>0?p(f(m),9007199254740991):0}},function(a,l,o){var f=o(18),p=o(30),m=/#|\.prototype\./,g=function(T,C){var N=j[E(T)];return N==k||N!=S&&(p(C)?f(C):!!C)},E=g.normalize=function(T){return String(T).replace(m,".").toLowerCase()},j=g.data={},S=g.NATIVE="N",k=g.POLYFILL="P";a.exports=g},function(a,l,o){var f=o(51);a.exports=Array.isArray||function(p){return f(p)=="Array"}},function(a,l,o){var f=o(7),p=o(113),m=o(30),g=o(51),E=o(28)("toStringTag"),j=f.Object,S=g(function(){return arguments}())=="Arguments";a.exports=p?g:function(k){var T,C,N;return k===void 0?"Undefined":k===null?"Null":typeof(C=function(R,G){try{return R[G]}catch{}}(T=j(k),E))=="string"?C:S?g(T):(N=g(T))=="Object"&&m(T.callee)?"Arguments":N}},function(a,l,o){var f=o(15);a.exports=f([].slice)},function(a,l,o){var f=o(15),p=o(18),m=o(30),g=o(97),E=o(46),j=o(92),S=function(){},k=[],T=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,N=f(C.exec),R=!C.exec(S),G=function(H){if(!m(H))return!1;try{return T(S,k,H),!0}catch{return!1}};a.exports=!T||p(function(){var H;return G(G.call)||!G(Object)||!G(function(){H=!0})||H})?function(H){if(!m(H))return!1;switch(g(H)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return R||!!N(C,j(H))}:G},function(a,l,o){var f=o(28),p=o(60),m=o(38),g=f("unscopables"),E=Array.prototype;E[g]==null&&m.f(E,g,{configurable:!0,value:p(null)}),a.exports=function(j){E[g][j]=!0}},function(a,l,o){var f=o(7),p=o(35),m=o(30),g=o(40),E=o(93),j=o(143),S=E("IE_PROTO"),k=f.Object,T=k.prototype;a.exports=j?k.getPrototypeOf:function(C){var N=g(C);if(p(N,S))return N[S];var R=N.constructor;return m(R)&&N instanceof R?R.prototype:N instanceof k?T:null}},function(a,l,o){var f=o(15),p=o(32),m=o(181);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,E=!1,j={};try{(g=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(j,[]),E=j instanceof Array}catch{}return function(S,k){return p(S),m(k),E?g(S,k):S.__proto__=k,S}}():void 0)},function(a,l,o){var f,p,m=o(34),g=o(15),E=o(39),j=o(154),S=o(155),k=o(89),T=o(60),C=o(58).get,N=o(190),R=o(191),G=k("native-string-replace",String.prototype.replace),H=RegExp.prototype.exec,Q=H,ue=g("".charAt),re=g("".indexOf),ee=g("".replace),ne=g("".slice),V=(p=/b*/g,m(H,f=/a/,"a"),m(H,p,"a"),f.lastIndex!==0||p.lastIndex!==0),B=S.BROKEN_CARET,Y=/()??/.exec("")[1]!==void 0;(V||Y||B||N||R)&&(Q=function($){var q,ce,Se,Oe,Ae,We,je,ge=this,Pe=C(ge),Te=E($),Xe=Pe.raw;if(Xe)return Xe.lastIndex=ge.lastIndex,q=m(Q,Xe,Te),ge.lastIndex=Xe.lastIndex,q;var rt=Pe.groups,wt=B&&ge.sticky,Ve=m(j,ge),Ze=ge.source,gt=0,le=Te;if(wt&&(Ve=ee(Ve,"y",""),re(Ve,"g")===-1&&(Ve+="g"),le=ne(Te,ge.lastIndex),ge.lastIndex>0&&(!ge.multiline||ge.multiline&&ue(Te,ge.lastIndex-1)!==`
`)&&(Ze="(?: "+Ze+")",le=" "+le,gt++),ce=new RegExp("^(?:"+Ze+")",Ve)),Y&&(ce=new RegExp("^"+Ze+"$(?!\\s)",Ve)),V&&(Se=ge.lastIndex),Oe=m(H,wt?ce:ge,le),wt?Oe?(Oe.input=ne(Oe.input,gt),Oe[0]=ne(Oe[0],gt),Oe.index=ge.lastIndex,ge.lastIndex+=Oe[0].length):ge.lastIndex=0:V&&Oe&&(ge.lastIndex=ge.global?Oe.index+Oe[0].length:Se),Y&&Oe&&Oe.length>1&&m(G,Oe[0],ce,function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(Oe[Ae]=void 0)}),Oe&&rt)for(Oe.groups=We=T(null),Ae=0;Ae<rt.length;Ae++)We[(je=rt[Ae])[0]]=Oe[je[1]];return Oe}),a.exports=Q},function(a,l,o){var f=o(16),p=o(7),m=o(75),g=o(59),E=o(45),j=o(40),S=o(115),k=o(62),T=o(81)("splice"),C=p.TypeError,N=Math.max,R=Math.min,G=9007199254740991,H="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!T},{splice:function(Q,ue){var re,ee,ne,V,B,Y,$=j(this),q=E($),ce=m(Q,q),Se=arguments.length;if(Se===0?re=ee=0:Se===1?(re=0,ee=q-ce):(re=Se-2,ee=R(N(g(ue),0),q-ce)),q+re-ee>G)throw C(H);for(ne=S($,ee),V=0;V<ee;V++)(B=ce+V)in $&&k(ne,V,$[B]);if(ne.length=ee,re<ee){for(V=ce;V<q-ee;V++)Y=V+re,(B=V+ee)in $?$[Y]=$[B]:delete $[Y];for(V=q;V>q-ee+re;V--)delete $[V-1]}else if(re>ee)for(V=q-ee;V>ce;V--)Y=V+re-1,(B=V+ee-1)in $?$[Y]=$[B]:delete $[Y];for(V=0;V<re;V++)$[V+ce]=arguments[V+2];return $.length=q-ee+re,ne}})},function(a,l,o){var f=o(16),p=o(205);f({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(m){return p(this,"a","name",m)}})},function(a,l,o){(function(f){var p=typeof f=="object"&&f&&f.Object===Object&&f;l.a=p}).call(this,o(68))},function(a,l,o){(function(f){var p=o(31),m=h&&!h.nodeType&&h,g=m&&typeof f=="object"&&f&&!f.nodeType&&f,E=g&&g.exports===m?p.a.Buffer:void 0,j=E?E.allocUnsafe:void 0;l.a=function(S,k){if(k)return S.slice();var T=S.length,C=j?j(T):new S.constructor(T);return S.copy(C),C}}).call(this,o(122)(a))},function(a,l,o){var f=o(70),p=o(18);a.exports=!!Object.getOwnPropertySymbols&&!p(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(a,l,o){var f=o(7),p=o(110),m="__core-js_shared__",g=f[m]||p(m,{});a.exports=g},function(a,l,o){var f=o(7),p=Object.defineProperty;a.exports=function(m,g){try{p(f,m,{value:g,configurable:!0,writable:!0})}catch{f[m]=g}return g}},function(a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(a,l){l.f=Object.getOwnPropertySymbols},function(a,l,o){var f={};f[o(28)("toStringTag")]="z",a.exports=String(f)==="[object z]"},function(a,l,o){var f=o(7),p=o(75),m=o(45),g=o(62),E=f.Array,j=Math.max;a.exports=function(S,k,T){for(var C=m(S),N=p(k,C),R=p(T===void 0?C:T,C),G=E(j(R-N,0)),H=0;N<R;N++,H++)g(G,H,S[N]);return G.length=H,G}},function(a,l,o){var f=o(178);a.exports=function(p,m){return new(f(p))(m===0?0:m)}},function(a,l,o){var f=o(16),p=o(34),m=o(71),g=o(73),E=o(30),j=o(180),S=o(101),k=o(102),T=o(78),C=o(57),N=o(42),R=o(28),G=o(80),H=o(142),Q=g.PROPER,ue=g.CONFIGURABLE,re=H.IteratorPrototype,ee=H.BUGGY_SAFARI_ITERATORS,ne=R("iterator"),V="keys",B="values",Y="entries",$=function(){return this};a.exports=function(q,ce,Se,Oe,Ae,We,je){j(Se,ce,Oe);var ge,Pe,Te,Xe=function(se){if(se===Ae&&gt)return gt;if(!ee&&se in Ve)return Ve[se];switch(se){case V:case B:case Y:return function(){return new Se(this,se)}}return function(){return new Se(this)}},rt=ce+" Iterator",wt=!1,Ve=q.prototype,Ze=Ve[ne]||Ve["@@iterator"]||Ae&&Ve[Ae],gt=!ee&&Ze||Xe(Ae),le=ce=="Array"&&Ve.entries||Ze;if(le&&(ge=S(le.call(new q)))!==Object.prototype&&ge.next&&(m||S(ge)===re||(k?k(ge,re):E(ge[ne])||N(ge,ne,$)),T(ge,rt,!0,!0),m&&(G[rt]=$)),Q&&Ae==B&&Ze&&Ze.name!==B&&(!m&&ue?C(Ve,"name",B):(wt=!0,gt=function(){return p(Ze,this)})),Ae)if(Pe={values:Xe(B),keys:We?gt:Xe(V),entries:Xe(Y)},je)for(Te in Pe)(ee||wt||!(Te in Ve))&&N(Ve,Te,Pe[Te]);else f({target:ce,proto:!0,forced:ee||wt},Pe);return m&&!je||Ve[ne]===gt||N(Ve,ne,gt,{name:Ae}),G[ce]=gt,Pe}},function(a,l,o){var f=o(7),p=o(63),m=o(34),g=o(32),E=o(88),j=o(145),S=o(45),k=o(54),T=o(146),C=o(118),N=o(147),R=f.TypeError,G=function(Q,ue){this.stopped=Q,this.result=ue},H=G.prototype;a.exports=function(Q,ue,re){var ee,ne,V,B,Y,$,q,ce=re&&re.that,Se=!(!re||!re.AS_ENTRIES),Oe=!(!re||!re.IS_ITERATOR),Ae=!(!re||!re.INTERRUPTED),We=p(ue,ce),je=function(Pe){return ee&&N(ee,"normal",Pe),new G(!0,Pe)},ge=function(Pe){return Se?(g(Pe),Ae?We(Pe[0],Pe[1],je):We(Pe[0],Pe[1])):Ae?We(Pe,je):We(Pe)};if(Oe)ee=Q;else{if(!(ne=C(Q)))throw R(E(Q)+" is not iterable");if(j(ne)){for(V=0,B=S(Q);B>V;V++)if((Y=ge(Q[V]))&&k(H,Y))return Y;return new G(!1)}ee=T(Q,ne)}for($=ee.next;!(q=m($,ee)).done;){try{Y=ge(q.value)}catch(Pe){N(ee,"throw",Pe)}if(typeof Y=="object"&&Y&&k(H,Y))return Y}return new G(!1)}},function(a,l,o){var f=o(97),p=o(61),m=o(80),g=o(28)("iterator");a.exports=function(E){if(E!=null)return p(E,g)||p(E,"@@iterator")||m[f(E)]}},function(a,l,o){var f=o(7),p=o(54),m=f.TypeError;a.exports=function(g,E){if(p(E,g))return g;throw m("Incorrect invocation")}},function(a,l,o){var f=o(28)("iterator"),p=!1;try{var m=0,g={next:function(){return{done:!!m++}},return:function(){p=!0}};g[f]=function(){return this},Array.from(g,function(){throw 2})}catch{}a.exports=function(E,j){if(!j&&!p)return!1;var S=!1;try{var k={};k[f]=function(){return{next:function(){return{done:S=!0}}}},E(k)}catch{}return S}},function(a,l,o){var f=o(18);a.exports=function(p,m){var g=[][p];return!!g&&f(function(){g.call(null,m||function(){throw 1},1)})}},function(a,l){a.exports=function(o){if(!o.webpackPolyfill){var f=Object.create(o);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(a,l,o){o(19);var f=o(15),p=o(42),m=o(103),g=o(18),E=o(28),j=o(57),S=E("species"),k=RegExp.prototype;a.exports=function(T,C,N,R){var G=E(T),H=!g(function(){var ee={};return ee[G]=function(){return 7},""[T](ee)!=7}),Q=H&&!g(function(){var ee=!1,ne=/a/;return T==="split"&&((ne={}).constructor={},ne.constructor[S]=function(){return ne},ne.flags="",ne[G]=/./[G]),ne.exec=function(){return ee=!0,null},ne[G](""),!ee});if(!H||!Q||N){var ue=f(/./[G]),re=C(G,""[T],function(ee,ne,V,B,Y){var $=f(ee),q=ne.exec;return q===m||q===k.exec?H&&!Y?{done:!0,value:ue(ne,V,B)}:{done:!0,value:$(V,ne,B)}:{done:!1}});p(String.prototype,T,re[0]),p(k,G,re[1])}R&&j(k[G],"sham",!0)}},function(a,l,o){var f=o(151).charAt;a.exports=function(p,m,g){return m+(g?f(p,m).length:1)}},function(a,l,o){var f=o(7),p=o(34),m=o(32),g=o(30),E=o(51),j=o(103),S=f.TypeError;a.exports=function(k,T){var C=k.exec;if(g(C)){var N=p(C,k,T);return N!==null&&m(N),N}if(E(k)==="RegExp")return p(j,k,T);throw S("RegExp#exec called on incompatible receiver")}},function(a,l,o){var f=o(76),p=o(34),m=o(15),g=o(123),E=o(18),j=o(32),S=o(30),k=o(59),T=o(94),C=o(39),N=o(44),R=o(124),G=o(61),H=o(201),Q=o(125),ue=o(28)("replace"),re=Math.max,ee=Math.min,ne=m([].concat),V=m([].push),B=m("".indexOf),Y=m("".slice),$="a".replace(/./,"$0")==="$0",q=!!/./[ue]&&/./[ue]("a","$0")==="";g("replace",function(ce,Se,Oe){var Ae=q?"$":"$0";return[function(We,je){var ge=N(this),Pe=We==null?void 0:G(We,ue);return Pe?p(Pe,We,ge,je):p(Se,C(ge),We,je)},function(We,je){var ge=j(this),Pe=C(We);if(typeof je=="string"&&B(je,Ae)===-1&&B(je,"$<")===-1){var Te=Oe(Se,ge,Pe,je);if(Te.done)return Te.value}var Xe=S(je);Xe||(je=C(je));var rt=ge.global;if(rt){var wt=ge.unicode;ge.lastIndex=0}for(var Ve=[];;){var Ze=Q(ge,Pe);if(Ze===null||(V(Ve,Ze),!rt))break;C(Ze[0])===""&&(ge.lastIndex=R(Pe,T(ge.lastIndex),wt))}for(var gt,le="",se=0,ve=0;ve<Ve.length;ve++){for(var Ce=C((Ze=Ve[ve])[0]),He=re(ee(k(Ze.index),Pe.length),0),ze=[],xt=1;xt<Ze.length;xt++)V(ze,(gt=Ze[xt])===void 0?gt:String(gt));var kt=Ze.groups;if(Xe){var jt=ne([Ce],ze,He,Pe);kt!==void 0&&V(jt,kt);var vt=C(f(je,void 0,jt))}else vt=H(Ce,Pe,He,ze,kt,je);He>=se&&(le+=Y(Pe,se,He)+vt,se=He+Ce.length)}return le+Y(Pe,se)}]},!!E(function(){var ce=/./;return ce.exec=function(){var Se=[];return Se.groups={a:"7"},Se},"".replace(ce,"$<a>")!=="7"})||!$||q)},function(a,l,o){var f=o(16),p=Math.hypot,m=Math.abs,g=Math.sqrt;f({target:"Math",stat:!0,forced:!!p&&p(1/0,NaN)!==1/0},{hypot:function(E,j){for(var S,k,T=0,C=0,N=arguments.length,R=0;C<N;)R<(S=m(arguments[C++]))?(T=T*(k=R/S)*k+1,R=S):T+=S>0?(k=S/R)*k:S;return R===1/0?1/0:R*g(T)}})},function(a,l,o){var f=o(51),p=o(7);a.exports=f(p.process)=="process"},function(a,l,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(a,l,o){(function(f,p){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,E="Expected a function",j="__lodash_hash_undefined__",S="__lodash_placeholder__",k=16,T=32,C=64,N=128,R=256,G=1/0,H=9007199254740991,Q=NaN,ue=4294967295,re=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",k],["flip",512],["partial",T],["partialRight",C],["rearg",R]],ee="[object Arguments]",ne="[object Array]",V="[object Boolean]",B="[object Date]",Y="[object Error]",$="[object Function]",q="[object GeneratorFunction]",ce="[object Map]",Se="[object Number]",Oe="[object Object]",Ae="[object Promise]",We="[object RegExp]",je="[object Set]",ge="[object String]",Pe="[object Symbol]",Te="[object WeakMap]",Xe="[object ArrayBuffer]",rt="[object DataView]",wt="[object Float32Array]",Ve="[object Float64Array]",Ze="[object Int8Array]",gt="[object Int16Array]",le="[object Int32Array]",se="[object Uint8Array]",ve="[object Uint8ClampedArray]",Ce="[object Uint16Array]",He="[object Uint32Array]",ze=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jt=/&(?:amp|lt|gt|quot|#39);/g,vt=/[&<>"']/g,ke=RegExp(jt.source),st=RegExp(vt.source),pe=/<%-([\s\S]+?)%>/g,ot=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zt=/^\w*$/,Qt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yn=/[\\^$.*+?()[\]{}|]/g,jn=RegExp(yn.source),Ct=/^\s+/,Gn=/\s/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,de=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$e=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,Qn=/^[-+]0x[0-9a-f]+$/i,lr=/^0b[01]+$/i,Xn=/^\[object .+?Constructor\]$/,$n=/^0o[0-7]+$/i,it=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,It=/['\n\r\u2028\u2029\\]/g,hn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Dn="\\u2700-\\u27bf",Po="a-z\\xdf-\\xf6\\xf8-\\xff",yo="A-Z\\xc0-\\xd6\\xd8-\\xde",Mo="\\ufe0e\\ufe0f",yi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nc="['’]",ru="[\\ud800-\\udfff]",Yr="["+yi+"]",Wi="["+hn+"]",ct="\\d+",Dc="[\\u2700-\\u27bf]",ou="["+Po+"]",iu="[^\\ud800-\\udfff"+yi+ct+Dn+Po+yo+"]",xr="\\ud83c[\\udffb-\\udfff]",Dr="[^\\ud800-\\udfff]",ha="(?:\\ud83c[\\udde6-\\uddff]){2}",io="[\\ud800-\\udbff][\\udc00-\\udfff]",Vr="["+yo+"]",ao="(?:"+ou+"|"+iu+")",au="(?:"+Vr+"|"+iu+")",uu="(?:['’](?:d|ll|m|re|s|t|ve))?",ns="(?:['’](?:D|LL|M|RE|S|T|VE))?",Gi="(?:"+Wi+"|"+xr+")?",rs="[\\ufe0e\\ufe0f]?",su=rs+Gi+("(?:\\u200d(?:"+[Dr,ha,io].join("|")+")"+rs+Gi+")*"),Cc="(?:"+[Dc,ha,io].join("|")+")"+su,qo="(?:"+[Dr+Wi+"?",Wi,ha,io,ru].join("|")+")",os=RegExp(Nc,"g"),Ao=RegExp(Wi,"g"),cu=RegExp(xr+"(?="+xr+")|"+qo+su,"g"),da=RegExp([Vr+"?"+ou+"+"+uu+"(?="+[Yr,Vr,"$"].join("|")+")",au+"+"+ns+"(?="+[Yr,Vr+ao,"$"].join("|")+")",Vr+"?"+ao+"+"+uu,Vr+"+"+ns,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ct,Cc].join("|"),"g"),lu=RegExp("[\\u200d\\ud800-\\udfff"+hn+Mo+"]"),fu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ic=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],is=-1,ln={};ln[wt]=ln[Ve]=ln[Ze]=ln[gt]=ln[le]=ln[se]=ln[ve]=ln[Ce]=ln[He]=!0,ln[ee]=ln[ne]=ln[Xe]=ln[V]=ln[rt]=ln[B]=ln[Y]=ln[$]=ln[ce]=ln[Se]=ln[Oe]=ln[We]=ln[je]=ln[ge]=ln[Te]=!1;var cn={};cn[ee]=cn[ne]=cn[Xe]=cn[rt]=cn[V]=cn[B]=cn[wt]=cn[Ve]=cn[Ze]=cn[gt]=cn[le]=cn[ce]=cn[Se]=cn[Oe]=cn[We]=cn[je]=cn[ge]=cn[Pe]=cn[se]=cn[ve]=cn[Ce]=cn[He]=!0,cn[Y]=cn[$]=cn[Te]=!1;var as={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vi=parseFloat,To=parseInt,pu=typeof f=="object"&&f&&f.Object===Object&&f,us=typeof self=="object"&&self&&self.Object===Object&&self,zn=pu||us||Function("return this")(),hu=l&&!l.nodeType&&l,Xi=hu&&typeof p=="object"&&p&&!p.nodeType&&p,du=Xi&&Xi.exports===hu,ya=du&&pu.process,fr=function(){try{var we=Xi&&Xi.require&&Xi.require("util").types;return we||ya&&ya.binding&&ya.binding("util")}catch{}}(),yu=fr&&fr.isArrayBuffer,ss=fr&&fr.isDate,vu=fr&&fr.isMap,va=fr&&fr.isRegExp,gi=fr&&fr.isSet,vo=fr&&fr.isTypedArray;function mn(we,Ie,Le){switch(Le.length){case 0:return we.call(Ie);case 1:return we.call(Ie,Le[0]);case 2:return we.call(Ie,Le[0],Le[1]);case 3:return we.call(Ie,Le[0],Le[1],Le[2])}return we.apply(Ie,Le)}function cs(we,Ie,Le,Qe){for(var Bt=-1,Zt=we==null?0:we.length;++Bt<Zt;){var On=we[Bt];Ie(Qe,On,Le(On),we)}return Qe}function Er(we,Ie){for(var Le=-1,Qe=we==null?0:we.length;++Le<Qe&&Ie(we[Le],Le,we)!==!1;);return we}function ls(we,Ie){for(var Le=we==null?0:we.length;Le--&&Ie(we[Le],Le,we)!==!1;);return we}function fs(we,Ie){for(var Le=-1,Qe=we==null?0:we.length;++Le<Qe;)if(!Ie(we[Le],Le,we))return!1;return!0}function gr(we,Ie){for(var Le=-1,Qe=we==null?0:we.length,Bt=0,Zt=[];++Le<Qe;){var On=we[Le];Ie(On,Le,we)&&(Zt[Bt++]=On)}return Zt}function Sr(we,Ie){return!!(we!=null&&we.length)&&mi(we,Ie,0)>-1}function gu(we,Ie,Le){for(var Qe=-1,Bt=we==null?0:we.length;++Qe<Bt;)if(Le(Ie,we[Qe]))return!0;return!1}function rn(we,Ie){for(var Le=-1,Qe=we==null?0:we.length,Bt=Array(Qe);++Le<Qe;)Bt[Le]=Ie(we[Le],Le,we);return Bt}function er(we,Ie){for(var Le=-1,Qe=Ie.length,Bt=we.length;++Le<Qe;)we[Bt+Le]=Ie[Le];return we}function ga(we,Ie,Le,Qe){var Bt=-1,Zt=we==null?0:we.length;for(Qe&&Zt&&(Le=we[++Bt]);++Bt<Zt;)Le=Ie(Le,we[Bt],Bt,we);return Le}function ps(we,Ie,Le,Qe){var Bt=we==null?0:we.length;for(Qe&&Bt&&(Le=we[--Bt]);Bt--;)Le=Ie(Le,we[Bt],Bt,we);return Le}function mu(we,Ie){for(var Le=-1,Qe=we==null?0:we.length;++Le<Qe;)if(Ie(we[Le],Le,we))return!0;return!1}var ma=Pr("length");function go(we,Ie,Le){var Qe;return Le(we,function(Bt,Zt,On){if(Ie(Bt,Zt,On))return Qe=Zt,!1}),Qe}function ko(we,Ie,Le,Qe){for(var Bt=we.length,Zt=Le+(Qe?1:-1);Qe?Zt--:++Zt<Bt;)if(Ie(we[Zt],Zt,we))return Zt;return-1}function mi(we,Ie,Le){return Ie==Ie?function(Qe,Bt,Zt){for(var On=Zt-1,O=Qe.length;++On<O;)if(Qe[On]===Bt)return On;return-1}(we,Ie,Le):ko(we,No,Le)}function jr(we,Ie,Le,Qe){for(var Bt=Le-1,Zt=we.length;++Bt<Zt;)if(Qe(we[Bt],Ie))return Bt;return-1}function No(we){return we!=we}function en(we,Ie){var Le=we==null?0:we.length;return Le?ba(we,Ie)/Le:Q}function Pr(we){return function(Ie){return Ie==null?g:Ie[we]}}function mo(we){return function(Ie){return we==null?g:we[Ie]}}function ur(we,Ie,Le,Qe,Bt){return Bt(we,function(Zt,On,O){Le=Qe?(Qe=!1,Zt):Ie(Le,Zt,On,O)}),Le}function ba(we,Ie){for(var Le,Qe=-1,Bt=we.length;++Qe<Bt;){var Zt=Ie(we[Qe]);Zt!==g&&(Le=Le===g?Zt:Le+Zt)}return Le}function Hi(we,Ie){for(var Le=-1,Qe=Array(we);++Le<we;)Qe[Le]=Ie(Le);return Qe}function bu(we){return we&&we.slice(0,Mr(we)+1).replace(Ct,"")}function Cn(we){return function(Ie){return we(Ie)}}function _a(we,Ie){return rn(Ie,function(Le){return we[Le]})}function Do(we,Ie){return we.has(Ie)}function $r(we,Ie){for(var Le=-1,Qe=we.length;++Le<Qe&&mi(Ie,we[Le],0)>-1;);return Le}function _u(we,Ie){for(var Le=we.length;Le--&&mi(Ie,we[Le],0)>-1;);return Le}function Rc(we,Ie){for(var Le=we.length,Qe=0;Le--;)we[Le]===Ie&&++Qe;return Qe}var Ou=mo({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Kn=mo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function bi(we){return"\\"+as[we]}function bo(we){return lu.test(we)}function mr(we){var Ie=-1,Le=Array(we.size);return we.forEach(function(Qe,Bt){Le[++Ie]=[Bt,Qe]}),Le}function wu(we,Ie){return function(Le){return we(Ie(Le))}}function Cr(we,Ie){for(var Le=-1,Qe=we.length,Bt=0,Zt=[];++Le<Qe;){var On=we[Le];On!==Ie&&On!==S||(we[Le]=S,Zt[Bt++]=Le)}return Zt}function Zo(we){var Ie=-1,Le=Array(we.size);return we.forEach(function(Qe){Le[++Ie]=Qe}),Le}function Oa(we){var Ie=-1,Le=Array(we.size);return we.forEach(function(Qe){Le[++Ie]=[Qe,Qe]}),Le}function _o(we){return bo(we)?function(Ie){for(var Le=cu.lastIndex=0;cu.test(Ie);)++Le;return Le}(we):ma(we)}function Ir(we){return bo(we)?function(Ie){return Ie.match(cu)||[]}(we):function(Ie){return Ie.split("")}(we)}function Mr(we){for(var Ie=we.length;Ie--&&Gn.test(we.charAt(Ie)););return Ie}var Kr=mo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Oo=function we(Ie){var Le,Qe=(Ie=Ie==null?zn:Oo.defaults(zn.Object(),Ie,Oo.pick(zn,Ic))).Array,Bt=Ie.Date,Zt=Ie.Error,On=Ie.Function,O=Ie.Math,w=Ie.Object,A=Ie.RegExp,z=Ie.String,K=Ie.TypeError,he=Qe.prototype,Ee=On.prototype,Ge=w.prototype,at=Ie["__core-js_shared__"],$t=Ee.toString,tt=Ge.hasOwnProperty,vn=0,Ft=(Le=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""))?"Symbol(src)_1."+Le:"",an=Ge.toString,qr=$t.call(w),Mn=zn._,Ar=A("^"+$t.call(tt).replace(yn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Co=du?Ie.Buffer:g,Io=Ie.Symbol,Ui=Ie.Uint8Array,xu=Co?Co.allocUnsafe:g,Jo=wu(w.getPrototypeOf,w),wa=w.create,br=Ge.propertyIsEnumerable,Yi=he.splice,_i=Io?Io.isConcatSpreadable:g,Qo=Io?Io.iterator:g,ei=Io?Io.toStringTag:g,Eu=function(){try{var s=Pi(w,"defineProperty");return s({},"",{}),s}catch{}}(),td=Ie.clearTimeout!==zn.clearTimeout&&Ie.clearTimeout,nd=Bt&&Bt.now!==zn.Date.now&&Bt.now,Mf=Ie.setTimeout!==zn.setTimeout&&Ie.setTimeout,hs=O.ceil,xa=O.floor,Lc=w.getOwnPropertySymbols,rd=Co?Co.isBuffer:g,Af=Ie.isFinite,od=he.join,Tf=wu(w.keys,w),sr=O.max,_r=O.min,ds=Bt.now,ys=Ie.parseInt,vs=O.random,id=he.reverse,Ea=Pi(Ie,"DataView"),Ro=Pi(Ie,"Map"),zc=Pi(Ie,"Promise"),Vi=Pi(Ie,"Set"),Sa=Pi(Ie,"WeakMap"),Su=Pi(w,"create"),gs=Sa&&new Sa,ja={},ad=zr(Ea),kf=zr(Ro),ud=zr(zc),sd=zr(Vi),Nf=zr(Sa),ms=Io?Io.prototype:g,cr=ms?ms.valueOf:g,Df=ms?ms.toString:g;function F(s){if(Rn(s)&&!Gt(s)&&!(s instanceof nn)){if(s instanceof uo)return s;if(tt.call(s,"__wrapped__"))return pp(s)}return new uo(s)}var Pa=function(){function s(){}return function(d){if(!In(d))return{};if(wa)return wa(d);s.prototype=d;var _=new s;return s.prototype=g,_}}();function ju(){}function uo(s,d){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=g}function nn(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function $i(s){var d=-1,_=s==null?0:s.length;for(this.clear();++d<_;){var M=s[d];this.set(M[0],M[1])}}function gn(s){var d=-1,_=s==null?0:s.length;for(this.clear();++d<_;){var M=s[d];this.set(M[0],M[1])}}function Lo(s){var d=-1,_=s==null?0:s.length;for(this.clear();++d<_;){var M=s[d];this.set(M[0],M[1])}}function Oi(s){var d=-1,_=s==null?0:s.length;for(this.__data__=new Lo;++d<_;)this.add(s[d])}function so(s){var d=this.__data__=new gn(s);this.size=d.size}function Bc(s,d){var _=Gt(s),M=!_&&ea(s),I=!_&&!M&&ai(s),X=!_&&!M&&!I&&Mi(s),ie=_||M||I||X,fe=ie?Hi(s.length,z):[],_e=fe.length;for(var Re in s)!d&&!tt.call(s,Re)||ie&&(Re=="length"||I&&(Re=="offset"||Re=="parent")||X&&(Re=="buffer"||Re=="byteLength"||Re=="byteOffset")||Go(Re,_e))||fe.push(Re);return fe}function Fc(s){var d=s.length;return d?s[$c(0,d-1)]:g}function Cf(s,d){return qi(Lr(s),wi(d,0,s.length))}function If(s){return qi(Lr(s))}function bs(s,d,_){(_!==g&&!Nn(s[d],_)||_===g&&!(d in s))&&zo(s,d,_)}function Ma(s,d,_){var M=s[d];tt.call(s,d)&&Nn(M,_)&&(_!==g||d in s)||zo(s,d,_)}function Pu(s,d){for(var _=s.length;_--;)if(Nn(s[_][0],d))return _;return-1}function Rf(s,d,_,M){return An(s,function(I,X,ie){d(M,I,_(I),ie)}),M}function Wc(s,d){return s&&Bo(d,rr(d),s)}function zo(s,d,_){d=="__proto__"&&Eu?Eu(s,d,{configurable:!0,enumerable:!0,value:_,writable:!0}):s[d]=_}function _s(s,d){for(var _=-1,M=d.length,I=Qe(M),X=s==null;++_<M;)I[_]=X?g:Fu(s,d[_]);return I}function wi(s,d,_){return s==s&&(_!==g&&(s=s<=_?s:_),d!==g&&(s=s>=d?s:d)),s}function Zr(s,d,_,M,I,X){var ie,fe=1&d,_e=2&d,Re=4&d;if(_&&(ie=I?_(s,M,I,X):_(s)),ie!==g)return ie;if(!In(s))return s;var Ne=Gt(s);if(Ne){if(ie=function(Be){var Ue=Be.length,Nt=new Be.constructor(Ue);return Ue&&typeof Be[0]=="string"&&tt.call(Be,"index")&&(Nt.index=Be.index,Nt.input=Be.input),Nt}(s),!fe)return Lr(s,ie)}else{var te=yr(s),lt=te==$||te==q;if(ai(s))return tl(s,fe);if(te==Oe||te==ee||lt&&!I){if(ie=_e||lt?{}:sl(s),!fe)return _e?function(Be,Ue){return Bo(Be,De(Be),Ue)}(s,function(Be,Ue){return Be&&Bo(Ue,hr(Ue),Be)}(ie,s)):function(Be,Ue){return Bo(Be,al(Be),Ue)}(s,Wc(ie,s))}else{if(!cn[te])return I?s:{};ie=function(Be,Ue,Nt){var ut=Be.constructor;switch(Ue){case Xe:return nl(Be);case V:case B:return new ut(+Be);case rt:return function(Rt,Jt){var _t=Jt?nl(Rt.buffer):Rt.buffer;return new Rt.constructor(_t,Rt.byteOffset,Rt.byteLength)}(Be,Nt);case wt:case Ve:case Ze:case gt:case le:case se:case ve:case Ce:case He:return En(Be,Nt);case ce:return new ut;case Se:case ge:return new ut(Be);case We:return function(Rt){var Jt=new Rt.constructor(Rt.source,Ut.exec(Rt));return Jt.lastIndex=Rt.lastIndex,Jt}(Be);case je:return new ut;case Pe:return Dt=Be,cr?w(cr.call(Dt)):{}}var Dt}(s,te,fe)}}X||(X=new so);var dt=X.get(s);if(dt)return dt;X.set(s,ie),Wa(s)?s.forEach(function(Be){ie.add(Zr(Be,d,_,Be,s,X))}):Ep(s)&&s.forEach(function(Be,Ue){ie.set(Ue,Zr(Be,d,_,Ue,s,X))});var Mt=Ne?g:(Re?_e?il:Nu:_e?hr:rr)(s);return Er(Mt||s,function(Be,Ue){Mt&&(Be=s[Ue=Be]),Ma(ie,Ue,Zr(Be,d,_,Ue,s,X))}),ie}function Gc(s,d,_){var M=_.length;if(s==null)return!M;for(s=w(s);M--;){var I=_[M],X=d[I],ie=s[I];if(ie===g&&!(I in s)||!X(ie))return!1}return!0}function Xc(s,d,_){if(typeof s!="function")throw new K(E);return za(function(){s.apply(g,_)},d)}function ti(s,d,_,M){var I=-1,X=Sr,ie=!0,fe=s.length,_e=[],Re=d.length;if(!fe)return _e;_&&(d=rn(d,Cn(_))),M?(X=gu,ie=!1):d.length>=200&&(X=Do,ie=!1,d=new Oi(d));e:for(;++I<fe;){var Ne=s[I],te=_==null?Ne:_(Ne);if(Ne=M||Ne!==0?Ne:0,ie&&te==te){for(var lt=Re;lt--;)if(d[lt]===te)continue e;_e.push(Ne)}else X(d,te,M)||_e.push(Ne)}return _e}F.templateSettings={escape:pe,evaluate:ot,interpolate:Lt,variable:"",imports:{_:F}},F.prototype=ju.prototype,F.prototype.constructor=F,uo.prototype=Pa(ju.prototype),uo.prototype.constructor=uo,nn.prototype=Pa(ju.prototype),nn.prototype.constructor=nn,$i.prototype.clear=function(){this.__data__=Su?Su(null):{},this.size=0},$i.prototype.delete=function(s){var d=this.has(s)&&delete this.__data__[s];return this.size-=d?1:0,d},$i.prototype.get=function(s){var d=this.__data__;if(Su){var _=d[s];return _===j?g:_}return tt.call(d,s)?d[s]:g},$i.prototype.has=function(s){var d=this.__data__;return Su?d[s]!==g:tt.call(d,s)},$i.prototype.set=function(s,d){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=Su&&d===g?j:d,this},gn.prototype.clear=function(){this.__data__=[],this.size=0},gn.prototype.delete=function(s){var d=this.__data__,_=Pu(d,s);return!(_<0)&&(_==d.length-1?d.pop():Yi.call(d,_,1),--this.size,!0)},gn.prototype.get=function(s){var d=this.__data__,_=Pu(d,s);return _<0?g:d[_][1]},gn.prototype.has=function(s){return Pu(this.__data__,s)>-1},gn.prototype.set=function(s,d){var _=this.__data__,M=Pu(_,s);return M<0?(++this.size,_.push([s,d])):_[M][1]=d,this},Lo.prototype.clear=function(){this.size=0,this.__data__={hash:new $i,map:new(Ro||gn),string:new $i}},Lo.prototype.delete=function(s){var d=Ra(this,s).delete(s);return this.size-=d?1:0,d},Lo.prototype.get=function(s){return Ra(this,s).get(s)},Lo.prototype.has=function(s){return Ra(this,s).has(s)},Lo.prototype.set=function(s,d){var _=Ra(this,s),M=_.size;return _.set(s,d),this.size+=_.size==M?0:1,this},Oi.prototype.add=Oi.prototype.push=function(s){return this.__data__.set(s,j),this},Oi.prototype.has=function(s){return this.__data__.has(s)},so.prototype.clear=function(){this.__data__=new gn,this.size=0},so.prototype.delete=function(s){var d=this.__data__,_=d.delete(s);return this.size=d.size,_},so.prototype.get=function(s){return this.__data__.get(s)},so.prototype.has=function(s){return this.__data__.has(s)},so.prototype.set=function(s,d){var _=this.__data__;if(_ instanceof gn){var M=_.__data__;if(!Ro||M.length<199)return M.push([s,d]),this.size=++_.size,this;_=this.__data__=new Lo(M)}return _.set(s,d),this.size=_.size,this};var An=Qf(pt),Lf=Qf(wn,!0);function zf(s,d){var _=!0;return An(s,function(M,I,X){return _=!!d(M,I,X)}),_}function Hn(s,d,_){for(var M=-1,I=s.length;++M<I;){var X=s[M],ie=d(X);if(ie!=null&&(fe===g?ie==ie&&!vr(ie):_(ie,fe)))var fe=ie,_e=X}return _e}function fn(s,d){var _=[];return An(s,function(M,I,X){d(M,I,X)&&_.push(M)}),_}function pr(s,d,_,M,I){var X=-1,ie=s.length;for(_||(_=sp),I||(I=[]);++X<ie;){var fe=s[X];d>0&&_(fe)?d>1?pr(fe,d-1,_,M,I):er(I,fe):M||(I[I.length]=fe)}return I}var Kt=ep(),qn=ep(!0);function pt(s,d){return s&&Kt(s,d,rr)}function wn(s,d){return s&&qn(s,d,rr)}function Os(s,d){return gr(d,function(_){return ui(s[_])})}function ni(s,d){for(var _=0,M=(d=Ei(d,s)).length;s!=null&&_<M;)s=s[tr(d[_++])];return _&&_==M?s:g}function Hc(s,d,_){var M=d(s);return Gt(s)?M:er(M,_(s))}function xn(s){return s==null?s===g?"[object Undefined]":"[object Null]":ei&&ei in w(s)?function(d){var _=tt.call(d,ei),M=d[ei];try{d[ei]=g;var I=!0}catch{}var X=an.call(d);return I&&(_?d[ei]=M:delete d[ei]),X}(s):function(d){return an.call(d)}(s)}function Bn(s,d){return s>d}function Bf(s,d){return s!=null&&tt.call(s,d)}function Ff(s,d){return s!=null&&d in w(s)}function ws(s,d,_){for(var M=_?gu:Sr,I=s[0].length,X=s.length,ie=X,fe=Qe(X),_e=1/0,Re=[];ie--;){var Ne=s[ie];ie&&d&&(Ne=rn(Ne,Cn(d))),_e=_r(Ne.length,_e),fe[ie]=!_&&(d||I>=120&&Ne.length>=120)?new Oi(ie&&Ne):g}Ne=s[0];var te=-1,lt=fe[0];e:for(;++te<I&&Re.length<_e;){var dt=Ne[te],Mt=d?d(dt):dt;if(dt=_||dt!==0?dt:0,!(lt?Do(lt,Mt):M(Re,Mt,_))){for(ie=X;--ie;){var Be=fe[ie];if(!(Be?Do(Be,Mt):M(s[ie],Mt,_)))continue e}lt&&lt.push(Mt),Re.push(dt)}}return Re}function Aa(s,d,_){var M=(s=pl(s,d=Ei(d,s)))==null?s:s[tr(Sn(d))];return M==null?g:mn(M,s,_)}function Uc(s){return Rn(s)&&xn(s)==ee}function Ta(s,d,_,M,I){return s===d||(s==null||d==null||!Rn(s)&&!Rn(d)?s!=s&&d!=d:function(X,ie,fe,_e,Re,Ne){var te=Gt(X),lt=Gt(ie),dt=te?ne:yr(X),Mt=lt?ne:yr(ie),Be=(dt=dt==ee?Oe:dt)==Oe,Ue=(Mt=Mt==ee?Oe:Mt)==Oe,Nt=dt==Mt;if(Nt&&ai(X)){if(!ai(ie))return!1;te=!0,Be=!1}if(Nt&&!Be)return Ne||(Ne=new so),te||Mi(X)?up(X,ie,fe,_e,Re,Ne):function(_t,At,Fn,Wr,Eo,Wn,Uo){switch(Fn){case rt:if(_t.byteLength!=At.byteLength||_t.byteOffset!=At.byteOffset)return!1;_t=_t.buffer,At=At.buffer;case Xe:return!(_t.byteLength!=At.byteLength||!Wn(new Ui(_t),new Ui(At)));case V:case B:case Se:return Nn(+_t,+At);case Y:return _t.name==At.name&&_t.message==At.message;case We:case ge:return _t==At+"";case ce:var ki=mr;case je:var Ya=1&Wr;if(ki||(ki=Zo),_t.size!=At.size&&!Ya)return!1;var na=Uo.get(_t);if(na)return na==At;Wr|=2,Uo.set(_t,At);var Yo=up(ki(_t),ki(At),Wr,Eo,Wn,Uo);return Uo.delete(_t),Yo;case Pe:if(cr)return cr.call(_t)==cr.call(At)}return!1}(X,ie,dt,fe,_e,Re,Ne);if(!(1&fe)){var ut=Be&&tt.call(X,"__wrapped__"),Dt=Ue&&tt.call(ie,"__wrapped__");if(ut||Dt){var Rt=ut?X.value():X,Jt=Dt?ie.value():ie;return Ne||(Ne=new so),Re(Rt,Jt,fe,_e,Ne)}}return Nt?(Ne||(Ne=new so),function(_t,At,Fn,Wr,Eo,Wn){var Uo=1&Fn,ki=Nu(_t),Ya=ki.length,na=Nu(At).length;if(Ya!=na&&!Uo)return!1;for(var Yo=Ya;Yo--;){var fo=ki[Yo];if(!(Uo?fo in At:tt.call(At,fo)))return!1}var ef=Wn.get(_t),ec=Wn.get(At);if(ef&&ec)return ef==At&&ec==_t;var ra=!0;Wn.set(_t,At),Wn.set(At,_t);for(var Gr=Uo;++Yo<Ya;){var tc=_t[fo=ki[Yo]],Xr=At[fo];if(Wr)var mt=Uo?Wr(Xr,tc,fo,At,_t,Wn):Wr(tc,Xr,fo,_t,At,Wn);if(!(mt===g?tc===Xr||Eo(tc,Xr,Fn,Wr,Wn):mt)){ra=!1;break}Gr||(Gr=fo=="constructor")}if(ra&&!Gr){var Vu=_t.constructor,$u=At.constructor;Vu==$u||!("constructor"in _t)||!("constructor"in At)||typeof Vu=="function"&&Vu instanceof Vu&&typeof $u=="function"&&$u instanceof $u||(ra=!1)}return Wn.delete(_t),Wn.delete(At),ra}(X,ie,fe,_e,Re,Ne)):!1}(s,d,_,M,Ta,I))}function xs(s,d,_,M){var I=_.length,X=I,ie=!M;if(s==null)return!X;for(s=w(s);I--;){var fe=_[I];if(ie&&fe[2]?fe[1]!==s[fe[0]]:!(fe[0]in s))return!1}for(;++I<X;){var _e=(fe=_[I])[0],Re=s[_e],Ne=fe[1];if(ie&&fe[2]){if(Re===g&&!(_e in s))return!1}else{var te=new so;if(M)var lt=M(Re,Ne,_e,s,d,te);if(!(lt===g?Ta(Ne,Re,3,M,te):lt))return!1}}return!0}function ka(s){return!(!In(s)||(d=s,Ft&&Ft in d))&&(ui(s)?Ar:Xn).test(zr(s));var d}function Yc(s){return typeof s=="function"?s:s==null?wr:typeof s=="object"?Gt(s)?Gf(s[0],s[1]):Wf(s):Ua(s)}function ri(s){if(!La(s))return Tf(s);var d=[];for(var _ in w(s))tt.call(s,_)&&_!="constructor"&&d.push(_);return d}function cd(s){if(!In(s))return function(I){var X=[];if(I!=null)for(var ie in w(I))X.push(ie);return X}(s);var d=La(s),_=[];for(var M in s)(M!="constructor"||!d&&tt.call(s,M))&&_.push(M);return _}function oi(s,d){return s<d}function co(s,d){var _=-1,M=Tr(s)?Qe(s.length):[];return An(s,function(I,X,ie){M[++_]=d(I,X,ie)}),M}function Wf(s){var d=Rs(s);return d.length==1&&d[0][2]?ll(d[0][0],d[0][1]):function(_){return _===s||xs(_,s,d)}}function Gf(s,d){return Ls(s)&&cl(d)?ll(tr(s),d):function(_){var M=Fu(_,s);return M===g&&M===d?Wu(_,s):Ta(d,M,3)}}function Es(s,d,_,M,I){s!==d&&Kt(d,function(X,ie){if(I||(I=new so),In(X))(function(_e,Re,Ne,te,lt,dt,Mt){var Be=Bs(_e,Ne),Ue=Bs(Re,Ne),Nt=Mt.get(Ue);if(Nt)return void bs(_e,Ne,Nt);var ut=dt?dt(Be,Ue,Ne+"",_e,Re,Mt):g,Dt=ut===g;if(Dt){var Rt=Gt(Ue),Jt=!Rt&&ai(Ue),_t=!Rt&&!Jt&&Mi(Ue);ut=Ue,Rt||Jt||_t?Gt(Be)?ut=Be:Un(Be)?ut=Lr(Be):Jt?(Dt=!1,ut=tl(Ue,!0)):_t?(Dt=!1,ut=En(Ue,!0)):ut=[]:si(Ue)||ea(Ue)?(ut=Be,ea(Be)?ut=Rl(Be):In(Be)&&!ui(Be)||(ut=sl(Ue))):Dt=!1}Dt&&(Mt.set(Ue,ut),lt(ut,Ue,te,dt,Mt),Mt.delete(Ue)),bs(_e,Ne,ut)})(s,d,ie,_,Es,M,I);else{var fe=M?M(Bs(s,ie),X,ie+"",s,d,I):g;fe===g&&(fe=X),bs(s,ie,fe)}},hr)}function Xf(s,d){var _=s.length;if(_)return Go(d+=d<0?_:0,_)?s[d]:g}function Hf(s,d,_){d=d.length?rn(d,function(X){return Gt(X)?function(ie){return ni(ie,X.length===1?X[0]:X)}:X}):[wr];var M=-1;d=rn(d,Cn(Et()));var I=co(s,function(X,ie,fe){var _e=rn(d,function(Re){return Re(X)});return{criteria:_e,index:++M,value:X}});return function(X,ie){var fe=X.length;for(X.sort(ie);fe--;)X[fe]=X[fe].value;return X}(I,function(X,ie){return function(fe,_e,Re){for(var Ne=-1,te=fe.criteria,lt=_e.criteria,dt=te.length,Mt=Re.length;++Ne<dt;){var Be=Jf(te[Ne],lt[Ne]);if(Be)return Ne>=Mt?Be:Be*(Re[Ne]=="desc"?-1:1)}return fe.index-_e.index}(X,ie,_)})}function Uf(s,d,_){for(var M=-1,I=d.length,X={};++M<I;){var ie=d[M],fe=ni(s,ie);_(fe,ie)&&Da(X,Ei(ie,s),fe)}return X}function Vc(s,d,_,M){var I=M?jr:mi,X=-1,ie=d.length,fe=s;for(s===d&&(d=Lr(d)),_&&(fe=rn(s,Cn(_)));++X<ie;)for(var _e=0,Re=d[X],Ne=_?_(Re):Re;(_e=I(fe,Ne,_e,M))>-1;)fe!==s&&Yi.call(fe,_e,1),Yi.call(s,_e,1);return s}function Na(s,d){for(var _=s?d.length:0,M=_-1;_--;){var I=d[_];if(_==M||I!==X){var X=I;Go(I)?Yi.call(s,I,1):Ps(s,I)}}return s}function $c(s,d){return s+xa(vs()*(d-s+1))}function Ss(s,d){var _="";if(!s||d<1||d>H)return _;do d%2&&(_+=s),(d=xa(d/2))&&(s+=s);while(d);return _}function qt(s,d){return Fs(fl(s,d,wr),s+"")}function ld(s){return Fc(Ti(s))}function Kc(s,d){var _=Ti(s);return qi(_,wi(d,0,_.length))}function Da(s,d,_,M){if(!In(s))return s;for(var I=-1,X=(d=Ei(d,s)).length,ie=X-1,fe=s;fe!=null&&++I<X;){var _e=tr(d[I]),Re=_;if(_e==="__proto__"||_e==="constructor"||_e==="prototype")return s;if(I!=ie){var Ne=fe[_e];(Re=M?M(Ne,_e,fe):g)===g&&(Re=In(Ne)?Ne:Go(d[I+1])?[]:{})}Ma(fe,_e,Re),fe=fe[_e]}return s}var Yf=gs?function(s,d){return gs.set(s,d),s}:wr,fd=Eu?function(s,d){return Eu(s,"toString",{configurable:!0,enumerable:!1,value:Xu(d),writable:!0})}:wr;function pd(s){return qi(Ti(s))}function lo(s,d,_){var M=-1,I=s.length;d<0&&(d=-d>I?0:I+d),(_=_>I?I:_)<0&&(_+=I),I=d>_?0:_-d>>>0,d>>>=0;for(var X=Qe(I);++M<I;)X[M]=s[M+d];return X}function qc(s,d){var _;return An(s,function(M,I,X){return!(_=d(M,I,X))}),!!_}function js(s,d,_){var M=0,I=s==null?M:s.length;if(typeof d=="number"&&d==d&&I<=2147483647){for(;M<I;){var X=M+I>>>1,ie=s[X];ie!==null&&!vr(ie)&&(_?ie<=d:ie<d)?M=X+1:I=X}return I}return Zc(s,d,wr,_)}function Zc(s,d,_,M){var I=0,X=s==null?0:s.length;if(X===0)return 0;for(var ie=(d=_(d))!=d,fe=d===null,_e=vr(d),Re=d===g;I<X;){var Ne=xa((I+X)/2),te=_(s[Ne]),lt=te!==g,dt=te===null,Mt=te==te,Be=vr(te);if(ie)var Ue=M||Mt;else Ue=Re?Mt&&(M||lt):fe?Mt&&lt&&(M||!dt):_e?Mt&&lt&&!dt&&(M||!Be):!dt&&!Be&&(M?te<=d:te<d);Ue?I=Ne+1:X=Ne}return _r(X,4294967294)}function Vf(s,d){for(var _=-1,M=s.length,I=0,X=[];++_<M;){var ie=s[_],fe=d?d(ie):ie;if(!_||!Nn(fe,_e)){var _e=fe;X[I++]=ie===0?0:ie}}return X}function Jc(s){return typeof s=="number"?s:vr(s)?Q:+s}function Rr(s){if(typeof s=="string")return s;if(Gt(s))return rn(s,Rr)+"";if(vr(s))return Df?Df.call(s):"";var d=s+"";return d=="0"&&1/s==-1/0?"-0":d}function xi(s,d,_){var M=-1,I=Sr,X=s.length,ie=!0,fe=[],_e=fe;if(_)ie=!1,I=gu;else if(X>=200){var Re=d?null:ol(s);if(Re)return Zo(Re);ie=!1,I=Do,_e=new Oi}else _e=d?[]:fe;e:for(;++M<X;){var Ne=s[M],te=d?d(Ne):Ne;if(Ne=_||Ne!==0?Ne:0,ie&&te==te){for(var lt=_e.length;lt--;)if(_e[lt]===te)continue e;d&&_e.push(te),fe.push(Ne)}else I(_e,te,_)||(_e!==fe&&_e.push(te),fe.push(Ne))}return fe}function Ps(s,d){return(s=pl(s,d=Ei(d,s)))==null||delete s[tr(Sn(d))]}function $f(s,d,_,M){return Da(s,d,_(ni(s,d)),M)}function Mu(s,d,_,M){for(var I=s.length,X=M?I:-1;(M?X--:++X<I)&&d(s[X],X,s););return _?lo(s,M?0:X,M?X+1:I):lo(s,M?X+1:0,M?I:X)}function Kf(s,d){var _=s;return _ instanceof nn&&(_=_.value()),ga(d,function(M,I){return I.func.apply(I.thisArg,er([M],I.args))},_)}function Ms(s,d,_){var M=s.length;if(M<2)return M?xi(s[0]):[];for(var I=-1,X=Qe(M);++I<M;)for(var ie=s[I],fe=-1;++fe<M;)fe!=I&&(X[I]=ti(X[I]||ie,s[fe],d,_));return xi(pr(X,1),d,_)}function qf(s,d,_){for(var M=-1,I=s.length,X=d.length,ie={};++M<I;){var fe=M<X?d[M]:g;_(ie,s[M],fe)}return ie}function As(s){return Un(s)?s:[]}function Qc(s){return typeof s=="function"?s:wr}function Ei(s,d){return Gt(s)?s:Ls(s,d)?[s]:fp(pn(s))}var Zf=qt;function Si(s,d,_){var M=s.length;return _=_===g?M:_,!d&&_>=M?s:lo(s,d,_)}var el=td||function(s){return zn.clearTimeout(s)};function tl(s,d){if(d)return s.slice();var _=s.length,M=xu?xu(_):new s.constructor(_);return s.copy(M),M}function nl(s){var d=new s.constructor(s.byteLength);return new Ui(d).set(new Ui(s)),d}function En(s,d){var _=d?nl(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.length)}function Jf(s,d){if(s!==d){var _=s!==g,M=s===null,I=s==s,X=vr(s),ie=d!==g,fe=d===null,_e=d==d,Re=vr(d);if(!fe&&!Re&&!X&&s>d||X&&ie&&_e&&!fe&&!Re||M&&ie&&_e||!_&&_e||!I)return 1;if(!M&&!X&&!Re&&s<d||Re&&_&&I&&!M&&!X||fe&&_&&I||!ie&&I||!_e)return-1}return 0}function Tn(s,d,_,M){for(var I=-1,X=s.length,ie=_.length,fe=-1,_e=d.length,Re=sr(X-ie,0),Ne=Qe(_e+Re),te=!M;++fe<_e;)Ne[fe]=d[fe];for(;++I<ie;)(te||I<X)&&(Ne[_[I]]=s[I]);for(;Re--;)Ne[fe++]=s[I++];return Ne}function Ts(s,d,_,M){for(var I=-1,X=s.length,ie=-1,fe=_.length,_e=-1,Re=d.length,Ne=sr(X-fe,0),te=Qe(Ne+Re),lt=!M;++I<Ne;)te[I]=s[I];for(var dt=I;++_e<Re;)te[dt+_e]=d[_e];for(;++ie<fe;)(lt||I<X)&&(te[dt+_[ie]]=s[I++]);return te}function Lr(s,d){var _=-1,M=s.length;for(d||(d=Qe(M));++_<M;)d[_]=s[_];return d}function Bo(s,d,_,M){var I=!_;_||(_={});for(var X=-1,ie=d.length;++X<ie;){var fe=d[X],_e=M?M(_[fe],s[fe],fe,_,s):g;_e===g&&(_e=s[fe]),I?zo(_,fe,_e):Ma(_,fe,_e)}return _}function ks(s,d){return function(_,M){var I=Gt(_)?cs:Rf,X=d?d():{};return I(_,s,Et(M,2),X)}}function Ki(s){return qt(function(d,_){var M=-1,I=_.length,X=I>1?_[I-1]:g,ie=I>2?_[2]:g;for(X=s.length>3&&typeof X=="function"?(I--,X):g,ie&&Or(_[0],_[1],ie)&&(X=I<3?g:X,I=1),d=w(d);++M<I;){var fe=_[M];fe&&s(d,fe,M,X)}return d})}function Qf(s,d){return function(_,M){if(_==null)return _;if(!Tr(_))return s(_,M);for(var I=_.length,X=d?I:-1,ie=w(_);(d?X--:++X<I)&&M(ie[X],X,ie)!==!1;);return _}}function ep(s){return function(d,_,M){for(var I=-1,X=w(d),ie=M(d),fe=ie.length;fe--;){var _e=ie[s?fe:++I];if(_(X[_e],_e,X)===!1)break}return d}}function tp(s){return function(d){var _=bo(d=pn(d))?Ir(d):g,M=_?_[0]:d.charAt(0),I=_?Si(_,1).join(""):d.slice(1);return M[s]()+I}}function ji(s){return function(d){return ga(xo(Ks(d).replace(os,"")),s,"")}}function Au(s){return function(){var d=arguments;switch(d.length){case 0:return new s;case 1:return new s(d[0]);case 2:return new s(d[0],d[1]);case 3:return new s(d[0],d[1],d[2]);case 4:return new s(d[0],d[1],d[2],d[3]);case 5:return new s(d[0],d[1],d[2],d[3],d[4]);case 6:return new s(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new s(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var _=Pa(s.prototype),M=s.apply(_,d);return In(M)?M:_}}function np(s){return function(d,_,M){var I=w(d);if(!Tr(d)){var X=Et(_,3);d=rr(d),_=function(fe){return X(I[fe],fe,I)}}var ie=s(d,_,M);return ie>-1?I[X?d[ie]:ie]:g}}function rp(s){return kn(function(d){var _=d.length,M=_,I=uo.prototype.thru;for(s&&d.reverse();M--;){var X=d[M];if(typeof X!="function")throw new K(E);if(I&&!ie&&wo(X)=="wrapper")var ie=new uo([],!0)}for(M=ie?M:_;++M<_;){var fe=wo(X=d[M]),_e=fe=="wrapper"?Du(X):g;ie=_e&&zs(_e[0])&&_e[1]==424&&!_e[4].length&&_e[9]==1?ie[wo(_e[0])].apply(ie,_e[3]):X.length==1&&zs(X)?ie[fe]():ie.thru(X)}return function(){var Re=arguments,Ne=Re[0];if(ie&&Re.length==1&&Gt(Ne))return ie.plant(Ne).value();for(var te=0,lt=_?d[te].apply(this,Re):Ne;++te<_;)lt=d[te].call(this,lt);return lt}})}function Tu(s,d,_,M,I,X,ie,fe,_e,Re){var Ne=d&N,te=1&d,lt=2&d,dt=24&d,Mt=512&d,Be=lt?g:Au(s);return function Ue(){for(var Nt=arguments.length,ut=Qe(Nt),Dt=Nt;Dt--;)ut[Dt]=arguments[Dt];if(dt)var Rt=Ia(Ue),Jt=Rc(ut,Rt);if(M&&(ut=Tn(ut,M,I,dt)),X&&(ut=Ts(ut,X,ie,dt)),Nt-=Jt,dt&&Nt<Re){var _t=Cr(ut,Rt);return Ds(s,d,Tu,Ue.placeholder,_,ut,_t,fe,_e,Re-Nt)}var At=te?_:this,Fn=lt?At[s]:s;return Nt=ut.length,fe?ut=lp(ut,fe):Mt&&Nt>1&&ut.reverse(),Ne&&_e<Nt&&(ut.length=_e),this&&this!==zn&&this instanceof Ue&&(Fn=Be||Au(Fn)),Fn.apply(At,ut)}}function op(s,d){return function(_,M){return function(I,X,ie,fe){return pt(I,function(_e,Re,Ne){X(fe,ie(_e),Re,Ne)}),fe}(_,s,d(M),{})}}function ku(s,d){return function(_,M){var I;if(_===g&&M===g)return d;if(_!==g&&(I=_),M!==g){if(I===g)return M;typeof _=="string"||typeof M=="string"?(_=Rr(_),M=Rr(M)):(_=Jc(_),M=Jc(M)),I=s(_,M)}return I}}function rl(s){return kn(function(d){return d=rn(d,Cn(Et())),qt(function(_){var M=this;return s(d,function(I){return mn(I,M,_)})})})}function Ns(s,d){var _=(d=d===g?" ":Rr(d)).length;if(_<2)return _?Ss(d,s):d;var M=Ss(d,hs(s/_o(d)));return bo(d)?Si(Ir(M),0,s).join(""):M.slice(0,s)}function Fo(s){return function(d,_,M){return M&&typeof M!="number"&&Or(d,_,M)&&(_=M=g),d=Xo(d),_===g?(_=d,d=0):_=Xo(_),function(I,X,ie,fe){for(var _e=-1,Re=sr(hs((X-I)/(ie||1)),0),Ne=Qe(Re);Re--;)Ne[fe?Re:++_e]=I,I+=ie;return Ne}(d,_,M=M===g?d<_?1:-1:Xo(M),s)}}function Ca(s){return function(d,_){return typeof d=="string"&&typeof _=="string"||(d=kr(d),_=kr(_)),s(d,_)}}function Ds(s,d,_,M,I,X,ie,fe,_e,Re){var Ne=8&d;d|=Ne?T:C,4&(d&=~(Ne?C:T))||(d&=-4);var te=[s,d,I,Ne?X:g,Ne?ie:g,Ne?g:X,Ne?g:ie,fe,_e,Re],lt=_.apply(g,te);return zs(s)&&hl(lt,te),lt.placeholder=M,dl(lt,s,d)}function Cs(s){var d=O[s];return function(_,M){if(_=kr(_),(M=M==null?0:_r(Yt(M),292))&&Af(_)){var I=(pn(_)+"e").split("e");return+((I=(pn(d(I[0]+"e"+(+I[1]+M)))+"e").split("e"))[0]+"e"+(+I[1]-M))}return d(_)}}var ol=Vi&&1/Zo(new Vi([,-0]))[1]==G?function(s){return new Vi(s)}:Uu;function Is(s){return function(d){var _=yr(d);return _==ce?mr(d):_==je?Oa(d):function(M,I){return rn(I,function(X){return[X,M[X]]})}(d,s(d))}}function Wo(s,d,_,M,I,X,ie,fe){var _e=2&d;if(!_e&&typeof s!="function")throw new K(E);var Re=M?M.length:0;if(Re||(d&=-97,M=I=g),ie=ie===g?ie:sr(Yt(ie),0),fe=fe===g?fe:Yt(fe),Re-=I?I.length:0,d&C){var Ne=M,te=I;M=I=g}var lt=_e?g:Du(s),dt=[s,d,_,M,I,Ne,te,X,ie,fe];if(lt&&function(Be,Ue){var Nt=Be[1],ut=Ue[1],Dt=Nt|ut,Rt=Dt<131,Jt=ut==N&&Nt==8||ut==N&&Nt==R&&Be[7].length<=Ue[8]||ut==384&&Ue[7].length<=Ue[8]&&Nt==8;if(!Rt&&!Jt)return Be;1&ut&&(Be[2]=Ue[2],Dt|=1&Nt?0:4);var _t=Ue[3];if(_t){var At=Be[3];Be[3]=At?Tn(At,_t,Ue[4]):_t,Be[4]=At?Cr(Be[3],S):Ue[4]}(_t=Ue[5])&&(At=Be[5],Be[5]=At?Ts(At,_t,Ue[6]):_t,Be[6]=At?Cr(Be[5],S):Ue[6]),(_t=Ue[7])&&(Be[7]=_t),ut&N&&(Be[8]=Be[8]==null?Ue[8]:_r(Be[8],Ue[8])),Be[9]==null&&(Be[9]=Ue[9]),Be[0]=Ue[0],Be[1]=Dt}(dt,lt),s=dt[0],d=dt[1],_=dt[2],M=dt[3],I=dt[4],!(fe=dt[9]=dt[9]===g?_e?0:s.length:sr(dt[9]-Re,0))&&24&d&&(d&=-25),d&&d!=1)Mt=d==8||d==k?function(Be,Ue,Nt){var ut=Au(Be);return function Dt(){for(var Rt=arguments.length,Jt=Qe(Rt),_t=Rt,At=Ia(Dt);_t--;)Jt[_t]=arguments[_t];var Fn=Rt<3&&Jt[0]!==At&&Jt[Rt-1]!==At?[]:Cr(Jt,At);return(Rt-=Fn.length)<Nt?Ds(Be,Ue,Tu,Dt.placeholder,g,Jt,Fn,g,g,Nt-Rt):mn(this&&this!==zn&&this instanceof Dt?ut:Be,this,Jt)}}(s,d,fe):d!=T&&d!=33||I.length?Tu.apply(g,dt):function(Be,Ue,Nt,ut){var Dt=1&Ue,Rt=Au(Be);return function Jt(){for(var _t=-1,At=arguments.length,Fn=-1,Wr=ut.length,Eo=Qe(Wr+At),Wn=this&&this!==zn&&this instanceof Jt?Rt:Be;++Fn<Wr;)Eo[Fn]=ut[Fn];for(;At--;)Eo[Fn++]=arguments[++_t];return mn(Wn,Dt?Nt:this,Eo)}}(s,d,_,M);else var Mt=function(Be,Ue,Nt){var ut=1&Ue,Dt=Au(Be);return function Rt(){return(this&&this!==zn&&this instanceof Rt?Dt:Be).apply(ut?Nt:this,arguments)}}(s,d,_);return dl((lt?Yf:hl)(Mt,dt),s,d)}function ip(s,d,_,M){return s===g||Nn(s,Ge[_])&&!tt.call(M,_)?d:s}function ap(s,d,_,M,I,X){return In(s)&&In(d)&&(X.set(d,s),Es(s,d,g,ap,X),X.delete(d)),s}function hd(s){return si(s)?g:s}function up(s,d,_,M,I,X){var ie=1&_,fe=s.length,_e=d.length;if(fe!=_e&&!(ie&&_e>fe))return!1;var Re=X.get(s),Ne=X.get(d);if(Re&&Ne)return Re==d&&Ne==s;var te=-1,lt=!0,dt=2&_?new Oi:g;for(X.set(s,d),X.set(d,s);++te<fe;){var Mt=s[te],Be=d[te];if(M)var Ue=ie?M(Be,Mt,te,d,s,X):M(Mt,Be,te,s,d,X);if(Ue!==g){if(Ue)continue;lt=!1;break}if(dt){if(!mu(d,function(Nt,ut){if(!Do(dt,ut)&&(Mt===Nt||I(Mt,Nt,_,M,X)))return dt.push(ut)})){lt=!1;break}}else if(Mt!==Be&&!I(Mt,Be,_,M,X)){lt=!1;break}}return X.delete(s),X.delete(d),lt}function kn(s){return Fs(fl(s,g,ml),s+"")}function Nu(s){return Hc(s,rr,al)}function il(s){return Hc(s,hr,De)}var Du=gs?function(s){return gs.get(s)}:Uu;function wo(s){for(var d=s.name+"",_=ja[d],M=tt.call(ja,d)?_.length:0;M--;){var I=_[M],X=I.func;if(X==null||X==s)return I.name}return d}function Ia(s){return(tt.call(F,"placeholder")?F:s).placeholder}function Et(){var s=F.iteratee||Hu;return s=s===Hu?Yc:s,arguments.length?s(arguments[0],arguments[1]):s}function Ra(s,d){var _,M,I=s.__data__;return((M=typeof(_=d))=="string"||M=="number"||M=="symbol"||M=="boolean"?_!=="__proto__":_===null)?I[typeof d=="string"?"string":"hash"]:I.map}function Rs(s){for(var d=rr(s),_=d.length;_--;){var M=d[_],I=s[M];d[_]=[M,I,cl(I)]}return d}function Pi(s,d){var _=function(M,I){return M==null?g:M[I]}(s,d);return ka(_)?_:g}var al=Lc?function(s){return s==null?[]:(s=w(s),gr(Lc(s),function(d){return br.call(s,d)}))}:qs,De=Lc?function(s){for(var d=[];s;)er(d,al(s)),s=Jo(s);return d}:qs,yr=xn;function ul(s,d,_){for(var M=-1,I=(d=Ei(d,s)).length,X=!1;++M<I;){var ie=tr(d[M]);if(!(X=s!=null&&_(s,ie)))break;s=s[ie]}return X||++M!=I?X:!!(I=s==null?0:s.length)&&ta(I)&&Go(ie,I)&&(Gt(s)||ea(s))}function sl(s){return typeof s.constructor!="function"||La(s)?{}:Pa(Jo(s))}function sp(s){return Gt(s)||ea(s)||!!(_i&&s&&s[_i])}function Go(s,d){var _=typeof s;return!!(d=d??H)&&(_=="number"||_!="symbol"&&it.test(s))&&s>-1&&s%1==0&&s<d}function Or(s,d,_){if(!In(_))return!1;var M=typeof d;return!!(M=="number"?Tr(_)&&Go(d,_.length):M=="string"&&d in _)&&Nn(_[d],s)}function Ls(s,d){if(Gt(s))return!1;var _=typeof s;return!(_!="number"&&_!="symbol"&&_!="boolean"&&s!=null&&!vr(s))||zt.test(s)||!sn.test(s)||d!=null&&s in w(d)}function zs(s){var d=wo(s),_=F[d];if(typeof _!="function"||!(d in nn.prototype))return!1;if(s===_)return!0;var M=Du(_);return!!M&&s===M[0]}(Ea&&yr(new Ea(new ArrayBuffer(1)))!=rt||Ro&&yr(new Ro)!=ce||zc&&yr(zc.resolve())!=Ae||Vi&&yr(new Vi)!=je||Sa&&yr(new Sa)!=Te)&&(yr=function(s){var d=xn(s),_=d==Oe?s.constructor:g,M=_?zr(_):"";if(M)switch(M){case ad:return rt;case kf:return ce;case ud:return Ae;case sd:return je;case Nf:return Te}return d});var cp=at?ui:or;function La(s){var d=s&&s.constructor;return s===(typeof d=="function"&&d.prototype||Ge)}function cl(s){return s==s&&!In(s)}function ll(s,d){return function(_){return _!=null&&_[s]===d&&(d!==g||s in w(_))}}function fl(s,d,_){return d=sr(d===g?s.length-1:d,0),function(){for(var M=arguments,I=-1,X=sr(M.length-d,0),ie=Qe(X);++I<X;)ie[I]=M[d+I];I=-1;for(var fe=Qe(d+1);++I<d;)fe[I]=M[I];return fe[d]=_(ie),mn(s,this,fe)}}function pl(s,d){return d.length<2?s:ni(s,lo(d,0,-1))}function lp(s,d){for(var _=s.length,M=_r(d.length,_),I=Lr(s);M--;){var X=d[M];s[M]=Go(X,_)?I[X]:g}return s}function Bs(s,d){if((d!=="constructor"||typeof s[d]!="function")&&d!="__proto__")return s[d]}var hl=Ws(Yf),za=Mf||function(s,d){return zn.setTimeout(s,d)},Fs=Ws(fd);function dl(s,d,_){var M=d+"";return Fs(s,function(I,X){var ie=X.length;if(!ie)return I;var fe=ie-1;return X[fe]=(ie>1?"& ":"")+X[fe],X=X.join(ie>2?", ":" "),I.replace(J,`{
/* [wrapped with `+X+`] */
`)}(M,function(I,X){return Er(re,function(ie){var fe="_."+ie[0];X&ie[1]&&!Sr(I,fe)&&I.push(fe)}),I.sort()}(function(I){var X=I.match(de);return X?X[1].split(ae):[]}(M),_)))}function Ws(s){var d=0,_=0;return function(){var M=ds(),I=16-(M-_);if(_=M,I>0){if(++d>=800)return arguments[0]}else d=0;return s.apply(g,arguments)}}function qi(s,d){var _=-1,M=s.length,I=M-1;for(d=d===g?M:d;++_<d;){var X=$c(_,I),ie=s[X];s[X]=s[_],s[_]=ie}return s.length=d,s}var fp=function(s){var d=Fa(s,function(M){return _.size===500&&_.clear(),M}),_=d.cache;return d}(function(s){var d=[];return s.charCodeAt(0)===46&&d.push(""),s.replace(Qt,function(_,M,I,X){d.push(I?X.replace(Ke,"$1"):M||_)}),d});function tr(s){if(typeof s=="string"||vr(s))return s;var d=s+"";return d=="0"&&1/s==-1/0?"-0":d}function zr(s){if(s!=null){try{return $t.call(s)}catch{}try{return s+""}catch{}}return""}function pp(s){if(s instanceof nn)return s.clone();var d=new uo(s.__wrapped__,s.__chain__);return d.__actions__=Lr(s.__actions__),d.__index__=s.__index__,d.__values__=s.__values__,d}var Jr=qt(function(s,d){return Un(s)?ti(s,pr(d,1,Un,!0)):[]}),hp=qt(function(s,d){var _=Sn(d);return Un(_)&&(_=g),Un(s)?ti(s,pr(d,1,Un,!0),Et(_,2)):[]}),yl=qt(function(s,d){var _=Sn(d);return Un(_)&&(_=g),Un(s)?ti(s,pr(d,1,Un,!0),g,_):[]});function vl(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var I=_==null?0:Yt(_);return I<0&&(I=sr(M+I,0)),ko(s,Et(d,3),I)}function gl(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var I=M-1;return _!==g&&(I=Yt(_),I=_<0?sr(M+I,0):_r(I,M-1)),ko(s,Et(d,3),I,!0)}function ml(s){return s!=null&&s.length?pr(s,1):[]}function bl(s){return s&&s.length?s[0]:g}var dp=qt(function(s){var d=rn(s,As);return d.length&&d[0]===s[0]?ws(d):[]}),_l=qt(function(s){var d=Sn(s),_=rn(s,As);return d===Sn(_)?d=g:_.pop(),_.length&&_[0]===s[0]?ws(_,Et(d,2)):[]}),Cu=qt(function(s){var d=Sn(s),_=rn(s,As);return(d=typeof d=="function"?d:g)&&_.pop(),_.length&&_[0]===s[0]?ws(_,g,d):[]});function Sn(s){var d=s==null?0:s.length;return d?s[d-1]:g}var dd=qt(yp);function yp(s,d){return s&&s.length&&d&&d.length?Vc(s,d):s}var Ol=kn(function(s,d){var _=s==null?0:s.length,M=_s(s,d);return Na(s,rn(d,function(I){return Go(I,_)?+I:I}).sort(Jf)),M});function Gs(s){return s==null?s:id.call(s)}var Br=qt(function(s){return xi(pr(s,1,Un,!0))}),nr=qt(function(s){var d=Sn(s);return Un(d)&&(d=g),xi(pr(s,1,Un,!0),Et(d,2))}),yd=qt(function(s){var d=Sn(s);return d=typeof d=="function"?d:g,xi(pr(s,1,Un,!0),g,d)});function Fr(s){if(!s||!s.length)return[];var d=0;return s=gr(s,function(_){if(Un(_))return d=sr(_.length,d),!0}),Hi(d,function(_){return rn(s,Pr(_))})}function Pt(s,d){if(!s||!s.length)return[];var _=Fr(s);return d==null?_:rn(_,function(M){return mn(d,g,M)})}var wl=qt(function(s,d){return Un(s)?ti(s,d):[]}),xl=qt(function(s){return Ms(gr(s,Un))}),El=qt(function(s){var d=Sn(s);return Un(d)&&(d=g),Ms(gr(s,Un),Et(d,2))}),vp=qt(function(s){var d=Sn(s);return d=typeof d=="function"?d:g,Ms(gr(s,Un),g,d)}),gp=qt(Fr),vd=qt(function(s){var d=s.length,_=d>1?s[d-1]:g;return _=typeof _=="function"?(s.pop(),_):g,Pt(s,_)});function mp(s){var d=F(s);return d.__chain__=!0,d}function Ba(s,d){return d(s)}var gd=kn(function(s){var d=s.length,_=d?s[0]:0,M=this.__wrapped__,I=function(X){return _s(X,s)};return!(d>1||this.__actions__.length)&&M instanceof nn&&Go(_)?((M=M.slice(_,+_+(d?1:0))).__actions__.push({func:Ba,args:[I],thisArg:g}),new uo(M,this.__chain__).thru(function(X){return d&&!X.length&&X.push(g),X})):this.thru(I)}),Sl=ks(function(s,d,_){tt.call(s,_)?++s[_]:zo(s,_,1)}),md=np(vl),bd=np(gl);function jl(s,d){return(Gt(s)?Er:An)(s,Et(d,3))}function Zi(s,d){return(Gt(s)?ls:Lf)(s,Et(d,3))}var bp=ks(function(s,d,_){tt.call(s,_)?s[_].push(d):zo(s,_,[d])}),Wt=qt(function(s,d,_){var M=-1,I=typeof d=="function",X=Tr(s)?Qe(s.length):[];return An(s,function(ie){X[++M]=I?mn(d,ie,_):Aa(ie,d,_)}),X}),_p=ks(function(s,d,_){zo(s,_,d)});function Ji(s,d){return(Gt(s)?rn:co)(s,Et(d,3))}var Pl=ks(function(s,d,_){s[_?0:1].push(d)},function(){return[[],[]]}),_d=qt(function(s,d){if(s==null)return[];var _=d.length;return _>1&&Or(s,d[0],d[1])?d=[]:_>2&&Or(d[0],d[1],d[2])&&(d=[d[0]]),Hf(s,pr(d,1),[])}),Iu=nd||function(){return zn.Date.now()};function Ml(s,d,_){return d=_?g:d,d=s&&d==null?s.length:d,Wo(s,N,g,g,g,g,d)}function Al(s,d){var _;if(typeof d!="function")throw new K(E);return s=Yt(s),function(){return--s>0&&(_=d.apply(this,arguments)),s<=1&&(d=g),_}}var Tl=qt(function(s,d,_){var M=1;if(_.length){var I=Cr(_,Ia(Tl));M|=T}return Wo(s,M,d,_,I)}),Op=qt(function(s,d,_){var M=3;if(_.length){var I=Cr(_,Ia(Op));M|=T}return Wo(d,M,s,_,I)});function wp(s,d,_){var M,I,X,ie,fe,_e,Re=0,Ne=!1,te=!1,lt=!0;if(typeof s!="function")throw new K(E);function dt(Dt){var Rt=M,Jt=I;return M=I=g,Re=Dt,ie=s.apply(Jt,Rt)}function Mt(Dt){return Re=Dt,fe=za(Ue,d),Ne?dt(Dt):ie}function Be(Dt){var Rt=Dt-_e;return _e===g||Rt>=d||Rt<0||te&&Dt-Re>=X}function Ue(){var Dt=Iu();if(Be(Dt))return Nt(Dt);fe=za(Ue,function(Rt){var Jt=d-(Rt-_e);return te?_r(Jt,X-(Rt-Re)):Jt}(Dt))}function Nt(Dt){return fe=g,lt&&M?dt(Dt):(M=I=g,ie)}function ut(){var Dt=Iu(),Rt=Be(Dt);if(M=arguments,I=this,_e=Dt,Rt){if(fe===g)return Mt(_e);if(te)return el(fe),fe=za(Ue,d),dt(_e)}return fe===g&&(fe=za(Ue,d)),ie}return d=kr(d)||0,In(_)&&(Ne=!!_.leading,X=(te="maxWait"in _)?sr(kr(_.maxWait)||0,d):X,lt="trailing"in _?!!_.trailing:lt),ut.cancel=function(){fe!==g&&el(fe),Re=0,M=_e=I=fe=g},ut.flush=function(){return fe===g?ie:Nt(Iu())},ut}var Ru=qt(function(s,d){return Xc(s,1,d)}),Od=qt(function(s,d,_){return Xc(s,kr(d)||0,_)});function Fa(s,d){if(typeof s!="function"||d!=null&&typeof d!="function")throw new K(E);var _=function(){var M=arguments,I=d?d.apply(this,M):M[0],X=_.cache;if(X.has(I))return X.get(I);var ie=s.apply(this,M);return _.cache=X.set(I,ie)||X,ie};return _.cache=new(Fa.Cache||Lo),_}function Xs(s){if(typeof s!="function")throw new K(E);return function(){var d=arguments;switch(d.length){case 0:return!s.call(this);case 1:return!s.call(this,d[0]);case 2:return!s.call(this,d[0],d[1]);case 3:return!s.call(this,d[0],d[1],d[2])}return!s.apply(this,d)}}Fa.Cache=Lo;var wd=Zf(function(s,d){var _=(d=d.length==1&&Gt(d[0])?rn(d[0],Cn(Et())):rn(pr(d,1),Cn(Et()))).length;return qt(function(M){for(var I=-1,X=_r(M.length,_);++I<X;)M[I]=d[I].call(this,M[I]);return mn(s,this,M)})}),Qi=qt(function(s,d){var _=Cr(d,Ia(Qi));return Wo(s,T,g,d,_)}),ii=qt(function(s,d){var _=Cr(d,Ia(ii));return Wo(s,C,g,d,_)}),kl=kn(function(s,d){return Wo(s,R,g,g,g,d)});function Nn(s,d){return s===d||s!=s&&d!=d}var Hs=Ca(Bn),Lu=Ca(function(s,d){return s>=d}),ea=Uc(function(){return arguments}())?Uc:function(s){return Rn(s)&&tt.call(s,"callee")&&!br.call(s,"callee")},Gt=Qe.isArray,xp=yu?Cn(yu):function(s){return Rn(s)&&xn(s)==Xe};function Tr(s){return s!=null&&ta(s.length)&&!ui(s)}function Un(s){return Rn(s)&&Tr(s)}var ai=rd||or,Us=ss?Cn(ss):function(s){return Rn(s)&&xn(s)==B};function Nl(s){if(!Rn(s))return!1;var d=xn(s);return d==Y||d=="[object DOMException]"||typeof s.message=="string"&&typeof s.name=="string"&&!si(s)}function ui(s){if(!In(s))return!1;var d=xn(s);return d==$||d==q||d=="[object AsyncFunction]"||d=="[object Proxy]"}function Ys(s){return typeof s=="number"&&s==Yt(s)}function ta(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=H}function In(s){var d=typeof s;return s!=null&&(d=="object"||d=="function")}function Rn(s){return s!=null&&typeof s=="object"}var Ep=vu?Cn(vu):function(s){return Rn(s)&&yr(s)==ce};function Dl(s){return typeof s=="number"||Rn(s)&&xn(s)==Se}function si(s){if(!Rn(s)||xn(s)!=Oe)return!1;var d=Jo(s);if(d===null)return!0;var _=tt.call(d,"constructor")&&d.constructor;return typeof _=="function"&&_ instanceof _&&$t.call(_)==qr}var Cl=va?Cn(va):function(s){return Rn(s)&&xn(s)==We},Wa=gi?Cn(gi):function(s){return Rn(s)&&yr(s)==je};function zu(s){return typeof s=="string"||!Gt(s)&&Rn(s)&&xn(s)==ge}function vr(s){return typeof s=="symbol"||Rn(s)&&xn(s)==Pe}var Mi=vo?Cn(vo):function(s){return Rn(s)&&ta(s.length)&&!!ln[xn(s)]},Ga=Ca(oi),Bu=Ca(function(s,d){return s<=d});function Xa(s){if(!s)return[];if(Tr(s))return zu(s)?Ir(s):Lr(s);if(Qo&&s[Qo])return function(_){for(var M,I=[];!(M=_.next()).done;)I.push(M.value);return I}(s[Qo]());var d=yr(s);return(d==ce?mr:d==je?Zo:Ti)(s)}function Xo(s){return s?(s=kr(s))===G||s===-1/0?17976931348623157e292*(s<0?-1:1):s==s?s:0:s===0?s:0}function Yt(s){var d=Xo(s),_=d%1;return d==d?_?d-_:d:0}function Il(s){return s?wi(Yt(s),0,ue):0}function kr(s){if(typeof s=="number")return s;if(vr(s))return Q;if(In(s)){var d=typeof s.valueOf=="function"?s.valueOf():s;s=In(d)?d+"":d}if(typeof s!="string")return s===0?s:+s;s=bu(s);var _=lr.test(s);return _||$n.test(s)?To(s.slice(2),_?2:8):Qn.test(s)?Q:+s}function Rl(s){return Bo(s,hr(s))}function pn(s){return s==null?"":Rr(s)}var Sp=Ki(function(s,d){if(La(d)||Tr(d))Bo(d,rr(d),s);else for(var _ in d)tt.call(d,_)&&Ma(s,_,d[_])}),Ll=Ki(function(s,d){Bo(d,hr(d),s)}),ci=Ki(function(s,d,_,M){Bo(d,hr(d),s,M)}),zl=Ki(function(s,d,_,M){Bo(d,rr(d),s,M)}),jp=kn(_s),Pp=qt(function(s,d){s=w(s);var _=-1,M=d.length,I=M>2?d[2]:g;for(I&&Or(d[0],d[1],I)&&(M=1);++_<M;)for(var X=d[_],ie=hr(X),fe=-1,_e=ie.length;++fe<_e;){var Re=ie[fe],Ne=s[Re];(Ne===g||Nn(Ne,Ge[Re])&&!tt.call(s,Re))&&(s[Re]=X[Re])}return s}),Bl=qt(function(s){return s.push(g,ap),mn(Gl,g,s)});function Fu(s,d,_){var M=s==null?g:ni(s,d);return M===g?_:M}function Wu(s,d){return s!=null&&ul(s,d,Ff)}var Mp=op(function(s,d,_){d!=null&&typeof d.toString!="function"&&(d=an.call(d)),s[d]=_},Xu(wr)),Fl=op(function(s,d,_){d!=null&&typeof d.toString!="function"&&(d=an.call(d)),tt.call(s,d)?s[d].push(_):s[d]=[_]},Et),Wl=qt(Aa);function rr(s){return Tr(s)?Bc(s):ri(s)}function hr(s){return Tr(s)?Bc(s,!0):cd(s)}var Ai=Ki(function(s,d,_){Es(s,d,_)}),Gl=Ki(function(s,d,_,M){Es(s,d,_,M)}),Ap=kn(function(s,d){var _={};if(s==null)return _;var M=!1;d=rn(d,function(X){return X=Ei(X,s),M||(M=X.length>1),X}),Bo(s,il(s),_),M&&(_=Zr(_,7,hd));for(var I=d.length;I--;)Ps(_,d[I]);return _}),Xl=kn(function(s,d){return s==null?{}:function(_,M){return Uf(_,M,function(I,X){return Wu(_,X)})}(s,d)});function Vs(s,d){if(s==null)return{};var _=rn(il(s),function(M){return[M]});return d=Et(d),Uf(s,_,function(M,I){return d(M,I[0])})}var Tp=Is(rr),Hl=Is(hr);function Ti(s){return s==null?[]:_a(s,rr(s))}var $s=ji(function(s,d,_){return d=d.toLowerCase(),s+(_?Gu(d):d)});function Gu(s){return Yn(pn(s).toLowerCase())}function Ks(s){return(s=pn(s))&&s.replace(bt,Ou).replace(Ao,"")}var Ul=ji(function(s,d,_){return s+(_?"-":"")+d.toLowerCase()}),kp=ji(function(s,d,_){return s+(_?" ":"")+d.toLowerCase()}),Yl=tp("toLowerCase"),Np=ji(function(s,d,_){return s+(_?"_":"")+d.toLowerCase()}),Ha=ji(function(s,d,_){return s+(_?" ":"")+Yn(d)}),xd=ji(function(s,d,_){return s+(_?" ":"")+d.toUpperCase()}),Yn=tp("toUpperCase");function xo(s,d,_){return s=pn(s),(d=_?g:d)===g?function(M){return fu.test(M)}(s)?function(M){return M.match(da)||[]}(s):function(M){return M.match(be)||[]}(s):s.match(d)||[]}var Dp=qt(function(s,d){try{return mn(s,g,d)}catch(_){return Nl(_)?_:new Zt(_)}}),Ho=kn(function(s,d){return Er(d,function(_){_=tr(_),zo(s,_,Tl(s[_],s))}),s});function Xu(s){return function(){return s}}var Vl=rp(),Cp=rp(!0);function wr(s){return s}function Hu(s){return Yc(typeof s=="function"?s:Zr(s,1))}var $l=qt(function(s,d){return function(_){return Aa(_,s,d)}}),Ed=qt(function(s,d){return function(_){return Aa(s,_,d)}});function li(s,d,_){var M=rr(d),I=Os(d,M);_!=null||In(d)&&(I.length||!M.length)||(_=d,d=s,s=this,I=Os(d,rr(d)));var X=!(In(_)&&"chain"in _&&!_.chain),ie=ui(s);return Er(I,function(fe){var _e=d[fe];s[fe]=_e,ie&&(s.prototype[fe]=function(){var Re=this.__chain__;if(X||Re){var Ne=s(this.__wrapped__),te=Ne.__actions__=Lr(this.__actions__);return te.push({func:_e,args:arguments,thisArg:s}),Ne.__chain__=Re,Ne}return _e.apply(s,er([this.value()],arguments))})}),s}function Uu(){}var Kl=rl(rn),Ip=rl(fs),Yu=rl(mu);function Ua(s){return Ls(s)?Pr(tr(s)):function(d){return function(_){return ni(_,d)}}(s)}var ql=Fo(),Rp=Fo(!0);function qs(){return[]}function or(){return!1}var Zs=ku(function(s,d){return s+d},0),Zl=Cs("ceil"),Jl=ku(function(s,d){return s/d},1),Lp=Cs("floor"),Js,Ql=ku(function(s,d){return s*d},1),Qs=Cs("round"),zp=ku(function(s,d){return s-d},0);return F.after=function(s,d){if(typeof d!="function")throw new K(E);return s=Yt(s),function(){if(--s<1)return d.apply(this,arguments)}},F.ary=Ml,F.assign=Sp,F.assignIn=Ll,F.assignInWith=ci,F.assignWith=zl,F.at=jp,F.before=Al,F.bind=Tl,F.bindAll=Ho,F.bindKey=Op,F.castArray=function(){if(!arguments.length)return[];var s=arguments[0];return Gt(s)?s:[s]},F.chain=mp,F.chunk=function(s,d,_){d=(_?Or(s,d,_):d===g)?1:sr(Yt(d),0);var M=s==null?0:s.length;if(!M||d<1)return[];for(var I=0,X=0,ie=Qe(hs(M/d));I<M;)ie[X++]=lo(s,I,I+=d);return ie},F.compact=function(s){for(var d=-1,_=s==null?0:s.length,M=0,I=[];++d<_;){var X=s[d];X&&(I[M++]=X)}return I},F.concat=function(){var s=arguments.length;if(!s)return[];for(var d=Qe(s-1),_=arguments[0],M=s;M--;)d[M-1]=arguments[M];return er(Gt(_)?Lr(_):[_],pr(d,1))},F.cond=function(s){var d=s==null?0:s.length,_=Et();return s=d?rn(s,function(M){if(typeof M[1]!="function")throw new K(E);return[_(M[0]),M[1]]}):[],qt(function(M){for(var I=-1;++I<d;){var X=s[I];if(mn(X[0],this,M))return mn(X[1],this,M)}})},F.conforms=function(s){return function(d){var _=rr(d);return function(M){return Gc(M,d,_)}}(Zr(s,1))},F.constant=Xu,F.countBy=Sl,F.create=function(s,d){var _=Pa(s);return d==null?_:Wc(_,d)},F.curry=function s(d,_,M){var I=Wo(d,8,g,g,g,g,g,_=M?g:_);return I.placeholder=s.placeholder,I},F.curryRight=function s(d,_,M){var I=Wo(d,k,g,g,g,g,g,_=M?g:_);return I.placeholder=s.placeholder,I},F.debounce=wp,F.defaults=Pp,F.defaultsDeep=Bl,F.defer=Ru,F.delay=Od,F.difference=Jr,F.differenceBy=hp,F.differenceWith=yl,F.drop=function(s,d,_){var M=s==null?0:s.length;return M?lo(s,(d=_||d===g?1:Yt(d))<0?0:d,M):[]},F.dropRight=function(s,d,_){var M=s==null?0:s.length;return M?lo(s,0,(d=M-(d=_||d===g?1:Yt(d)))<0?0:d):[]},F.dropRightWhile=function(s,d){return s&&s.length?Mu(s,Et(d,3),!0,!0):[]},F.dropWhile=function(s,d){return s&&s.length?Mu(s,Et(d,3),!0):[]},F.fill=function(s,d,_,M){var I=s==null?0:s.length;return I?(_&&typeof _!="number"&&Or(s,d,_)&&(_=0,M=I),function(X,ie,fe,_e){var Re=X.length;for((fe=Yt(fe))<0&&(fe=-fe>Re?0:Re+fe),(_e=_e===g||_e>Re?Re:Yt(_e))<0&&(_e+=Re),_e=fe>_e?0:Il(_e);fe<_e;)X[fe++]=ie;return X}(s,d,_,M)):[]},F.filter=function(s,d){return(Gt(s)?gr:fn)(s,Et(d,3))},F.flatMap=function(s,d){return pr(Ji(s,d),1)},F.flatMapDeep=function(s,d){return pr(Ji(s,d),G)},F.flatMapDepth=function(s,d,_){return _=_===g?1:Yt(_),pr(Ji(s,d),_)},F.flatten=ml,F.flattenDeep=function(s){return s!=null&&s.length?pr(s,G):[]},F.flattenDepth=function(s,d){return s!=null&&s.length?pr(s,d=d===g?1:Yt(d)):[]},F.flip=function(s){return Wo(s,512)},F.flow=Vl,F.flowRight=Cp,F.fromPairs=function(s){for(var d=-1,_=s==null?0:s.length,M={};++d<_;){var I=s[d];M[I[0]]=I[1]}return M},F.functions=function(s){return s==null?[]:Os(s,rr(s))},F.functionsIn=function(s){return s==null?[]:Os(s,hr(s))},F.groupBy=bp,F.initial=function(s){return s!=null&&s.length?lo(s,0,-1):[]},F.intersection=dp,F.intersectionBy=_l,F.intersectionWith=Cu,F.invert=Mp,F.invertBy=Fl,F.invokeMap=Wt,F.iteratee=Hu,F.keyBy=_p,F.keys=rr,F.keysIn=hr,F.map=Ji,F.mapKeys=function(s,d){var _={};return d=Et(d,3),pt(s,function(M,I,X){zo(_,d(M,I,X),M)}),_},F.mapValues=function(s,d){var _={};return d=Et(d,3),pt(s,function(M,I,X){zo(_,I,d(M,I,X))}),_},F.matches=function(s){return Wf(Zr(s,1))},F.matchesProperty=function(s,d){return Gf(s,Zr(d,1))},F.memoize=Fa,F.merge=Ai,F.mergeWith=Gl,F.method=$l,F.methodOf=Ed,F.mixin=li,F.negate=Xs,F.nthArg=function(s){return s=Yt(s),qt(function(d){return Xf(d,s)})},F.omit=Ap,F.omitBy=function(s,d){return Vs(s,Xs(Et(d)))},F.once=function(s){return Al(2,s)},F.orderBy=function(s,d,_,M){return s==null?[]:(Gt(d)||(d=d==null?[]:[d]),Gt(_=M?g:_)||(_=_==null?[]:[_]),Hf(s,d,_))},F.over=Kl,F.overArgs=wd,F.overEvery=Ip,F.overSome=Yu,F.partial=Qi,F.partialRight=ii,F.partition=Pl,F.pick=Xl,F.pickBy=Vs,F.property=Ua,F.propertyOf=function(s){return function(d){return s==null?g:ni(s,d)}},F.pull=dd,F.pullAll=yp,F.pullAllBy=function(s,d,_){return s&&s.length&&d&&d.length?Vc(s,d,Et(_,2)):s},F.pullAllWith=function(s,d,_){return s&&s.length&&d&&d.length?Vc(s,d,g,_):s},F.pullAt=Ol,F.range=ql,F.rangeRight=Rp,F.rearg=kl,F.reject=function(s,d){return(Gt(s)?gr:fn)(s,Xs(Et(d,3)))},F.remove=function(s,d){var _=[];if(!s||!s.length)return _;var M=-1,I=[],X=s.length;for(d=Et(d,3);++M<X;){var ie=s[M];d(ie,M,s)&&(_.push(ie),I.push(M))}return Na(s,I),_},F.rest=function(s,d){if(typeof s!="function")throw new K(E);return qt(s,d=d===g?d:Yt(d))},F.reverse=Gs,F.sampleSize=function(s,d,_){return d=(_?Or(s,d,_):d===g)?1:Yt(d),(Gt(s)?Cf:Kc)(s,d)},F.set=function(s,d,_){return s==null?s:Da(s,d,_)},F.setWith=function(s,d,_,M){return M=typeof M=="function"?M:g,s==null?s:Da(s,d,_,M)},F.shuffle=function(s){return(Gt(s)?If:pd)(s)},F.slice=function(s,d,_){var M=s==null?0:s.length;return M?(_&&typeof _!="number"&&Or(s,d,_)?(d=0,_=M):(d=d==null?0:Yt(d),_=_===g?M:Yt(_)),lo(s,d,_)):[]},F.sortBy=_d,F.sortedUniq=function(s){return s&&s.length?Vf(s):[]},F.sortedUniqBy=function(s,d){return s&&s.length?Vf(s,Et(d,2)):[]},F.split=function(s,d,_){return _&&typeof _!="number"&&Or(s,d,_)&&(d=_=g),(_=_===g?ue:_>>>0)?(s=pn(s))&&(typeof d=="string"||d!=null&&!Cl(d))&&!(d=Rr(d))&&bo(s)?Si(Ir(s),0,_):s.split(d,_):[]},F.spread=function(s,d){if(typeof s!="function")throw new K(E);return d=d==null?0:sr(Yt(d),0),qt(function(_){var M=_[d],I=Si(_,0,d);return M&&er(I,M),mn(s,this,I)})},F.tail=function(s){var d=s==null?0:s.length;return d?lo(s,1,d):[]},F.take=function(s,d,_){return s&&s.length?lo(s,0,(d=_||d===g?1:Yt(d))<0?0:d):[]},F.takeRight=function(s,d,_){var M=s==null?0:s.length;return M?lo(s,(d=M-(d=_||d===g?1:Yt(d)))<0?0:d,M):[]},F.takeRightWhile=function(s,d){return s&&s.length?Mu(s,Et(d,3),!1,!0):[]},F.takeWhile=function(s,d){return s&&s.length?Mu(s,Et(d,3)):[]},F.tap=function(s,d){return d(s),s},F.throttle=function(s,d,_){var M=!0,I=!0;if(typeof s!="function")throw new K(E);return In(_)&&(M="leading"in _?!!_.leading:M,I="trailing"in _?!!_.trailing:I),wp(s,d,{leading:M,maxWait:d,trailing:I})},F.thru=Ba,F.toArray=Xa,F.toPairs=Tp,F.toPairsIn=Hl,F.toPath=function(s){return Gt(s)?rn(s,tr):vr(s)?[s]:Lr(fp(pn(s)))},F.toPlainObject=Rl,F.transform=function(s,d,_){var M=Gt(s),I=M||ai(s)||Mi(s);if(d=Et(d,4),_==null){var X=s&&s.constructor;_=I?M?new X:[]:In(s)&&ui(X)?Pa(Jo(s)):{}}return(I?Er:pt)(s,function(ie,fe,_e){return d(_,ie,fe,_e)}),_},F.unary=function(s){return Ml(s,1)},F.union=Br,F.unionBy=nr,F.unionWith=yd,F.uniq=function(s){return s&&s.length?xi(s):[]},F.uniqBy=function(s,d){return s&&s.length?xi(s,Et(d,2)):[]},F.uniqWith=function(s,d){return d=typeof d=="function"?d:g,s&&s.length?xi(s,g,d):[]},F.unset=function(s,d){return s==null||Ps(s,d)},F.unzip=Fr,F.unzipWith=Pt,F.update=function(s,d,_){return s==null?s:$f(s,d,Qc(_))},F.updateWith=function(s,d,_,M){return M=typeof M=="function"?M:g,s==null?s:$f(s,d,Qc(_),M)},F.values=Ti,F.valuesIn=function(s){return s==null?[]:_a(s,hr(s))},F.without=wl,F.words=xo,F.wrap=function(s,d){return Qi(Qc(d),s)},F.xor=xl,F.xorBy=El,F.xorWith=vp,F.zip=gp,F.zipObject=function(s,d){return qf(s||[],d||[],Ma)},F.zipObjectDeep=function(s,d){return qf(s||[],d||[],Da)},F.zipWith=vd,F.entries=Tp,F.entriesIn=Hl,F.extend=Ll,F.extendWith=ci,li(F,F),F.add=Zs,F.attempt=Dp,F.camelCase=$s,F.capitalize=Gu,F.ceil=Zl,F.clamp=function(s,d,_){return _===g&&(_=d,d=g),_!==g&&(_=(_=kr(_))==_?_:0),d!==g&&(d=(d=kr(d))==d?d:0),wi(kr(s),d,_)},F.clone=function(s){return Zr(s,4)},F.cloneDeep=function(s){return Zr(s,5)},F.cloneDeepWith=function(s,d){return Zr(s,5,d=typeof d=="function"?d:g)},F.cloneWith=function(s,d){return Zr(s,4,d=typeof d=="function"?d:g)},F.conformsTo=function(s,d){return d==null||Gc(s,d,rr(d))},F.deburr=Ks,F.defaultTo=function(s,d){return s==null||s!=s?d:s},F.divide=Jl,F.endsWith=function(s,d,_){s=pn(s),d=Rr(d);var M=s.length,I=_=_===g?M:wi(Yt(_),0,M);return(_-=d.length)>=0&&s.slice(_,I)==d},F.eq=Nn,F.escape=function(s){return(s=pn(s))&&st.test(s)?s.replace(vt,Kn):s},F.escapeRegExp=function(s){return(s=pn(s))&&jn.test(s)?s.replace(yn,"\\$&"):s},F.every=function(s,d,_){var M=Gt(s)?fs:zf;return _&&Or(s,d,_)&&(d=g),M(s,Et(d,3))},F.find=md,F.findIndex=vl,F.findKey=function(s,d){return go(s,Et(d,3),pt)},F.findLast=bd,F.findLastIndex=gl,F.findLastKey=function(s,d){return go(s,Et(d,3),wn)},F.floor=Lp,F.forEach=jl,F.forEachRight=Zi,F.forIn=function(s,d){return s==null?s:Kt(s,Et(d,3),hr)},F.forInRight=function(s,d){return s==null?s:qn(s,Et(d,3),hr)},F.forOwn=function(s,d){return s&&pt(s,Et(d,3))},F.forOwnRight=function(s,d){return s&&wn(s,Et(d,3))},F.get=Fu,F.gt=Hs,F.gte=Lu,F.has=function(s,d){return s!=null&&ul(s,d,Bf)},F.hasIn=Wu,F.head=bl,F.identity=wr,F.includes=function(s,d,_,M){s=Tr(s)?s:Ti(s),_=_&&!M?Yt(_):0;var I=s.length;return _<0&&(_=sr(I+_,0)),zu(s)?_<=I&&s.indexOf(d,_)>-1:!!I&&mi(s,d,_)>-1},F.indexOf=function(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var I=_==null?0:Yt(_);return I<0&&(I=sr(M+I,0)),mi(s,d,I)},F.inRange=function(s,d,_){return d=Xo(d),_===g?(_=d,d=0):_=Xo(_),function(M,I,X){return M>=_r(I,X)&&M<sr(I,X)}(s=kr(s),d,_)},F.invoke=Wl,F.isArguments=ea,F.isArray=Gt,F.isArrayBuffer=xp,F.isArrayLike=Tr,F.isArrayLikeObject=Un,F.isBoolean=function(s){return s===!0||s===!1||Rn(s)&&xn(s)==V},F.isBuffer=ai,F.isDate=Us,F.isElement=function(s){return Rn(s)&&s.nodeType===1&&!si(s)},F.isEmpty=function(s){if(s==null)return!0;if(Tr(s)&&(Gt(s)||typeof s=="string"||typeof s.splice=="function"||ai(s)||Mi(s)||ea(s)))return!s.length;var d=yr(s);if(d==ce||d==je)return!s.size;if(La(s))return!ri(s).length;for(var _ in s)if(tt.call(s,_))return!1;return!0},F.isEqual=function(s,d){return Ta(s,d)},F.isEqualWith=function(s,d,_){var M=(_=typeof _=="function"?_:g)?_(s,d):g;return M===g?Ta(s,d,g,_):!!M},F.isError=Nl,F.isFinite=function(s){return typeof s=="number"&&Af(s)},F.isFunction=ui,F.isInteger=Ys,F.isLength=ta,F.isMap=Ep,F.isMatch=function(s,d){return s===d||xs(s,d,Rs(d))},F.isMatchWith=function(s,d,_){return _=typeof _=="function"?_:g,xs(s,d,Rs(d),_)},F.isNaN=function(s){return Dl(s)&&s!=+s},F.isNative=function(s){if(cp(s))throw new Zt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ka(s)},F.isNil=function(s){return s==null},F.isNull=function(s){return s===null},F.isNumber=Dl,F.isObject=In,F.isObjectLike=Rn,F.isPlainObject=si,F.isRegExp=Cl,F.isSafeInteger=function(s){return Ys(s)&&s>=-9007199254740991&&s<=H},F.isSet=Wa,F.isString=zu,F.isSymbol=vr,F.isTypedArray=Mi,F.isUndefined=function(s){return s===g},F.isWeakMap=function(s){return Rn(s)&&yr(s)==Te},F.isWeakSet=function(s){return Rn(s)&&xn(s)=="[object WeakSet]"},F.join=function(s,d){return s==null?"":od.call(s,d)},F.kebabCase=Ul,F.last=Sn,F.lastIndexOf=function(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var I=M;return _!==g&&(I=(I=Yt(_))<0?sr(M+I,0):_r(I,M-1)),d==d?function(X,ie,fe){for(var _e=fe+1;_e--;)if(X[_e]===ie)return _e;return _e}(s,d,I):ko(s,No,I,!0)},F.lowerCase=kp,F.lowerFirst=Yl,F.lt=Ga,F.lte=Bu,F.max=function(s){return s&&s.length?Hn(s,wr,Bn):g},F.maxBy=function(s,d){return s&&s.length?Hn(s,Et(d,2),Bn):g},F.mean=function(s){return en(s,wr)},F.meanBy=function(s,d){return en(s,Et(d,2))},F.min=function(s){return s&&s.length?Hn(s,wr,oi):g},F.minBy=function(s,d){return s&&s.length?Hn(s,Et(d,2),oi):g},F.stubArray=qs,F.stubFalse=or,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Ql,F.nth=function(s,d){return s&&s.length?Xf(s,Yt(d)):g},F.noConflict=function(){return zn._===this&&(zn._=Mn),this},F.noop=Uu,F.now=Iu,F.pad=function(s,d,_){s=pn(s);var M=(d=Yt(d))?_o(s):0;if(!d||M>=d)return s;var I=(d-M)/2;return Ns(xa(I),_)+s+Ns(hs(I),_)},F.padEnd=function(s,d,_){s=pn(s);var M=(d=Yt(d))?_o(s):0;return d&&M<d?s+Ns(d-M,_):s},F.padStart=function(s,d,_){s=pn(s);var M=(d=Yt(d))?_o(s):0;return d&&M<d?Ns(d-M,_)+s:s},F.parseInt=function(s,d,_){return _||d==null?d=0:d&&(d=+d),ys(pn(s).replace(Ct,""),d||0)},F.random=function(s,d,_){if(_&&typeof _!="boolean"&&Or(s,d,_)&&(d=_=g),_===g&&(typeof d=="boolean"?(_=d,d=g):typeof s=="boolean"&&(_=s,s=g)),s===g&&d===g?(s=0,d=1):(s=Xo(s),d===g?(d=s,s=0):d=Xo(d)),s>d){var M=s;s=d,d=M}if(_||s%1||d%1){var I=vs();return _r(s+I*(d-s+vi("1e-"+((I+"").length-1))),d)}return $c(s,d)},F.reduce=function(s,d,_){var M=Gt(s)?ga:ur,I=arguments.length<3;return M(s,Et(d,4),_,I,An)},F.reduceRight=function(s,d,_){var M=Gt(s)?ps:ur,I=arguments.length<3;return M(s,Et(d,4),_,I,Lf)},F.repeat=function(s,d,_){return d=(_?Or(s,d,_):d===g)?1:Yt(d),Ss(pn(s),d)},F.replace=function(){var s=arguments,d=pn(s[0]);return s.length<3?d:d.replace(s[1],s[2])},F.result=function(s,d,_){var M=-1,I=(d=Ei(d,s)).length;for(I||(I=1,s=g);++M<I;){var X=s==null?g:s[tr(d[M])];X===g&&(M=I,X=_),s=ui(X)?X.call(s):X}return s},F.round=Qs,F.runInContext=we,F.sample=function(s){return(Gt(s)?Fc:ld)(s)},F.size=function(s){if(s==null)return 0;if(Tr(s))return zu(s)?_o(s):s.length;var d=yr(s);return d==ce||d==je?s.size:ri(s).length},F.snakeCase=Np,F.some=function(s,d,_){var M=Gt(s)?mu:qc;return _&&Or(s,d,_)&&(d=g),M(s,Et(d,3))},F.sortedIndex=function(s,d){return js(s,d)},F.sortedIndexBy=function(s,d,_){return Zc(s,d,Et(_,2))},F.sortedIndexOf=function(s,d){var _=s==null?0:s.length;if(_){var M=js(s,d);if(M<_&&Nn(s[M],d))return M}return-1},F.sortedLastIndex=function(s,d){return js(s,d,!0)},F.sortedLastIndexBy=function(s,d,_){return Zc(s,d,Et(_,2),!0)},F.sortedLastIndexOf=function(s,d){if(s!=null&&s.length){var _=js(s,d,!0)-1;if(Nn(s[_],d))return _}return-1},F.startCase=Ha,F.startsWith=function(s,d,_){return s=pn(s),_=_==null?0:wi(Yt(_),0,s.length),d=Rr(d),s.slice(_,_+d.length)==d},F.subtract=zp,F.sum=function(s){return s&&s.length?ba(s,wr):0},F.sumBy=function(s,d){return s&&s.length?ba(s,Et(d,2)):0},F.template=function(s,d,_){var M=F.templateSettings;_&&Or(s,d,_)&&(d=g),s=pn(s),d=ci({},d,M,ip);var I,X,ie=ci({},d.imports,M.imports,ip),fe=rr(ie),_e=_a(ie,fe),Re=0,Ne=d.interpolate||St,te="__p += '",lt=A((d.escape||St).source+"|"+Ne.source+"|"+(Ne===Lt?ft:St).source+"|"+(d.evaluate||St).source+"|$","g"),dt="//# sourceURL="+(tt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++is+"]")+`
`;s.replace(lt,function(Ue,Nt,ut,Dt,Rt,Jt){return ut||(ut=Dt),te+=s.slice(Re,Jt).replace(It,bi),Nt&&(I=!0,te+=`' +
__e(`+Nt+`) +
'`),Rt&&(X=!0,te+=`';
`+Rt+`;
__p += '`),ut&&(te+=`' +
((__t = (`+ut+`)) == null ? '' : __t) +
'`),Re=Jt+Ue.length,Ue}),te+=`';
`;var Mt=tt.call(d,"variable")&&d.variable;if(Mt){if($e.test(Mt))throw new Zt("Invalid `variable` option passed into `_.template`")}else te=`with (obj) {
`+te+`
}
`;te=(X?te.replace(ze,""):te).replace(xt,"$1").replace(kt,"$1;"),te="function("+(Mt||"obj")+`) {
`+(Mt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+te+`return __p
}`;var Be=Dp(function(){return On(fe,dt+"return "+te).apply(g,_e)});if(Be.source=te,Nl(Be))throw Be;return Be},F.times=function(s,d){if((s=Yt(s))<1||s>H)return[];var _=ue,M=_r(s,ue);d=Et(d),s-=ue;for(var I=Hi(M,d);++_<s;)d(_);return I},F.toFinite=Xo,F.toInteger=Yt,F.toLength=Il,F.toLower=function(s){return pn(s).toLowerCase()},F.toNumber=kr,F.toSafeInteger=function(s){return s?wi(Yt(s),-9007199254740991,H):s===0?s:0},F.toString=pn,F.toUpper=function(s){return pn(s).toUpperCase()},F.trim=function(s,d,_){if((s=pn(s))&&(_||d===g))return bu(s);if(!s||!(d=Rr(d)))return s;var M=Ir(s),I=Ir(d);return Si(M,$r(M,I),_u(M,I)+1).join("")},F.trimEnd=function(s,d,_){if((s=pn(s))&&(_||d===g))return s.slice(0,Mr(s)+1);if(!s||!(d=Rr(d)))return s;var M=Ir(s);return Si(M,0,_u(M,Ir(d))+1).join("")},F.trimStart=function(s,d,_){if((s=pn(s))&&(_||d===g))return s.replace(Ct,"");if(!s||!(d=Rr(d)))return s;var M=Ir(s);return Si(M,$r(M,Ir(d))).join("")},F.truncate=function(s,d){var _=30,M="...";if(In(d)){var I="separator"in d?d.separator:I;_="length"in d?Yt(d.length):_,M="omission"in d?Rr(d.omission):M}var X=(s=pn(s)).length;if(bo(s)){var ie=Ir(s);X=ie.length}if(_>=X)return s;var fe=_-_o(M);if(fe<1)return M;var _e=ie?Si(ie,0,fe).join(""):s.slice(0,fe);if(I===g)return _e+M;if(ie&&(fe+=_e.length-fe),Cl(I)){if(s.slice(fe).search(I)){var Re,Ne=_e;for(I.global||(I=A(I.source,pn(Ut.exec(I))+"g")),I.lastIndex=0;Re=I.exec(Ne);)var te=Re.index;_e=_e.slice(0,te===g?fe:te)}}else if(s.indexOf(Rr(I),fe)!=fe){var lt=_e.lastIndexOf(I);lt>-1&&(_e=_e.slice(0,lt))}return _e+M},F.unescape=function(s){return(s=pn(s))&&ke.test(s)?s.replace(jt,Kr):s},F.uniqueId=function(s){var d=++vn;return pn(s)+d},F.upperCase=xd,F.upperFirst=Yn,F.each=jl,F.eachRight=Zi,F.first=bl,li(F,(Js={},pt(F,function(s,d){tt.call(F.prototype,d)||(Js[d]=s)}),Js),{chain:!1}),F.VERSION="4.17.21",Er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){F[s].placeholder=F}),Er(["drop","take"],function(s,d){nn.prototype[s]=function(_){_=_===g?1:sr(Yt(_),0);var M=this.__filtered__&&!d?new nn(this):this.clone();return M.__filtered__?M.__takeCount__=_r(_,M.__takeCount__):M.__views__.push({size:_r(_,ue),type:s+(M.__dir__<0?"Right":"")}),M},nn.prototype[s+"Right"]=function(_){return this.reverse()[s](_).reverse()}}),Er(["filter","map","takeWhile"],function(s,d){var _=d+1,M=_==1||_==3;nn.prototype[s]=function(I){var X=this.clone();return X.__iteratees__.push({iteratee:Et(I,3),type:_}),X.__filtered__=X.__filtered__||M,X}}),Er(["head","last"],function(s,d){var _="take"+(d?"Right":"");nn.prototype[s]=function(){return this[_](1).value()[0]}}),Er(["initial","tail"],function(s,d){var _="drop"+(d?"":"Right");nn.prototype[s]=function(){return this.__filtered__?new nn(this):this[_](1)}}),nn.prototype.compact=function(){return this.filter(wr)},nn.prototype.find=function(s){return this.filter(s).head()},nn.prototype.findLast=function(s){return this.reverse().find(s)},nn.prototype.invokeMap=qt(function(s,d){return typeof s=="function"?new nn(this):this.map(function(_){return Aa(_,s,d)})}),nn.prototype.reject=function(s){return this.filter(Xs(Et(s)))},nn.prototype.slice=function(s,d){s=Yt(s);var _=this;return _.__filtered__&&(s>0||d<0)?new nn(_):(s<0?_=_.takeRight(-s):s&&(_=_.drop(s)),d!==g&&(_=(d=Yt(d))<0?_.dropRight(-d):_.take(d-s)),_)},nn.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},nn.prototype.toArray=function(){return this.take(ue)},pt(nn.prototype,function(s,d){var _=/^(?:filter|find|map|reject)|While$/.test(d),M=/^(?:head|last)$/.test(d),I=F[M?"take"+(d=="last"?"Right":""):d],X=M||/^find/.test(d);I&&(F.prototype[d]=function(){var ie=this.__wrapped__,fe=M?[1]:arguments,_e=ie instanceof nn,Re=fe[0],Ne=_e||Gt(ie),te=function(Nt){var ut=I.apply(F,er([Nt],fe));return M&&lt?ut[0]:ut};Ne&&_&&typeof Re=="function"&&Re.length!=1&&(_e=Ne=!1);var lt=this.__chain__,dt=!!this.__actions__.length,Mt=X&&!lt,Be=_e&&!dt;if(!X&&Ne){ie=Be?ie:new nn(this);var Ue=s.apply(ie,fe);return Ue.__actions__.push({func:Ba,args:[te],thisArg:g}),new uo(Ue,lt)}return Mt&&Be?s.apply(this,fe):(Ue=this.thru(te),Mt?M?Ue.value()[0]:Ue.value():Ue)})}),Er(["pop","push","shift","sort","splice","unshift"],function(s){var d=he[s],_=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",M=/^(?:pop|shift)$/.test(s);F.prototype[s]=function(){var I=arguments;if(M&&!this.__chain__){var X=this.value();return d.apply(Gt(X)?X:[],I)}return this[_](function(ie){return d.apply(Gt(ie)?ie:[],I)})}}),pt(nn.prototype,function(s,d){var _=F[d];if(_){var M=_.name+"";tt.call(ja,M)||(ja[M]=[]),ja[M].push({name:d,func:_})}}),ja[Tu(g,2).name]=[{name:"wrapper",func:g}],nn.prototype.clone=function(){var s=new nn(this.__wrapped__);return s.__actions__=Lr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Lr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Lr(this.__views__),s},nn.prototype.reverse=function(){if(this.__filtered__){var s=new nn(this);s.__dir__=-1,s.__filtered__=!0}else(s=this.clone()).__dir__*=-1;return s},nn.prototype.value=function(){var s=this.__wrapped__.value(),d=this.__dir__,_=Gt(s),M=d<0,I=_?s.length:0,X=function(Jt,_t,At){for(var Fn=-1,Wr=At.length;++Fn<Wr;){var Eo=At[Fn],Wn=Eo.size;switch(Eo.type){case"drop":Jt+=Wn;break;case"dropRight":_t-=Wn;break;case"take":_t=_r(_t,Jt+Wn);break;case"takeRight":Jt=sr(Jt,_t-Wn)}}return{start:Jt,end:_t}}(0,I,this.__views__),ie=X.start,fe=X.end,_e=fe-ie,Re=M?fe:ie-1,Ne=this.__iteratees__,te=Ne.length,lt=0,dt=_r(_e,this.__takeCount__);if(!_||!M&&I==_e&&dt==_e)return Kf(s,this.__actions__);var Mt=[];e:for(;_e--&&lt<dt;){for(var Be=-1,Ue=s[Re+=d];++Be<te;){var Nt=Ne[Be],ut=Nt.iteratee,Dt=Nt.type,Rt=ut(Ue);if(Dt==2)Ue=Rt;else if(!Rt){if(Dt==1)continue e;break e}}Mt[lt++]=Ue}return Mt},F.prototype.at=gd,F.prototype.chain=function(){return mp(this)},F.prototype.commit=function(){return new uo(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===g&&(this.__values__=Xa(this.value()));var s=this.__index__>=this.__values__.length;return{done:s,value:s?g:this.__values__[this.__index__++]}},F.prototype.plant=function(s){for(var d,_=this;_ instanceof ju;){var M=pp(_);M.__index__=0,M.__values__=g,d?I.__wrapped__=M:d=M;var I=M;_=_.__wrapped__}return I.__wrapped__=s,d},F.prototype.reverse=function(){var s=this.__wrapped__;if(s instanceof nn){var d=s;return this.__actions__.length&&(d=new nn(this)),(d=d.reverse()).__actions__.push({func:Ba,args:[Gs],thisArg:g}),new uo(d,this.__chain__)}return this.thru(Gs)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return Kf(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,Qo&&(F.prototype[Qo]=function(){return this}),F}();zn._=Oo,(m=(function(){return Oo}).call(l,o,l,p))===g||(p.exports=m)}).call(this)}).call(this,o(68),o(220)(a))},function(a,l,o){var f=o(7),p=o(34),m=o(33),g=o(87),E=o(61),j=o(174),S=o(28),k=f.TypeError,T=S("toPrimitive");a.exports=function(C,N){if(!m(C)||g(C))return C;var R,G=E(C,T);if(G){if(N===void 0&&(N="default"),R=p(G,C,N),!m(R)||g(R))return R;throw k("Can't convert object to primitive value")}return N===void 0&&(N="number"),j(C,N)}},function(a,l,o){var f=o(108);a.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(a,l,o){var f=o(36),p=o(18),m=o(91);a.exports=!f&&!p(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(a,l,o){var f=o(35),p=o(135),m=o(50),g=o(38);a.exports=function(E,j){for(var S=p(j),k=g.f,T=m.f,C=0;C<S.length;C++){var N=S[C];f(E,N)||k(E,N,T(j,N))}}},function(a,l,o){var f=o(46),p=o(15),m=o(74),g=o(112),E=o(32),j=p([].concat);a.exports=f("Reflect","ownKeys")||function(S){var k=m.f(E(S)),T=g.f;return T?j(k,T(S)):k}},function(a,l,o){var f=o(15),p=o(35),m=o(41),g=o(137).indexOf,E=o(72),j=f([].push);a.exports=function(S,k){var T,C=m(S),N=0,R=[];for(T in C)!p(E,T)&&p(C,T)&&j(R,T);for(;k.length>N;)p(C,T=k[N++])&&(~g(R,T)||j(R,T));return R}},function(a,l,o){var f=o(41),p=o(75),m=o(45),g=function(E){return function(j,S,k){var T,C=f(j),N=m(C),R=p(k,N);if(E&&S!=S){for(;N>R;)if((T=C[R++])!=T)return!0}else for(;N>R;R++)if((E||R in C)&&C[R]===S)return E||R||0;return!E&&-1}};a.exports={includes:g(!0),indexOf:g(!1)}},function(a,l,o){var f=o(46);a.exports=f("document","documentElement")},function(a,l,o){var f=o(51),p=o(41),m=o(74).f,g=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(j){return E&&f(j)=="Window"?function(S){try{return m(S)}catch{return g(E)}}(j):m(p(j))}},function(a,l,o){var f=o(28);l.f=f},function(a,l,o){var f=o(177),p=o(35),m=o(140),g=o(38).f;a.exports=function(E){var j=f.Symbol||(f.Symbol={});p(j,E)||g(j,E,{value:m.f(E)})}},function(a,l,o){var f,p,m,g=o(18),E=o(30),j=o(60),S=o(101),k=o(42),T=o(28),C=o(71),N=T("iterator"),R=!1;[].keys&&("next"in(m=[].keys())?(p=S(S(m)))!==Object.prototype&&(f=p):R=!0),f==null||g(function(){var G={};return f[N].call(G)!==G})?f={}:C&&(f=j(f)),E(f[N])||k(f,N,function(){return this}),a.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:R}},function(a,l,o){var f=o(18);a.exports=!f(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},function(a,l,o){var f=o(16),p=o(15),m=o(72),g=o(33),E=o(35),j=o(38).f,S=o(74),k=o(139),T=o(183),C=o(90),N=o(185),R=!1,G=C("meta"),H=0,Q=function(re){j(re,G,{value:{objectID:"O"+H++,weakData:{}}})},ue=a.exports={enable:function(){ue.enable=function(){},R=!0;var re=S.f,ee=p([].splice),ne={};ne[G]=1,re(ne).length&&(S.f=function(V){for(var B=re(V),Y=0,$=B.length;Y<$;Y++)if(B[Y]===G){ee(B,Y,1);break}return B},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(re,ee){if(!g(re))return typeof re=="symbol"?re:(typeof re=="string"?"S":"P")+re;if(!E(re,G)){if(!T(re))return"F";if(!ee)return"E";Q(re)}return re[G].objectID},getWeakData:function(re,ee){if(!E(re,G)){if(!T(re))return!0;if(!ee)return!1;Q(re)}return re[G].weakData},onFreeze:function(re){return N&&R&&T(re)&&!E(re,G)&&Q(re),re}};m[G]=!0},function(a,l,o){var f=o(28),p=o(80),m=f("iterator"),g=Array.prototype;a.exports=function(E){return E!==void 0&&(p.Array===E||g[m]===E)}},function(a,l,o){var f=o(7),p=o(34),m=o(56),g=o(32),E=o(88),j=o(118),S=f.TypeError;a.exports=function(k,T){var C=arguments.length<2?j(k):T;if(m(C))return g(p(C,k));throw S(E(k)+" is not iterable")}},function(a,l,o){var f=o(34),p=o(32),m=o(61);a.exports=function(g,E,j){var S,k;p(g);try{if(!(S=m(g,"return"))){if(E==="throw")throw j;return j}S=f(S,g)}catch(T){k=!0,S=T}if(E==="throw")throw j;if(k)throw S;return p(S),j}},function(a,l,o){var f=o(30),p=o(33),m=o(102);a.exports=function(g,E,j){var S,k;return m&&f(S=E.constructor)&&S!==j&&p(k=S.prototype)&&k!==j.prototype&&m(g,k),g}},function(a,l,o){var f=o(42);a.exports=function(p,m,g){for(var E in m)f(p,E,m[E],g);return p}},function(a,l,o){var f=o(46),p=o(38),m=o(28),g=o(36),E=m("species");a.exports=function(j){var S=f(j),k=p.f;g&&S&&!S[E]&&k(S,E,{configurable:!0,get:function(){return this}})}},function(a,l,o){var f=o(15),p=o(59),m=o(39),g=o(44),E=f("".charAt),j=f("".charCodeAt),S=f("".slice),k=function(T){return function(C,N){var R,G,H=m(g(C)),Q=p(N),ue=H.length;return Q<0||Q>=ue?T?"":void 0:(R=j(H,Q))<55296||R>56319||Q+1===ue||(G=j(H,Q+1))<56320||G>57343?T?E(H,Q):R:T?S(H,Q,Q+2):G-56320+(R-55296<<10)+65536}};a.exports={codeAt:k(!1),charAt:k(!0)}},function(a,l){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(a,l,o){var f=o(91)("span").classList,p=f&&f.constructor&&f.constructor.prototype;a.exports=p===Object.prototype?void 0:p},function(a,l,o){var f=o(32);a.exports=function(){var p=f(this),m="";return p.global&&(m+="g"),p.ignoreCase&&(m+="i"),p.multiline&&(m+="m"),p.dotAll&&(m+="s"),p.unicode&&(m+="u"),p.sticky&&(m+="y"),m}},function(a,l,o){var f=o(18),p=o(7).RegExp,m=f(function(){var j=p("a","y");return j.lastIndex=2,j.exec("abcd")!=null}),g=m||f(function(){return!p("a","y").sticky}),E=m||f(function(){var j=p("^r","gy");return j.lastIndex=2,j.exec("str")!=null});a.exports={BROKEN_CARET:E,MISSED_STICKY:g,UNSUPPORTED_Y:m}},function(a,l,o){var f=o(16),p=o(79).find,m=o(100),g="find",E=!0;g in[]&&Array(1).find(function(){E=!1}),f({target:"Array",proto:!0,forced:E},{find:function(j){return p(this,j,arguments.length>1?arguments[1]:void 0)}}),m(g)},function(a,l,o){var f=o(16),p=o(137).includes,m=o(100);f({target:"Array",proto:!0},{includes:function(g){return p(this,g,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(a,l,o){var f=o(16),p=o(15),m=o(197),g=o(44),E=o(39),j=o(198),S=p("".indexOf);f({target:"String",proto:!0,forced:!j("includes")},{includes:function(k){return!!~S(E(g(this)),E(m(k)),arguments.length>1?arguments[1]:void 0)}})},function(a,l,o){var f=o(33),p=o(51),m=o(28)("match");a.exports=function(g){var E;return f(g)&&((E=g[m])!==void 0?!!E:p(g)=="RegExp")}},function(a,l,o){var f=o(15);a.exports=f(1 .valueOf)},function(a,l,o){var f=o(15),p=o(44),m=o(39),g=o(162),E=f("".replace),j="["+g+"]",S=RegExp("^"+j+j+"*"),k=RegExp(j+j+"*$"),T=function(C){return function(N){var R=m(p(N));return 1&C&&(R=E(R,S,"")),2&C&&(R=E(R,k,"")),R}};a.exports={start:T(1),end:T(2),trim:T(3)}},function(a,l){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(a,l){var o,f,p=a.exports={};function m(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function E(H){if(o===setTimeout)return setTimeout(H,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(H,0);try{return o(H,0)}catch{try{return o.call(null,H,0)}catch{return o.call(this,H,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch{o=m}try{f=typeof clearTimeout=="function"?clearTimeout:g}catch{f=g}})();var j,S=[],k=!1,T=-1;function C(){k&&j&&(k=!1,j.length?S=j.concat(S):T=-1,S.length&&N())}function N(){if(!k){var H=E(C);k=!0;for(var Q=S.length;Q;){for(j=S,S=[];++T<Q;)j&&j[T].run();T=-1,Q=S.length}j=null,k=!1,function(ue){if(f===clearTimeout)return clearTimeout(ue);if((f===g||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(ue);try{f(ue)}catch{try{return f.call(null,ue)}catch{return f.call(this,ue)}}}(H)}}function R(H,Q){this.fun=H,this.array=Q}function G(){}p.nextTick=function(H){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)Q[ue-1]=arguments[ue];S.push(new R(H,Q)),S.length!==1||k||E(N)},R.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=G,p.addListener=G,p.once=G,p.off=G,p.removeListener=G,p.removeAllListeners=G,p.emit=G,p.prependListener=G,p.prependOnceListener=G,p.listeners=function(H){return[]},p.binding=function(H){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(H){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(a,l,o){var f=o(32),p=o(165),m=o(28)("species");a.exports=function(g,E){var j,S=f(g).constructor;return S===void 0||(j=f(S)[m])==null?E:p(j)}},function(a,l,o){var f=o(7),p=o(99),m=o(88),g=f.TypeError;a.exports=function(E){if(p(E))return E;throw g(m(E)+" is not a constructor")}},function(a,l,o){var f=o(16),p=o(161).trim;f({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return p(this)}})},function(a,l,o){var f=o(34),p=o(123),m=o(32),g=o(94),E=o(39),j=o(44),S=o(61),k=o(124),T=o(125);p("match",function(C,N,R){return[function(G){var H=j(this),Q=G==null?void 0:S(G,C);return Q?f(Q,G,H):new RegExp(G)[C](E(H))},function(G){var H=m(this),Q=E(G),ue=R(N,H,Q);if(ue.done)return ue.value;if(!H.global)return T(H,Q);var re=H.unicode;H.lastIndex=0;for(var ee,ne=[],V=0;(ee=T(H,Q))!==null;){var B=E(ee[0]);ne[V]=B,B===""&&(H.lastIndex=k(Q,g(H.lastIndex),re)),V++}return V===0?null:ne}]})},function(a,l,o){var f,p,m,g,E=o(7),j=o(76),S=o(63),k=o(30),T=o(35),C=o(18),N=o(138),R=o(98),G=o(91),H=o(169),Q=o(128),ue=E.setImmediate,re=E.clearImmediate,ee=E.process,ne=E.Dispatch,V=E.Function,B=E.MessageChannel,Y=E.String,$=0,q={},ce="onreadystatechange";try{f=E.location}catch{}var Se=function(je){if(T(q,je)){var ge=q[je];delete q[je],ge()}},Oe=function(je){return function(){Se(je)}},Ae=function(je){Se(je.data)},We=function(je){E.postMessage(Y(je),f.protocol+"//"+f.host)};ue&&re||(ue=function(je){var ge=R(arguments,1);return q[++$]=function(){j(k(je)?je:V(je),void 0,ge)},p($),$},re=function(je){delete q[je]},Q?p=function(je){ee.nextTick(Oe(je))}:ne&&ne.now?p=function(je){ne.now(Oe(je))}:B&&!H?(g=(m=new B).port2,m.port1.onmessage=Ae,p=S(g.postMessage,g)):E.addEventListener&&k(E.postMessage)&&!E.importScripts&&f&&f.protocol!=="file:"&&!C(We)?(p=We,E.addEventListener("message",Ae,!1)):p=ce in G("script")?function(je){N.appendChild(G("script")).onreadystatechange=function(){N.removeChild(this),Se(je)}}:function(je){setTimeout(Oe(je),0)}),a.exports={set:ue,clear:re}},function(a,l,o){var f=o(55);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(a,l,o){var f=o(56),p=function(m){var g,E;this.promise=new m(function(j,S){if(g!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");g=j,E=S}),this.resolve=f(g),this.reject=f(E)};a.exports.f=function(m){return new p(m)}},function(a,l,o){l.a=function(){return!1}},function(a,l,o){(function(f){o.d(l,"a",function(){return ee});var p=o(1);function m(B){throw new Error("[mobx-utils] "+B)}function g(B,Y){Y===void 0&&(Y="Illegal state"),B||m(Y)}var E=function(B){return B&&B!==Object.prototype&&Object.getOwnPropertyNames(B).concat(E(Object.getPrototypeOf(B))||[])},j=function(B){return function(Y){var $=E(Y);return $.filter(function(q,ce){return $.indexOf(q)===ce})}(B).filter(function(Y){return Y!=="constructor"&&!~Y.indexOf("__")})},S="pending",k="fulfilled",T="rejected";function C(B){switch(this.state){case S:return B.pending&&B.pending(this.value);case T:return B.rejected&&B.rejected(this.value);case k:return B.fulfilled?B.fulfilled(this.value):this.value}}function N(B,Y){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof B=="function"||typeof B=="object"&&B&&typeof B.then=="function","Please pass a promise or function to fromPromise"),B.isPromiseBasedObservable===!0)return B;typeof B=="function"&&(B=new Promise(B));var $=B;B.then(Object(p.k)("observableFromPromise-resolve",function(ce){$.value=ce,$.state=k}),Object(p.k)("observableFromPromise-reject",function(ce){$.value=ce,$.state=T})),$.isPromiseBasedObservable=!0,$.case=C;var q=Y&&Y.state===k?Y.value:void 0;return Object(p.q)($,{value:q,state:S},{},{deep:!1}),$}(function(B){B.reject=Object(p.k)("fromPromise.reject",function(Y){var $=B(Promise.reject(Y));return $.state=T,$.value=Y,$}),B.resolve=Object(p.k)("fromPromise.resolve",function(Y){Y===void 0&&(Y=void 0);var $=B(Promise.resolve(Y));return $.state=k,$.value=Y,$})})(N||(N={}));var R=function(B,Y,$,q){var ce,Se=arguments.length,Oe=Se<3?Y:q===null?q=Object.getOwnPropertyDescriptor(Y,$):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(B,Y,$,q);else for(var Ae=B.length-1;Ae>=0;Ae--)(ce=B[Ae])&&(Oe=(Se<3?ce(Oe):Se>3?ce(Y,$,Oe):ce(Y,$))||Oe);return Se>3&&Oe&&Object.defineProperty(Y,$,Oe),Oe};(function(){function B(Y,$){var q=this;Object(p.G)(function(){q.current=$,q.subscription=Y.subscribe(q)})}B.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},B.prototype.next=function(Y){this.current=Y},B.prototype.complete=function(){this.dispose()},B.prototype.error=function(Y){this.current=Y,this.dispose()},R([p.C.ref],B.prototype,"current",void 0),R([p.k.bound],B.prototype,"next",null),R([p.k.bound],B.prototype,"complete",null),R([p.k.bound],B.prototype,"error",null)})();var G=function(){return G=Object.assign||function(B){for(var Y,$=1,q=arguments.length;$<q;$++)for(var ce in Y=arguments[$])Object.prototype.hasOwnProperty.call(Y,ce)&&(B[ce]=Y[ce]);return B},G.apply(this,arguments)},H=function(B,Y,$,q){var ce,Se=arguments.length,Oe=Se<3?Y:q===null?q=Object.getOwnPropertyDescriptor(Y,$):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(B,Y,$,q);else for(var Ae=B.length-1;Ae>=0;Ae--)(ce=B[Ae])&&(Oe=(Se<3?ce(Oe):Se>3?ce(Y,$,Oe):ce(Y,$))||Oe);return Se>3&&Oe&&Object.defineProperty(Y,$,Oe),Oe},Q=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function B(Y){var $=this;this.model=Y,this.localValues=p.C.map({}),this.localComputedValues=p.C.map({}),this.isPropertyDirty=function(q){return $.localValues.has(q)},g(Object(p.A)(Y),"createViewModel expects an observable object"),j(Y).forEach(function(q){if(q!==p.a&&q!=="__mobxDidRunLazyInitializers"){if(g(Q.indexOf(q)===-1,"The propertyname "+q+" is reserved and cannot be used with viewModels"),Object(p.w)(Y,q)){var ce=Object(p.h)(Y,q).derivation;$.localComputedValues.set(q,Object(p.m)(ce.bind($)))}var Se=Object.getOwnPropertyDescriptor(Y,q),Oe=Se?{enumerable:Se.enumerable}:{};Object.defineProperty($,q,G(G({},Oe),{configurable:!0,get:function(){return Object(p.w)(Y,q)?$.localComputedValues.get(q).get():$.isPropertyDirty(q)?$.localValues.get(q):$.model[q]},set:Object(p.k)(function(Ae){Ae!==$.model[q]?$.localValues.set(q,Ae):$.localValues.delete(q)})}))}})}Object.defineProperty(B.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),B.prototype.submit=function(){var Y=this;Object(p.B)(this.localValues).forEach(function($){var q=Y.localValues.get($),ce=Y.model[$];Object(p.y)(ce)?ce.replace(q):Object(p.z)(ce)?(ce.clear(),ce.merge(q)):Object(p.v)(q)||(Y.model[$]=q)}),this.localValues.clear()},B.prototype.reset=function(){this.localValues.clear()},B.prototype.resetProperty=function(Y){this.localValues.delete(Y)},H([p.m],B.prototype,"isDirty",null),H([p.m],B.prototype,"changedValues",null),H([p.k.bound],B.prototype,"submit",null),H([p.k.bound],B.prototype,"reset",null),H([p.k.bound],B.prototype,"resetProperty",null)})();function ue(B){if(!B)return"ROOT";for(var Y=[];B.parent;)Y.push(B.path),B=B.parent;return Y.reverse().join("/")}function re(B){return Object(p.A)(B)||Object(p.y)(B)||Object(p.z)(B)}function ee(B,Y){var $=new WeakMap;function q(Oe){var Ae=$.get(Oe.object);(function(We,je){switch(We.type){case"add":ce(We.newValue,je,We.name);break;case"update":Se(We.oldValue),ce(We.newValue,je,We.name||""+We.index);break;case"remove":case"delete":Se(We.oldValue);break;case"splice":We.removed.map(Se),We.added.forEach(function(Te,Xe){return ce(Te,je,""+(We.index+Xe))});for(var ge=We.index+We.addedCount;ge<We.object.length;ge++)if(re(We.object[ge])){var Pe=$.get(We.object[ge]);Pe&&(Pe.path=""+ge)}}})(Oe,Ae),Y(Oe,ue(Ae),B)}function ce(Oe,Ae,We){if(re(Oe)){var je=$.get(Oe);if(je){if(je.parent!==Ae||je.path!==We)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ue(Ae)+"/"+We+"', but it already exists at '"+ue(je.parent)+"/"+je.path+"'")}else{var ge={parent:Ae,path:We,dispose:Object(p.D)(Oe,q)};$.set(Oe,ge),Object(p.p)(Oe).forEach(function(Pe){var Te=Pe[0];return ce(Pe[1],ge,Te)})}}}function Se(Oe){if(re(Oe)){var Ae=$.get(Oe);if(!Ae)return;$.delete(Oe),Ae.dispose(),Object(p.L)(Oe).forEach(Se)}}return ce(B,void 0,""),function(){Se(B)}}var ne,V=(ne=function(B,Y){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,q){$.__proto__=q}||function($,q){for(var ce in q)q.hasOwnProperty(ce)&&($[ce]=q[ce])},ne(B,Y)},function(B,Y){function $(){this.constructor=B}ne(B,Y),B.prototype=Y===null?Object.create(Y):($.prototype=Y.prototype,new $)});(function(B){function Y($,q,ce){var Se=ce===void 0?{}:ce,Oe=Se.name,Ae=Oe===void 0?"ogm"+(1e3*Math.random()|0):Oe,We=Se.keyToName,je=We===void 0?function(Te){return""+Te}:We,ge=B.call(this)||this;ge._keyToName=je,ge._groupBy=q,ge._ogmInfoKey=Symbol("ogmInfo"+Ae),ge._base=$;for(var Pe=0;Pe<$.length;Pe++)ge._addItem($[Pe]);return ge._disposeBaseObserver=Object(p.D)(ge._base,function(Te){if(Te.type==="splice")Object(p.J)(function(){for(var Xe=0,rt=Te.removed;Xe<rt.length;Xe++){var wt=rt[Xe];ge._removeItem(wt)}for(var Ve=0,Ze=Te.added;Ve<Ze.length;Ve++){var gt=Ze[Ve];ge._addItem(gt)}});else{if(Te.type!=="update")throw new Error("illegal state");Object(p.J)(function(){ge._removeItem(Te.oldValue),ge._addItem(Te.newValue)})}}),ge}V(Y,B),Y.prototype.clear=function(){throw new Error("not supported")},Y.prototype.delete=function($){throw new Error("not supported")},Y.prototype.set=function($,q){throw new Error("not supported")},Y.prototype.dispose=function(){this._disposeBaseObserver();for(var $=0;$<this._base.length;$++){var q=this._base[$];q[this._ogmInfoKey].reaction(),delete q[this._ogmInfoKey]}},Y.prototype._getGroupArr=function($){var q=B.prototype.get.call(this,$);return q===void 0&&(q=Object(p.C)([],{name:"GroupArray["+this._keyToName($)+"]",deep:!1}),B.prototype.set.call(this,$,q)),q},Y.prototype._removeFromGroupArr=function($,q){var ce=B.prototype.get.call(this,$);ce.length===1?B.prototype.delete.call(this,$):(q===ce.length-1||(ce[q]=ce[ce.length-1],ce[q][this._ogmInfoKey].groupArrIndex=q),ce.length--)},Y.prototype._addItem=function($){var q=this,ce=this._groupBy($),Se=this._getGroupArr(ce),Oe={groupByValue:ce,groupArrIndex:Se.length,reaction:Object(p.F)(function(){return q._groupBy($)},function(Ae,We){var je=$[q._ogmInfoKey];q._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ge=q._getGroupArr(Ae),Pe=ge.length;ge.push($),je.groupByValue=Ae,je.groupArrIndex=Pe})};Object.defineProperty($,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Oe}),Se.push($)},Y.prototype._removeItem=function($){var q=$[this._ogmInfoKey];this._removeFromGroupArr(q.groupByValue,q.groupArrIndex),q.reaction(),delete $[this._ogmInfoKey]}})(p.b),function(){function B(Y,$){this.base=Y,this.args=$,this.closestIdx=0,this.isDisposed=!1;for(var q=this.closest=this.root=Y,ce=0;ce<this.args.length-1&&(q=q.get($[ce]));ce++)this.closest=q;this.closestIdx=ce}return B.prototype.exists=function(){this.assertNotDisposed();var Y=this.args.length;return this.closestIdx>=Y-1&&this.closest.has(this.args[Y-1])},B.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},B.prototype.set=function(Y){this.assertNotDisposed();for(var $=this.args.length,q=this.closest,ce=this.closestIdx;ce<$-1;ce++){var Se=new Map;q.set(this.args[ce],Se),q=Se}this.closestIdx=$-1,this.closest=q,q.set(this.args[$-1],Y)},B.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var Y=this.args.length;this.closest.delete(this.args[Y-1]);for(var $=this.root,q=[$],ce=0;ce<Y-1;ce++)$=$.get(this.args[ce]),q.push($);for(ce=q.length-1;ce>0;ce--)q[ce].size===0&&q[ce-1].delete(this.args[ce-1]);this.isDisposed=!0},B.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},B}(),Promise.resolve(),typeof queueMicrotask<"u"||f!==void 0&&f.nextTick}).call(this,o(163))},function(a,l,o){var f;(function(p,m,g){if(p){for(var E,j={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},T={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)j[111+C]="f"+C;for(C=0;C<=9;++C)j[C+96]=C.toString();re.prototype.bind=function(ee,ne,V){var B=this;return ee=ee instanceof Array?ee:[ee],B._bindMultiple.call(B,ee,ne,V),B},re.prototype.unbind=function(ee,ne){return this.bind.call(this,ee,function(){},ne)},re.prototype.trigger=function(ee,ne){var V=this;return V._directMap[ee+":"+ne]&&V._directMap[ee+":"+ne]({},ee),V},re.prototype.reset=function(){var ee=this;return ee._callbacks={},ee._directMap={},ee},re.prototype.stopCallback=function(ee,ne){if((" "+ne.className+" ").indexOf(" mousetrap ")>-1||ue(ne,this.target))return!1;if("composedPath"in ee&&typeof ee.composedPath=="function"){var V=ee.composedPath()[0];V!==ee.target&&(ne=V)}return ne.tagName=="INPUT"||ne.tagName=="SELECT"||ne.tagName=="TEXTAREA"||ne.isContentEditable},re.prototype.handleKey=function(){var ee=this;return ee._handleKey.apply(ee,arguments)},re.addKeycodes=function(ee){for(var ne in ee)ee.hasOwnProperty(ne)&&(j[ne]=ee[ne]);E=null},re.init=function(){var ee=re(m);for(var ne in ee)ne.charAt(0)!=="_"&&(re[ne]=function(V){return function(){return ee[V].apply(ee,arguments)}}(ne))},re.init(),p.Mousetrap=re,a.exports&&(a.exports=re),(f=(function(){return re}).call(l,o,l,a))===void 0||(a.exports=f)}function N(ee,ne,V){ee.addEventListener?ee.addEventListener(ne,V,!1):ee.attachEvent("on"+ne,V)}function R(ee){if(ee.type=="keypress"){var ne=String.fromCharCode(ee.which);return ee.shiftKey||(ne=ne.toLowerCase()),ne}return j[ee.which]?j[ee.which]:S[ee.which]?S[ee.which]:String.fromCharCode(ee.which).toLowerCase()}function G(ee){return ee=="shift"||ee=="ctrl"||ee=="alt"||ee=="meta"}function H(ee,ne,V){return V||(V=function(){if(!E)for(var B in E={},j)B>95&&B<112||j.hasOwnProperty(B)&&(E[j[B]]=B);return E}()[ee]?"keydown":"keypress"),V=="keypress"&&ne.length&&(V="keydown"),V}function Q(ee,ne){var V,B,Y,$=[];for(V=function(q){return q==="+"?["+"]:(q=q.replace(/\+{2}/g,"+plus")).split("+")}(ee),Y=0;Y<V.length;++Y)B=V[Y],T[B]&&(B=T[B]),ne&&ne!="keypress"&&k[B]&&(B=k[B],$.push("shift")),G(B)&&$.push(B);return{key:B,modifiers:$,action:ne=H(B,$,ne)}}function ue(ee,ne){return ee!==null&&ee!==m&&(ee===ne||ue(ee.parentNode,ne))}function re(ee){var ne=this;if(ee=ee||m,!(ne instanceof re))return new re(ee);ne.target=ee,ne._callbacks={},ne._directMap={};var V,B={},Y=!1,$=!1,q=!1;function ce(ge){ge=ge||{};var Pe,Te=!1;for(Pe in B)ge[Pe]?Te=!0:B[Pe]=0;Te||(q=!1)}function Se(ge,Pe,Te,Xe,rt,wt){var Ve,Ze,gt,le,se=[],ve=Te.type;if(!ne._callbacks[ge])return[];for(ve=="keyup"&&G(ge)&&(Pe=[ge]),Ve=0;Ve<ne._callbacks[ge].length;++Ve)if(Ze=ne._callbacks[ge][Ve],(Xe||!Ze.seq||B[Ze.seq]==Ze.level)&&ve==Ze.action&&(ve=="keypress"&&!Te.metaKey&&!Te.ctrlKey||(gt=Pe,le=Ze.modifiers,gt.sort().join(",")===le.sort().join(",")))){var Ce=!Xe&&Ze.combo==rt,He=Xe&&Ze.seq==Xe&&Ze.level==wt;(Ce||He)&&ne._callbacks[ge].splice(Ve,1),se.push(Ze)}return se}function Oe(ge,Pe,Te,Xe){ne.stopCallback(Pe,Pe.target||Pe.srcElement,Te,Xe)||ge(Pe,Te)===!1&&(function(rt){rt.preventDefault?rt.preventDefault():rt.returnValue=!1}(Pe),function(rt){rt.stopPropagation?rt.stopPropagation():rt.cancelBubble=!0}(Pe))}function Ae(ge){typeof ge.which!="number"&&(ge.which=ge.keyCode);var Pe=R(ge);Pe&&(ge.type!="keyup"||Y!==Pe?ne.handleKey(Pe,function(Te){var Xe=[];return Te.shiftKey&&Xe.push("shift"),Te.altKey&&Xe.push("alt"),Te.ctrlKey&&Xe.push("ctrl"),Te.metaKey&&Xe.push("meta"),Xe}(ge),ge):Y=!1)}function We(ge,Pe,Te,Xe){function rt(gt){return function(){q=gt,++B[ge],clearTimeout(V),V=setTimeout(ce,1e3)}}function wt(gt){Oe(Te,gt,ge),Xe!=="keyup"&&(Y=R(gt)),setTimeout(ce,10)}B[ge]=0;for(var Ve=0;Ve<Pe.length;++Ve){var Ze=Ve+1===Pe.length?wt:rt(Xe||Q(Pe[Ve+1]).action);je(Pe[Ve],Ze,Xe,ge,Ve)}}function je(ge,Pe,Te,Xe,rt){ne._directMap[ge+":"+Te]=Pe;var wt,Ve=(ge=ge.replace(/\s+/g," ")).split(" ");Ve.length>1?We(ge,Ve,Pe,Te):(wt=Q(ge,Te),ne._callbacks[wt.key]=ne._callbacks[wt.key]||[],Se(wt.key,wt.modifiers,{type:wt.action},Xe,ge,rt),ne._callbacks[wt.key][Xe?"unshift":"push"]({callback:Pe,modifiers:wt.modifiers,action:wt.action,seq:Xe,level:rt,combo:ge}))}ne._handleKey=function(ge,Pe,Te){var Xe,rt=Se(ge,Pe,Te),wt={},Ve=0,Ze=!1;for(Xe=0;Xe<rt.length;++Xe)rt[Xe].seq&&(Ve=Math.max(Ve,rt[Xe].level));for(Xe=0;Xe<rt.length;++Xe)if(rt[Xe].seq){if(rt[Xe].level!=Ve)continue;Ze=!0,wt[rt[Xe].seq]=1,Oe(rt[Xe].callback,Te,rt[Xe].combo,rt[Xe].seq)}else Ze||Oe(rt[Xe].callback,Te,rt[Xe].combo);var gt=Te.type=="keypress"&&$;Te.type!=q||G(ge)||gt||ce(wt),$=Ze&&Te.type=="keydown"},ne._bindMultiple=function(ge,Pe,Te){for(var Xe=0;Xe<ge.length;++Xe)je(ge[Xe],Pe,Te)},N(ee,"keypress",Ae),N(ee,"keydown",Ae),N(ee,"keyup",Ae)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(a,l,o){var f=o(7),p=o(34),m=o(30),g=o(33),E=f.TypeError;a.exports=function(j,S){var k,T;if(S==="string"&&m(k=j.toString)&&!g(T=p(k,j))||m(k=j.valueOf)&&!g(T=p(k,j))||S!=="string"&&m(k=j.toString)&&!g(T=p(k,j)))return T;throw E("Can't convert object to primitive value")}},function(a,l,o){var f=o(7),p=o(30),m=o(92),g=f.WeakMap;a.exports=p(g)&&/native code/.test(m(g))},function(a,l,o){var f=o(36),p=o(38),m=o(32),g=o(41),E=o(77);a.exports=f?Object.defineProperties:function(j,S){m(j);for(var k,T=g(S),C=E(S),N=C.length,R=0;N>R;)p.f(j,k=C[R++],T[k]);return j}},function(a,l,o){var f=o(7);a.exports=f},function(a,l,o){var f=o(7),p=o(96),m=o(99),g=o(33),E=o(28)("species"),j=f.Array;a.exports=function(S){var k;return p(S)&&(k=S.constructor,(m(k)&&(k===j||p(k.prototype))||g(k)&&(k=k[E])===null)&&(k=void 0)),k===void 0?j:k}},function(a,l,o){var f=o(113),p=o(97);a.exports=f?{}.toString:function(){return"[object "+p(this)+"]"}},function(a,l,o){var f=o(142).IteratorPrototype,p=o(60),m=o(69),g=o(78),E=o(80),j=function(){return this};a.exports=function(S,k,T,C){var N=k+" Iterator";return S.prototype=p(f,{next:m(+!C,T)}),g(S,N,!1,!0),E[N]=j,S}},function(a,l,o){var f=o(7),p=o(30),m=f.String,g=f.TypeError;a.exports=function(E){if(typeof E=="object"||p(E))return E;throw g("Can't set "+m(E)+" as a prototype")}},function(a,l,o){var f=o(16),p=o(7),m=o(15),g=o(95),E=o(42),j=o(144),S=o(117),k=o(119),T=o(30),C=o(33),N=o(18),R=o(120),G=o(78),H=o(148);a.exports=function(Q,ue,re){var ee=Q.indexOf("Map")!==-1,ne=Q.indexOf("Weak")!==-1,V=ee?"set":"add",B=p[Q],Y=B&&B.prototype,$=B,q={},ce=function(ge){var Pe=m(Y[ge]);E(Y,ge,ge=="add"?function(Te){return Pe(this,Te===0?0:Te),this}:ge=="delete"?function(Te){return!(ne&&!C(Te))&&Pe(this,Te===0?0:Te)}:ge=="get"?function(Te){return ne&&!C(Te)?void 0:Pe(this,Te===0?0:Te)}:ge=="has"?function(Te){return!(ne&&!C(Te))&&Pe(this,Te===0?0:Te)}:function(Te,Xe){return Pe(this,Te===0?0:Te,Xe),this})};if(g(Q,!T(B)||!(ne||Y.forEach&&!N(function(){new B().entries().next()}))))$=re.getConstructor(ue,Q,ee,V),j.enable();else if(g(Q,!0)){var Se=new $,Oe=Se[V](ne?{}:-0,1)!=Se,Ae=N(function(){Se.has(1)}),We=R(function(ge){new B(ge)}),je=!ne&&N(function(){for(var ge=new B,Pe=5;Pe--;)ge[V](Pe,Pe);return!ge.has(-0)});We||(($=ue(function(ge,Pe){k(ge,Y);var Te=H(new B,ge,$);return Pe!=null&&S(Pe,Te[V],{that:Te,AS_ENTRIES:ee}),Te})).prototype=Y,Y.constructor=$),(Ae||je)&&(ce("delete"),ce("has"),ee&&ce("get")),(je||Oe)&&ce(V),ne&&Y.clear&&delete Y.clear}return q[Q]=$,f({global:!0,forced:$!=B},q),G($,Q),ne||re.setStrong($,Q,ee),$}},function(a,l,o){var f=o(18),p=o(33),m=o(51),g=o(184),E=Object.isExtensible,j=f(function(){});a.exports=j||g?function(S){return!!p(S)&&(!g||m(S)!="ArrayBuffer")&&(!E||E(S))}:E},function(a,l,o){var f=o(18);a.exports=f(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})},function(a,l,o){var f=o(18);a.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(a,l,o){var f=o(38).f,p=o(60),m=o(149),g=o(63),E=o(119),j=o(117),S=o(116),k=o(150),T=o(36),C=o(144).fastKey,N=o(58),R=N.set,G=N.getterFor;a.exports={getConstructor:function(H,Q,ue,re){var ee=H(function($,q){E($,ne),R($,{type:Q,index:p(null),first:void 0,last:void 0,size:0}),T||($.size=0),q!=null&&j(q,$[re],{that:$,AS_ENTRIES:ue})}),ne=ee.prototype,V=G(Q),B=function($,q,ce){var Se,Oe,Ae=V($),We=Y($,q);return We?We.value=ce:(Ae.last=We={index:Oe=C(q,!0),key:q,value:ce,previous:Se=Ae.last,next:void 0,removed:!1},Ae.first||(Ae.first=We),Se&&(Se.next=We),T?Ae.size++:$.size++,Oe!=="F"&&(Ae.index[Oe]=We)),$},Y=function($,q){var ce,Se=V($),Oe=C(q);if(Oe!=="F")return Se.index[Oe];for(ce=Se.first;ce;ce=ce.next)if(ce.key==q)return ce};return m(ne,{clear:function(){for(var $=V(this),q=$.index,ce=$.first;ce;)ce.removed=!0,ce.previous&&(ce.previous=ce.previous.next=void 0),delete q[ce.index],ce=ce.next;$.first=$.last=void 0,T?$.size=0:this.size=0},delete:function($){var q=this,ce=V(q),Se=Y(q,$);if(Se){var Oe=Se.next,Ae=Se.previous;delete ce.index[Se.index],Se.removed=!0,Ae&&(Ae.next=Oe),Oe&&(Oe.previous=Ae),ce.first==Se&&(ce.first=Oe),ce.last==Se&&(ce.last=Ae),T?ce.size--:q.size--}return!!Se},forEach:function($){for(var q,ce=V(this),Se=g($,arguments.length>1?arguments[1]:void 0);q=q?q.next:ce.first;)for(Se(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function($){return!!Y(this,$)}}),m(ne,ue?{get:function($){var q=Y(this,$);return q&&q.value},set:function($,q){return B(this,$===0?0:$,q)}}:{add:function($){return B(this,$=$===0?0:$,$)}}),T&&f(ne,"size",{get:function(){return V(this).size}}),ee},setStrong:function(H,Q,ue){var re=Q+" Iterator",ee=G(Q),ne=G(re);S(H,Q,function(V,B){R(this,{type:re,target:V,state:ee(V),kind:B,last:void 0})},function(){for(var V=ne(this),B=V.kind,Y=V.last;Y&&Y.removed;)Y=Y.previous;return V.target&&(V.last=Y=Y?Y.next:V.state.first)?B=="keys"?{value:Y.key,done:!1}:B=="values"?{value:Y.value,done:!1}:{value:[Y.key,Y.value],done:!1}:(V.target=void 0,{value:void 0,done:!0})},ue?"entries":"values",!ue,!0),k(Q)}}},function(a,l,o){var f=o(79).forEach,p=o(121)("forEach");a.exports=p?[].forEach:function(m){return f(this,m,arguments.length>1?arguments[1]:void 0)}},function(a,l,o){var f=o(7),p=o(63),m=o(34),g=o(40),E=o(189),j=o(145),S=o(99),k=o(45),T=o(62),C=o(146),N=o(118),R=f.Array;a.exports=function(G){var H=g(G),Q=S(this),ue=arguments.length,re=ue>1?arguments[1]:void 0,ee=re!==void 0;ee&&(re=p(re,ue>2?arguments[2]:void 0));var ne,V,B,Y,$,q,ce=N(H),Se=0;if(!ce||this==R&&j(ce))for(ne=k(H),V=Q?new this(ne):R(ne);ne>Se;Se++)q=ee?re(H[Se],Se):H[Se],T(V,Se,q);else for($=(Y=C(H,ce)).next,V=Q?new this:[];!(B=m($,Y)).done;Se++)q=ee?E(Y,re,[B.value,Se],!0):B.value,T(V,Se,q);return V.length=Se,V}},function(a,l,o){var f=o(32),p=o(147);a.exports=function(m,g,E,j){try{return j?g(f(E)[0],E[1]):g(E)}catch(S){p(m,"throw",S)}}},function(a,l,o){var f=o(18),p=o(7).RegExp;a.exports=f(function(){var m=p(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(a,l,o){var f=o(18),p=o(7).RegExp;a.exports=f(function(){var m=p("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(a,l,o){var f=o(16),p=o(15),m=o(56),g=o(40),E=o(45),j=o(39),S=o(18),k=o(193),T=o(121),C=o(194),N=o(195),R=o(70),G=o(196),H=[],Q=p(H.sort),ue=p(H.push),re=S(function(){H.sort(void 0)}),ee=S(function(){H.sort(null)}),ne=T("sort"),V=!S(function(){if(R)return R<70;if(!(C&&C>3)){if(N)return!0;if(G)return G<603;var B,Y,$,q,ce="";for(B=65;B<76;B++){switch(Y=String.fromCharCode(B),B){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(q=0;q<47;q++)H.push({k:Y+q,v:$})}for(H.sort(function(Se,Oe){return Oe.v-Se.v}),q=0;q<H.length;q++)Y=H[q].k.charAt(0),ce.charAt(ce.length-1)!==Y&&(ce+=Y);return ce!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:re||!ee||!ne||!V},{sort:function(B){B!==void 0&&m(B);var Y=g(this);if(V)return B===void 0?Q(Y):Q(Y,B);var $,q,ce=[],Se=E(Y);for(q=0;q<Se;q++)q in Y&&ue(ce,Y[q]);for(k(ce,function(Oe){return function(Ae,We){return We===void 0?-1:Ae===void 0?1:Oe!==void 0?+Oe(Ae,We)||0:j(Ae)>j(We)?1:-1}}(B)),$=ce.length,q=0;q<$;)Y[q]=ce[q++];for(;q<Se;)delete Y[q++];return Y}})},function(a,l,o){var f=o(114),p=Math.floor,m=function(j,S){var k=j.length,T=p(k/2);return k<8?g(j,S):E(j,m(f(j,0,T),S),m(f(j,T),S),S)},g=function(j,S){for(var k,T,C=j.length,N=1;N<C;){for(T=N,k=j[N];T&&S(j[T-1],k)>0;)j[T]=j[--T];T!==N++&&(j[T]=k)}return j},E=function(j,S,k,T){for(var C=S.length,N=k.length,R=0,G=0;R<C||G<N;)j[R+G]=R<C&&G<N?T(S[R],k[G])<=0?S[R++]:k[G++]:R<C?S[R++]:k[G++];return j};a.exports=m},function(a,l,o){var f=o(55).match(/firefox\/(\d+)/i);a.exports=!!f&&+f[1]},function(a,l,o){var f=o(55);a.exports=/MSIE|Trident/.test(f)},function(a,l,o){var f=o(55).match(/AppleWebKit\/(\d+)\./);a.exports=!!f&&+f[1]},function(a,l,o){var f=o(7),p=o(159),m=f.TypeError;a.exports=function(g){if(p(g))throw m("The method doesn't accept regular expressions");return g}},function(a,l,o){var f=o(28)("match");a.exports=function(p){var m=/./;try{"/./"[p](m)}catch{try{return m[f]=!1,"/./"[p](m)}catch{}}return!1}},function(a,l,o){o(16)({target:"Number",stat:!0},{isNaN:function(f){return f!=f}})},function(a,l,o){var f=o(73).PROPER,p=o(18),m=o(162);a.exports=function(g){return p(function(){return!!m[g]()||"​᠎"[g]()!=="​᠎"||f&&m[g].name!==g})}},function(a,l,o){var f=o(15),p=o(40),m=Math.floor,g=f("".charAt),E=f("".replace),j=f("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;a.exports=function(T,C,N,R,G,H){var Q=N+T.length,ue=R.length,re=k;return G!==void 0&&(G=p(G),re=S),E(H,re,function(ee,ne){var V;switch(g(ne,0)){case"$":return"$";case"&":return T;case"`":return j(C,0,N);case"'":return j(C,Q);case"<":V=G[j(ne,1,-1)];break;default:var B=+ne;if(B===0)return ee;if(B>ue){var Y=m(B/10);return Y===0?ee:Y<=ue?R[Y-1]===void 0?g(ne,1):R[Y-1]+g(ne,1):ee}V=R[B-1]}return V===void 0?"":V})}},function(a,l,o){var f=o(36),p=o(15),m=o(34),g=o(18),E=o(77),j=o(112),S=o(84),k=o(40),T=o(85),C=Object.assign,N=Object.defineProperty,R=p([].concat);a.exports=!C||g(function(){if(f&&C({b:1},C(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},H={},Q=Symbol(),ue="abcdefghijklmnopqrst";return G[Q]=7,ue.split("").forEach(function(re){H[re]=re}),C({},G)[Q]!=7||E(C({},H)).join("")!=ue})?function(G,H){for(var Q=k(G),ue=arguments.length,re=1,ee=j.f,ne=S.f;ue>re;)for(var V,B=T(arguments[re++]),Y=ee?R(E(B),ee(B)):E(B),$=Y.length,q=0;$>q;)V=Y[q++],f&&!m(ne,B,V)||(Q[V]=B[V]);return Q}:C},function(a,l,o){var f=o(7),p=o(15),m=o(56),g=o(33),E=o(35),j=o(98),S=f.Function,k=p([].concat),T=p([].join),C={},N=function(R,G,H){if(!E(C,G)){for(var Q=[],ue=0;ue<G;ue++)Q[ue]="a["+ue+"]";C[G]=S("C,a","return new C("+T(Q,",")+")")}return C[G](R,H)};a.exports=S.bind||function(R){var G=m(this),H=G.prototype,Q=j(arguments,1),ue=function(){var re=k(Q,j(arguments));return this instanceof ue?N(G,re.length,re):G.apply(R,re)};return g(H)&&(ue.prototype=H),ue}},function(a,l,o){var f=o(35);a.exports=function(p){return p!==void 0&&(f(p,"value")||f(p,"writable"))}},function(a,l,o){var f=o(15),p=o(44),m=o(39),g=/"/g,E=f("".replace);a.exports=function(j,S,k,T){var C=m(p(j)),N="<"+S;return k!==""&&(N+=" "+k+'="'+E(m(T),g,"&quot;")+'"'),N+">"+C+"</"+S+">"}},function(a,l,o){var f=o(18);a.exports=function(p){return f(function(){var m=""[p]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(a,l,o){var f,p,m,g,E=o(16),j=o(71),S=o(7),k=o(46),T=o(34),C=o(208),N=o(42),R=o(149),G=o(102),H=o(78),Q=o(150),ue=o(56),re=o(30),ee=o(33),ne=o(119),V=o(92),B=o(117),Y=o(120),$=o(164),q=o(168).set,ce=o(209),Se=o(212),Oe=o(213),Ae=o(170),We=o(214),je=o(58),ge=o(95),Pe=o(28),Te=o(215),Xe=o(128),rt=o(70),wt=Pe("species"),Ve="Promise",Ze=je.getterFor(Ve),gt=je.set,le=je.getterFor(Ve),se=C&&C.prototype,ve=C,Ce=se,He=S.TypeError,ze=S.document,xt=S.process,kt=Ae.f,jt=kt,vt=!!(ze&&ze.createEvent&&S.dispatchEvent),ke=re(S.PromiseRejectionEvent),st="unhandledrejection",pe=!1,ot=ge(Ve,function(){var ae=V(ve),be=ae!==String(ve);if(!be&&rt===66||j&&!Ce.finally)return!0;if(rt>=51&&/native code/.test(ae))return!1;var $e=new ve(function(ft){ft(1)}),Ke=function(ft){ft(function(){},function(){})};return($e.constructor={})[wt]=Ke,!(pe=$e.then(function(){})instanceof Ke)||!be&&Te&&!ke}),Lt=ot||!Y(function(ae){ve.all(ae).catch(function(){})}),sn=function(ae){var be;return!(!ee(ae)||!re(be=ae.then))&&be},zt=function(ae,be){if(!ae.notified){ae.notified=!0;var $e=ae.reactions;ce(function(){for(var Ke=ae.value,ft=ae.state==1,Ut=0;$e.length>Ut;){var Qn,lr,Xn,$n=$e[Ut++],it=ft?$n.ok:$n.fail,bt=$n.resolve,St=$n.reject,It=$n.domain;try{it?(ft||(ae.rejection===2&&Ct(ae),ae.rejection=1),it===!0?Qn=Ke:(It&&It.enter(),Qn=it(Ke),It&&(It.exit(),Xn=!0)),Qn===$n.promise?St(He("Promise-chain cycle")):(lr=sn(Qn))?T(lr,Qn,bt,St):bt(Qn)):St(Ke)}catch(hn){It&&!Xn&&It.exit(),St(hn)}}ae.reactions=[],ae.notified=!1,be&&!ae.rejection&&yn(ae)})}},Qt=function(ae,be,$e){var Ke,ft;vt?((Ke=ze.createEvent("Event")).promise=be,Ke.reason=$e,Ke.initEvent(ae,!1,!0),S.dispatchEvent(Ke)):Ke={promise:be,reason:$e},!ke&&(ft=S["on"+ae])?ft(Ke):ae===st&&Oe("Unhandled promise rejection",$e)},yn=function(ae){T(q,S,function(){var be,$e=ae.facade,Ke=ae.value;if(jn(ae)&&(be=We(function(){Xe?xt.emit("unhandledRejection",Ke,$e):Qt(st,$e,Ke)}),ae.rejection=Xe||jn(ae)?2:1,be.error))throw be.value})},jn=function(ae){return ae.rejection!==1&&!ae.parent},Ct=function(ae){T(q,S,function(){var be=ae.facade;Xe?xt.emit("rejectionHandled",be):Qt("rejectionhandled",be,ae.value)})},Gn=function(ae,be,$e){return function(Ke){ae(be,Ke,$e)}},J=function(ae,be,$e){ae.done||(ae.done=!0,$e&&(ae=$e),ae.value=be,ae.state=2,zt(ae,!0))},de=function(ae,be,$e){if(!ae.done){ae.done=!0,$e&&(ae=$e);try{if(ae.facade===be)throw He("Promise can't be resolved itself");var Ke=sn(be);Ke?ce(function(){var ft={done:!1};try{T(Ke,be,Gn(de,ft,ae),Gn(J,ft,ae))}catch(Ut){J(ft,Ut,ae)}}):(ae.value=be,ae.state=1,zt(ae,!1))}catch(ft){J({done:!1},ft,ae)}}};if(ot&&(Ce=(ve=function(ae){ne(this,Ce),ue(ae),T(f,this);var be=Ze(this);try{ae(Gn(de,be),Gn(J,be))}catch($e){J(be,$e)}}).prototype,(f=function(ae){gt(this,{type:Ve,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=R(Ce,{then:function(ae,be){var $e=le(this),Ke=$e.reactions,ft=kt($(this,ve));return ft.ok=!re(ae)||ae,ft.fail=re(be)&&be,ft.domain=Xe?xt.domain:void 0,$e.parent=!0,Ke[Ke.length]=ft,$e.state!=0&&zt($e,!1),ft.promise},catch:function(ae){return this.then(void 0,ae)}}),p=function(){var ae=new f,be=Ze(ae);this.promise=ae,this.resolve=Gn(de,be),this.reject=Gn(J,be)},Ae.f=kt=function(ae){return ae===ve||ae===m?new p(ae):jt(ae)},!j&&re(C)&&se!==Object.prototype)){g=se.then,pe||(N(se,"then",function(ae,be){var $e=this;return new ve(function(Ke,ft){T(g,$e,Ke,ft)}).then(ae,be)},{unsafe:!0}),N(se,"catch",Ce.catch,{unsafe:!0}));try{delete se.constructor}catch{}G&&G(se,Ce)}E({global:!0,wrap:!0,forced:ot},{Promise:ve}),H(ve,Ve,!1,!0),Q(Ve),m=k(Ve),E({target:Ve,stat:!0,forced:ot},{reject:function(ae){var be=kt(this);return T(be.reject,void 0,ae),be.promise}}),E({target:Ve,stat:!0,forced:j||ot},{resolve:function(ae){return Se(j&&this===m?ve:this,ae)}}),E({target:Ve,stat:!0,forced:Lt},{all:function(ae){var be=this,$e=kt(be),Ke=$e.resolve,ft=$e.reject,Ut=We(function(){var Qn=ue(be.resolve),lr=[],Xn=0,$n=1;B(ae,function(it){var bt=Xn++,St=!1;$n++,T(Qn,be,it).then(function(It){St||(St=!0,lr[bt]=It,--$n||Ke(lr))},ft)}),--$n||Ke(lr)});return Ut.error&&ft(Ut.value),$e.promise},race:function(ae){var be=this,$e=kt(be),Ke=$e.reject,ft=We(function(){var Ut=ue(be.resolve);B(ae,function(Qn){T(Ut,be,Qn).then($e.resolve,Ke)})});return ft.error&&Ke(ft.value),$e.promise}})},function(a,l,o){var f=o(7);a.exports=f.Promise},function(a,l,o){var f,p,m,g,E,j,S,k,T=o(7),C=o(63),N=o(50).f,R=o(168).set,G=o(169),H=o(210),Q=o(211),ue=o(128),re=T.MutationObserver||T.WebKitMutationObserver,ee=T.document,ne=T.process,V=T.Promise,B=N(T,"queueMicrotask"),Y=B&&B.value;Y||(f=function(){var $,q;for(ue&&($=ne.domain)&&$.exit();p;){q=p.fn,p=p.next;try{q()}catch(ce){throw p?g():m=void 0,ce}}m=void 0,$&&$.enter()},G||ue||Q||!re||!ee?!H&&V&&V.resolve?((S=V.resolve(void 0)).constructor=V,k=C(S.then,S),g=function(){k(f)}):ue?g=function(){ne.nextTick(f)}:(R=C(R,T),g=function(){R(f)}):(E=!0,j=ee.createTextNode(""),new re(f).observe(j,{characterData:!0}),g=function(){j.data=E=!E})),a.exports=Y||function($){var q={fn:$,next:void 0};m&&(m.next=q),p||(p=q,g()),m=q}},function(a,l,o){var f=o(55),p=o(7);a.exports=/ipad|iphone|ipod/i.test(f)&&p.Pebble!==void 0},function(a,l,o){var f=o(55);a.exports=/web0s(?!.*chrome)/i.test(f)},function(a,l,o){var f=o(32),p=o(33),m=o(170);a.exports=function(g,E){if(f(g),p(E)&&E.constructor===g)return E;var j=m.f(g);return(0,j.resolve)(E),j.promise}},function(a,l,o){var f=o(7);a.exports=function(p,m){var g=f.console;g&&g.error&&(arguments.length==1?g.error(p):g.error(p,m))}},function(a,l){a.exports=function(o){try{return{error:!1,value:o()}}catch(f){return{error:!0,value:f}}}},function(a,l){a.exports=typeof window=="object"},function(a,l,o){var f=o(40),p=o(75),m=o(45);a.exports=function(g){for(var E=f(this),j=m(E),S=arguments.length,k=p(S>1?arguments[1]:void 0,j),T=S>2?arguments[2]:void 0,C=T===void 0?j:p(T,j);C>k;)E[k++]=g;return E}},function(a,l,o){var f=o(16),p=o(7),m=o(15),g=o(59),E=o(160),j=o(218),S=o(18),k=p.RangeError,T=p.String,C=Math.floor,N=m(j),R=m("".slice),G=m(1 .toFixed),H=function(ee,ne,V){return ne===0?V:ne%2==1?H(ee,ne-1,V*ee):H(ee*ee,ne/2,V)},Q=function(ee,ne,V){for(var B=-1,Y=V;++B<6;)Y+=ne*ee[B],ee[B]=Y%1e7,Y=C(Y/1e7)},ue=function(ee,ne){for(var V=6,B=0;--V>=0;)B+=ee[V],ee[V]=C(B/ne),B=B%ne*1e7},re=function(ee){for(var ne=6,V="";--ne>=0;)if(V!==""||ne===0||ee[ne]!==0){var B=T(ee[ne]);V=V===""?B:V+N("0",7-B.length)+B}return V};f({target:"Number",proto:!0,forced:S(function(){return G(8e-5,3)!=="0.000"||G(.9,0)!=="1"||G(1.255,2)!=="1.25"||G(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!S(function(){G({})})},{toFixed:function(ee){var ne,V,B,Y,$=E(this),q=g(ee),ce=[0,0,0,0,0,0],Se="",Oe="0";if(q<0||q>20)throw k("Incorrect fraction digits");if($!=$)return"NaN";if($<=-1e21||$>=1e21)return T($);if($<0&&(Se="-",$=-$),$>1e-21)if(V=(ne=function(Ae){for(var We=0,je=Ae;je>=4096;)We+=12,je/=4096;for(;je>=2;)We+=1,je/=2;return We}($*H(2,69,1))-69)<0?$*H(2,-ne,1):$/H(2,ne,1),V*=4503599627370496,(ne=52-ne)>0){for(Q(ce,0,V),B=q;B>=7;)Q(ce,1e7,0),B-=7;for(Q(ce,H(10,B,1),0),B=ne-1;B>=23;)ue(ce,1<<23),B-=23;ue(ce,1<<B),Q(ce,1,1),ue(ce,2),Oe=re(ce)}else Q(ce,0,V),Q(ce,1<<-ne,0),Oe=re(ce)+N("0",q);return Oe=q>0?Se+((Y=Oe.length)<=q?"0."+N("0",q-Y)+Oe:R(Oe,0,Y-q)+"."+R(Oe,Y-q)):Se+Oe}})},function(a,l,o){var f=o(7),p=o(59),m=o(39),g=o(44),E=f.RangeError;a.exports=function(j){var S=m(g(this)),k="",T=p(j);if(T<0||T==1/0)throw E("Wrong number of repetitions");for(;T>0;(T>>>=1)&&(S+=S))1&T&&(k+=S);return k}},function(a,l,o){var f=o(36),p=o(15),m=o(77),g=o(41),E=p(o(84).f),j=p([].push),S=function(k){return function(T){for(var C,N=g(T),R=m(N),G=R.length,H=0,Q=[];G>H;)C=R[H++],f&&!E(N,C)||j(Q,k?[C,N[C]]:N[C]);return Q}};a.exports={entries:S(!0),values:S(!1)}},function(a,l){a.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(a,l,o){o.r(l),o.d(l,"observer",function(){return di}),o.d(l,"LogicFlow",function(){return tg}),o.d(l,"h",function(){return pe.g}),o.d(l,"LogicFlowUtil",function(){return f}),o.d(l,"BaseNode",function(){return sa}),o.d(l,"RectNode",function(){return Yy}),o.d(l,"CircleNode",function(){return qy}),o.d(l,"PolygonNode",function(){return tv}),o.d(l,"DiamondNode",function(){return iv}),o.d(l,"EllipseNode",function(){return lv}),o.d(l,"TextNode",function(){return hv}),o.d(l,"HtmlNode",function(){return gv}),o.d(l,"BaseEdge",function(){return ff}),o.d(l,"LineEdge",function(){return kv}),o.d(l,"PolylineEdge",function(){return Rv}),o.d(l,"BezierEdge",function(){return Fv}),o.d(l,"Arrow",function(){return bx}),o.d(l,"BaseEdgeModel",function(){return wl}),o.d(l,"BezierEdgeModel",function(){return Jd}),o.d(l,"LineEdgeModel",function(){return Ji}),o.d(l,"PolylineEdgeModel",function(){return Hs}),o.d(l,"BaseNodeModel",function(){return ua}),o.d(l,"CircleNodeModel",function(){return oy}),o.d(l,"DiamondNodeModel",function(){return cy}),o.d(l,"EllipseNodeModel",function(){return hy}),o.d(l,"PolygonNodeModel",function(){return by}),o.d(l,"RectNodeModel",function(){return xy}),o.d(l,"TextNodeModel",function(){return Py}),o.d(l,"HtmlNodeModel",function(){return Ty}),o.d(l,"EditConfigModel",function(){return Hc}),o.d(l,"GraphModel",function(){return kg}),o.d(l,"SnaplineModel",function(){return yb}),o.d(l,"Keyboard",function(){return n0}),o.d(l,"get",function(){return tm}),o.d(l,"defaults",function(){return rm}),o.d(l,"ElementState",function(){return fn}),o.d(l,"ModelType",function(){return Kt}),o.d(l,"ElementType",function(){return qn}),o.d(l,"EventType",function(){return pt}),o.d(l,"formateAnchorConnectValidateData",function(){return Cu});var f={};o.r(f),o.d(f,"createUuid",function(){return wo}),o.d(f,"refreshGraphId",function(){return Ia}),o.d(f,"createDrag",function(){return Dp}),o.d(f,"StepDrag",function(){return Ho}),o.d(f,"setupEdgeModel",function(){return Ep}),o.d(f,"isBboxOverLapping",function(){return Dl}),o.d(f,"filterRepeatPoints",function(){return si}),o.d(f,"getSimplePolyline",function(){return Cl}),o.d(f,"getExpandedBBox",function(){return Wa}),o.d(f,"pointDirection",function(){return zu}),o.d(f,"getExpandedBBoxPoint",function(){return vr}),o.d(f,"mergeBBox",function(){return Mi}),o.d(f,"getBBoxOfPoints",function(){return Ga}),o.d(f,"getPointsFromBBox",function(){return Bu}),o.d(f,"isPointOutsideBBox",function(){return Xa}),o.d(f,"getBBoxXCrossPoints",function(){return Xo}),o.d(f,"getBBoxYCrossPoints",function(){return Yt}),o.d(f,"getBBoxCrossPointsByPoint",function(){return Il}),o.d(f,"estimateDistance",function(){return kr}),o.d(f,"costByPoints",function(){return Rl}),o.d(f,"heuristicCostEstimate",function(){return pn}),o.d(f,"rebuildPath",function(){return Sp}),o.d(f,"removeClosePointFromOpenList",function(){return Ll}),o.d(f,"isSegmentsIntersected",function(){return ci}),o.d(f,"isSegmentCrossingBBox",function(){return zl}),o.d(f,"getNextNeighborPoints",function(){return jp}),o.d(f,"pathFinder",function(){return Pp}),o.d(f,"getBoxByOriginNode",function(){return Bl}),o.d(f,"pointFilter",function(){return Fu}),o.d(f,"getPolylinePoints",function(){return Wu}),o.d(f,"getLongestEdge",function(){return Mp}),o.d(f,"isSegmentsInNode",function(){return Fl}),o.d(f,"isSegmentsCrossNode",function(){return Wl}),o.d(f,"getCrossPointInRect",function(){return rr}),o.d(f,"segmentDirection",function(){return hr}),o.d(f,"points2PointsList",function(){return Ai}),o.d(f,"getSimplePoints",function(){return Gl}),o.d(f,"getBytesLength",function(){return Xl}),o.d(f,"getTextWidth",function(){return Tp}),o.d(f,"getAppendAttributes",function(){return Hl}),o.d(f,"getBezierControlPoints",function(){return Ti}),o.d(f,"getBezierPoints",function(){return $s}),o.d(f,"getEndTangent",function(){return Ks}),o.d(f,"getClosestPointOfPolyline",function(){return Ul}),o.d(f,"pickEdgeConfig",function(){return kp}),o.d(f,"twoPointDistance",function(){return Yl}),o.d(f,"createEdgeGenerator",function(){return Np}),o.d(f,"snapToGrid",function(){return Fo}),o.d(f,"getGridOffset",function(){return Ca}),o.d(f,"sampleCubic",function(){return Gt}),o.d(f,"getThetaOfVector",function(){return Tr}),o.d(f,"degrees",function(){return Un}),o.d(f,"Vector",function(){return or}),o.d(f,"Point",function(){return Zs}),o.d(f,"Matrix",function(){return Fn}),o.d(f,"RotateMatrix",function(){return Wr}),o.d(f,"ScaleMatrix",function(){return Eo}),o.d(f,"TranslateMatrix",function(){return Wn});var p=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!p.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(43),E=Object(g.b)("observerBatching");function j(t){t()}var S=!1;function k(){return S}function T(t){return Object(p.t)(t)}var C,N=1e4,R=new Set;function G(){C===void 0&&(C=setTimeout(H,1e4))}function H(){C=void 0;var t=Date.now();R.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,R.delete(e))}),R.size>0&&G()}var Q=!1,ue=[],re={};function ee(t){return"observer"+t}function ne(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=re),k();var r,u=function(x){return function(){Q?ue.push(x):x()}}((n.useForceUpdate||g.d)()),i=m.d.useRef(null);if(!i.current){var c=new p.c(ee(e),function(){v.mounted?u():(c.dispose(),i.current=null)}),v=function(x){return{cleanAt:Date.now()+N,reaction:x}}(c);i.current=v,r=i,R.add(r),G()}var b=i.current.reaction;return m.d.useDebugValue(b,T),m.d.useEffect(function(){var x;return x=i,R.delete(x),i.current?i.current.mounted=!0:(i.current={reaction:new p.c(ee(e),function(){u()}),cleanAt:1/0},u()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(x){Q=!0,ue=[];try{var P=x();Q=!1;var D=ue.length>0?ue:void 0;return m.d.useLayoutEffect(function(){D&&D.forEach(function(L){return L()})},[D]),P}finally{Q=!1}}(function(){var x,P;if(b.track(function(){try{x=t()}catch(D){P=D}}),P)throw P;return x})}var V=function(){return V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var u in e=arguments[n])Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t},V.apply(this,arguments)};function B(t,e){var n,r,u,i=V({forwardRef:!1},e),c=t.displayName||t.name,v=function(b,x){return ne(function(){return t(b,x)},c)};return v.displayName=c,n=i.forwardRef?Object(m.f)(Object(m.e)(v)):Object(m.f)(v),r=t,u=n,Object.keys(r).forEach(function(b){Y[b]||Object.defineProperty(u,b,Object.getOwnPropertyDescriptor(r,b))}),n.displayName=c,n}var Y={$$typeof:!0,render:!0,compare:!0,type:!0};function $(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:ne(r)}function q(t,e,n,r,u){var i=e==="children"?"render":"children",c=typeof t[e]=="function",v=typeof t[i]=="function";return c&&v?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||v?null:new Error("Invalid prop `"+u+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}$.propTypes={children:q,render:q},$.displayName="Observer";var ce;(ce=m.g)||(ce=j),Object(p.n)({reactionScheduler:ce}),Object(g.a)()[E]=!0;var Se=0,Oe={};function Ae(t){return Oe[t]||(Oe[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Se+")";return Se++,n}(t)),Oe[t]}function We(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var u=0;u<n.length;u++)if(!Object.hasOwnProperty.call(e,n[u])||!je(t[n[u]],e[n[u]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ge(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=Ae("patchMixins"),Te=Ae("patchedDefinition");function Xe(t,e){for(var n=this,r=arguments.length,u=new Array(r>2?r-2:0),i=2;i<r;i++)u[i-2]=arguments[i];e.locks++;try{var c;return t!=null&&(c=t.apply(this,u)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(v){v.apply(n,u)})}}function rt(t,e){return function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];Xe.call.apply(Xe,[this,t,e].concat(r))}}function wt(t,e,n){var r=function(v,b){var x=v[Pe]=v[Pe]||{},P=x[b]=x[b]||{};return P.locks=P.locks||0,P.methods=P.methods||[],P}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var u=Object.getOwnPropertyDescriptor(t,e);if(!u||!u[Te]){var i=t[e],c=Ve(t,e,u?u.enumerable:void 0,r,i);Object.defineProperty(t,e,c)}}function Ve(t,e,n,r,u){var i,c=rt(u,r);return(i={})[Te]=!0,i.get=function(){return c},i.set=function(v){if(this===t)c=rt(v,r);else{var b=Ve(this,e,n,r,v);Object.defineProperty(this,e,b)}},i.configurable=!0,i.enumerable=n,i}var Ze=p.a||"$mobx",gt=Ae("isMobXReactObserver"),le=Ae("isUnmounted"),se=Ae("skipRender"),ve=Ae("isForcingUpdate");function Ce(t){var e=t.prototype;if(t[gt]?He(e):t[gt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==xt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=xt;kt(e,"props"),kt(e,"state");var n=e.render;return e.render=function(){return ze.call(this,n)},wt(e,"componentWillUnmount",function(){var r;(r=this.render[Ze])===null||r===void 0||r.dispose(),this[le]=!0,!this.render[Ze]&&He(this)}),t}function He(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;ge(this,se,!1),ge(this,ve,!1);var n=He(this),r=t.bind(this),u=!1,i=new p.c(n+".render()",function(){if(!u&&(u=!0,e[le]!==!0)){var v=!0;try{ge(e,ve,!0),e[se]||m.a.prototype.forceUpdate.call(e),v=!1}finally{ge(e,ve,!1),v&&i.dispose()}}});function c(){u=!1;var v=void 0,b=void 0;if(i.track(function(){try{b=Object(p.d)(!1,r)}catch(x){v=x}}),v)throw v;return b}return i.reactComponent=this,c[Ze]=i,this.render=c,c.call(this)}function xt(t,e){return this.state!==e||!We(this.props,t)}function kt(t,e){var n=Ae("reactProp_"+e+"_valueHolder"),r=Ae("reactProp_"+e+"_atomHolder");function u(){return this[r]||ge(this,r,Object(p.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=!1;return p.f&&p.e&&(i=Object(p.f)(!0)),u.call(this).reportObserved(),p.f&&p.e&&Object(p.e)(i),this[n]},set:function(i){this[ve]||We(this[n],i)?ge(this,n,i):(ge(this,n,i),ge(this,se,!0),u.call(this).reportChanged(),ge(this,se,!1))}})}var jt=typeof Symbol=="function"&&Symbol.for,vt=jt?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,ke=jt?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function st(t){if(t.isMobxInjector,ke&&t.$$typeof===ke)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(vt&&t.$$typeof===vt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)($,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?Ce(t):B(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!p.C)throw new Error("mobx-react requires mobx to be available");var pe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(26),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(64);var ot=function(t,e){for(var n=-1,r=t==null?0:t.length,u=Array(r);++n<r;)u[n]=e(t[n],n,t);return u},Lt=function(){this.__data__=[],this.size=0},sn=function(t,e){return t===e||t!=t&&e!=e},zt=function(t,e){for(var n=t.length;n--;)if(sn(t[n][0],e))return n;return-1},Qt=Array.prototype.splice,yn=function(t){var e=this.__data__,n=zt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},jn=function(t){var e=this.__data__,n=zt(e,t);return n<0?void 0:e[n][1]},Ct=function(t){return zt(this.__data__,t)>-1},Gn=function(t,e){var n=this.__data__,r=zt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function J(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}J.prototype.clear=Lt,J.prototype.delete=yn,J.prototype.get=jn,J.prototype.has=Ct,J.prototype.set=Gn;var de=J,ae=function(){this.__data__=new de,this.size=0},be=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},$e=function(t){return this.__data__.get(t)},Ke=function(t){return this.__data__.has(t)},ft=o(31),Ut=ft.a.Symbol,Qn=Object.prototype,lr=Qn.hasOwnProperty,Xn=Qn.toString,$n=Ut?Ut.toStringTag:void 0,it=function(t){var e=lr.call(t,$n),n=t[$n];try{t[$n]=void 0;var r=!0}catch{}var u=Xn.call(t);return r&&(e?t[$n]=n:delete t[$n]),u},bt=Object.prototype.toString,St=function(t){return bt.call(t)},It=Ut?Ut.toStringTag:void 0,hn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":It&&It in Object(t)?it(t):St(t)},Dn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Po,yo=function(t){if(!Dn(t))return!1;var e=hn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Mo=ft.a["__core-js_shared__"],yi=(Po=/[^.]+$/.exec(Mo&&Mo.keys&&Mo.keys.IE_PROTO||""))?"Symbol(src)_1."+Po:"",Nc=function(t){return!!yi&&yi in t},ru=Function.prototype.toString,Yr=function(t){if(t!=null){try{return ru.call(t)}catch{}try{return t+""}catch{}}return""},Wi=/^\[object .+?Constructor\]$/,ct=Function.prototype,Dc=Object.prototype,ou=ct.toString,iu=Dc.hasOwnProperty,xr=RegExp("^"+ou.call(iu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dr=function(t){return!(!Dn(t)||Nc(t))&&(yo(t)?xr:Wi).test(Yr(t))},ha=function(t,e){return t==null?void 0:t[e]},io=function(t,e){var n=ha(t,e);return Dr(n)?n:void 0},Vr=io(ft.a,"Map"),ao=io(Object,"create"),au=function(){this.__data__=ao?ao(null):{},this.size=0},uu=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ns=Object.prototype.hasOwnProperty,Gi=function(t){var e=this.__data__;if(ao){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return ns.call(e,t)?e[t]:void 0},rs=Object.prototype.hasOwnProperty,su=function(t){var e=this.__data__;return ao?e[t]!==void 0:rs.call(e,t)},Cc=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ao&&e===void 0?"__lodash_hash_undefined__":e,this};function qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qo.prototype.clear=au,qo.prototype.delete=uu,qo.prototype.get=Gi,qo.prototype.has=su,qo.prototype.set=Cc;var os=qo,Ao=function(){this.size=0,this.__data__={hash:new os,map:new(Vr||de),string:new os}},cu=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},da=function(t,e){var n=t.__data__;return cu(e)?n[typeof e=="string"?"string":"hash"]:n.map},lu=function(t){var e=da(this,t).delete(t);return this.size-=e?1:0,e},fu=function(t){return da(this,t).get(t)},Ic=function(t){return da(this,t).has(t)},is=function(t,e){var n=da(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ln(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ln.prototype.clear=Ao,ln.prototype.delete=lu,ln.prototype.get=fu,ln.prototype.has=Ic,ln.prototype.set=is;var cn=ln,as=function(t,e){var n=this.__data__;if(n instanceof de){var r=n.__data__;if(!Vr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cn(r)}return n.set(t,e),this.size=n.size,this};function vi(t){var e=this.__data__=new de(t);this.size=e.size}vi.prototype.clear=ae,vi.prototype.delete=be,vi.prototype.get=$e,vi.prototype.has=Ke,vi.prototype.set=as;var To=vi,pu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},us=function(t){return this.__data__.has(t)};function zn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new cn;++e<n;)this.add(t[e])}zn.prototype.add=zn.prototype.push=pu,zn.prototype.has=us;var hu=zn,Xi=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},du=function(t,e){return t.has(e)},ya=function(t,e,n,r,u,i){var c=1&n,v=t.length,b=e.length;if(v!=b&&!(c&&b>v))return!1;var x=i.get(t),P=i.get(e);if(x&&P)return x==e&&P==t;var D=-1,L=!0,U=2&n?new hu:void 0;for(i.set(t,e),i.set(e,t);++D<v;){var Z=t[D],oe=e[D];if(r)var ye=c?r(oe,Z,D,e,t,i):r(Z,oe,D,t,e,i);if(ye!==void 0){if(ye)continue;L=!1;break}if(U){if(!Xi(e,function(me,xe){if(!du(U,xe)&&(Z===me||u(Z,me,n,r,i)))return U.push(xe)})){L=!1;break}}else if(Z!==oe&&!u(Z,oe,n,r,i)){L=!1;break}}return i.delete(t),i.delete(e),L},fr=ft.a.Uint8Array,yu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,u){n[++e]=[u,r]}),n},ss=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},vu=Ut?Ut.prototype:void 0,va=vu?vu.valueOf:void 0,gi=function(t,e,n,r,u,i,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new fr(t),new fr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return sn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=yu;case"[object Set]":var b=1&r;if(v||(v=ss),t.size!=e.size&&!b)return!1;var x=c.get(t);if(x)return x==e;r|=2,c.set(t,e);var P=ya(v(t),v(e),r,u,i,c);return c.delete(t),P;case"[object Symbol]":if(va)return va.call(t)==va.call(e)}return!1},vo=function(t,e){for(var n=-1,r=e.length,u=t.length;++n<r;)t[u+n]=e[n];return t},mn=Array.isArray,cs=function(t,e,n){var r=e(t);return mn(t)?r:vo(r,n(t))},Er=function(t,e){for(var n=-1,r=t==null?0:t.length,u=0,i=[];++n<r;){var c=t[n];e(c,n,t)&&(i[u++]=c)}return i},ls=function(){return[]},fs=Object.prototype.propertyIsEnumerable,gr=Object.getOwnPropertySymbols,Sr=gr?function(t){return t==null?[]:(t=Object(t),Er(gr(t),function(e){return fs.call(t,e)}))}:ls,gu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},rn=function(t){return t!=null&&typeof t=="object"},er=function(t){return rn(t)&&hn(t)=="[object Arguments]"},ga=Object.prototype,ps=ga.hasOwnProperty,mu=ga.propertyIsEnumerable,ma=er(function(){return arguments}())?er:function(t){return rn(t)&&ps.call(t,"callee")&&!mu.call(t,"callee")},go=ma,ko=o(48),mi=/^(?:0|[1-9]\d*)$/,jr=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&mi.test(t))&&t>-1&&t%1==0&&t<e},No=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},en={};en["[object Float32Array]"]=en["[object Float64Array]"]=en["[object Int8Array]"]=en["[object Int16Array]"]=en["[object Int32Array]"]=en["[object Uint8Array]"]=en["[object Uint8ClampedArray]"]=en["[object Uint16Array]"]=en["[object Uint32Array]"]=!0,en["[object Arguments]"]=en["[object Array]"]=en["[object ArrayBuffer]"]=en["[object Boolean]"]=en["[object DataView]"]=en["[object Date]"]=en["[object Error]"]=en["[object Function]"]=en["[object Map]"]=en["[object Number]"]=en["[object Object]"]=en["[object RegExp]"]=en["[object Set]"]=en["[object String]"]=en["[object WeakMap]"]=!1;var Pr=function(t){return rn(t)&&No(t.length)&&!!en[hn(t)]},mo=function(t){return function(e){return t(e)}},ur=o(49),ba=ur.a&&ur.a.isTypedArray,Hi=ba?mo(ba):Pr,bu=Object.prototype.hasOwnProperty,Cn=function(t,e){var n=mn(t),r=!n&&go(t),u=!n&&!r&&Object(ko.a)(t),i=!n&&!r&&!u&&Hi(t),c=n||r||u||i,v=c?gu(t.length,String):[],b=v.length;for(var x in t)!e&&!bu.call(t,x)||c&&(x=="length"||u&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||jr(x,b))||v.push(x);return v},_a=Object.prototype,Do=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||_a)},$r=function(t,e){return function(n){return t(e(n))}},_u=$r(Object.keys,Object),Rc=Object.prototype.hasOwnProperty,Ou=function(t){if(!Do(t))return _u(t);var e=[];for(var n in Object(t))Rc.call(t,n)&&n!="constructor"&&e.push(n);return e},Kn=function(t){return t!=null&&No(t.length)&&!yo(t)},bi=function(t){return Kn(t)?Cn(t):Ou(t)},bo=function(t){return cs(t,bi,Sr)},mr=Object.prototype.hasOwnProperty,wu=function(t,e,n,r,u,i){var c=1&n,v=bo(t),b=v.length;if(b!=bo(e).length&&!c)return!1;for(var x=b;x--;){var P=v[x];if(!(c?P in e:mr.call(e,P)))return!1}var D=i.get(t),L=i.get(e);if(D&&L)return D==e&&L==t;var U=!0;i.set(t,e),i.set(e,t);for(var Z=c;++x<b;){var oe=t[P=v[x]],ye=e[P];if(r)var me=c?r(ye,oe,P,e,t,i):r(oe,ye,P,t,e,i);if(!(me===void 0?oe===ye||u(oe,ye,n,r,i):me)){U=!1;break}Z||(Z=P=="constructor")}if(U&&!Z){var xe=t.constructor,Me=e.constructor;xe==Me||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Me=="function"&&Me instanceof Me||(U=!1)}return i.delete(t),i.delete(e),U},Cr=io(ft.a,"DataView"),Zo=io(ft.a,"Promise"),Oa=io(ft.a,"Set"),_o=io(ft.a,"WeakMap"),Ir="[object Map]",Mr="[object Promise]",Kr="[object Set]",Oo="[object WeakMap]",we="[object DataView]",Ie=Yr(Cr),Le=Yr(Vr),Qe=Yr(Zo),Bt=Yr(Oa),Zt=Yr(_o),On=hn;(Cr&&On(new Cr(new ArrayBuffer(1)))!=we||Vr&&On(new Vr)!=Ir||Zo&&On(Zo.resolve())!=Mr||Oa&&On(new Oa)!=Kr||_o&&On(new _o)!=Oo)&&(On=function(t){var e=hn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Yr(n):"";if(r)switch(r){case Ie:return we;case Le:return Ir;case Qe:return Mr;case Bt:return Kr;case Zt:return Oo}return e});var O=On,w="[object Arguments]",A="[object Array]",z="[object Object]",K=Object.prototype.hasOwnProperty,he=function(t,e,n,r,u,i){var c=mn(t),v=mn(e),b=c?A:O(t),x=v?A:O(e),P=(b=b==w?z:b)==z,D=(x=x==w?z:x)==z,L=b==x;if(L&&Object(ko.a)(t)){if(!Object(ko.a)(e))return!1;c=!0,P=!1}if(L&&!P)return i||(i=new To),c||Hi(t)?ya(t,e,n,r,u,i):gi(t,e,b,n,r,u,i);if(!(1&n)){var U=P&&K.call(t,"__wrapped__"),Z=D&&K.call(e,"__wrapped__");if(U||Z){var oe=U?t.value():t,ye=Z?e.value():e;return i||(i=new To),u(oe,ye,n,r,i)}}return!!L&&(i||(i=new To),wu(t,e,n,r,u,i))},Ee=function t(e,n,r,u,i){return e===n||(e==null||n==null||!rn(e)&&!rn(n)?e!=e&&n!=n:he(e,n,r,u,t,i))},Ge=function(t,e,n,r){var u=n.length,i=u,c=!r;if(t==null)return!i;for(t=Object(t);u--;){var v=n[u];if(c&&v[2]?v[1]!==t[v[0]]:!(v[0]in t))return!1}for(;++u<i;){var b=(v=n[u])[0],x=t[b],P=v[1];if(c&&v[2]){if(x===void 0&&!(b in t))return!1}else{var D=new To;if(r)var L=r(x,P,b,t,e,D);if(!(L===void 0?Ee(P,x,3,r,D):L))return!1}}return!0},at=function(t){return t==t&&!Dn(t)},$t=function(t){for(var e=bi(t),n=e.length;n--;){var r=e[n],u=t[r];e[n]=[r,u,at(u)]}return e},tt=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},vn=function(t){var e=$t(t);return e.length==1&&e[0][2]?tt(e[0][0],e[0][1]):function(n){return n===t||Ge(n,t,e)}},Ft=function(t){return typeof t=="symbol"||rn(t)&&hn(t)=="[object Symbol]"},an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qr=/^\w*$/,Mn=function(t,e){if(mn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Ft(t))||qr.test(t)||!an.test(t)||e!=null&&t in Object(e)};function Ar(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,u=e?e.apply(this,r):r[0],i=n.cache;if(i.has(u))return i.get(u);var c=t.apply(this,r);return n.cache=i.set(u,c)||i,c};return n.cache=new(Ar.Cache||cn),n}Ar.Cache=cn;var Co=Ar,Io=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ui=/\\(\\)?/g,xu=function(t){var e=Co(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Io,function(n,r,u,i){e.push(u?i.replace(Ui,"$1"):r||n)}),e}),Jo=Ut?Ut.prototype:void 0,wa=Jo?Jo.toString:void 0,br=function t(e){if(typeof e=="string")return e;if(mn(e))return ot(e,t)+"";if(Ft(e))return wa?wa.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Yi=function(t){return t==null?"":br(t)},_i=function(t,e){return mn(t)?t:Mn(t,e)?[t]:xu(Yi(t))},Qo=function(t){if(typeof t=="string"||Ft(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},ei=function(t,e){for(var n=0,r=(e=_i(e,t)).length;t!=null&&n<r;)t=t[Qo(e[n++])];return n&&n==r?t:void 0},Eu=function(t,e,n){var r=t==null?void 0:ei(t,e);return r===void 0?n:r},td=function(t,e){return t!=null&&e in Object(t)},nd=function(t,e,n){for(var r=-1,u=(e=_i(e,t)).length,i=!1;++r<u;){var c=Qo(e[r]);if(!(i=t!=null&&n(t,c)))break;t=t[c]}return i||++r!=u?i:!!(u=t==null?0:t.length)&&No(u)&&jr(c,u)&&(mn(t)||go(t))},Mf=function(t,e){return t!=null&&nd(t,e,td)},hs=function(t,e){return Mn(t)&&at(e)?tt(Qo(t),e):function(n){var r=Eu(n,t);return r===void 0&&r===e?Mf(n,t):Ee(e,r,3)}},xa=function(t){return t},Lc=function(t){return function(e){return e==null?void 0:e[t]}},rd=function(t){return function(e){return ei(e,t)}},Af=function(t){return Mn(t)?Lc(Qo(t)):rd(t)},od=function(t){return typeof t=="function"?t:t==null?xa:typeof t=="object"?mn(t)?hs(t[0],t[1]):vn(t):Af(t)},Tf=function(t){return function(e,n,r){for(var u=-1,i=Object(e),c=r(e),v=c.length;v--;){var b=c[t?v:++u];if(n(i[b],b,i)===!1)break}return e}}(),sr=function(t,e){return function(n,r){if(n==null)return n;if(!Kn(n))return t(n,r);for(var u=n.length,i=e?u:-1,c=Object(n);(e?i--:++i<u)&&r(c[i],i,c)!==!1;);return n}}(function(t,e){return t&&Tf(t,e,bi)}),_r=function(t,e){var n=-1,r=Kn(t)?Array(t.length):[];return sr(t,function(u,i,c){r[++n]=e(u,i,c)}),r},ds=function(t,e){return(mn(t)?ot:_r)(t,od(e))};Object(p.n)({isolateGlobalState:!0});var ys=function(){try{var t=io(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vs=function(t,e,n){e=="__proto__"&&ys?ys(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},id=Object.prototype.hasOwnProperty,Ea=function(t,e,n){var r=t[e];id.call(t,e)&&sn(r,n)&&(n!==void 0||e in t)||vs(t,e,n)},Ro=function(t,e,n,r){var u=!n;n||(n={});for(var i=-1,c=e.length;++i<c;){var v=e[i],b=r?r(n[v],t[v],v,n,t):void 0;b===void 0&&(b=t[v]),u?vs(n,v,b):Ea(n,v,b)}return n},zc=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Vi=Math.max,Sa=function(t,e,n){return e=Vi(e===void 0?t.length-1:e,0),function(){for(var r=arguments,u=-1,i=Vi(r.length-e,0),c=Array(i);++u<i;)c[u]=r[e+u];u=-1;for(var v=Array(e+1);++u<e;)v[u]=r[u];return v[e]=n(c),zc(t,this,v)}},Su=function(t){return function(){return t}},gs=ys?function(t,e){return ys(t,"toString",{configurable:!0,enumerable:!1,value:Su(e),writable:!0})}:xa,ja=Date.now,ad=function(t){var e=0,n=0;return function(){var r=ja(),u=16-(r-n);if(n=r,u>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},kf=ad(gs),ud=function(t,e){return kf(Sa(t,e,xa),t+"")},sd=function(t,e,n){if(!Dn(n))return!1;var r=typeof e;return!!(r=="number"?Kn(n)&&jr(e,n.length):r=="string"&&e in n)&&sn(n[e],t)},Nf=function(t){return ud(function(e,n){var r=-1,u=n.length,i=u>1?n[u-1]:void 0,c=u>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(u--,i):void 0,c&&sd(n[0],n[1],c)&&(i=u<3?void 0:i,u=1),e=Object(e);++r<u;){var v=n[r];v&&t(e,v,r,i)}return e})},ms=Object.prototype.hasOwnProperty,cr=Nf(function(t,e){if(Do(e)||Kn(e))Ro(e,bi(e),t);else for(var n in e)ms.call(e,n)&&Ea(t,n,e[n])}),Df=function(t,e,n,r){if(!Dn(t))return t;for(var u=-1,i=(e=_i(e,t)).length,c=i-1,v=t;v!=null&&++u<i;){var b=Qo(e[u]),x=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(u!=c){var P=v[b];(x=r?r(P,b,v):void 0)===void 0&&(x=Dn(P)?P:jr(e[u+1])?[]:{})}Ea(v,b,x),v=v[b]}return t},F=function(t,e,n){for(var r=-1,u=e.length,i={};++r<u;){var c=e[r],v=ei(t,c);n(v,c)&&Df(i,_i(c,t),v)}return i},Pa=function(t,e){return F(t,e,function(n,r){return Mf(t,r)})},ju=Ut?Ut.isConcatSpreadable:void 0,uo=function(t){return mn(t)||go(t)||!!(ju&&t&&t[ju])},nn=function t(e,n,r,u,i){var c=-1,v=e.length;for(r||(r=uo),i||(i=[]);++c<v;){var b=e[c];n>0&&r(b)?n>1?t(b,n-1,r,u,i):vo(i,b):u||(i[i.length]=b)}return i},$i=function(t){return t!=null&&t.length?nn(t,1):[]},gn,Lo,Oi,so,Bc,Fc,Cf,If,bs,Ma,Pu,Rf,Wc,zo,_s,wi,Zr,Gc,Xc,ti=function(t){return kf(Sa(t,void 0,$i),t+"")}(function(t,e){return t==null?{}:Pa(t,e)});function An(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hn(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var fn,pr,Kt,qn,pt,wn,Os={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ni=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Hc=(Lo=Hn((gn=function(){function t(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),An(this,"isSilentMode",Lo,this),An(this,"stopZoomGraph",Oi,this),An(this,"stopScrollGraph",so,this),An(this,"stopMoveGraph",Bc,this),An(this,"adjustEdge",Fc,this),An(this,"adjustEdgeMiddle",Cf,this),An(this,"adjustEdgeStartAndEnd",If,this),An(this,"adjustNodePosition",bs,this),An(this,"hideAnchors",Ma,this),An(this,"allowRotation",Pu,this),An(this,"hoverOutline",Rf,this),An(this,"nodeSelectedOutline",Wc,this),An(this,"edgeSelectedOutline",zo,this),An(this,"nodeTextEdit",_s,this),An(this,"edgeTextEdit",wi,this),An(this,"nodeTextDraggable",Zr,this),An(this,"edgeTextDraggable",Gc,this),An(this,"autoExpand",Xc,this),zf(this,"multipleSelectKey",""),zf(this,"defaultConfig",{}),cr(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var u=this.getConfigDetail(r);cr(this,u)}},{key:"getConfigDetail",value:function(r){var u=r.isSilentMode,i=r.textEdit,c={};if(u===!1&&cr(c,this.defaultConfig),u===!0&&u!==this.isSilentMode){var v=ti(Os,ni);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},cr(c,v)}i===!1&&cr(c,{nodeTextEdit:!1,edgeTextEdit:!1});var b=ti(r,ni);return cr(c,b)}},{key:"getConfig",value:function(){return ti(this,ni)}}])&&Lf(e.prototype,n),t}()).prototype,"isSilentMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oi=Hn(gn.prototype,"stopZoomGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),so=Hn(gn.prototype,"stopScrollGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bc=Hn(gn.prototype,"stopMoveGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fc=Hn(gn.prototype,"adjustEdge",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cf=Hn(gn.prototype,"adjustEdgeMiddle",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),If=Hn(gn.prototype,"adjustEdgeStartAndEnd",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bs=Hn(gn.prototype,"adjustNodePosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ma=Hn(gn.prototype,"hideAnchors",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pu=Hn(gn.prototype,"allowRotation",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rf=Hn(gn.prototype,"hoverOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wc=Hn(gn.prototype,"nodeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zo=Hn(gn.prototype,"edgeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_s=Hn(gn.prototype,"nodeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wi=Hn(gn.prototype,"edgeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zr=Hn(gn.prototype,"nodeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gc=Hn(gn.prototype,"edgeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xc=Hn(gn.prototype,"autoExpand",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hn(gn.prototype,"updateEditConfig",[p.k],Object.getOwnPropertyDescriptor(gn.prototype,"updateEditConfig"),gn.prototype),gn);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(fn||(fn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(pr||(pr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Kt||(Kt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(qn||(qn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(pt||(pt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(wn||(wn={}));var xn,Bn,Bf,Ff,ws,Aa,Uc,Ta,xs;function ka(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Yc(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Yc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ri(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function cd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function co(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(xn||(xn={}));var Wf={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Gf=(Bn=function(){function t(r,u){(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),oi(this,"MINI_SCALE_SIZE",.2),oi(this,"MAX_SCALE_SIZE",16),ri(this,"SCALE_X",Bf,this),ri(this,"SKEW_Y",Ff,this),ri(this,"SKEW_X",ws,this),ri(this,"SCALE_Y",Aa,this),ri(this,"TRANSLATE_X",Uc,this),ri(this,"TRANSLATE_Y",Ta,this),ri(this,"ZOOM_SIZE",xs,this),oi(this,"eventCenter",void 0),oi(this,"translateLimitMinX",void 0),oi(this,"translateLimitMinY",void 0),oi(this,"translateLimitMaxX",void 0),oi(this,"translateLimitMaxY",void 0),this.eventCenter=r;var i=u.stopMoveGraph,c=i!==void 0&&i;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var u=ka(r,2),i=u[0],c=u[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var u=ka(r,2),i=u[0],c=u[1];return[i*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,u,i){var c=ka(r,2),v=c[0],b=c[1];return[v+u/this.SCALE_X,b+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,u){return[r/this.SCALE_X,u/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],u=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,c=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,c=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(u&&(this.TRANSLATE_X-=(i-this.SCALE_X)*u[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*u[1]),this.SCALE_X=i,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(pt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,u){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+u<=this.translateLimitMaxY&&this.TRANSLATE_Y+u>=this.translateLimitMinY&&(this.TRANSLATE_Y+=u),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,u,i,c){var v=ka(this.CanvasPointToHtmlPoint([r,u]),2),b=i/2-v[0],x=c/2-v[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var u=ka(Array.isArray(r)&&r.length===4?r:Wf[r.toString()],4);this.translateLimitMinX=u[0],this.translateLimitMinY=u[1],this.translateLimitMaxX=u[2],this.translateLimitMaxY=u[3]}}],n&&cd(e.prototype,n),t}(),Bf=co(Bn.prototype,"SCALE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ff=co(Bn.prototype,"SKEW_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ws=co(Bn.prototype,"SKEW_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Aa=co(Bn.prototype,"SCALE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Uc=co(Bn.prototype,"TRANSLATE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ta=co(Bn.prototype,"TRANSLATE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xs=co(Bn.prototype,"ZOOM_SIZE",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),co(Bn.prototype,"zoom",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"zoom"),Bn.prototype),co(Bn.prototype,"resetZoom",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"resetZoom"),Bn.prototype),co(Bn.prototype,"translate",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"translate"),Bn.prototype),co(Bn.prototype,"focusOn",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"focusOn"),Bn.prototype),Bn),Es=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Xf=function(t,e){return t&&Ro(e,bi(e),t)},Hf=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Uf=Object.prototype.hasOwnProperty,Vc=function(t){if(!Dn(t))return Hf(t);var e=Do(t),n=[];for(var r in t)(r!="constructor"||!e&&Uf.call(t,r))&&n.push(r);return n},Na=function(t){return Kn(t)?Cn(t,!0):Vc(t)},$c=function(t,e){return t&&Ro(e,Na(e),t)},Ss=o(107),qt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},ld=function(t,e){return Ro(t,Sr(t),e)},Kc=$r(Object.getPrototypeOf,Object),Da=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)vo(e,Sr(t)),t=Kc(t);return e}:ls,Yf=function(t,e){return Ro(t,Da(t),e)},fd=function(t){return cs(t,Na,Da)},pd=Object.prototype.hasOwnProperty,lo=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&pd.call(t,"index")&&(n.index=t.index,n.input=t.input),n},qc=function(t){var e=new t.constructor(t.byteLength);return new fr(e).set(new fr(t)),e},js=function(t,e){var n=e?qc(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Zc=/\w*$/,Vf=function(t){var e=new t.constructor(t.source,Zc.exec(t));return e.lastIndex=t.lastIndex,e},Jc=Ut?Ut.prototype:void 0,Rr=Jc?Jc.valueOf:void 0,xi=function(t){return Rr?Object(Rr.call(t)):{}},Ps=function(t,e){var n=e?qc(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},$f=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return qc(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return js(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ps(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Vf(t);case"[object Symbol]":return xi(t)}},Mu=Object.create,Kf=function(){function t(){}return function(e){if(!Dn(e))return{};if(Mu)return Mu(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Ms=function(t){return typeof t.constructor!="function"||Do(t)?{}:Kf(Kc(t))},qf=function(t){return rn(t)&&O(t)=="[object Map]"},As=ur.a&&ur.a.isMap,Qc=As?mo(As):qf,Ei=function(t){return rn(t)&&O(t)=="[object Set]"},Zf=ur.a&&ur.a.isSet,Si=Zf?mo(Zf):Ei,el="[object Arguments]",tl="[object Function]",nl="[object Object]",En={};En[el]=En["[object Array]"]=En["[object ArrayBuffer]"]=En["[object DataView]"]=En["[object Boolean]"]=En["[object Date]"]=En["[object Float32Array]"]=En["[object Float64Array]"]=En["[object Int8Array]"]=En["[object Int16Array]"]=En["[object Int32Array]"]=En["[object Map]"]=En["[object Number]"]=En["[object Object]"]=En["[object RegExp]"]=En["[object Set]"]=En["[object String]"]=En["[object Symbol]"]=En["[object Uint8Array]"]=En["[object Uint8ClampedArray]"]=En["[object Uint16Array]"]=En["[object Uint32Array]"]=!0,En["[object Error]"]=En[tl]=En["[object WeakMap]"]=!1;var Jf=function t(e,n,r,u,i,c){var v,b=1&n,x=2&n,P=4&n;if(r&&(v=i?r(e,u,i,c):r(e)),v!==void 0)return v;if(!Dn(e))return e;var D=mn(e);if(D){if(v=lo(e),!b)return qt(e,v)}else{var L=O(e),U=L==tl||L=="[object GeneratorFunction]";if(Object(ko.a)(e))return Object(Ss.a)(e,b);if(L==nl||L==el||U&&!i){if(v=x||U?{}:Ms(e),!b)return x?Yf(e,$c(v,e)):ld(e,Xf(v,e))}else{if(!En[L])return i?e:{};v=$f(e,L,b)}}c||(c=new To);var Z=c.get(e);if(Z)return Z;c.set(e,v),Si(e)?e.forEach(function(ye){v.add(t(ye,n,r,ye,e,c))}):Qc(e)&&e.forEach(function(ye,me){v.set(me,t(ye,n,r,me,e,c))});var oe=D?void 0:(P?x?fd:bo:x?Na:bi)(e);return Es(oe||e,function(ye,me){oe&&(ye=e[me=ye]),Ea(v,me,t(ye,n,r,me,e,c))}),v},Tn=function(t){return Jf(t,5)},Ts=function(t,e,n){(n!==void 0&&!sn(t[e],n)||n===void 0&&!(e in t))&&vs(t,e,n)},Lr=function(t){return rn(t)&&Kn(t)},Bo=Function.prototype,ks=Object.prototype,Ki=Bo.toString,Qf=ks.hasOwnProperty,ep=Ki.call(Object),tp=function(t){if(!rn(t)||hn(t)!="[object Object]")return!1;var e=Kc(t);if(e===null)return!0;var n=Qf.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ki.call(n)==ep},ji=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Au=function(t){return Ro(t,Na(t))},np=function(t,e,n,r,u,i,c){var v=ji(t,n),b=ji(e,n),x=c.get(b);if(x)Ts(t,n,x);else{var P=i?i(v,b,n+"",t,e,c):void 0,D=P===void 0;if(D){var L=mn(b),U=!L&&Object(ko.a)(b),Z=!L&&!U&&Hi(b);P=b,L||U||Z?mn(v)?P=v:Lr(v)?P=qt(v):U?(D=!1,P=Object(Ss.a)(b,!0)):Z?(D=!1,P=Ps(b,!0)):P=[]:tp(b)||go(b)?(P=v,go(v)?P=Au(v):Dn(v)&&!yo(v)||(P=Ms(b))):D=!1}D&&(c.set(b,P),u(P,b,r,i,c),c.delete(b)),Ts(t,n,P)}},rp=function t(e,n,r,u,i){e!==n&&Tf(n,function(c,v){if(i||(i=new To),Dn(c))np(e,n,v,r,t,u,i);else{var b=u?u(ji(e,v),c,v+"",e,n,i):void 0;b===void 0&&(b=c),Ts(e,v,b)}},Na)},Tu=Nf(function(t,e,n){rp(t,e,n)}),op={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},ku=function(t){var e=Tn(op);return t&&(e=Tu(e,t)),e};o(82),o(166);function rl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ns=function(){function t(){var r,u,i;(function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(u="_events")in(r=this)?Object.defineProperty(r,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[u]=i}var e,n;return e=t,(n=[{key:"on",value:function(r,u,i){var c=this;return r==null||r.split(",").forEach(function(v){v=v.trim(),c._events[v]||(c._events[v]=[]),c._events[v].push({callback:u,once:!!i})}),this}},{key:"once",value:function(r,u){var i=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),i.on(c,u,!0)})}},{key:"emit",value:function(r,u){var i=this;r==null||r.split(",").forEach(function(c){var v=i._events[c]||[],b=i._events["*"]||[],x=function(P){for(var D=P.length,L=0;L<D;L++)if(P[L]){var U=P[L],Z=U.callback;U.once&&(P.splice(L,1),P.length===0&&delete i._events[c],D--,L--),Z.apply(i,[u])}};x(v),x(b)})}},{key:"off",value:function(r,u){var i=this;return r||(this._events={}),r.split(",").forEach(function(c){if(u){for(var v=i._events[c]||[],b=v.length,x=0;x<b;x++)v[x].callback===u&&(v.splice(x,1),b--,x--);v.length===0&&delete i._events[c]}else delete i._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&rl(e.prototype,n),t}();function Fo(t,e){return e*Math.round(t/e)||t}function Ca(t,e){return t%e}function Ds(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Cs(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Cs(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ol,Is=function(t,e,n){var r=Ds(t,2),u=r[0],i=r[1],c=Ds(e,2),v=c[0],b=c[1],x=Ds(n,2),P=x[0],D=x[1];return u>v&&u<P&&i>b&&i<D},Wo=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n},ip=(o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47),new Uint8Array(16));function ap(){if(!ol&&!(ol=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ol(ip)}for(var hd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,up=function(t){return typeof t=="string"&&hd.test(t)},kn=[],Nu=0;Nu<256;++Nu)kn.push((Nu+256).toString(16).substr(1));var il=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(kn[t[e+0]]+kn[t[e+1]]+kn[t[e+2]]+kn[t[e+3]]+"-"+kn[t[e+4]]+kn[t[e+5]]+"-"+kn[t[e+6]]+kn[t[e+7]]+"-"+kn[t[e+8]]+kn[t[e+9]]+"-"+kn[t[e+10]]+kn[t[e+11]]+kn[t[e+12]]+kn[t[e+13]]+kn[t[e+14]]+kn[t[e+15]]).toLowerCase();if(!up(n))throw TypeError("Stringified UUID is invalid");return n},Du=function(t,e,n){var r=(t=t||{}).random||(t.rng||ap)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var u=0;u<16;++u)e[n+u]=r[u];return e}return il(r)},wo=function(){return Du()},Ia=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,u){return r[u.id]=e+Du(),u.id=r[u.id],r},{});return t.edges.forEach(function(r){r.id=e+Du(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Et=(o(105),o(127),function(t,e,n){var r=t.x,u=t.y;return(r-e.x)*(r-n.x)<=0&&(u-e.y)*(u-n.y)<=0});function Ra(t){return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function Rs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rs(Object(n),!0).forEach(function(r){al(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function al(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var De,yr,ul,sl,sp,Go,Or,Ls,zs,cp,La,cl,ll,fl,pl,lp,Bs,hl,za,Fs,dl,Ws=function(t){return t.anchors},qi=function(t,e){for(var n,r=e.nodes,u=r.length-1;u>=0;u--){var i=r[u];if(pp(t,i)){var c=i.getTargetAnchor(t);if(c){var v={node:i,anchorIndex:c.index,anchor:c.anchor};n&&!fp(i,n.node,e)||(n=v)}}}return n},fp=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},tr=function(t,e,n,r){return Math.hypot(t-n,e-r)},zr=function(t,e){var n=!1,r=Jr(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},pp=function(t,e){var n=!1,r=Jr(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Jr=function(t){var e=t.x,n=t.y,r=t.width,u=t.height;return{minX:e-r/2,minY:n-u/2,maxX:e+r/2,maxY:n+u/2,x:e,y:n,width:r,height:u,centerX:e,centerY:n}},hp=function(t,e,n){var r,u=function(c){var v=c,b=v.x,x=v.y,P=v.width,D=v.height,L=v.radius;return[{x:b-P/2+L,y:x-D/2+L,r:L},{x:b+P/2-L,y:x-D/2+L,r:L},{x:b-P/2+L,y:x+D/2-L,r:L},{x:b+P/2-L,y:x+D/2-L,r:L}]}(n),i=Number.MAX_SAFE_INTEGER;return u.forEach(function(c){var v=tr(t.x,t.y,c.x,c.y);v<i&&(i=v,r=c)}),yl(t,e,r)},yl=function(t,e,n){var r,u=n,i=u.x,c=u.y,v=u.r;if(e===wn.HORIZONTAL){var b=i-Math.sqrt(v*v-(t.y-c)*(t.y-c)),x=i+Math.sqrt(v*v-(t.y-c)*(t.y-c));r={x:Math.abs(b-t.x)<Math.abs(x-t.x)?b:x,y:t.y}}else if(e===wn.VERTICAL){var P=c-Math.sqrt(v*v-(t.x-i)*(t.x-i)),D=c+Math.sqrt(v*v-(t.x-i)*(t.x-i)),L=Math.abs(P-t.y)<Math.abs(D-t.y)?P:D;r={x:t.x,y:L}}return r},vl=function(t,e){var n=e,r=!1,u=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,v=n.y+n.height/2-n.radius,b=n.x,x=n.y,P=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>u&&t.x<i:t.x!==b+P/2&&t.x!==b-P/2||(r=t.y>c&&t.y<v),r},gl=function(t,e,n){var r,u=n,i=u.x,c=u.y,v=u.rx,b=u.ry;if(e===wn.HORIZONTAL){var x=i-Math.sqrt(v*v-(t.y-c)*(t.y-c)*v*v/(b*b)),P=i+Math.sqrt(v*v-(t.y-c)*(t.y-c)*v*v/(b*b));r={x:Math.abs(x-t.x)<Math.abs(P-t.x)?x:P,y:t.y}}else if(e===wn.VERTICAL){var D=c-Math.sqrt(b*b-(t.x-i)*(t.x-i)*b*b/(v*v)),L=c+Math.sqrt(b*b-(t.x-i)*(t.x-i)*b*b/(v*v)),U=Math.abs(D-t.y)<Math.abs(L-t.y)?D:L;r={x:t.x,y:U}}return r},ml=function(t,e,n){for(var r,u=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,c=[],v=0;v<u.length;v++)c.push({start:u[v],end:u[(v+1)%u.length]});return c.forEach(function(b){var x=b.start,P=b.end,D=x,L=P;x.x>P.x&&(D=P,L=x);var U={x:t.x,y:t.y};if(D.x===L.x&&e===wn.HORIZONTAL&&(U={x:D.x,y:t.y}),D.y===L.y&&e===wn.VERTICAL&&(U={x:t.x,y:D.y}),D.x!==L.x&&D.y!==L.y){var Z=(L.y-D.y)/(L.x-D.x),oe=(D.x*L.y-L.x*D.y)/(D.x-L.x);e===wn.HORIZONTAL?U={x:(t.y-oe)/Z,y:t.y}:e===wn.VERTICAL&&(U={x:t.x,y:Z*t.x+oe})}if(Et(U,x,P)){var ye=tr(U.x,U.y,t.x,t.y);ye<i&&(i=ye,r=U)}}),r},bl=function(t,e,n,r){var u=t.x,i=t.y;return e.x>t.x?u=t.x+n/2:e.x<t.x&&(u=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:u,y:i}},dp=function(t){var e=t.rows,n=t.style,r=t.rowsLength,u=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=u,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach(function(v){var b=document.createElement("div");b.textContent=v,i.appendChild(b)}):i.textContent=e,document.body.appendChild(i);var c=i.clientHeight;return document.body.removeChild(i),c},_l=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,u=0;return e&&e.forEach(function(i){var c=Xl(i);u=c>u?c:u}),{width:Math.ceil(u/2)*r+r/4,height:n*(r+2)+r/4}},Cu=function(t){return Ra(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},Sn=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},dd=1e3,yp=999,Ol=function(){return++dd};function Gs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gs(Object(n),!0).forEach(function(r){Fr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var wl=(De=function(){function t(r,u){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Fr(this,"id",""),nr(this,"type",yr,this),nr(this,"sourceNodeId",ul,this),nr(this,"targetNodeId",sl,this),nr(this,"startPoint",sp,this),nr(this,"endPoint",Go,this),nr(this,"text",Or,this),nr(this,"properties",Ls,this),nr(this,"points",zs,this),nr(this,"pointsList",cp,this),nr(this,"isSelected",La,this),nr(this,"isHovered",cl,this),nr(this,"isHitable",ll,this),nr(this,"draggable",fl,this),nr(this,"visible",pl,this),Fr(this,"virtual",!1),nr(this,"isAnimation",lp,this),nr(this,"isShowAdjustPoint",Bs,this),Fr(this,"graphModel",void 0),nr(this,"zIndex",hl,this),Fr(this,"BaseType",qn.EDGE),Fr(this,"modelType",Kt.EDGE),nr(this,"state",za,this),Fr(this,"additionStateData",void 0),Fr(this,"sourceAnchorId",""),Fr(this,"targetAnchorId",""),Fr(this,"menu",void 0),Fr(this,"customTextPosition",!1),nr(this,"style",Fs,this),nr(this,"arrowConfig",dl,this),this.graphModel=u,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var u=this.graphModel.idGenerator,i=u&&u(r.type),c=this.createId();r.id=c||i||wo()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var v=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=v,cr(this,kp(r)),this.graphModel.overlapMode===xn.INCREASE&&(this.zIndex=r.zIndex||Ol()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Br(Br({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Br({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Tn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Tn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),u=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,c=this.isAnimation?u.stroke:r.stroke;return Br(Br({},r),{},{fill:c,stroke:c},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Tn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,u;return(r=this.graphModel)===null||r===void 0||(u=r.nodesMap[this.sourceNodeId])===null||u===void 0?void 0:u.model}},{key:"targetNode",get:function(){var r,u;return(r=this.graphModel)===null||r===void 0||(u=r.nodesMap[this.targetNodeId])===null||u===void 0?void 0:u.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,u){var i,c;return Ws(r).forEach(function(v){var b=Yl(v,u);(c===void 0||b<c)&&(c=b,i=v)}),i}},{key:"getEndAnchor",value:function(r){var u,i,c=this;return Ws(r).forEach(function(v){var b=Yl(v,c.startPoint);(i===void 0||b<i)&&(i=b,u=v)}),u}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,u=r.x,i=r.y,c=r.value,v={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(p.I)(this.properties)};return c&&(v.text={x:u,y:i,value:c}),this.graphModel.overlapMode===xn.INCREASE&&(v.zIndex=this.zIndex),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,u){this.properties[r]=Sn(u),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Br(Br({},Object(p.I)(this.properties)),Sn(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var u=this.arrowConfig,i=u.markerEnd,c=u.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,u){this.style=Br(Br({},this.style),{},Fr({},r,Sn(u)))}},{key:"setStyles",value:function(r){this.style=Br(Br({},this.style),Sn(r))}},{key:"updateStyles",value:function(r){this.style=Br({},Sn(r))}},{key:"formatText",value:function(r){var u=this.textPosition,i=u.x,c=u.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,u=r.x,i=r.y;this.text.x=u,this.text.y=i}},{key:"moveText",value:function(r,u){if(this.text){var i=this.text,c=i.x,v=i.y,b=i.value,x=i.draggable,P=i.editable;this.text={value:b,draggable:x,x:c+r,y:v+u,editable:P}}}},{key:"setText",value:function(r){r&&cr(this.text,r)}},{key:"updateText",value:function(r){this.text=Br(Br({},Object(p.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var u=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:u.x,y:u.y}),this.targetAnchorId||(this.targetAnchorId=u.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,u){this.state=r,this.additionStateData=u}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,u){this.startPoint.x+=r,this.startPoint.y+=u}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,u){this.endPoint.x+=r,this.endPoint.y+=u}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){cr(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var u=r.startPoint,i=r.endPoint;this.updateStartPoint({x:u.x,y:u.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&yd(e.prototype,n),t}(),yr=Pt(De.prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ul=Pt(De.prototype,"sourceNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sl=Pt(De.prototype,"targetNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sp=Pt(De.prototype,"startPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Go=Pt(De.prototype,"endPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Or=Pt(De.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Ls=Pt(De.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zs=Pt(De.prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cp=Pt(De.prototype,"pointsList",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),La=Pt(De.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cl=Pt(De.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ll=Pt(De.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fl=Pt(De.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pl=Pt(De.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lp=Pt(De.prototype,"isAnimation",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bs=Pt(De.prototype,"isShowAdjustPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hl=Pt(De.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),za=Pt(De.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Fs=Pt(De.prototype,"style",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dl=Pt(De.prototype,"arrowConfig",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Pt(De.prototype,"sourceNode",[p.m],Object.getOwnPropertyDescriptor(De.prototype,"sourceNode"),De.prototype),Pt(De.prototype,"targetNode",[p.m],Object.getOwnPropertyDescriptor(De.prototype,"targetNode"),De.prototype),Pt(De.prototype,"textPosition",[p.m],Object.getOwnPropertyDescriptor(De.prototype,"textPosition"),De.prototype),Pt(De.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setProperty"),De.prototype),Pt(De.prototype,"deleteProperty",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"deleteProperty"),De.prototype),Pt(De.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setProperties"),De.prototype),Pt(De.prototype,"changeEdgeId",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"changeEdgeId"),De.prototype),Pt(De.prototype,"setStyle",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setStyle"),De.prototype),Pt(De.prototype,"setStyles",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setStyles"),De.prototype),Pt(De.prototype,"updateStyles",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"updateStyles"),De.prototype),Pt(De.prototype,"formatText",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"formatText"),De.prototype),Pt(De.prototype,"resetTextPosition",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"resetTextPosition"),De.prototype),Pt(De.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"moveText"),De.prototype),Pt(De.prototype,"setText",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setText"),De.prototype),Pt(De.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"updateText"),De.prototype),Pt(De.prototype,"setAnchors",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setAnchors"),De.prototype),Pt(De.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setSelected"),De.prototype),Pt(De.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setHovered"),De.prototype),Pt(De.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setHitable"),De.prototype),Pt(De.prototype,"openEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"openEdgeAnimation"),De.prototype),Pt(De.prototype,"closeEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"closeEdgeAnimation"),De.prototype),Pt(De.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setElementState"),De.prototype),Pt(De.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"updateStartPoint"),De.prototype),Pt(De.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"moveStartPoint"),De.prototype),Pt(De.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"updateEndPoint"),De.prototype),Pt(De.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"moveEndPoint"),De.prototype),Pt(De.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setZIndex"),De.prototype),Pt(De.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"initPoints"),De.prototype),Pt(De.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"updateAttributes"),De.prototype),Pt(De.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"getAdjustStart"),De.prototype),Pt(De.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"getAdjustEnd"),De.prototype),Pt(De.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"updateAfterAdjustStartAndEnd"),De.prototype),De),xl=wl;function El(t){return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function vp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vp(Object(n),!0).forEach(function(r){bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ba(){return Ba=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=gd(t,e);if(r){var u=Object.getOwnPropertyDescriptor(r,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},Ba.apply(this,arguments)}function gd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zi(t))!==null;);return t}function Sl(t,e){return Sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sl(t,e)}function md(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zi(t);if(e){var u=Zi(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return bd(this,n)}}function bd(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jl(t)}function jl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zi(t){return Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zi(t)}function bp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt,_p,Ji=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sl(i,c)})(u,t);var e,n,r=md(u);function u(){var i;vd(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return bp(jl(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.LINE_EDGE),i}return e=u,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return gp(gp({},Ba(Zi(u.prototype),"getEdgeStyle",this).call(this)),Tn(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&mp(e.prototype,n),u}(xl);function Pl(t){return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function _d(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Iu(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Iu(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Iu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ml(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ml(Object(n),!0).forEach(function(r){kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tl(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Op(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ru(){return Ru=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=Od(t,e);if(r){var u=Object.getOwnPropertyDescriptor(r,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},Ru.apply(this,arguments)}function Od(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ii(t))!==null;);return t}function Fa(t,e){return Fa=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fa(t,e)}function Xs(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ii(t);if(e){var u=ii(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return wd(this,n)}}function wd(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qi(t)}function Qi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ii(t){return ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ii(t)}function kl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nn(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Hs=(Wt=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Fa(i,c)})(u,t);var e,n,r=Xs(u);function u(){var i;Op(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return kl(Qi(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYLINE_EDGE),kl(Qi(i),"draggingPointList",void 0),Tl(Qi(i),"dbClickPosition",_p,Qi(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Ru(ii(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return Al(Al({},Ru(ii(u.prototype),"getEdgeStyle",this).call(this)),Tn(i))}},{key:"getTextPosition",value:function(){var i,c=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!c){var v=this.dbClickPosition;return{x:v.x,y:v.y}}var b=Ai(this.points),x=_d(Mp(b),2),P=x[0],D=x[1];return{x:(P.x+D.x)/2,y:(P.y+D.y)/2}}},{key:"getAfterAnchor",value:function(i,c,v){var b,x;return v.forEach(function(P){var D;i===wn.HORIZONTAL?D=Math.abs(c.y-P.y):i===wn.VERTICAL&&(D=Math.abs(c.x-P.x)),(!x||x>D)&&(x=D,b=P)}),b}},{key:"getCrossPoint",value:function(i,c,v){var b;return i===wn.HORIZONTAL?b={x:v.x,y:c.y}:i===wn.VERTICAL&&(b={x:c.x,y:v.y}),b}},{key:"removeCrossPoints",value:function(i,c,v){var b=v.map(function(me){return me});if(i===1){var x=b[i],P=b[c],D=b[i-1];if(Fl(D,x,this.sourceNode)){if(Wl(x,P,this.sourceNode)){var L=rr(x,P,this.sourceNode);L&&(b[i]=L,b.splice(i-1,1),i--,c--)}}else this.sourceNode.anchors.forEach(function(me){(me.x===D.x&&me.x===x.x||me.y===D.y&&me.y===x.y)&&tr(me.x,me.y,x.x,x.y)<tr(D.x,D.y,x.x,x.y)&&(b[i-1]=me)})}if(c===v.length-2){var U=b[i],Z=b[c],oe=b[c+1];if(Fl(Z,oe,this.targetNode)){if(Wl(U,Z,this.targetNode)){var ye=rr(U,Z,this.targetNode);ye&&(b[c]=ye,b.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(me){(me.x===oe.x&&me.x===Z.x||me.y===oe.y&&me.y===Z.y)&&tr(me.x,me.y,Z.x,Z.y)<tr(oe.x,oe.y,Z.x,Z.y)&&(b[c+1]=me)})}return b}},{key:"getDraggingPoints",value:function(i,c,v,b,x){var P=x.map(function(U){return U}),D=this.getAfterAnchor(i,v,b),L=this.getCrossPoint(i,v,D);return c==="start"?(P.unshift(L),P.unshift(D)):(P.push(L),P.push(D)),P}},{key:"updateCrossPoints",value:function(i){var c=i.map(function(Me){return Me}),v=i[0],b=i[1],x=i[c.length-2],P=i[c.length-1],D=this.sourceNode,L=this.targetNode,U=D.modelType,Z=L.modelType,oe=hr(v,b),ye=c[0];switch(U){case Kt.RECT_NODE:D.radius!==0&&(vl(v,D)||(ye=hp(v,oe,D)));break;case Kt.CIRCLE_NODE:ye=yl(v,oe,D);break;case Kt.ELLIPSE_NODE:ye=gl(v,oe,D);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:ye=ml(v,oe,D)}c[0]=ye;var me=hr(x,P),xe=c[c.length-1];switch(Z){case Kt.RECT_NODE:L.radius!==0&&(vl(P,L)||(xe=hp(P,me,L)));break;case Kt.CIRCLE_NODE:xe=yl(P,me,L);break;case Kt.ELLIPSE_NODE:xe=gl(P,me,L);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:xe=ml(P,me,L)}return c[c.length-1]=xe,c}},{key:"getData",value:function(){var i=Ru(ii(u.prototype),"getData",this).call(this),c=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Object.assign({},i,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Wu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,c){this.isDragging=!0;var v=i.start,b=i.end,x=i.startIndex,P=i.endIndex,D=i.direction,L=this.pointsList,U=L;return D===wn.HORIZONTAL?(L[x]={x:v.x,y:v.y+c.y},L[P]={x:b.x,y:b.y+c.y},U=this.pointsList.map(function(Z){return Z})):D===wn.VERTICAL&&(L[x]={x:v.x+c.x,y:v.y},L[P]={x:b.x+c.x,y:b.y},U=this.pointsList.map(function(Z){return Z})),this.updatePointsAfterDrag(U),this.draggingPointList=U,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[P]),startIndex:x,endIndex:P,direction:D}}},{key:"dragAppend",value:function(i,c){this.isDragging=!0;var v=i.start,b=i.end,x=i.startIndex,P=i.endIndex,D=i.direction,L=this.pointsList;if(D===wn.HORIZONTAL){L[x]={x:v.x,y:v.y+c.y},L[P]={x:b.x,y:b.y+c.y};var U=this.pointsList.map(function(et){return et});if(x!==0&&P!==this.pointsList.length-1&&(U=this.removeCrossPoints(x,P,U)),x===0){var Z={x:v.x,y:v.y+c.y};if(!zr(Z,this.sourceNode)){var oe=this.sourceNode.anchors;U=this.getDraggingPoints(D,"start",Z,oe,U)}}if(P===this.pointsList.length-1){var ye={x:b.x,y:b.y+c.y};if(!zr(ye,this.targetNode)){var me=this.targetNode.anchors;U=this.getDraggingPoints(D,"end",ye,me,U)}}this.updatePointsAfterDrag(U),this.draggingPointList=U}else if(D===wn.VERTICAL){L[x]={x:v.x+c.x,y:v.y},L[P]={x:b.x+c.x,y:b.y};var xe=this.pointsList.map(function(et){return et});if(x!==0&&P!==this.pointsList.length-1&&(xe=this.removeCrossPoints(x,P,xe)),x===0){var Me={x:v.x+c.x,y:v.y};if(!zr(Me,this.sourceNode)){var qe=this.sourceNode.anchors;xe=this.getDraggingPoints(D,"start",Me,qe,xe)}}if(P===this.pointsList.length-1){var Je={x:b.x+c.x,y:b.y};if(!zr(Je,this.targetNode)){var yt=this.targetNode.anchors;xe=this.getDraggingPoints(D,"end",Je,yt,xe)}}this.updatePointsAfterDrag(xe),this.draggingPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[P]),startIndex:x,endIndex:P,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=Fu(Ai(this.points));this.pointsList=i.map(function(b){return b}),this.draggingPointList=[];var c=i[0];this.startPoint=Object.assign({},c);var v=i[i.length-1];this.endPoint=Object.assign({},v)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var c=this.updateCrossPoints(i);this.points=c.map(function(v){return"".concat(v.x,",").concat(v.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,v=i.endPoint,b=i.sourceNode,x=i.targetNode,P=Wu({x:c.x,y:c.y},{x:v.x,y:v.y},b,x,this.offset||0);this.pointsList=P,this.initPoints()}}])&&wp(e.prototype,n),u}(xl),_p=Nn(Wt.prototype,"dbClickPosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn(Wt.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"initPoints"),Wt.prototype),Nn(Wt.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePoints"),Wt.prototype),Nn(Wt.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateStartPoint"),Wt.prototype),Nn(Wt.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveStartPoint"),Wt.prototype),Nn(Wt.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateEndPoint"),Wt.prototype),Nn(Wt.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveEndPoint"),Wt.prototype),Nn(Wt.prototype,"dragAppendStart",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendStart"),Wt.prototype),Nn(Wt.prototype,"dragAppendSimple",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendSimple"),Wt.prototype),Nn(Wt.prototype,"dragAppend",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppend"),Wt.prototype),Nn(Wt.prototype,"dragAppendEnd",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendEnd"),Wt.prototype),Nn(Wt.prototype,"updatePointsAfterDrag",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePointsAfterDrag"),Wt.prototype),Nn(Wt.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustStart"),Wt.prototype),Nn(Wt.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustEnd"),Wt.prototype),Nn(Wt.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateAfterAdjustStartAndEnd"),Wt.prototype),Wt),Lu=function(t){var e=t.start,n=t.end,r=t.offset,u=t.verticalLength,i=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},v=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/u),x=Math.sqrt(u*u+r*r);return i==="start"?n.x>=e.x?(c.leftX=e.x+x*Math.sin(v+b),c.leftY=e.y-x*Math.cos(v+b),c.rightX=e.x-x*Math.sin(v-b),c.rightY=e.y+x*Math.cos(v-b)):(c.leftX=e.x-x*Math.sin(v+b),c.leftY=e.y+x*Math.cos(v+b),c.rightX=e.x+x*Math.sin(v-b),c.rightY=e.y-x*Math.cos(v-b)):i==="end"&&(n.x>=e.x?(c.leftX=n.x+x*Math.sin(v-b),c.leftY=n.y-x*Math.cos(v-b),c.rightX=n.x-x*Math.sin(v+b),c.rightY=n.y+x*Math.cos(v+b)):(c.leftX=n.x-x*Math.sin(v-b),c.leftY=n.y+x*Math.cos(v-b),c.rightX=n.x+x*Math.sin(v+b),c.rightY=n.y-x*Math.cos(v+b))),c},ea={x:1,y:0,z:0};function Gt(t,e,n,r,u){for(var i=function(Z){if(Z<0||Z>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-Z,3)+3*e.x*Z*Math.pow(1-Z,2)+3*n.x*Math.pow(Z,2)*(1-Z)+r.x*Math.pow(Z,3),y:t.y*Math.pow(1-Z,3)+3*e.y*Z*Math.pow(1-Z,2)+3*n.y*Math.pow(Z,2)*(1-Z)+r.y*Math.pow(Z,3)}},c=0,v=2,b=r.x,x=r.y,P=r;c<u&&v<50;){var D=P=i(1-v/100),L=D.x,U=D.y;c=tr(b,x,L,U),v++}return P}function xp(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Tr(t){return r=function(i,c){return i.x*c.y-i.y*c.x}(e=ea,n=t),u=Math.acos(function(i,c){var v=[i.x,i.y,i.z];return[c.x,c.y,c.z].reduce(function(b,x,P){return b+x*v[P]})}(xp(e),xp(n))),r>=0?u:-u;var e,n,r,u}function Un(t){return t*(180/Math.PI)}function ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ai(Object(n),!0).forEach(function(r){Nl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ui(t){return function(e){if(Array.isArray(e))return Rn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||In(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ys(t){return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function ta(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||In(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function In(t,e){if(t){if(typeof t=="string")return Rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(t,e):void 0}}function Rn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ep=function(t,e){var n;switch(t.type){case"line":default:n=new Ji(t,e);break;case"polyline":n=new Hs(t,e)}return n},Dl=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},si=function(t){var e=[],n={};return t.forEach(function(r){var u="".concat(r.x,"-").concat(r.y);r.id=u,n[u]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Cl=function(t,e){var n=[t,{x:t.x,y:e.y},e];return si(n)},Wa=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},zu=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?wn.HORIZONTAL:wn.VERTICAL},vr=function(t,e,n){return zu(n,e)===wn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Mi=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),u=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+u)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:u,maxY:i,height:i-r,width:u-n}},Ga=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(P){n.push(P.x),r.push(P.y)});var u=Math.min.apply(Math,n),i=Math.max.apply(Math,n),c=Math.min.apply(Math,r),v=Math.max.apply(Math,r),b=i-u,x=v-c;return e&&(b+=e,x+=e),{centerX:(u+i)/2,centerY:(c+v)/2,maxX:i,maxY:v,minX:u,minY:c,x:(u+i)/2,y:(c+v)/2,height:x,width:b}},Bu=function(t){var e=t.minX,n=t.minY,r=t.maxX,u=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:u},{x:e,y:u}]},Xa=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Xo=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Yt=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Il=function(t,e){return Xo(t,e.x).concat(Yt(t,e.y))},kr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Rl=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},pn=function(t,e,n,r,u){return kr(t,e)+kr(t,n)+Rl(t,[e,n,r,u])},Sp=function t(e,n,r,u,i){i||(i=0),e.unshift(n[u]),r[u]&&r[u]!==u&&i<=100&&t(e,n,r,r[u],i+1)},Ll=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},ci=function(t,e,n,r){var u=e.x-t.x,i=e.y-t.y,c=r.x-n.x,v=r.y-n.y,b=(-i*(t.x-n.x)+u*(t.y-n.y))/(-c*i+u*v),x=(c*(t.y-n.y)-v*(t.x-n.x))/(-c*i+u*v);return b>=0&&b<=1&&x>=0&&x<=1},zl=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=ta(Bu(n),4),u=r[0],i=r[1],c=r[2],v=r[3];return ci(t,e,u,i)||ci(t,e,u,v)||ci(t,e,i,c)||ci(t,e,c,v)},jp=function(t,e,n,r){var u=[];return t.forEach(function(i){i!==e&&(i.x!==e.x&&i.y!==e.y||zl(i,e,n)||zl(i,e,r)||u.push(i))}),si(u)},Pp=function(t,e,n,r,u,i,c){var v=[],b=[e],x={},P={},D={};P[e.id]=0,D[e.id]=pn(e,n,e);var L={};t.forEach(function(oe){L[oe.id]=oe});for(var U=function(){var oe=void 0,ye=1/0;if(b.forEach(function(xe){D[xe.id]<ye&&(ye=D[xe.id],oe=xe)}),oe===n){var me=[];return Sp(me,L,x,n.id),{v:me}}Ll(b,oe),v.push(oe),jp(t,oe,r,u).forEach(function(xe){if(v.indexOf(xe)===-1){b.indexOf(xe)===-1&&b.push(xe);var Me=D[oe.id]+kr(oe,xe);P[xe.id]&&Me>=P[xe.id]||(x[xe.id]=oe.id,P[xe.id]=Me,D[xe.id]=P[xe.id]+pn(xe,n,e,i,c))}})};b.length;){var Z=U();if(Ys(Z)==="object")return Z.v}return[e,n]},Bl=function(t){return Jr(t)},Fu=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],u=t[e+1];n.x===r.x&&r.x===u.x||n.y===r.y&&r.y===u.y?t.splice(e,1):e++}return t},Wu=function(t,e,n,r,u){var i=Bl(n),c=Bl(r),v=Wa(i,u),b=Wa(c,u),x=vr(v,i,t),P=vr(b,c,e);if(Dl(v,b)){var D=Gl(t,e,x,P);return[t,x].concat(ui(D),[P,e])}var L=Ga([x,P]),U=Mi(v,L),Z=Mi(b,L),oe=[];oe=(oe=oe.concat(Bu(U))).concat(Bu(Z));var ye={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[L,U,Z].forEach(function(xe){oe=oe.concat(Il(xe,ye).filter(function(Me){return Xa(Me,v)&&Xa(Me,b)}))}),[{x:x.x,y:P.y},{x:P.x,y:x.y}].forEach(function(xe){Xa(xe,v)&&Xa(xe,b)&&oe.push(xe)}),oe.unshift(x),oe.push(P),oe=si(oe);var me=Pp(oe,x,P,i,c,t,e);return me.unshift(t),me.push(e),me.length>2&&(me=Fu(me)),si(me)},Mp=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],u=tr(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var c=t[i],v=t[i+1],b=tr(c.x,c.y,v.x,v.y);b>u&&(u=b,n=c,r=v)}e=[n,r]}return e},Fl=function(t,e,n){var r=zr(t,n),u=zr(e,n);return r&&u},Wl=function(t,e,n){var r=zr(t,n),u=zr(e,n);return!(r&&u)&&(r||u)},rr=function(t,e,n){for(var r,u,i=Jr(n),c=Bu(i),v=0;v<c.length;v++)ci(t,e,c[v],c[(v+1)%c.length])&&(u=[c[v],c[(v+1)%c.length]]);return u&&(r=function(b,x,P,D){var L=(x.y-b.y)*(D.x-P.x)-(b.x-x.x)*(P.y-D.y);if(L===0)return!1;var U=((x.x-b.x)*(D.x-P.x)*(P.y-b.y)+(x.y-b.y)*(D.x-P.x)*b.x-(D.y-P.y)*(x.x-b.x)*P.x)/L,Z=-((x.y-b.y)*(D.y-P.y)*(P.x-b.x)+(x.x-b.x)*(D.y-P.y)*b.y-(D.x-P.x)*(x.y-b.y)*P.y)/L;return(U-b.x)*(U-x.x)<=0&&(Z-b.y)*(Z-x.y)<=0&&(U-P.x)*(U-D.x)<=0&&(Z-P.y)*(Z-D.y)<=0&&{x:U,y:Z}}(t,e,u[0],u[1])),r},hr=function(t,e){var n;return t.x===e.x?n=wn.VERTICAL:t.y===e.y&&(n=wn.HORIZONTAL),n},Ai=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var u=ta(r.split(","),2),i=u[0],c=u[1];n.push({x:Number(i),y:Number(c)})}),n},Gl=function(t,e,n,r){var u=[];if(hr(t,n)===hr(e,r))t.y===n.y?(u.push({x:n.x,y:(n.y+r.y)/2}),u.push({x:r.x,y:(n.y+r.y)/2})):(u.push({x:(n.x+r.x)/2,y:n.y}),u.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},c=Et(i,t,n),v=Et(i,e,r);if(c||v)i={x:r.x,y:n.y};else{var b=Ap(i,t,n),x=Ap(i,e,r);b&&x&&(i={x:r.x,y:n.y})}u.push(i)}return u},Ap=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Xl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Vs=null,Tp=function(t,e){Vs||(Vs=document.createElement("canvas"));var n=Vs.getContext("2d");return n.font=e,n.measureText(t).width},Hl=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var u={start:n,end:r,offset:10,verticalLength:5},i=Lu(Us(Us({},u),{},{type:"start"})),c=Lu(Us(Us({},u),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY,` 
    L`).concat(i.rightX," ").concat(i.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Ti=function(t){var e=t.start,n=t.end,r=t.sourceNode,u=t.targetNode,i=t.offset,c=Jr(r),v=Jr(u),b=Wa(c,i),x=Wa(v,i);return{sNext:vr(b,c,e),ePre:vr(x,v,n)}},$s=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Gu(e[0]),Gu(e[1]),Gu(e[2]),Gu(e[3])]},Gu=function(t){var e=ta(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Ks=function(t,e){var n=ta(t,4);return[Gt(n[0],n[1],n[2],n[3],e),t[3]]},Ul=function(t,e){for(var n,r=t.x,u=t.y,i=Ai(e),c=Number.MAX_SAFE_INTEGER,v=[],b=0;b<i.length;b++)v.push({start:i[b],end:i[(b+1)%i.length]});if(v.forEach(function(L){var U=L.start,Z=L.end;if(U.x===Z.x){var oe={x:U.x,y:u};if(Et(oe,U,Z)){var ye=Math.abs(U.x-r);ye<c&&(c=ye,n=oe)}}else if(U.y===Z.y){var me={x:r,y:U.y};if(Et(me,U,Z)){var xe=Math.abs(U.y-u);xe<c&&(c=xe,n=me)}}}),!n){var x=v[0],P=x.start,D=x.end;n={x:P.x+(D.x-P.x)/2,y:P.y+(D.y-P.y)/2}}return n},kp=function(t){return ti(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Yl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Np(t,e){return typeof e!="function"?function(n,r,u){return Object.assign({type:t.edgeType},u)}:function(n,r,u){var i=e(n,r,u);return i?typeof i=="string"?Object.assign({},u,{type:i}):Object.assign({type:i},u):{type:t.edgeType}}}o(207);var Ha=function(){};function xd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xo=window.document;function Dp(t){var e=t.onDragStart,n=e===void 0?Ha:e,r=t.onDragging,u=r===void 0?Ha:r,i=t.onDragEnd,c=i===void 0?Ha:i,v=t.step,b=v===void 0?1:v,x=t.isStopPropagation,P=x===void 0||x,D=!1,L=!1,U=0,Z=0,oe=0,ye=0;function me(Me){if(P&&Me.stopPropagation(),L&&(D=!0,oe+=Me.clientX-U,ye+=Me.clientY-Z,U=Me.clientX,Z=Me.clientY,Math.abs(oe)>b||Math.abs(ye)>b)){var qe=oe%b,Je=ye%b,yt=oe-qe,et=ye-Je;oe=qe,ye=Je,u({deltaX:yt,deltaY:et,event:Me})}}function xe(Me){if(P&&Me.stopPropagation(),L=!1,xo.removeEventListener("mousemove",me,!1),xo.removeEventListener("mouseup",xe,!1),D)return D=!1,c({event:Me})}return function(Me){if(Me.button===0)return P&&Me.stopPropagation(),L=!0,U=Me.clientX,Z=Me.clientY,xo.addEventListener("mousemove",me,!1),xo.addEventListener("mouseup",xe,!1),n({event:Me})}}var Ho=function(){function t(r){var u=this,i=r.onDragStart,c=i===void 0?Ha:i,v=r.onDragging,b=v===void 0?Ha:v,x=r.onDragEnd,P=x===void 0?Ha:x,D=r.eventType,L=D===void 0?"":D,U=r.eventCenter,Z=U===void 0?null:U,oe=r.step,ye=oe===void 0?1:oe,me=r.isStopPropagation,xe=me===void 0||me,Me=r.model,qe=Me===void 0?null:Me,Je=r.data,yt=Je===void 0?null:Je;(function(et,Ot){if(!(et instanceof Ot))throw new TypeError("Cannot call a class as a function")})(this,t),Yn(this,"onDragStart",void 0),Yn(this,"onDragging",void 0),Yn(this,"onDragEnd",void 0),Yn(this,"step",void 0),Yn(this,"isStopPropagation",void 0),Yn(this,"isDragging",!1),Yn(this,"isStartDragging",!1),Yn(this,"startX",0),Yn(this,"startY",0),Yn(this,"sumDeltaX",0),Yn(this,"sumDeltaY",0),Yn(this,"eventType",void 0),Yn(this,"eventCenter",void 0),Yn(this,"model",void 0),Yn(this,"data",void 0),Yn(this,"startTime",void 0),Yn(this,"handleMouseDown",function(et){var Ot,nt;if(et.button===0){u.isStopPropagation&&et.stopPropagation(),u.isStartDragging=!0,u.startX=et.clientX,u.startY=et.clientY,xo.addEventListener("mousemove",u.handleMouseMove,!1),xo.addEventListener("mouseup",u.handleMouseUp,!1);var tn=(Ot=u.model)===null||Ot===void 0?void 0:Ot.getData();(nt=u.eventCenter)===null||nt===void 0||nt.emit(pt["".concat(u.eventType,"_MOUSEDOWN")],{e:et,data:u.data||tn}),u.startTime=new Date().getTime()}}),Yn(this,"handleMouseMove",function(et){if(u.isStopPropagation&&et.stopPropagation(),u.isStartDragging&&(u.sumDeltaX+=et.clientX-u.startX,u.sumDeltaY+=et.clientY-u.startY,u.startX=et.clientX,u.startY=et.clientY,u.step<=1||Math.abs(u.sumDeltaX)>u.step||Math.abs(u.sumDeltaY)>u.step)){var Ot,nt=u.sumDeltaX%u.step,tn=u.sumDeltaY%u.step,on=u.sumDeltaX-nt,Xt=u.sumDeltaY-tn;u.sumDeltaX=nt,u.sumDeltaY=tn;var un,Zn=(Ot=u.model)===null||Ot===void 0?void 0:Ot.getData();u.isDragging||((un=u.eventCenter)===null||un===void 0||un.emit(pt["".concat(u.eventType,"_DRAGSTART")],{e:et,data:u.data||Zn}),u.onDragStart({event:et})),u.isDragging=!0,Promise.resolve().then(function(){var Jn,eo;u.onDragging({deltaX:on,deltaY:Xt,event:et}),(Jn=u.eventCenter)===null||Jn===void 0||Jn.emit(pt["".concat(u.eventType,"_MOUSEMOVE")],{e:et,data:u.data||Zn}),(eo=u.eventCenter)===null||eo===void 0||eo.emit(pt["".concat(u.eventType,"_DRAG")],{e:et,data:u.data||Zn})})}}),Yn(this,"handleMouseUp",function(et){u.isStartDragging=!1,u.isStopPropagation&&et.stopPropagation(),Promise.resolve().then(function(){var Ot,nt,tn;xo.removeEventListener("mousemove",u.handleMouseMove,!1),xo.removeEventListener("mouseup",u.handleMouseUp,!1);var on=(Ot=u.model)===null||Ot===void 0?void 0:Ot.getData();(nt=u.eventCenter)===null||nt===void 0||nt.emit(pt["".concat(u.eventType,"_MOUSEUP")],{e:et,data:u.data||on}),u.isDragging&&(u.isDragging=!1,u.onDragEnd({event:et}),(tn=u.eventCenter)===null||tn===void 0||tn.emit(pt["".concat(u.eventType,"_DROP")],{e:et,data:u.data||on}))})}),Yn(this,"cancelDrag",function(){xo.removeEventListener("mousemove",u.handleMouseMove,!1),xo.removeEventListener("mouseup",u.handleMouseUp,!1),u.onDragEnd({event:null}),u.isDragging=!1}),this.onDragStart=c,this.onDragging=b,this.onDragEnd=P,this.step=ye,this.isStopPropagation=xe,this.eventType=L,this.eventCenter=Z,this.model=qe,this.data=yt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&xd(e.prototype,n),t}();function Xu(t){return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Vl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wr(t,e,n){return e&&Cp(t.prototype,e),n&&Cp(t,n),t}function Hu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yu(t,e)}function $l(t){var e=Ip();return function(){var n,r=Ua(t);if(e){var u=Ua(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Ed(this,n)}}function Ed(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return li(t)}function li(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uu(t){var e=typeof Map=="function"?new Map:void 0;return Uu=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,u)}function u(){return Kl(n,arguments,Ua(this).constructor)}return u.prototype=Object.create(n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),Yu(u,n)},Uu(t)}function Kl(t,e,n){return Kl=Ip()?Reflect.construct:function(r,u,i){var c=[null];c.push.apply(c,u);var v=new(Function.bind.apply(r,c));return i&&Yu(v,i.prototype),v},Kl.apply(null,arguments)}function Ip(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yu(t,e){return Yu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Yu(t,e)}function Ua(t){return Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ua(t)}function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rp(t,e){return t instanceof or&&e instanceof or}var qs=function(t){Hu(n,t);var e=$l(n);function n(r,u,i){var c;return Vl(this,n),ql(li(c=e.call(this,3)),"x",void 0),ql(li(c),"y",void 0),ql(li(c),"z",void 0),c[0]=r,c[1]=u,c[2]=i,c.x=r,c.y=u,c.z=i,Object.setPrototypeOf(li(c),n.prototype),c}return wr(n,[{key:"add",value:function(r){if(Rp(this,r))return new or(this.x+r.x,this.y+r.y);var u=this.z+r.z;return new Zs((this.x+r.x)/u,(this.y+r.y)/u)}},{key:"subtract",value:function(r){if(Rp(this,r))return new or(this.x-r.x,this.y-r.y);var u=this.z-r.z;return u===0?new or(this.x-r.x,this.y-r.y):new Zs((this.x-r.x)/u,(this.y-r.y)/u)}}]),n}(Uu(Array)),or=function(t){Hu(n,t);var e=$l(n);function n(r,u,i){var c;return Vl(this,n),c=e.call(this,r,u,i??0),Object.setPrototypeOf(li(c),n.prototype),c}return wr(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var u=this;return r.reduce(function(i,c,v){return i+c*u[v]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var u=this.crossZ(r),i=Math.acos(this.normalize().dot(r.normalize()));return u>=0?i:-i}}]),n}(qs),Zs=function(t){Hu(n,t);var e=$l(n);function n(r,u){var i;return Vl(this,n),i=e.call(this,r,u,1),Object.setPrototypeOf(li(i),n.prototype),i}return wr(n,[{key:"toString",value:function(){return"Point"}}]),n}(qs);o(67),o(217);function Zl(t){return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Jl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||Js(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lp(t){return function(e){if(Array.isArray(e))return Ql(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Js(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Js(t,e){if(t){if(typeof t=="string")return Ql(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ql(t,e):void 0}}function Ql(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&zp(t.prototype,e),n&&zp(t,n),t}function d(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}function _(t){var e=fe();return function(){var n,r=Re(t);if(e){var u=Re(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(t)}function I(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t){var e=typeof Map=="function"?new Map:void 0;return X=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,u)}function u(){return ie(n,arguments,Re(this).constructor)}return u.prototype=Object.create(n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),_e(u,n)},X(t)}function ie(t,e,n){return ie=fe()?Reflect.construct:function(r,u,i){var c=[null];c.push.apply(c,u);var v=new(Function.bind.apply(r,c));return i&&_e(v,i.prototype),v},ie.apply(null,arguments)}function fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _e(t,e){return _e=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_e(t,e)}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(t)}function Ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var te,lt,dt,Mt,Be,Ue,Nt,ut,Dt,Rt,Jt,_t,At,Fn=function(t){d(n,t);var e=_(n);function n(){var r;Qs(this,n);for(var u=arguments.length,i=new Array(u),c=0;c<u;c++)i[c]=arguments[c];return Ne(I(r=e.call(this,i.length)),"rows",void 0),Ne(I(r),"columns",void 0),r.fill(new Array(3)),i.forEach(function(v,b){r[b]=v}),r.columns=i[0].length,r.rows=i.length,Object.setPrototypeOf(I(r),n.prototype),r}return s(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return Lp(this.map(function(u){return u[r]}))}},{key:"transpose",value:function(){for(var r=[],u=0;u<this.columns;u++)r.push(this.getColumn(u));return ie(n,r)}},{key:"cross",value:function(r){var u=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var i=0;i<this.rows;i++)for(var c=this.getRow(i),v=function(x){var P=r.getColumn(x);u[i][x]=c.reduce(function(D,L,U){return D+L*P[U]},0)},b=0;b<r.columns;b++)v(b);return ie(n,Lp(u))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new Zs(r[0],r[1])})}},{key:"toString",value:function(){var r=Jl(this[0],2),u=r[0],i=r[1],c=Jl(this[1],2),v=c[0],b=c[1],x=Jl(this[2],2),P=x[0],D=x[1];return"matrix(".concat(u," ").concat(i," ").concat(v," ").concat(b," ").concat(P," ").concat(D,")")}},{key:"translate",value:function(r,u){return this.cross(new Wn(r,u))}},{key:"rotate",value:function(r){return this.cross(new Wr(r))}},{key:"scale",value:function(r,u){return this.cross(new Eo(r,u))}}]),n}(X(Array)),Wr=function(t){d(n,t);var e=_(n);function n(r){var u;return Qs(this,n),u=e.call(this,new or(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new or(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new or(0,0,1)),Object.setPrototypeOf(I(u),n.prototype),u}return s(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(Fn),Eo=function(t){d(n,t);var e=_(n);function n(r,u){var i;return Qs(this,n),Ne(I(i=e.call(this,new or(r,0,0),new or(0,u,0),new or(0,0,1))),"sx",void 0),Ne(I(i),"sy",void 0),i.sx=r,i.sy=u,Object.setPrototypeOf(I(i),n.prototype),i}return s(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(Fn),Wn=function(t){d(n,t);var e=_(n);function n(r,u){var i;return Qs(this,n),Ne(I(i=e.call(this,new or(1,0,0),new or(0,1,0),new or(r,u,1))),"tx",void 0),Ne(I(i),"ty",void 0),i.tx=r,i.ty=u,Object.setPrototypeOf(I(i),n.prototype),i}return s(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(Fn),Uo={node:!1,edge:!1},ki={node:!0,edge:!0};function Ya(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ya(Object(n),!0).forEach(function(r){Xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yo(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||ef(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fo(t){return function(e){if(Array.isArray(e))return ec(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ef(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ef(t,e){if(t){if(typeof t=="string")return ec(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(t,e):void 0}}function ec(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ra(t){return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(t)}function Gr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Vu,$u=200,kg=(te=function(){function t(r){(function(U,Z){if(!(U instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,t),Xr(this,"rootEl",void 0),Gr(this,"width",lt,this),Gr(this,"height",dt,this),Xr(this,"theme",void 0),Xr(this,"eventCenter",void 0),Xr(this,"modelMap",new Map),Xr(this,"topElement",void 0),Xr(this,"animation",void 0),Xr(this,"idGenerator",void 0),Xr(this,"edgeGenerator",void 0),Xr(this,"nodeMoveRules",[]),Xr(this,"customTrajectory",void 0),Gr(this,"edgeType",Mt,this),Gr(this,"nodes",Be,this),Gr(this,"edges",Ue,this),Gr(this,"overlapMode",Nt,this),Gr(this,"background",ut,this),Gr(this,"transformModel",Dt,this),Gr(this,"editConfigModel",Rt,this),Gr(this,"gridSize",Jt,this),Gr(this,"partial",_t,this),Gr(this,"fakerNode",At,this);var u,i=r.container,c=r.background,v=c===void 0?{}:c,b=r.grid,x=r.idGenerator,P=r.edgeGenerator,D=r.animation,L=r.customTrajectory;this.background=v,ra(b)==="object"&&(this.gridSize=b.size),this.rootEl=i,this.editConfigModel=new Hc(r),this.eventCenter=new Ns,this.transformModel=new Gf(this.eventCenter,r),this.theme=ku(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(u=D)&&typeof u!="boolean"?Tu(Tn(Uo),u):Tn(u===!0?ki:Uo),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=L,this.edgeGenerator=Np(this,P),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=wo()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,u,i){return r[u.id]={index:i,model:u},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,u,i){return r[u.id]={index:i,model:u},r},{})}},{key:"modelsMap",get:function(){return[].concat(fo(this.nodes),fo(this.edges)).reduce(function(r,u){return r[u.id]=u,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,P){return x.zIndex-P.zIndex});for(var u=[],i=[-200,-200],c=[this.width+$u,this.height+$u],v=0;v<r.length;v++){var b=r[v];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,i,c,!1,!1))&&u.push(b)}return u}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===fn.TEXT_EDIT}),u=this.edges.find(function(i){return i.state===fn.TEXT_EDIT});return r||u}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(u){u.isSelected&&r.set(u.id,u)}),this.edges.forEach(function(u){u.isSelected&&r.set(u.id,u)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(u){u.isSelected&&r.push(u)}),r}},{key:"getAreaElement",value:function(r,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],x=[];this.nodes.forEach(function(L){return x.push(L)}),this.edges.forEach(function(L){return x.push(L)});for(var P=0;P<x.length;P++){var D=x[P];v&&!D.visible||!this.isElementInArea(D,r,u,i,c)||b.push(D)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var u;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(u=this.nodesMap[r])===null||u===void 0?void 0:u.model}},{key:"getPointByClient",value:function(r){var u=r.x,i=r.y,c=this.rootEl.getBoundingClientRect(),v={x:u-c.left,y:i-c.top},b=Yo(this.transformModel.HtmlPointToCanvasPoint([v.x,v.y]),2);return{domOverlayPosition:v,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,u,i){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===qn.NODE){for(var b=Jr(r=r),x=b.minX,P=b.minY,D=b.maxX,L=b.maxY,U=[{x,y:P},{x:D,y:P},{x:D,y:L},{x,y:L}],Z=v,oe=0;oe<U.length;oe++){var ye=U[oe],me=ye.x,xe=ye.y,Me=this.transformModel.CanvasPointToHtmlPoint([me,xe]),qe=Yo(Me,2);if(me=qe[0],xe=qe[1],Is([me,xe],u,i)!==v){Z=!v;break}}return Z}if(r.BaseType===qn.EDGE){var Je=r=r,yt=Je.startPoint,et=Je.endPoint,Ot=this.transformModel.CanvasPointToHtmlPoint([yt.x,yt.y]),nt=this.transformModel.CanvasPointToHtmlPoint([et.x,et.y]),tn=Is(Ot,u,i),on=Is(nt,u,i);return c?tn&&on:tn||on}return!1}},{key:"graphDataToModel",value:function(r){var u=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=ds(r.nodes,function(i){var c=u.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的节点。"));var v=i.x,b=i.y;return v&&b&&(i.x=Fo(v,u.gridSize),i.y=Fo(b,u.gridSize),ra(i.text)==="object"&&(i.text.x-=Ca(v,u.gridSize),i.text.y-=Ca(b,u.gridSize))),new c(i,u)}):this.nodes=[],r.edges?this.edges=ds(r.edges,function(i){var c=u.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的边。"));return new c(i,u)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var c=i.getData();c&&!i.virtual&&r.push(c)});var u=[];return this.nodes.forEach(function(i){var c=i.getData();c&&!i.virtual&&u.push(c)}),{nodes:u,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,u=[],i=0;i<this.nodes.length;i++){var c=this.nodes[i];if(c.isDragging){r=!0;break}u.push(c.getHistoryData())}if(r)return!1;for(var v=!1,b=[],x=0;x<this.edges.length;x++){var P=this.edges[x];if(P.isDragging){v=!0;break}b.push(P.getHistoryData())}return!v&&{nodes:u,edges:b}}},{key:"getEdgeModelById",value:function(r){var u;return(u=this.edgesMap[r])===null||u===void 0?void 0:u.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var u=[],i=0;i<this.edges.length;i++){var c=this.edges[i],v=this.edges[i].sourceNodeId===r,b=this.edges[i].targetNodeId===r;(v||b)&&u.push(c)}return u}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],u=this.selectElements,i={nodes:[],edges:[]};return u.forEach(function(c){if(c.BaseType===qn.NODE&&i.nodes.push(c.getData()),c.BaseType===qn.EDGE){var v=c.getData(),b=u.get(v.sourceNodeId)&&u.get(v.targetNodeId);(r||b)&&i.edges.push(v)}}),i}},{key:"updateAttributes",value:function(r,u){this.getElement(r).updateAttributes(u)}},{key:"changeNodeId",value:function(r,u){return u||(u=wo()),this.nodesMap[u]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=u),i.targetNodeId===r&&(i.targetNodeId=u)}),this.nodesMap[r].model.id=u,this.nodesMap[u]=this.nodesMap[r],u):""}},{key:"changeEdgeId",value:function(r,u){return u||(u=wo()),this.edgesMap[u]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(u)}),u):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,u){return this.modelMap.set(r,u)}},{key:"toFront",value:function(r){var u,i,c,v=((u=this.nodesMap[r])===null||u===void 0?void 0:u.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);v&&(this.overlapMode===xn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),v.setZIndex(9999),this.topElement=v),this.overlapMode===xn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,u){var i,c,v,b=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);b&&(typeof u=="number"&&(v=u),u==="top"&&(v=Ol()),u==="bottom"&&(v=--yp),b.setZIndex(v))}},{key:"deleteNode",value:function(r){var u=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(pt.NODE_DELETE,{data:u})}},{key:"addNode",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,c=Sn(r);c.id&&this.nodesMap[r.id]&&delete c.id;var v=this.getModel(c.type);if(!v)throw new Error("找不到".concat(c.type,"对应的节点，请确认是否已注册此类型节点。"));c.x=Fo(c.x,this.gridSize),c.y=Fo(c.y,this.gridSize);var b=new v(c,this);this.nodes.push(b);var x=b.getData(),P={data:x};return i&&(P.e=i),this.eventCenter.emit(u,P),b}},{key:"cloneNode",value:function(r){var u=this.getNodeModelById(r),i=u.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var c=this.addNode(i);return c.setSelected(!0),u.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,u,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.getMoveDistance(u,i,c),P=Yo(x,2);u=P[0],i=P[1],this.moveEdge(r,u,i)}}},{key:"moveNode2Coordinate",value:function(r,u,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.x,P=b.y,D=u-x,L=i-P;this.moveNode(r,D,L,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,fn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var u=Sn(r),i=u.type;i||(i=this.edgeType),u.id&&this.edgesMap[u.id]&&delete u.id;var c=this.getModel(i);if(!c)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var v=new c(na(na({},u),{},{type:i}),this),b=v.getData();return this.edges.push(v),this.eventCenter.emit(pt.EDGE_ADD,{data:b}),v}},{key:"moveEdge",value:function(r,u,i){for(var c=0;c<this.edges.length;c++){var v=this.edges[c],b=v.textPosition,x=b.x,P=b.y,D=this.edges[c].sourceNodeId===r,L=this.edges[c].targetNodeId===r;D&&v.moveStartPoint(u,i),L&&v.moveEndPoint(u,i),(D||L)&&this.handleEdgeTextMove(v,x,P)}}},{key:"handleEdgeTextMove",value:function(r,u,i){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Kt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var v=r.text,b=Ul(v,r.points);r.moveText(b.x-v.x,b.y-v.y)}else{var x=r.textPosition,P=x.x,D=x.y;r.moveText(P-u,D-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,u){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===u){var c=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(pt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var u=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(u,1),this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var u=0;u<this.edges.length;u++)if(this.edges[u].sourceNodeId===r){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var u=0;u<this.edges.length;u++)if(this.edges[u].targetNodeId===r){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,u,i){this.nodes.forEach(function(c){c.id===r?c.setElementState(u,i):c.setElementState(fn.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(u,i):c.setElementState(fn.DEFAULT)})}},{key:"updateText",value:function(r,u){this.nodes.forEach(function(i){i.id===r&&i.updateText(u)}),this.edges.forEach(function(i){i.id===r&&i.updateText(u)})}},{key:"selectNodeById",value:function(r){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(u=this.nodesMap[r])===null||u===void 0?void 0:u.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(u=this.edgesMap[r])===null||u===void 0?void 0:u.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(u){u==null||u.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===xn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,u,i){for(var c=this,v=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce(function(qe,Je){var yt=c.nodesMap[Je].model.getMoveDistance(u,i,v);return qe[Je]=yt,qe},{}),x=0;x<this.edges.length;x++){var P=this.edges[x],D=P.textPosition,L=D.x,U=D.y,Z=b[P.sourceNodeId],oe=void 0,ye=void 0;if(Z){var me=Yo(Z,2);oe=me[0],ye=me[1],P.moveStartPoint(oe,ye)}var xe=b[P.targetNodeId];if(xe){var Me=Yo(xe,2);oe=Me[0],ye=Me[1],P.moveEndPoint(oe,ye)}(Z||xe)&&this.handleEdgeTextMove(P,L,U)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,u){var i=this.getNodeModelById(r);if(i){var c=i.getData();c.type=u;var v=this.getModel(u);if(!v)throw new Error("找不到".concat(u,"对应的节点，请确认是否已注册此类型节点。"));var b=new v(c,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var P=bl(b,x.startPoint,b.width,b.height);x.updateStartPoint(P)}if(x.targetNodeId===r){var D=bl(b,x.endPoint,b.width,b.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(r,u){var i=this.getEdgeModelById(r);if(i&&i.type!==u){var c=i.getData();c.type=u;var v=this.getModel(u);if(!v)throw new Error("找不到".concat(u,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var b=new v(c,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var u=[];return this.edges.forEach(function(i){i.targetNodeId===r&&u.push(i)}),u}},{key:"getNodeOutgoingEdge",value:function(r){var u=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&u.push(i)}),u}},{key:"getNodeIncomingNode",value:function(r){var u=this,i=[];return this.edges.forEach(function(c){c.targetNodeId===r&&i.push(u.nodesMap[c.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var u=this,i=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&i.push(u.nodesMap[c.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=ku(na(na({},this.theme),r))}},{key:"resize",value:function(r,u){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=u||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,u=[],i=[];r.forEach(function(D){var L=D.x,U=D.y,Z=D.width,oe=D.height,ye=D.getNodeStyle().strokeWidth,me=ye===void 0?0:ye,xe=L+Z/2+me,Me=L-Z/2-me,qe=U+oe/2+me,Je=U-oe/2-me;u=u.concat([xe,Me].filter(function(yt){return!Number.isNaN(yt)})),i=i.concat([qe,Je].filter(function(yt){return!Number.isNaN(yt)}))});var c=Math.min.apply(Math,fo(u)),v=Math.max.apply(Math,fo(u)),b=Math.min.apply(Math,fo(i)),x=v-c||0,P=Math.max.apply(Math,fo(i))-b||0;return{virtualRectWidth:x,virtualRectHeight:P,virtualRectCenterPositionX:c+x/2,virtualRectCenterPositionY:b+P/2}}},{key:"translateCenter",value:function(){var r=this.nodes,u=this.width,i=this.height,c=this.rootEl,v=this.transformModel;if(r.length){var b=u||c.clientWidth,x=i||c.clientHeight,P=this.getVirtualRectSize(),D=P.virtualRectCenterPositionX,L=P.virtualRectCenterPositionY;v.focusOn(D,L,b,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,c=this.width,v=this.height,b=this.rootEl,x=this.transformModel;if(i.length){var P=c||b.clientWidth,D=v||b.clientHeight,L=this.getVirtualRectSize(),U=L.virtualRectWidth,Z=L.virtualRectHeight,oe=L.virtualRectCenterPositionX,ye=L.virtualRectCenterPositionY,me=(U+u)/P,xe=(Z+r)/D,Me=0;Me=1/Math.max(me,xe);var qe=[P/2,D/2];x.zoom(Me,qe),x.focusOn(oe,ye,P,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&tc(e.prototype,n),t}(),lt=mt(te.prototype,"width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=mt(te.prototype,"height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=mt(te.prototype,"edgeType",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=mt(te.prototype,"nodes",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=mt(te.prototype,"edges",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=mt(te.prototype,"overlapMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.DEFAULT}}),ut=mt(te.prototype,"background",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=mt(te.prototype,"transformModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=mt(te.prototype,"editConfigModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=mt(te.prototype,"gridSize",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_t=mt(te.prototype,"partial",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),At=mt(te.prototype,"fakerNode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt(te.prototype,"nodesMap",[p.m],Object.getOwnPropertyDescriptor(te.prototype,"nodesMap"),te.prototype),mt(te.prototype,"edgesMap",[p.m],Object.getOwnPropertyDescriptor(te.prototype,"edgesMap"),te.prototype),mt(te.prototype,"modelsMap",[p.m],Object.getOwnPropertyDescriptor(te.prototype,"modelsMap"),te.prototype),mt(te.prototype,"sortElements",[p.m],Object.getOwnPropertyDescriptor(te.prototype,"sortElements"),te.prototype),mt(te.prototype,"textEditElement",[p.m],Object.getOwnPropertyDescriptor(te.prototype,"textEditElement"),te.prototype),mt(te.prototype,"selectElements",[p.m],Object.getOwnPropertyDescriptor(te.prototype,"selectElements"),te.prototype),mt(te.prototype,"selectNodes",[p.m],Object.getOwnPropertyDescriptor(te.prototype,"selectNodes"),te.prototype),mt(te.prototype,"setFakerNode",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"setFakerNode"),te.prototype),mt(te.prototype,"removeFakerNode",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"removeFakerNode"),te.prototype),mt(te.prototype,"setModel",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"setModel"),te.prototype),mt(te.prototype,"toFront",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"toFront"),te.prototype),mt(te.prototype,"setElementZIndex",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"setElementZIndex"),te.prototype),mt(te.prototype,"deleteNode",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"deleteNode"),te.prototype),mt(te.prototype,"addNode",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"addNode"),te.prototype),mt(te.prototype,"cloneNode",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"cloneNode"),te.prototype),mt(te.prototype,"moveNode",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"moveNode"),te.prototype),mt(te.prototype,"moveNode2Coordinate",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"moveNode2Coordinate"),te.prototype),mt(te.prototype,"editText",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"editText"),te.prototype),mt(te.prototype,"addEdge",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"addEdge"),te.prototype),mt(te.prototype,"moveEdge",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"moveEdge"),te.prototype),mt(te.prototype,"deleteEdgeBySourceAndTarget",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"deleteEdgeBySourceAndTarget"),te.prototype),mt(te.prototype,"deleteEdgeById",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"deleteEdgeById"),te.prototype),mt(te.prototype,"deleteEdgeBySource",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"deleteEdgeBySource"),te.prototype),mt(te.prototype,"deleteEdgeByTarget",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"deleteEdgeByTarget"),te.prototype),mt(te.prototype,"setElementStateById",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"setElementStateById"),te.prototype),mt(te.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"updateText"),te.prototype),mt(te.prototype,"selectNodeById",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"selectNodeById"),te.prototype),mt(te.prototype,"selectEdgeById",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"selectEdgeById"),te.prototype),mt(te.prototype,"selectElementById",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"selectElementById"),te.prototype),mt(te.prototype,"clearSelectElements",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"clearSelectElements"),te.prototype),mt(te.prototype,"moveNodes",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"moveNodes"),te.prototype),mt(te.prototype,"setDefaultEdgeType",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"setDefaultEdgeType"),te.prototype),mt(te.prototype,"changeNodeType",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"changeNodeType"),te.prototype),mt(te.prototype,"changeEdgeType",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"changeEdgeType"),te.prototype),mt(te.prototype,"getNodeIncomingEdge",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"getNodeIncomingEdge"),te.prototype),mt(te.prototype,"getNodeOutgoingEdge",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"getNodeOutgoingEdge"),te.prototype),mt(te.prototype,"getNodeIncomingNode",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"getNodeIncomingNode"),te.prototype),mt(te.prototype,"getNodeOutgoingNode",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"getNodeOutgoingNode"),te.prototype),mt(te.prototype,"setTheme",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"setTheme"),te.prototype),mt(te.prototype,"resize",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"resize"),te.prototype),mt(te.prototype,"clearData",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"clearData"),te.prototype),mt(te.prototype,"translateCenter",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"translateCenter"),te.prototype),mt(te.prototype,"fitView",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"fitView"),te.prototype),mt(te.prototype,"openEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"openEdgeAnimation"),te.prototype),mt(te.prototype,"closeEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(te.prototype,"closeEdgeAnimation"),te.prototype),te),K_=kg;function Sd(t){return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function jd(){return jd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jd.apply(this,arguments)}function q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pd(t,e){return Pd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pd(t,e)}function Z_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bp(t);if(e){var u=Bp(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return J_(this,n)}}function J_(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ni(t)}function Ni(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(t)}function oa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ng,Q_=di(Vu=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Pd(i,c)})(u,t);var e,n,r=Z_(u);function u(i){var c;(function(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,u),oa(Ni(c=r.call(this)),"stepDrag",void 0),oa(Ni(c),"stepScrollX",0),oa(Ni(c),"stepScrollY",0),oa(Ni(c),"onDragging",function(P){var D=P.deltaX,L=P.deltaY;c.setState({isDragging:!0});var U=c.props.graphModel,Z=U.transformModel;U.editConfigModel.stopMoveGraph!==!0&&Z.translate(D,L)}),oa(Ni(c),"onDragEnd",function(){c.setState({isDragging:!1})}),oa(Ni(c),"zoomHandler",function(P){var D=c.props,L=D.graphModel,U=L.editConfigModel,Z=L.transformModel,oe=L.gridSize,ye=D.graphModel,me=P.deltaX,xe=P.deltaY;if(U.stopScrollGraph||P.ctrlKey===!0){if(!U.stopZoomGraph){P.preventDefault();var Me=ye.getPointByClient({x:P.clientX,y:P.clientY}).canvasOverlayPosition,qe=Me.x,Je=Me.y;Z.zoom(P.deltaY<0,[qe,Je])}}else{if(P.preventDefault(),c.stepScrollX+=me,c.stepScrollY+=xe,Math.abs(c.stepScrollX)>=oe){var yt=c.stepScrollX%oe,et=c.stepScrollX-yt;Z.translate(-et*Z.SCALE_X,0),c.stepScrollX=yt}if(Math.abs(c.stepScrollY)>=oe){var Ot=c.stepScrollY%oe,nt=c.stepScrollY-Ot;Z.translate(0,-nt*Z.SCALE_Y),c.stepScrollY=Ot}}}),oa(Ni(c),"clickHandler",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){var D=c.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(pt.BLANK_CLICK,{e:P})}}),oa(Ni(c),"handleContextMenu",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){P.preventDefault();var D=c.props.graphModel,L=D.getPointByClient({x:P.clientX,y:P.clientY});D.eventCenter.emit(pt.BLANK_CONTEXTMENU,{e:P,position:L})}}),oa(Ni(c),"mouseDownHandler",function(P){var D=c.props.graphModel,L=D.eventCenter,U=D.editConfigModel,Z=D.transformModel.SCALE_X,oe=D.gridSize,ye=P.target,me=!U.adjustEdge&&!U.adjustNodePosition;(ye.getAttribute("name")==="canvas-overlay"||me)&&(U.stopMoveGraph!==!0?(c.stepDrag.setStep(oe*Z),c.stepDrag.handleMouseDown(P)):L.emit(pt.BLANK_MOUSEDOWN,{e:P}),c.clickHandler(P))});var v=i.graphModel,b=v.gridSize,x=v.eventCenter;return c.stepDrag=new Ho({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),c.state={isDragging:!1},c}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,v=c.children,b=c.dnd,x=this.state.isDragging;return Object(pe.g)("svg",jd({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(pe.g)("g",{transform:i},v))}}])&&q_(e.prototype,n),u}(pe.a))||Vu;function Md(t){return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function e1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ad(t,e){return Ad=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ad(t,e)}function n1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fp(t);if(e){var u=Fp(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return r1(this,n)}}function r1(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fp(t)}var o1=di(Ng=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ad(i,c)})(u,t);var e,n,r=n1(u);function u(){return e1(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,c=i.tool,v=i.graphModel,b=c.getTools().map(function(x){return Object(pe.g)(x,{graphModel:v,logicFlow:c.instance})});return c.components=b,b}},{key:"triggerToolRender",value:function(){var i=this.props,c=i.tool,v=i.graphModel,b=document.querySelector("#ToolOverlay_".concat(v.flowId)),x=c.getInstance();x.components.forEach(function(P){return P(x,b)}),x.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(pe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&t1(e.prototype,n),u}(pe.a))||Ng;function Td(t){return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function i1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kd(t,e){return kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kd(t,e)}function u1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wp(t);if(e){var u=Wp(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return s1(this,n)}}function s1(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wp(t)}var Dg,c1=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&kd(i,c)})(u,t);var e,n,r=u1(u);function u(){return i1(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.background;return Object(pe.g)("div",{className:"lf-background"},Object(pe.g)("div",{style:i,className:"lf-background-area"}))}}])&&a1(e.prototype,n),u}(pe.a);function Nd(t){return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function l1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dd(t,e){return Dd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dd(t,e)}function p1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gp(t);if(e){var u=Gp(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return h1(this,n)}}function h1(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cg(t)}function Cg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gp(t)}function d1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ig=di(Dg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Dd(i,c)})(u,t);var e,n,r=p1(u);function u(){var i;l1(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return d1(Cg(i=r.call.apply(r,[this].concat(v))),"id",wo()),i}return e=u,(n=[{key:"renderDot",value:function(){var i=this.props,c=i.config,v=c.color,b=c.thickness,x=b===void 0?2:b,P=i.size,D=i.visible,L=Math.min(Math.max(2,x),P/2),U=1;return D||(U=0),Object(pe.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:v,opacity:U})}},{key:"renderMesh",value:function(){var i=this.props,c=i.config,v=c.color,b=c.thickness,x=b===void 0?1:b,P=i.size,D=i.visible,L=Math.min(Math.max(1,x),P/2),U="M ".concat(P," 0 H0 M0 0 V0 ").concat(P),Z=1;return D||(Z=0),Object(pe.g)("path",{d:U,stroke:v,strokeWidth:L,opacity:Z})}},{key:"render",value:function(){var i=this.props,c=i.type,v=i.size,b=i.graphModel.transformModel,x=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),P="matrix(".concat(x,")");return Object(pe.g)("div",{className:"lf-grid"},Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(pe.g)("defs",null,Object(pe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:P,x:"0",y:"0",width:v,height:v},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(pe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&f1(e.prototype,n),u}(pe.a))||Dg;Ig.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function Cd(t){return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function y1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Rg(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Rg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lg,nc=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=y1(n,2),u=r[0],i=r[1];(u==="style"||Cd(i)!=="object")&&(e[u]=i)}),Object(pe.g)("line",e)};function Id(t){return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function zg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zg(Object(n),!0).forEach(function(r){v1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rd(t,e){return Rd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rd(t,e)}function b1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hp(t);if(e){var u=Hp(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return _1(this,n)}}function _1(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hp(t)}var Bg,O1=di(Lg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Rd(i,c)})(u,t);var e,n,r=b1(u);function u(){return g1(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,c=i.position,v=i.isShowHorizontal,b=i.isShowVertical,x=i.getStyle(),P=c.x,D=P===void 0?0:P,L=c.y,U=L===void 0?0:L,Z=Xp(Xp({x1:-1e5,y1:U,x2:1e5,y2:U},x),{},{stroke:v?x.stroke:"none"}),oe=Xp(Xp({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:b?x.stroke:"none"});return Object(pe.g)("g",{className:"lf-snapline"},Object(pe.g)(nc,Z),Object(pe.g)(nc,oe))}}])&&m1(e.prototype,n),u}(pe.a))||Lg;function Ld(t){return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function w1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Fg(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Fg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Va(t){var e=t.x,n=t.y,r=t.width,u=t.height,i=t.className,c=t.radius,v=e-r/2,b=n-u/2,x={};return Object.entries(t).forEach(function(P){var D=w1(P,2),L=D[0],U=D[1];Ld(U)!=="object"&&(x[L]=U)}),x.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",c&&(x.rx=c,x.ry=c),x.x=v,x.y=b,Object(pe.g)("rect",x)}function zd(t){return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function rc(){return rc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}function Wg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wg(Object(n),!0).forEach(function(r){x1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bd(t,e){return Bd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bd(t,e)}function j1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Up(t);if(e){var u=Up(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return P1(this,n)}}function P1(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Up(t)}Va.defaultProps={className:"",radius:""};var Xg,M1=di(Bg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Bd(i,c)})(u,t);var e,n,r=j1(u);function u(){return E1(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,c=i.nodes,v=i.editConfigModel,b=v.hoverOutline,x=v.nodeSelectedOutline,P=[];return c.forEach(function(D){if(D.isHovered||D.isSelected){var L=D.isHovered,U=D.isSelected,Z=D.x,oe=D.y,ye=D.width,me=D.height;if(x&&U||b&&L){var xe=D.getOutlineStyle(),Me={};if(Object.keys(xe).forEach(function(Je){Je!=="hover"&&(Me[Je]=xe[Je])}),L){var qe=xe.hover;Me=Gg(Gg({},Me),qe)}P.push(Object(pe.g)(Va,rc({transform:D.transform,className:"lf-outline-node",x:Z,y:oe,width:ye+10,height:me+10},Me)))}}}),P}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,c=i.edges,v=i.editConfigModel,b=v.edgeSelectedOutline,x=v.hoverOutline,P=[],D=0;D<c.length;D++){var L=c[D];(b&&L.isSelected||x&&L.isHovered)&&(L.modelType===Kt.LINE_EDGE?P.push(this.getLineOutline(L)):L.modelType===Kt.POLYLINE_EDGE?P.push(this.getPolylineOutline(L)):L.modelType===Kt.BEZIER_EDGE&&P.push(this.getBezierOutline(L)))}return P}},{key:"getLineOutline",value:function(i){var c=i.startPoint,v=i.endPoint,b=(c.x+v.x)/2,x=(c.y+v.y)/2,P=Math.abs(c.x-v.x)+10,D=Math.abs(c.y-v.y)+10,L=i.getOutlineStyle();return Object(pe.g)(Va,rc({className:"lf-outline-edge",x:b,y:x,width:P,height:D},L))}},{key:"getPolylineOutline",value:function(i){var c=i.points,v=Ai(c),b=Ga(v,8),x=b.x,P=b.y,D=b.width,L=b.height,U=i.getOutlineStyle();return Object(pe.g)(Va,rc({className:"lf-outline",x,y:P,width:D,height:L},U))}},{key:"getBezierOutline",value:function(i){var c=i.path,v=$s(c),b=Ga(v,8),x=b.x,P=b.y,D=b.width,L=b.height,U=i.getOutlineStyle();return Object(pe.g)(Va,rc({className:"lf-outline",x,y:P,width:D,height:L},U))}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&S1(e.prototype,n),u}(pe.a))||Bg;function Fd(t){return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function A1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Hg(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Hg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oc(t){var e=t.x,n=e===void 0?0:e,r=t.y,u=r===void 0?0:r,i=t.r,c=i===void 0?4:i,v=t.className,b={cx:n,cy:u,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var P=A1(x,2),D=P[0],L=P[1];Fd(L)!=="object"&&(b[D]=L)}),b.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(pe.g)("circle",b)}function Wd(t){return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function T1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ug(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Ug(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tf(){return tf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tf.apply(this,arguments)}function Yg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $g(t,e,n){return e&&Vg(t.prototype,e),n&&Vg(t,n),t}function Kg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gd(t,e)}function Gd(t,e){return Gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gd(t,e)}function qg(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vp(t);if(e){var u=Vp(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return k1(this,n)}}function k1(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yp(t)}function Yp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vp(t)}function Xd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zg,Jg=function(t){Kg(n,t);var e=qg(n);function n(){var r;return Yg(this,n),Xd(Yp(r=e.call(this)),"dragHandler",void 0),Xd(Yp(r),"onDragging",function(u){var i=u.event,c=r.props,v=c.graphModel,b=c.bezierModel,x=c.type,P=v.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,D=P.x,L=P.y;b.updateAdjustAnchor({x:D,y:L},x),v.eventCenter.emit(pt.EDGE_ADJUST,{data:b.getData()})}),Xd(Yp(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Ho({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return $g(n,[{key:"render",value:function(){var r=this,u=this.props.position,i=u.x,c=u.y,v=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(pe.g)(oc,tf({className:"lf-bezier-adjust-anchor",x:i,y:c},v,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n}(pe.a),N1=di(Xg=function(t){Kg(n,t);var e=qg(n);function n(){return Yg(this,n),e.apply(this,arguments)}return $g(n,[{key:"getBezierAdjust",value:function(r,u){var i=r.path,c=r.id,v=T1($s(i),4),b=v[0],x=v[1],P=v[2],D=v[3],L=r.getEdgeStyle().adjustLine,U=[];return U.push(Object(pe.g)(nc,tf({x1:b.x,y1:b.y,x2:x.x,y2:x.y},L))),U.push(Object(pe.g)(Jg,{position:x,bezierModel:r,graphModel:u,key:"".concat(c,"_ePre"),type:"sNext"})),U.push(Object(pe.g)(nc,tf({x1:D.x,y1:D.y,x2:P.x,y2:P.y},L))),U.push(Object(pe.g)(Jg,{position:P,bezierModel:r,graphModel:u,key:"".concat(c,"_sNext"),type:"ePre"})),U}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,u=r.edges,i=[],c=0;c<u.length;c++){var v=u[c];v.isSelected&&v.modelType===Kt.BEZIER_EDGE&&v.draggable&&i.push(this.getBezierAdjust(v,r))}return i}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(pe.a))||Xg;function Hd(t){return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function D1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ud(t,e){return Ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ud(t,e)}function I1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$p(t);if(e){var u=$p(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return R1(this,n)}}function R1(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$p(t)}var Qg,L1=di(Zg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ud(i,c)})(u,t);var e,n,r=I1(u);function u(){return D1(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(pe.g)("g",{transform:i},c))}}])&&C1(e.prototype,n),u}(pe.a))||Zg;function Yd(t){return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function Vd(){return Vd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}function z1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $d(t,e){return $d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$d(t,e)}function F1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Kp(t);if(e){var u=Kp(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return W1(this,n)}}function W1(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kp(t)}var G1=di(Qg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&$d(i,c)})(u,t);var e,n,r=F1(u);function u(){return z1(this,u),r.apply(this,arguments)}return e=u,n=[{key:"getComponent",value:function(i,c){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,x=b(i.type);return Object(pe.g)(x,{key:i.id,model:i,graphModel:c,overlay:v})}},{key:"render",value:function(){var i=this,c=this.props,v=c.graphModel,b=c.tool,x=c.options,P=c.dnd,D=c.snaplineModel,L={};x.width&&(L.width="".concat(v.width,"px")),x.height&&(L.height="".concat(v.height,"px"));var U=x.grid,Z=v.fakerNode,oe=v.editConfigModel.adjustEdge;return Object(pe.g)("div",{className:"lf-graph","flow-id":v.flowId,style:L},Object(pe.g)(Q_,{graphModel:v,dnd:P},Object(pe.g)("g",{className:"lf-base"},ds(v.sortElements,function(ye){return i.getComponent(ye,v)})),Z?this.getComponent(Z,v):""),Object(pe.g)(L1,{graphModel:v},Object(pe.g)(M1,{graphModel:v}),oe?Object(pe.g)(N1,{graphModel:v}):"",x.snapline!==!1?Object(pe.g)(O1,{snaplineModel:D}):""),Object(pe.g)(o1,{graphModel:v,tool:b}),x.background&&Object(pe.g)(c1,{background:x.background}),x.grid&&Object(pe.g)(Ig,Vd({},U,{graphModel:v})))}}],n&&B1(e.prototype,n),u}(pe.a))||Qg,X1=G1;function em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?em(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ia(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U1=function(){function t(r){var u=this;(function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),ia(this,"nodeConfig",void 0),ia(this,"lf",void 0),ia(this,"fakerNode",void 0),ia(this,"stopDrag",function(){u.nodeConfig=null,window.document.removeEventListener("mouseup",u.stopDrag)}),ia(this,"dragEnter",function(c){u.nodeConfig&&!u.fakerNode&&(u.fakerNode=u.lf.createFakerNode(qp(qp({},u.nodeConfig),u.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),ia(this,"onDragOver",function(c){if(c.preventDefault(),u.fakerNode){var v=u.clientToLocalPoint({x:c.clientX,y:c.clientY}),b=v.x,x=v.y;u.fakerNode.moveTo(b,x);var P=u.fakerNode.getData();u.lf.setNodeSnapLine(P),u.lf.graphModel.eventCenter.emit(pt.NODE_DND_DRAG,{data:P})}return!1}),ia(this,"onDragLeave",function(){u.fakerNode&&(u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)}),ia(this,"onDrop",function(c){u.lf.graphModel&&c&&u.nodeConfig&&(u.lf.addNode(qp(qp({},u.nodeConfig),u.clientToLocalPoint({x:c.clientX,y:c.clientY})),pt.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),u.nodeConfig=null,u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)});var i=r.lf;this.lf=i}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var u=r.x,i=r.y,c=Eu(this.lf.options,["grid","size"]),v=this.lf.graphModel.getPointByClient({x:u,y:i}).canvasOverlayPosition,b=v.x,x=v.y;return{x:Fo(b,c),y:Fo(x,c)}}},{key:"startDrag",value:function(r){this.lf.options.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&H1(e.prototype,n),t}();function tm(t){var e=t.container,n=t.grid,r=t.width,u=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof u=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=cr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),cr({},rm,t)}var dn,nm,rm={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Kd(t){return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function qd(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return om(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return om(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function om(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function im(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?im(Object(n),!0).forEach(function(r){am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):im(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function V1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nf(){return nf=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=K1(t,e);if(r){var u=Object.getOwnPropertyDescriptor(r,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},nf.apply(this,arguments)}function K1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=$a(t))!==null;);return t}function Zd(t,e){return Zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zd(t,e)}function q1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$a(t);if(e){var u=$a(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Z1(this,n)}}function Z1(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jp(t)}function Jp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $a(t){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$a(t)}function am(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fi(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Jd=(dn=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Zd(i,c)})(u,t);var e,n,r=q1(u);function u(){var i;V1(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return am(Jp(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.BEZIER_EDGE),Y1(Jp(i),"path",nm,Jp(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=100,nf($a(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return Zp(Zp({},nf($a(u.prototype),"getEdgeStyle",this).call(this)),Tn(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,c=0;return this.pointsList.forEach(function(v){var b=v.x,x=v.y;i+=b,c+=x}),{x:i/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=nf($a(u.prototype),"getData",this).call(this),c=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Zp(Zp({},i),{},{pointsList:c})}},{key:"getControls",value:function(){var i=this.startPoint,c=this.endPoint;return Ti({start:i,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var c=qd(i,4),v=c[0],b=c[1],x=c[2],P=c[3];return"M ".concat(v.x," ").concat(v.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(P.x," ").concat(P.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),c=i.sNext,v=i.ePre;this.updatePath(c,v)}},{key:"updatePath",value:function(i,c){i=Tn(i),c=Tn(c);var v={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!i||!c){var x=this.getControls();i=x.sNext,c=x.ePre}this.pointsList=[v,i,c,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c;var v=qd(this.pointsList,3),b=v[1],x=v[2];b.x+=i,b.y+=c,this.updatePath(b,x)}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c;var v=qd(this.pointsList,3),b=v[1],x=v[2];x.x+=i,x.y+=c,this.updatePath(b,x)}},{key:"updateAdjustAnchor",value:function(i,c){c==="sNext"?this.pointsList[1]=i:c==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,v=i.endPoint,b=i.sourceNode,x=i.targetNode,P=Ti({start:c,end:v,sourceNode:b,targetNode:x,offset:this.offset}),D=P.sNext,L=P.ePre;this.pointsList=[c,D,L,v],this.initPoints()}}])&&$1(e.prototype,n),u}(xl),nm=fi(dn.prototype,"path",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fi(dn.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"initPoints"),dn.prototype),fi(dn.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updatePoints"),dn.prototype),fi(dn.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateStartPoint"),dn.prototype),fi(dn.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateEndPoint"),dn.prototype),fi(dn.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"moveStartPoint"),dn.prototype),fi(dn.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"moveEndPoint"),dn.prototype),fi(dn.prototype,"updateAdjustAnchor",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateAdjustAnchor"),dn.prototype),fi(dn.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"getAdjustStart"),dn.prototype),fi(dn.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"getAdjustEnd"),dn.prototype),fi(dn.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateAfterAdjustStartAndEnd"),dn.prototype),dn),Ye,um,sm,cm,lm,fm,pm,hm,dm,ym,vm,gm,mm,bm,_m,Om,wm,xm,Em,Sm,jm,Pm,Mm,J1=function(t){return t==null};function Q1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||Am(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qd(t){return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Am(t,e){if(t){if(typeof t=="string")return Tm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tm(t,e):void 0}}function Tm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function km(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?km(Object(n),!0).forEach(function(r){po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ir(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function eO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function po(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var aa,Nm,ua=(Ye=function(){function t(r,u){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),po(this,"id",""),ir(this,"type",um,this),ir(this,"x",sm,this),ir(this,"y",cm,this),ir(this,"text",lm,this),ir(this,"properties",fm,this),ir(this,"_width",pm,this),ir(this,"_height",hm,this),ir(this,"anchorsOffset",dm,this),ir(this,"isSelected",ym,this),ir(this,"isHovered",vm,this),ir(this,"isShowAnchor",gm,this),ir(this,"isDragging",mm,this),ir(this,"isHitable",bm,this),ir(this,"draggable",_m,this),ir(this,"visible",Om,this),ir(this,"enableRotate",wm,this),po(this,"virtual",!1),po(this,"graphModel",void 0),ir(this,"zIndex",xm,this),ir(this,"state",Em,this),ir(this,"autoToFront",Sm,this),ir(this,"style",jm,this),ir(this,"transform",Pm,this),ir(this,"_rotate",Mm,this),po(this,"BaseType",qn.NODE),po(this,"modelType",Kt.NODE),po(this,"additionStateData",void 0),po(this,"targetRules",[]),po(this,"sourceRules",[]),po(this,"moveRules",[]),po(this,"hasSetTargetRules",!1),po(this,"hasSetSourceRules",!1),this.graphModel=u,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var u=this.x,i=u===void 0?0:u,c=this.y,v=c===void 0?0:c;this.transform=new Wn(-i,-v).rotate(r).translate(i,v).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var u=this.graphModel.idGenerator,i=u&&u(r.type),c=this.createId();r.id=c||i||wo()}this.formatText(r),cr(this,function(v){return ti(v,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===xn.INCREASE&&(this.zIndex=r.zIndex||Ol())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,u=r.x,i=r.y,c=r.value,v=this.properties;Object(p.x)(v)&&(v=Object(p.I)(v));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:v};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===xn.INCREASE&&(b.zIndex=this.zIndex),c&&(b.text={x:u,y:i,value:c}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Qr(Qr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Tn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return Tn(r)}},{key:"getAnchorStyle",value:function(r){var u=this.graphModel.theme.anchor;return Tn(u)}},{key:"getAnchorLineStyle",value:function(r){var u=this.graphModel.theme.anchorLine;return Tn(u)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Tn(r)}},{key:"isAllowConnectedAsSource",value:function(r,u,i,c){var v=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,x=!0,P=0;P<v.length;P++){var D=v[P];if(!D.validate.call(this,this,r,u,i,c)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,u,i,c){var v=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,x=!0,P=0;P<v.length;P++){var D=v[P];if(!D.validate.call(this,r,this,u,i,c)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"isAllowMoveNode",value:function(r,u){var i,c=!0,v=!0,b=function(D,L){var U=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!U){if(Array.isArray(D)||(U=Am(D))||L&&D&&typeof D.length=="number"){U&&(D=U);var Z=0,oe=function(){};return{s:oe,n:function(){return Z>=D.length?{done:!0}:{done:!1,value:D[Z++]}},e:function(Me){throw Me},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,me=!0,xe=!1;return{s:function(){U=U.call(D)},n:function(){var Me=U.next();return me=Me.done,Me},e:function(Me){xe=!0,ye=Me},f:function(){try{me||U.return==null||U.return()}finally{if(xe)throw ye}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(i=b.n()).done;){var x=(0,i.value)(this,r,u);if(!x)return!1;if(Qd(x)==="object"){var P=x;if(P.x===!1&&P.y===!1)return!1;c=c&&P.x,v=v&&P.y}}}catch(D){b.e(D)}finally{b.f()}return{x:c,y:v}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,u=this.id,i=this.x,c=this.y;return r&&r.length>0?r.map(function(v,b){return v.length?(v=v,{id:"".concat(u,"_").concat(b),x:i+v[0],y:c+v[1]}):Qr(Qr({},v=v),{},{x:i+v.x,y:c+v.y,id:v.id||"".concat(u,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(u,i){for(var c,v=Ws(i),b=Number.MAX_SAFE_INTEGER,x=0;x<v.length;x++){var P=tr(u.x,u.y,v[x].x,v[x].y);P<b&&(b=P,c={index:x,anchor:Pi(Pi({},v[x]),{},{x:v[x].x,y:v[x].y,id:v[x].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),u=this.x,i=this.y,c=this.rotate;return r.forEach(function(v){var b=v.x,x=v.y,P=Q1(new Fn([b,x,1]).translate(-u,-i).rotate(c).translate(u,i)[0],2),D=P[0],L=P[1];v.x=D,v.y=L}),r}},{key:"getAnchorInfo",value:function(r){if(!J1(r))for(var u=0;u<this.anchors.length;u++){var i=this.anchors[u];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,v=!1;if(i)c=!0,v=!0;else{var b=this.isAllowMoveNode(r,u);typeof b=="boolean"?(c=b,v=b):(c=b.x,v=b.y)}if(c){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(v){var P=this.y+u;this.y=P,this.text&&this.moveText(0,u)}return c||v}},{key:"getMoveDistance",value:function(r,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,v=!1,b=0,x=0;if(i)c=!0,v=!0;else{var P=this.isAllowMoveNode(r,u);typeof P=="boolean"?(c=P,v=P):(c=P.x,v=P.y)}if(c&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),b=r}if(v&&u){var L=this.y+u;this.y=L,this.text&&this.moveText(0,u),x=u}return[b,x]}},{key:"moveTo",value:function(r,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,v=u-this.y;return!(!i&&!this.isAllowMoveNode(c,v)||(this.text&&this.text&&this.moveText(c,v),this.x=r,this.y=u,0))}},{key:"moveText",value:function(r,u){var i=this.text,c=i.x,v=i.y,b=i.value,x=i.draggable,P=i.editable;this.text={value:b,editable:P,draggable:x,x:c+r,y:v+u}}},{key:"updateText",value:function(r){this.text=Qr(Qr({},Object(p.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,u){this.state=r,this.additionStateData=u}},{key:"setProperty",value:function(r,u){this.properties=Qr(Qr({},Object(p.I)(this.properties)),{},po({},r,Sn(u))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Qr(Qr({},Object(p.I)(this.properties)),Sn(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,u){this.style=Qr(Qr({},this.style),{},po({},r,Sn(u)))}},{key:"setStyles",value:function(r){this.style=Qr(Qr({},this.style),Sn(r))}},{key:"updateStyles",value:function(r){this.style=Qr({},Sn(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){cr(this,r)}}],n&&eO(e.prototype,n),t}(),um=Vt(Ye.prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sm=Vt(Ye.prototype,"x",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cm=Vt(Ye.prototype,"y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lm=Vt(Ye.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),fm=Vt(Ye.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pm=Vt(Ye.prototype,"_width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),hm=Vt(Ye.prototype,"_height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),dm=Vt(Ye.prototype,"anchorsOffset",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ym=Vt(Ye.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vm=Vt(Ye.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gm=Vt(Ye.prototype,"isShowAnchor",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mm=Vt(Ye.prototype,"isDragging",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bm=Vt(Ye.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_m=Vt(Ye.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Om=Vt(Ye.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wm=Vt(Ye.prototype,"enableRotate",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xm=Vt(Ye.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Em=Vt(Ye.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Sm=Vt(Ye.prototype,"autoToFront",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jm=Vt(Ye.prototype,"style",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Pm=Vt(Ye.prototype,"transform",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mm=Vt(Ye.prototype,"_rotate",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vt(Ye.prototype,"incoming",[p.m],Object.getOwnPropertyDescriptor(Ye.prototype,"incoming"),Ye.prototype),Vt(Ye.prototype,"outgoing",[p.m],Object.getOwnPropertyDescriptor(Ye.prototype,"outgoing"),Ye.prototype),Vt(Ye.prototype,"addNodeMoveRules",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"addNodeMoveRules"),Ye.prototype),Vt(Ye.prototype,"move",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"move"),Ye.prototype),Vt(Ye.prototype,"getMoveDistance",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"getMoveDistance"),Ye.prototype),Vt(Ye.prototype,"moveTo",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveTo"),Ye.prototype),Vt(Ye.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveText"),Ye.prototype),Vt(Ye.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateText"),Ye.prototype),Vt(Ye.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setSelected"),Ye.prototype),Vt(Ye.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHovered"),Ye.prototype),Vt(Ye.prototype,"setIsShowAnchor",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setIsShowAnchor"),Ye.prototype),Vt(Ye.prototype,"setEnableRotate",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setEnableRotate"),Ye.prototype),Vt(Ye.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHitable"),Ye.prototype),Vt(Ye.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setElementState"),Ye.prototype),Vt(Ye.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperty"),Ye.prototype),Vt(Ye.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperties"),Ye.prototype),Vt(Ye.prototype,"deleteProperty",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"deleteProperty"),Ye.prototype),Vt(Ye.prototype,"setStyle",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyle"),Ye.prototype),Vt(Ye.prototype,"setStyles",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyles"),Ye.prototype),Vt(Ye.prototype,"updateStyles",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateStyles"),Ye.prototype),Vt(Ye.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setZIndex"),Ye.prototype),Vt(Ye.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAttributes"),Ye.prototype),Ye);function ey(t){return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function Dm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dm(Object(n),!0).forEach(function(r){Im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ty(){return ty=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=oO(t,e);if(r){var u=Object.getOwnPropertyDescriptor(r,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},ty.apply(this,arguments)}function oO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ic(t))!==null;);return t}function ny(t,e){return ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ny(t,e)}function iO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ic(t);if(e){var u=ic(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return aO(this,n)}}function aO(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qp(t)}function Qp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ic(t){return ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ic(t)}function Im(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ry(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Hr,Rm,Lm,oy=(aa=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ny(i,c)})(u,t);var e,n,r=iO(u);function u(){var i;nO(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Im(Qp(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.CIRCLE_NODE),tO(Qp(i),"r",Nm,Qp(i)),i}return e=u,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=ty(ic(u.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return Cm(Cm({},i),Tn(c))}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.r;return[{x:i,y:c-v,id:"".concat(this.id,"_0")},{x:i+v,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+v,id:"".concat(this.id,"_2")},{x:i-v,y:c,id:"".concat(this.id,"_3")}]}}])&&rO(e.prototype,n),u}(ua),Nm=ry(aa.prototype,"r",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ry(aa.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(aa.prototype,"width"),aa.prototype),ry(aa.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(aa.prototype,"height"),aa.prototype),aa);o(129);function iy(t){return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function ay(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return zm(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return zm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bm(Object(n),!0).forEach(function(r){Gm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function uO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uy(){return uy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=cO(t,e);if(r){var u=Object.getOwnPropertyDescriptor(r,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},uy.apply(this,arguments)}function cO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=uc(t))!==null;);return t}function sy(t,e){return sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sy(t,e)}function lO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uc(t);if(e){var u=uc(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ac(t)}function ac(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uc(t){return uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uc(t)}function Gm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sc(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Di,Xm,Hm,cy=(Hr=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&sy(i,c)})(u,t);var e,n,r=lO(u);function u(){var i;uO(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Gm(ac(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.DIAMOND_NODE),Wm(ac(i),"rx",Rm,ac(i)),Wm(ac(i),"ry",Lm,ac(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=uy(uc(u.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return Fm(Fm({},i),Tn(c))}},{key:"points",get:function(){var i=this.x,c=this.y,v=this.rx,b=this.ry;return[[i,c-b],[i+v,c],[i,c+b],[i-v,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=ay(v,1)[0];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=ay(v,2)[1];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(c,v){var b=ay(c,2);return{x:b[0],y:b[1],id:"".concat(i.id,"_").concat(v)}})}}])&&sO(e.prototype,n),u}(ua),Rm=sc(Hr.prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Lm=sc(Hr.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),sc(Hr.prototype,"points",[p.m],Object.getOwnPropertyDescriptor(Hr.prototype,"points"),Hr.prototype),sc(Hr.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(Hr.prototype,"pointsPosition"),Hr.prototype),sc(Hr.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Hr.prototype,"width"),Hr.prototype),sc(Hr.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Hr.prototype,"height"),Hr.prototype),Hr);function ly(t){return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function Um(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Um(Object(n),!0).forEach(function(r){$m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function pO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fy(){return fy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=dO(t,e);if(r){var u=Object.getOwnPropertyDescriptor(r,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},fy.apply(this,arguments)}function dO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=lc(t))!==null;);return t}function py(t,e){return py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},py(t,e)}function yO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=lc(t);if(e){var u=lc(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return vO(this,n)}}function vO(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cc(t)}function cc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lc(t){return lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lc(t)}function $m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eh(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Vo,Km,hy=(Di=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&py(i,c)})(u,t);var e,n,r=yO(u);function u(){var i;pO(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return $m(cc(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.ELLIPSE_NODE),Vm(cc(i),"rx",Xm,cc(i)),Vm(cc(i),"ry",Hm,cc(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=fy(lc(u.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return Ym(Ym({},i),Tn(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.rx,b=this.ry;return[{x:i,y:c-b,id:"".concat(this.id,"_0")},{x:i+v,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b,id:"".concat(this.id,"_2")},{x:i-v,y:c,id:"".concat(this.id,"_3")}]}}])&&hO(e.prototype,n),u}(ua),Xm=eh(Di.prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Hm=eh(Di.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),eh(Di.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Di.prototype,"width"),Di.prototype),eh(Di.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Di.prototype,"height"),Di.prototype),Di);function dy(t){return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function yy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return qm(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return qm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zm(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function mO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vy(){return vy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=_O(t,e);if(r){var u=Object.getOwnPropertyDescriptor(r,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},vy.apply(this,arguments)}function _O(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=fc(t))!==null;);return t}function gy(t,e){return gy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gy(t,e)}function OO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fc(t);if(e){var u=fc(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return wO(this,n)}}function wO(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return th(t)}function th(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fc(t){return fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fc(t)}function Qm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nh(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var my,eb,by=(Vo=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&gy(i,c)})(u,t);var e,n,r=OO(u);function u(){var i;mO(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Qm(th(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYGON_NODE),gO(th(i),"points",Km,th(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=vy(fc(u.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return Jm(Jm({},i),Tn(c))}},{key:"pointsPosition",get:function(){var i=this.x,c=this.y,v=this.width,b=this.height;return this.points.map(function(x){return{x:x[0]+i-v/2,y:x[1]+c-b/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=yy(v,1)[0];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=yy(v,2)[1];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this,c=this.x,v=this.y,b=this.width,x=this.height;return this.points.map(function(P,D){var L=yy(P,2),U=L[0],Z=L[1];return{x:c+U-b/2,y:v+Z-x/2,id:"".concat(i.id,"_").concat(D)}})}}])&&bO(e.prototype,n),u}(ua),Km=nh(Vo.prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),nh(Vo.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(Vo.prototype,"pointsPosition"),Vo.prototype),nh(Vo.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Vo.prototype,"width"),Vo.prototype),nh(Vo.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Vo.prototype,"height"),Vo.prototype),Vo);function _y(t){return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function tb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tb(Object(n),!0).forEach(function(r){rb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function EO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oy(){return Oy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=jO(t,e);if(r){var u=Object.getOwnPropertyDescriptor(r,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},Oy.apply(this,arguments)}function jO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=pc(t))!==null;);return t}function wy(t,e){return wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wy(t,e)}function PO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pc(t);if(e){var u=pc(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return MO(this,n)}}function MO(t,e){if(e&&(_y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rh(t)}function rh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pc(t){return pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pc(t)}function rb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ka,xy=(my=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&wy(i,c)})(u,t);var e,n,r=PO(u);function u(){var i;EO(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return rb(rh(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.RECT_NODE),xO(rh(i),"radius",eb,rh(i)),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.width,b=this.height;return[{x:i,y:c-b/2,id:"".concat(this.id,"_0")},{x:i+v/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b/2,id:"".concat(this.id,"_2")},{x:i-v/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=Oy(pc(u.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return nb(nb({},i),Tn(c))}}])&&SO(e.prototype,n),u}(ua),eb=function(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(my.prototype,"radius",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),my);function Ey(t){return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ob(Object(n),!0).forEach(function(r){ub(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sy(){return Sy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=kO(t,e);if(r){var u=Object.getOwnPropertyDescriptor(r,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},Sy.apply(this,arguments)}function kO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hc(t))!==null;);return t}function jy(t,e){return jy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jy(t,e)}function NO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hc(t);if(e){var u=hc(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return DO(this,n)}}function DO(t,e){if(e&&(Ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ab(t)}function ab(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hc(t){return hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hc(t)}function ub(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sb(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Py=(Ka=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&jy(i,c)})(u,t);var e,n,r=NO(u);function u(){var i;AO(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return ub(ab(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.TEXT_NODE),i}return e=u,(n=[{key:"getTextStyle",value:function(){var i=Sy(hc(u.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return ib(ib({},i),Tn(c))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return _l({rows:i,fontSize:c,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return _l({rows:i,fontSize:c,rowsLength:i.length}).height}}])&&TO(e.prototype,n),u}(ua),sb(Ka.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Ka.prototype,"width"),Ka.prototype),sb(Ka.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Ka.prototype,"height"),Ka.prototype),Ka);function My(t){return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function CO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ay(t,e){return Ay=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ay(t,e)}function RO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=oh(t);if(e){var u=oh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return LO(this,n)}}function LO(t,e){if(e&&(My(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cb(t)}function cb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(t)}function zO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pi,lb,fb,pb,Ty=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ay(i,c)})(u,t);var e,n,r=RO(u);function u(){var i;CO(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return zO(cb(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.HTML_NODE),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.width,b=this.height;return[{x:i,y:c-b/2,id:"".concat(this.id,"_0")},{x:i+v/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b/2,id:"".concat(this.id,"_2")},{x:i-v/2,y:c,id:"".concat(this.id,"_3")}]}}])&&IO(e.prototype,n),u}(ua);function hb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function ky(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function BO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function db(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rf(t,e,n,r,u){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var yb=(pi=function(){function t(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),db(this,"graphModel",void 0),ky(this,"isShowHorizontal",lb,this),ky(this,"isShowVertical",fb,this),ky(this,"position",pb,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?hb(Object(i),!0).forEach(function(c){db(r,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):hb(Object(i)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(i,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,u){for(var i=r.x,c=r.y,v=!1,b=!1,x=0;x<u.length;x++){var P=u[x];if(P.id!==r.id&&(i===P.x&&(v=!0),c===P.y&&(b=!0),v&&b))break}return{isShowVertical:v,isShowHorizontal:b,position:{x:i,y:c}}}},{key:"getHorizontalSnapline",value:function(r,u){var i,c,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)c=Jr(x);else{var P=this.graphModel.getNodeModelById(b);c=Jr(P)}}for(var D=0;D<u.length;D++){var L=u[D];if(L.id!==r.id){var U=Jr(L);if(U.minY===c.minY||U.maxY===c.minY){v=!0,i=c.minY;break}if(U.minY===c.maxY||U.maxY===c.maxY){v=!0,i=c.maxY;break}}}return cr({isShowHorizontal:v,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,u){var i,c,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)c=Jr(x);else{var P=this.graphModel.getNodeModelById(b);c=Jr(P)}}for(var D=0;D<u.length;D++){var L=u[D];if(L.id!==r.id){var U=Jr(L);if(U.minX===c.minX||U.maxX===c.minX){v=!0,i=c.minX;break}if(U.minX===c.maxX||U.maxX===c.maxX){v=!0,i=c.maxX;break}}}return cr({isShowVertical:v,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,u){var i=this.getCenterSnapLine(r,u),c=i.isShowHorizontal,v=i.isShowVertical;if(!c){var b=this.getHorizontalSnapline(r,u);b.isShowHorizontal&&(i.isShowHorizontal=b.isShowHorizontal,i.position.y=b.position.y)}if(!v){var x=this.getVerticalSnapline(r,u);x.isShowVertical&&(i.isShowVertical=x.isShowVertical,i.position.x=x.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var u=r.isShowHorizontal,i=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=u,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var u=this.graphModel.nodes,i=this.getSnapLinePosition(r,u);this.setSnaplineInfo(i)}}],n&&BO(e.prototype,n),t}(),lb=rf(pi.prototype,"isShowHorizontal",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fb=rf(pi.prototype,"isShowVertical",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pb=rf(pi.prototype,"position",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rf(pi.prototype,"clearSnapline",[p.k],Object.getOwnPropertyDescriptor(pi.prototype,"clearSnapline"),pi.prototype),rf(pi.prototype,"setNodeSnapLine",[p.k],Object.getOwnPropertyDescriptor(pi.prototype,"setNodeSnapLine"),pi.prototype),pi),of=new Map,vb=function(t){var e=wo(),n=window.requestAnimationFrame(function r(){if(t(),of.get(e)){var u=window.requestAnimationFrame(r);of.set(e,u)}});return of.set(e,n),e},ih=function(t){var e=of.get(t);e&&(window.cancelAnimationFrame(e),of.delete(t))};function Ny(t){return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function af(){return af=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function gb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gb(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return mb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return mb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dy(t,e){return Dy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dy(t,e)}function GO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ah(t);if(e){var u=ah(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(t)}function Ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(t)}function Ii(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var HO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Dy(i,c)})(u,t);var e,n,r=GO(u);function u(){var i;return function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),Ii(Ci(i=r.call(this)),"preTargetNode",void 0),Ii(Ci(i),"sourceRuleResults",void 0),Ii(Ci(i),"targetRuleResults",void 0),Ii(Ci(i),"dragHandler",void 0),Ii(Ci(i),"t",void 0),Ii(Ci(i),"onDragStart",function(c){var v=c.event,b=i.props,x=b.anchorData,P=b.nodeModel,D=b.graphModel,L=D.overlapMode;D.selectNodeById(P.id),L!==xn.INCREASE&&P.autoToFront&&D.toFront(P.id),D.eventCenter.emit(pt.ANCHOR_DRAGSTART,{data:x,e:v,nodeModel:P}),i.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),Ii(Ci(i),"onDragging",function(c){var v=c.event,b=i.props,x=b.graphModel,P=b.nodeModel,D=b.anchorData,L=x.transformModel,U=x.eventCenter,Z=x.width,oe=x.height,ye=x.editConfigModel,me=ye.autoExpand,xe=ye.stopMoveGraph,Me=v.clientX,qe=v.clientY,Je=x.getPointByClient({x:Me,y:qe}),yt=Je.domOverlayPosition,et=yt.x,Ot=yt.y,nt=Je.canvasOverlayPosition,tn=nt.x,on=nt.y;i.t&&ih(i.t);var Xt=[];et<10?Xt=[10,0]:et+10>Z?Xt=[-10,0]:Ot<10?Xt=[0,10]:Ot+10>oe&&(Xt=[0,-10]),i.setState({endX:tn,endY:on,dragging:!0}),i.moveAnchorEnd(tn,on),Xt.length>0&&!xe&&me&&(i.t=vb(function(){var un=FO(Xt,2),Zn=un[0],Jn=un[1];L.translate(Zn,Jn);var eo=i.state,zi=eo.endX,$o=eo.endY;i.setState({endX:zi-Zn,endY:$o-Jn}),i.moveAnchorEnd(zi-Zn,$o-Jn)})),U.emit(pt.ANCHOR_DRAG,{data:D,e:v,nodeModel:P})}),Ii(Ci(i),"onDragEnd",function(c){var v=c.event;i.t&&ih(i.t);var b=i.checkEnd(v);i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var x=i.props,P=x.graphModel,D=x.nodeModel,L=x.anchorData;P.eventCenter.emit(pt.ANCHOR_DRAGEND,{data:L,e:v,nodeModel:D,edgeModel:b})}),Ii(Ci(i),"checkEnd",function(c){var v=i.props,b=v.graphModel,x=v.nodeModel,P=v.anchorData,D=P.x,L=P.y,U=P.id,Z=(b.edgeType,i.state),oe=Z.endX,ye=Z.endY,me=Z.dragging,xe=qi({x:oe,y:ye},b);if(i.preTargetNode&&i.preTargetNode.state!==fn.DEFAULT&&i.preTargetNode.setElementState(fn.DEFAULT),me&&xe&&xe.node){var Me=xe.node,qe=xe.anchor.id,Je="".concat(x.id,"_").concat(Me.id,"_").concat(qe,"_").concat(U),yt=i.sourceRuleResults.get(Je)||{},et=yt.isAllPass,Ot=yt.msg,nt=i.targetRuleResults.get(Je)||{},tn=nt.isAllPass,on=nt.msg;if(et&&tn){Me.setElementState(fn.DEFAULT);var Xt=b.edgeGenerator(x.getData(),b.getNodeModelById(xe.node.id).getData()),un=b.addEdge(uf(uf({},Xt),{},{sourceNodeId:x.id,sourceAnchorId:U,startPoint:{x:D,y:L},targetNodeId:xe.node.id,targetAnchorId:xe.anchor.id,endPoint:{x:xe.anchor.x,y:xe.anchor.y}})),Zn=i.props.anchorData;return b.eventCenter.emit(pt.ANCHOR_DROP,{data:Zn,e:c,nodeModel:x,edgeModel:un}),un}var Jn=Me.getData();return b.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:Jn,msg:on||Ot}),null}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new Ho({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"getAnchorShape",value:function(){var i=this.props,c=i.anchorData,v=i.style,b=i.node.getAnchorShape(c);if(b)return b;var x=c.x,P=c.y,D=uf(uf({},v),v.hover);return Object(pe.g)("g",null,Object(pe.g)(oc,af({className:"lf-node-anchor-hover"},D,{x,y:P})),Object(pe.g)(oc,af({className:"lf-node-anchor"},v,{x,y:P})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"moveAnchorEnd",value:function(i,c){var v=this.props,b=v.graphModel,x=v.nodeModel,P=v.anchorData,D=qi({x:i,y:c},b);if(D){var L=D.node,U=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(fn.DEFAULT),P.id===U)return;this.preTargetNode=L;var Z="".concat(x.id,"_").concat(L.id,"_").concat(U,"_").concat(P.id);if(!this.targetRuleResults.has(Z)){var oe=D.anchor,ye=x.isAllowConnectedAsSource(L,P,oe),me=L.isAllowConnectedAsTarget(x,P,oe);this.sourceRuleResults.set(Z,Cu(ye)),this.targetRuleResults.set(Z,Cu(me))}var xe=this.sourceRuleResults.get(Z).isAllPass,Me=this.targetRuleResults.get(Z).isAllPass;xe&&Me?L.setElementState(fn.ALLOW_CONNECT):L.setElementState(fn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==fn.DEFAULT&&this.preTargetNode.setElementState(fn.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,c=i.startX,v=i.startY,b=i.endX,x=i.endY;return tr(c,v,b,x)>10}},{key:"render",value:function(){var i=this,c=this.state,v=c.startX,b=c.startY,x=c.endX,P=c.endY,D=this.props,L=D.anchorData.edgeAddable,U=D.edgeStyle;return Object(pe.g)("g",{className:"lf-anchor"},Object(pe.g)("g",{onMouseDown:function(Z){L!==!1&&i.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(uf({sourcePoint:{x:v,y:b},targetPoint:{x,y:P}},U)):Object(pe.g)(nc,af({x1:v,y1:b,x2:x,y2:P},U,{"pointer-events":"none"}))))}}])&&WO(e.prototype,n),u}(pe.a);function bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function UO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(n),!0).forEach(function(r){YO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cy(t){return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function VO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return _b(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _b(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ob(t){var e=t.x,n=e===void 0?0:e,r=t.y,u=r===void 0?0:r,i=t.value,c=t.fontSize,v=t.fill,b=v===void 0?"currentColor":v,x=t.overflowMode,P=x===void 0?"default":x,D=t.textWidth,L=D===void 0?"":D,U=t.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:n,y:u,fill:b};if(Object.entries(t).forEach(function(qe){var Je=VO(qe,2),yt=Je[0],et=Je[1];Cy(et)!=="object"&&(Z[yt]=et)}),i){var oe=String(i).split(/[\r\n]/g),ye=oe.length;if(P!=="default"){var me=U.BaseType,xe=U.modelType;if(me===qn.NODE&&xe!==Kt.TEXT_NODE||me===qn.EDGE&&L)return function(qe){var Je=qe.value,yt=qe.fontSize,et=qe.model,Ot=qe.fontFamily,nt=Ot===void 0?"":Ot,tn=qe.lineHeight,on=qe.wrapPadding,Xt=on===void 0?"0, 0":on,un=qe.overflowMode,Zn=qe.x,Jn=qe.y,eo=et.width,zi=et.textHeight,$o=qe.textWidth||eo,mc=String(Je).split(/[\r\n]/g),kh=mc.length,Nh=dp({rows:mc,style:{fontSize:"".concat(yt,"px"),width:"".concat($o,"px"),fontFamily:nt,lineHeight:tn,padding:Xt},rowsLength:kh,className:"lf-get-text-height"}),Ju=et.height>Nh?et.height:Nh;zi&&(Ju=zi);var Ja=un==="ellipsis";return Ja&&(Ju=yt+2),Object(pe.g)("g",null,Object(pe.g)("foreignObject",{width:$o,height:Ju,x:Zn-$o/2,y:Jn-Ju/2},Object(pe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ju,width:$o,padding:Xt}},Object(pe.g)("div",{className:Ja?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Ja?mc.join(""):"",style:UO({},qe)},mc.map(function(Qa){return Object(pe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Qa)})))))}(t)}if(ye>1){var Me=oe.map(function(qe,Je){var yt=(Je-(ye-1)/2)*(c+2);return Object(pe.g)("tspan",{className:"lf-text-tspan",x:n,y:u+yt},qe)});return Object(pe.g)("text",Z,Me)}return Object(pe.g)("text",Z,i)}}function Iy(t){return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function Ry(){return Ry=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(this,arguments)}function $O(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return wb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return wb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ly(t,e){return Ly=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ly(t,e)}function qO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uh(t);if(e){var u=uh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qa(t)}function qa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(t)}function Ku(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ly(i,c)})(u,t);var e,n,r=qO(u);function u(i){var c;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,u),Ku(qa(c=r.call(this)),"dragHandler",void 0),Ku(qa(c),"sumDeltaX",0),Ku(qa(c),"sumDeltaY",0),Ku(qa(c),"stepDrag",void 0),Ku(qa(c),"onDragging",function(b){var x=b.deltaX,P=b.deltaY,D=c.props,L=D.model,U=$O(D.graphModel.transformModel.fixDeltaXY(x,P),2),Z=U[0],oe=U[1];L.moveText(Z,oe)}),Ku(qa(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(fn.TEXT_EDIT)}),Ku(qa(c),"mouseDownHandle",function(b){var x=c.props,P=x.draggable,D=x.model,L=x.graphModel.editConfigModel.nodeTextDraggable;(P||L)&&(c.stepDrag.model=D,c.stepDrag.handleMouseDown(b))}),i.model;var v=i.draggable;return c.stepDrag=new Ho({onDragging:c.onDragging,step:1,isStopPropagation:v}),c}return e=u,(n=[{key:"getShape",value:function(){var i=this.props,c=i.model,v=i.graphModel,b=c.text,x=v.editConfigModel,P=b.value,D=b.x,L=b.y,U=b.editable,Z=b.draggable,oe={x:D,y:L,className:"",value:P};U?oe.className="lf-element-text":Z||x.nodeTextDraggable?oe.className="lf-text-draggable":oe.className="lf-text-disabled";var ye=c.getTextStyle();return Object(pe.g)(Ob,Ry({},oe,ye,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(pe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&KO(e.prototype,n),u}(pe.a),JO=window.navigator.userAgent.match(/MSIE|Trident/)!==null,Eb=o(130);function zy(t){return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function By(){return By=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(this,arguments)}function QO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fy(t,e){return Fy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fy(t,e)}function ew(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sh(t);if(e){var u=sh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return tw(this,n)}}function tw(t,e){if(e&&(zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dc(t)}function dc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sh(t)}function sf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Fy(i,c)})(u,t);var e,n,r=ew(u);function u(i){var c;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,u),sf(dc(c=r.call(this,i)),"style",{}),sf(dc(c),"defaultAngle",void 0),sf(dc(c),"normal",void 0),sf(dc(c),"stepperDrag",void 0),sf(dc(c),"onDragging",function(v){var b,x=v.event,P=c.props,D=P.graphModel,L=P.nodeModel,U=P.eventCenter,Z=D.selectNodes,oe=L.x,ye=L.y,me=x.clientX,xe=x.clientY,Me=D.getPointByClient({x:me,y:xe}).canvasOverlayPosition,qe=Me.x,Je=Me.y,yt=new or(qe-oe,Je-ye),et=((b=c.normal)===null||b===void 0?void 0:b.angle(yt))-c.defaultAngle,Ot=new Wn(-oe,-ye).rotate(et).translate(oe,ye).toString();L.transform=Ot,L.rotate=et;var nt=Object(Eb.map)(Z,function(on){return on.id});nt.indexOf(L.id)===-1&&(nt=[L.id]);var tn=Object(Eb.reduce)(nt,function(on,Xt){var un=D.getNodeModelById(Xt);return on[Xt]=un==null?void 0:un.getMoveDistance(0,0,!1),on},{});nt.forEach(function(on){D.getNodeEdges(on).forEach(function(Xt){if(tn[Xt.sourceNodeId]){var un=D.getNodeModelById(Xt.sourceNodeId).anchors.find(function(Jn){return Jn.id===Xt.sourceAnchorId});Xt.updateStartPoint(un)}if(tn[Xt.targetNodeId]){var Zn=D.getNodeModelById(Xt.targetNodeId).anchors.find(function(Jn){return Jn.id===Xt.targetAnchorId});Xt.updateEndPoint(Zn)}})}),U.emit(pt.NODE_ROTATE,{e:x,nodeModel:L})}),c.style=i.style,c.stepperDrag=new Ho({onDragging:c.onDragging}),c}return e=u,(n=[{key:"render",value:function(){var i=this,c=this.props.nodeModel,v=c.x,b=c.y,x=v+c.width/2+20,P=b-c.height/2-20;return this.normal=new or(1,0),this.defaultAngle=this.normal.angle(new or(x-v,P-b)),c.defaultAngle=this.defaultAngle,Object(pe.g)("g",{className:"lf-rotate-control"},Object(pe.g)("g",{onMouseDown:function(D){i.stepperDrag.handleMouseDown(D)}},Object(pe.g)(oc,By({},this.style,{cx:x,cy:P}))))}}])&&QO(e.prototype,n),u}(pe.a);function Wy(t){return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}var rw=["className"];function ch(){return ch=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}function ow(t,e){if(t==null)return{};var n,r,u=function(c,v){if(c==null)return{};var b,x,P={},D=Object.keys(c);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(P[b]=c[b]);return P}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(u[n]=t[n])}return u}function lh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Sb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Sb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gy(t,e){return Gy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gy(t,e)}function iw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fh(t);if(e){var u=fh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return aw(this,n)}}function aw(t,e){if(e&&(Wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nr(t)}function Nr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(t)}function Ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sa=function(t){(function(c,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(v&&v.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),v&&Gy(c,v)})(i,t);var e,n,r,u=iw(i);function i(c){var v;(function(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")})(this,i),Ur(Nr(v=u.call(this)),"t",void 0),Ur(Nr(v),"moveOffset",void 0),Ur(Nr(v),"stepDrag",void 0),Ur(Nr(v),"contextMenuTime",void 0),Ur(Nr(v),"startTime",void 0),Ur(Nr(v),"clickTimer",void 0),Ur(Nr(v),"modelDisposer",void 0),Ur(Nr(v),"onDragStart",function(L){var U=L.event,Z=U.clientX,oe=U.clientY,ye=v.props,me=ye.model,xe=ye.graphModel.getPointByClient({x:Z,y:oe}).canvasOverlayPosition,Me=xe.x,qe=xe.y;v.moveOffset={x:me.x-Me,y:me.y-qe}}),Ur(Nr(v),"onDragging",function(L){var U=L.event,Z=v.props,oe=Z.model,ye=Z.graphModel,me=ye.editConfigModel,xe=me.stopMoveGraph,Me=me.autoExpand,qe=ye.transformModel,Je=ye.selectNodes,yt=ye.width,et=ye.height,Ot=ye.gridSize;oe.isDragging=!0;var nt=U.clientX,tn=U.clientY,on=ye.getPointByClient({x:nt,y:tn}).canvasOverlayPosition,Xt=on.x,un=on.y,Zn=lh(qe.CanvasPointToHtmlPoint([Xt,un]),2),Jn=Zn[0],eo=Zn[1];if(Xt+=v.moveOffset.x,un+=v.moveOffset.y,Xt=Fo(Xt,Ot),un=Fo(un,Ot),yt&&et){if(!Me||xe||!(Jn<0||eo<0||Jn>yt||eo>et)){var zi=lh(qe.CanvasPointToHtmlPoint([Xt-oe.width/2,un-oe.height/2]),2),$o=zi[0],mc=zi[1],kh=lh(qe.CanvasPointToHtmlPoint([Xt+oe.width/2,un+oe.height/2]),2),Nh=kh[0],Ju=kh[1],Ja=Math.max(Ot,20),Qa=[];$o<0?Qa=[Ja,0]:Nh>ye.width?Qa=[-Ja,0]:mc<0?Qa=[0,Ja]:Ju>ye.height&&(Qa=[0,-Ja]),v.t&&ih(v.t);var Kx=new Wn(-Xt,-un).rotate(oe.rotate).translate(Xt,un).toString();oe.transform=Kx;var Dh=Je.map(function(Ch){return Ch.id});Dh.indexOf(oe.id)===-1&&(Dh=[oe.id]),Qa.length>0&&!xe&&Me?v.t=vb(function(){var Ch=lh(Qa,2),u0=Ch[0],s0=Ch[1];qe.translate(u0,s0);var qx=-u0/qe.SCALE_X,Zx=-s0/qe.SCALE_X;ye.moveNodes(Dh,qx,Zx)}):ye.moveNodes(Dh,Xt-oe.x,un-oe.y)}}else ye.moveNode2Coordinate(oe.id,Xt,un)}),Ur(Nr(v),"onDragEnd",function(){v.t&&ih(v.t),v.props.model.isDragging=!1}),Ur(Nr(v),"handleClick",function(L){if(v.startTime&&!(new Date().getTime()-v.startTime>200)){var U=v.props,Z=U.model,oe=U.graphModel,ye={data:Z.getData(),e:L,position:oe.getPointByClient({x:L.clientX,y:L.clientY}),isSelected:!1,isMultiple:!1},me=L.button===2,xe=L.detail===2;if(!me){var Me=oe.editConfigModel,qe=Wo(L,Me);ye.isMultiple=qe,Z.isSelected&&!xe&&qe?(ye.isSelected=!1,Z.setSelected(!1)):(oe.selectNodeById(Z.id,qe),ye.isSelected=!0,v.toFront()),xe?(Me.nodeTextEdit&&Z.text.editable&&(Z.setSelected(!1),oe.setElementStateById(Z.id,fn.TEXT_EDIT)),oe.eventCenter.emit(pt.NODE_DBCLICK,ye)):(oe.eventCenter.emit(pt.ELEMENT_CLICK,ye),oe.eventCenter.emit(pt.NODE_CLICK,ye))}}}),Ur(Nr(v),"handleContextMenu",function(L){L.preventDefault();var U=v.props,Z=U.model,oe=U.graphModel,ye=Z.getData(),me=oe.getPointByClient({x:L.clientX,y:L.clientY});oe.setElementStateById(Z.id,fn.SHOW_MENU,me.domOverlayPosition),Z.isSelected||oe.selectNodeById(Z.id),oe.eventCenter.emit(pt.NODE_CONTEXTMENU,{data:ye,e:L,position:me}),v.toFront()}),Ur(Nr(v),"handleMouseDown",function(L){var U=v.props,Z=U.model,oe=U.graphModel;v.startTime=new Date().getTime(),oe.editConfigModel.adjustNodePosition&&Z.draggable&&v.stepDrag&&v.stepDrag.handleMouseDown(L)}),Ur(Nr(v),"setHoverON",function(L){var U=v.props,Z=U.model,oe=U.graphModel;if(!Z.isHovered){var ye=Z.getData();Z.setHovered(!0),oe.eventCenter.emit(pt.NODE_MOUSEENTER,{data:ye,e:L})}}),Ur(Nr(v),"setHoverOFF",function(L){var U=v.props,Z=U.model,oe=U.graphModel,ye=Z.getData();Z.isHovered&&(Z.setHovered(!1),oe.eventCenter.emit(pt.NODE_MOUSELEAVE,{data:ye,e:L}))}),Ur(Nr(v),"onMouseOut",function(L){JO&&v.setHoverOFF(L)});var b=c.graphModel,x=b.gridSize,P=b.eventCenter,D=c.model;return v.stepDrag=new Ho({onDragStart:v.onDragStart,onDragging:v.onDragging,onDragEnd:v.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:P,model:D}),v.modelDisposer=Object(p.F)(function(){return v.props},function(L){L&&L.model&&v.stepDrag.setModel(L.model)}),v}return e=i,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,v=this.props,b=v.model,x=v.graphModel,P=b.isSelected,D=b.isHitable,L=b.isDragging,U=b.isShowAnchor;return D&&(P||U)&&!L?ds(b.anchors,function(Z,oe){var ye=b.getAnchorLineStyle(Z),me=b.getAnchorStyle(Z);return Object(pe.g)(HO,{anchorData:Z,node:c,style:me,edgeStyle:ye,anchorIndex:oe,nodeModel:b,graphModel:x,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,v=c.model,b=c.graphModel,x=v.isSelected,P=v.isHitable,D=v.enableRotate,L=v.isHovered,U=v.getRotateControlStyle().style;if(P&&(x||L)&&D)return Object(pe.g)(nw,{graphModel:b,nodeModel:v,eventCenter:b.eventCenter,style:U})}},{key:"getText",value:function(){var c=this.props,v=c.model,b=c.graphModel;if(v.state===fn.TEXT_EDIT)return"";if(v.text){var x=b.editConfigModel,P=!1;return(v.text.draggable||x.nodeTextDraggable)&&(P=!0),Object(pe.g)(xb,{editable:x.nodeTextEdit&&v.text.editable,model:v,graphModel:b,draggable:P})}}},{key:"getStateClassName",value:function(){var c=this.props.model,v=c.state,b=c.isDragging,x=c.isSelected,P="lf-node";switch(v){case fn.ALLOW_CONNECT:P+=" lf-node-allow";break;case fn.NOT_ALLOW_CONNECT:P+=" lf-node-not-allow";break;default:P+=" lf-node-default"}return b&&(P+=" lf-isDragging"),x&&(P+=" lf-node-selected"),P}},{key:"toFront",value:function(){var c=this.props,v=c.model,b=c.graphModel;b.overlapMode!==xn.INCREASE&&v.autoToFront&&b.toFront(v.id)}},{key:"render",value:function(){var c,v=this.props,b=v.model,x=v.graphModel,P=x.editConfigModel,D=P.hideAnchors,L=P.adjustNodePosition,U=P.allowRotation,Z=x.gridSize,oe=x.transformModel.SCALE_X,ye=b.isHitable,me=b.draggable,xe=b.transform,Me=b.getOuterGAttributes(),qe=Me.className,Je=qe===void 0?"":qe,yt=ow(Me,rw),et=Object(pe.g)("g",{className:"lf-node-content"},Object(pe.g)("g",{transform:xe},this.getShape(),this.getText(),U&&this.getRotateControl()),!D&&this.getAnchors());return ye?(L&&me&&this.stepDrag.setStep(Z*oe),c=Object(pe.g)("g",ch({className:"".concat(this.getStateClassName()," ").concat(Je),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},yt),et)):c=Object(pe.g)("g",ch({className:"".concat(this.getStateClassName()," ").concat(Je)},yt),et),c}}])&&jb(e.prototype,n),r&&jb(e,r),i}(pe.a);function Xy(t){return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function Hy(){return Hy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}function uw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uy(t,e){return Uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uy(t,e)}function cw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ph(t);if(e){var u=ph(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return lw(this,n)}}function lw(t,e){if(e&&(Xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(t)}var Yy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Uy(i,c)})(u,t);var e,n,r=cw(u);function u(){return uw(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(pe.g)(Va,Hy({},c,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&sw(e.prototype,n),u}(sa);function Vy(t){return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function $y(){return $y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}function fw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ky(t,e){return Ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ky(t,e)}function hw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hh(t);if(e){var u=hh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return dw(this,n)}}function dw(t,e){if(e&&(Vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hh(t)}var qy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ky(i,c)})(u,t);var e,n,r=hw(u);function u(){return fw(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,v=i.y,b=i.r,x=i.getNodeStyle();return Object(pe.g)(oc,$y({},x,{x:c,y:v,r:b}))}}])&&pw(e.prototype,n),u}(sa);function Zy(t){return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function yw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Pb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Pb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mb(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(u){var i=yw(u,2),c=i[0],v=i[1];Zy(v)!=="object"&&(r[c]=v)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(u){return u.join(",")}).join(" "),Object(pe.g)("polygon",r)}function Jy(t){return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function Qy(){return Qy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qy.apply(this,arguments)}function vw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ev(t,e){return ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ev(t,e)}function mw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dh(t);if(e){var u=dh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return bw(this,n)}}function bw(t,e){if(e&&(Jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dh(t)}var tv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ev(i,c)})(u,t);var e,n,r=mw(u);function u(){return vw(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,v=i.y,b=i.width,x=i.height,P=i.points,D=i.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(c-b/2," ").concat(v-x/2,")")};return Object(pe.g)("g",L,Object(pe.g)(Mb,Qy({},D,{points:P,x:c,y:v})))}}])&&gw(e.prototype,n),u}(sa);function nv(t){return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(t)}function rv(){return rv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function _w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ov(t,e){return ov=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ov(t,e)}function ww(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=yh(t);if(e){var u=yh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return xw(this,n)}}function xw(t,e){if(e&&(nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(t)}var iv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ov(i,c)})(u,t);var e,n,r=ww(u);function u(){return _w(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(pe.g)("g",null,Object(pe.g)(Mb,rv({},c,{points:i.points,x:i.x,y:i.y})))}}])&&Ow(e.prototype,n),u}(sa);function av(t){return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function Ew(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ab(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Ab(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sw(t){var e=t.x,n=e===void 0?0:e,r=t.y,u=r===void 0?0:r,i=t.rx,c=i===void 0?4:i,v=t.ry,b=v===void 0?4:v,x=t.className,P={cx:n,cy:u,rx:c,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var L=Ew(D,2),U=L[0],Z=L[1];av(Z)!=="object"&&(P[U]=Z)}),P.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(pe.g)("ellipse",P)}function uv(t){return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function sv(){return sv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}function jw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cv(t,e){return cv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cv(t,e)}function Mw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vh(t);if(e){var u=vh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Aw(this,n)}}function Aw(t,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(t)}var lv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&cv(i,c)})(u,t);var e,n,r=Mw(u);function u(){return jw(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(pe.g)(Sw,sv({},c,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&Pw(e.prototype,n),u}(sa);function fv(t){return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function Tb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(n),!0).forEach(function(r){Tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pv(t,e){return pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pv(t,e)}function Dw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gh(t);if(e){var u=gh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Cw(this,n)}}function Cw(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(t)}var hv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&pv(i,c)})(u,t);var e,n,r=Dw(u);function u(){return kw(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),v=i.width,b=i.height,x=i.x,P=i.y,D=kb(kb({},c.background),{},{x,y:P-1,width:v,height:b});return Object(pe.g)(Va,D)}},{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getBackground())}}])&&Nw(e.prototype,n),u}(sa);function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function yv(){return yv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yv.apply(this,arguments)}function Iw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vv(t,e){return vv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vv(t,e)}function Lw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mh(t);if(e){var u=mh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return zw(this,n)}}function zw(t,e){if(e&&(dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cf(t)}function cf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mh(t)}function bh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&vv(i,c)})(u,t);var e,n,r=Lw(u);function u(){var i;Iw(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return bh(cf(i=r.call.apply(r,[this].concat(v))),"ref",void 0),bh(cf(i),"currentProperties",void 0),bh(cf(i),"preProperties",void 0),bh(cf(i),"setRef",function(x){i.ref=x}),i}return e=u,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,c=i.x,v=i.y,b=i.height,x=i.width,P=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(pe.g)("foreignObject",yv({},P,{x:c-x/2,y:v-b/2,width:x,height:b,ref:this.setRef}))}}])&&Rw(e.prototype,n),u}(sa);function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function bv(){return bv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function Nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nb(Object(n),!0).forEach(function(r){wv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _v(t,e){return _v=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_v(t,e)}function Fw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_h(t);if(e){var u=_h(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Ww(this,n)}}function Ww(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ov(t)}function Ov(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_h(t)}function wv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ri,Gw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&_v(i,c)})(u,t);var e,n,r=Fw(u);function u(i){var c;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,u),wv(Ov(c=r.call(this,i)),"setHoverON",function(){c.setState({isHovered:!0})}),wv(Ov(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=u,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),v=i.text,b=i.width,x=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(x=qu(qu({},x),c.hover.background)),v&&v.value&&x.fill!=="transparent"){var P,D=c.fontSize,L=c.overflowMode,U=c.lineHeight,Z=c.wrapPadding,oe=c.textWidth,ye=v.value,me=v.x,xe=v.y,Me=String(ye).split(/[\r\n]/g),qe=Me.length;if(L==="autoWrap"&&oe){var Je=dp({rows:Me,style:{fontSize:"".concat(D,"px"),width:"".concat(oe,"px"),lineHeight:U,padding:Z},rowsLength:qe,className:"lf-get-text-height"});P=qu(qu({},x),{},{x:me-1,y:xe-1,width:oe,height:Je})}else{Me&&Me.forEach(function(tn){Xl(tn)});var yt=_l({rows:Me,fontSize:D,rowsLength:qe}),et=yt.width,Ot=yt.height;if(L==="ellipsis"&&(et=oe||b,Ot=D+2),typeof x.wrapPadding=="string"){var nt=x.wrapPadding.split(",").filter(function(tn){return tn.trim()}).map(function(tn){return parseFloat(tn.trim())});nt.length>0&&nt.length<=4&&(nt.length===1?nt=[nt[0],nt[0],nt[0],nt[0]]:nt.length===2?nt=[nt[0],nt[1],nt[0],nt[1]]:nt.length===3&&(nt=[nt[0],nt[1],nt[2],nt[1]]),et+=nt[1]+nt[3],Ot+=nt[0]+nt[2],me+=(nt[1]-nt[3])/2,xe+=(nt[2]-nt[0])/2)}P=qu(qu({},x),{},{x:me-1,y:xe-1,width:et,height:Ot})}return Object(pe.g)(Va,P)}}},{key:"getShape",value:function(){var i=this.props.model,c=i.text,v=c.value,b=c.x,x=c.y;if(v){var P=qu({x:b,y:x,className:"lf-element-text",value:v},i.getTextStyle());return Object(pe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(pe.g)(Ob,bv({},P,{model:i})))}}}])&&Bw(e.prototype,n),u}(xb);function xv(t){return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function Db(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Db(Object(n),!0).forEach(function(r){jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Cb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Cb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ev(t,e){return Ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ev(t,e)}function Uw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Oh(t);if(e){var u=Oh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Yw(this,n)}}function Yw(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(t)}function So(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(t)}function jo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ri||(Ri={}));var Ib=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ev(i,c)})(u,t);var e,n,r=Uw(u);function u(i){var c;(function(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,u),jo(So(c=r.call(this)),"stepDragData",void 0),jo(So(c),"stepDrag",void 0),jo(So(c),"oldEdge",void 0),jo(So(c),"preTargetNode",void 0),jo(So(c),"targetRuleResults",void 0),jo(So(c),"sourceRuleResults",void 0),jo(So(c),"handleMouseDown",function(P){c.stepDrag&&c.stepDrag.handleMouseDown(P)}),jo(So(c),"onDragStart",function(){var P=c.props,D=P.x,L=P.y,U=P.edgeModel,Z=U.startPoint,oe=U.endPoint,ye=U.pointsList;c.oldEdge={startPoint:Z,endPoint:oe,pointsList:ye},c.setState({endX:D,endY:L,dragging:!0})}),jo(So(c),"onDragging",function(P){var D=P.deltaX,L=P.deltaY,U=c.state,Z=U.endX,oe=U.endY,ye=c.props,me=ye.graphModel,xe=ye.type,Me=me.transformModel,qe=me.editConfigModel,Je=Xw(Me.moveCanvasPointByHtml([Z,oe],D,L),2),yt=Je[0],et=Je[1];c.setState({endX:yt,endY:et,dragging:!0});var Ot=c.props.edgeModel,nt=qi({x:Z,y:oe},me);if(nt&&nt.node&&c.isAllowAdjust(nt).pass){var tn,on=Ot.startPoint,Xt=Ot.endPoint,un=Ot.sourceNode,Zn=Ot.targetNode;xe===Ri.SOURCE?tn={startPoint:{x:nt.anchor.x,y:nt.anchor.y},endPoint:{x:Xt.x,y:Xt.y},sourceNode:nt.node,targetNode:Zn}:xe===Ri.TARGET&&(tn={startPoint:{x:on.x,y:on.y},endPoint:{x:nt.anchor.x,y:nt.anchor.y},sourceNode:un,targetNode:nt.node}),Ot.updateAfterAdjustStartAndEnd(tn)}else xe===Ri.SOURCE?Ot.updateStartPoint({x:yt,y:et}):xe===Ri.TARGET&&Ot.updateEndPoint({x:yt,y:et});Ot.text.value&&qe.adjustEdge&&Ot.setText(Object.assign({},Ot.text,Ot.textPosition))}),jo(So(c),"onDragEnd",function(P){var D=P.event;try{var L;c.setState({dragging:!1});var U=c.props,Z=U.graphModel,oe=U.edgeModel,ye=U.type,me=c.state,xe=me.endX,Me=me.endY,qe=me.dragging,Je=qi({x:xe,y:Me},Z);if(!qe)return;var yt,et=!1;if(Je&&Je.node){var Ot=c.isAllowAdjust(Je),nt=Ot.pass,tn=Ot.msg,on=Ot.newTargetNode;if(nt){var Xt,un=oe.getData();yt=ca(ca({},un),{},{sourceAnchorId:"",targetAnchorId:"",text:(un==null||(Xt=un.text)===null||Xt===void 0?void 0:Xt.value)||""}),ye===Ri.SOURCE?(yt=ca(ca({},Z.edgeGenerator(Z.getNodeModelById(Je.node.id).getData(),Z.getNodeModelById(oe.targetNodeId).getData(),yt)),{},{sourceNodeId:Je.node.id,sourceAnchorId:Je.anchor.id,startPoint:{x:Je.anchor.x,y:Je.anchor.y},targetNodeId:oe.targetNodeId,endPoint:ca({},oe.endPoint)}),oe.sourceNodeId===Je.node.id&&oe.sourceAnchorId===Je.anchor.id&&(et=!0)):ye===Ri.TARGET&&(yt=ca(ca({},Z.edgeGenerator(Z.getNodeModelById(oe.sourceNodeId).getData(),Z.getNodeModelById(Je.node.id).getData(),yt)),{},{sourceNodeId:oe.sourceNodeId,startPoint:ca({},oe.startPoint),targetNodeId:Je.node.id,targetAnchorId:Je.anchor.id,endPoint:{x:Je.anchor.x,y:Je.anchor.y}}),oe.targetNodeId===Je.node.id&&oe.targetAnchorId===Je.anchor.id&&(et=!0))}else{et=!0;var Zn=on.getData();Z.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:Zn,msg:tn})}}else et=!0;if(et)c.recoveryEdge();else{var Jn=oe.getData();Z.deleteEdgeById(oe.id);var eo=Z.addEdge(ca({},yt));Z.eventCenter.emit(pt.EDGE_EXCHANGE_NODE,{data:{newEdge:eo.getData(),oldEdge:Jn}})}(L=c.preTargetNode)===null||L===void 0||L.setElementState(fn.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(pt.ADJUST_POINT_DRAGEND,{e:D,data:c.stepDragData})}}),jo(So(c),"recoveryEdge",function(){var P=c.props.edgeModel,D=c.oldEdge,L=D.startPoint,U=D.endPoint,Z=D.pointsList;P.updateStartPoint(L),P.updateEndPoint(U),P.modelType!==Kt.LINE_EDGE&&(P.pointsList=Z,P.initPoints())}),jo(So(c),"getAdjustPointStyle",function(){var P=c.props,D=P.graphModel.theme;return P.edgeModel,D.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var v=i.type,b=i.edgeModel,x=i.graphModel.eventCenter;return c.stepDragData={type:v,edgeData:b.getData()},c.stepDrag=new Ho({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:c.stepDragData}),c}return e=u,(n=[{key:"isAllowAdjust",value:function(i){var c=this.props,v=c.edgeModel,b=v.id,x=v.sourceNode,P=v.targetNode,D=v.sourceAnchorId,L=v.targetAnchorId,U=c.type,Z=null,oe=null,ye=null,me=null;if(U===Ri.SOURCE?(Z=i.node,oe=P,ye=i.anchor,me=P.getAnchorInfo(L)):(Z=x,oe=i.node,me=i.anchor,ye=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(fn.DEFAULT),this.preTargetNode=i.node,me.id===ye.id)return{pass:!1,msg:"",newTargetNode:oe};var xe="".concat(Z.id,"_").concat(oe.id,"_").concat(ye.id,"_").concat(me.id);if(!this.targetRuleResults.has(xe)){var Me=Z.isAllowConnectedAsSource(oe,ye,me,b),qe=oe.isAllowConnectedAsTarget(Z,ye,me,b);this.sourceRuleResults.set(xe,Cu(Me)),this.targetRuleResults.set(xe,Cu(qe))}var Je=this.sourceRuleResults.get(xe),yt=Je.isAllPass,et=Je.msg,Ot=this.targetRuleResults.get(xe),nt=Ot.isAllPass,tn=Ot.msg,on=yt&&nt?fn.ALLOW_CONNECT:fn.NOT_ALLOW_CONNECT;return U===Ri.SOURCE?Z.setElementState(on):oe.setElementState(on),{pass:yt&&nt,msg:tn||et,newTargetNode:oe}}},{key:"render",value:function(){var i=this.props,c=i.x,v=i.y,b=i.getAdjustPointShape,x=i.edgeModel,P=this.state.dragging;return Object(pe.g)("g",{pointerEvents:P?"none":"",onMouseDown:this.handleMouseDown},P?"":b(c,v,x))}}])&&Hw(e.prototype,n),u}(pe.a);function Sv(t){return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function lf(){return lf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function Vw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Rb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Rb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jv(t,e){return jv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jv(t,e)}function qw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wh(t);if(e){var u=wh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Zw(this,n)}}function Zw(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(t)}function hi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wh(t)}function Li(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ff=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&jv(i,c)})(u,t);var e,n,r=qw(u);function u(){var i;$w(this,u);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Li(hi(i=r.call.apply(r,[this].concat(v))),"startTime",void 0),Li(hi(i),"contextMenuTime",void 0),Li(hi(i),"clickTimer",void 0),Li(hi(i),"textRef",Object(pe.f)()),Li(hi(i),"handleHover",function(x,P){var D=i.props,L=D.model,U=D.graphModel.eventCenter;L.setHovered(x);var Z=x?pt.EDGE_MOUSEENTER:pt.EDGE_MOUSELEAVE,oe=L.getData();U.emit(Z,{data:oe,e:P})}),Li(hi(i),"setHoverON",function(x){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,x))}),Li(hi(i),"setHoverOFF",function(x){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,x))}),Li(hi(i),"handleContextMenu",function(x){x.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var P=i.props,D=P.model,L=P.graphModel,U=L.getPointByClient({x:x.clientX,y:x.clientY});L.setElementStateById(D.id,fn.SHOW_MENU,U.domOverlayPosition),i.toFront(),D.isSelected||L.selectEdgeById(D.id);var Z=D==null?void 0:D.getData();L.eventCenter.emit(pt.EDGE_CONTEXTMENU,{data:Z,e:x,position:U})}),Li(hi(i),"handleMouseDown",function(x){x.stopPropagation(),i.startTime=new Date().getTime()}),Li(hi(i),"handleMouseUp",function(x){if(i.startTime&&!(new Date().getTime()-i.startTime>200||x.button===2)){var P=x.detail===2,D=i.props,L=D.model,U=D.graphModel,Z=L==null?void 0:L.getData(),oe=U.getPointByClient({x:x.clientX,y:x.clientY});if(P){var ye=U.editConfigModel,me=U.textEditElement;if(me&&me.id===L.id&&U.setElementStateById(L.id,fn.DEFAULT),ye.edgeTextEdit&&L.text.editable&&U.setElementStateById(L.id,fn.TEXT_EDIT),L.modelType===Kt.POLYLINE_EDGE){var xe=L,Me=U.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,qe=Me.x,Je=Me.y,yt=Ul({x:qe,y:Je},xe.points);xe.dbClickPosition=yt}U.eventCenter.emit(pt.EDGE_DBCLICK,{data:Z,e:x,position:oe})}else U.eventCenter.emit(pt.ELEMENT_CLICK,{data:Z,e:x,position:oe}),U.eventCenter.emit(pt.EDGE_CLICK,{data:Z,e:x,position:oe});var et=U.editConfigModel;U.selectEdgeById(L.id,Wo(x,et)),i.toFront()}}),i}return e=u,(n=[{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,c=i.model,v=i.graphModel;if(c.state===fn.TEXT_EDIT)return null;var b=!1,x=v.editConfigModel;return(c.text.draggable||x.edgeTextDraggable)&&(b=!0),Object(pe.g)(Gw,{ref:this.textRef,editable:x.edgeTextEdit&&c.text.editable,model:c,graphModel:v,draggable:b})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.startPoint,v=i.endPoint,b=i.isSelected;return{start:c,end:v,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,c=i.id,v=i.getArrowStyle(),b=v.refY,x=b===void 0?0:b,P=v.refX,D=P===void 0?2:P,L=Vw(this.getLastTwoPoints(),2),U=L[0],Z=L[1],oe="auto";return U!==null&&Z!==null&&(oe=Un(Tr({x:Z.x-U.x,y:Z.y-U.y,z:0}))),Object(pe.g)("g",null,Object(pe.g)("defs",null,Object(pe.g)("marker",{id:"marker-start-".concat(c),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(pe.g)("marker",{id:"marker-end-".concat(c),refX:D,refY:x,overflow:"visible",orient:oe,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(pe.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),c=i.stroke,v=i.strokeWidth,b=i.offset,x=i.verticalLength;return Object(pe.g)("path",{stroke:c,fill:c,strokeWidth:v,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(x," L ").concat(b," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(i,c,v){var b=v.getAdjustPointStyle();return Object(pe.g)(oc,lf({className:"lf-edge-adjust-point"},b,{x:i,y:c}))}},{key:"getAdjustPoints",value:function(){var i=this.props,c=i.model,v=i.graphModel,b=c.getAdjustStart(),x=c.getAdjustEnd();return Object(pe.g)("g",null,Object(pe.g)(Ib,lf({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:v})),Object(pe.g)(Ib,lf({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:v})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(pe.g)("g",null)}},{key:"getAppend",value:function(){return Object(pe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,c=i.graphModel,v=i.model;c.overlapMode!==xn.INCREASE&&c.toFront(v.id)}},{key:"render",value:function(){var i=this.props,c=i.model,v=c.isSelected,b=c.isHitable,x=c.isShowAdjustPoint;return i.graphModel.animation,Object(pe.g)("g",null,Object(pe.g)("g",{className:["lf-edge",!b&&"pointer-none",v&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&v?this.getAdjustPoints():"")}}])&&Kw(e.prototype,n),u}(pe.a);function Pv(t){return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function Jw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Lb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Lb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pf=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=Jw(n,2),u=r[0],i=r[1],c=Pv(i);u!=="style"&&c==="object"||(e[u]=i)}),Object(pe.g)("path",e)};function Mv(t){return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function Av(){return Av=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function Qw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ex(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tv(t,e){return Tv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tv(t,e)}function tx(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xh(t);if(e){var u=xh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return nx(this,n)}}function nx(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xh(t)}var kv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Tv(i,c)})(u,t);var e,n,r=tx(u);function u(){return Qw(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.startPoint,v=i.endPoint,b=i.isAnimation,x=i.arrowConfig,P=i.getEdgeStyle(),D=i.getEdgeAnimationStyle(),L=D.strokeDasharray,U=D.stroke,Z=D.strokeDashoffset,oe=D.animationName,ye=D.animationDuration,me=D.animationIterationCount,xe=D.animationTimingFunction,Me=D.animationDirection;return Object(pe.g)(nc,Av({},P,{x1:c.x,y1:c.y,x2:v.x,y2:v.y},x,b?{strokeDasharray:L,stroke:U,style:{strokeDashoffset:Z,animationName:oe,animationDuration:ye,animationIterationCount:me,animationTimingFunction:xe,animationDirection:Me}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,c=i.startPoint,v=i.endPoint,b=Hl({start:c,end:v}),x=b.d,P=b.strokeWidth,D=b.fill,L=b.strokeDasharray,U=b.stroke;return Object(pe.g)(pf,{d:x,fill:D,strokeWidth:P,stroke:U,strokeDasharray:L})}}])&&ex(e.prototype,n),u}(ff);function Nv(t){return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function rx(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return zb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return zb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ox=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=rx(n,2),u=r[0],i=r[1];(u==="style"||Nv(i)!=="object")&&(e[u]=i)}),Object(pe.g)("polyline",e)};function Dv(t){return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function Bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bb(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cv(){return Cv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(this,arguments)}function ix(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Fb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Fb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ax(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iv(t,e){return Iv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Iv(t,e)}function ux(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sh(t);if(e){var u=Sh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return sx(this,n)}}function sx(t,e){if(e&&(Dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(t)}function la(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}function fa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Iv(i,c)})(u,t);var e,n,r=ux(u);function u(){var i;return function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),fa(la(i=r.call(this)),"drag",void 0),fa(la(i),"isDragging",void 0),fa(la(i),"isShowAdjustPointTemp",void 0),fa(la(i),"appendInfo",void 0),fa(la(i),"onDragStart",function(){var c=i.props.model;c.dragAppendStart(),i.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),fa(la(i),"onDragging",function(c){var v=c.deltaX,b=c.deltaY,x=i.props,P=x.model,D=x.graphModel;i.isDragging=!0;var L=D.transformModel,U=D.editConfigModel,Z=ix(L.fixDeltaXY(v,b),2),oe=Z[0],ye=Z[1],me=P,xe=U.adjustEdgeMiddle;i.appendInfo=xe?me.dragAppendSimple(i.appendInfo,{x:oe,y:ye}):me.dragAppend(i.appendInfo,{x:oe,y:ye})}),fa(la(i),"onDragEnd",function(){var c=i.props,v=c.model,b=c.graphModel.eventCenter,x=v;x.dragAppendEnd(),i.isDragging=!1,x.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,b.emit(pt.EDGE_ADJUST,{data:x.getData()})}),fa(la(i),"beforeDragStart",function(c,v){v.dragAble&&i.drag.handleMouseDown(c),i.appendInfo=v}),i.drag=new Ho({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.points,v=i.isAnimation,b=i.arrowConfig,x=i.getEdgeStyle(),P=i.getEdgeAnimationStyle(),D=P.strokeDasharray,L=P.stroke,U=P.strokeDashoffset,Z=P.animationName,oe=P.animationDuration,ye=P.animationIterationCount,me=P.animationTimingFunction,xe=P.animationDirection;return Object(pe.g)(ox,Cv({points:c},x,b,v?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:U,animationName:Z,animationDuration:oe,animationIterationCount:ye,animationTimingFunction:me,animationDirection:xe}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.points,v=i.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:v},x=Ai(c);return x.length>=2&&(b.start=x[x.length-2],b.end=x[x.length-1]),b}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,c=Ai(i);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var c,v=i.start,b=i.end;if(v.x===b.x&&v.y===b.y)c="";else{var x={start:v,end:b,offset:10,verticalLength:5},P=Lu(Eh(Eh({},x),{},{type:"start"})),D=Lu(Eh(Eh({},x),{},{type:"end"}));c="M".concat(P.leftX," ").concat(P.leftY,` 
      L`).concat(P.rightX," ").concat(P.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var c=this.getAppendAttributes(i),v=c.d,b=c.strokeWidth,x=c.fill,P=c.strokeDasharray,D=c.stroke;return Object(pe.g)(pf,{d:v,fill:x,strokeWidth:b,stroke:D,strokeDasharray:P})}},{key:"getAppendWidth",value:function(){for(var i=this,c=this.props,v=c.model,b=c.graphModel,x=v.pointsList,P=v.draggable,D=[],L=x.length,U=function(oe){var ye="lf-polyline-append",me={start:{x:x[oe].x,y:x[oe].y},end:{x:x[oe+1].x,y:x[oe+1].y},startIndex:oe,endIndex:oe+1,direction:"",dragAble:!0},xe=Object(pe.g)("g",{className:ye},i.getAppendShape(me)),Me=b.editConfigModel,qe=Me.adjustEdge,Je=Me.adjustEdgeMiddle;if(qe&&P){var yt=me.startIndex,et=me.endIndex,Ot=Je&&(yt===0||et===L-1);me.dragAble=!Ot,me.start.x===me.end.x?(me.dragAble&&(ye+="-ew-resize"),me.direction=wn.VERTICAL):me.start.y===me.end.y&&(me.dragAble&&(ye+="-ns-resize"),me.direction=wn.HORIZONTAL),xe=Object(pe.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(nt){return i.beforeDragStart(nt,me)}},Object(pe.g)("g",{className:ye},i.getAppendShape(me)))}D.push(xe)},Z=0;Z<L-1;Z++)U(Z);return Object(pe.g)("g",null,D)}}])&&ax(e.prototype,n),u}(ff);function Lv(t){return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function cx(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Wb(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Wb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zv(){return zv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function lx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bv(t,e){return Bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bv(t,e)}function px(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jh(t);if(e){var u=jh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return hx(this,n)}}function hx(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(t)}var Fv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Bv(i,c)})(u,t);var e,n,r=px(u);function u(){return lx(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.getEdgeStyle(),v=i.path,b=i.isAnimation,x=i.arrowConfig,P=i.getEdgeAnimationStyle(),D=P.strokeDasharray,L=P.stroke,U=P.strokeDashoffset,Z=P.animationName,oe=P.animationDuration,ye=P.animationIterationCount,me=P.animationTimingFunction,xe=P.animationDirection;return Object(pe.g)(pf,zv({d:v},c,x,b?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:U,animationName:Z,animationDuration:oe,animationIterationCount:ye,animationTimingFunction:me,animationDirection:xe}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(pe.g)(pf,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=this.state.hover,v=i.isSelected,b=i.getArrowStyle().offset,x=i.pointsList.map(function(D){return{x:D.x,y:D.y}}),P=cx(Ks(x,b),2);return{start:P[0],end:P[1],hover:c,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,c=i.getArrowStyle().offset,v=i.pointsList.map(function(b){return{x:b.x,y:b.y}});return Ks(v,c)}}])&&fx(e.prototype,n),u}(ff);function Wv(t){return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function Gb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function dx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gv(t,e){return Gv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gv(t,e)}function gx(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ph(t);if(e){var u=Ph(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return mx(this,n)}}function mx(t,e){if(e&&(Wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(t)}var bx=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Gv(i,c)})(u,t);var e,n,r=gx(u);function u(){return yx(this,u),r.apply(this,arguments)}return e=u,n=[{key:"getArrowAttributes",value:function(){var i=this.props,c=i.arrowInfo,v=i.style,b=c.start,x=c.end,P={start:b,end:x,offset:v.offset,verticalLength:v.verticalLength,type:"end"},D=Lu(P),L=D.leftX,U=D.leftY,Z=D.rightX,oe=D.rightY;return function(ye){for(var me=1;me<arguments.length;me++){var xe=arguments[me]!=null?arguments[me]:{};me%2?Gb(Object(xe),!0).forEach(function(Me){dx(ye,Me,xe[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(xe)):Gb(Object(xe)).forEach(function(Me){Object.defineProperty(ye,Me,Object.getOwnPropertyDescriptor(xe,Me))})}return ye}({d:"M".concat(L," ").concat(U," L").concat(x.x," ").concat(x.y," L").concat(Z," ").concat(oe," z")},v)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),c=i.d,v=i.strokeWidth,b=i.stroke,x=i.fill;return Object(pe.g)(pf,{d:c,fill:x,strokeWidth:v,stroke:b})}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&vx(e.prototype,n),u}(pe.a),Xb=function(t,e){return Ee(t,e)},_x=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Xv=function(){return ft.a.Date.now()},Ox=/\s/,wx=function(t){for(var e=t.length;e--&&Ox.test(t.charAt(e)););return e},xx=/^\s+/,Ex=function(t){return t&&t.slice(0,wx(t)+1).replace(xx,"")},Sx=/^[-+]0x[0-9a-f]+$/i,jx=/^0b[01]+$/i,Px=/^0o[0-7]+$/i,Mx=parseInt,Hb=function(t){if(typeof t=="number")return t;if(Ft(t))return NaN;if(Dn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Dn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ex(t);var n=jx.test(t);return n||Px.test(t)?Mx(t.slice(2),n?2:8):Sx.test(t)?NaN:+t},Ax=Math.max,Tx=Math.min,kx=function(t,e,n){var r,u,i,c,v,b,x=0,P=!1,D=!1,L=!0;if(typeof t!="function")throw new TypeError("Expected a function");function U(Me){var qe=r,Je=u;return r=u=void 0,x=Me,c=t.apply(Je,qe)}function Z(Me){return x=Me,v=setTimeout(ye,e),P?U(Me):c}function oe(Me){var qe=Me-b;return b===void 0||qe>=e||qe<0||D&&Me-x>=i}function ye(){var Me=Xv();if(oe(Me))return me(Me);v=setTimeout(ye,function(qe){var Je=e-(qe-b);return D?Tx(Je,i-(qe-x)):Je}(Me))}function me(Me){return v=void 0,L&&r?U(Me):(r=u=void 0,c)}function xe(){var Me=Xv(),qe=oe(Me);if(r=arguments,u=this,b=Me,qe){if(v===void 0)return Z(b);if(D)return clearTimeout(v),v=setTimeout(ye,e),U(b)}return v===void 0&&(v=setTimeout(ye,e)),c}return e=Hb(e)||0,Dn(n)&&(P=!!n.leading,i=(D="maxWait"in n)?Ax(Hb(n.maxWait)||0,e):i,L="trailing"in n?!!n.trailing:L),xe.cancel=function(){v!==void 0&&clearTimeout(v),x=0,r=b=u=v=void 0},xe.flush=function(){return v===void 0?c:me(Xv())},xe},Nx=o(172);function Dx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Za(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ub,Yb,Vb,Cx=function(){function t(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Za(this,"undos",[]),Za(this,"redos",[]),Za(this,"callbacks",[]),Za(this,"stopWatch",null),Za(this,"curData",null),Za(this,"maxSize",50),Za(this,"waitTime",100),Za(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){Xb(_x(this.undos),r)||(this.undos.push(r),Xb(this.curData,r)||(this.redos=[]),this.eventCenter.emit(pt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var u=this.undos.pop();return this.curData=Tn(u),u}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Tn(r),r}}},{key:"watch",value:function(r){var u=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Nx.a)(r,kx(function(){var i=r.modelToHistoryData();i&&u.add(i)},this.waitTime))}}])&&Dx(e.prototype,n),t}();function Hv(t){return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function Ix(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return $b(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return $b(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kb(Object(n),!0).forEach(function(r){Zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uv(t,e){return Uv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uv(t,e)}function Rx(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mh(t);if(e){var u=Mh(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Lx(this,n)}}function Lx(t,e){if(e&&(Hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vc(t)}function vc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mh(t)}function Zu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zb,Jb,Qb,Yv=di((Vb=Yb=function(t){(function(c,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(v&&v.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),v&&Uv(c,v)})(i,t);var e,n,r,u=Rx(i);function i(){var c;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),Zu(vc(c=u.call(this)),"ref",Object(pe.f)()),Zu(vc(c),"__prevText",{type:"",text:"",id:""}),Zu(vc(c),"keyupHandler",function(v){var b=c.props.graphModel.textEditElement;v.key==="Enter"&&v.altKey&&b.setElementState(0)}),Zu(vc(c),"inputHandler",function(v){var b=v.target.innerText,x=c.props.graphModel.textEditElement;c.__prevText={type:x.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Zu(vc(c),"keydownHandler",function(v){v.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=i,r=[{key:"getDerivedStateFromProps",value:function(c){var v,b=c.graphModel,x=b.transformModel,P=b.theme,D=b.textEditElement;if(D){var L;if((L=D.text)===null||L===void 0||!L.value)if(D.BaseType===qn.EDGE){var U=(D=D).text,Z=D.textPosition,oe=Z.x,ye=Z.y;U.x=oe,U.y=ye,D.setText(U)}else D=D;var me={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(D.BaseType===qn.EDGE){var xe=P.edgeText,Me=xe.overflowMode,qe=xe.lineHeight,Je=xe.wrapPadding,yt=xe.textWidth;yt&&Me==="autoWrap"&&(v=yc(yc({},me),{},{width:yt,minWidth:yt,lineHeight:qe,padding:Je}))}else if(D.BaseType===qn.NODE){var et=P.nodeText,Ot=et.overflowMode,nt=et.lineHeight,tn=et.wrapPadding,on=et.textWidth,Xt=D,un=Xt.width,Zn=Xt.modelType;(Zn!==Kt.TEXT_NODE&&Ot==="autoWrap"||Zn===Kt.TEXT_NODE&&on)&&(v=yc(yc({},me),{},{width:on||un,minWidth:on||un,lineHeight:nt,padding:tn}))}var Jn=D.text,eo=Jn.x,zi=Jn.y,$o=Ix(x.CanvasPointToHtmlPoint([eo,zi]),2);return{style:yc({left:$o[0],top:$o[1]},v)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var v=this.__prevText,b=v.text,x=v.id;c.updateText(x,b),c.eventCenter.emit(pt.TEXT_UPDATE,yc({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var v=document.createRange();v.selectNodeContents(c),v.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(v)}}},{key:"render",value:function(){var c,v=this.props.graphModel.textEditElement,b=this.state.style;return v?Object(pe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:v.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=v.text)===null||c===void 0?void 0:c.value):null}}])&&qb(e.prototype,n),r&&qb(e,r),i}(pe.a),Zu(Yb,"toolName","textEdit"),Ub=Vb))||Ub,zx=function(t){return t.modelType===Kt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,u=(n.x+r.x)/2,i=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,v=Math.abs(n.y-r.y)+10;return{x:u-c/2,y:i-v/2,x1:u+c/2,y1:i+v/2}}(t):t.modelType===Kt.POLYLINE_EDGE?function(e){var n=e.points,r=Ai(n),u=Ga(r,8),i=u.x,c=u.y,v=u.width,b=u.height;return{x:i-v/2,y:c-b/2,x1:i+v/2,y1:c+b/2}}(t):t.modelType===Kt.BEZIER_EDGE?function(e){var n=e.path,r=$s(n),u=Ga(r,8),i=u.x,c=u.y,v=u.width,b=u.height;return{x:i-v/2,y:c-b/2,x1:i+v/2,y1:c+b/2}}(t):void 0};function Vv(t){return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function e0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,c,v=[],b=!0,x=!1;try{for(u=u.call(n);!(b=(i=u.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||u.return==null||u.return()}finally{if(x)throw c}}return v}}(t,e)||t0(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bx(t){return function(e){if(Array.isArray(e))return $v(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||t0(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function t0(t,e){if(t){if(typeof t=="string")return $v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$v(t,e):void 0}}function $v(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kv(t,e){return Kv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kv(t,e)}function Wx(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ah(t);if(e){var u=Ah(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Gx(this,n)}}function Gx(t,e){if(e&&(Vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hf(t)}function hf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ah(t)}function df(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qv=di((Qb=Jb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Kv(i,c)})(u,t);var e,n,r=Wx(u);function u(i){var c;(function(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,u),df(hf(c=r.call(this)),"stepDrag",void 0),df(hf(c),"handleMouseDown",function(P){c.stepDrag.handleMouseDown(P)}),df(hf(c),"onDragging",function(P){var D=P.deltaX,L=P.deltaY,U=c.props.graphModel,Z=U.getSelectElements(!0);U.moveNodes(Z.nodes.map(function(oe){return oe.id}),D,L)}),df(hf(c),"handleContextMenu",function(P){P.preventDefault();var D=c.props,L=D.graphModel,U=D.graphModel,Z=U.eventCenter,oe=U.selectElements,ye=L.getPointByClient({x:P.clientX,y:P.clientY}),me={nodes:[],edges:[]};Bx(oe.values()).forEach(function(xe){xe.BaseType===qn.NODE&&me.nodes.push(xe.getData()),xe.BaseType===qn.EDGE&&me.edges.push(xe.getData())}),Z.emit(pt.SELECTION_CONTEXTMENU,{data:me,e:P,position:ye})});var v=i.graphModel,b=v.gridSize,x=v.eventCenter;return c.stepDrag=new Ho({onDragging:c.onDragging,step:b,eventType:"SELECTION",eventCenter:x}),c}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel,c=i.selectElements,v=i.transformModel;if(!(c.size<=1)){var b=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;c.forEach(function(oe){var ye={x:0,y:0,x1:0,y1:0};oe.BaseType===qn.NODE&&(ye=function(me){var xe=me.x,Me=me.y,qe=me.width,Je=me.height;return{x:xe-qe/2,y:Me-Je/2,x1:xe+qe/2,y1:Me+Je/2}}(oe)),oe.BaseType===qn.EDGE&&(ye=zx(oe)),b=Math.min(b,ye.x),x=Math.min(x,ye.y),P=Math.max(P,ye.x1),D=Math.max(D,ye.y1)});var L=e0(v.CanvasPointToHtmlPoint([b,x]),2);b=L[0],x=L[1];var U=e0(v.CanvasPointToHtmlPoint([P,D]),2);P=U[0],D=U[1];var Z={left:"".concat(b-10,"px"),top:"".concat(x-10,"px"),width:"".concat(P-b+20,"px"),height:"".concat(D-x+20,"px")};return Object(pe.g)("div",{className:"lf-multiple-select",style:Z,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Fx(e.prototype,n),u}(pe.a),df(Jb,"toolName","multipleSelect"),Zb=Qb))||Zb;function Xx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Th(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hx=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Th(this,"tools",void 0),Th(this,"components",void 0),Th(this,"toolMap",new Map),Th(this,"instance",void 0),this.instance=r,this.isDisabledTool(Yv.toolName)||this.registerTool(Yv.toolName,Yv),this.isDisabledTool(qv.toolName)||this.registerTool(qv.toolName,qv);var u=r.graphModel;u.eventCenter.on("".concat(pt.GRAPH_TRANSFORM,",").concat(pt.NODE_CLICK,",").concat(pt.BLANK_CLICK," "),function(){var i=u.textEditElement,c=u.editConfigModel,v=c.edgeTextEdit,b=c.nodeTextEdit;(v||b)&&i&&u.textEditElement.setElementState(fn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,u){this.toolMap.set(r,u)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Xx(e.prototype,n),t}(),Ux=o(173),Yx=o.n(Ux);function Vx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n0=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Zv(this,"mousetrap",void 0),Zv(this,"options",void 0),Zv(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var u=r.lf;this.target=u.container,this.mousetrap=new Yx.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,u=this.options.keyboard.shortcuts;if(u)if(mn(u))u.forEach(function(b){var x=b.keys,P=b.callback,D=b.action;return r.on(x,P,D)});else{var i=u.keys,c=u.callback,v=u.action;this.on(i,c,v)}}},{key:"on",value:function(r,u,i){this.mousetrap.bind(this.getKeys(r),u,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,u){this.mousetrap.unbind(this.getKeys(r),u)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var u=this;return(Array.isArray(r)?r:[r]).map(function(i){return u.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Vx(e.prototype,n),t}(),$x=n0,pa=null;function r0(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function o0(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var gc=40,Jv=40;function Qv(t){return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function i0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i0(Object(n),!0).forEach(function(r){Vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eg=Symbol("plugin register by Logicflow.use"),tg=function(){function t(u){var i,c,v=this;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),Vn(this,"container",void 0),Vn(this,"width",void 0),Vn(this,"height",void 0),Vn(this,"graphModel",void 0),Vn(this,"history",void 0),Vn(this,"viewMap",new Map),Vn(this,"tool",void 0),Vn(this,"keyboard",void 0),Vn(this,"dnd",void 0),Vn(this,"options",void 0),Vn(this,"snaplineModel",void 0),Vn(this,"components",[]),Vn(this,"plugins",void 0),Vn(this,"extension",{}),Vn(this,"adapterIn",void 0),Vn(this,"adapterOut",void 0),Vn(this,"getView",function(b){return v.viewMap.get(b)}),u=tm(u),this.options=u,this.container=this.initContainer(u.container),this.plugins=u.plugins,this.graphModel=new K_(yf({},u)),this.tool=new Hx(this),this.history=new Cx(this.graphModel.eventCenter),this.dnd=new U1({lf:this}),this.keyboard=new $x({lf:this,keyboard:u.keyboard}),u.snapline!==!1&&(this.snaplineModel=new yb(this.graphModel),i=this.graphModel.eventCenter,c=this.snaplineModel,i.on("node:mousemove",function(b){var x=b.data;c.setNodeSnapLine(x)}),i.on("node:mouseup",function(){c.clearSnapline()})),this.options.isSilentMode||(function(b,x){var P=b.keyboard,D=P.options.keyboard;P.on(["cmd + c","ctrl + c"],function(){if(Jv=gc,!D.enabled||x.textEditElement)return!0;var L=b.options.guards,U=x.getSelectElements(!1);return L&&L.beforeClone&&!L.beforeClone(U)||U.nodes.length===0&&U.edges.length===0?(pa=null,!0):((pa=U).nodes.forEach(function(Z){return r0(Z,gc)}),pa.edges.forEach(function(Z){return o0(Z,gc)}),!1)}),P.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(pa&&(pa.nodes||pa.edges)){b.clearSelectElements();var L=b.addElements(pa,Jv);if(!L)return!0;L.nodes.forEach(function(U){return b.selectElementById(U.id,!0)}),L.edges.forEach(function(U){return b.selectElementById(U.id,!0)}),pa.nodes.forEach(function(U){return r0(U,gc)}),pa.edges.forEach(function(U){return o0(U,gc)}),Jv+=gc}return!1}),P.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(b.undo(),!1)}),P.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(b.redo(),!1)}),P.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var L=x.getSelectElements(!0);return b.clearSelectElements(),L.edges.forEach(function(U){return b.deleteEdge(U.id)}),L.nodes.forEach(function(U){return b.deleteNode(U.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(u.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(u,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof u=="string"){var v={BaseEdge:ff,BaseEdgeModel:wl,BaseNode:sa,BaseNodeModel:ua,RectNode:Yy,RectNodeModel:xy,CircleNode:qy,CircleNodeModel:oy,PolygonNode:tv,PolygonNodeModel:by,TextNode:hv,TextNodeModel:Py,LineEdge:kv,LineEdgeModel:Ji,DiamondNode:iv,DiamondNodeModel:cy,PolylineEdge:Rv,PolylineEdgeModel:Hs,BezierEdge:Fv,BezierEdgeModel:Jd,EllipseNode:lv,EllipseNodeModel:hy,HtmlNode:gv,HtmlNodeModel:Ty,h:pe.g,type:u};this.viewMap.forEach(function(L){var U=L.extendKey;U&&(v[U]=L)}),this.graphModel.modelMap.forEach(function(L){var U=L.extendKey;U&&(v[U]=L)});var b=i(v),x=b.view,P=b.model,D=x;c&&!D.isObervered&&(D.isObervered=!0,D=st(D)),this.setView(u,D),this.graphModel.setModel(u,P)}else this.registerElement(u)}},{key:"registerElement",value:function(u){var i=u.view;u.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=st(i)),this.setView(u.type,i),this.graphModel.setModel(u.type,u.model)}},{key:"batchRegister",value:function(){var u=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(c){u.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Yy,model:xy,type:"rect"}),this.registerElement({type:"circle",view:qy,model:oy}),this.registerElement({type:"polygon",view:tv,model:by}),this.registerElement({type:"line",view:kv,model:Ji}),this.registerElement({type:"polyline",view:Rv,model:Hs}),this.registerElement({type:"bezier",view:Fv,model:Jd}),this.registerElement({type:"text",view:hv,model:Py}),this.registerElement({type:"ellipse",view:lv,model:hy}),this.registerElement({type:"diamond",view:iv,model:cy}),this.registerElement({type:"html",view:gv,model:Ty})}},{key:"selectElementById",value:function(u){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(u,i),!i&&c&&this.graphModel.toFront(u)}},{key:"focusOn",value:function(u){var i=this.graphModel.transformModel,c=u.coordinate,v=u.id;if(!c){var b=this.getNodeModelById(v);b&&(c=b.getData());var x=this.getEdgeModelById(v);x&&(c=x.textPosition)}var P=c,D=P.x,L=P.y;i.focusOn(D,L,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(u){this.graphModel.setTheme(u)}},{key:"resize",value:function(u,i){this.graphModel.resize(u,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(u){this.graphModel.setDefaultEdgeType(u)}},{key:"updateText",value:function(u,i){this.graphModel.updateText(u,i)}},{key:"deleteElement",value:function(u){var i,c,v,b=this.getModelById(u);return!!b&&(c=(v=(Vn(i={},qn.NODE,this.deleteNode),Vn(i,qn.EDGE,this.deleteEdge),i)[b.BaseType])===null||v===void 0?void 0:v.call(this,u))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(u){return this.graphModel.getElement(u)}},{key:"getDataById",value:function(u){var i;return(i=this.graphModel.getElement(u))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(u,i){this.graphModel.changeNodeType(u,i)}},{key:"changeEdgeType",value:function(u,i){this.graphModel.changeEdgeType(u,i)}},{key:"getNodeEdges",value:function(u){return this.graphModel.getNodeEdges(u)}},{key:"addNode",value:function(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(u,i,c)}},{key:"deleteNode",value:function(u){var i=this.graphModel.getNodeModelById(u);if(!i)return!1;var c=i.getData(),v=this.options.guards,b=!v||!v.beforeDelete||v.beforeDelete(c);return b&&this.graphModel.deleteNode(u),b}},{key:"cloneNode",value:function(u){var i=this.graphModel.getNodeModelById(u).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(i))return this.graphModel.cloneNode(u)}},{key:"changeNodeId",value:function(u,i){return this.graphModel.changeNodeId(u,i)}},{key:"getNodeModelById",value:function(u){return this.graphModel.getNodeModelById(u)}},{key:"getNodeDataById",value:function(u){var i;return(i=this.graphModel.getNodeModelById(u))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(u){return this.graphModel.addEdge(u)}},{key:"deleteEdge",value:function(u){var i=this.options.guards,c=this.graphModel.edgesMap[u];if(!c)return!1;var v=c.model.getData(),b=!i||!i.beforeDelete||i.beforeDelete(v);return b&&this.graphModel.deleteEdgeById(u),b}},{key:"deleteEdgeByNodeId",value:function(u){var i=u.sourceNodeId,c=u.targetNodeId;i&&c?this.graphModel.deleteEdgeBySourceAndTarget(i,c):i?this.graphModel.deleteEdgeBySource(i):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(u,i){return this.graphModel.changeEdgeId(u,i)}},{key:"getEdgeModelById",value:function(u){var i;return(i=this.graphModel.edgesMap[u])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(u){var i=this.graphModel.edges,c=u.sourceNodeId,v=u.targetNodeId;if(c&&v){var b=[];return i.forEach(function(D){D.sourceNodeId===c&&D.targetNodeId===v&&b.push(D)}),b}if(c){var x=[];return i.forEach(function(D){D.sourceNodeId===c&&x.push(D)}),x}if(v){var P=[];return i.forEach(function(D){D.targetNodeId===v&&P.push(D)}),P}return[]}},{key:"getEdgeDataById",value:function(u){var i;return(i=this.getEdgeModelById(u))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(u){return this.graphModel.getNodeIncomingEdge(u)}},{key:"getNodeOutgoingEdge",value:function(u){return this.graphModel.getNodeOutgoingEdge(u)}},{key:"getNodeIncomingNode",value:function(u){return this.graphModel.getNodeIncomingNode(u)}},{key:"getNodeOutgoingNode",value:function(u){return this.graphModel.getNodeOutgoingNode(u)}},{key:"editText",value:function(u){this.graphModel.editText(u)}},{key:"setProperties",value:function(u,i){var c;(c=this.graphModel.getElement(u))===null||c===void 0||c.setProperties(Sn(i))}},{key:"deleteProperty",value:function(u,i){var c;(c=this.graphModel.getElement(u))===null||c===void 0||c.deleteProperty(i)}},{key:"getProperties",value:function(u){var i;return(i=this.graphModel.getElement(u))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(u){this.graphModel.toFront(u)}},{key:"setElementZIndex",value:function(u,i){return this.graphModel.setElementZIndex(u,i)}},{key:"addElements",value:function(u){for(var i=this,c=u.nodes,v=u.edges,b={},x={nodes:[],edges:[]},P=0;P<c.length;P++){var D=c[P],L=D.id,U=this.addNode(D);if(!U)return;L&&(b[L]=U.id),x.nodes.push(U)}return v.forEach(function(Z){var oe=Z.sourceNodeId,ye=Z.targetNodeId;b[oe]&&(oe=b[oe]),b[ye]&&(ye=b[ye]);var me=i.graphModel.addEdge(yf(yf({},Z),{},{sourceNodeId:oe,targetNodeId:ye}));x.edges.push(me)}),x}},{key:"getAreaElement",value:function(u,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(u,i,c,v,b).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(u)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var u=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,c=new Array(i),v=0;v<i;v++)c[v]=arguments[v];return this.adapterOut.apply(this,[u].concat(c))}return u}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(u){this.graphModel.editConfigModel.updateEditConfig(u)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(u,i){return this.graphModel.getPointByClient({x:u,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var u=Sn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(u)}}},{key:"redo",value:function(){if(this.history.redoAble()){var u=Sn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(u)}}},{key:"zoom",value:function(u,i){return this.graphModel.transformModel.zoom(u,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(u){this.graphModel.transformModel.setZoomMiniSize(u)}},{key:"setZoomMaxSize",value:function(u){this.graphModel.transformModel.setZoomMaxSize(u)}},{key:"getTransform",value:function(){var u=this.graphModel.transformModel;return{SCALE_X:u.SCALE_X,SCALE_Y:u.SCALE_Y,TRANSLATE_X:u.TRANSLATE_X,TRANSLATE_Y:u.TRANSLATE_Y}}},{key:"translate",value:function(u,i){this.graphModel.transformModel.translate(u,i)}},{key:"resetTranslate",value:function(){var u=this.graphModel.transformModel,i=u.TRANSLATE_X,c=u.TRANSLATE_Y;this.translate(-i,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(u,i){i===void 0&&(i=u),this.graphModel.fitView(u,i)}},{key:"openEdgeAnimation",value:function(u){this.graphModel.openEdgeAnimation(u)}},{key:"closeEdgeAnimation",value:function(u){this.graphModel.closeEdgeAnimation(u)}},{key:"on",value:function(u,i){this.graphModel.eventCenter.on(u,i)}},{key:"off",value:function(u,i){this.graphModel.eventCenter.off(u,i)}},{key:"once",value:function(u,i){this.graphModel.eventCenter.once(u,i)}},{key:"emit",value:function(u,i){this.graphModel.eventCenter.emit(u,i)}},{key:"initContainer",value:function(u){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",u.innerHTML="",u.appendChild(i),i}},{key:"installPlugins",value:function(){var u,i=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=(u=this.plugins)!==null&&u!==void 0?u:t.extensions;v.forEach(function(b){var x=null,P=null;b[eg]?(x=b.extension,P=b.props):x=b;var D=x.pluginName||x.name;c.indexOf(D)===-1&&i.installPlugin(x,P)})}},{key:"installPlugin",value:function(u,i){if(Qv(u)==="object"){var c=u.install,v=u.render;return c&&c.call(u,this,t),v&&this.components.push(v.bind(u)),void(this.extension[u.pluginName]=u)}var b=u,x=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:i});x.render&&this.components.push(x.render.bind(x)),this.extension[b.pluginName]=x}},{key:"updateAttributes",value:function(u,i){this.graphModel.updateAttributes(u,i)}},{key:"createFakerNode",value:function(u){var i=this.graphModel.modelMap.get(u.type);if(i){var c=new i(yf(yf({},u),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(u){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(u)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(u,i){this.viewMap.set(u,i)}},{key:"renderRawData",value:function(u){this.graphModel.graphDataToModel(Sn(u)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(pe.j)(Object(pe.g)(X1,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(pt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(u=this.adapterIn(u)),this.renderRawData(u)}}],r=[{key:"use",value:function(u,i){var c,v,b=u.pluginName;b||(b=u.name);var x=(c=this.extensions.get(b))===null||c===void 0?void 0:c.extension;x&&x.destroy&&x.destroy(),this.extensions.set(b,(Vn(v={},eg,eg),Vn(v,"extension",u),Vn(v,"props",i),v))}}],n&&a0(e.prototype,n),r&&a0(e,r),t}();function di(t){return st(t)}Vn(tg,"extensions",new Map),l.default=tg}])})})(ug,ug.exports);var Fe=ug.exports,zM=function(){function y(){globalThis._ids=this,this._ids=new Set}return y.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(a){var l=Math.random()*16|0,o=a==="x"?l:l&3|8;return o.toString(16)});return h},y.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},y}(),BM=(globalThis==null?void 0:globalThis._ids)||new zM;function Tc(){return BM.next()}var __=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();(function(y){__(h,y);function h(a,l){var o=this;return a.id||(a.id="Event_"+Tc()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=y.call(this,a,l)||this,o}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var a=y.prototype.getConnectedTargetRules.call(this),l={message:"起始节点不能作为边的终点",validate:function(){return!1}};return a.push(l),a},h.extendKey="StartEventModel",h})(Fe.CircleNodeModel);(function(y){__(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="StartEventNode",h})(Fe.CircleNode);var O_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Fh=globalThis&&globalThis.__assign||function(){return Fh=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Fh.apply(this,arguments)};(function(y){O_(h,y);function h(a,l){var o=this;return a.id||(a.id="Event_"+Tc()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=y.call(this,a,l)||this,o}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var a=y.prototype.getConnectedSourceRules.call(this),l={message:"结束节点不能作为边的起点",validate:function(){return!1}};return a.push(l),a},h.extendKey="EndEventModel",h})(Fe.CircleNodeModel);(function(y){O_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var a=this.props.model,l=a.getNodeStyle(),o=a.x,f=a.y,p=a.r,m=y.prototype.getShape.call(this);return Fe.h("g",{},m,Fe.h("circle",Fh(Fh({},l),{cx:o,cy:f,r:p-5})))},h.extendKey="EndEventView",h})(Fe.CircleNode);var w_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),_f=globalThis&&globalThis.__assign||function(){return _f=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},_f.apply(this,arguments)};(function(y){w_(h,y);function h(a,l){var o=this;return a.id||(a.id="Gateway_"+Tc()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=y.call(this,a,l)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return h.extendKey="ExclusiveGatewayModel",h})(Fe.PolygonNodeModel);(function(y){w_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getShape=function(){var a=this.props.model,l=a.x,o=a.y,f=a.width,p=a.height,m=a.points,g=a.getNodeStyle();return Fe.h("g",{transform:"matrix(1 0 0 1 "+(l-f/2)+" "+(o-p/2)+")"},Fe.h("polygon",_f(_f({},g),{x:l,y:o,points:m})),Fe.h("path",_f({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},h.extendKey="ExclusiveGatewayNode",h})(Fe.PolygonNode);var x_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Wh=globalThis&&globalThis.__assign||function(){return Wh=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Wh.apply(this,arguments)};(function(y){x_(h,y);function h(a,l){var o=this;return a.id||(a.id="Activity_"+Tc()),o=y.call(this,a,l)||this,o}return h.extendKey="UserTaskModel",h})(Fe.RectNodeModel);(function(y){x_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var a=this.props.model,l=a.x,o=a.y,f=a.width,p=a.height,m=a.getNodeStyle();return Fe.h("svg",{x:l-f/2+5,y:o-p/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Fe.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var a=this.props.model,l=a.x,o=a.y,f=a.width,p=a.height,m=a.radius,g=a.getNodeStyle();return Fe.h("g",{},[Fe.h("rect",Wh(Wh({},g),{x:l-f/2,y:o-p/2,rx:m,ry:m,width:f,height:p})),this.getLabelShape()])},h.extendKey="UserTaskNode",h})(Fe.RectNode);var E_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),sg=globalThis&&globalThis.__assign||function(){return sg=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},sg.apply(this,arguments)};(function(y){E_(h,y);function h(a,l){var o=this;return a.id||(a.id="Activity_"+Tc()),o=y.call(this,a,l)||this,o}return h.extendKey="ServiceTaskModel",h})(Fe.RectNodeModel);(function(y){E_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var a=this.props.model,l=a.x,o=a.y,f=a.width,p=a.height,m=a.getNodeStyle();return Fe.h("svg",{x:l-f/2+5,y:o-p/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Fe.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var a=this.props.model,l=a.x,o=a.y,f=a.width,p=a.height,m=a.radius,g=a.getNodeStyle();return Fe.h("g",{},[Fe.h("rect",sg({x:l-f/2,y:o-p/2,rx:m,ry:m,width:f,height:p},g)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h})(Fe.RectNode);var S_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();(function(y){S_(h,y);function h(a,l){var o=this;return a.id||(a.id="Flow_"+Tc()),o=y.call(this,a,l)||this,o}return h.extendKey="SequenceFlowModel",h})(Fe.PolylineEdgeModel);(function(y){S_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h})(Fe.PolylineEdge);var b0={width:40,height:40},_0={width:40,height:40},O0={width:40,height:40},w0={width:100,height:80},x0={width:100,height:80},FM=function(){function y(){globalThis._ids=this,this._ids=new Set}return y.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(a){var l=Math.random()*16|0,o=a==="x"?l:l&3|8;return o.toString(16)});return h},y.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},y}(),WM=(globalThis==null?void 0:globalThis._ids)||new FM;function E0(){return WM.next()}function j_(y){return Object.prototype.toString.call(y)}function GM(y){return"  ".repeat(y)}function Gh(y){var h=y;return j_(y)==="[object Object]"?(h={},Object.keys(y).forEach(function(a){var l=a;a.charAt(0)==="-"&&(l=a.substring(1)),h[l]=Gh(y[a])})):Array.isArray(y)&&(h=[],y.forEach(function(a,l){h[l]=Gh(a)})),h}function XM(y){var h=y;try{typeof h!="string"&&(h=JSON.parse(y))}catch{h=JSON.stringify(Gh(y)).replace(/"/g,"'")}return h}var bc=`	
`;function Rh(y,h,a){var l=GM(a),o="";if(h==="#text")return bc+l+y;if(h==="#cdata-section")return bc+l+"<![CDATA["+y+"]]>";if(h==="#comment")return bc+l+"<!--"+y+"-->";if((""+h).charAt(0)==="-")return" "+h.substring(1)+'="'+XM(y)+'"';if(Array.isArray(y))y.forEach(function(g){o+=Rh(g,h,a+1)});else if(j_(y)==="[object Object]"){var f=Object.keys(y),p="",m="";o+=(a===0?"":bc+l)+"<"+h,f.forEach(function(g){g.charAt(0)==="-"?p+=Rh(y[g],g,a+1):m+=Rh(y[g],g,a+1)}),o+=p+(m!==""?">"+m+(bc+l)+"</"+h+">":" />")}else o+=bc+l+("<"+h+">"+y.toString()+"</"+h+">");return o}function HM(y){var h="";for(var a in y)h+=Rh(y[a],a,0);return h}var ro=function(){};ro.ObjTree=function(){return this};ro.ObjTree.VERSION="0.23";ro.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;ro.ObjTree.prototype.attr_prefix="-";ro.ObjTree.prototype.parseXML=function(y){var h;if(window.DOMParser){var a=new DOMParser,l=a.parseFromString(y,"application/xml");if(!l)return;h=l.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(y),h=a.documentElement);if(h)return this.parseDOM(h)};ro.ObjTree.prototype.parseHTTP=function(y,h,a){var l={};for(var o in h)l[o]=h[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),a){l.asynchronous=!0;var f=this,p=a,m=l.onComplete;l.onComplete=function(j){var S;j&&j.responseXML&&j.responseXML.documentElement&&(S=f.parseDOM(j.responseXML.documentElement)),p(S,j),m&&m(j)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=y;var E=new HTTP.Request(l);E&&(g=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(y,l);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};ro.ObjTree.prototype.parseDOM=function(y){if(y){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var a=this.parseElement(y);if(this.__force_array[y.nodeName]&&(a=[a]),y.nodeType!=11){var l={};l[y.nodeName]=a,a=l}return a}};ro.ObjTree.prototype.parseElement=function(y){if(y.nodeType!=7){if(y.nodeType==3||y.nodeType==4||y.nodeType==8){var h=y.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:y.nodeValue}var a=null,l={};if(y.attributes&&y.attributes.length){a={};for(var o=0;o<y.attributes.length;o++){var f=y.attributes[o].nodeName;if(typeof f=="string"){var p=y.attributes[o].nodeValue;try{p=JSON.parse(y.attributes[o].nodeValue.replace(/'/g,'"'))}catch{p=y.attributes[o].nodeValue}p&&(f=this.attr_prefix+f,typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(a,f,l[f],p))}}}if(y.childNodes&&y.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<y.childNodes.length&&m;o++){var g=y.childNodes[o].nodeType;g==3||g==4||g==8||(m=!1)}if(m){a||(a="");for(var o=0;o<y.childNodes.length;o++)a+=y.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<y.childNodes.length;o++){var f=y.childNodes[o].nodeName;if(typeof f=="string"){var p=this.parseElement(y.childNodes[o]);p&&(typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(a,f,l[f],p))}}}}else a===null&&(a={});return a}};ro.ObjTree.prototype.addNode=function(y,h,a,l){this.__force_array[h]?(a==1&&(y[h]=[]),y[h][y[h].length]=l):a==1?y[h]=l:a==2?y[h]=[y[h],l]:y[h][y[h].length]=l};ro.ObjTree.prototype.writeXML=function(y){var h=this.hash_to_xml(null,y);return this.xmlDecl+h};ro.ObjTree.prototype.hash_to_xml=function(y,h){var a=[],l=[];for(var o in h)if(h.hasOwnProperty(o)){var f=h[o];o.charAt(0)!=this.attr_prefix?typeof f>"u"||f==null?a[a.length]="<"+o+" />":typeof f=="object"&&f.constructor==Array?a[a.length]=this.array_to_xml(o,f):typeof f=="object"?a[a.length]=this.hash_to_xml(o,f):a[a.length]=this.scalar_to_xml(o,f):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var p=l.join(""),m=a.join("");return typeof y>"u"||y==null||(a.length>0?m.match(/\n/)?m="<"+y+p+`>
`+m+"</"+y+`>
`:m="<"+y+p+">"+m+"</"+y+`>
`:m="<"+y+p+` />
`),m};ro.ObjTree.prototype.array_to_xml=function(y,h){for(var a=[],l=0;l<h.length;l++){var o=h[l];typeof o>"u"||o==null?a[a.length]="<"+y+" />":typeof o=="object"&&o.constructor==Array?a[a.length]=this.array_to_xml(y,o):typeof o=="object"?a[a.length]=this.hash_to_xml(y,o):a[a.length]=this.scalar_to_xml(y,o)}return a.join("")};ro.ObjTree.prototype.scalar_to_xml=function(y,h){return y=="#text"?this.xml_escape(h):"<"+y+">"+this.xml_escape(h)+"</"+y+`>
`};ro.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var UM=function(y){return new ro.ObjTree().parseXML(y)},YM=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),cg=globalThis&&globalThis.__assign||function(){return cg=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},cg.apply(this,arguments)},Qh=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},Bi;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow"})(Bi||(Bi={}));var P_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],S0=["properties","startPoint","endPoint","pointsList"];function j0(y){var h=y?S0.concat(y):S0;return function(a){function l(o){var f={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(p){return l(p)}):(Object.entries(o).forEach(function(p){var m=Qh(p,2),g=m[0],E=m[1];typeof E!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?f[g]=E:f["-"+g]=E:h.includes(g)?f["-"+g]=l(E):f[g]=l(E)}),f)}return l(a)}}function Xh(y){var h={};return Object.entries(y).forEach(function(a){var l=Qh(a,2),o=l[0],f=l[1];o.indexOf("-")===0?h[o.substring(1)]=Gh(f):typeof f=="string"?h[o]=f:Object.prototype.toString.call(f)==="[object Object]"?h[o]=Xh(f):Array.isArray(f)?h[o]=f.map(function(p){return Xh(p)}):h[o]=f}),h}function VM(y,h,a){var l=new Map;h.nodes.forEach(function(f){var p,m={"-id":f.id};if(!((p=f.text)===null||p===void 0)&&p.value&&(m["-name"]=f.text.value),f.properties){var g=j0(a)(f.properties);Object.assign(m,g)}l.set(f.id,m),y[f.type]?Array.isArray(y[f.type])?y[f.type].push(m):y[f.type]=[y[f.type],m]:y[f.type]=m});var o=h.edges.map(function(f){var p,m,g=l.get(f.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(f.id):g["bpmn:incoming"]=[g["bpmn:incoming"],f.id]:g["bpmn:incoming"]=f.id;var E={"-id":f.id,"-sourceRef":f.sourceNodeId,"-targetRef":f.targetNodeId};if(!((p=f.text)===null||p===void 0)&&p.value&&(E["-name"]=(m=f.text)===null||m===void 0?void 0:m.value),f.properties){var j=j0(a)(f.properties);Object.assign(E,j)}return E});h.edges.forEach(function(f){var p=l.get(f.sourceNodeId);p["bpmn:outgoing"]?Array.isArray(p["bpmn:outgoing"])?p["bpmn:outgoing"].push(f.id):p["bpmn:outgoing"]=[p["bpmn:outgoing"],f.id]:p["bpmn:outgoing"]=f.id}),y[Bi.FLOW]=o}function $M(y,h){y["bpmndi:BPMNEdge"]=h.edges.map(function(a){var l,o=a.id,f=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),p={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((l=a.text)===null||l===void 0)&&l.value&&(p["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),p}),y["bpmndi:BPMNShape"]=h.nodes.map(function(a){var l,o=a.id,f=100,p=80,m=a.x,g=a.y,E=nu.shapeConfigMap.get(a.type);E&&(f=E.width,p=E.height),m-=f/2,g-=p/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":f,"-height":p}};return!((l=a.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),j})}function KM(y){var h=[],a=[],l=y["bpmn:definitions"];if(l){var o=l["bpmn:process"];Object.keys(o).forEach(function(f){if(f.indexOf("bpmn:")===0){var p=o[f];if(f===Bi.FLOW){var m=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];a=ZM(p,m)}else{var g=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(qM(p,g,f))}}})}return{nodes:h,edges:a}}function qM(y,h,a){var l=[];if(Array.isArray(y))y.forEach(function(p){var m;Array.isArray(h)?m=h.find(function(E){return E["-bpmnElement"]===p["-id"]}):m=h;var g=P0(m,a,p);l.push(g)});else{var o=void 0;Array.isArray(h)?o=h.find(function(p){return p["-bpmnElement"]===y["-id"]}):o=h;var f=P0(o,a,y);l.push(f)}return l}function P0(y,h,a){var l=Number(y["dc:Bounds"]["-x"]),o=Number(y["dc:Bounds"]["-y"]),f=a["-name"],p=nu.shapeConfigMap.get(h);p&&(l+=p.width/2,o+=p.height/2);var m;Object.entries(a).forEach(function(S){var k=Qh(S,2),T=k[0],C=k[1];P_.indexOf(T)===-1&&(m||(m={}),m[T]=C)}),m&&(m=Xh(m));var g;if(f&&(g={x:l,y:o,value:f},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=y["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(E["-x"])+Number(E["-width"])/2,g.y=Number(E["-y"])+Number(E["-height"])/2}var j={id:y["-bpmnElement"],type:h,x:l,y:o,properties:m};return g&&(j.text=g),j}function ZM(y,h){var a=[];if(Array.isArray(y))y.forEach(function(o){var f;Array.isArray(h)?f=h.find(function(p){return p["-bpmnElement"]===o["-id"]}):f=h,a.push(M0(f,o))});else{var l=void 0;Array.isArray(h)?l=h.find(function(o){return o["-bpmnElement"]===y["-id"]}):l=h,a.push(M0(l,y))}return a}function M0(y,h){var a,l=h["-name"];if(l){var o=y["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;l.split(`
`).forEach(function(g){f<g.length&&(f=g.length)}),a={value:l,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var p;Object.entries(h).forEach(function(g){var E=Qh(g,2),j=E[0],S=E[1];P_.indexOf(j)===-1&&(p||(p={}),p[j]=S)}),p&&(p=Xh(p));var m={id:h["-id"],type:Bi.FLOW,pointsList:y["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:p};return a&&(m.text=a),m}var nu=function(){function y(h){var a=this,l=h.lf;this.adapterOut=function(o,f){var p=cg({},a.processAttributes);VM(p,o,f);var m={"-id":"BPMNPlane_1","-bpmnElement":p["-id"]};$M(m,o);var g=a.definitionAttributes;g["bpmn:process"]=p,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var E={"bpmn:definitions":g};return E},this.adapterIn=function(o){if(o)return KM(o)},l.adapterIn=function(o){return a.adapterIn(o)},l.adapterOut=function(o,f){return a.adapterOut(o,f)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+E0()},this.definitionAttributes={"-id":"Definitions_"+E0(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return y.prototype.setCustomShape=function(h,a){y.shapeConfigMap.set(h,a)},y.pluginName="bpmn-adapter",y.shapeConfigMap=new Map,y}();nu.shapeConfigMap.set(Bi.START,{width:b0.width,height:b0.height});nu.shapeConfigMap.set(Bi.END,{width:_0.width,height:_0.height});nu.shapeConfigMap.set(Bi.GATEWAY,{width:O0.width,height:O0.height});nu.shapeConfigMap.set(Bi.SYSTEM,{width:w0.width,height:w0.height});nu.shapeConfigMap.set(Bi.USER,{width:x0.width,height:x0.height});(function(y){YM(h,y);function h(a){var l=y.call(this,a)||this;l.adapterXmlIn=function(f){var p=UM(f);return l.adapterIn(p)},l.adapterXmlOut=function(f,p){var m=l.adapterOut(f,p);return HM(m)};var o=a.lf;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l}return h.pluginName="bpmnXmlAdapter",h})(nu);function Eg(){var y={message:"分组外的节点不允许连接分组内的",validate:function(h,a,l,o){var f=!!h.properties.parent,p=!!a.properties.parent;return!(!f&&p)}};this.targetRules.push(y)}var JM=function(){function y(){globalThis._ids=this,this._ids=new Set}return y.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(a){var l=Math.random()*16|0,o=a==="x"?l:l&3|8;return o.toString(16)});return h},y.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},y}(),QM=(globalThis==null?void 0:globalThis._ids)||new JM;function ts(){return QM.next()}var A0=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),_c=globalThis&&globalThis.__assign||function(){return _c=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},_c.apply(this,arguments)},M_=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},eA=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(M_(arguments[h]));return y};function LT(y){var h=M_(y.useDefinition(),1),a=h[0],l=function(f){A0(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},p.prototype.getShape=function(){var m,g=this.props.model,E=g.getNodeStyle(),j=g.x,S=g.y,k=g.r,T=g.width,C=g.height,N=g.properties,R=f.prototype.getShape.call(this),G=N.definitionType,H=(((m=a.endEvent)===null||m===void 0?void 0:m.get(G))||{}).icon,Q=Array.isArray(H)?Fe.h.apply(void 0,eA(["g",{transform:"matrix(1 0 0 1 "+(j-T/2)+" "+(S-C/2)+")"}],H)):Fe.h("path",{transform:"matrix(1 0 0 1 "+(j-T/2)+" "+(S-C/2)+")",d:H,style:"fill: black; stroke-linecap: round; stroke-linejoin: round; stroke: white; stroke-width: 1px;"});return Fe.h("g",{},R,Fe.h("circle",_c(_c({},E),{strokeWidth:2,cx:j,cy:S,r:k-2})),Q)},p}(Fe.CircleNode),o=function(f){A0(p,f);function p(m,g){var E,j,S,k=this;m.id||(m.id="Event_"+ts()),m.text||(m.text=""),m.text&&typeof m.text=="string"&&(m.text={value:m.text,x:m.x,y:m.y+40});var T=(((E=a.endEvent)===null||E===void 0?void 0:E.get((j=m.properties)===null||j===void 0?void 0:j.definitionType))||{}).properties,C=T===void 0?{}:T;return m.properties=_c(_c({},C),m.properties),!((S=m.properties)===null||S===void 0)&&S.definitionType&&(m.properties.definitionId="Definition_"+ts()),k=f.call(this,m,g)||this,Eg.call(k),k}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedSourceRules=function(){var m=this,g=f.prototype.getConnectedSourceRules.call(this),E={message:"结束节点不能作为边的起点",validate:function(j,S){return j!==m}};return g.push(E),g},p}(Fe.CircleNodeModel);return{type:"bpmn:endEvent",view:l,model:o}}globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();var T0=globalThis&&globalThis.__assign||function(){return T0=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},T0.apply(this,arguments)},tA=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;var k0=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Oc=globalThis&&globalThis.__assign||function(){return Oc=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Oc.apply(this,arguments)},A_=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},nA=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(A_(arguments[h]));return y};function zT(y){var h=A_(y.useDefinition(),1),a=h[0],l=function(f){k0(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},p.prototype.getShape=function(){var m,g=this.props.model,E=g.getNodeStyle(),j=g.x,S=g.y,k=g.r,T=g.width,C=g.height,N=g.properties,R=N.definitionType,G=N.isInterrupting,H=(((m=a.startEvent)===null||m===void 0?void 0:m.get(R))||{}).icon,Q=Array.isArray(H)?Fe.h.apply(void 0,nA(["g",{transform:"matrix(1 0 0 1 "+(j-T/2)+" "+(S-C/2)+")"}],H)):Fe.h("path",{transform:"matrix(1 0 0 1 "+(j-T/2)+" "+(S-C/2)+")",d:H,style:"fill: white; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});return Fe.h("g",{},Fe.h("circle",Oc(Oc({},E),{cx:j,cy:S,r:k,strokeDasharray:G?"5,5":"",strokeWidth:2})),Q)},p}(Fe.CircleNode),o=function(f){k0(p,f);function p(m,g){var E,j,S,k=this;m.id||(m.id="Event_"+ts()),m.text||(m.text=""),m.text&&typeof m.text=="string"&&(m.text={value:m.text,x:m.x,y:m.y+40});var T=(((E=a.startEvent)===null||E===void 0?void 0:E.get((j=m.properties)===null||j===void 0?void 0:j.definitionType))||{}).properties,C=T===void 0?{}:T;return m.properties=Oc(Oc({},C),m.properties),!((S=m.properties)===null||S===void 0)&&S.definitionType&&(m.properties.definitionId="Definition_"+ts()),k=f.call(this,m,g)||this,k}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedTargetRules=function(){var m=this,g=f.prototype.getConnectedTargetRules.call(this),E={message:"起始节点不能作为边的终点",validate:function(j,S){return S!==m}};return g.push(E),g},p}(Fe.CircleNodeModel);return{type:"bpmn:startEvent",view:l,model:o}}globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();var N0=globalThis&&globalThis.__assign||function(){return N0=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},N0.apply(this,arguments)},rA=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();var D0=globalThis&&globalThis.__assign||function(){return D0=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},D0.apply(this,arguments)},oA=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;Fe.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Fe.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Fe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Fe.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});var BT="m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z",FT="m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z";Fe.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var WT="M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z",GT="M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z",XT="M0.5,3.751L4.583,0.5009999999999999C4.583,0.5009999999999999,15.749,0.5839999999999999,16.666,0.5839999999999999S14.249,3.5009999999999994,15.166,3.5009999999999994S26.833,3.5009999999999994,27.75,3.5009999999999994C28.916,5.209,27.582,6.667999999999999,26.916,7.167999999999999S27.791,9.084999999999999,25.916,11.584999999999999C25.166,11.834999999999999,26.666,13.459999999999999,24.583000000000002,14.918C23.416,15.501,25.166,16.46,23.333000000000002,17.750999999999998C22.166,17.750999999999998,2.5000000000000036,17.833999999999996,2.5000000000000036,17.833999999999996L0.5000000000000036,16.500999999999998V3.751ZM13.5,7L27,7M13.5,11L26,11M14,14.5L25,14.5M8.2,3.1L15,3.1",iA="m44,60 m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",aA="m47,61 m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",uA="m 50,73 c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",C0=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),eu=globalThis&&globalThis.__assign||function(){return eu=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},eu.apply(this,arguments)};function HT(y,h,a){var l=function(f){C0(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getShape=function(){var m=this.props.model,g=m.x,E=m.y,j=m.width,S=m.height,k=m.points,T=m.getNodeStyle();return Fe.h("g",{transform:"matrix(1 0 0 1 "+(g-j/2)+" "+(E-S/2)+")"},Fe.h("polygon",eu(eu({},T),{x:g,y:E,points:k})),typeof h=="string"?Fe.h("path",eu(eu({d:h},T),{fill:"rgb(34, 36, 42)",strokeWidth:1})):h)},p}(Fe.PolygonNode),o=function(f){C0(p,f);function p(m,g){var E=this;return m.id||(m.id="Gateway_"+ts()),m.text||(m.text=""),m.text&&typeof m.text=="string"&&(m.text={value:m.text,x:m.x,y:m.y+40}),m.properties=eu(eu({},a||{}),m.properties),E=f.call(this,m,g)||this,E.points=[[25,0],[50,25],[25,50],[0,25]],Eg.call(E),E}return p}(Fe.PolygonNodeModel);return{type:y,view:l,model:o}}var I0=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),wc=globalThis&&globalThis.__assign||function(){return wc=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},wc.apply(this,arguments)},sA=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},cA=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(sA(arguments[h]));return y},lA={parallel:iA,sequential:aA,loop:uA};function UT(y,h,a){var l=function(f){I0(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getLabelShape=function(){var m=this.props.model,g=m.x,E=m.y,j=m.width,S=m.height,k=m.getNodeStyle(),T=Array.isArray(h)?Fe.h.apply(void 0,cA(["g",{transform:"matrix(1 0 0 1 "+(g-j/2)+" "+(E-S/2)+")"}],h)):Fe.h("path",{fill:k.stroke,d:h});return Fe.h("svg",{x:g-j/2+5,y:E-S/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},T)},p.prototype.getShape=function(){var m=this.props.model,g=m.x,E=m.y,j=m.width,S=m.height,k=m.radius,T=m.properties,C=m.getNodeStyle();return Fe.h("g",{},[Fe.h("rect",wc(wc({},C),{x:g-j/2,y:E-S/2,rx:k,ry:k,width:j,height:S,opacity:.95})),this.getLabelShape(),Fe.h("g",{transform:"matrix(1 0 0 1 "+(g-j/2)+" "+(E-S/2)+")"},Fe.h("path",{fill:"white",strokeLinecap:"round",strokeLinejoin:"round",stroke:"rgb(34, 36, 42)",strokeWidth:"2",d:lA[T.multiInstanceType]||""}))])},p}(Fe.RectNode),o=function(f){I0(p,f);function p(m,g){var E,j=this;m.id||(m.id="Activity_"+ts());var S=wc(wc({},a||{}),m.properties);return m.properties=S,j=f.call(this,m,g)||this,(E=S==null?void 0:S.boundaryEvents)===null||E===void 0||E.forEach(function(k){j.addBoundaryEvent(k)}),j.deleteProperty("boundaryEvents"),Eg.call(j),j}return p.prototype.initNodeData=function(m){f.prototype.initNodeData.call(this,m),this.isTaskNode=!0,this.boundaryEvents=[]},p.prototype.getNodeStyle=function(){var m=f.prototype.getNodeStyle.call(this),g=this.properties.isBoundaryEventTouchingTask;return g&&(m.stroke="#00acff",m.strokeWidth=2),m},p.prototype.getOutlineStyle=function(){var m=f.prototype.getOutlineStyle.call(this);return m.stroke="transparent",!m.hover&&(m.hover={}),m.hover.stroke="transparent",m},p.prototype.setTouching=function(m){this.setProperty("isBoundaryEventTouchingTask",m)},p.prototype.addBoundaryEvent=function(m){if(this.setTouching(!1),this.boundaryEvents.find(function(E){return E===m}))return!1;var g=this.graphModel.getNodeModelById(m);return g==null||g.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(m),!0},p.prototype.deleteBoundaryEvent=function(m){this.boundaryEvents=this.boundaryEvents.filter(function(g){return g!==m})},p}(Fe.RectNodeModel);return{type:y,view:l,model:o}}var Sg,dr,T_,Qu,R0,k_,lg,Lh={},N_=[],fA=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,jg=Array.isArray;function tu(y,h){for(var a in h)y[a]=h[a];return y}function D_(y){var h=y.parentNode;h&&h.removeChild(y)}function Of(y,h,a){var l,o,f,p={};for(f in h)f=="key"?l=h[f]:f=="ref"?o=h[f]:p[f]=h[f];if(arguments.length>2&&(p.children=arguments.length>3?Sg.call(arguments,2):a),typeof y=="function"&&y.defaultProps!=null)for(f in y.defaultProps)p[f]===void 0&&(p[f]=y.defaultProps[f]);return zh(y,p,l,o,null)}function zh(y,h,a,l,o){var f={type:y,props:h,key:a,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++T_};return o==null&&dr.vnode!=null&&dr.vnode(f),f}function Pg(y){return y.children}function Sc(y,h){this.props=y,this.context=h}function Pf(y,h){if(h==null)return y.__?Pf(y.__,y.__.__k.indexOf(y)+1):null;for(var a;h<y.__k.length;h++)if((a=y.__k[h])!=null&&a.__e!=null)return a.__d||a.__e;return typeof y.type=="function"?Pf(y):null}function C_(y){var h,a;if((y=y.__)!=null&&y.__c!=null){for(y.__e=y.__c.base=null,h=0;h<y.__k.length;h++)if((a=y.__k[h])!=null&&a.__e!=null){y.__e=y.__c.base=a.__e;break}return C_(y)}}function L0(y){(!y.__d&&(y.__d=!0)&&Qu.push(y)&&!Hh.__r++||R0!==dr.debounceRendering)&&((R0=dr.debounceRendering)||k_)(Hh)}function Hh(){var y,h,a,l,o,f,p,m,g;for(Qu.sort(lg);y=Qu.shift();)y.__d&&(h=Qu.length,l=void 0,o=void 0,f=void 0,m=(p=(a=y).__v).__e,(g=a.__P)&&(l=[],o=[],(f=tu({},p)).__v=p.__v+1,z_(g,p,f,a.__n,g.ownerSVGElement!==void 0,p.__h!=null?[m]:null,l,m??Pf(p),p.__h,o),dA(l,p,o),p.__e!=m&&C_(p)),Qu.length>h&&Qu.sort(lg));Hh.__r=0}function I_(y,h,a,l,o,f,p,m,g,E,j){var S,k,T,C,N,R,G,H,Q,ue=0,re=l&&l.__k||N_,ee=re.length,ne=ee,V=h.length;for(a.__k=[],S=0;S<V;S++)(C=a.__k[S]=(C=h[S])==null||typeof C=="boolean"||typeof C=="function"?null:typeof C=="string"||typeof C=="number"||typeof C=="bigint"?zh(null,C,null,null,C):jg(C)?zh(Pg,{children:C},null,null,null):C.__b>0?zh(C.type,C.props,C.key,C.ref?C.ref:null,C.__v):C)!=null?(C.__=a,C.__b=a.__b+1,(H=pA(C,re,G=S+ue,ne))===-1?T=Lh:(T=re[H]||Lh,re[H]=void 0,ne--),z_(y,C,T,o,f,p,m,g,E,j),N=C.__e,(k=C.ref)&&T.ref!=k&&(T.ref&&Mg(T.ref,null,C),j.push(k,C.__c||N,C)),N!=null&&(R==null&&(R=N),(Q=T===Lh||T.__v===null)?H==-1&&ue--:H!==G&&(H===G+1?ue++:H>G?ne>V-G?ue+=H-G:ue--:ue=H<G&&H==G-1?H-G:0),G=S+ue,typeof C.type!="function"||H===G&&T.__k!==C.__k?typeof C.type=="function"||H===G&&!Q?C.__d!==void 0?(g=C.__d,C.__d=void 0):g=N.nextSibling:g=L_(y,N,g):g=R_(C,g,y),typeof a.type=="function"&&(a.__d=g))):(T=re[S])&&T.key==null&&T.__e&&(T.__e==g&&(T.__=l,g=Pf(T)),fg(T,T,!1),re[S]=null);for(a.__e=R,S=ee;S--;)re[S]!=null&&(typeof a.type=="function"&&re[S].__e!=null&&re[S].__e==a.__d&&(a.__d=re[S].__e.nextSibling),fg(re[S],re[S]))}function R_(y,h,a){for(var l,o=y.__k,f=0;o&&f<o.length;f++)(l=o[f])&&(l.__=y,h=typeof l.type=="function"?R_(l,h,a):L_(a,l.__e,h));return h}function L_(y,h,a){return a==null||a.parentNode!==y?y.insertBefore(h,null):h==a&&h.parentNode!=null||y.insertBefore(h,a),h.nextSibling}function pA(y,h,a,l){var o=y.key,f=y.type,p=a-1,m=a+1,g=h[a];if(g===null||g&&o==g.key&&f===g.type)return a;if(l>(g!=null?1:0))for(;p>=0||m<h.length;){if(p>=0){if((g=h[p])&&o==g.key&&f===g.type)return p;p--}if(m<h.length){if((g=h[m])&&o==g.key&&f===g.type)return m;m++}}return-1}function hA(y,h,a,l,o){var f;for(f in a)f==="children"||f==="key"||f in h||Uh(y,f,null,a[f],l);for(f in h)o&&typeof h[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||a[f]===h[f]||Uh(y,f,h[f],a[f],l)}function z0(y,h,a){h[0]==="-"?y.setProperty(h,a??""):y[h]=a==null?"":typeof a!="number"||fA.test(h)?a:a+"px"}function Uh(y,h,a,l,o){var f;e:if(h==="style")if(typeof a=="string")y.style.cssText=a;else{if(typeof l=="string"&&(y.style.cssText=l=""),l)for(h in l)a&&h in a||z0(y.style,h,"");if(a)for(h in a)l&&a[h]===l[h]||z0(y.style,h,a[h])}else if(h[0]==="o"&&h[1]==="n")f=h!==(h=h.replace(/(PointerCapture)$|Capture$/,"$1")),h=h.toLowerCase()in y?h.toLowerCase().slice(2):h.slice(2),y.l||(y.l={}),y.l[h+f]=a,a?l?a.u=l.u:(a.u=Date.now(),y.addEventListener(h,f?F0:B0,f)):y.removeEventListener(h,f?F0:B0,f);else if(h!=="dangerouslySetInnerHTML"){if(o)h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!=="width"&&h!=="height"&&h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h!=="rowSpan"&&h!=="colSpan"&&h!=="role"&&h in y)try{y[h]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&h[4]!=="-"?y.removeAttribute(h):y.setAttribute(h,a))}}function B0(y){var h=this.l[y.type+!1];if(y.t){if(y.t<=h.u)return}else y.t=Date.now();return h(dr.event?dr.event(y):y)}function F0(y){return this.l[y.type+!0](dr.event?dr.event(y):y)}function z_(y,h,a,l,o,f,p,m,g,E){var j,S,k,T,C,N,R,G,H,Q,ue,re,ee,ne,V,B=h.type;if(h.constructor!==void 0)return null;a.__h!=null&&(g=a.__h,m=h.__e=a.__e,h.__h=null,f=[m]),(j=dr.__b)&&j(h);e:if(typeof B=="function")try{if(G=h.props,H=(j=B.contextType)&&l[j.__c],Q=j?H?H.props.value:j.__:l,a.__c?R=(S=h.__c=a.__c).__=S.__E:("prototype"in B&&B.prototype.render?h.__c=S=new B(G,Q):(h.__c=S=new Sc(G,Q),S.constructor=B,S.render=vA),H&&H.sub(S),S.props=G,S.state||(S.state={}),S.context=Q,S.__n=l,k=S.__d=!0,S.__h=[],S._sb=[]),S.__s==null&&(S.__s=S.state),B.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=tu({},S.__s)),tu(S.__s,B.getDerivedStateFromProps(G,S.__s))),T=S.props,C=S.state,S.__v=h,k)B.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(B.getDerivedStateFromProps==null&&G!==T&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(G,Q),!S.__e&&(S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(G,S.__s,Q)===!1||h.__v===a.__v)){for(h.__v!==a.__v&&(S.props=G,S.state=S.__s,S.__d=!1),h.__e=a.__e,h.__k=a.__k,h.__k.forEach(function(Y){Y&&(Y.__=h)}),ue=0;ue<S._sb.length;ue++)S.__h.push(S._sb[ue]);S._sb=[],S.__h.length&&p.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(G,S.__s,Q),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(T,C,N)})}if(S.context=Q,S.props=G,S.__P=y,S.__e=!1,re=dr.__r,ee=0,"prototype"in B&&B.prototype.render){for(S.state=S.__s,S.__d=!1,re&&re(h),j=S.render(S.props,S.state,S.context),ne=0;ne<S._sb.length;ne++)S.__h.push(S._sb[ne]);S._sb=[]}else do S.__d=!1,re&&re(h),j=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++ee<25);S.state=S.__s,S.getChildContext!=null&&(l=tu(tu({},l),S.getChildContext())),k||S.getSnapshotBeforeUpdate==null||(N=S.getSnapshotBeforeUpdate(T,C)),I_(y,jg(V=j!=null&&j.type===Pg&&j.key==null?j.props.children:j)?V:[V],h,a,l,o,f,p,m,g,E),S.base=h.__e,h.__h=null,S.__h.length&&p.push(S),R&&(S.__E=S.__=null)}catch(Y){h.__v=null,(g||f!=null)&&(h.__e=m,h.__h=!!g,f[f.indexOf(m)]=null),dr.__e(Y,h,a)}else f==null&&h.__v===a.__v?(h.__k=a.__k,h.__e=a.__e):h.__e=yA(a.__e,h,a,l,o,f,p,g,E);(j=dr.diffed)&&j(h)}function dA(y,h,a){for(var l=0;l<a.length;l++)Mg(a[l],a[++l],a[++l]);dr.__c&&dr.__c(h,y),y.some(function(o){try{y=o.__h,o.__h=[],y.some(function(f){f.call(o)})}catch(f){dr.__e(f,o.__v)}})}function yA(y,h,a,l,o,f,p,m,g){var E,j,S,k=a.props,T=h.props,C=h.type,N=0;if(C==="svg"&&(o=!0),f!=null){for(;N<f.length;N++)if((E=f[N])&&"setAttribute"in E==!!C&&(C?E.localName===C:E.nodeType===3)){y=E,f[N]=null;break}}if(y==null){if(C===null)return document.createTextNode(T);y=o?document.createElementNS("http://www.w3.org/2000/svg",C):document.createElement(C,T.is&&T),f=null,m=!1}if(C===null)k===T||m&&y.data===T||(y.data=T);else{if(f=f&&Sg.call(y.childNodes),j=(k=a.props||Lh).dangerouslySetInnerHTML,S=T.dangerouslySetInnerHTML,!m){if(f!=null)for(k={},N=0;N<y.attributes.length;N++)k[y.attributes[N].name]=y.attributes[N].value;(S||j)&&(S&&(j&&S.__html==j.__html||S.__html===y.innerHTML)||(y.innerHTML=S&&S.__html||""))}if(hA(y,T,k,o,m),S)h.__k=[];else if(I_(y,jg(N=h.props.children)?N:[N],h,a,l,o&&C!=="foreignObject",f,p,f?f[0]:a.__k&&Pf(a,0),m,g),f!=null)for(N=f.length;N--;)f[N]!=null&&D_(f[N]);m||("value"in T&&(N=T.value)!==void 0&&(N!==y.value||C==="progress"&&!N||C==="option"&&N!==k.value)&&Uh(y,"value",N,k.value,!1),"checked"in T&&(N=T.checked)!==void 0&&N!==y.checked&&Uh(y,"checked",N,k.checked,!1))}return y}function Mg(y,h,a){try{typeof y=="function"?y(h):y.current=h}catch(l){dr.__e(l,a)}}function fg(y,h,a){var l,o;if(dr.unmount&&dr.unmount(y),(l=y.ref)&&(l.current&&l.current!==y.__e||Mg(l,null,h)),(l=y.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(f){dr.__e(f,h)}l.base=l.__P=null,y.__c=void 0}if(l=y.__k)for(o=0;o<l.length;o++)l[o]&&fg(l[o],h,a||typeof y.type!="function");a||y.__e==null||D_(y.__e),y.__=y.__e=y.__d=void 0}function vA(y,h,a){return this.constructor(y,a)}Sg=N_.slice,dr={__e:function(y,h,a,l){for(var o,f,p;h=h.__;)if((o=h.__c)&&!o.__)try{if((f=o.constructor)&&f.getDerivedStateFromError!=null&&(o.setState(f.getDerivedStateFromError(y)),p=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(y,l||{}),p=o.__d),p)return o.__E=o}catch(m){y=m}throw y}},T_=0,Sc.prototype.setState=function(y,h){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=tu({},this.state),typeof y=="function"&&(y=y(tu({},a),this.props)),y&&tu(a,y),y!=null&&this.__v&&(h&&this._sb.push(h),L0(this))},Sc.prototype.forceUpdate=function(y){this.__v&&(this.__e=!0,y&&this.__h.push(y),L0(this))},Sc.prototype.render=Pg,Qu=[],k_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,lg=function(y,h){return y.__v.__b-h.__v.__b},Hh.__r=0;var wf=globalThis&&globalThis.__assign||function(){return wf=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},wf.apply(this,arguments)};function Ag(y){var h=y.x,a=y.y,l=y.width,o=y.height,f=y.radius,p=y.className,m=h-l/2,g=a-o/2,E=wf(wf({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+p},y),{x:m,y:g});return Fe.h("rect",wf({},E))}Ag.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var xc;(function(y){y.NODE="node",y.CIRCLE_NODE="circle-node",y.POLYGON_NODE="polygon-node",y.RECT_NODE="rect-node",y.HTML_NODE="html-node",y.TEXT_NODE="text-node",y.ELLIPSE_NODE="ellipse-node",y.DIAMOND_NODE="diamond-node",y.EDGE="edge",y.LINE_EDGE="line-edge",y.POLYLINE_EDGE="polyline-edge",y.BEZIER_EDGE="bezier-edge",y.GRAPH="graph"})(xc||(xc={}));var gA=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},es.apply(this,arguments)},mA=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},bA=Fe.LogicFlowUtil.StepDrag,_A=function(y){gA(h,y);function h(a){var l=y.call(this)||this;return l.updatePosition=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel,g=m.x,E=m.y;l.nodeModel.x=g+f/2,l.nodeModel.y=E+p/2,l.nodeModel.moveText(f/2,p/2)},l.getResize=function(o){var f=o.index,p=o.deltaX,m=o.deltaY,g=o.width,E=o.height,j=o.PCTResizeInfo,S=o.pct,k=S===void 0?1:S,T={width:g,height:E,deltaX:p,deltaY:m};if(j){var C=4,N=0,R=0;switch(f){case 0:R=(p*-1-m)/C;break;case 1:R=(p-m)/C;break;case 2:R=(p+m)/C;break;case 3:R=(p*-1+m)/C;break}R!==0&&(N=Math.round(R/j.ResizeBasis.basisHeight*1e5)/1e3),j.ResizePCT.widthPCT=Math.max(Math.min(j.ResizePCT.widthPCT+N,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit),j.ResizePCT.hightPCT=Math.max(Math.min(j.ResizePCT.hightPCT+N,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit);var G=Math.round(j.ResizePCT.widthPCT*j.ResizeBasis.basisWidth/100),H=Math.round(j.ResizePCT.hightPCT*j.ResizeBasis.basisHeight/100);switch(f){case 0:p=g-G,m=E-H;break;case 1:p=G-g,m=E-H;break;case 2:p=G-g,m=H-E;break;case 3:p=g-G,m=H-E;break}return T.width=G,T.height=H,T.deltaX=p/k,T.deltaY=m/k,T}switch(f){case 0:T.width=g-p*k,T.height=E-m*k;break;case 1:T.width=g+p*k,T.height=E-m*k;break;case 2:T.width=g+p*k,T.height=E+m*k;break;case 3:T.width=g-p*k,T.height=E+m*k;break}return T},l.updateEdgePointByAnchors=function(){var o=l.nodeModel,f=o.id,p=o.anchors,m=l.getNodeEdges(f);m.sourceEdges.forEach(function(g){var E=p.find(function(j){return j.id===g.sourceAnchorId});g.updateStartPoint({x:E.x,y:E.y})}),m.targetEdges.forEach(function(g){var E=p.find(function(j){return j.id===g.targetAnchorId});g.updateEndPoint({x:E.x,y:E.y})})},l.updateRect=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel,g=m.id,E=m.x,j=m.y,S=m.width,k=m.height,T=m.radius,C=m.PCTResizeInfo,N=l.index,R=l.getResize({index:N,deltaX:f,deltaY:p,width:S,height:k,PCTResizeInfo:C,pct:1}),G=l.nodeModel,H=G.minWidth,Q=G.minHeight,ue=G.maxWidth,re=G.maxHeight;if(R.width<H||R.width>ue||R.height<Q||R.height>re){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),l.nodeModel.width=R.width,l.nodeModel.height=R.height,l.nodeModel.setProperties({nodeSize:{width:R.width,height:R.height}}),l.getNodeEdges(g);var ee={x:E,y:j,width:S,height:k,radius:T},ne={x:l.nodeModel.x,y:l.nodeModel.y,width:l.nodeModel.width,height:l.nodeModel.height,radius:T};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:ee,afterNode:ne})},l.updateEllipse=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel,g=m.id,E=m.rx,j=m.ry,S=m.x,k=m.y,T=m.PCTResizeInfo,C=l.index,N=E,R=j,G=l.getResize({index:C,deltaX:f,deltaY:p,width:N,height:R,PCTResizeInfo:T,pct:1/2}),H=l.nodeModel,Q=H.minWidth,ue=H.minHeight,re=H.maxWidth,ee=H.maxHeight;if(G.width<Q/2||G.width>re/2||G.height<ue/2||G.height>ee/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:G.deltaX,deltaY:G.deltaY}),l.nodeModel.rx=G.width,l.nodeModel.ry=G.height,l.nodeModel.setProperties({nodeSize:{rx:G.width,ry:G.height}}),l.getNodeEdges(g);var ne={x:S,y:k},V={rx:G.width,ry:G.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:es(es({},ne),{rx:E,ry:j}),afterNode:V})},l.updateDiamond=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel;m.id;var g=m.rx,E=m.ry,j=m.x,S=m.y,k=m.PCTResizeInfo,T=l.index,C=g,N=E,R=l.getResize({index:T,deltaX:f,deltaY:p,width:C,height:N,PCTResizeInfo:k,pct:1/2}),G=l.nodeModel,H=G.minWidth,Q=G.minHeight,ue=G.maxWidth,re=G.maxHeight;if(R.width<H/2||R.width>ue/2||R.height<Q/2||R.height>re/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),l.nodeModel.rx=R.width,l.nodeModel.ry=R.height,l.nodeModel.setProperties({nodeSize:{rx:R.width,ry:R.height}});var ee={x:j,y:S,rx:g,ry:E},ne={rx:R.width,ry:R.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:ee,afterNode:ne})},l.eventEmit=function(o){var f=o.beforeNode,p=o.afterNode,m=l.nodeModel,g=m.id,E=m.modelType,j=m.type,S=es({id:g,modelType:E,type:j},f),k=es({id:g,modelType:E,type:j},p);l.graphModel.eventCenter.emit("node:resize",{oldNodeSize:S,newNodeSize:k})},l.onDragging=function(o){var f,p=o.deltaX,m=o.deltaY,g=l.graphModel.transformModel,E=l.nodeModel.modelType;f=mA(g.fixDeltaXY(p,m),2),p=f[0],m=f[1],E===xc.RECT_NODE||E===xc.HTML_NODE?l.updateRect({deltaX:p,deltaY:m}):E===xc.ELLIPSE_NODE?l.updateEllipse({deltaX:p,deltaY:m}):E===xc.DIAMOND_NODE&&l.updateDiamond({deltaX:p,deltaY:m})},l.onDragEnd=function(){l.updateEdgePointByAnchors();var o=l.graphModel.gridSize,f=o===void 0?1:o,p=f*Math.round(l.nodeModel.x/f),m=f*Math.round(l.nodeModel.y/f);l.nodeModel.moveTo(p,m)},l.index=a.index,l.nodeModel=a.model,l.graphModel=a.graphModel,l.state={},l.dragHandler=new bA({onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:1}),l}return h.prototype.getNodeEdges=function(a){for(var l=this.graphModel,o=l.edges,f=[],p=[],m=0;m<o.length;m++){var g=o[m];g.sourceNodeId===a?f.push(g):o[m].targetNodeId===a&&p.push(g)}return{sourceEdges:f,targetEdges:p}},h.prototype.render=function(){var a=this.props,l=a.x,o=a.y,f=a.index,p=a.model,m=p.getControlPointStyle();return Of("g",{className:"lf-resize-control-"+f},Of(Ag,es({className:"lf-node-control"},{x:l,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(Sc),OA=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Yh=globalThis&&globalThis.__assign||function(){return Yh=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Yh.apply(this,arguments)},ed=function(y){OA(h,y);function h(){var a=y.call(this)||this;return a.state={},a}return h.prototype.getResizeControl=function(){var a=this.props,l=a.model,o=a.graphModel,f=l.x,p=l.y,m=l.width,g=l.height,E={minX:f-m/2,minY:p-g/2,maxX:f+m/2,maxY:p+g/2},j=E.minX,S=E.minY,k=E.maxX,T=E.maxY,C=[{x:j,y:S},{x:k,y:S},{x:k,y:T},{x:j,y:T}];return C.map(function(N,R){return Of(_A,Yh({index:R},N,{model:l,graphModel:o}))})},h.prototype.getGroupSolid=function(){var a=this.props.model,l=a.x,o=a.y,f=a.width,p=a.height,m=a.getResizeOutlineStyle();return Of(Ag,Yh({fill:"none"},m,{x:l,y:o,width:f,height:p}))},h.prototype.render=function(){return Of("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(Sc),B_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),wA=function(y){B_(h,y);function h(a,l){var o=y.call(this,a,l)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return h.prototype.initNodeData=function(a){y.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var a=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(a,l){console.log(a,l)},h.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h}(Fe.RectNodeModel),xA=function(y){B_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var a=this.props,l=a.model,o=a.graphModel;return Fe.h(ed,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var a=this.props,l=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return Fe.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h}(Fe.RectNode),F_={type:"rect",view:xA,model:wA},W_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();(function(y){W_(h,y);function h(a,l){var o=y.call(this,a,l)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return h.prototype.initNodeData=function(a){y.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var a=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h})(Fe.EllipseNodeModel);(function(y){W_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var a=this.props,l=a.model,o=a.graphModel;return Fe.h(ed,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var a=this.props,l=a.model,o=a.graphModel.editConfigModel.isSilentMode;return Fe.h("g",null,this.getResizeShape(),l.isSelected&&!o?this.getControlGroup():"")},h})(Fe.EllipseNode);var pg=globalThis&&globalThis.__assign||function(){return pg=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},pg.apply(this,arguments)};function EA(y){var h=y.fillOpacity,a=h===void 0?1:h,l=y.strokeWidth,o=l===void 0?1:l,f=y.strokeOpacity,p=f===void 0?1:f,m=y.fill,g=m===void 0?"transparent":m,E=y.stroke,j=E===void 0?"#000":E,S=y.points,k=y.className,T=k===void 0?"lf-basic-shape":k,C={fill:g,fillOpacity:a,strokeWidth:o,stroke:j,strokeOpacity:p,points:"",className:T};return C.points=S.map(function(N){return N.join(",")}).join(" "),Fe.h("polygon",pg({},C))}var G_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),hg=globalThis&&globalThis.__assign||function(){return hg=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},hg.apply(this,arguments)};(function(y){G_(h,y);function h(a,l){var o=y.call(this,a,l)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return h.prototype.initNodeData=function(a){y.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var a=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h})(Fe.DiamondNodeModel);(function(y){G_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var a=this.props,l=a.model,o=a.graphModel;return Fe.h(ed,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){var a=this.props.model,l=a.points,o=a.getNodeStyle();return Fe.h("g",null,Fe.h(EA,hg({},o,{points:l})))},h.prototype.getShape=function(){var a=this.props,l=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return Fe.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h})(Fe.DiamondNode);var X_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();(function(y){X_(h,y);function h(a,l){var o=y.call(this,a,l)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return h.prototype.initNodeData=function(a){y.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var a=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h})(Fe.HtmlNodeModel);(function(y){X_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var a=this.props,l=a.model,o=a.graphModel;return Fe.h(ed,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var a=this.props,l=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return Fe.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h})(Fe.HtmlNode);var H_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Vh=globalThis&&globalThis.__assign||function(){return Vh=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Vh.apply(this,arguments)},SA=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},jA=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(SA(arguments[h]));return y},W0=500,G0=300,PA=-1e4,MA=function(y){H_(h,y);function h(){var a=y!==null&&y.apply(this,arguments)||this;return a.isGroup=!0,a.unfoldedWidth=W0,a.unfoldedHight=G0,a.childrenLastFoldStatus={},a}return h.prototype.initNodeData=function(a){var l=this;y.prototype.initNodeData.call(this,a);var o=[];Array.isArray(a.children)&&(o=a.children),this.children=new Set(o),this.width=W0,this.height=G0,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=PA,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){l.isFolded&&l.foldGroup(l.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var a=y.prototype.getResizeOutlineStyle.call(this);return a.stroke="none",a},h.prototype.foldGroup=function(a){var l=this;if(a!==this.isFolded){this.setProperty("isFolded",a),this.isFolded=a,a?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var p=l.graphModel.getElement(f),m=p.isFolded;if(p.isGroup&&!p.isFolded&&p.foldGroup(a),p.isGroup&&!a){var g=l.childrenLastFoldStatus[f];g!==void 0&&g!==p.isFolded&&p.foldGroup(g)}l.childrenLastFoldStatus[f]=m,p.visible=!a,o=o.concat(p.incoming.edges.concat(p.outgoing.edges))}),this.foldEdge(a,o)}},h.prototype.getAnchorStyle=function(a){var l=y.prototype.getAnchorStyle.call(this,a);return l.stroke="transparent",l.fill="transparent",l.hover.fill="transparent",l.hover.stroke="transparent",l},h.prototype.foldEdge=function(a,l){var o=this;l.forEach(function(f,p){var m=f.id,g=f.sourceNodeId,E=f.targetNodeId,j=f.startPoint,S=f.endPoint,k=f.type,T=f.text,C=f.getProperties(),N={id:m+"__"+p,sourceNodeId:g,targetNodeId:E,startPoint:j,endPoint:S,type:k,properties:C,text:T==null?void 0:T.value};f.virtual&&o.graphModel.deleteEdgeById(f.id);var R=o.graphModel.group.getNodeGroup(E);R||(R=o.graphModel.getNodeModelById(E));var G=o.graphModel.group.getNodeGroup(g);G||(G=o.graphModel.getNodeModelById(g)),a&&f.visible!==!1&&(o.children.has(g)||o.id===g?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(R.id!==o.id||G.id!==o.id)&&o.createVirtualEdge(N),f.visible=!1),!a&&f.visible===!1&&(R&&R.isGroup&&R.isFolded?(N.targetNodeId=R.id,N.endPoint=void 0,o.createVirtualEdge(N)):G&&G.isGroup&&G.isFolded?(N.sourceNodeId=G.id,N.startPoint=void 0,o.createVirtualEdge(N)):f.visible=!0)})},h.prototype.createVirtualEdge=function(a){a.pointsList=void 0;var l=this.graphModel.addEdge(a);l.virtual=!0,l.text.editable=!1,l.isFoldedEdge=!0},h.prototype.isInRange=function(a){var l=a.x1,o=a.y1,f=a.x2,p=a.y2;return l>=this.x-this.width/2&&f<=this.x+this.width/2&&o>=this.y-this.height/2&&p<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(a){var l=a.x1,o=a.y1,f=a.x2,p=a.y2;return{x:l>=this.x-this.width/2&&f<=this.x+this.width/2,y:o>=this.y-this.height/2&&p<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(a){this.setProperty("groupAddable",a)},h.prototype.addChild=function(a){this.children.add(a),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},h.prototype.removeChild=function(a){this.children.delete(a),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var a=this,l=y.prototype.getData.call(this);l.children=[],this.children.forEach(function(f){var p=a.graphModel.getNodeModelById(f);p&&!p.virtual&&l.children.push(f)});var o=l.properties;return delete o.groupAddable,delete o.isFolded,l},h.prototype.getHistoryData=function(){var a=y.prototype.getData.call(this);a.children=jA(this.children),a.isGroup=!0;var l=a.properties;return delete l.groupAddable,l.isFolded&&(a.x=a.x+this.unfoldedWidth/2-this.foldedWidth/2,a.y=a.y+this.unfoldedHight/2-this.foldedHeight/2),a},h.prototype.isAllowAppendIn=function(a){return!0},h.prototype.toBack=function(){this.zIndex--},h}(F_.model),AA=function(y){H_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var a=this.props.model,l=a.resizable,o=a.properties;return l&&!o.isFolded?y.prototype.getControlGroup.call(this):null},h.prototype.getAddableShape=function(){var a=this.props.model,l=a.width,o=a.height,f=a.x,p=a.y,m=a.radius,g=a.properties;if(!g.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,j=this.props.model.getAddableOutlineStyle(),S=l+E+8,k=o+E+8;return Fe.h("rect",Vh(Vh({},j),{width:S,height:k,x:f-S/2,y:p-k/2,rx:m,ry:m}))},h.prototype.getFoldIcon=function(){var a=this.props.model,l=a.x-a.width/2+5,o=a.y-a.height/2+5;if(!a.foldable)return null;var f=Fe.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:a.properties.isFolded?"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" M"+(l+7)+","+(o+2)+" "+(l+7)+","+(o+10):"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" "});return Fe.h("g",{},[Fe.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:a.x-a.width/2+5,y:a.y-a.height/2+5,onClick:function(){a.foldGroup(!a.properties.isFolded)}}),f])},h.prototype.getResizeShape=function(){return Fe.h("g",{},[this.getAddableShape(),y.prototype.getResizeShape.call(this),this.getFoldIcon()])},h}(F_.view);const dg={type:"group",view:AA,model:MA};var $h=globalThis&&globalThis.__assign||function(){return $h=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},$h.apply(this,arguments)},X0=globalThis&&globalThis.__rest||function(y,h){var a={};for(var l in y)Object.prototype.hasOwnProperty.call(y,l)&&h.indexOf(l)<0&&(a[l]=y[l]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(y);o<l.length;o++)h.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(y,l[o])&&(a[l[o]]=y[l[o]]);return a},TA=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},og=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(TA(arguments[h]));return y},kA=-1e3,H0=-1e4,YT=function(){function y(h){var a=this,l=h.lf;this.topGroupZIndex=H0,this.nodeGroupMap=new Map,this.graphRendered=function(o){o&&o.nodes&&o.nodes.forEach(function(f){f.children&&f.children.forEach(function(p){a.nodeGroupMap.set(p,f.id)})})},this.appendNodeToGroup=function(o){var f=o.data,p=a.nodeGroupMap.get(f.id);if(p){var m=a.lf.getNodeModelById(p);m.removeChild(f.id),a.nodeGroupMap.delete(f.id),m.setAllowAppendChild(!1)}var g=a.lf.getNodeModelById(f.id),E=g.getBounds(),j=a.getGroup(E,f);if(g.isGroup&&(f.children.forEach(function(k){a.nodeGroupMap.set(k,f.id)}),a.nodeSelected({data:f,isSelected:!1,isMultiple:!1})),!!j){var S=j.isAllowAppendIn(f);if(!S){a.lf.emit("group:not-allowed",{group:j.getData(),node:f});return}j.addChild(f.id),a.nodeGroupMap.set(f.id,j.id),j.setAllowAppendChild(!1)}},this.deleteGroupChild=function(o){var f=o.data;f.children&&f.children.forEach(function(g){a.nodeGroupMap.delete(g),a.lf.deleteNode(g)});var p=a.nodeGroupMap.get(f.id);if(p){var m=a.lf.getNodeModelById(p);m.removeChild(f.id),a.nodeGroupMap.delete(f.id)}},this.setActiveGroup=function(o){var f=o.data,p=a.lf.getNodeModelById(f.id),m=p.getBounds(),g=a.getGroup(m,f);if(a.activeGroup&&a.activeGroup.setAllowAppendChild(!1),!(!g||p.isGroup&&g.id===f.id)){var E=g.isAllowAppendIn(f);E&&(a.activeGroup=g,a.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(o){var f=o.data,p=o.isMultiple,m=o.isSelected,g=a.lf.getNodeModelById(f.id);if(a.toFrontGroup(g),a.topGroupZIndex>kA){a.topGroupZIndex=H0;for(var E=a.lf.graphModel.nodes.filter(function(N){return N.isGroup}).sort(function(N,R){return N.zIndex-R.zIndex}),j=0,S=0;S<E.length;S++){var k=E[S];k.zIndex!==j&&(a.topGroupZIndex++,j=k.zIndex),k.setZIndex(a.topGroupZIndex)}}if(p&&m)if(g.isGroup)g.children.forEach(function(N){var R=a.lf.graphModel.getElement(N);R.setSelected(!1)});else{var T=a.nodeGroupMap.get(f.id);if(T){var C=a.lf.getNodeModelById(T);C.isSelected&&g.setSelected(!1)}}},this.toFrontGroup=function(o){!o||!o.isGroup||(a.topGroupZIndex++,o.setZIndex(a.topGroupZIndex),o.children&&o.children.forEach(function(f){var p=a.lf.getNodeModelById(f);a.toFrontGroup(p)}))},l.register(dg),this.lf=l,l.graphModel.addNodeMoveRules(function(o,f,p){if(o.isGroup){var m=a.getNodeAllChild(o);return l.graphModel.moveNodes(m,f,p,!0),!0}var g=l.getNodeModelById(a.nodeGroupMap.get(o.id));if(g&&g.isRestrict){var E=o.getBounds(),j=E.x1,S=E.y1,k=E.x2,T=E.y2,C=g.isAllowMoveTo({x1:j+f,y1:S+p,x2:k+f,y2:T+p});return C}return!0}),l.graphModel.group=this,l.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),l.on("node:delete",this.deleteGroupChild),l.on("node:dnd-drag,node:drag",this.setActiveGroup),l.on("node:click",this.nodeSelected),l.on("graph:rendered",this.graphRendered),l.addElements=function(o,f){for(var p=o.nodes,m=o.edges,g={},E={nodes:[],edges:[]},j=[],S=0;S<p.length;S++){var k=p[S],T=k.id,C=k.children,N=X0(k,["children"]),R=l.addNode(N);if(!R)return{nodes:[],edges:[]};T&&(g[T]=R.id),E.nodes.push(R);var G=a.createAllChildNodes(g,C,R,f).edgesArray;j.push.apply(j,og(G))}return j.forEach(function(H){a.createEdgeModel(H,g,f)}),m.forEach(function(H){var Q=a.createEdgeModel(H,g,0);E.edges.push(Q)}),E}}return y.prototype.createAllChildNodes=function(h,a,l,o){var f=this,p=this.lf,m=[],g=[],E=[];a==null||a.forEach(function(k){var T=p.getNodeModelById(k),C=T.x,N=T.y,R=T.properties,G=T.type,H=T.text,Q=T.rotate,ue=T.children;T.incoming,T.outgoing;var re=Fe.EventType.NODE_GROUP_COPY||"node:group-copy-add",ee=p.addNode({x:C+o,y:N+o,properties:R,type:G,text:$h($h({},H),{x:H.x+o,y:H.y+o}),rotate:Q},re);if(l.addChild(ee.id),h[k]=ee.id,E.push(ee),T.incoming.edges.forEach(function(Y){g.push(Y)}),T.outgoing.edges.forEach(function(Y){g.push(Y)}),ue instanceof Set){var ne=f.createAllChildNodes(h,ue,ee,o),V=ne.nodesArray,B=ne.edgesArray;E.push.apply(E,og(V)),m.push.apply(m,og(B))}});var j=g.filter(function(k){return h[k.sourceNodeId]&&h[k.targetNodeId]}),S=j.map(function(k){return k.getData()});return{nodesArray:E,edgesArray:m.concat(S)}},y.prototype.createEdgeModel=function(h,a,l){var o=this.lf,f=h.sourceNodeId,p=h.targetNodeId;a[f]&&(f=a[f]),a[p]&&(p=a[p]);var m=h.type,g=h.startPoint,E=h.endPoint,j=h.pointsList,S=h.text;X0(h,["type","startPoint","endPoint","pointsList","text"]);var k={x:g.x+l,y:g.y+l},T={x:E.x+l,y:E.y+l},C=[];j&&j.length>0&&(C=j.map(function(G){return G.x+=l,G.y+=l,G}));var N=S;S&&typeof S!="string"&&(N.x=S.x+l,N.y=S.y+l);var R=o.graphModel.addEdge({type:m,startPoint:k,endPoint:T,sourceNodeId:f,targetNodeId:p,pointsList:C,text:N});return R},y.prototype.getNodeAllChild=function(h){var a=this,l=[];return h.children&&h.children.forEach(function(o){l.push(o);var f=a.lf.getNodeModelById(o);f.isGroup&&(l=l.concat(a.getNodeAllChild(f)))}),l},y.prototype.getGroup=function(h,a){var l=this.lf.graphModel.nodes,o=l.filter(function(m){return m.isGroup&&m.isInRange(h)&&m.id!==a.id});if(o.length!==0){if(o.length===1)return o[0];for(var f=o[o.length-1],p=o.length-2;p>=0;p--)o[p].zIndex>f.zIndex&&(f=o[p]);return f}},y.prototype.getNodeGroup=function(h){var a=this.nodeGroupMap.get(h);if(a)return this.lf.getNodeModelById(a)},y.pluginName="group",y}(),U0=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),xf=globalThis&&globalThis.__assign||function(){return xf=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},xf.apply(this,arguments)};function VT(){var y=function(a){U0(l,a);function l(){return a!==null&&a.apply(this,arguments)||this}return l.prototype.getFoldIcon=function(){var o=this.props.model,f=o.x,p=o.y,m=o.width,g=o.height,E=o.properties,j=o.foldable,S=o.x-o.width/2+5,k=o.y-o.height/2+5;if(!j)return null;var T=Fe.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:E.isFolded?"M "+(S+3)+","+(k+6)+" "+(S+11)+","+(k+6)+" M"+(S+7)+","+(k+2)+" "+(S+7)+","+(k+10):"M "+(S+3)+","+(k+6)+" "+(S+11)+","+(k+6)+" "});return Fe.h("g",{},[Fe.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:f-m/2+5,y:p-g/2+5,onClick:function(C){C.stopPropagation(),o.foldGroup(!E.isFolded)}}),T])},l.prototype.getResizeShape=function(){var o=this.props.model,f=o.x,p=o.y,m=o.width,g=o.height,E=o.getNodeStyle(),j=xf(xf({},E),{x:f-m/2,y:p-g/2,width:m,height:g,stroke:"black",strokeWidth:2,strokeDasharray:"0 0"});return Fe.h("g",{},[Fe.h("rect",xf({},j)),this.getFoldIcon()])},l}(dg.view),h=function(a){U0(l,a);function l(){return a!==null&&a.apply(this,arguments)||this}return l.prototype.initNodeData=function(o){a.prototype.initNodeData.call(this,o),this.foldable=!0,this.resizable=!0,this.width=400,this.height=200,this.resetWidthHeight(),this.isTaskNode=!0,this.boundaryEvents=[]},l.prototype.resetWidthHeight=function(){var o,f,p=(o=this.properties.iniProp)===null||o===void 0?void 0:o.width,m=(f=this.properties.iniProp)===null||f===void 0?void 0:f.height;p&&(this.width=p),m&&(this.height=m)},l.prototype.getNodeStyle=function(){var o=a.prototype.getNodeStyle.call(this);o.stroke="#989891",o.strokeWidth=1,o.strokeDasharray="3 3",this.isSelected&&(o.stroke="rgb(124, 15, 255)");var f=this.properties.isBoundaryEventTouchingTask;return f&&(o.stroke="#00acff",o.strokeWidth=2),o},l.prototype.addChild=function(o){var f=this.graphModel.getElement(o);f.setProperties({parent:this.id}),a.prototype.addChild.call(this,o)},l.prototype.getAnchorStyle=function(){var o=a.prototype.getAnchorStyle.call(this,{});return o.stroke="#000",o.fill="#fff",o.hover.stroke="transparent",o},l.prototype.getOutlineStyle=function(){var o=a.prototype.getOutlineStyle.call(this);return o.stroke="transparent",!o.hover&&(o.hover={}),o.hover.stroke="transparent",o},l.prototype.setTouching=function(o){this.setProperty("isBoundaryEventTouchingTask",o)},l.prototype.addBoundaryEvent=function(o){if(this.setTouching(!1),this.boundaryEvents.find(function(p){return p===o}))return!1;var f=this.graphModel.getNodeModelById(o);return f==null||f.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(o),!0},l.prototype.deleteBoundaryEvent=function(o){this.boundaryEvents=this.boundaryEvents.filter(function(f){return f!==o})},l}(dg.model);return{type:"bpmn:subProcess",view:y,model:h}}globalThis&&globalThis.__values;var Y0=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Ef=globalThis&&globalThis.__assign||function(){return Ef=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Ef.apply(this,arguments)};function NA(y){var h=function(l){Y0(o,l);function o(f,p){var m=this;f.id||(f.id="Flow_"+ts());var g=Ef(Ef(Ef({},y||{}),f.properties),{isDefaultFlow:!1});return f.properties=g,m=l.call(this,f,p)||this,m}return o.extendKey="SequenceFlowModel",o}(Fe.PolylineEdgeModel),a=function(l){Y0(o,l);function o(){return l!==null&&l.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var f=this.props.model,p=f.properties.isDefaultFlow;return p?Fe.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Fe.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(Fe.PolylineEdge);return{type:"bpmn:sequenceFlow",view:a,model:h}}NA();globalThis&&globalThis.__read;function $T(y){function h(a){function l(o,f){return o.forEach(function(p){y!=null&&y[p]||(y[p]=new Map);var m=y==null?void 0:y[p];f.forEach(function(g){m.set(g.type,g)})}),y}a.forEach(function(o){l(o.nodes,o.definition)})}return function(){return[y,h]}}var V0={width:40,height:40},$0={width:40,height:40},K0={width:100,height:80},Kh={width:100,height:80},q0={width:100,height:80},Z0={width:100,height:80},J0={width:100,height:80},Q0={width:100,height:80},e_={width:100,height:80},t_={width:100,height:80},oo=function(){};oo.ObjTree=function(){return this};oo.ObjTree.VERSION="0.23";oo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;oo.ObjTree.prototype.attr_prefix="-";oo.ObjTree.prototype.parseXML=function(y){var h;if(window.DOMParser){var a=new DOMParser,l=a.parseFromString(y,"application/xml");if(!l)return;h=l.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(y),h=a.documentElement);if(h){var o=this.parseDOM(h);return o}};oo.ObjTree.prototype.parseHTTP=function(y,h,a){var l={};for(var o in h)l[o]=h[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),a){l.asynchronous=!0;var f=this,p=a,m=l.onComplete;l.onComplete=function(j){var S;j&&j.responseXML&&j.responseXML.documentElement&&(S=f.parseDOM(j.responseXML.documentElement)),p(S,j),m&&m(j)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=y;var E=new HTTP.Request(l);E&&(g=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(y,l);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};oo.ObjTree.prototype.parseDOM=function(y){if(y){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var a=this.parseElement(y);if(this.__force_array[y.nodeName]&&(a=[a]),y.nodeType!==11){var l={};l[y.nodeName]=a,a=l}return a}};oo.ObjTree.prototype.parseElement=function(y){if(y.nodeType!==7){if(y.nodeType===3||y.nodeType===4||y.nodeType===8){var h=y.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:y.nodeValue}var a=null,l={};if(y.attributes&&y.attributes.length){a={};for(var o=0;o<y.attributes.length;o++){var f=y.attributes[o].nodeName;if(typeof f=="string"){var p=y.attributes[o].nodeValue;try{p=JSON.parse(y.attributes[o].nodeValue.replace(/'/g,'"'))}catch{p=y.attributes[o].nodeValue}p!=null&&(f=this.attr_prefix+f,typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(a,f,l[f],p))}}}if(y.childNodes&&y.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<y.childNodes.length&&m;o++){var g=y.childNodes[o].nodeType;g===3||g===4||g===8||(m=!1)}if(m){a||(a="");for(var o=0;o<y.childNodes.length;o++)a+=y.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<y.childNodes.length;o++){var f=y.childNodes[o].nodeName;if(typeof f=="string"){var p=this.parseElement(y.childNodes[o]);p&&(typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(a,f,l[f],p))}}}}else a===null&&(a={});return a}};oo.ObjTree.prototype.addNode=function(y,h,a,l){this.__force_array[h]?(a===1&&(y[h]=[]),y[h][y[h].length]=l):a===1?y[h]=l:a===2?y[h]=[y[h],l]:y[h][y[h].length]=l};oo.ObjTree.prototype.writeXML=function(y){var h=this.hash_to_xml(null,y);return this.xmlDecl+h};oo.ObjTree.prototype.hash_to_xml=function(y,h){var a=[],l=[];for(var o in h)if(h!=null&&h.hasOwnProperty(o)){var f=h[o];o.charAt(0)!==this.attr_prefix?typeof f>"u"||f==null?a[a.length]="<"+o+" />":typeof f=="object"&&f.constructor===Array?a[a.length]=this.array_to_xml(o,f):typeof f=="object"?a[a.length]=this.hash_to_xml(o,f):a[a.length]=this.scalar_to_xml(o,f):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var p=l.join(""),m=a.join("");return typeof y>"u"||y==null||(a.length>0?m.match(/\n/)?m="<"+y+p+`>
`+m+"</"+y+`>
`:m="<"+y+p+">"+m+"</"+y+`>
`:m="<"+y+p+` />
`),m};oo.ObjTree.prototype.array_to_xml=function(y,h){for(var a=[],l=0;l<h.length;l++){var o=h[l];typeof o>"u"||o==null?a[a.length]="<"+y+" />":typeof o=="object"&&o.constructor===Array?a[a.length]=this.array_to_xml(y,o):typeof o=="object"?a[a.length]=this.hash_to_xml(y,o):a[a.length]=this.scalar_to_xml(y,o)}return a.join("")};oo.ObjTree.prototype.scalar_to_xml=function(y,h){return y==="#text"?this.xml_escape(h):"<"+y+">"+this.xml_escape(h)+"</"+y+`>
`};oo.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var DA=function(y){return new oo.ObjTree().parseXML(y)};function U_(y){return Object.prototype.toString.call(y)}function n_(y){return"  ".repeat(y)}function qh(y){return U_(y)==="[object Object]"?Object.keys(y).reduce(function(h,a){var l=a;return a.charAt(0)==="-"&&(l=a.substring(1)),h[l]=qh(y[a]),h},{}):Array.isArray(y)?y.map(function(h){return qh(h)}):y}function CA(y){var h=y;try{typeof h!="string"&&(h=JSON.parse(y))}catch{h=JSON.stringify(qh(y)).replace(/"/g,"'")}return h}var r_=`	
`;function Bh(y,h,a){var l=n_(a),o="",f=r_+l;if(h==="-json")return"";if(h==="#text")return f+y;if(h==="#cdata-section")return f+"<![CDATA["+y+"]]>";if(h==="#comment")return f+"<!--"+y+"-->";if((""+h).charAt(0)==="-")return" "+h.substring(1)+'="'+CA(y)+'"';if(Array.isArray(y))o+=y.map(function(E){return Bh(E,h,a+1)}).join("");else if(U_(y)==="[object Object]"){var p=Object.keys(y),m="",g=y["-json"]?r_+n_(a+1)+y["-json"]:"";o+=(a===0?"":f)+"<"+h,p.forEach(function(E){E.charAt(0)==="-"?m+=Bh(y[E],E,a+1):g+=Bh(y[E],E,a+1)}),o+=m+(g!==""?">"+g+f+"</"+h+">":" />")}else o+=f+"<"+h+">"+y.toString()+"</"+h+">";return o}function IA(y){var h="";for(var a in y)h+=Bh(y[a],a,0);return h}var RA=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),yg=globalThis&&globalThis.__assign||function(){return yg=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},yg.apply(this,arguments)},o_=globalThis&&globalThis.__rest||function(y,h){var a={};for(var l in y)Object.prototype.hasOwnProperty.call(y,l)&&h.indexOf(l)<0&&(a[l]=y[l]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(y);o<l.length;o++)h.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(y,l[o])&&(a[l[o]]=y[l[o]]);return a},Tg=globalThis&&globalThis.__values||function(y){var h=typeof Symbol=="function"&&Symbol.iterator,a=h&&y[h],l=0;if(a)return a.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&l>=y.length&&(y=void 0),{value:y&&y[l++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},kc=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},jc=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(kc(arguments[h]));return y},to;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",y.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",y.BOUNDARY="bpmn:boundaryEvent",y.PARALLEL_GATEWAY="bpmn:parallelGateway",y.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",y.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow",y.SUBPROCESS="bpmn:subProcess"})(to||(to={}));var Y_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],LA=["properties","startPoint","endPoint","pointsList"],Zh={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},V_=function(y,h){var a=Object.keys(h||{});return a.forEach(function(l){if(y[l]){var o=h[l],f=o.in,p=o.out;f&&(y[l].in=f),p&&(y[l].out=p)}else y[l]=h[l]}),y},Ko={"bpmn:startEvent":{out:function(y){var h,a,l=y.properties;return((a=(h=Ko[l.definitionType])===null||h===void 0?void 0:h.out)===null||a===void 0?void 0:a.call(h,y))||{}}},"bpmn:intermediateCatchEvent":{out:function(y){var h,a,l=y.properties;return((a=(h=Ko[l.definitionType])===null||h===void 0?void 0:h.out)===null||a===void 0?void 0:a.call(h,y))||{}}},"bpmn:intermediateThrowEvent":{out:function(y){var h,a,l=y.properties;return((a=(h=Ko[l.definitionType])===null||h===void 0?void 0:h.out)===null||a===void 0?void 0:a.call(h,y))||{}}},"bpmn:boundaryEvent":{out:function(y){var h,a,l=y.properties;return((a=(h=Ko[l.definitionType])===null||h===void 0?void 0:h.out)===null||a===void 0?void 0:a.call(h,y))||{}}},"bpmn:sequenceFlow":{out:function(y){var h=y.properties,a=h.expressionType,l=h.condition;return l?a==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+l+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+l+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(y){var h=y.properties,a=h.timerType,l=h.timerValue,o=h.definitionId,f=function(){return"<bpmn:"+a+' xsi:type="bpmn:tFormalExpression">'+l+"</bpmn:"+a+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(a&&l?">"+f()+"</bpmn:timerEventDefinition>":"/>")}},in:function(y,h){var a,l,o,f,p=y,m=h["-id"],g="",E="";try{for(var j=Tg(Object.keys(h)),S=j.next();!S.done;S=j.next()){var k=S.value;k.includes("bpmn:")&&(o=kc(k.split(":"),2),g=o[1],E=(f=h[k])===null||f===void 0?void 0:f["#text"])}}catch(T){a={error:T}}finally{try{S&&!S.done&&(l=j.return)&&l.call(j)}finally{if(a)throw a.error}}return{"-definitionId":m,"-definitionType":p,"-timerType":g,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(y,h){var a,l="",o="";return h["#cdata-section"]?(o="cdata",l=((a=/^\$\{(.*)\}$/g.exec(h["#cdata-section"]))===null||a===void 0?void 0:a[1])||""):h["#text"]&&(o="normal",l=h["#text"]),{"-condition":l,"-expressionType":o}}}};function zA(y){var h=y??{},a=h.retainedAttrsFields,l=h.excludeFields,o=h.transformer,f=new Set(jc(LA,a||[])),p={in:new Set(jc(Zh.in,(l==null?void 0:l.in)||[])),out:new Set(jc(Zh.out,(l==null?void 0:l.out)||[]))};return Ko=V_(Ko,o),function(m){var g=m.nodes,E=m.edges;function j(S,k){var T,C,N;if((S==null?void 0:S.flag)!==1){var R;if((R=Ko[S.type])&&R.out){var G=R.out(S),H=Object.keys(G);H.length>0&&H.forEach(function(Y){S[Y]=G[Y]})}S!=null&&S.children&&(S.children=S.children.map(function(Y){var $=g.find(function(q){return q.id===Y})||E.find(function(q){return q.id===Y});return $||{}}));var Q={};if(typeof S=="string")return S;if(Array.isArray(S))return S.map(function(Y){return j(Y,"")}).filter(function(Y){return Y!=null});try{for(var ue=Tg(Object.entries(S)),re=ue.next();!re.done;re=ue.next()){var ee=kc(re.value,2),ne=ee[0],V=ee[1];if(((N=V)===null||N===void 0?void 0:N.flag)===1)return;var B=[k,ne].filter(function(Y){return Y}).join(".");p.out.has(B)||(typeof V!="object"?ne.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(ne)?Q[ne]=V:Q["-"+ne]=V:f.has(B)?Q["-"+ne]=j(V,B):Q[ne]=j(V,B))}}catch(Y){T={error:Y}}finally{try{re&&!re.done&&(C=ue.return)&&C.call(ue)}finally{if(T)throw T.error}}return Q}}return j(m,"")}}function Jh(y){var h,a,l={};try{for(var o=Tg(Object.entries(y)),f=o.next();!f.done;f=o.next()){var p=kc(f.value,2),m=p[0],g=p[1];m.indexOf("-")===0?l[m.substring(1)]=qh(g):typeof g=="string"?l[m]=g:Object.prototype.toString.call(g)==="[object Object]"?l[m]=Jh(g):Array.isArray(g)?l[m]=g.map(function(E){return Jh(E)}):l[m]=g}}catch(E){h={error:E}}finally{try{f&&!f.done&&(a=o.return)&&a.call(o)}finally{if(h)throw h.error}}return l}function BA(y,h,a){var l,o=new Map,f=zA(a)(h);f.nodes.forEach(function(m){var g=m["-id"],E=m["-type"],j=m.text,S=m.children,k=o_(m,["-id","-type","text","children"]),T={"-id":g};j!=null&&j["-value"]&&(T["-name"]=j["-value"]),k["-json"]&&(T["-json"]=k["-json"]),k["-properties"]&&Object.assign(T,k["-properties"]),S&&(T.children=S),y[E]||(y[E]=[]),y[E].push(T),o.set(g,T)});var p=f.edges.map(function(m){var g=m["-id"];m["-type"];var E=m["-sourceNodeId"],j=m["-targetNodeId"],S=m.text,k=o_(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),T=o.get(j);T["bpmn:incoming"]||(T["bpmn:incoming"]=[]),T["bpmn:incoming"].push(g);var C={"-id":g,"-sourceRef":E,"-targetRef":j};return S!=null&&S["-value"]&&(C["-name"]=S["-value"]),k["-json"]&&(C["-json"]=k["-json"]),k["-properties"]&&Object.assign(C,k["-properties"]),C});return h.edges.forEach(function(m){var g=m.sourceNodeId,E=m.id,j=o.get(g);j["bpmn:outgoing"]||(j["bpmn:outgoing"]=[]),j["bpmn:outgoing"].push(E)}),(l=y["bpmn:subProcess"])===null||l===void 0||l.forEach(function(m){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];m.children.forEach(function(N){var R,G=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(Q){G[Q]&&G[Q].forEach(function(ue){g[Q].add(ue)})});var H=(R=y[N["-type"]])===null||R===void 0?void 0:R.findIndex(function(Q){return Q["-id"]===N["-id"]});H>=0&&y[N["-type"]].splice(H,1),o.delete(N["-id"]),m[N["-type"]]||(m[N["-type"]]=[]),m[N["-type"]].push(G)});var j=g["bpmn:incoming"],S=g["bpmn:outgoing"];S.forEach(function(N){j.has(N)&&E.push(N)});for(var k=function(N){var R=p.findIndex(function(G){return G["-id"]===E[N]});R>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(p[R]),p.splice(R,1)):N++,T=N},T,C=0;C<E.length;)k(C),C=T;delete m.children}),y[to.FLOW]=p,y}function FA(y,h){y["bpmndi:BPMNEdge"]=h.edges.map(function(a){var l,o=a.id,f=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),p={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((l=a.text)===null||l===void 0)&&l.value&&(p["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),p}),y["bpmndi:BPMNShape"]=h.nodes.map(function(a){var l,o=a.id,f=100,p=80,m=a.x,g=a.y,E=ho.shapeConfigMap.get(a.type);E&&(f=E.width,p=E.height),m-=f/2,g-=p/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":f,"-height":p}};return!((l=a.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),j})}var WA=["bpmn:incoming","bpmn:outgoing"];function GA(y,h){var a=[],l=[],o=new Map,f=h??{},p=f.transformer,m=f.excludeFields,g={in:new Set(jc(Zh.in,(m==null?void 0:m.in)||[])),out:new Set(jc(Zh.out,(m==null?void 0:m.out)||[]))};Ko=V_(Ko,p);var E=y["bpmn:definitions"];if(E){var j=E["bpmn:process"];(function(k,T){T.forEach(function(C){try{Object.keys(k).forEach(function(N){try{C(N)}catch(R){console.error(R)}})}catch(N){console.error(N)}})})(j,[function(k){function T(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(R){var G;R.indexOf("bpmn:")===0&&!WA.includes(R)&&(j[R]||(j[R]=[]),!Array.isArray(j[R])&&(j[R]=[j[R]]),Array.isArray(N[R])?(G=j[R]).push.apply(G,jc(N[R])):j[R].push(N[R]),Array.isArray(N[R])?N[R].forEach(function(H){!R.includes("Flow")&&N["-children"].push(H["-id"])}):!R.includes("Flow")&&N["-children"].push(N[R]["-id"]),delete N[R])})}if(k==="bpmn:subProcess"){var C=j[k];Array.isArray(C)?C.forEach(function(N){k==="bpmn:subProcess"&&T(N)}):T(C)}},function(k){var T=function(N){Object.keys(N).forEach(function(R){var G,H;if(R.includes("bpmn:")){var Q={};Ko[R]&&Ko[R].in?(Q=(H=(G=Ko[R]).in)===null||H===void 0?void 0:H.call(G,R,W.cloneDeep(N[R])),delete N[R]):C(N[R]);var ue=void 0;(ue=Reflect.ownKeys(Q)).length>0&&ue.forEach(function(re){Reflect.set(N,re,Q[re])})}})};function C(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(R){C(R)}):typeof N=="object"&&T(N)}C(j[k])},function(k){if(k.indexOf("bpmn:")===0){var T=j[k];if(k==="bpmn:sequenceFlow"){var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];l=HA(T,C)}else{var N=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(k==="bpmn:boundaryEvent"){var R=j[k],G=function(H){var Q=H["-attachedToRef"],ue=o.get(Q);ue["-boundaryEvents"]||(ue["-boundaryEvents"]=[]),ue["-boundaryEvents"].push(H["-id"])};Array.isArray(R)?R.forEach(function(H){G(H)}):G(R)}a=a.concat(XA(T,N,k))}}}])}var S=function(k,T,C){Object.keys(k).forEach(function(N){var R=C?C+"."+N:N;T.has(R)?delete k[N]:typeof k[N]=="object"&&S(k[N],T,R)})};return a.forEach(function(k){var T,C;if(!((T=h==null?void 0:h.mapping)===null||T===void 0)&&T.in){var N=(C=h==null?void 0:h.mapping)===null||C===void 0?void 0:C.in,R=k.type;N[R]&&(k.type=N[R])}S(k,g.in,"")}),l.forEach(function(k){var T,C;if(!((T=h==null?void 0:h.mapping)===null||T===void 0)&&T.in){var N=(C=h==null?void 0:h.mapping)===null||C===void 0?void 0:C.in,R=k.type;N[R]&&(k.type=N[R])}S(k,g.in,"")}),{nodes:a,edges:l}}function XA(y,h,a){var l=[];if(Array.isArray(y))y.forEach(function(p){var m;Array.isArray(h)?m=h.find(function(E){return E["-bpmnElement"]===p["-id"]}):m=h;var g=i_(m,a,p);l.push(g)});else{var o=void 0;Array.isArray(h)?o=h.find(function(p){return p["-bpmnElement"]===y["-id"]}):o=h;var f=i_(o,a,y);l.push(f)}return l}function i_(y,h,a){var l=Number(y["dc:Bounds"]["-x"]),o=Number(y["dc:Bounds"]["-y"]),f=a["-children"],p=a["-name"],m=ho.shapeConfigMap.get(h);m&&(l+=m.width/2,o+=m.height/2);var g={};Object.entries(a).forEach(function(k){var T=kc(k,2),C=T[0],N=T[1];Y_.includes(C)||(g[C]=N)}),g=Jh(g);var E;if(p&&(E={x:l,y:o,value:p},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var j=y["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(j["-x"])+Number(j["-width"])/2,E.y=Number(j["-y"])+Number(j["-height"])/2}var S={id:y["-bpmnElement"],type:h,x:l,y:o,properties:g};return f&&(S.children=f),E&&(S.text=E),S}function HA(y,h){var a=[];if(Array.isArray(y))y.forEach(function(o){var f;Array.isArray(h)?f=h.find(function(p){return p["-bpmnElement"]===o["-id"]}):f=h,a.push(a_(f,o))});else{var l=void 0;Array.isArray(h)?l=h.find(function(o){return o["-bpmnElement"]===y["-id"]}):l=h,a.push(a_(l,y))}return a}function a_(y,h){var a,l=h["-name"];if(l){var o=y["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;l.split(`
`).forEach(function(E){f<E.length&&(f=E.length)}),a={value:l,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var p={};Object.entries(h).forEach(function(E){var j=kc(E,2),S=j[0],k=j[1];Y_.includes(S)||(p[S]=k)}),p=Jh(p);var m=y["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),g={id:h["-id"],type:to.FLOW,pointsList:m,sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:p};return a&&(g.text=a),g}var ho=function(){function y(h){var a=this,l=h.lf;this.adapterOut=function(o,f){var p,m,g=yg({},a.processAttributes);BA(g,o,f);var E={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};FA(E,o);var j=a.definitionAttributes;j["bpmn:process"]=g,j["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var S={"bpmn:definitions":j};if(!((p=f==null?void 0:f.mapping)===null||p===void 0)&&p.out){var k=(m=f==null?void 0:f.mapping)===null||m===void 0?void 0:m.out,T=function(C){Array.isArray(C)&&C.forEach(function(N){return T(N)}),typeof C=="object"&&Object.keys(C).forEach(function(N){var R;(R=k[N])?(C[R]=W.cloneDeep(C[N]),delete C[N],T(C[R])):T(C[N])})};T(S)}return S},this.adapterIn=function(o,f){if(o)return GA(o,f)},l.adapterIn=this.adapterIn,l.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return y.prototype.setCustomShape=function(h,a){y.shapeConfigMap.set(h,a)},y.pluginName="bpmn-adapter",y.shapeConfigMap=new Map,y}();ho.shapeConfigMap.set(to.START,{width:V0.width,height:V0.height});ho.shapeConfigMap.set(to.END,{width:$0.width,height:$0.height});ho.shapeConfigMap.set(to.INTERMEDIATE_CATCH,{width:Kh.width,height:Kh.height});ho.shapeConfigMap.set(to.INTERMEDIATE_THROW,{width:Kh.width,height:Kh.height});ho.shapeConfigMap.set(to.BOUNDARY,{width:K0.width,height:K0.height});ho.shapeConfigMap.set(to.PARALLEL_GATEWAY,{width:q0.width,height:q0.height});ho.shapeConfigMap.set(to.INCLUSIVE_GATEWAY,{width:Z0.width,height:Z0.height});ho.shapeConfigMap.set(to.EXCLUSIVE_GATEWAY,{width:J0.width,height:J0.height});ho.shapeConfigMap.set(to.SYSTEM,{width:Q0.width,height:Q0.height});ho.shapeConfigMap.set(to.USER,{width:e_.width,height:e_.height});ho.shapeConfigMap.set(to.SUBPROCESS,{width:t_.width,height:t_.height});(function(y){RA(h,y);function h(a){var l=y.call(this,a)||this;l.adapterXmlIn=function(p){var m=DA(p);return l.adapterIn(m,l.props)},l.adapterXmlOut=function(p){var m=l.adapterOut(p,l.props);return IA(m)};var o=a.lf,f=a.props;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l.props=f,l}return h.pluginName="BPMNAdapter",h})(ho);var u_=globalThis&&globalThis.__assign||function(){return u_=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},u_.apply(this,arguments)};globalThis&&globalThis.__read;var Mc;(function(y){y.HORIZONTAL="horizontal",y.VERTICAL="vertical"})(Mc||(Mc={}));var UA=function(y,h,a,l){l===void 0&&(l=0);var o=VA(y,h,a);return o<=l};function s_(y){return y*y}function ig(y,h){return s_(y.x-h.x)+s_(y.y-h.y)}var YA=function(y,h,a){var l=ig(h,a);if(l===0)return ig(y,h);var o=((y.x-h.x)*(a.x-h.x)+(y.y-h.y)*(a.y-h.y))/l;return o=Math.max(0,Math.min(1,o)),ig(y,{x:h.x+o*(a.x-h.x),y:h.y+o*(a.y-h.y)})},VA=function(y,h,a){return Math.sqrt(YA(y,h,a))},$A=function(y){var h=y.x,a=y.y,l=y.width,o=y.height,f={minX:h-l/2,minY:a-o/2,maxX:h+l/2,maxY:a+o/2,x:h,y:a,width:l,height:o,centerX:h,centerY:a};return f},KA=function(y,h){var a;return y.x===h.x?a=Mc.VERTICAL:y.y===h.y&&(a=Mc.HORIZONTAL),a},qA=function(y,h,a){var l=$A(y),o=KA(h,a),f=Math.max(h.x,a.x),p=Math.min(h.x,a.x),m=Math.max(h.y,a.y),g=Math.min(h.y,a.y),E=y.x,j=y.y,S=y.width,k=y.height;if(o===Mc.HORIZONTAL){if(f>=l.maxX&&p<=l.minX)return{startCrossPoint:{x:h.x>a.x?E+S/2:E-S/2,y:h.y},endCrossPoint:{x:h.x>a.x?E-S/2:E+S/2,y:h.y}}}else if(o===Mc.VERTICAL&&m>=l.maxY&&g<=l.minY)return{startCrossPoint:{x:h.x,y:h.y>a.y?j+k/2:j-k/2},endCrossPoint:{x:h.x,y:h.y>a.y?j-k/2:j+k/2}}},ZA=function(y,h,a){a===void 0&&(a=0);for(var l=y.x,o=y.y,f=h.pointsList,p=0;p<f.length-1;p++)if(UA({x:l,y:o},f[p],f[p+1],a)){var m=qA(y,f[p],f[p+1]);if(m)return{crossIndex:p+1,crossPoints:m}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},JA=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},c_=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(JA(arguments[h]));return y},KT=function(){function y(h){var a=h.lf;this._lf=a,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return y.prototype.eventHandler=function(){var h=this;this.dndAdd&&this._lf.on("node:dnd-add",function(a){var l=a.data;h.insetNode(l)}),this.dropAdd&&this._lf.on("node:drop",function(a){for(var l=a.data,o=h._lf.graphModel.edges,f=l.id,p=!0,m=0;m<o.length;m++)if(o[m].sourceNodeId===f||o[m].targetNodeId===f){p=!1;break}p&&h.insetNode(l)})},y.prototype.checkRuleBeforeInsetNode=function(h,a,l,o,f){var p=this._lf.getNodeModelById(h),m=this._lf.getNodeModelById(a),g=p.getAnchorInfo(l),E=m.getAnchorInfo(o),j=p.isAllowConnectedAsSource(f,g,E),S=m.isAllowConnectedAsTarget(f,g,E),k=Fe.formateAnchorConnectValidateData(j),T=k.isAllPass,C=k.msg,N=Fe.formateAnchorConnectValidateData(S),R=N.isAllPass,G=N.msg;return{isPass:T&&R,sourceMsg:C,targetMsg:G}},y.prototype.insetNode=function(h){for(var a=this,l=this._lf.graphModel.edges,o=this._lf.getNodeModelById(h.id),f=0;f<l.length;f++){var p=ZA(o,l[f],this.deviation),m=p.crossIndex,g=p.crossPoints;if(m>=0){var E=l[f],j=E.sourceNodeId,S=E.targetNodeId,k=E.id,T=E.type,C=E.pointsList,N=E.sourceAnchorId,R=E.targetAnchorId,G=bf(C[0]),H=bf(g.startCrossPoint);this._lf.deleteEdge(k);var Q=this.checkRuleBeforeInsetNode(j,S,N,R,h);if(this._lf.addEdge({type:T,sourceNodeId:j,targetNodeId:h.id,startPoint:G,endPoint:H,pointsList:c_(C.slice(0,m),[g.startCrossPoint])}),this._lf.addEdge({type:T,sourceNodeId:h.id,targetNodeId:S,startPoint:bf(g.endCrossPoint),endPoint:bf(C[C.length-1]),pointsList:c_([g.endCrossPoint],C.slice(m))}),Q.isPass)break;this._lf.graphModel.eventCenter.emit(Fe.EventType.CONNECTION_NOT_ALLOWED,{data:h,msg:Q.targetMsg||Q.sourceMsg}),setTimeout(function(){a._lf.undo()},200);break}}},y.pluginName="insertNodeInPolyline",y}(),QA=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},eT=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(QA(arguments[h]));return y},qT=function(){function y(h){var a=this,l=h.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){a.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){a.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){a.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){a.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){a.lf.redo()}}],this.lf=l}return y.prototype.render=function(h,a){this.destroy();var l=this.getControlTool();this.toolEl=l,a.appendChild(l),this.domContainer=a},y.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},y.prototype.addItem=function(h){this.controlItems.push(h)},y.prototype.removeItem=function(h){var a=this.controlItems.findIndex(function(l){return l.key===h});return a==-1?null:this.controlItems.splice(a,1)[0]},y.prototype.getControlTool=function(){var h=this,a="lf-control-item",l="lf-control-item disabled",o=document.createElement("div"),f=[];return o.className="lf-control",this.controlItems.forEach(function(p){var m=document.createElement("div"),g=document.createElement("i"),E=document.createElement("span");switch(m.className=l,p.onClick&&(m.onclick=p.onClick.bind(null,h.lf)),p.onMouseEnter&&(m.onmouseenter=p.onMouseEnter.bind(null,h.lf)),p.onMouseLeave&&(m.onmouseleave=p.onMouseLeave.bind(null,h.lf)),g.className=p.iconClass,E.className="lf-control-text",E.title=p.title,E.innerText=p.text,m.append(g,E),p.text){case"上一步":h.lf.on("history:change",function(j){var S=j.data.undoAble;m.className=S?a:l});break;case"下一步":h.lf.on("history:change",function(j){var S=j.data.redoAble;m.className=S?a:l});break;default:m.className=a;break}f.push(m)}),o.append.apply(o,eT(f)),o},y.pluginName="control",y}(),tT=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},nT=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(tT(arguments[h]));return y},vf="lf:defaultNodeMenu",gf="lf:defaultEdgeMenu",mf="lf:defaultGraphMenu",l_="lf:defaultSelectionMenu",ZT=function(){function y(h){var a=this,l=h.lf;this.lf=l;var o=l.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(f){a.setMenuConfig(f)},this.lf.addMenuConfig=function(f){a.addMenuConfig(f)},this.lf.setMenuByType=function(f){a.setMenuByType(f)})}return y.prototype.init=function(){var h=this,a=[{text:"删除",callback:function(f){h.lf.deleteNode(f.id)}},{text:"编辑文本",callback:function(f){h.lf.graphModel.editText(f.id)}},{text:"复制",callback:function(f){h.lf.cloneNode(f.id)}}];this.menuTypeMap.set(vf,a);var l=[{text:"删除",callback:function(f){h.lf.deleteEdge(f.id)}},{text:"编辑文本",callback:function(f){h.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(gf,l),this.menuTypeMap.set(mf,[]);var o=[{text:"删除",callback:function(f){h.lf.clearSelectElements(),f.edges.forEach(function(p){return h.lf.deleteEdge(p.id)}),f.nodes.forEach(function(p){return h.lf.deleteNode(p.id)})}}];this.menuTypeMap.set(l_,o)},y.prototype.render=function(h,a){var l=this;h.options.isSilentMode||(this.__container=a,this.__currentData=null,this.__menuDOM.className="lf-menu",a.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var f=o.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(l.__currentData),l.__menuDOM.style.display="none",l.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var f=o.data,p=o.position,m=o.e,g=p.domOverlayPosition,E=g.x,j=g.y,S=f.id,k=l.lf.graphModel.getNodeModelById(S),T=[],C=l.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=l.menuTypeMap.get(vf),l.__currentData=f,l.showMenu(E,j,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var f=o.data,p=o.position,m=o.e,g=p.domOverlayPosition,E=g.x,j=g.y,S=f.id,k=l.lf.graphModel.getEdgeModelById(S),T=[],C=l.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=l.menuTypeMap.get(gf),l.__currentData=f,l.showMenu(E,j,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var f=o.position,p=l.menuTypeMap.get(mf),m=f.domOverlayPosition,g=m.x,E=m.y;l.showMenu(g,E,p)}),this.lf.on("selection:contextmenu",function(o){var f=o.data,p=o.position,m=l.menuTypeMap.get(l_),g=p.domOverlayPosition,E=g.x,j=g.y;l.__currentData=f,l.showMenu(E,j,m)}),this.lf.on("node:mousedown",function(){l.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){l.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){l.__menuDOM.style.display="none"}))},y.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},y.prototype.showMenu=function(h,a,l,o){if(!(!l||!l.length)){var f=this.__menuDOM;if(f.innerHTML="",f.append.apply(f,nT(this.__getMenuDom(l))),!!f.children.length){if(f.style.display="block",!o){f.style.top=a+"px",f.style.left=h+"px";return}var p=o.width,m=o.height,g=o.clientX,E=o.clientY,j=this.lf.graphModel,S=f.offsetWidth,k=!0,T=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=T-g,N=j.rootEl.getBoundingClientRect(),R=N.left+N.width;R<T&&(C=R-g),C<S&&(k=!1),k?f.style.left=h+"px":f.style.left=h-p+"px";var G=f.offsetHeight,H=!0,Q=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ue=Q-E,re=N.top+N.height;re<Q&&(ue=re-E),ue<G&&(H=!1),H?f.style.top=a+"px":f.style.top=a-m+"px"}}},y.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},y.prototype.__getMenuDom=function(h){var a=[];return h&&h.length>0&&h.forEach(function(l){var o=document.createElement("li");if(l.className?o.className="lf-menu-item "+l.className:o.className="lf-menu-item",l.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",o.appendChild(f)}var p=document.createElement("span");p.className="lf-menu-item-text",l.text&&(p.innerText=l.text),o.appendChild(p),o.onclickCallback=l.callback,a.push(o)}),a},y.prototype.setMenuConfig=function(h){h&&(h.nodeMenu!==void 0&&this.menuTypeMap.set(vf,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(gf,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(mf,h.graphMenu?h.graphMenu:[]))},y.prototype.addMenuConfig=function(h){if(h){if(Array.isArray(h.nodeMenu)){var a=this.menuTypeMap.get(vf);this.menuTypeMap.set(vf,a.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var a=this.menuTypeMap.get(gf);this.menuTypeMap.set(gf,a.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var a=this.menuTypeMap.get(mf);this.menuTypeMap.set(mf,a.concat(h.graphMenu))}}},y.prototype.changeMenuItem=function(h,a){if(h==="add")this.addMenuConfig(a);else if(h==="reset")this.setMenuConfig(a);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},y.pluginName="menu",y}(),rT=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},ag="menu-common",f_=200,oT=100,JT=function(){function y(h){var a=this,l=h.lf;this.menuTypeMap=new Map,this.listenDelete=function(){a.hideContextMenu()},this.lf=l,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(ag,[]),this.lf.setContextMenuByType=function(o,f){a.setContextMenuByType(o,f)},this.lf.setContextMenuItems=function(o){a.setContextMenuItems(o)},this.lf.showContextMenu=function(o){a.showContextMenu(o)},this.lf.hideContextMenu=function(){a.hideContextMenu()}}return y.prototype.render=function(h,a){var l=this;this.container=a,h.on("node:click",function(o){var f=o.data;l._activeData=f,l.createContextMenu()}),h.on("edge:click",function(o){var f=o.data;l._activeData=f,l.createContextMenu()}),h.on("blank:click",function(){l.hideContextMenu()})},y.prototype.setContextMenuByType=function(h,a){this.menuTypeMap.set(h,a)},y.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},y.prototype.showContextMenu=function(h){if(!h||!h.id){console.warn("请检查传入的参数");return}this._activeData=h,this.createContextMenu()},y.prototype.setContextMenuItems=function(h){this.menuTypeMap.set(ag,h)},y.prototype.getContextMenuPosition=function(){var h=this._activeData,a=this.lf.graphModel.getElement(h.id);if(!a){console.warn("找不到元素"+h.id);return}var l,o;if(a.BaseType==="edge"){l=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;var f=a.getData();l=Math.max(f.startPoint.x,l),o=Math.min(f.startPoint.y,o),l=Math.max(f.endPoint.x,l),o=Math.min(f.endPoint.y,o),f.pointsList&&f.pointsList.forEach(function(p){l=Math.max(p.x,l),o=Math.min(p.y,o)})}return a.BaseType==="node"&&(l=h.x+a.width/2,o=h.y-a.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([l,o])},y.prototype.createContextMenu=function(){var h=this,a=this.lf.options.isSilentMode;if(!a){var l=this.menuTypeMap.get(this._activeData.type)||[];l=l.concat(this.menuTypeMap.get(ag));var o=document.createDocumentFragment();l.forEach(function(f){var p=document.createElement("div");p.className="lf-context-item";var m=document.createElement("img");m.src=f.icon,m.className="lf-context-img",f.className&&(p.className=p.className+" "+f.className),m.addEventListener("click",function(){h.hideContextMenu(),f.callback?f.callback(h._activeData):h.addNode({sourceId:h._activeData.id,x:h._activeData.x,y:h._activeData.y,properties:f.properties,type:f.type})}),p.appendChild(m),o.appendChild(p)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(o),this.showMenu()}},y.prototype.addNode=function(h,a){var l=a!==void 0;a===void 0&&(a=h.y);var o=this.lf.getNodeModelById(h.sourceId),f=h.x-o.width+f_,p=a-h.y/2-20,m=h.x+o.width+f_,g=a+h.y/2+20,E=this.lf.getAreaElement([f,p],[m,g]);if(E.length){a=a+oT,this.addNode(h,a);return}var j=this.lf.addNode({type:h.type,x:h.x+200,y:a,properties:h.properties}),S,k;l&&(S={x:h.x,y:h.y+o.height/2},k={x:j.x-j.width/2,y:j.y}),this.lf.addEdge({sourceNodeId:h.sourceId,targetNodeId:j.id,startPoint:S,endPoint:k})},y.prototype.showMenu=function(){var h=rT(this.getContextMenuPosition(),2),a=h[0],l=h[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=l+"px",this.__menuDOM.style.left=a+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},y.pluginName="contextMenu",y}(),QT=function(){function y(h){var a=this,l=h.lf;this.lf=l,this.lf.setPatternItems=function(o){a.setPatternItems(o)}}return y.prototype.render=function(h,a){var l=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=a;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){l.panelEl.appendChild(l.createDndItem(o))}),a.appendChild(this.panelEl),this.domContainer=a},y.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},y.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},y.prototype.createDndItem=function(h){var a=this,l=document.createElement("div");l.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",h.icon&&(o.style.backgroundImage="url("+h.icon+")"),l.appendChild(o),h.label){var f=document.createElement("div");f.innerText=h.label,f.className="lf-dnd-text",l.appendChild(f)}return l.onmousedown=function(){h.type&&a.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(a.lf,a.domContainer)},l.ondblclick=function(p){a.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:p,data:h})},l.onclick=function(p){a.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:p,data:h})},l.oncontextmenu=function(p){a.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:p,data:h})},l},y.pluginName="dndPanel",y}(),ek=function(){function y(h){var a=this,l=h.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(f){var p=a.lf.getPointByClient(f.clientX,f.clientY).domOverlayPosition,m=p.x,g=p.y;a.endPoint={x:m,y:g};var E=a.startPoint,j=E.x,S=E.y,k=a.wrapper.style,T=j,C=S,N=m-j,R=g-S;m<j&&(T=m,N=j-m),g<S&&(C=g,R=S-g),k.left=T+"px",k.top=C+"px",k.width=N+"px",k.height=R+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",a.__draw),document.removeEventListener("mouseup",a.__drawOff),a.wrapper.oncontextmenu=null,a.__domContainer.removeChild(a.wrapper);var f=a.startPoint,p=f.x,m=f.y,g=a.endPoint,E=g.x,j=g.y;if(!(Math.abs(E-p)<10&&Math.abs(j-m)<10)){var S=[Math.min(p,E),Math.min(m,j)],k=[Math.max(p,E),Math.max(m,j)],T=a.lf.graphModel.getAreaElement(S,k,a.isWholeEdge,a.isWholeNode,!0),C=a.lf.graphModel.group;T.forEach(function(N){(!C||!C.getNodeGroup(N.id))&&a.lf.selectElementById(N.id,!0)}),a.lf.emit("selection:selected",T)}},this.lf=l;var o=l.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,l.openSelectionSelect=function(){a.openSelectionSelect()},l.closeSelectionSelect=function(){a.closeSelectionSelect()}}return y.prototype.render=function(h,a){var l=this;this.__domContainer=a,h.on("blank:mousedown",function(o){var f=o.e,p=h.getEditConfig();if(!(!p.stopMoveGraph||l.__disabled)){var m=f.button===2;if(!m){var g=h.getPointByClient(f.clientX,f.clientY).domOverlayPosition,E=g.x,j=g.y;l.startPoint={x:E,y:j},l.endPoint={x:E,y:j};var S=document.createElement("div");S.className="lf-selection-select",S.oncontextmenu=function(T){T.preventDefault()},S.style.top=l.startPoint.y+"px",S.style.left=l.startPoint.x+"px",a.appendChild(S),l.wrapper=S,document.addEventListener("mousemove",l.__draw),document.addEventListener("mouseup",l.__drawOff)}}})},y.prototype.setSelectionSense=function(h,a){h===void 0&&(h=!0),a===void 0&&(a=!0),this.isWholeEdge=h,this.isWholeNode=a},y.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},y.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},y.prototype.open=function(){this.__disabled=!1},y.prototype.close=function(){this.__disabled=!0},y.pluginName="selectionSelect",y}(),iT=globalThis&&globalThis.__values||function(y){var h=typeof Symbol=="function"&&Symbol.iterator,a=h&&y[h],l=0;if(a)return a.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&l>=y.length&&(y=void 0),{value:y&&y[l++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},tk=function(){function y(h){var a=this,l=h.lf,o=h.LogicFlow,f=h.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(p,m){a.setView(),a.isShow||a.createMiniMap(p,m),a.isShow=!0},this.hide=function(){a.isShow&&a.removeMiniMap(),a.isShow=!1},this.reset=function(){a.lf.resetTranslate(),a.lf.resetZoom(),a.hide(),a.show()},this.startDrag=function(p){document.addEventListener("mousemove",a.drag),document.addEventListener("mouseup",a.drop),a.startPosition={x:p.x,y:p.y}},this.moveViewport=function(p,m){var g=a.viewport.style;a.viewPortTop=p,a.viewPortLeft=m,g.top=a.viewPortTop+"px",g.left=a.viewPortLeft+"px"},this.drag=function(p){a.dragging=!0;var m=a.viewPortTop+p.y-a.startPosition.y,g=a.viewPortLeft+p.x-a.startPosition.x;a.moveViewport(m,g),a.startPosition={x:p.x,y:p.y};var E=(a.viewPortLeft+a.viewPortWidth/2)/a.viewPortScale,j=(a.viewPortTop+a.viewPortHeight/2)/a.viewPortScale;a.lf.focusOn({coordinate:{x:E+a.resetDataX,y:j+a.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",a.drag),document.removeEventListener("mouseup",a.drop);var p=a.viewPortTop,m=a.viewPortLeft;a.viewPortLeft>a.width&&(m=a.width-a.viewPortWidth),a.viewPortTop>a.height&&(p=a.height-a.viewPortHeight),a.viewPortLeft<-a.width&&(m=0),a.viewPortTop<-a.height&&(p=0),a.moveViewport(p,m)},this.mapClick=function(p){if(a.dragging)a.dragging=!1;else{var m=p.layerX,g=p.layerY,E=m,j=g,S=a.lf.getGraphRawData(),k=a.getBounds(S),T=k.left,C=k.top,N=T+E/a.viewPortScale,R=C+j/a.viewPortScale;a.lf.focusOn({coordinate:{x:N,y:R}})}},this.lf=l,f&&f.MiniMap&&this.setOption(f),this.miniMapWidth=l.graphModel.width,this.miniMapHeight=l.graphModel.width*this.height/this.width,this.LogicFlow=o,this.initMiniMap()}return y.prototype.render=function(h,a){var l=this;this.container=a,this.lf.on("history:change",function(){l.isShow&&l.setView()}),this.lf.on("graph:transform",g_(function(){l.isShow&&!l.dragging&&l.setView()},300))},y.prototype.init=function(h){this.disabledPlugins=this.disabledPlugins.concat(h.disabledPlugins||[])},y.prototype.setOption=function(h){var a=h.MiniMap,l=a.width,o=l===void 0?150:l,f=a.height,p=f===void 0?220:f,m=a.isShowHeader,g=m===void 0?!0:m,E=a.isShowCloseIcon,j=E===void 0?!0:E,S=a.leftPosition,k=S===void 0?0:S,T=a.topPosition,C=T===void 0?0:T,N=a.rightPosition,R=a.bottomPosition;this.width=o,this.height=p,this.isShowHeader=g,this.isShowCloseIcon=j,this.viewPortWidth=o,this.leftPosition=k,this.topPosition=C,this.rightPosition=N,this.bottomPosition=R},y.prototype.initMiniMap=function(){var h=document.createElement("div");h.className="lf-mini-map-graph",h.style.width=this.width+4+"px",h.style.height=this.height+"px",this.lfMap=new this.LogicFlow({container:h,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(a){return a},this.lfMap.adapterOut=function(a){return a},this.miniMapWrap=h,this.createViewPort(),h.addEventListener("click",this.mapClick)},y.prototype.createMiniMap=function(h,a){var l=document.createElement("div");l.appendChild(this.miniMapWrap),typeof h<"u"||typeof a<"u"?(l.style.left=(h||0)+"px",l.style.top=(a||0)+"px"):(typeof this.rightPosition<"u"?l.style.right=this.rightPosition+"px":typeof this.leftPosition<"u"&&(l.style.left=this.leftPosition+"px"),typeof this.bottomPosition<"u"?l.style.bottom=this.bottomPosition+"px":typeof this.topPosition<"u"&&(l.style.top=this.topPosition+"px")),l.style.position="absolute",l.className="lf-mini-map",this.isShowCloseIcon||l.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||l.classList.add("lf-mini-map-no-header"),this.container.appendChild(l),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=y.headerTitle,l.appendChild(o);var f=document.createElement("span");f.className="lf-mini-map-close",f.addEventListener("click",this.hide),l.appendChild(f),this.miniMapContainer=l},y.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},y.prototype.getBounds=function(h){var a=0,l=this.miniMapWidth,o=0,f=this.miniMapHeight,p=h.nodes;return p&&p.length>0&&p.forEach(function(m){var g=m.x,E=m.y,j=m.width,S=j===void 0?200:j,k=m.height,T=k===void 0?200:k,C=g-S/2,N=g+S/2,R=E-T/2,G=E+T/2;a=C<a?C:a,l=N>l?N:l,o=R<o?R:o,f=G>f?G:f}),{left:a,top:o,bottom:f,right:l}},y.prototype.resetData=function(h){var a=h.nodes,l=h.edges,o=0,f=0;return a&&a.length>0&&(a.forEach(function(p){var m=p.x,g=p.y,E=p.width,j=E===void 0?200:E,S=p.height,k=S===void 0?200:S,T=m-j/2,C=g-k/2;o=T<o?T:o,f=C<f?C:f}),(o<0||f<0)&&(this.resetDataX=o,this.resetDataY=f,a.forEach(function(p){p.x=p.x-o,p.y=p.y-f,p.text&&(p.text.x=p.text.x-o,p.text.y=p.text.y-f)}),l.forEach(function(p){p.startPoint&&(p.startPoint.x=p.startPoint.x-o,p.startPoint.y=p.startPoint.y-f),p.endPoint&&(p.endPoint.x=p.endPoint.x-o,p.endPoint.y=p.endPoint.y-f),p.text&&(p.text.x=p.text.x-o,p.text.y=p.text.y-f),p.pointsList&&p.pointsList.forEach(function(m){m.x=m.x-o,m.y=m.y-f})}))),h},y.prototype.setView=function(){var h,a,l=this.lf.getGraphRawData(),o=this.resetData(l),f=this.lf.viewMap,p=this.lf.graphModel.modelMap,m=this.lfMap.viewMap;try{for(var g=iT(f.keys()),E=g.next();!E.done;E=g.next()){var j=E.value;m.has(j)||(this.lfMap.setView(j,f.get(j)),this.lfMap.graphModel.modelMap.set(j,p.get(j)))}}catch(ue){h={error:ue}}finally{try{E&&!E.done&&(a=g.return)&&a.call(g)}finally{if(h)throw h.error}}this.lfMap.render(o);var S=this.getBounds(o),k=S.left,T=S.top,C=S.right,N=S.bottom,R=this.width/(C-k),G=this.height/(N-T),H=this.miniMapWrap.firstChild.style,Q=Math.min(R,G);H.transform="matrix("+Q+", 0, 0, "+Q+", 0, 0)",H.transformOrigin="left top",H.height=N-Math.min(T,0)+"px",H.width=C-Math.min(k,0)+"px",this.viewPortScale=Q,this.setViewPort(Q,{left:k,top:T,right:C,bottom:N})},y.prototype.setViewPort=function(h,a){var l=a.left,o=a.right;a.top,a.bottom;var f=this.viewport.style;f.width=this.viewPortWidth+"px",f.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var p=this.lf.getTransform(),m=p.TRANSLATE_X,g=p.TRANSLATE_Y,E=p.SCALE_X,j=p.SCALE_Y,S=o-l,k=this.width/(S/this.lf.graphModel.width),T=this.width*(k/this.width),C=this.lf.graphModel.width/this.lf.graphModel.height,N=T/C,R=this.lf.getGraphRawData(),G=this.getBounds(R),H=G.left,Q=G.top,ue=H,re=Q;ue+=m/E,re+=g/j,this.viewPortTop=re>0?0:-re*h,this.viewPortLeft=ue>0?0:-ue*h,this.viewPortWidth=T,this.viewPortHeight=N,f.top=this.viewPortTop+"px",f.left=this.viewPortLeft+"px",f.width=T/E+"px",f.height=N/j+"px"},y.prototype.createViewPort=function(){var h=document.createElement("div");h.className="lf-minimap-viewport",h.addEventListener("mousedown",this.startDrag),this.viewport=h},y.pluginName="miniMap",y.width=150,y.height=220,y.viewPortWidth=150,y.viewPortHeight=75,y.isShowHeader=!0,y.isShowCloseIcon=!0,y.leftPosition=0,y.topPosition=0,y.rightPosition=null,y.bottomPosition=null,y.headerTitle="导航",y}(),$_=globalThis&&globalThis.__extends||function(){var y=function(h,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,a)};return function(h,a){y(h,a);function l(){this.constructor=h}h.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Ec=globalThis&&globalThis.__assign||function(){return Ec=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Ec.apply(this,arguments)},Sf=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f},aT={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function uT(y){for(var h=y,a=1;a<h.length-1;){var l=Sf(h[a-1],2),o=l[0],f=l[1],p=Sf(h[a],2),m=p[0],g=p[1],E=Sf(h[a+1],2),j=E[0],S=E[1];o===m&&m===j||f===g&&g===S?h.splice(a,1):a++}return h}function sT(y,h,a,l){var o=[y[0],y[1]],f=[y[0],y[1]];switch(a){case"tl":return h==="tr"?(o[1]+=l,f[0]+=l):h==="lb"&&(o[0]+=l,f[1]+=l),[o,f];case"tr":return h==="tl"?(o[1]+=l,f[0]-=l):h==="rb"&&(o[0]-=l,f[1]+=l),[o,f];case"bl":return h==="br"?(o[1]-=l,f[0]+=l):h==="lt"&&(o[0]+=l,f[1]-=l),[o,f];case"br":return h==="bl"?(o[1]-=l,f[0]-=l):h==="rt"&&(o[0]-=l,f[1]-=l),[o,f];default:return[]}}function cT(y,h,a,l){var o,f="",p="";y[0]===h[0]?f=y[1]>h[1]?"t":"b":y[1]===h[1]&&(f=y[0]>h[0]?"l":"r"),h[0]===a[0]?p=h[1]>a[1]?"t":"b":h[1]===a[1]&&(p=h[0]>a[0]?"l":"r");var m=Math.min(Math.hypot(h[0]-y[0],h[1]-y[1])/2,Math.hypot(a[0]-h[0],a[1]-h[1])/2,l)||1/5*l,g=""+f+p,E=aT[g]||"-",j="L "+y[0]+" "+y[1];if(E==="-")j+="L "+h[0]+" "+h[1]+" L "+a[0]+" "+a[1];else{var S=Sf(sT(h,g,E,m),2),k=S[0],T=S[1];k&&T&&(j+="L "+k[0]+" "+k[1]+" Q "+h[0]+" "+h[1]+" "+T[0]+" "+T[1],o=Sf(T,2),h[0]=o[0],h[1]=o[1])}return j}function lT(y,h){var a=0,l="";if(y.length===2)l+="M"+y[a][0]+" "+y[a++][1]+" L "+y[a][0]+" "+y[a][1];else{for(l+="M"+y[a][0]+" "+y[a++][1];a+1<y.length;){var o=y[a-1],f=y[a],p=y[a+++1];l+=cT(o,f,p,h)}l+="L "+y[a][0]+" "+y[a][1]}return l}(function(y){$_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getEdge=function(){var a=this.props.model,l=a.points,o=a.isAnimation,f=a.arrowConfig,p=a.radius,m=p===void 0?5:p,g=a.getEdgeStyle(),E=a.getEdgeAnimationStyle(),j=uT(l.split(" ").map(function(T){return T.split(",").map(function(C){return+C})})),S=lT(j,m),k=Ec(Ec(Ec({style:o?E:{}},g),f),{fill:"none"});return Fe.h("path",Ec({d:S},k))},h})(Fe.PolylineEdge);(function(y){$_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h})(Fe.PolylineEdgeModel);var fT=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;var p_=globalThis&&globalThis.__assign||function(){return p_=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},p_.apply(this,arguments)},h_=globalThis&&globalThis.__assign||function(){return h_=Object.assign||function(y){for(var h,a=1,l=arguments.length;a<l;a++){h=arguments[a];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},h_.apply(this,arguments)},pT=globalThis&&globalThis.__read||function(y,h){var a=typeof Symbol=="function"&&y[Symbol.iterator];if(!a)return y;var l=a.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;const nk={display:!0,disabled:!1,detail:!1,readonly:!1,required:!1,validate:!1};export{JT as C,QT as D,LT as E,YT as G,KT as I,ZT as M,F_ as R,VT as S,UT as T,zT as a,HT as b,GT as c,nk as d,BT as e,WT as f,ts as g,qT as h,ek as i,tk as j,Fe as l,XT as m,FT as p,NA as s,$T as u};
