import{b as it,a as ut,h as ct,f as ht,u as Fe,U as he,i as Ie,c as ke,d as me,e as ft,g as De,j as He,k as $e,l as qe,m as z,_ as U,n as pt,o as vt,w as gt,p as je,r as ye,q as yt,E as kt,s as mt,t as bt,v as Ct,x as H,y as Nt,z as Et,A as xt,B as Ge,C as Kt}from"./index.f85f9727.js";import{aa as be,X as A,d as E,b as fe,w as T,n as M,r as B,ab as te,ac as Ue,ad as Ae,h as I,a4 as Re,j as N,D as $,E as P,C as ne,m as x,u as y,a5 as G,k as S,i as ue,ae as ce,l as oe,F as pe,p as we,q as ve,G as F,O as Be,K as We,Y as Z,af as Dt,I as Ye,a0 as wt,T as Bt,ag as Ce,ah as ee,a9 as Oe,H as O,ai as Ne,a3 as q,J,R as Se,aj as St,s as Pe,f as Je,Z as Tt,ak as Lt,a7 as ze,a8 as Ve}from"./framework.268af5be.js";function Ee(e,t){return it(e,t)}function It(e,t){return ut(e,t,function(o,n){return ct(e,n)})}var $t=ht(function(e,t){return e==null?{}:It(e,t)});const Te=$t,Xe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Fe,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},Ze={[he]:e=>be(e)||Ie(e)||ke(e),change:e=>be(e)||Ie(e)||ke(e)},Q=Symbol("checkboxGroupContextKey"),At=({model:e,isChecked:t})=>{const o=A(Q,void 0),n=E(()=>{var d,r;const s=(d=o==null?void 0:o.max)==null?void 0:d.value,i=(r=o==null?void 0:o.min)==null?void 0:r.value;return!me(s)&&e.value.length>=s&&!t.value||!me(i)&&e.value.length<=i&&t.value});return{isDisabled:ft(E(()=>(o==null?void 0:o.disabled.value)||n.value)),isLimitDisabled:n}},Ot=(e,{model:t,isLimitExceeded:o,hasOwnLabel:n,isDisabled:a,isLabeledByFormItem:d})=>{const r=A(Q,void 0),{formItem:s}=De(),{emit:i}=fe();function l(p){var g,k;return p===e.trueLabel||p===!0?(g=e.trueLabel)!=null?g:!0:(k=e.falseLabel)!=null?k:!1}function c(p,g){i("change",l(p),g)}function f(p){if(o.value)return;const g=p.target;i("change",l(g.checked),p)}async function u(p){o.value||!n.value&&!a.value&&d.value&&(p.composedPath().some(b=>b.tagName==="LABEL")||(t.value=l([!1,e.falseLabel].includes(t.value)),await M(),c(t.value,p)))}const h=E(()=>(r==null?void 0:r.validateEvent)||e.validateEvent);return T(()=>e.modelValue,()=>{h.value&&(s==null||s.validate("change").catch(p=>He()))}),{handleChange:f,onClickRoot:u}},Pt=e=>{const t=B(!1),{emit:o}=fe(),n=A(Q,void 0),a=E(()=>me(n)===!1),d=B(!1);return{model:E({get(){var s,i;return a.value?(s=n==null?void 0:n.modelValue)==null?void 0:s.value:(i=e.modelValue)!=null?i:t.value},set(s){var i,l;a.value&&te(s)?(d.value=((i=n==null?void 0:n.max)==null?void 0:i.value)!==void 0&&s.length>(n==null?void 0:n.max.value),d.value===!1&&((l=n==null?void 0:n.changeEvent)==null||l.call(n,s))):(o(he,s),t.value=s)}}),isGroup:a,isLimitExceeded:d}},zt=(e,t,{model:o})=>{const n=A(Q,void 0),a=B(!1),d=E(()=>{const l=o.value;return ke(l)?l:te(l)?Ue(e.label)?l.map(Ae).some(c=>Ee(c,e.label)):l.map(Ae).includes(e.label):l!=null?l===e.trueLabel:!!l}),r=$e(E(()=>{var l;return(l=n==null?void 0:n.size)==null?void 0:l.value}),{prop:!0}),s=$e(E(()=>{var l;return(l=n==null?void 0:n.size)==null?void 0:l.value})),i=E(()=>!!(t.default||e.label));return{checkboxButtonSize:r,isChecked:d,isFocused:a,checkboxSize:s,hasOwnLabel:i}},Vt=(e,{model:t})=>{function o(){te(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&o()},Qe=(e,t)=>{const{formItem:o}=De(),{model:n,isGroup:a,isLimitExceeded:d}=Pt(e),{isFocused:r,isChecked:s,checkboxButtonSize:i,checkboxSize:l,hasOwnLabel:c}=zt(e,t,{model:n}),{isDisabled:f}=At({model:n,isChecked:s}),{inputId:u,isLabeledByFormItem:h}=qe(e,{formItemContext:o,disableIdGeneration:c,disableIdManagement:a}),{handleChange:p,onClickRoot:g}=Ot(e,{model:n,isLimitExceeded:d,hasOwnLabel:c,isDisabled:f,isLabeledByFormItem:h});return Vt(e,{model:n}),{inputId:u,isLabeledByFormItem:h,isChecked:s,isDisabled:f,isFocused:r,checkboxButtonSize:i,checkboxSize:l,hasOwnLabel:c,model:n,handleChange:p,onClickRoot:g}},Mt=["tabindex","role","aria-checked"],Ft=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Ht=["id","aria-hidden","disabled","value","name","tabindex"],qt=I({name:"ElCheckbox"}),jt=I({...qt,props:Xe,emits:Ze,setup(e){const t=e,o=Re(),{inputId:n,isLabeledByFormItem:a,isChecked:d,isDisabled:r,isFocused:s,checkboxSize:i,hasOwnLabel:l,model:c,handleChange:f,onClickRoot:u}=Qe(t,o),h=z("checkbox"),p=E(()=>[h.b(),h.m(i.value),h.is("disabled",r.value),h.is("bordered",t.border),h.is("checked",d.value)]),g=E(()=>[h.e("input"),h.is("disabled",r.value),h.is("checked",d.value),h.is("indeterminate",t.indeterminate),h.is("focus",s.value)]);return(k,b)=>(N(),$(Be(!y(l)&&y(a)?"span":"label"),{class:x(y(p)),"aria-controls":k.indeterminate?k.controls:null,onClick:y(u)},{default:P(()=>[ne("span",{class:x(y(g)),tabindex:k.indeterminate?0:void 0,role:k.indeterminate?"checkbox":void 0,"aria-checked":k.indeterminate?"mixed":void 0},[k.trueLabel||k.falseLabel?G((N(),S("input",{key:0,id:y(n),"onUpdate:modelValue":b[0]||(b[0]=K=>ue(c)?c.value=K:null),class:x(y(h).e("original")),type:"checkbox","aria-hidden":k.indeterminate?"true":"false",name:k.name,tabindex:k.tabindex,disabled:y(r),"true-value":k.trueLabel,"false-value":k.falseLabel,onChange:b[1]||(b[1]=(...K)=>y(f)&&y(f)(...K)),onFocus:b[2]||(b[2]=K=>s.value=!0),onBlur:b[3]||(b[3]=K=>s.value=!1)},null,42,Ft)),[[ce,y(c)]]):G((N(),S("input",{key:1,id:y(n),"onUpdate:modelValue":b[4]||(b[4]=K=>ue(c)?c.value=K:null),class:x(y(h).e("original")),type:"checkbox","aria-hidden":k.indeterminate?"true":"false",disabled:y(r),value:k.label,name:k.name,tabindex:k.tabindex,onChange:b[5]||(b[5]=(...K)=>y(f)&&y(f)(...K)),onFocus:b[6]||(b[6]=K=>s.value=!0),onBlur:b[7]||(b[7]=K=>s.value=!1)},null,42,Ht)),[[ce,y(c)]]),ne("span",{class:x(y(h).e("inner"))},null,2)],10,Mt),y(l)?(N(),S("span",{key:0,class:x(y(h).e("label"))},[oe(k.$slots,"default"),k.$slots.default?F("v-if",!0):(N(),S(pe,{key:0},[we(ve(k.label),1)],64))],2)):F("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Gt=U(jt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Ut=["name","tabindex","disabled","true-value","false-value"],Rt=["name","tabindex","disabled","value"],Wt=I({name:"ElCheckboxButton"}),Yt=I({...Wt,props:Xe,emits:Ze,setup(e){const t=e,o=Re(),{isFocused:n,isChecked:a,isDisabled:d,checkboxButtonSize:r,model:s,handleChange:i}=Qe(t,o),l=A(Q,void 0),c=z("checkbox"),f=E(()=>{var h,p,g,k;const b=(p=(h=l==null?void 0:l.fill)==null?void 0:h.value)!=null?p:"";return{backgroundColor:b,borderColor:b,color:(k=(g=l==null?void 0:l.textColor)==null?void 0:g.value)!=null?k:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),u=E(()=>[c.b("button"),c.bm("button",r.value),c.is("disabled",d.value),c.is("checked",a.value),c.is("focus",n.value)]);return(h,p)=>(N(),S("label",{class:x(y(u))},[h.trueLabel||h.falseLabel?G((N(),S("input",{key:0,"onUpdate:modelValue":p[0]||(p[0]=g=>ue(s)?s.value=g:null),class:x(y(c).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:y(d),"true-value":h.trueLabel,"false-value":h.falseLabel,onChange:p[1]||(p[1]=(...g)=>y(i)&&y(i)(...g)),onFocus:p[2]||(p[2]=g=>n.value=!0),onBlur:p[3]||(p[3]=g=>n.value=!1)},null,42,Ut)),[[ce,y(s)]]):G((N(),S("input",{key:1,"onUpdate:modelValue":p[4]||(p[4]=g=>ue(s)?s.value=g:null),class:x(y(c).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:y(d),value:h.label,onChange:p[5]||(p[5]=(...g)=>y(i)&&y(i)(...g)),onFocus:p[6]||(p[6]=g=>n.value=!0),onBlur:p[7]||(p[7]=g=>n.value=!1)},null,42,Rt)),[[ce,y(s)]]),h.$slots.default||h.label?(N(),S("span",{key:2,class:x(y(c).be("button","inner")),style:We(y(a)?y(f):void 0)},[oe(h.$slots,"default",{},()=>[we(ve(h.label),1)])],6)):F("v-if",!0)],2))}});var _e=U(Yt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Jt=pt({modelValue:{type:vt(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Fe,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Xt={[he]:e=>te(e),change:e=>te(e)},Zt=I({name:"ElCheckboxGroup"}),Qt=I({...Zt,props:Jt,emits:Xt,setup(e,{emit:t}){const o=e,n=z("checkbox"),{formItem:a}=De(),{inputId:d,isLabeledByFormItem:r}=qe(o,{formItemContext:a}),s=async l=>{t(he,l),await M(),t("change",l)},i=E({get(){return o.modelValue},set(l){s(l)}});return Z(Q,{...Te(Dt(o),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:i,changeEvent:s}),T(()=>o.modelValue,()=>{o.validateEvent&&(a==null||a.validate("change").catch(l=>He()))}),(l,c)=>{var f;return N(),$(Be(l.tag),{id:y(d),class:x(y(n).b("group")),role:"group","aria-label":y(r)?void 0:l.label||"checkbox-group","aria-labelledby":y(r)?(f=y(a))==null?void 0:f.labelId:void 0},{default:P(()=>[oe(l.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var et=U(Qt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const _t=gt(Gt,{CheckboxButton:_e,CheckboxGroup:et}),Cn=je(_e),Nn=je(et),en=I({name:"ElCollapseTransition"}),tn=I({...en,setup(e){const t=z("collapse-transition"),o={beforeEnter(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0},enter(n){n.dataset.oldOverflow=n.style.overflow,n.scrollHeight!==0?(n.style.maxHeight=`${n.scrollHeight}px`,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom):(n.style.maxHeight=0,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom),n.style.overflow="hidden"},afterEnter(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow},beforeLeave(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.dataset.oldOverflow=n.style.overflow,n.style.maxHeight=`${n.scrollHeight}px`,n.style.overflow="hidden"},leave(n){n.scrollHeight!==0&&(n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0)},afterLeave(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom}};return(n,a)=>(N(),$(Bt,Ye({name:y(t).b()},wt(o)),{default:P(()=>[oe(n.$slots,"default")]),_:3},16,["name"]))}});var le=U(tn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);le.install=e=>{e.component(le.name,le)};const tt=le,En=tt,X="$treeNodeId",Me=function(e,t){!t||t[X]||Object.defineProperty(t,X,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Le=function(e,t){return e?t[e]:t[X]},xe=(e,t,o)=>{const n=e.value.currentNode;o();const a=e.value.currentNode;n!==a&&t("current-change",a?a.data:null,a)},Ke=e=>{let t=!0,o=!0,n=!0;for(let a=0,d=e.length;a<d;a++){const r=e[a];(r.checked!==!0||r.indeterminate)&&(t=!1,r.disabled||(n=!1)),(r.checked!==!1||r.indeterminate)&&(o=!1)}return{all:t,none:o,allWithoutDisable:n,half:!t&&!o}},re=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:o,half:n}=Ke(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):o&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||re(a)},de=function(e,t){const o=e.store.props,n=e.data||{},a=o[t];if(typeof a=="function")return a(n,e);if(typeof a=="string")return n[a];if(typeof a>"u"){const d=n[t];return d===void 0?"":d}};let nn=0;class j{constructor(t){this.id=nn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const o in t)Ce(t,o)&&(this[o]=t[o]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const o=t.props;if(o&&typeof o.isLeaf<"u"){const d=de(this,"isLeaf");typeof d=="boolean"&&(this.isLeafByUser=d)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Me(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,a=t.key;a&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),a&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Me(this,t),this.data=t,this.childNodes=[];let o;this.level===0&&Array.isArray(this.data)?o=this.data:o=de(this,"children")||[];for(let n=0,a=o.length;n<a;n++)this.insertChild({data:o[n]})}get label(){return de(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return de(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return t.childNodes[o+1]}return null}get previousSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return o>0?t.childNodes[o-1]:null}return null}contains(t,o=!0){return(this.childNodes||[]).some(n=>n===t||o&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,o,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof j)){if(!n){const a=this.getChildren(!0);a.includes(t.data)||(typeof o>"u"||o<0?a.push(t.data):a.splice(o,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=ee(new j(t)),t instanceof j&&t.initialize()}t.level=this.level+1,typeof o>"u"||o<0?this.childNodes.push(t):this.childNodes.splice(o,0,t),this.updateLeafState()}insertBefore(t,o){let n;o&&(n=this.childNodes.indexOf(o)),this.insertChild(t,n)}insertAfter(t,o){let n;o&&(n=this.childNodes.indexOf(o),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const o=this.getChildren()||[],n=o.indexOf(t.data);n>-1&&o.splice(n,1);const a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(t){let o=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){o=this.childNodes[n];break}o&&this.removeChild(o)}expand(t,o){const n=()=>{if(o){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Array.isArray(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||re(this),n())}):n()}doCreateChildren(t,o={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},o),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,o,n,a){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:r,allWithoutDisable:s}=Ke(this.childNodes);!this.isLeaf&&!r&&s&&(this.checked=!1,t=!1);const i=()=>{if(o){const l=this.childNodes;for(let u=0,h=l.length;u<h;u++){const p=l[u];a=a||t!==!1;const g=p.disabled?p.checked:a;p.setChecked(g,o,!0,a)}const{half:c,all:f}=Ke(l);f||(this.checked=f,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{i(),re(this)},{checked:t!==!1});return}else i()}const d=this.parent;!d||d.level===0||n||re(d)}getChildren(t=!1){if(this.level===0)return this.data;const o=this.data;if(!o)return null;const n=this.store.props;let a="children";return n&&(a=n.children||"children"),o[a]===void 0&&(o[a]=null),t&&!o[a]&&(o[a]=[]),o[a]}updateChildren(){const t=this.getChildren()||[],o=this.childNodes.map(d=>d.data),n={},a=[];t.forEach((d,r)=>{const s=d[X];!!s&&o.findIndex(l=>l[X]===s)>=0?n[s]={index:r,data:d}:a.push({index:r,data:d})}),this.store.lazy||o.forEach(d=>{n[d[X]]||this.removeChildByData(d)}),a.forEach(({index:d,data:r})=>{this.insertChild({data:r},d)}),this.updateLeafState()}loadData(t,o={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(o).length)){this.loading=!0;const n=a=>{this.childNodes=[],this.doCreateChildren(a,o),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,a)};this.store.load(this,n)}else t&&t.call(this)}}class on{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const o in t)Ce(t,o)&&(this[o]=t[o]);this.nodesMap={}}initialize(){if(this.root=new j({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,o=>{this.root.doCreateChildren(o),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const o=this.filterNodeMethod,n=this.lazy,a=function(d){const r=d.root?d.root.childNodes:d.childNodes;if(r.forEach(s=>{s.visible=o.call(s,t,s.data,s),a(s)}),!d.visible&&r.length){let s=!0;s=!r.some(i=>i.visible),d.root?d.root.visible=s===!1:d.visible=s===!1}t&&d.visible&&!d.isLeaf&&!n&&d.expand()};a(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof j)return t;const o=Ue(t)?Le(this.key,t):t;return this.nodesMap[o]||null}insertBefore(t,o){const n=this.getNode(o);n.parent.insertBefore({data:t},n)}insertAfter(t,o){const n=this.getNode(o);n.parent.insertAfter({data:t},n)}remove(t){const o=this.getNode(t);o&&o.parent&&(o===this.currentNode&&(this.currentNode=null),o.parent.removeChild(o))}append(t,o){const n=o?this.getNode(o):this.root;n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],o=this.nodesMap;t.forEach(n=>{const a=o[n];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const o=this.key;!t||!t.data||(o?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,o=!1){const n=[],a=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(s=>{(s.checked||o&&s.indeterminate)&&(!t||t&&s.isLeaf)&&n.push(s.data),a(s)})};return a(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(o=>(o||{})[this.key])}getHalfCheckedNodes(){const t=[],o=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(d=>{d.indeterminate&&t.push(d.data),o(d)})};return o(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],o=this.nodesMap;for(const n in o)Ce(o,n)&&t.push(o[n]);return t}updateChildren(t,o){const n=this.nodesMap[t];if(!n)return;const a=n.childNodes;for(let d=a.length-1;d>=0;d--){const r=a[d];this.remove(r.data)}for(let d=0,r=o.length;d<r;d++){const s=o[d];this.append(s,n.data)}}_setCheckedKeys(t,o=!1,n){const a=this._getAllNodes().sort((s,i)=>i.level-s.level),d=Object.create(null),r=Object.keys(n);a.forEach(s=>s.setChecked(!1,!1));for(let s=0,i=a.length;s<i;s++){const l=a[s],c=l.data[t].toString();if(!r.includes(c)){l.checked&&!d[c]&&l.setChecked(!1,!1);continue}let u=l.parent;for(;u&&u.level>0;)d[u.data[t]]=!0,u=u.parent;if(l.isLeaf||this.checkStrictly){l.setChecked(!0,!1);continue}if(l.setChecked(!0,!0),o){l.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(k=>{k.isLeaf||k.setChecked(!1,!1),h(k)})};h(l)}}}setCheckedNodes(t,o=!1){const n=this.key,a={};t.forEach(d=>{a[(d||{})[n]]=!0}),this._setCheckedKeys(n,o,a)}setCheckedKeys(t,o=!1){this.defaultCheckedKeys=t;const n=this.key,a={};t.forEach(d=>{a[d]=!0}),this._setCheckedKeys(n,o,a)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(o=>{const n=this.getNode(o);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,o,n){const a=this.getNode(t);a&&a.setChecked(!!o,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const o=this.currentNode;o&&(o.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,o=!0){const n=t[this.key],a=this.nodesMap[n];this.setCurrentNode(a),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,o=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const an=I({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=z("tree"),o=A("NodeInstance"),n=A("RootTree");return()=>{const a=e.node,{data:d,store:r}=a;return e.renderContent?e.renderContent(Oe,{_self:o,node:a,data:d,store:r}):n.ctx.slots.default?n.ctx.slots.default({node:a,data:d}):Oe("span",{class:t.be("node","label")},[a.label])}}});var sn=U(an,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function nt(e){const t=A("TreeNodeMap",null),o={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(o),Z("TreeNodeMap",o),{broadcastExpanded:n=>{if(e.accordion)for(const a of o.children)a.treeNodeExpand(n)}}}const ot=Symbol("dragEvents");function dn({props:e,ctx:t,el$:o,dropIndicator$:n,store:a}){const d=z("tree"),r=B({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Z(ot,{treeNodeDragStart:({event:c,treeNode:f})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(f.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}r.value.draggingNode=f,t.emit("node-drag-start",f.node,c)},treeNodeDragOver:({event:c,treeNode:f})=>{const u=f,h=r.value.dropNode;h&&h.node.id!==u.node.id&&ye(h.$el,d.is("drop-inner"));const p=r.value.draggingNode;if(!p||!u)return;let g=!0,k=!0,b=!0,K=!0;typeof e.allowDrop=="function"&&(g=e.allowDrop(p.node,u.node,"prev"),K=k=e.allowDrop(p.node,u.node,"inner"),b=e.allowDrop(p.node,u.node,"next")),c.dataTransfer.dropEffect=k||g||b?"move":"none",(g||k||b)&&(h==null?void 0:h.node.id)!==u.node.id&&(h&&t.emit("node-drag-leave",p.node,h.node,c),t.emit("node-drag-enter",p.node,u.node,c)),(g||k||b)&&(r.value.dropNode=u),u.node.nextSibling===p.node&&(b=!1),u.node.previousSibling===p.node&&(g=!1),u.node.contains(p.node,!1)&&(k=!1),(p.node===u.node||p.node.contains(u.node))&&(g=!1,k=!1,b=!1);const V=u.$el.getBoundingClientRect(),R=o.value.getBoundingClientRect();let L;const ae=g?k?.25:b?.45:1:-1,se=b?k?.75:g?.55:0:1;let W=-9999;const m=c.clientY-V.top;m<V.height*ae?L="before":m>V.height*se?L="after":k?L="inner":L="none";const D=u.$el.querySelector(`.${d.be("node","expand-icon")}`).getBoundingClientRect(),w=n.value;L==="before"?W=D.top-R.top:L==="after"&&(W=D.bottom-R.top),w.style.top=`${W}px`,w.style.left=`${D.right-R.left}px`,L==="inner"?yt(u.$el,d.is("drop-inner")):ye(u.$el,d.is("drop-inner")),r.value.showDropIndicator=L==="before"||L==="after",r.value.allowDrop=r.value.showDropIndicator||K,r.value.dropType=L,t.emit("node-drag-over",p.node,u.node,c)},treeNodeDragEnd:c=>{const{draggingNode:f,dropType:u,dropNode:h}=r.value;if(c.preventDefault(),c.dataTransfer.dropEffect="move",f&&h){const p={data:f.node.data};u!=="none"&&f.node.remove(),u==="before"?h.node.parent.insertBefore(p,h.node):u==="after"?h.node.parent.insertAfter(p,h.node):u==="inner"&&h.node.insertChild(p),u!=="none"&&a.value.registerNode(p),ye(h.$el,d.is("drop-inner")),t.emit("node-drag-end",f.node,h.node,u,c),u!=="none"&&t.emit("node-drop",f.node,h.node,u,c)}f&&!h&&t.emit("node-drag-end",f.node,null,u,c),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}const ln=I({name:"ElTreeNode",components:{ElCollapseTransition:tt,ElCheckbox:_t,NodeContent:sn,ElIcon:kt,Loading:mt},props:{node:{type:j,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const o=z("tree"),{broadcastExpanded:n}=nt(e),a=A("RootTree"),d=B(!1),r=B(!1),s=B(null),i=B(null),l=B(null),c=A(ot),f=fe();Z("NodeInstance",f),e.node.expanded&&(d.value=!0,r.value=!0);const u=a.props.children||"children";T(()=>{const m=e.node.data[u];return m&&[...m]},()=>{e.node.updateChildren()}),T(()=>e.node.indeterminate,m=>{g(e.node.checked,m)}),T(()=>e.node.checked,m=>{g(m,e.node.indeterminate)}),T(()=>e.node.expanded,m=>{M(()=>d.value=m),m&&(r.value=!0)});const h=m=>Le(a.props.nodeKey,m.data),p=m=>{const D=e.props.class;if(!D)return{};let w;if(St(D)){const{data:ge}=m;w=D(ge,m)}else w=D;return be(w)?{[w]:!0}:w},g=(m,D)=>{(s.value!==m||i.value!==D)&&a.ctx.emit("check-change",e.node.data,m,D),s.value=m,i.value=D},k=m=>{xe(a.store,a.ctx.emit,()=>a.store.value.setCurrentNode(e.node)),a.currentNode.value=e.node,a.props.expandOnClickNode&&K(),a.props.checkOnClickNode&&!e.node.disabled&&V(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,f,m)},b=m=>{a.instance.vnode.props.onNodeContextmenu&&(m.stopPropagation(),m.preventDefault()),a.ctx.emit("node-contextmenu",m,e.node.data,e.node,f)},K=()=>{e.node.isLeaf||(d.value?(a.ctx.emit("node-collapse",e.node.data,e.node,f),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,f)))},V=(m,D)=>{e.node.setChecked(D.target.checked,!a.props.checkStrictly),M(()=>{const w=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:w.getCheckedNodes(),checkedKeys:w.getCheckedKeys(),halfCheckedNodes:w.getHalfCheckedNodes(),halfCheckedKeys:w.getHalfCheckedKeys()})})};return{ns:o,node$:l,tree:a,expanded:d,childNodeRendered:r,oldChecked:s,oldIndeterminate:i,getNodeKey:h,getNodeClass:p,handleSelectChange:g,handleClick:k,handleContextMenu:b,handleExpandIconClick:K,handleCheckChange:V,handleChildNodeExpand:(m,D,w)=>{n(D),a.ctx.emit("node-expand",m,D,w)},handleDragStart:m=>{a.props.draggable&&c.treeNodeDragStart({event:m,treeNode:e})},handleDragOver:m=>{m.preventDefault(),a.props.draggable&&c.treeNodeDragOver({event:m,treeNode:{$el:l.value,node:e.node}})},handleDrop:m=>{m.preventDefault()},handleDragEnd:m=>{a.props.draggable&&c.treeNodeDragEnd(m)},CaretRight:bt}}}),rn=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],un=["aria-expanded"];function cn(e,t,o,n,a,d){const r=O("el-icon"),s=O("el-checkbox"),i=O("loading"),l=O("node-content"),c=O("el-tree-node"),f=O("el-collapse-transition");return G((N(),S("div",{ref:"node$",class:x([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=q((...u)=>e.handleClick&&e.handleClick(...u),["stop"])),onContextmenu:t[2]||(t[2]=(...u)=>e.handleContextMenu&&e.handleContextMenu(...u)),onDragstart:t[3]||(t[3]=q((...u)=>e.handleDragStart&&e.handleDragStart(...u),["stop"])),onDragover:t[4]||(t[4]=q((...u)=>e.handleDragOver&&e.handleDragOver(...u),["stop"])),onDragend:t[5]||(t[5]=q((...u)=>e.handleDragEnd&&e.handleDragEnd(...u),["stop"])),onDrop:t[6]||(t[6]=q((...u)=>e.handleDrop&&e.handleDrop(...u),["stop"]))},[ne("div",{class:x(e.ns.be("node","content")),style:We({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(N(),$(r,{key:0,class:x([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:q(e.handleExpandIconClick,["stop"])},{default:P(()=>[(N(),$(Be(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):F("v-if",!0),e.showCheckbox?(N(),$(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=q(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):F("v-if",!0),e.node.loading?(N(),$(r,{key:2,class:x([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:P(()=>[J(i)]),_:1},8,["class"])):F("v-if",!0),J(l,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),J(f,null,{default:P(()=>[!e.renderAfterExpand||e.childNodeRendered?G((N(),S("div",{key:0,class:x(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(N(!0),S(pe,null,Se(e.node.childNodes,u=>(N(),$(c,{key:e.getNodeKey(u),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:u,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,un)),[[Ne,e.expanded]]):F("v-if",!0)]),_:1})],42,rn)),[[Ne,e.node.visible]])}var hn=U(ln,[["render",cn],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function fn({el$:e},t){const o=z("tree"),n=Pe([]),a=Pe([]);Je(()=>{r()}),Tt(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),T(a,s=>{s.forEach(i=>{i.setAttribute("tabindex","-1")})}),Ct(e,"keydown",s=>{const i=s.target;if(!i.className.includes(o.b("node")))return;const l=s.code;n.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`));const c=n.value.indexOf(i);let f;if([H.up,H.down].includes(l)){if(s.preventDefault(),l===H.up){f=c===-1?0:c!==0?c-1:n.value.length-1;const h=f;for(;!t.value.getNode(n.value[f].dataset.key).canFocus;){if(f--,f===h){f=-1;break}f<0&&(f=n.value.length-1)}}else{f=c===-1?0:c<n.value.length-1?c+1:0;const h=f;for(;!t.value.getNode(n.value[f].dataset.key).canFocus;){if(f++,f===h){f=-1;break}f>=n.value.length&&(f=0)}}f!==-1&&n.value[f].focus()}[H.left,H.right].includes(l)&&(s.preventDefault(),i.click());const u=i.querySelector('[type="checkbox"]');[H.enter,H.space].includes(l)&&u&&(s.preventDefault(),u.click())});const r=()=>{var s;n.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const i=e.value.querySelectorAll(`.${o.is("checked")}[role=treeitem]`);if(i.length){i[0].setAttribute("tabindex","0");return}(s=n.value[0])==null||s.setAttribute("tabindex","0")}}const pn=I({name:"ElTree",components:{ElTreeNode:hn},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Nt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:o}=Et(),n=z("tree"),a=B(new on({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const d=B(a.value.root),r=B(null),s=B(null),i=B(null),{broadcastExpanded:l}=nt(e),{dragState:c}=dn({props:e,ctx:t,el$:s,dropIndicator$:i,store:a});fn({el$:s},a);const f=E(()=>{const{childNodes:v}=d.value;return!v||v.length===0||v.every(({visible:C})=>!C)});T(()=>e.currentNodeKey,v=>{a.value.setCurrentNodeKey(v)}),T(()=>e.defaultCheckedKeys,v=>{a.value.setDefaultCheckedKey(v)}),T(()=>e.defaultExpandedKeys,v=>{a.value.setDefaultExpandedKeys(v)}),T(()=>e.data,v=>{a.value.setData(v)},{deep:!0}),T(()=>e.checkStrictly,v=>{a.value.checkStrictly=v});const u=v=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(v)},h=v=>Le(e.nodeKey,v.data),p=v=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const C=a.value.getNode(v);if(!C)return[];const Y=[C.data];let _=C.parent;for(;_&&_!==d.value;)Y.push(_.data),_=_.parent;return Y.reverse()},g=(v,C)=>a.value.getCheckedNodes(v,C),k=v=>a.value.getCheckedKeys(v),b=()=>{const v=a.value.getCurrentNode();return v?v.data:null},K=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const v=b();return v?v[e.nodeKey]:null},V=(v,C)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(v,C)},R=(v,C)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(v,C)},L=(v,C,Y)=>{a.value.setChecked(v,C,Y)},ae=()=>a.value.getHalfCheckedNodes(),se=()=>a.value.getHalfCheckedKeys(),W=(v,C=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");xe(a,t.emit,()=>a.value.setUserCurrentNode(v,C))},m=(v,C=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");xe(a,t.emit,()=>a.value.setCurrentNodeKey(v,C))},D=v=>a.value.getNode(v),w=v=>{a.value.remove(v)},ge=(v,C)=>{a.value.append(v,C)},st=(v,C)=>{a.value.insertBefore(v,C)},dt=(v,C)=>{a.value.insertAfter(v,C)},lt=(v,C,Y)=>{l(C),t.emit("node-expand",v,C,Y)},rt=(v,C)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(v,C)};return Z("RootTree",{ctx:t,props:e,store:a,root:d,currentNode:r,instance:fe()}),Z(xt,void 0),{ns:n,store:a,root:d,currentNode:r,dragState:c,el$:s,dropIndicator$:i,isEmpty:f,filter:u,getNodeKey:h,getNodePath:p,getCheckedNodes:g,getCheckedKeys:k,getCurrentNode:b,getCurrentKey:K,setCheckedNodes:V,setCheckedKeys:R,setChecked:L,getHalfCheckedNodes:ae,getHalfCheckedKeys:se,setCurrentNode:W,setCurrentKey:m,t:o,getNode:D,remove:w,append:ge,insertBefore:st,insertAfter:dt,handleNodeExpand:lt,updateKeyChildren:rt}}});function vn(e,t,o,n,a,d){const r=O("el-tree-node");return N(),S("div",{ref:"el$",class:x([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(N(!0),S(pe,null,Se(e.root.childNodes,s=>(N(),$(r,{key:e.getNodeKey(s),node:s,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(N(),S("div",{key:0,class:x(e.ns.e("empty-block"))},[oe(e.$slots,"empty",{},()=>{var s;return[ne("span",{class:x(e.ns.e("empty-text"))},ve((s=e.emptyText)!=null?s:e.t("el.tree.emptyText")),3)]})],2)):F("v-if",!0),G(ne("div",{ref:"dropIndicator$",class:x(e.ns.e("drop-indicator"))},null,2),[[Ne,e.dragState.showDropIndicator]])],2)}var ie=U(pn,[["render",vn],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);ie.install=e=>{e.component(ie.name,ie)};const gn=ie,at=gn;function yn(e,{emit:t,treeRef:o}){const n=B("");T(n,s=>{var i;(i=o.value)==null||i.filter(s)});const a=E(()=>Array.isArray(e.modelValue)?e.modelValue.length?"":e.placeholder:typeof e.modelValue=="string"?e.modelValue?"":e.placeholder:""),d=E(()=>{var s,i,l;if(e.multiple)return((s=o.value)==null?void 0:s.getCheckedNodes(!e.checkStrictly))??[];{const c=(l=(i=o.value)==null?void 0:i.getNode(e.modelValue))==null?void 0:l.data;return c?[c]:[]}});function r(s){const i=e.multiple?e.modelValue.filter(l=>l!==s[e.nodeKey]):"";t("update:modelValue",i)}return{checkedNodes:d,inputProps:{...Te(e,Object.keys(Ge.props)),placeholder:a,modelValue:n,"onUpdate:modelValue":s=>n.value=s},tagProps:{type:E(()=>e.tagType),closable:!0,onClose:r}}}function kn(e,{emit:t,treeRef:o}){const n=Lt();T(()=>e.modelValue,()=>{e.multiple?M(()=>{var s,i;Ee((s=o.value)==null?void 0:s.getCheckedKeys(),e.modelValue||[])||(i=o.value)==null||i.setCheckedKeys(e.modelValue)}):M(()=>{var s,i;Ee((s=o.value)==null?void 0:s.getCurrentKey(),e.modelValue)||(i=o.value)==null||i.setCurrentKey(e.modelValue||void 0)})},{immediate:!0,deep:!0});function a(s,i,l){if(e.multiple&&e.checkOnClickNode)return;const c=s[e.nodeKey];!e.multiple&&(e.checkStrictly||i.isLeaf)?t("update:modelValue",c):e.expandOnClickNode&&l.proxy.handleExpandIconClick(),M(()=>{var f,u;(f=o.value)==null||f.setCurrentKey(e.modelValue||void 0),(u=n.onNodeClick)==null||u.call(n,s,i,l)})}function d(s,{checkedKeys:i}){var l;e.multiple&&(e.checkStrictly?t("update:modelValue",i):t("update:modelValue",(l=o.value)==null?void 0:l.getCheckedKeys(!0)),M(()=>{var c,f,u,h,p,g;(c=o.value)==null||c.setCheckedKeys(e.modelValue),(g=n.onCheck)==null||g.call(n,s,{checkedKeys:(f=o.value)==null?void 0:f.getCheckedKeys(),checkedNodes:(u=o.value)==null?void 0:u.getCheckedNodes(),halfCheckedKeys:(h=o.value)==null?void 0:h.getHalfCheckedKeys(),halfCheckedNodes:(p=o.value)==null?void 0:p.getHalfCheckedNodes()})}))}function r(s,i,l){return e.filterNodeMethod?e.filterNodeMethod(s,i,l):s?i.label.includes(s):!0}return{...Te(e,Object.keys(at.props)),ref:s=>o.value=s,showCheckbox:E(()=>e.multiple),highlightCurrent:E(()=>!e.multiple),expandOnClickNode:E(()=>!e.checkStrictly&&e.expandOnClickNode),filterNodeMethod:r,onNodeClick:a,onCheck:d}}const xn=I({__name:"index",props:{data:{},emptyText:{},renderAfterExpand:{type:Boolean},nodeKey:{default:"value"},checkStrictly:{type:Boolean},expandOnClickNode:{type:Boolean},defaultExpandAll:{type:Boolean},checkOnClickNode:{type:Boolean},checkDescendants:{type:Boolean},autoExpandParent:{type:Boolean},defaultCheckedKeys:{},defaultExpandedKeys:{},currentNodeKey:{},renderContent:{},showCheckbox:{type:Boolean},draggable:{type:Boolean},allowDrag:{},allowDrop:{},props:{},lazy:{type:Boolean},highlightCurrent:{type:Boolean},load:{},filterNodeMethod:{},accordion:{type:Boolean},indent:{},icon:{},id:{},size:{},disabled:{type:Boolean},type:{},resize:{},autosize:{},autocomplete:{},formatter:{},parser:{},placeholder:{default:"输入关键字搜索"},form:{},readonly:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},showWordLimit:{type:Boolean},suffixIcon:{},prefixIcon:{},containerRole:{},label:{},tabindex:{},validateEvent:{type:Boolean},inputStyle:{},modelValue:{},multiple:{type:Boolean},tagType:{default:"info"}},emits:["update:modelValue"],setup(e,{expose:t,emit:o}){const n=e,a=B(),d=kn(n,{emit:o,treeRef:a}),{inputProps:r,tagProps:s,checkedNodes:i}=yn(n,{emit:o,treeRef:a}),l=ee({});return t(l),Je(()=>{const c=Kt(a.value??{},f=>typeof f=="function");Object.assign(l,c)}),(c,f)=>{const u=O("el-tag"),h=O("el-space");return N(),S("div",null,[J(y(Ge),ze(Ve(ee(y(r)))),{prefix:P(()=>[J(h,{wrap:""},{default:P(()=>[(N(!0),S(pe,null,Se(y(i),p=>(N(),$(u,Ye({key:p[c.nodeKey]},ee(y(s))),{default:P(()=>[we(ve(p.label),1)]),_:2},1040))),128))]),_:1})]),_:1},16),J(y(at),ze(Ve(ee(y(d)))),null,16)])}}});export{_t as E,xn as _,tt as a,Nn as b,gn as c,Cn as d,En as e,at as f,Ee as i,Te as p};
