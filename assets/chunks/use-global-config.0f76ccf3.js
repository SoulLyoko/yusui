import{O as I,q as v,M as m,a as s,B as c,a0 as b}from"./framework.1859beb2.js";import{aJ as y,aK as _,aL as O,aM as K,aN as Z,aO as N,aP as S}from"./index.ac4e533a.js";import{g as j}from"./get.45bf40f8.js";import{s as k}from"./set.d8392183.js";const f=n=>Object.keys(n),J=n=>Object.entries(n),M=(n,t,o)=>({get value(){return j(n,t,o)},set value(a){k(n,t,a)}}),x=I(0),g=2e3,p=Symbol("zIndexContextKey"),E=n=>{const t=n||(v()?m(p,void 0):void 0),o=s(()=>{const r=c(t);return y(r)?r:g}),a=s(()=>o.value+x.value);return{initialZIndex:o,currentZIndex:a,nextZIndex:()=>(x.value++,a.value)}},z=Symbol(),i=I();function C(n,t=void 0){const o=v()?m(z,i):i;return n?s(()=>{var a,l;return(l=(a=o.value)==null?void 0:a[n])!=null?l:t}):o}function w(n,t){const o=C(),a=Z(n,s(()=>{var e;return((e=o.value)==null?void 0:e.namespace)||N})),l=S(s(()=>{var e;return(e=o.value)==null?void 0:e.locale})),r=E(s(()=>{var e;return((e=o.value)==null?void 0:e.zIndex)||g})),u=s(()=>{var e;return c(t)||((e=o.value)==null?void 0:e.size)||""});return G(s(()=>c(o)||{})),{ns:a,locale:l,zIndex:r,size:u}}const G=(n,t,o=!1)=>{var a;const l=!!v(),r=l?C():void 0,u=(a=t==null?void 0:t.provide)!=null?a:l?b:void 0;if(!u)return;const e=s(()=>{const d=c(n);return r!=null&&r.value?L(r.value,d):d});return u(z,e),u(_,s(()=>e.value.locale)),u(O,s(()=>e.value.namespace)),u(p,s(()=>e.value.zIndex)),u(K,{size:s(()=>e.value.size||"")}),(o||!i.value)&&(i.value=e.value),e},L=(n,t)=>{var o;const a=[...new Set([...f(n),...f(t)])],l={};for(const r of a)l[r]=(o=t[r])!=null?o:n[r];return l};export{C as a,E as b,J as e,M as g,f as k,G as p,w as u};
