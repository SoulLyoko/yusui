import{c as Vx,b as $x,e as Kx,f as qx,d as Zx,g as Jx,h as Qx,j as eE,k as tE,l as nE,m as rE,n as oE,o as i0,p as iE,q as aE,r as uE,s as sE,t as cE,v as lE,w as fE,x as pE,y as hE,z as dE,A as yE,B as vE,C as gE,D as mE,E as bE,F as _E,G as OE,H as wE,I as xE,J as EE,K as SE,L as jE,M as PE,N as ME,O as AE,P as TE,Q as kE,R as DE,S as NE,T as CE,U as IE,V as RE,W as LE,a as zE,X as BE,Y as FE,Z as WE,_ as GE,$ as HE,a0 as XE,a1 as UE,a2 as YE,a3 as VE,a4 as $E,a5 as KE,a6 as qE,a7 as a0,a8 as u0,a9 as ZE,aa as JE,ab as QE,ac as eS,ad as tS,ae as nS,af as rS,ag as oS,ah as iS,ai as aS,aj as uS,ak as sS,al as cS,am as lS,an as fS,ao as pS,ap as hS,aq as dS,ar as yS,as as vS,at as gS,au as mS,av as bS,aw as _S,ax as OS,ay as wS,az as xS,aA as ES,aB as SS,aC as jS,aD as PS,aE as MS,aF as AS,aG as TS,aH as kS,aI as DS,aJ as NS,aK as CS,aL as IS,aM as RS,aN as LS,aO as zS,aP as BS,aQ as FS,aR as WS,aS as GS,aT as HS,aU as XS,aV as US,aW as YS,aX as VS,aY as $S,aZ as KS,a_ as qS,a$ as ZS,b0 as JS,b1 as QS,b2 as ej,b3 as tj,b4 as nj,b5 as rj,i as oj,b6 as ij,b7 as aj,b8 as uj,b9 as sj,ba as cj,bb as lj,bc as fj,bd as pj,be as hj,bf as dj,bg as yj,bh as vj,bi as gj,bj as mj,bk as bj,bl as _j,bm as Oj,bn as wj,bo as xj,bp as Ej,bq as Sj,br as jj,bs as Pj,bt as Mj,bu as Aj,bv as Tj,bw as s0,bx as c0,by as kj,bz as Dj,bA as Nj,bB as Cj,bC as Ij,bD as l0,bE as f0,bF as Rj,bG as Lj,bH as zj,bI as Bj,bJ as Fj,bK as Wj,bL as Gj,bM as Hj,bN as Xj,bO as Uj,bP as Yj,bQ as Vj,bR as $j,bS as Kj,bT as qj,bU as Zj,bV as Jj,bW as Qj,bX as e2,bY as t2,bZ as n2,b_ as r2,b$ as o2,c0 as i2,c1 as a2,c2 as u2,c3 as W,c4 as s2,c5 as c2,c6 as l2,c7 as f2,c8 as pg,c9 as p2,ca as Qv,cb as h2,cc as d2,cd as y2,ce as v2,cf as g2,cg as m2,ch as b2,ci as _2,cj as O2,ck as w2,cl as x2,cm as E2,cn as S2,co as j2,cp as P2,cq as M2,cr as A2,cs as T2,ct as k2,cu as D2,cv as N2,cw as C2,cx as I2,cy as R2,cz as L2,cA as z2,cB as B2,cC as F2,cD as W2,cE as G2,cF as H2,cG as X2,cH as U2,cI as Y2,cJ as V2,cK as $2,cL as K2,cM as q2,cN as Z2,cO as J2,cP as c_,cQ as Q2,cR as eP,cS as tP,cT as nP,cU as rP,cV as oP,cW as iP,cX as aP,cY as uP,cZ as sP,c_ as cP,u as lP,c$ as Ln,d0 as fP,d1 as pP,d2 as Ch,d3 as hP,d4 as dP,d5 as yP}from"./zipWith.c1dbda15.js";import{q as vP,g as gP,d as Pc,k as mP,i as hg,h as bP,a as _P,t as OP,S as p0}from"./baseGet.de748d67.js";import{c as mf,i as wP,a as xP,d as Ac}from"./cloneDeep.107df971.js";import{l as EP,e as SP,h as jP,o as PP,j as MP,k as AP,s as TP,n as kP}from"./baseSet.af584b72.js";import{l as l_,o as DP,a as dg}from"./omit.941c93ff.js";import{p as NP,e as CP,a as f_}from"./pickBy.bfc00960.js";import{c as IP,i as RP,t as LP,m as zP,b as BP}from"./merge.958938e5.js";import{d as FP,h as WP,e as GP,i as yg}from"./basePickBy.8321d4c1.js";import{k as vg,s as HP}from"./getTag.37655c57.js";import{a as eg}from"./initCloneObject.e5cb543d.js";import{n as gg,o as XP}from"./omitBy.560fb68d.js";import{f as UP,a as YP,u as VP,b as $P,m as KP,n as qP,d as ZP,t as p_,c as JP,e as QP,i as eM,g as tM,h as Ef,j as nM,k as rM}from"./union.84ac606f.js";import{g as oM}from"./get.198c11b5.js";import{p as iM}from"./pick.d18c515d.js";import{s as aM}from"./set.d72821b0.js";import{o as uM,s as sM,a as cM}from"./snakeCase.55ae7a36.js";import{i as lM}from"./isEqual.b51c3998.js";import{f as fM,i as pM}from"./isNil.990ccdb3.js";import{d as hM,w as dM}from"./createCompounder.ddb34af6.js";import{k as yM}from"./kebabCase.19a9d0b0.js";const ht={chunk:Vx,compact:$x,concat:Kx,difference:qx,differenceBy:Zx,differenceWith:Jx,drop:Qx,dropRight:eE,dropRightWhile:tE,dropWhile:nE,fill:rE,findIndex:oE,findLastIndex:UP,first:i0,flatten:FP,flattenDeep:YP,flattenDepth:iE,fromPairs:fM,head:i0,indexOf:aE,initial:uE,intersection:sE,intersectionBy:cE,intersectionWith:lE,join:fE,last:l_,lastIndexOf:pE,nth:hE,pull:dE,pullAll:yE,pullAllBy:vE,pullAllWith:gE,pullAt:mE,remove:bE,reverse:_E,slice:OE,sortedIndex:wE,sortedIndexBy:xE,sortedIndexOf:EE,sortedLastIndex:SE,sortedLastIndexBy:jE,sortedLastIndexOf:PE,sortedUniq:ME,sortedUniqBy:AE,tail:TE,take:kE,takeRight:DE,takeRightWhile:NE,takeWhile:CE,union:VP,unionBy:IE,unionWith:RE,uniq:LE,uniqBy:zE,uniqWith:BE,unzip:FE,unzipWith:WE,without:GE,xor:HE,xorBy:XE,xorWith:UE,zip:YE,zipObject:VE,zipObjectDeep:$E,zipWith:KE},Pn={countBy:qE,each:a0,eachRight:u0,every:ZE,filter:JE,find:QE,findLast:eS,flatMap:$P,flatMapDeep:tS,flatMapDepth:nS,forEach:a0,forEachRight:u0,groupBy:rS,includes:oS,invokeMap:iS,keyBy:aS,map:KP,orderBy:uM,partition:uS,reduce:sS,reduceRight:cS,reject:lS,sample:fS,sampleSize:pS,shuffle:hS,size:dS,some:yS,sortBy:vS},vM={now:qP},ar={after:gS,ary:mS,before:bS,bind:_S,bindKey:OS,curry:wS,curryRight:xS,debounce:ZP,defer:ES,delay:SS,flip:jS,memoize:vP,negate:gg,once:PS,overArgs:MS,partial:AS,partialRight:TS,rearg:kS,rest:DS,spread:NS,throttle:p_,unary:CS,wrap:IS},Tt={castArray:JP,clone:QP,cloneDeep:mf,cloneDeepWith:RS,cloneWith:LS,conformsTo:zS,eq:gP,gt:BS,gte:FS,isArguments:EP,isArray:Pc,isArrayBuffer:WS,isArrayLike:SP,isArrayLikeObject:IP,isBoolean:GS,isBuffer:jP,isDate:HS,isElement:XS,isEmpty:US,isEqual:lM,isEqualWith:YS,isError:VS,isFinite:$S,isFunction:mP,isInteger:KS,isLength:PP,isMap:wP,isMatch:qS,isMatchWith:ZS,isNaN:JS,isNative:QS,isNil:pM,isNull:ej,isNumber:tj,isObject:hg,isObjectLike:bP,isPlainObject:RP,isRegExp:nj,isSafeInteger:rj,isSet:xP,isString:oj,isSymbol:_P,isTypedArray:MP,isUndefined:eM,isWeakMap:ij,isWeakSet:aj,lt:uj,lte:sj,toArray:cj,toFinite:tM,toInteger:Ef,toLength:lj,toNumber:nM,toPlainObject:LP,toSafeInteger:fj,toString:OP},no={add:pj,ceil:hj,divide:dj,floor:yj,max:vj,maxBy:gj,mean:mj,meanBy:bj,min:_j,minBy:Oj,multiply:wj,round:xj,subtract:Ej,sum:Sj,sumBy:jj},mg={clamp:Pj,inRange:Mj,random:Aj},Xt={assign:Tj,assignIn:s0,assignInWith:c0,assignWith:kj,at:Dj,create:Nj,defaults:Cj,defaultsDeep:Ij,entries:l0,entriesIn:f0,extend:s0,extendWith:c0,findKey:Rj,findLastKey:Lj,forIn:zj,forInRight:Bj,forOwn:Fj,forOwnRight:Wj,functions:Gj,functionsIn:Hj,get:oM,has:Xj,hasIn:WP,invert:Uj,invertBy:Yj,invoke:Vj,keys:vg,keysIn:AP,mapKeys:$j,mapValues:Kj,merge:zP,mergeWith:qj,omit:DP,omitBy:XP,pick:iM,pickBy:NP,result:Zj,set:aM,setWith:Jj,toPairs:l0,toPairsIn:f0,transform:Qj,unset:e2,update:t2,updateWith:n2,values:r2,valuesIn:o2},Fi={at:i2,chain:a2,commit:u2,lodash:W,next:s2,plant:c2,reverse:l2,tap:f2,thru:pg,toIterator:p2,toJSON:Qv,value:Qv,valueOf:Qv,wrapperChain:h2},bn={camelCase:d2,capitalize:y2,deburr:hM,endsWith:v2,escape:g2,escapeRegExp:m2,kebabCase:yM,lowerCase:b2,lowerFirst:_2,pad:O2,padEnd:w2,padStart:x2,parseInt:E2,repeat:S2,replace:j2,snakeCase:sM,split:P2,startCase:M2,startsWith:A2,template:T2,templateSettings:k2,toLower:D2,toUpper:N2,trim:C2,trimEnd:I2,trimStart:R2,truncate:L2,unescape:z2,upperCase:B2,upperFirst:F2,words:dM},_n={attempt:W2,bindAll:G2,cond:H2,conforms:X2,constant:GP,defaultTo:U2,flow:Y2,flowRight:V2,identity:yg,iteratee:$2,matches:K2,matchesProperty:q2,method:Z2,methodOf:J2,mixin:c_,noop:rM,nthArg:Q2,over:eP,overEvery:tP,overSome:cM,property:CP,propertyOf:nP,range:rP,rangeRight:oP,stubArray:HP,stubFalse:TP,stubObject:iP,stubString:aP,stubTrue:uP,times:sP,toPath:cP,uniqueId:lP};function gM(){var y=new Ln(this.__wrapped__);return y.__actions__=eg(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=eg(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=eg(this.__views__),y}function mM(){if(this.__filtered__){var y=new Ln(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}var bM=Math.max,_M=Math.min;function OM(y,h,u){for(var l=-1,o=u.length;++l<o;){var f=u[l],p=f.size;switch(f.type){case"drop":y+=p;break;case"dropRight":h-=p;break;case"take":h=_M(h,y+p);break;case"takeRight":y=bM(y,h-p);break}}return{start:y,end:h}}var wM=1,xM=2,EM=Math.min;function SM(){var y=this.__wrapped__.value(),h=this.__dir__,u=Pc(y),l=h<0,o=u?y.length:0,f=OM(0,o,this.__views__),p=f.start,m=f.end,g=m-p,E=l?m:p-1,j=this.__iteratees__,S=j.length,k=0,T=EM(g,this.__takeCount__);if(!u||!l&&o==g&&T==g)return fP(y,this.__actions__);var C=[];e:for(;g--&&k<T;){E+=h;for(var N=-1,R=y[E];++N<S;){var G=j[N],X=G.iteratee,Q=G.type,ue=X(R);if(Q==xM)R=ue;else if(!ue){if(Q==wM)continue e;break e}}C[k++]=R}return C}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var jM="4.17.21",PM=2,MM=1,AM=3,h_=4294967295,TM=Array.prototype,kM=Object.prototype,d_=kM.hasOwnProperty,h0=p0?p0.iterator:void 0,DM=Math.max,d0=Math.min,bg=function(y){return function(h,u,l){if(l==null){var o=hg(u),f=o&&vg(u),p=f&&f.length&&dP(u,f);(p?p.length:o)||(l=u,u=h,h=this)}return y(h,u,l)}}(c_);W.after=ar.after;W.ary=ar.ary;W.assign=Xt.assign;W.assignIn=Xt.assignIn;W.assignInWith=Xt.assignInWith;W.assignWith=Xt.assignWith;W.at=Xt.at;W.before=ar.before;W.bind=ar.bind;W.bindAll=_n.bindAll;W.bindKey=ar.bindKey;W.castArray=Tt.castArray;W.chain=Fi.chain;W.chunk=ht.chunk;W.compact=ht.compact;W.concat=ht.concat;W.cond=_n.cond;W.conforms=_n.conforms;W.constant=_n.constant;W.countBy=Pn.countBy;W.create=Xt.create;W.curry=ar.curry;W.curryRight=ar.curryRight;W.debounce=ar.debounce;W.defaults=Xt.defaults;W.defaultsDeep=Xt.defaultsDeep;W.defer=ar.defer;W.delay=ar.delay;W.difference=ht.difference;W.differenceBy=ht.differenceBy;W.differenceWith=ht.differenceWith;W.drop=ht.drop;W.dropRight=ht.dropRight;W.dropRightWhile=ht.dropRightWhile;W.dropWhile=ht.dropWhile;W.fill=ht.fill;W.filter=Pn.filter;W.flatMap=Pn.flatMap;W.flatMapDeep=Pn.flatMapDeep;W.flatMapDepth=Pn.flatMapDepth;W.flatten=ht.flatten;W.flattenDeep=ht.flattenDeep;W.flattenDepth=ht.flattenDepth;W.flip=ar.flip;W.flow=_n.flow;W.flowRight=_n.flowRight;W.fromPairs=ht.fromPairs;W.functions=Xt.functions;W.functionsIn=Xt.functionsIn;W.groupBy=Pn.groupBy;W.initial=ht.initial;W.intersection=ht.intersection;W.intersectionBy=ht.intersectionBy;W.intersectionWith=ht.intersectionWith;W.invert=Xt.invert;W.invertBy=Xt.invertBy;W.invokeMap=Pn.invokeMap;W.iteratee=_n.iteratee;W.keyBy=Pn.keyBy;W.keys=vg;W.keysIn=Xt.keysIn;W.map=Pn.map;W.mapKeys=Xt.mapKeys;W.mapValues=Xt.mapValues;W.matches=_n.matches;W.matchesProperty=_n.matchesProperty;W.memoize=ar.memoize;W.merge=Xt.merge;W.mergeWith=Xt.mergeWith;W.method=_n.method;W.methodOf=_n.methodOf;W.mixin=bg;W.negate=gg;W.nthArg=_n.nthArg;W.omit=Xt.omit;W.omitBy=Xt.omitBy;W.once=ar.once;W.orderBy=Pn.orderBy;W.over=_n.over;W.overArgs=ar.overArgs;W.overEvery=_n.overEvery;W.overSome=_n.overSome;W.partial=ar.partial;W.partialRight=ar.partialRight;W.partition=Pn.partition;W.pick=Xt.pick;W.pickBy=Xt.pickBy;W.property=_n.property;W.propertyOf=_n.propertyOf;W.pull=ht.pull;W.pullAll=ht.pullAll;W.pullAllBy=ht.pullAllBy;W.pullAllWith=ht.pullAllWith;W.pullAt=ht.pullAt;W.range=_n.range;W.rangeRight=_n.rangeRight;W.rearg=ar.rearg;W.reject=Pn.reject;W.remove=ht.remove;W.rest=ar.rest;W.reverse=ht.reverse;W.sampleSize=Pn.sampleSize;W.set=Xt.set;W.setWith=Xt.setWith;W.shuffle=Pn.shuffle;W.slice=ht.slice;W.sortBy=Pn.sortBy;W.sortedUniq=ht.sortedUniq;W.sortedUniqBy=ht.sortedUniqBy;W.split=bn.split;W.spread=ar.spread;W.tail=ht.tail;W.take=ht.take;W.takeRight=ht.takeRight;W.takeRightWhile=ht.takeRightWhile;W.takeWhile=ht.takeWhile;W.tap=Fi.tap;W.throttle=ar.throttle;W.thru=pg;W.toArray=Tt.toArray;W.toPairs=Xt.toPairs;W.toPairsIn=Xt.toPairsIn;W.toPath=_n.toPath;W.toPlainObject=Tt.toPlainObject;W.transform=Xt.transform;W.unary=ar.unary;W.union=ht.union;W.unionBy=ht.unionBy;W.unionWith=ht.unionWith;W.uniq=ht.uniq;W.uniqBy=ht.uniqBy;W.uniqWith=ht.uniqWith;W.unset=Xt.unset;W.unzip=ht.unzip;W.unzipWith=ht.unzipWith;W.update=Xt.update;W.updateWith=Xt.updateWith;W.values=Xt.values;W.valuesIn=Xt.valuesIn;W.without=ht.without;W.words=bn.words;W.wrap=ar.wrap;W.xor=ht.xor;W.xorBy=ht.xorBy;W.xorWith=ht.xorWith;W.zip=ht.zip;W.zipObject=ht.zipObject;W.zipObjectDeep=ht.zipObjectDeep;W.zipWith=ht.zipWith;W.entries=Xt.toPairs;W.entriesIn=Xt.toPairsIn;W.extend=Xt.assignIn;W.extendWith=Xt.assignInWith;bg(W,W);W.add=no.add;W.attempt=_n.attempt;W.camelCase=bn.camelCase;W.capitalize=bn.capitalize;W.ceil=no.ceil;W.clamp=mg.clamp;W.clone=Tt.clone;W.cloneDeep=Tt.cloneDeep;W.cloneDeepWith=Tt.cloneDeepWith;W.cloneWith=Tt.cloneWith;W.conformsTo=Tt.conformsTo;W.deburr=bn.deburr;W.defaultTo=_n.defaultTo;W.divide=no.divide;W.endsWith=bn.endsWith;W.eq=Tt.eq;W.escape=bn.escape;W.escapeRegExp=bn.escapeRegExp;W.every=Pn.every;W.find=Pn.find;W.findIndex=ht.findIndex;W.findKey=Xt.findKey;W.findLast=Pn.findLast;W.findLastIndex=ht.findLastIndex;W.findLastKey=Xt.findLastKey;W.floor=no.floor;W.forEach=Pn.forEach;W.forEachRight=Pn.forEachRight;W.forIn=Xt.forIn;W.forInRight=Xt.forInRight;W.forOwn=Xt.forOwn;W.forOwnRight=Xt.forOwnRight;W.get=Xt.get;W.gt=Tt.gt;W.gte=Tt.gte;W.has=Xt.has;W.hasIn=Xt.hasIn;W.head=ht.head;W.identity=yg;W.includes=Pn.includes;W.indexOf=ht.indexOf;W.inRange=mg.inRange;W.invoke=Xt.invoke;W.isArguments=Tt.isArguments;W.isArray=Pc;W.isArrayBuffer=Tt.isArrayBuffer;W.isArrayLike=Tt.isArrayLike;W.isArrayLikeObject=Tt.isArrayLikeObject;W.isBoolean=Tt.isBoolean;W.isBuffer=Tt.isBuffer;W.isDate=Tt.isDate;W.isElement=Tt.isElement;W.isEmpty=Tt.isEmpty;W.isEqual=Tt.isEqual;W.isEqualWith=Tt.isEqualWith;W.isError=Tt.isError;W.isFinite=Tt.isFinite;W.isFunction=Tt.isFunction;W.isInteger=Tt.isInteger;W.isLength=Tt.isLength;W.isMap=Tt.isMap;W.isMatch=Tt.isMatch;W.isMatchWith=Tt.isMatchWith;W.isNaN=Tt.isNaN;W.isNative=Tt.isNative;W.isNil=Tt.isNil;W.isNull=Tt.isNull;W.isNumber=Tt.isNumber;W.isObject=hg;W.isObjectLike=Tt.isObjectLike;W.isPlainObject=Tt.isPlainObject;W.isRegExp=Tt.isRegExp;W.isSafeInteger=Tt.isSafeInteger;W.isSet=Tt.isSet;W.isString=Tt.isString;W.isSymbol=Tt.isSymbol;W.isTypedArray=Tt.isTypedArray;W.isUndefined=Tt.isUndefined;W.isWeakMap=Tt.isWeakMap;W.isWeakSet=Tt.isWeakSet;W.join=ht.join;W.kebabCase=bn.kebabCase;W.last=l_;W.lastIndexOf=ht.lastIndexOf;W.lowerCase=bn.lowerCase;W.lowerFirst=bn.lowerFirst;W.lt=Tt.lt;W.lte=Tt.lte;W.max=no.max;W.maxBy=no.maxBy;W.mean=no.mean;W.meanBy=no.meanBy;W.min=no.min;W.minBy=no.minBy;W.stubArray=_n.stubArray;W.stubFalse=_n.stubFalse;W.stubObject=_n.stubObject;W.stubString=_n.stubString;W.stubTrue=_n.stubTrue;W.multiply=no.multiply;W.nth=ht.nth;W.noop=_n.noop;W.now=vM.now;W.pad=bn.pad;W.padEnd=bn.padEnd;W.padStart=bn.padStart;W.parseInt=bn.parseInt;W.random=mg.random;W.reduce=Pn.reduce;W.reduceRight=Pn.reduceRight;W.repeat=bn.repeat;W.replace=bn.replace;W.result=Xt.result;W.round=no.round;W.sample=Pn.sample;W.size=Pn.size;W.snakeCase=bn.snakeCase;W.some=Pn.some;W.sortedIndex=ht.sortedIndex;W.sortedIndexBy=ht.sortedIndexBy;W.sortedIndexOf=ht.sortedIndexOf;W.sortedLastIndex=ht.sortedLastIndex;W.sortedLastIndexBy=ht.sortedLastIndexBy;W.sortedLastIndexOf=ht.sortedLastIndexOf;W.startCase=bn.startCase;W.startsWith=bn.startsWith;W.subtract=no.subtract;W.sum=no.sum;W.sumBy=no.sumBy;W.template=bn.template;W.times=_n.times;W.toFinite=Tt.toFinite;W.toInteger=Ef;W.toLength=Tt.toLength;W.toLower=bn.toLower;W.toNumber=Tt.toNumber;W.toSafeInteger=Tt.toSafeInteger;W.toString=Tt.toString;W.toUpper=bn.toUpper;W.trim=bn.trim;W.trimEnd=bn.trimEnd;W.trimStart=bn.trimStart;W.truncate=bn.truncate;W.unescape=bn.unescape;W.uniqueId=_n.uniqueId;W.upperCase=bn.upperCase;W.upperFirst=bn.upperFirst;W.each=Pn.forEach;W.eachRight=Pn.forEachRight;W.first=ht.head;bg(W,function(){var y={};return dg(W,function(h,u){d_.call(W.prototype,u)||(y[u]=h)}),y}(),{chain:!1});W.VERSION=jM;(W.templateSettings=bn.templateSettings).imports._=W;Ac(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){W[y].placeholder=W});Ac(["drop","take"],function(y,h){Ln.prototype[y]=function(u){u=u===void 0?1:DM(Ef(u),0);var l=this.__filtered__&&!h?new Ln(this):this.clone();return l.__filtered__?l.__takeCount__=d0(u,l.__takeCount__):l.__views__.push({size:d0(u,h_),type:y+(l.__dir__<0?"Right":"")}),l},Ln.prototype[y+"Right"]=function(u){return this.reverse()[y](u).reverse()}});Ac(["filter","map","takeWhile"],function(y,h){var u=h+1,l=u==MM||u==AM;Ln.prototype[y]=function(o){var f=this.clone();return f.__iteratees__.push({iteratee:f_(o),type:u}),f.__filtered__=f.__filtered__||l,f}});Ac(["head","last"],function(y,h){var u="take"+(h?"Right":"");Ln.prototype[y]=function(){return this[u](1).value()[0]}});Ac(["initial","tail"],function(y,h){var u="drop"+(h?"":"Right");Ln.prototype[y]=function(){return this.__filtered__?new Ln(this):this[u](1)}});Ln.prototype.compact=function(){return this.filter(yg)};Ln.prototype.find=function(y){return this.filter(y).head()};Ln.prototype.findLast=function(y){return this.reverse().find(y)};Ln.prototype.invokeMap=BP(function(y,h){return typeof y=="function"?new Ln(this):this.map(function(u){return pP(u,y,h)})});Ln.prototype.reject=function(y){return this.filter(gg(f_(y)))};Ln.prototype.slice=function(y,h){y=Ef(y);var u=this;return u.__filtered__&&(y>0||h<0)?new Ln(u):(y<0?u=u.takeRight(-y):y&&(u=u.drop(y)),h!==void 0&&(h=Ef(h),u=h<0?u.dropRight(-h):u.take(h-y)),u)};Ln.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()};Ln.prototype.toArray=function(){return this.take(h_)};dg(Ln.prototype,function(y,h){var u=/^(?:filter|find|map|reject)|While$/.test(h),l=/^(?:head|last)$/.test(h),o=W[l?"take"+(h=="last"?"Right":""):h],f=l||/^find/.test(h);o&&(W.prototype[h]=function(){var p=this.__wrapped__,m=l?[1]:arguments,g=p instanceof Ln,E=m[0],j=g||Pc(p),S=function(G){var X=o.apply(W,kP([G],m));return l&&k?X[0]:X};j&&u&&typeof E=="function"&&E.length!=1&&(g=j=!1);var k=this.__chain__,T=!!this.__actions__.length,C=f&&!k,N=g&&!T;if(!f&&j){p=N?p:new Ln(this);var R=y.apply(p,m);return R.__actions__.push({func:pg,args:[S],thisArg:void 0}),new yP(R,k)}return C&&N?y.apply(this,m):(R=this.thru(S),C?l?R.value()[0]:R.value():R)})});Ac(["pop","push","shift","sort","splice","unshift"],function(y){var h=TM[y],u=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",l=/^(?:pop|shift)$/.test(y);W.prototype[y]=function(){var o=arguments;if(l&&!this.__chain__){var f=this.value();return h.apply(Pc(f)?f:[],o)}return this[u](function(p){return h.apply(Pc(p)?p:[],o)})}});dg(Ln.prototype,function(y,h){var u=W[h];if(u){var l=u.name+"";d_.call(Ch,l)||(Ch[l]=[]),Ch[l].push({name:h,func:u})}});Ch[hP(void 0,PM).name]=[{name:"wrapper",func:void 0}];Ln.prototype.clone=gM;Ln.prototype.reverse=mM;Ln.prototype.value=SM;W.prototype.at=Fi.at;W.prototype.chain=Fi.wrapperChain;W.prototype.commit=Fi.commit;W.prototype.next=Fi.next;W.prototype.plant=Fi.plant;W.prototype.reverse=Fi.reverse;W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Fi.value;W.prototype.first=W.prototype.head;h0&&(W.prototype[h0]=Fi.toIterator);var rg={exports:{}};(function(y,h){(function(u,l){y.exports=l()})(window,function(){return function(u){var l={};function o(f){if(l[f])return l[f].exports;var p=l[f]={i:f,l:!1,exports:{}};return u[f].call(p.exports,p,p.exports,o),p.l=!0,p.exports}return o.m=u,o.c=l,o.d=function(f,p,m){o.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:m})},o.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},o.t=function(f,p){if(1&p&&(f=o(f)),8&p||4&p&&typeof f=="object"&&f&&f.__esModule)return f;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:f}),2&p&&typeof f!="string")for(var g in f)o.d(m,g,(function(E){return f[E]}).bind(null,g));return m},o.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return o.d(p,"a",p),p},o.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},o.p="",o(o.s=220)}([function(u,l,o){o.d(l,"a",function(){return re}),o.d(l,"b",function(){return ue}),o.d(l,"c",function(){return qe}),o.d(l,"d",function(){return gt}),o.d(l,"e",function(){return G}),o.d(l,"f",function(){return Q}),o.d(l,"g",function(){return G}),o.d(l,"h",function(){return Xe}),o.d(l,"i",function(){return p}),o.d(l,"j",function(){return vt}),o.d(l,"k",function(){return q});var f,p,m,g,E,j,S,k={},T=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(le,ce){for(var me in ce)le[me]=ce[me];return le}function R(le){var ce=le.parentNode;ce&&ce.removeChild(le)}function G(le,ce,me){var Ce,Ue,ze,xt={};for(ze in ce)ze=="key"?Ce=ce[ze]:ze=="ref"?Ue=ce[ze]:xt[ze]=ce[ze];if(arguments.length>2&&(xt.children=arguments.length>3?f.call(arguments,2):me),typeof le=="function"&&le.defaultProps!=null)for(ze in le.defaultProps)xt[ze]===void 0&&(xt[ze]=le.defaultProps[ze]);return X(le,xt,Ce,Ue,null)}function X(le,ce,me,Ce,Ue){var ze={type:le,props:ce,key:me,ref:Ce,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ue??++m};return Ue==null&&p.vnode!=null&&p.vnode(ze),ze}function Q(){return{current:null}}function ue(le){return le.children}function re(le,ce){this.props=le,this.context=ce}function te(le,ce){if(ce==null)return le.__?te(le.__,le.__.__k.indexOf(le)+1):null;for(var me;ce<le.__k.length;ce++)if((me=le.__k[ce])!=null&&me.__e!=null)return me.__e;return typeof le.type=="function"?te(le):null}function ne(le){var ce,me;if((le=le.__)!=null&&le.__c!=null){for(le.__e=le.__c.base=null,ce=0;ce<le.__k.length;ce++)if((me=le.__k[ce])!=null&&me.__e!=null){le.__e=le.__c.base=me.__e;break}return ne(le)}}function Y(le){(!le.__d&&(le.__d=!0)&&g.push(le)&&!B.__r++||j!==p.debounceRendering)&&((j=p.debounceRendering)||E)(B)}function B(){for(var le;B.__r=g.length;)le=g.sort(function(ce,me){return ce.__v.__b-me.__v.__b}),g=[],le.some(function(ce){var me,Ce,Ue,ze,xt,kt;ce.__d&&(xt=(ze=(me=ce).__v).__e,(kt=me.__P)&&(Ce=[],(Ue=N({},ze)).__v=ze.__v+1,je(kt,ze,Ue,me.__n,kt.ownerSVGElement!==void 0,ze.__h!=null?[xt]:null,Ce,xt??te(ze),ze.__h),ve(Ce,ze),ze.__e!=xt&&ne(ze)))})}function V(le,ce,me,Ce,Ue,ze,xt,kt,jt,yt){var ke,st,pe,ot,Lt,un,zt,Qt=Ce&&Ce.__k||T,yn=Qt.length;for(me.__k=[],ke=0;ke<ce.length;ke++)if((ot=me.__k[ke]=(ot=ce[ke])==null||typeof ot=="boolean"?null:typeof ot=="string"||typeof ot=="number"||typeof ot=="bigint"?X(null,ot,null,null,ot):Array.isArray(ot)?X(ue,{children:ot},null,null,null):ot.__b>0?X(ot.type,ot.props,ot.key,null,ot.__v):ot)!=null){if(ot.__=me,ot.__b=me.__b+1,(pe=Qt[ke])===null||pe&&ot.key==pe.key&&ot.type===pe.type)Qt[ke]=void 0;else for(st=0;st<yn;st++){if((pe=Qt[st])&&ot.key==pe.key&&ot.type===pe.type){Qt[st]=void 0;break}pe=null}je(le,ot,pe=pe||k,Ue,ze,xt,kt,jt,yt),Lt=ot.__e,(st=ot.ref)&&pe.ref!=st&&(zt||(zt=[]),pe.ref&&zt.push(pe.ref,null,ot),zt.push(st,ot.__c||Lt,ot)),Lt!=null?(un==null&&(un=Lt),typeof ot.type=="function"&&ot.__k===pe.__k?ot.__d=jt=$(ot,jt,le):jt=se(le,ot,pe,Qt,Lt,jt),typeof me.type=="function"&&(me.__d=jt)):jt&&pe.__e==jt&&jt.parentNode!=le&&(jt=te(pe))}for(me.__e=un,ke=yn;ke--;)Qt[ke]!=null&&(typeof me.type=="function"&&Qt[ke].__e!=null&&Qt[ke].__e==me.__d&&(me.__d=te(Ce,ke+1)),He(Qt[ke],Qt[ke]));if(zt)for(ke=0;ke<zt.length;ke++)Ae(zt[ke],zt[++ke],zt[++ke])}function $(le,ce,me){for(var Ce,Ue=le.__k,ze=0;Ue&&ze<Ue.length;ze++)(Ce=Ue[ze])&&(Ce.__=le,ce=typeof Ce.type=="function"?$(Ce,ce,me):se(me,Ce,Ce,Ue,Ce.__e,ce));return ce}function q(le,ce){return ce=ce||[],le==null||typeof le=="boolean"||(Array.isArray(le)?le.some(function(me){q(me,ce)}):ce.push(le)),ce}function se(le,ce,me,Ce,Ue,ze){var xt,kt,jt;if(ce.__d!==void 0)xt=ce.__d,ce.__d=void 0;else if(me==null||Ue!=ze||Ue.parentNode==null)e:if(ze==null||ze.parentNode!==le)le.appendChild(Ue),xt=null;else{for(kt=ze,jt=0;(kt=kt.nextSibling)&&jt<Ce.length;jt+=2)if(kt==Ue)break e;le.insertBefore(Ue,ze),xt=ze}return xt!==void 0?xt:Ue.nextSibling}function xe(le,ce,me){ce[0]==="-"?le.setProperty(ce,me):le[ce]=me==null?"":typeof me!="number"||C.test(ce)?me:me+"px"}function ge(le,ce,me,Ce,Ue){var ze;e:if(ce==="style")if(typeof me=="string")le.style.cssText=me;else{if(typeof Ce=="string"&&(le.style.cssText=Ce=""),Ce)for(ce in Ce)me&&ce in me||xe(le.style,ce,"");if(me)for(ce in me)Ce&&me[ce]===Ce[ce]||xe(le.style,ce,me[ce])}else if(ce[0]==="o"&&ce[1]==="n")ze=ce!==(ce=ce.replace(/Capture$/,"")),ce=ce.toLowerCase()in le?ce.toLowerCase().slice(2):ce.slice(2),le.l||(le.l={}),le.l[ce+ze]=me,me?Ce||le.addEventListener(ce,ze?Fe:Me,ze):le.removeEventListener(ce,ze?Fe:Me,ze);else if(ce!=="dangerouslySetInnerHTML"){if(Ue)ce=ce.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ce!=="href"&&ce!=="list"&&ce!=="form"&&ce!=="tabIndex"&&ce!=="download"&&ce in le)try{le[ce]=me??"";break e}catch{}typeof me=="function"||(me!=null&&(me!==!1||ce[0]==="a"&&ce[1]==="r")?le.setAttribute(ce,me):le.removeAttribute(ce))}}function Me(le){this.l[le.type+!1](p.event?p.event(le):le)}function Fe(le){this.l[le.type+!0](p.event?p.event(le):le)}function je(le,ce,me,Ce,Ue,ze,xt,kt,jt){var yt,ke,st,pe,ot,Lt,un,zt,Qt,yn,jn,Ct=ce.type;if(ce.constructor!==void 0)return null;me.__h!=null&&(jt=me.__h,kt=ce.__e=me.__e,ce.__h=null,ze=[kt]),(yt=p.__b)&&yt(ce);try{e:if(typeof Ct=="function"){if(zt=ce.props,Qt=(yt=Ct.contextType)&&Ce[yt.__c],yn=yt?Qt?Qt.props.value:yt.__:Ce,me.__c?un=(ke=ce.__c=me.__c).__=ke.__E:("prototype"in Ct&&Ct.prototype.render?ce.__c=ke=new Ct(zt,yn):(ce.__c=ke=new re(zt,yn),ke.constructor=Ct,ke.render=nt),Qt&&Qt.sub(ke),ke.props=zt,ke.state||(ke.state={}),ke.context=yn,ke.__n=Ce,st=ke.__d=!0,ke.__h=[]),ke.__s==null&&(ke.__s=ke.state),Ct.getDerivedStateFromProps!=null&&(ke.__s==ke.state&&(ke.__s=N({},ke.__s)),N(ke.__s,Ct.getDerivedStateFromProps(zt,ke.__s))),pe=ke.props,ot=ke.state,st)Ct.getDerivedStateFromProps==null&&ke.componentWillMount!=null&&ke.componentWillMount(),ke.componentDidMount!=null&&ke.__h.push(ke.componentDidMount);else{if(Ct.getDerivedStateFromProps==null&&zt!==pe&&ke.componentWillReceiveProps!=null&&ke.componentWillReceiveProps(zt,yn),!ke.__e&&ke.shouldComponentUpdate!=null&&ke.shouldComponentUpdate(zt,ke.__s,yn)===!1||ce.__v===me.__v){ke.props=zt,ke.state=ke.__s,ce.__v!==me.__v&&(ke.__d=!1),ke.__v=ce,ce.__e=me.__e,ce.__k=me.__k,ce.__k.forEach(function(Wn){Wn&&(Wn.__=ce)}),ke.__h.length&&xt.push(ke);break e}ke.componentWillUpdate!=null&&ke.componentWillUpdate(zt,ke.__s,yn),ke.componentDidUpdate!=null&&ke.__h.push(function(){ke.componentDidUpdate(pe,ot,Lt)})}ke.context=yn,ke.props=zt,ke.state=ke.__s,(yt=p.__r)&&yt(ce),ke.__d=!1,ke.__v=ce,ke.__P=le,yt=ke.render(ke.props,ke.state,ke.context),ke.state=ke.__s,ke.getChildContext!=null&&(Ce=N(N({},Ce),ke.getChildContext())),st||ke.getSnapshotBeforeUpdate==null||(Lt=ke.getSnapshotBeforeUpdate(pe,ot)),jn=yt!=null&&yt.type===ue&&yt.key==null?yt.props.children:yt,V(le,Array.isArray(jn)?jn:[jn],ce,me,Ce,Ue,ze,xt,kt,jt),ke.base=ce.__e,ce.__h=null,ke.__h.length&&xt.push(ke),un&&(ke.__E=ke.__=null),ke.__e=!1}else ze==null&&ce.__v===me.__v?(ce.__k=me.__k,ce.__e=me.__e):ce.__e=Pe(me.__e,ce,me,Ce,Ue,ze,xt,jt);(yt=p.diffed)&&yt(ce)}catch(Wn){ce.__v=null,(jt||ze!=null)&&(ce.__e=kt,ce.__h=!!jt,ze[ze.indexOf(kt)]=null),p.__e(Wn,ce,me)}}function ve(le,ce){p.__c&&p.__c(ce,le),le.some(function(me){try{le=me.__h,me.__h=[],le.some(function(Ce){Ce.call(me)})}catch(Ce){p.__e(Ce,me.__v)}})}function Pe(le,ce,me,Ce,Ue,ze,xt,kt){var jt,yt,ke,st=me.props,pe=ce.props,ot=ce.type,Lt=0;if(ot==="svg"&&(Ue=!0),ze!=null){for(;Lt<ze.length;Lt++)if((jt=ze[Lt])&&"setAttribute"in jt==!!ot&&(ot?jt.localName===ot:jt.nodeType===3)){le=jt,ze[Lt]=null;break}}if(le==null){if(ot===null)return document.createTextNode(pe);le=Ue?document.createElementNS("http://www.w3.org/2000/svg",ot):document.createElement(ot,pe.is&&pe),ze=null,kt=!1}if(ot===null)st===pe||kt&&le.data===pe||(le.data=pe);else{if(ze=ze&&f.call(le.childNodes),yt=(st=me.props||k).dangerouslySetInnerHTML,ke=pe.dangerouslySetInnerHTML,!kt){if(ze!=null)for(st={},Lt=0;Lt<le.attributes.length;Lt++)st[le.attributes[Lt].name]=le.attributes[Lt].value;(ke||yt)&&(ke&&(yt&&ke.__html==yt.__html||ke.__html===le.innerHTML)||(le.innerHTML=ke&&ke.__html||""))}if(function(un,zt,Qt,yn,jn){var Ct;for(Ct in Qt)Ct==="children"||Ct==="key"||Ct in zt||ge(un,Ct,null,Qt[Ct],yn);for(Ct in zt)jn&&typeof zt[Ct]!="function"||Ct==="children"||Ct==="key"||Ct==="value"||Ct==="checked"||Qt[Ct]===zt[Ct]||ge(un,Ct,zt[Ct],Qt[Ct],yn)}(le,pe,st,Ue,kt),ke)ce.__k=[];else if(Lt=ce.props.children,V(le,Array.isArray(Lt)?Lt:[Lt],ce,me,Ce,Ue&&ot!=="foreignObject",ze,xt,ze?ze[0]:me.__k&&te(me,0),kt),ze!=null)for(Lt=ze.length;Lt--;)ze[Lt]!=null&&R(ze[Lt]);kt||("value"in pe&&(Lt=pe.value)!==void 0&&(Lt!==st.value||Lt!==le.value||ot==="progress"&&!Lt)&&ge(le,"value",Lt,st.value,!1),"checked"in pe&&(Lt=pe.checked)!==void 0&&Lt!==le.checked&&ge(le,"checked",Lt,st.checked,!1))}return le}function Ae(le,ce,me){try{typeof le=="function"?le(ce):le.current=ce}catch(Ce){p.__e(Ce,me)}}function He(le,ce,me){var Ce,Ue;if(p.unmount&&p.unmount(le),(Ce=le.ref)&&(Ce.current&&Ce.current!==le.__e||Ae(Ce,null,ce)),(Ce=le.__c)!=null){if(Ce.componentWillUnmount)try{Ce.componentWillUnmount()}catch(ze){p.__e(ze,ce)}Ce.base=Ce.__P=null}if(Ce=le.__k)for(Ue=0;Ue<Ce.length;Ue++)Ce[Ue]&&He(Ce[Ue],ce,typeof le.type!="function");me||le.__e==null||R(le.__e),le.__e=le.__d=void 0}function nt(le,ce,me){return this.constructor(le,me)}function vt(le,ce,me){var Ce,Ue,ze;p.__&&p.__(le,ce),Ue=(Ce=typeof me=="function")?null:me&&me.__k||ce.__k,ze=[],je(ce,le=(!Ce&&me||ce).__k=G(ue,null,[le]),Ue||k,k,ce.ownerSVGElement!==void 0,!Ce&&me?[me]:Ue?null:ce.firstChild?f.call(ce.childNodes):null,ze,!Ce&&me?me:Ue?Ue.__e:ce.firstChild,Ce),ve(ze,le)}function Xe(le,ce){vt(le,ce,Xe)}function qe(le,ce,me){var Ce,Ue,ze,xt=N({},le.props);for(ze in ce)ze=="key"?Ce=ce[ze]:ze=="ref"?Ue=ce[ze]:xt[ze]=ce[ze];return arguments.length>2&&(xt.children=arguments.length>3?f.call(arguments,2):me),X(le.type,xt,Ce||le.key,Ue||le.ref,null)}function gt(le,ce){var me={__c:ce="__cC"+S++,__:le,Consumer:function(Ce,Ue){return Ce.children(Ue)},Provider:function(Ce){var Ue,ze;return this.getChildContext||(Ue=[],(ze={})[ce]=this,this.getChildContext=function(){return ze},this.shouldComponentUpdate=function(xt){this.props.value!==xt.value&&Ue.some(Y)},this.sub=function(xt){Ue.push(xt);var kt=xt.componentWillUnmount;xt.componentWillUnmount=function(){Ue.splice(Ue.indexOf(xt),1),kt&&kt.call(xt)}}),Ce.children}};return me.Provider.__=me.Consumer.contextType=me}f=T.slice,p={__e:function(le,ce){for(var me,Ce,Ue;ce=ce.__;)if((me=ce.__c)&&!me.__)try{if((Ce=me.constructor)&&Ce.getDerivedStateFromError!=null&&(me.setState(Ce.getDerivedStateFromError(le)),Ue=me.__d),me.componentDidCatch!=null&&(me.componentDidCatch(le),Ue=me.__d),Ue)return me.__E=me}catch(ze){le=ze}throw le}},m=0,re.prototype.setState=function(le,ce){var me;me=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof le=="function"&&(le=le(N({},me),this.props)),le&&N(me,le),le!=null&&this.__v&&(ce&&this.__h.push(ce),Y(this))},re.prototype.forceUpdate=function(le){this.__v&&(this.__e=!0,le&&this.__h.push(le),Y(this))},re.prototype.render=ue,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B.__r=0,S=0},function(u,l,o){(function(f,p){o.d(l,"a",function(){return Y}),o.d(l,"b",function(){return wu}),o.d(l,"c",function(){return ao}),o.d(l,"d",function(){return St}),o.d(l,"e",function(){return Ke}),o.d(l,"f",function(){return $e}),o.d(l,"g",function(){return bt}),o.d(l,"h",function(){return Oo}),o.d(l,"i",function(){return jn}),o.d(l,"j",function(){return it}),o.d(l,"k",function(){return Ao}),o.d(l,"l",function(){return pu}),o.d(l,"m",function(){return un}),o.d(l,"n",function(){return vi}),o.d(l,"o",function(){return $}),o.d(l,"p",function(){return ls}),o.d(l,"q",function(){return To}),o.d(l,"r",function(){return va}),o.d(l,"s",function(){return Vr}),o.d(l,"t",function(){return zn}),o.d(l,"u",function(){return ya}),o.d(l,"v",function(){return cs}),o.d(l,"w",function(){return gu}),o.d(l,"x",function(){return gi}),o.d(l,"y",function(){return Yr}),o.d(l,"z",function(){return Kn}),o.d(l,"A",function(){return Mr}),o.d(l,"B",function(){return vo}),o.d(l,"C",function(){return yt}),o.d(l,"D",function(){return fs}),o.d(l,"E",function(){return sn}),o.d(l,"F",function(){return ln}),o.d(l,"G",function(){return lu}),o.d(l,"H",function(){return cu}),o.d(l,"I",function(){return mu}),o.d(l,"J",function(){return er}),o.d(l,"K",function(){return de}),o.d(l,"L",function(){return mn}),o.d(l,"M",function(){return ma});var m=[];Object.freeze(m);var g={};function E(){return++ct.mobxGuid}function j(O){throw S(!1,O),"X"}function S(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function k(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var T=function(){};function C(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function R(O,w,A){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:A})}function G(O,w){var A="isMobX"+O;return w.prototype[A]=!0,function(z){return C(z)&&z[A]===!0}}function X(O){return O instanceof Map}function Q(O){return O instanceof Set}function ue(O){var w=new Set;for(var A in O)w.add(A);return Object.getOwnPropertySymbols(O).forEach(function(z){Object.getOwnPropertyDescriptor(O,z).enumerable&&w.add(z)}),Array.from(w)}function re(O){return O&&O.toString?O.toString():new String(O).toString()}function te(O){return O===null?null:typeof O=="object"?""+O:O}var ne=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,Y=Symbol("mobx administration"),B=function(){function O(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=st.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return da(this)},O.prototype.reportChanged=function(){xr(),function(w){w.lowestObserverState!==st.STALE&&(w.lowestObserverState=st.STALE,w.observers.forEach(function(A){A.dependenciesState===st.UP_TO_DATE&&(A.isTracing!==pe.NONE&&io(A,w),A.onBecomeStale()),A.dependenciesState=st.STALE}))}(this),Dr()},O.prototype.toString=function(){return this.name},O}(),V=G("Atom",B);function $(O,w,A){w===void 0&&(w=T),A===void 0&&(A=T);var z,K=new B(O);return w!==T&&us("onBecomeObserved",K,w,z),A!==T&&sn(K,A),K}var q={identity:function(O,w){return O===w},structural:function(O,w){return Ie(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Ie(O,w,1)}},se=function(O,w){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,z){A.__proto__=z}||function(A,z){for(var K in z)z.hasOwnProperty(K)&&(A[K]=z[K])},se(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var xe=function(){return xe=Object.assign||function(O){for(var w,A=1,z=arguments.length;A<z;A++)for(var K in w=arguments[A])Object.prototype.hasOwnProperty.call(w,K)&&(O[K]=w[K]);return O},xe.apply(this,arguments)};function ge(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],A=0;return w?w.call(O):{next:function(){return O&&A>=O.length&&(O=void 0),{value:O&&O[A++],done:!O}}}}function Me(O,w){var A=typeof Symbol=="function"&&O[Symbol.iterator];if(!A)return O;var z,K,he=A.call(O),Se=[];try{for(;(w===void 0||w-- >0)&&!(z=he.next()).done;)Se.push(z.value)}catch(Ge){K={error:Ge}}finally{try{z&&!z.done&&(A=he.return)&&A.call(he)}finally{if(K)throw K.error}}return Se}function Fe(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Me(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Pe={},Ae={};function He(O,w){var A=w?Pe:Ae;return A[O]||(A[O]={configurable:!0,enumerable:w,get:function(){return nt(this),this[O]},set:function(z){nt(this),this[O]=z}})}function nt(O){var w,A;if(O[je]!==!0){var z=O[ve];if(z){R(O,je,!0);var K=Fe(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var he=ge(K),Se=he.next();!Se.done;Se=he.next()){var Ge=z[Se.value];Ge.propertyCreator(O,Ge.prop,Ge.descriptor,Ge.decoratorTarget,Ge.decoratorArguments)}}catch(at){w={error:at}}finally{try{Se&&!Se.done&&(A=he.return)&&A.call(he)}finally{if(w)throw w.error}}}}}function vt(O,w){return function(){var A,z=function(K,he,Se,Ge){if(Ge===!0)return w(K,he,Se,K,A),null;if(!Object.prototype.hasOwnProperty.call(K,ve)){var at=K[ve];R(K,ve,xe({},at))}return K[ve][he]={prop:he,propertyCreator:w,descriptor:Se,decoratorTarget:K,decoratorArguments:A},He(he,O)};return Xe(arguments)?(A=m,z.apply(null,arguments)):(A=Array.prototype.slice.call(arguments),z)}}function Xe(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function qe(O,w,A){return gi(O)?O:Array.isArray(O)?yt.array(O,{name:A}):N(O)?yt.object(O,void 0,{name:A}):X(O)?yt.map(O,{name:A}):Q(O)?yt.set(O,{name:A}):O}function gt(O){return O}function le(O){S(O);var w=vt(!0,function(z,K,he,Se,Ge){var at=he?he.initializer?he.initializer.call(z):he.value:void 0;Nr(z).addObservableProp(K,at,O)}),A=(f!==void 0&&f.env,w);return A.enhancer=O,A}var ce={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function me(O){return O==null?ce:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(ce);var Ce=le(qe),Ue=le(function(O,w,A){return O==null||Mr(O)||Yr(O)||Kn(O)||mr(O)?O:Array.isArray(O)?yt.array(O,{name:A,deep:!1}):N(O)?yt.object(O,void 0,{name:A,deep:!1}):X(O)?yt.map(O,{name:A,deep:!1}):Q(O)?yt.set(O,{name:A,deep:!1}):j(!1)}),ze=le(gt),xt=le(function(O,w,A){return Ie(O,w)?w:O});function kt(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?gt:qe}var jt={box:function(O,w){arguments.length>2&&ke("box");var A=me(w);return new Nn(O,kt(A),A.name,!0,A.equals)},array:function(O,w){arguments.length>2&&ke("array");var A=me(w);return Xi(O,kt(A),A.name)},map:function(O,w){arguments.length>2&&ke("map");var A=me(w);return new wu(O,kt(A),A.name)},set:function(O,w){arguments.length>2&&ke("set");var A=me(w);return new bo(O,kt(A),A.name)},object:function(O,w,A){typeof arguments[1]=="string"&&ke("object");var z=me(A);if(z.proxy===!1)return To({},O,w,z);var K=hu(z),he=To({},void 0,void 0,z),Se=mi(he);return ss(Se,O,w,K),Se},ref:ze,shallow:Ue,deep:Ce,struct:xt},yt=function(O,w,A){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ce.apply(null,arguments);if(gi(O))return O;var z=N(O)?yt.object(O,w,A):Array.isArray(O)?yt.array(O,w):X(O)?yt.map(O,w):Q(O)?yt.set(O,w):O;if(z!==O)return z;j(!1)};function ke(O){j("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(jt).forEach(function(O){return yt[O]=jt[O]});var st,pe,ot=vt(!1,function(O,w,A,z,K){var he=A.get,Se=A.set,Ge=K[0]||{};Nr(O).addComputedProp(O,w,xe({get:he,set:Se,context:O},Ge))}),Lt=ot({equals:q.structural}),un=function(O,w,A){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return ot.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=O,z.set=typeof w=="function"?w:z.set,z.name=z.name||O.name||"",new yo(z)};un.struct=Lt,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(st||(st={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(pe||(pe={}));var zt=function(O){this.cause=O};function Qt(O){return O instanceof zt}function yn(O){switch(O.dependenciesState){case st.UP_TO_DATE:return!1;case st.NOT_TRACKING:case st.STALE:return!0;case st.POSSIBLY_STALE:for(var w=$e(!0),A=ae(),z=O.observing,K=z.length,he=0;he<K;he++){var Se=z[he];if(Mo(Se)){if(ct.disableErrorBoundaries)Se.get();else try{Se.get()}catch{return _e(A),Ke(w),!0}if(O.dependenciesState===st.STALE)return _e(A),Ke(w),!0}}return ft(O),_e(A),Ke(w),!1}}function jn(){return ct.trackingDerivation!==null}function Ct(O){var w=O.observers.size>0;ct.computationDepth>0&&w&&j(!1),ct.allowStateChanges||!w&&ct.enforceActions!=="strict"||j(!1)}function Wn(O,w,A){var z=$e(!0);ft(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ct.runId;var K,he=ct.trackingDerivation;if(ct.trackingDerivation=O,ct.disableErrorBoundaries===!0)K=w.call(A);else try{K=w.call(A)}catch(Se){K=new zt(Se)}return ct.trackingDerivation=he,function(Se){for(var Ge=Se.observing,at=Se.observing=Se.newObserving,$t=st.UP_TO_DATE,tt=0,vn=Se.unboundDepsCount,Ft=0;Ft<vn;Ft++)(an=at[Ft]).diffValue===0&&(an.diffValue=1,tt!==Ft&&(at[tt]=an),tt++),an.dependenciesState>$t&&($t=an.dependenciesState);for(at.length=tt,Se.newObserving=null,vn=Ge.length;vn--;)(an=Ge[vn]).diffValue===0&&iu(an,Se),an.diffValue=0;for(;tt--;){var an;(an=at[tt]).diffValue===1&&(an.diffValue=0,Nc(an,Se))}$t!==st.UP_TO_DATE&&(Se.dependenciesState=$t,Se.onBecomeStale())}(O),Ke(z),K}function J(O){var w=O.observing;O.observing=[];for(var A=w.length;A--;)iu(w[A],O);O.dependenciesState=st.NOT_TRACKING}function de(O){var w=ae();try{return O()}finally{_e(w)}}function ae(){var O=ct.trackingDerivation;return ct.trackingDerivation=null,O}function _e(O){ct.trackingDerivation=O}function $e(O){var w=ct.allowStateReads;return ct.allowStateReads=O,w}function Ke(O){ct.allowStateReads=O}function ft(O){if(O.dependenciesState!==st.UP_TO_DATE){O.dependenciesState=st.UP_TO_DATE;for(var w=O.observing,A=w.length;A--;)w[A].lowestObserverState=st.UP_TO_DATE}}var Ut=0,Qn=1,lr=Object.getOwnPropertyDescriptor(function(){},"name");lr&&lr.configurable;function Gn(O,w,A){var z=function(){return $n(O,w,A||this,arguments)};return z.isMobxAction=!0,z}function $n(O,w,A,z){var K=it();try{return w.apply(A,z)}catch(he){throw K.error=he,he}finally{bt(K)}}function it(O,w,A){var z=0,K=ae();xr();var he={prevDerivation:K,prevAllowStateChanges:It(!0),prevAllowStateReads:$e(!0),notifySpy:!1,startTime:z,actionId:Qn++,parentActionId:Ut};return Ut=he.actionId,he}function bt(O){Ut!==O.actionId&&j("invalid action stack. did you forget to finish an action?"),Ut=O.parentActionId,O.error!==void 0&&(ct.suppressReactionErrors=!0),hn(O.prevAllowStateChanges),Ke(O.prevAllowStateReads),Dr(),_e(O.prevDerivation),O.notifySpy,ct.suppressReactionErrors=!1}function St(O,w){var A,z=It(O);try{A=w()}finally{hn(z)}return A}function It(O){var w=ct.allowStateChanges;return ct.allowStateChanges=O,w}function hn(O){ct.allowStateChanges=O}var Nn=function(O){function w(A,z,K,he,Se){K===void 0&&(K="ObservableValue@"+E()),Se===void 0&&(Se=q.default);var Ge=O.call(this,K)||this;return Ge.enhancer=z,Ge.name=K,Ge.equals=Se,Ge.hasUnreportedChange=!1,Ge.value=z(A,void 0,K),Ge}return function(A,z){function K(){this.constructor=A}se(A,z),A.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)}(w,O),w.prototype.dehanceValue=function(A){return this.dehancer!==void 0?this.dehancer(A):A},w.prototype.set=function(A){this.value,(A=this.prepareNewValue(A))!==ct.UNCHANGED&&this.setNewValue(A)},w.prototype.prepareNewValue=function(A){if(Ct(this),jr(this)){var z=en(this,{object:this,type:"update",newValue:A});if(!z)return ct.UNCHANGED;A=z.newValue}return A=this.enhancer(A,this.value,this.name),this.equals(this.value,A)?ct.UNCHANGED:A},w.prototype.setNewValue=function(A){var z=this.value;this.value=A,this.reportChanged(),Pr(this)&&ur(this,{type:"update",object:this,newValue:A,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(A){return Do(this,A)},w.prototype.observe=function(A,z){return z&&A({object:this,type:"update",newValue:this.value,oldValue:void 0}),mo(this,A)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return te(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(B),Po=G("ObservableValue",Nn),yo=function(){function O(w){this.dependenciesState=st.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=st.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new zt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=pe.NONE,S(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Gn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?q.structural:q.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===st.UP_TO_DATE&&(w.lowestObserverState=st.POSSIBLY_STALE,w.observers.forEach(function(A){A.dependenciesState===st.UP_TO_DATE&&(A.dependenciesState=st.POSSIBLY_STALE,A.isTracing!==pe.NONE&&io(A,w),A.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),ct.inBatch!==0||this.observers.size!==0||this.keepAlive?(da(this),yn(this)&&this.trackAndCompute()&&function(A){A.lowestObserverState!==st.STALE&&(A.lowestObserverState=st.STALE,A.observers.forEach(function(z){z.dependenciesState===st.POSSIBLY_STALE?z.dependenciesState=st.STALE:z.dependenciesState===st.UP_TO_DATE&&(A.lowestObserverState=st.UP_TO_DATE)}))}(this)):yn(this)&&(this.warnAboutUntrackedRead(),xr(),this.value=this.computeValue(!1),Dr());var w=this.value;if(Qt(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(Qt(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){S(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else S(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,A=this.dependenciesState===st.NOT_TRACKING,z=this.computeValue(!0),K=A||Qt(w)||Qt(z)||!this.equals(w,z);return K&&(this.value=z),K},O.prototype.computeValue=function(w){var A;if(this.isComputing=!0,ct.computationDepth++,w)A=Wn(this,this.derivation,this.scope);else if(ct.disableErrorBoundaries===!0)A=this.derivation.call(this.scope);else try{A=this.derivation.call(this.scope)}catch(z){A=new zt(z)}return ct.computationDepth--,this.isComputing=!1,A},O.prototype.suspend=function(){this.keepAlive||(J(this),this.value=void 0)},O.prototype.observe=function(w,A){var z=this,K=!0,he=void 0;return pu(function(){var Se=z.get();if(!K||A){var Ge=ae();w({type:"update",object:z,newValue:Se,oldValue:he}),_e(Ge)}K=!1,he=Se})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return te(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),Mo=G("ComputedValue",yo),yi=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Dc={};function ou(){return typeof window<"u"?window:p!==void 0?p:typeof self<"u"?self:Dc}var Xr=!0,Wi=!1,ct=function(){var O=ou();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(Xr=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new yi().version&&(Xr=!1),Xr?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new yi):(setTimeout(function(){Wi||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new yi)}();function Nc(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function iu(O,w){O.observers.delete(w),O.observers.size===0&&au(O)}function au(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ct.pendingUnobservations.push(O))}function xr(){ct.inBatch++}function Dr(){if(--ct.inBatch==0){su();for(var O=ct.pendingUnobservations,w=0;w<O.length;w++){var A=O[w];A.isPendingUnobservation=!1,A.observers.size===0&&(A.isBeingObserved&&(A.isBeingObserved=!1,A.onBecomeUnobserved()),A instanceof yo&&A.suspend())}ct.pendingUnobservations=[]}}function da(O){var w=ct.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ct.inBatch>0&&au(O),!1)}function io(O,w){if(O.isTracing===pe.BREAK){var A=[];Ur(zn(O),A,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof yo?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+A.join(`
`)+`
*/
    `)()}}function Ur(O,w,A){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(A).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(z){return Ur(z,w,A+1)}))}var ao=function(){function O(w,A,z,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=A,this.errorHandler=z,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=st.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=pe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ct.pendingReactions.push(this),su())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(xr(),this._isScheduled=!1,yn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Dr()}},O.prototype.track=function(w){if(!this.isDisposed){xr(),this._isRunning=!0;var A=Wn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&J(this),Qt(A)&&this.reportExceptionInDerivation(A.cause),Dr()}},O.prototype.reportExceptionInDerivation=function(w){var A=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ct.disableErrorBoundaries)throw w;ct.suppressReactionErrors,ct.globalReactionErrorHandlers.forEach(function(z){return z(w,A)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(xr(),J(this),Dr()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[Y]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var A=[],z=0;z<arguments.length;z++)A[z]=arguments[z];var K=!1;typeof A[A.length-1]=="boolean"&&(K=A.pop());var he=rn(A);if(!he)return j(!1);he.isTracing,pe.NONE,he.isTracing=K?pe.BREAK:pe.LOG}(this,w)},O}(),uu=function(O){return O()};function su(){ct.inBatch>0||ct.isRunningReactions||uu(rs)}function rs(){ct.isRunningReactions=!0;for(var O=ct.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var A=O.splice(0),z=0,K=A.length;z<K;z++)A[z].runReaction()}ct.isRunningReactions=!1}var Gi=G("Reaction",ao);function os(O){var w=uu;uu=function(A){return O(function(){return w(A)})}}function cu(O){return function(){}}function Cc(){j(!1)}function qo(O){return function(w,A,z){if(z){if(z.value)return{value:Gn(O,z.value),enumerable:!1,configurable:!0,writable:!0};var K=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Gn(O,K.call(this))}}}return is(O).apply(this,arguments)}}function is(O){return function(w,A,z){Object.defineProperty(w,A,{configurable:!0,enumerable:!1,get:function(){},set:function(K){R(this,A,Ao(O,K))}})}}var Ao=function(O,w,A,z){return arguments.length===1&&typeof O=="function"?Gn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Gn(O,w):arguments.length===1&&typeof O=="string"?qo(O):z!==!0?qo(w).apply(null,arguments):void R(O,w,Gn(O.name||w,A.value,this))};function lu(O,w){return $n(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function ya(O){return typeof O=="function"&&O.isMobxAction===!0}function fu(O,w,A){R(O,w,Gn(w,A.bind(O)))}function pu(O,w){w===void 0&&(w=g);var A,z=w&&w.name||O.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)A=new ao(z,function(){this.track(Se)},w.onError,w.requiresObservable);else{var K=as(w),he=!1;A=new ao(z,function(){he||(he=!0,K(function(){he=!1,A.isDisposed||A.track(Se)}))},w.onError,w.requiresObservable)}function Se(){O(A)}return A.schedule(),A.getDisposer()}Ao.bound=function(O,w,A,z){return z===!0?(fu(O,w,A.value),null):A?{configurable:!0,enumerable:!1,get:function(){return fu(this,w,A.value||A.initializer.call(this)),this[w]},set:Cc}:{enumerable:!1,configurable:!0,set:function(K){fu(this,w,K)},get:function(){}}};var Ic=function(O){return O()};function as(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Ic}function ln(O,w,A){A===void 0&&(A=g);var z,K,he,Se=A.name||"Reaction@"+E(),Ge=Ao(Se,A.onError?(z=A.onError,K=w,function(){try{return K.apply(this,arguments)}catch(Mn){z.call(this,Mn)}}):w),at=!A.scheduler&&!A.delay,$t=as(A),tt=!0,vn=!1,Ft=A.compareStructural?q.structural:A.equals||q.default,an=new ao(Se,function(){tt||at?$r():vn||(vn=!0,$t($r))},A.onError,A.requiresObservable);function $r(){if(vn=!1,!an.isDisposed){var Mn=!1;an.track(function(){var Ar=O(an);Mn=tt||!Ft(he,Ar),he=Ar}),tt&&A.fireImmediately&&Ge(he,an),tt||Mn!==!0||Ge(he,an),tt&&(tt=!1)}}return an.schedule(),an.getDisposer()}function sn(O,w,A){return us("onBecomeUnobserved",O,w,A)}function us(O,w,A,z){var K=typeof z=="function"?Vr(w,A):Vr(w),he=typeof z=="function"?z:A,Se=O+"Listeners";return K[Se]?K[Se].add(he):K[Se]=new Set([he]),typeof K[O]!="function"?j(!1):function(){var Ge=K[Se];Ge&&(Ge.delete(he),Ge.size===0&&delete K[Se])}}function vi(O){var w=O.enforceActions,A=O.computedRequiresReaction,z=O.computedConfigurable,K=O.disableErrorBoundaries,he=O.reactionScheduler,Se=O.reactionRequiresObservable,Ge=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ct.pendingReactions.length||ct.inBatch||ct.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),Wi=!0,Xr&&(--ou().__mobxInstanceCount==0&&(ou().__mobxGlobals=void 0),ct=new yi)),w!==void 0){var at=void 0;switch(w){case!0:case"observed":at=!0;break;case!1:case"never":at=!1;break;case"strict":case"always":at="strict";break;default:j("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ct.enforceActions=at,ct.allowStateChanges=at!==!0&&at!=="strict"}A!==void 0&&(ct.computedRequiresReaction=!!A),Se!==void 0&&(ct.reactionRequiresObservable=!!Se),Ge!==void 0&&(ct.observableRequiresReaction=!!Ge,ct.allowStateReads=!ct.observableRequiresReaction),z!==void 0&&(ct.computedConfigurable=!!z),K!==void 0&&(ct.disableErrorBoundaries=!!K),he&&os(he)}function To(O,w,A,z){var K=hu(z=me(z));return nt(O),Nr(O,z.name,K.enhancer),w&&ss(O,w,A,K),O}function hu(O){return O.defaultDecorator||(O.deep===!1?ze:Ce)}function ss(O,w,A,z){var K,he;xr();try{var Se=ne(w);try{for(var Ge=ge(Se),at=Ge.next();!at.done;at=Ge.next()){var $t=at.value,tt=Object.getOwnPropertyDescriptor(w,$t),vn=(A&&$t in A?A[$t]:tt.get?ot:z)(O,$t,tt,!0);vn&&Object.defineProperty(O,$t,vn)}}catch(Ft){K={error:Ft}}finally{try{at&&!at.done&&(he=Ge.return)&&he.call(Ge)}finally{if(K)throw K.error}}}finally{Dr()}}function zn(O,w){return du(Vr(O,w))}function du(O){var w,A,z={name:O.name};return O.observing&&O.observing.length>0&&(z.dependencies=(w=O.observing,A=[],w.forEach(function(K){A.indexOf(K)===-1&&A.push(K)}),A).map(du)),z}var Hi=0;function yu(){this.message="FLOW_CANCELLED"}function va(O){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var A,z=this,K=arguments,he=++Hi,Se=Ao(w+" - runid: "+he+" - init",O).apply(z,K),Ge=void 0,at=new Promise(function($t,tt){var vn=0;function Ft(Mn){var Ar;Ge=void 0;try{Ar=Ao(w+" - runid: "+he+" - yield "+vn++,Se.next).call(Se,Mn)}catch(Co){return tt(Co)}$r(Ar)}function an(Mn){var Ar;Ge=void 0;try{Ar=Ao(w+" - runid: "+he+" - yield "+vn++,Se.throw).call(Se,Mn)}catch(Co){return tt(Co)}$r(Ar)}function $r(Mn){if(!Mn||typeof Mn.then!="function")return Mn.done?$t(Mn.value):(Ge=Promise.resolve(Mn.value)).then(Ft,an);Mn.then($r,tt)}A=tt,Ft(void 0)});return at.cancel=Ao(w+" - runid: "+he+" - cancel",function(){try{Ge&&fr(Ge);var $t=Se.return(void 0),tt=Promise.resolve($t.value);tt.then(T,T),fr(tt),A(new yu)}catch(vn){A(vn)}}),at}}function fr(O){typeof O.cancel=="function"&&O.cancel()}function vu(O,w){if(O==null)return!1;if(w!==void 0){if(Mr(O)===!1||!O[Y].values.has(w))return!1;var A=Vr(O,w);return Mo(A)}return Mo(O)}function cs(O){return arguments.length>1?j(!1):vu(O)}function gu(O,w){return typeof w!="string"?j(!1):vu(O,w)}function ga(O,w){return O!=null&&(w!==void 0?!!Mr(O)&&O[Y].values.has(w):Mr(O)||!!O[Y]||V(O)||Gi(O)||Mo(O))}function gi(O){return arguments.length!==1&&j(!1),ga(O)}function vo(O){return Mr(O)?O[Y].getKeys():Kn(O)||mr(O)?Array.from(O.keys()):Yr(O)?O.map(function(w,A){return A}):j(!1)}function mn(O){return Mr(O)?vo(O).map(function(w){return O[w]}):Kn(O)?vo(O).map(function(w){return O.get(w)}):mr(O)?Array.from(O.values()):Yr(O)?O.slice():j(!1)}function ls(O){return Mr(O)?vo(O).map(function(w){return[w,O[w]]}):Kn(O)?vo(O).map(function(w){return[w,O.get(w)]}):mr(O)?Array.from(O.entries()):Yr(O)?O.map(function(w,A){return[A,w]}):j(!1)}function Er(O,w,A){if(arguments.length!==2||mr(O))if(Mr(O)){var z=O[Y],K=z.values.get(w);K?z.write(w,A):z.addObservableProp(w,A,z.defaultEnhancer)}else if(Kn(O))O.set(w,A);else if(mr(O))O.add(w);else{if(!Yr(O))return j(!1);typeof w!="number"&&(w=parseInt(w,10)),S(w>=0,"Not a valid index: '"+w+"'"),xr(),w>=O.length&&(O.length=w+1),O[w]=A,Dr()}else{xr();var he=w;try{for(var Se in he)Er(O,Se,he[Se])}finally{Dr()}}}function fs(O,w,A,z){return typeof A=="function"?function(K,he,Se,Ge){return Oo(K,he).observe(Se,Ge)}(O,w,A,z):function(K,he,Se){return Oo(K).observe(he,Se)}(O,w,A)}yu.prototype=Object.create(Error.prototype);var ps={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function gr(O,w,A,z){return z.detectCycles&&O.set(w,A),A}function Sr(O,w,A){if(!w.recurseEverything&&!gi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(Po(O))return Sr(O.get(),w,A);if(gi(O)&&vo(O),w.detectCycles===!0&&O!==null&&A.has(O))return A.get(O);if(Yr(O)||Array.isArray(O)){var z=gr(A,O,[],w),K=O.map(function(Ft){return Sr(Ft,w,A)});z.length=K.length;for(var he=0,Se=K.length;he<Se;he++)z[he]=K[he];return z}if(mr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var Ge=gr(A,O,new Set,w);return O.forEach(function(Ft){Ge.add(Sr(Ft,w,A))}),Ge}var at=gr(A,O,[],w);return O.forEach(function(Ft){at.push(Sr(Ft,w,A))}),at}if(Kn(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var $t=gr(A,O,new Map,w);return O.forEach(function(Ft,an){$t.set(an,Sr(Ft,w,A))}),$t}var tt=gr(A,O,{},w);return O.forEach(function(Ft,an){tt[an]=Sr(Ft,w,A)}),tt}var vn=gr(A,O,{},w);return ue(O).forEach(function(Ft){vn[Ft]=Sr(O[Ft],w,A)}),vn}function mu(O,w){var A;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=ps),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(A=new Map),Sr(O,w,A)}function rn(O){switch(O.length){case 0:return ct.trackingDerivation;case 1:return Vr(O[0]);case 2:return Vr(O[0],O[1])}}function er(O,w){w===void 0&&(w=void 0),xr();try{return O.apply(w)}finally{Dr()}}function ma(O,w,A){return arguments.length===1||w&&typeof w=="object"?bu(O,w):hs(O,w,A||{})}function hs(O,w,A){var z;typeof A.timeout=="number"&&(z=setTimeout(function(){if(!he[Y].isDisposed){he();var Se=new Error("WHEN_TIMEOUT");if(!A.onError)throw Se;A.onError(Se)}},A.timeout)),A.name=A.name||"When@"+E();var K=Gn(A.name+"-effect",w),he=pu(function(Se){O()&&(Se.dispose(),z&&clearTimeout(z),K())},A);return he}function bu(O,w){var A,z=new Promise(function(K,he){var Se=hs(O,K,xe(xe({},w),{onError:he}));A=function(){Se(),he("WHEN_CANCELLED")}});return z.cancel=A,z}function ba(O){return O[Y]}function go(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var ko={has:function(O,w){if(w===Y||w==="constructor"||w===je)return!0;var A=ba(O);return go(w)?A.has(w):w in O},get:function(O,w){if(w===Y||w==="constructor"||w===je)return O[w];var A=ba(O),z=A.values.get(w);if(z instanceof B){var K=z.get();return K===void 0&&A.has(w),K}return go(w)&&A.has(w),O[w]},set:function(O,w,A){return!!go(w)&&(Er(O,w,A),!0)},deleteProperty:function(O,w){return!!go(w)&&(ba(O).remove(w),!0)},ownKeys:function(O){return ba(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return j("Dynamic observable objects cannot be frozen"),!1}};function mi(O){var w=new Proxy(O,ko);return O[Y].proxy=w,w}function jr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function Do(O,w){var A=O.interceptors||(O.interceptors=[]);return A.push(w),k(function(){var z=A.indexOf(w);z!==-1&&A.splice(z,1)})}function en(O,w){var A=ae();try{for(var z=Fe(O.interceptors||[]),K=0,he=z.length;K<he&&(S(!(w=z[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{_e(A)}}function Pr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function mo(O,w){var A=O.changeListeners||(O.changeListeners=[]);return A.push(w),k(function(){var z=A.indexOf(w);z!==-1&&A.splice(z,1)})}function ur(O,w){var A=ae(),z=O.changeListeners;if(z){for(var K=0,he=(z=z.slice()).length;K<he;K++)z[K](w);_e(A)}}var _a={get:function(O,w){return w===Y?O[Y]:w==="length"?O[Y].getArrayLength():typeof w=="number"?Cn.get.call(O,w):typeof w!="string"||isNaN(w)?Cn.hasOwnProperty(w)?Cn[w]:O[w]:Cn.get.call(O,parseInt(w))},set:function(O,w,A){return w==="length"&&O[Y].setArrayLength(A),typeof w=="number"&&Cn.set.call(O,w,A),typeof w=="symbol"||isNaN(w)?O[w]=A:Cn.set.call(O,parseInt(w),A),!0},preventExtensions:function(O){return j("Observable arrays cannot be frozen"),!1}};function Xi(O,w,A,z){A===void 0&&(A="ObservableArray@"+E()),z===void 0&&(z=!1);var K,he,Se,Ge=new _u(A,w,z);K=Ge.values,he=Y,Se=Ge,Object.defineProperty(K,he,{enumerable:!1,writable:!1,configurable:!0,value:Se});var at=new Proxy(Ge.values,_a);if(Ge.proxy=at,O&&O.length){var $t=It(!0);Ge.spliceWithArray(0,0,O),hn($t)}return at}var _u=function(){function O(w,A,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B(w||"ObservableArray@"+E()),this.enhancer=function(K,he){return A(K,he,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return Do(this,w)},O.prototype.observe=function(w,A){return A===void 0&&(A=!1),A&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),mo(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var A=this.values.length;if(w!==A)if(w>A){for(var z=new Array(w-A),K=0;K<w-A;K++)z[K]=void 0;this.spliceWithArray(A,0,z)}else this.spliceWithArray(w,A-w)},O.prototype.updateArrayLength=function(w,A){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=A},O.prototype.spliceWithArray=function(w,A,z){var K=this;Ct(this.atom);var he=this.values.length;if(w===void 0?w=0:w>he?w=he:w<0&&(w=Math.max(0,he+w)),A=arguments.length===1?he-w:A==null?0:Math.max(0,Math.min(A,he-w)),z===void 0&&(z=m),jr(this)){var Se=en(this,{object:this.proxy,type:"splice",index:w,removedCount:A,added:z});if(!Se)return m;A=Se.removedCount,z=Se.added}z=z.length===0?z:z.map(function(at){return K.enhancer(at,void 0)});var Ge=this.spliceItemsIntoValues(w,A,z);return A===0&&z.length===0||this.notifyArraySplice(w,z,Ge),this.dehanceValues(Ge)},O.prototype.spliceItemsIntoValues=function(w,A,z){var K;if(z.length<1e4)return(K=this.values).splice.apply(K,Fe([w,A],z));var he=this.values.slice(w,w+A);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+A)),he},O.prototype.notifyArrayChildUpdate=function(w,A,z){var K=!this.owned&&!1,he=Pr(this),Se=he||K?{object:this.proxy,type:"update",index:w,newValue:A,oldValue:z}:null;this.atom.reportChanged(),he&&ur(this,Se)},O.prototype.notifyArraySplice=function(w,A,z){var K=!this.owned&&!1,he=Pr(this),Se=he||K?{object:this.proxy,type:"splice",index:w,removed:z,added:A,removedCount:z.length,addedCount:A.length}:null;this.atom.reportChanged(),he&&ur(this,Se)},O}(),Cn={intercept:function(O){return this[Y].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[Y].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[Y];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var A=[],z=2;z<arguments.length;z++)A[z-2]=arguments[z];var K=this[Y];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(O);case 2:return K.spliceWithArray(O,w)}return K.spliceWithArray(O,w,A)},spliceWithArray:function(O,w,A){return this[Y].spliceWithArray(O,w,A)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var A=this[Y];return A.spliceWithArray(A.values.length,0,O),A.values.length},pop:function(){return this.splice(Math.max(this[Y].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var A=this[Y];return A.spliceWithArray(0,0,O),A.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[Y],A=w.dehanceValues(w.values).indexOf(O);return A>-1&&(this.splice(A,1),!0)},get:function(O){var w=this[Y];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var A=this[Y],z=A.values;if(O<z.length){Ct(A.atom);var K=z[O];if(jr(A)){var he=en(A,{type:"update",object:A.proxy,index:O,newValue:w});if(!he)return;w=he.newValue}(w=A.enhancer(w,K))!==K&&(z[O]=w,A.notifyArrayChildUpdate(O,w,K))}else{if(O!==z.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+z.length);A.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Cn[O]=function(){var w=this[Y];w.atom.reportObserved();var A=w.dehanceValues(w.values);return A[O].apply(A,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Cn[O]=function(w,A){var z=this,K=this[Y];return K.atom.reportObserved(),K.dehanceValues(K.values)[O](function(he,Se){return w.call(A,he,Se,z)},A)})}),["reduce","reduceRight"].forEach(function(O){Cn[O]=function(){var w=this,A=this[Y];A.atom.reportObserved();var z=arguments[0];return arguments[0]=function(K,he,Se){return he=A.dehanceValue(he),z(K,he,Se,w)},A.values[O].apply(A.values,arguments)}});var Oa,No=G("ObservableArrayAdministration",_u);function Yr(O){return C(O)&&No(O[Y])}var Ou,Rc={},wu=function(){function O(w,A,z){if(A===void 0&&(A=qe),z===void 0&&(z="ObservableMap@"+E()),this.enhancer=A,this.name=z,this[Oa]=Rc,this._keysAtom=$(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var A=this;if(!ct.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var K=z=new Nn(this._has(w),gt,this.name+"."+re(w)+"?",!1);this._hasMap.set(w,K),sn(K,function(){return A._hasMap.delete(w)})}return z.get()},O.prototype.set=function(w,A){var z=this._has(w);if(jr(this)){var K=en(this,{type:z?"update":"add",object:this,newValue:A,name:w});if(!K)return this;A=K.newValue}return z?this._updateValue(w,A):this._addValue(w,A),this},O.prototype.delete=function(w){var A=this;if(Ct(this._keysAtom),jr(this)&&!(K=en(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=Pr(this),K=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return er(function(){A._keysAtom.reportChanged(),A._updateHasMapEntry(w,!1),A._data.get(w).setNewValue(void 0),A._data.delete(w)}),z&&ur(this,K),!0}return!1},O.prototype._updateHasMapEntry=function(w,A){var z=this._hasMap.get(w);z&&z.setNewValue(A)},O.prototype._updateValue=function(w,A){var z=this._data.get(w);if((A=z.prepareNewValue(A))!==ct.UNCHANGED){var K=Pr(this),he=K?{type:"update",object:this,oldValue:z.value,name:w,newValue:A}:null;z.setNewValue(A),K&&ur(this,he)}},O.prototype._addValue=function(w,A){var z=this;Ct(this._keysAtom),er(function(){var Se=new Nn(A,z.enhancer,z.name+"."+re(w),!1);z._data.set(w,Se),A=Se.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var K=Pr(this),he=K?{type:"add",object:this,name:w,newValue:A}:null;K&&ur(this,he)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,A=this.keys();return Zt({next:function(){var z=A.next(),K=z.done,he=z.value;return{done:K,value:K?void 0:w.get(he)}}})},O.prototype.entries=function(){var w=this,A=this.keys();return Zt({next:function(){var z=A.next(),K=z.done,he=z.value;return{done:K,value:K?void 0:[he,w.get(he)]}}})},O.prototype[Oa=Y,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,A){var z,K;try{for(var he=ge(this),Se=he.next();!Se.done;Se=he.next()){var Ge=Me(Se.value,2),at=Ge[0],$t=Ge[1];w.call(A,$t,at,this)}}catch(tt){z={error:tt}}finally{try{Se&&!Se.done&&(K=he.return)&&K.call(he)}finally{if(z)throw z.error}}},O.prototype.merge=function(w){var A=this;return Kn(w)&&(w=w.toJS()),er(function(){var z=It(!0);try{N(w)?ue(w).forEach(function(K){return A.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var he=Me(K,2),Se=he[0],Ge=he[1];return A.set(Se,Ge)}):X(w)?(w.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,he){return A.set(he,K)})):w!=null&&j("Cannot initialize map from "+w)}finally{hn(z)}}),this},O.prototype.clear=function(){var w=this;er(function(){de(function(){var A,z;try{for(var K=ge(w.keys()),he=K.next();!he.done;he=K.next()){var Se=he.value;w.delete(Se)}}catch(Ge){A={error:Ge}}finally{try{he&&!he.done&&(z=K.return)&&z.call(K)}finally{if(A)throw A.error}}})})},O.prototype.replace=function(w){var A=this;return er(function(){var z,K,he,Se,Ge=function(br){if(X(br)||Kn(br))return br;if(Array.isArray(br))return new Map(br);if(N(br)){var Yi=new Map;for(var _i in br)Yi.set(_i,br[_i]);return Yi}return j("Cannot convert to map from '"+br+"'")}(w),at=new Map,$t=!1;try{for(var tt=ge(A._data.keys()),vn=tt.next();!vn.done;vn=tt.next()){var Ft=vn.value;if(!Ge.has(Ft))if(A.delete(Ft))$t=!0;else{var an=A._data.get(Ft);at.set(Ft,an)}}}catch(br){z={error:br}}finally{try{vn&&!vn.done&&(K=tt.return)&&K.call(tt)}finally{if(z)throw z.error}}try{for(var $r=ge(Ge.entries()),Mn=$r.next();!Mn.done;Mn=$r.next()){var Ar=Me(Mn.value,2),Co=(Ft=Ar[0],an=Ar[1],A._data.has(Ft));if(A.set(Ft,an),A._data.has(Ft)){var Io=A._data.get(Ft);at.set(Ft,Io),Co||($t=!0)}}}catch(br){he={error:br}}finally{try{Mn&&!Mn.done&&(Se=$r.return)&&Se.call($r)}finally{if(he)throw he.error}}if(!$t)if(A._data.size!==at.size)A._keysAtom.reportChanged();else for(var Ui=A._data.keys(),Eu=at.keys(),Jo=Ui.next(),xa=Eu.next();!Jo.done;){if(Jo.value!==xa.value){A._keysAtom.reportChanged();break}Jo=Ui.next(),xa=Eu.next()}A._data=at}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,A,z={};try{for(var K=ge(this),he=K.next();!he.done;he=K.next()){var Se=Me(he.value,2),Ge=Se[0],at=Se[1];z[typeof Ge=="symbol"?Ge:re(Ge)]=at}}catch($t){w={error:$t}}finally{try{he&&!he.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return z},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(A){return re(A)+": "+w.get(A)}).join(", ")+" }]"},O.prototype.observe=function(w,A){return mo(this,w)},O.prototype.intercept=function(w){return Do(this,w)},O}(),Kn=G("ObservableMap",wu),bi={},bo=function(){function O(w,A,z){if(A===void 0&&(A=qe),z===void 0&&(z="ObservableSet@"+E()),this.name=z,this[Ou]=bi,this._data=new Set,this._atom=$(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,he){return A(K,he,z)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;er(function(){de(function(){var A,z;try{for(var K=ge(w._data.values()),he=K.next();!he.done;he=K.next()){var Se=he.value;w.delete(Se)}}catch(Ge){A={error:Ge}}finally{try{he&&!he.done&&(z=K.return)&&z.call(K)}finally{if(A)throw A.error}}})})},O.prototype.forEach=function(w,A){var z,K;try{for(var he=ge(this),Se=he.next();!Se.done;Se=he.next()){var Ge=Se.value;w.call(A,Ge,Ge,this)}}catch(at){z={error:at}}finally{try{Se&&!Se.done&&(K=he.return)&&K.call(he)}finally{if(z)throw z.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var A=this;if(Ct(this._atom),jr(this)&&!(K=en(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){er(function(){A._data.add(A.enhancer(w,void 0)),A._atom.reportChanged()});var z=Pr(this),K=z?{type:"add",object:this,newValue:w}:null;z&&ur(this,K)}return this},O.prototype.delete=function(w){var A=this;if(jr(this)&&!(K=en(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=Pr(this),K=z?{type:"delete",object:this,oldValue:w}:null;return er(function(){A._atom.reportChanged(),A._data.delete(w)}),z&&ur(this,K),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,A=Array.from(this.keys()),z=Array.from(this.values());return Zt({next:function(){var K=w;return w+=1,K<z.length?{value:[A[K],z[K]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,A=0,z=Array.from(this._data.values());return Zt({next:function(){return A<z.length?{value:w.dehanceValue(z[A++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var A=this;return mr(w)&&(w=w.toJS()),er(function(){var z=It(!0);try{Array.isArray(w)||Q(w)?(A.clear(),w.forEach(function(K){return A.add(K)})):w!=null&&j("Cannot initialize set from "+w)}finally{hn(z)}}),this},O.prototype.observe=function(w,A){return mo(this,w)},O.prototype.intercept=function(w){return Do(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[Ou=Y,Symbol.iterator]=function(){return this.values()},O}(),mr=G("ObservableSet",bo),xu=function(){function O(w,A,z,K){A===void 0&&(A=new Map),this.target=w,this.values=A,this.name=z,this.defaultEnhancer=K,this.keysAtom=new B(z+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,A){var z=this.target,K=this.values.get(w);if(K instanceof yo)K.set(A);else{if(jr(this)){if(!(Se=en(this,{type:"update",object:this.proxy||z,name:w,newValue:A})))return;A=Se.newValue}if((A=K.prepareNewValue(A))!==ct.UNCHANGED){var he=Pr(this),Se=he?{type:"update",object:this.proxy||z,oldValue:K.value,name:w,newValue:A}:null;K.setNewValue(A),he&&ur(this,Se)}}},O.prototype.has=function(w){var A=this.pendingKeys||(this.pendingKeys=new Map),z=A.get(w);if(z)return z.get();var K=!!this.values.get(w);return z=new Nn(K,gt,this.name+"."+re(w)+"?",!1),A.set(w,z),z.get()},O.prototype.addObservableProp=function(w,A,z){z===void 0&&(z=this.defaultEnhancer);var K=this.target;if(jr(this)){var he=en(this,{object:this.proxy||K,name:w,type:"add",newValue:A});if(!he)return;A=he.newValue}var Se=new Nn(A,z,this.name+"."+re(w),!1);this.values.set(w,Se),A=Se.value,Object.defineProperty(K,w,function(Ge){return Zo[Ge]||(Zo[Ge]={configurable:!0,enumerable:!0,get:function(){return this[Y].read(Ge)},set:function(at){this[Y].write(Ge,at)}})}(w)),this.notifyPropertyAddition(w,A)},O.prototype.addComputedProp=function(w,A,z){var K,he,Se,Ge=this.target;z.name=z.name||this.name+"."+re(A),this.values.set(A,new yo(z)),(w===Ge||(K=w,he=A,!(Se=Object.getOwnPropertyDescriptor(K,he))||Se.configurable!==!1&&Se.writable!==!1))&&Object.defineProperty(w,A,function(at){return wa[at]||(wa[at]={configurable:ct.computedConfigurable,enumerable:!1,get:function(){return _o(this).read(at)},set:function($t){_o(this).write(at,$t)}})}(A))},O.prototype.remove=function(w){if(this.values.has(w)){var A=this.target;if(jr(this)&&!(at=en(this,{object:this.proxy||A,name:w,type:"remove"})))return;try{xr();var z=Pr(this),K=!1,he=this.values.get(w),Se=he&&he.get();if(he&&he.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Ge=this.pendingKeys.get(w);Ge&&Ge.set(!1)}delete this.target[w];var at=z?{type:"remove",object:this.proxy||A,oldValue:Se,name:w}:null;z&&ur(this,at)}finally{Dr()}}},O.prototype.illegalAccess=function(w,A){},O.prototype.observe=function(w,A){return mo(this,w)},O.prototype.intercept=function(w){return Do(this,w)},O.prototype.notifyPropertyAddition=function(w,A){var z=Pr(this),K=z?{type:"add",object:this.proxy||this.target,name:w,newValue:A}:null;if(z&&ur(this,K),this.pendingKeys){var he=this.pendingKeys.get(w);he&&he.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,A;this.keysAtom.reportObserved();var z=[];try{for(var K=ge(this.values),he=K.next();!he.done;he=K.next()){var Se=Me(he.value,2),Ge=Se[0];Se[1]instanceof Nn&&z.push(Ge)}}catch(at){w={error:at}}finally{try{he&&!he.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return z},O}();function Nr(O,w,A){if(w===void 0&&(w=""),A===void 0&&(A=qe),Object.prototype.hasOwnProperty.call(O,Y))return O[Y];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var z=new xu(O,new Map,re(w),A);return R(O,Y,z),z}var Zo=Object.create(null),wa=Object.create(null);function _o(O){var w=O[Y];return w||(nt(O),O[Y])}var Cr=G("ObservableObjectAdministration",xu);function Mr(O){return!!C(O)&&(nt(O),Cr(O[Y]))}function Vr(O,w){if(typeof O=="object"&&O!==null){if(Yr(O))return w!==void 0&&j(!1),O[Y].atom;if(mr(O))return O[Y];if(Kn(O)){var A=O;return w===void 0?A._keysAtom:((z=A._data.get(w)||A._hasMap.get(w))||j(!1),z)}var z;if(nt(O),w&&!O[Y]&&O[w],Mr(O))return w?((z=O[Y].values.get(w))||j(!1),z):j(!1);if(V(O)||Mo(O)||Gi(O))return O}else if(typeof O=="function"&&Gi(O[Y]))return O[Y];return j(!1)}function Oo(O,w){return O||j("Expecting some object"),w!==void 0?Oo(Vr(O,w)):V(O)||Mo(O)||Gi(O)||Kn(O)||mr(O)?O:(nt(O),O[Y]?O[Y]:void j(!1))}var we=Object.prototype.toString;function Ie(O,w,A){return A===void 0&&(A=-1),Le(O,w,A)}function Le(O,w,A,z,K){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var he=typeof O;if(he!=="function"&&he!=="object"&&typeof w!="object")return!1;var Se=we.call(O);if(Se!==we.call(w))return!1;switch(Se){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":A>=0&&A++}O=Je(O),w=Je(w);var Ge=Se==="[object Array]";if(!Ge){if(typeof O!="object"||typeof w!="object")return!1;var at=O.constructor,$t=w.constructor;if(at!==$t&&!(typeof at=="function"&&at instanceof at&&typeof $t=="function"&&$t instanceof $t)&&"constructor"in O&&"constructor"in w)return!1}if(A===0)return!1;A<0&&(A=-1),K=K||[];for(var tt=(z=z||[]).length;tt--;)if(z[tt]===O)return K[tt]===w;if(z.push(O),K.push(w),Ge){if((tt=O.length)!==w.length)return!1;for(;tt--;)if(!Le(O[tt],w[tt],A-1,z,K))return!1}else{var vn=Object.keys(O),Ft=void 0;if(tt=vn.length,Object.keys(w).length!==tt)return!1;for(;tt--;)if(!Bt(w,Ft=vn[tt])||!Le(O[Ft],w[Ft],A-1,z,K))return!1}return z.pop(),K.pop(),!0}function Je(O){return Yr(O)?O.slice():X(O)||Kn(O)||Q(O)||mr(O)?Array.from(O.entries()):O}function Bt(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function Zt(O){return O[Symbol.iterator]=On,O}function On(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:cu,extras:{getDebugName:function(O,w){return(w!==void 0?Vr(O,w):Mr(O)||Kn(O)||mr(O)?Oo(O):Vr(O)).name}},$mobx:Y})}).call(this,o(160),o(66))},function(u,l,o){var f=o(113),p=o(42),m=o(179);f||p(Object.prototype,"toString",m,{unsafe:!0})},function(u,l,o){var f=o(41),p=o(100),m=o(78),g=o(58),E=o(116),j="Array Iterator",S=g.set,k=g.getterFor(j);u.exports=E(Array,"Array",function(T,C){S(this,{type:j,target:f(T),index:0,kind:C})},function(){var T=k(this),C=T.target,N=T.kind,R=T.index++;return!C||R>=C.length?(T.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:R,done:!1}:N=="values"?{value:C[R],done:!1}:{value:[R,C[R]],done:!1}},"values"),m.Arguments=m.Array,p("keys"),p("values"),p("entries")},function(u,l,o){var f=o(17),p=o(7),m=o(46),g=o(74),E=o(34),j=o(15),S=o(69),k=o(36),T=o(108),C=o(18),N=o(35),R=o(96),G=o(30),X=o(33),Q=o(54),ue=o(87),re=o(32),te=o(40),ne=o(41),Y=o(86),B=o(39),V=o(67),$=o(60),q=o(75),se=o(72),xe=o(139),ge=o(112),Me=o(50),Fe=o(38),je=o(84),ve=o(98),Pe=o(42),Ae=o(89),He=o(93),nt=o(70),vt=o(90),Xe=o(28),qe=o(140),gt=o(141),le=o(76),ce=o(58),me=o(77).forEach,Ce=He("hidden"),Ue="Symbol",ze=Xe("toPrimitive"),xt=ce.set,kt=ce.getterFor(Ue),jt=Object.prototype,yt=p.Symbol,ke=yt&&yt.prototype,st=p.TypeError,pe=p.QObject,ot=m("JSON","stringify"),Lt=Me.f,un=Fe.f,zt=xe.f,Qt=je.f,yn=j([].push),jn=Ae("symbols"),Ct=Ae("op-symbols"),Wn=Ae("string-to-symbol-registry"),J=Ae("symbol-to-string-registry"),de=Ae("wks"),ae=!pe||!pe.prototype||!pe.prototype.findChild,_e=k&&C(function(){return $(un({},"a",{get:function(){return un(this,"a",{value:7}).a}})).a!=7})?function(it,bt,St){var It=Lt(jt,bt);It&&delete jt[bt],un(it,bt,St),It&&it!==jt&&un(jt,bt,It)}:un,$e=function(it,bt){var St=jn[it]=$(ke);return xt(St,{type:Ue,tag:it,description:bt}),k||(St.description=bt),St},Ke=function(it,bt,St){it===jt&&Ke(Ct,bt,St),re(it);var It=Y(bt);return re(St),N(jn,It)?(St.enumerable?(N(it,Ce)&&it[Ce][It]&&(it[Ce][It]=!1),St=$(St,{enumerable:V(0,!1)})):(N(it,Ce)||un(it,Ce,V(1,{})),it[Ce][It]=!0),_e(it,It,St)):un(it,It,St)},ft=function(it,bt){re(it);var St=ne(bt),It=q(St).concat(Gn(St));return me(It,function(hn){k&&!E(Ut,St,hn)||Ke(it,hn,St[hn])}),it},Ut=function(it){var bt=Y(it),St=E(Qt,this,bt);return!(this===jt&&N(jn,bt)&&!N(Ct,bt))&&(!(St||!N(this,bt)||!N(jn,bt)||N(this,Ce)&&this[Ce][bt])||St)},Qn=function(it,bt){var St=ne(it),It=Y(bt);if(St!==jt||!N(jn,It)||N(Ct,It)){var hn=Lt(St,It);return!hn||!N(jn,It)||N(St,Ce)&&St[Ce][It]||(hn.enumerable=!0),hn}},lr=function(it){var bt=zt(ne(it)),St=[];return me(bt,function(It){N(jn,It)||N(nt,It)||yn(St,It)}),St},Gn=function(it){var bt=it===jt,St=zt(bt?Ct:ne(it)),It=[];return me(St,function(hn){!N(jn,hn)||bt&&!N(jt,hn)||yn(It,jn[hn])}),It};if(T||(yt=function(){if(Q(ke,this))throw st("Symbol is not a constructor");var it=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,bt=vt(it),St=function(It){this===jt&&E(St,Ct,It),N(this,Ce)&&N(this[Ce],bt)&&(this[Ce][bt]=!1),_e(this,bt,V(1,It))};return k&&ae&&_e(jt,bt,{configurable:!0,set:St}),$e(bt,it)},Pe(ke=yt.prototype,"toString",function(){return kt(this).tag}),Pe(yt,"withoutSetter",function(it){return $e(vt(it),it)}),je.f=Ut,Fe.f=Ke,Me.f=Qn,se.f=xe.f=lr,ge.f=Gn,qe.f=function(it){return $e(Xe(it),it)},k&&(un(ke,"description",{configurable:!0,get:function(){return kt(this).description}}),S||Pe(jt,"propertyIsEnumerable",Ut,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:yt}),me(q(de),function(it){gt(it)}),f({target:Ue,stat:!0,forced:!T},{for:function(it){var bt=B(it);if(N(Wn,bt))return Wn[bt];var St=yt(bt);return Wn[bt]=St,J[St]=bt,St},keyFor:function(it){if(!ue(it))throw st(it+" is not a symbol");if(N(J,it))return J[it]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),f({target:"Object",stat:!0,forced:!T,sham:!k},{create:function(it,bt){return bt===void 0?$(it):ft($(it),bt)},defineProperty:Ke,defineProperties:ft,getOwnPropertyDescriptor:Qn}),f({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:lr,getOwnPropertySymbols:Gn}),f({target:"Object",stat:!0,forced:C(function(){ge.f(1)})},{getOwnPropertySymbols:function(it){return ge.f(te(it))}}),ot&&f({target:"JSON",stat:!0,forced:!T||C(function(){var it=yt();return ot([it])!="[null]"||ot({a:it})!="{}"||ot(Object(it))!="{}"})},{stringify:function(it,bt,St){var It=ve(arguments),hn=bt;if((X(bt)||it!==void 0)&&!ue(it))return R(bt)||(bt=function(Nn,Po){if(G(hn)&&(Po=E(hn,this,Nn,Po)),!ue(Po))return Po}),It[1]=bt,g(ot,null,It)}}),!ke[ze]){var $n=ke.valueOf;Pe(ke,ze,function(it){return E($n,this)})}le(yt,Ue),nt[Ce]=!0},function(u,l,o){var f=o(7),p=o(152),m=o(153),g=o(3),E=o(57),j=o(28),S=j("iterator"),k=j("toStringTag"),T=g.values,C=function(R,G){if(R){if(R[S]!==T)try{E(R,S,T)}catch{R[S]=T}if(R[k]||E(R,k,G),p[G]){for(var X in g)if(R[X]!==g[X])try{E(R,X,g[X])}catch{R[X]=g[X]}}}};for(var N in p)C(f[N]&&f[N].prototype,N);C(m,"DOMTokenList")},function(u,l,o){var f=o(151).charAt,p=o(39),m=o(58),g=o(116),E="String Iterator",j=m.set,S=m.getterFor(E);g(String,"String",function(k){j(this,{type:E,string:p(k),index:0})},function(){var k,T=S(this),C=T.string,N=T.index;return N>=C.length?{value:void 0,done:!0}:(k=f(C,N),T.index+=k.length,{value:k,done:!1})})},function(u,l,o){(function(f){var p=function(m){return m&&m.Math==Math&&m};u.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,o(66))},function(u,l,o){var f=o(17),p=o(36),m=o(7),g=o(15),E=o(35),j=o(30),S=o(54),k=o(39),T=o(38).f,C=o(134),N=m.Symbol,R=N&&N.prototype;if(p&&j(N)&&(!("description"in R)||N().description!==void 0)){var G={},X=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),V=S(R,this)?new N(B):B===void 0?N():N(B);return B===""&&(G[V]=!0),V};C(X,N),X.prototype=R,R.constructor=X;var Q=String(N("test"))=="Symbol(test)",ue=g(R.toString),re=g(R.valueOf),te=/^Symbol\((.*)\)[^)]+$/,ne=g("".replace),Y=g("".slice);T(R,"description",{configurable:!0,get:function(){var B=re(this),V=ue(B);if(E(G,B))return"";var $=Q?Y(V,7,-1):ne(V,te,"$1");return $===""?void 0:$}}),f({global:!0,forced:!0},{Symbol:X})}},function(u,l,o){o(141)("iterator")},function(u,l,o){o.d(l,"a",function(){return g.a}),o.d(l,"c",function(){return g.e}),o.d(l,"h",function(){return te}),o.d(l,"i",function(){return Q}),o.d(l,"j",function(){return G}),o.d(l,"b",function(){return Me}),o.d(l,"e",function(){return Pe}),o.d(l,"f",function(){return Fe}),o.d(l,"g",function(){return jn});var f,p,m,g=o(0),E=0,j=[],S=g.i.__b,k=g.i.__r,T=g.i.diffed,C=g.i.__c,N=g.i.unmount;function R(J,de){g.i.__h&&g.i.__h(p,J,E||de),E=0;var ae=p.__H||(p.__H={__:[],__h:[]});return J>=ae.__.length&&ae.__.push({}),ae.__[J]}function G(J){return E=1,X(se,J)}function X(J,de,ae){var _e=R(f++,2);return _e.t=J,_e.__c||(_e.__=[ae?ae(de):se(void 0,de),function($e){var Ke=_e.t(_e.__[0],$e);_e.__[0]!==Ke&&(_e.__=[Ke,_e.__[1]],_e.__c.setState({}))}],_e.__c=p),_e.__}function Q(J,de){var ae=R(f++,3);!g.i.__s&&q(ae.__H,de)&&(ae.__=J,ae.__H=de,p.__H.__h.push(ae))}function ue(J,de){var ae=R(f++,4);!g.i.__s&&q(ae.__H,de)&&(ae.__=J,ae.__H=de,p.__h.push(ae))}function re(J,de){var ae=R(f++,7);return q(ae.__H,de)&&(ae.__=J(),ae.__H=de,ae.__h=J),ae.__}function te(J,de){return E=8,re(function(){return J},de)}function ne(){var J;for(j.sort(function(de,ae){return de.__v.__b-ae.__v.__b});J=j.pop();)if(J.__P)try{J.__H.__h.forEach(V),J.__H.__h.forEach($),J.__H.__h=[]}catch(de){J.__H.__h=[],g.i.__e(de,J.__v)}}g.i.__b=function(J){p=null,S&&S(J)},g.i.__r=function(J){k&&k(J),f=0;var de=(p=J.__c).__H;de&&(de.__h.forEach(V),de.__h.forEach($),de.__h=[])},g.i.diffed=function(J){T&&T(J);var de=J.__c;de&&de.__H&&de.__H.__h.length&&(j.push(de)!==1&&m===g.i.requestAnimationFrame||((m=g.i.requestAnimationFrame)||B)(ne)),p=null},g.i.__c=function(J,de){de.some(function(ae){try{ae.__h.forEach(V),ae.__h=ae.__h.filter(function(_e){return!_e.__||$(_e)})}catch(_e){de.some(function($e){$e.__h&&($e.__h=[])}),de=[],g.i.__e(_e,ae.__v)}}),C&&C(J,de)},g.i.unmount=function(J){N&&N(J);var de,ae=J.__c;ae&&ae.__H&&(ae.__H.__.forEach(function(_e){try{V(_e)}catch($e){de=$e}}),de&&g.i.__e(de,ae.__v))};var Y=typeof requestAnimationFrame=="function";function B(J){var de,ae=function(){clearTimeout(_e),Y&&cancelAnimationFrame(de),setTimeout(J)},_e=setTimeout(ae,100);Y&&(de=requestAnimationFrame(ae))}function V(J){var de=p,ae=J.__c;typeof ae=="function"&&(J.__c=void 0,ae()),p=de}function $(J){var de=p;J.__c=J.__(),p=de}function q(J,de){return!J||J.length!==de.length||de.some(function(ae,_e){return ae!==J[_e]})}function se(J,de){return typeof de=="function"?de(J):de}function xe(J,de){for(var ae in de)J[ae]=de[ae];return J}function ge(J,de){for(var ae in J)if(ae!=="__source"&&!(ae in de))return!0;for(var _e in de)if(_e!=="__source"&&J[_e]!==de[_e])return!0;return!1}function Me(J){this.props=J}function Fe(J,de){function ae($e){var Ke=this.props.ref,ft=Ke==$e.ref;return!ft&&Ke&&(Ke.call?Ke(null):Ke.current=null),de?!de(this.props,$e)||!ft:ge(this.props,$e)}function _e($e){return this.shouldComponentUpdate=ae,Object(g.e)(J,$e)}return _e.displayName="Memo("+(J.displayName||J.name)+")",_e.prototype.isReactComponent=!0,_e.__f=!0,_e}(Me.prototype=new g.a).isPureReactComponent=!0,Me.prototype.shouldComponentUpdate=function(J,de){return ge(this.props,J)||ge(this.state,de)};var je=g.i.__b;g.i.__b=function(J){J.type&&J.type.__f&&J.ref&&(J.props.ref=J.ref,J.ref=null),je&&je(J)};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(J){function de(ae,_e){var $e=xe({},ae);return delete $e.ref,J($e,!(_e=ae.ref||_e)||typeof _e=="object"&&!("current"in _e)?null:_e)}return de.$$typeof=ve,de.render=de,de.prototype.isReactComponent=de.__f=!0,de.displayName="ForwardRef("+(J.displayName||J.name)+")",de}var Ae=function(J,de){return J==null?null:Object(g.k)(Object(g.k)(J).map(de))},He={map:Ae,forEach:Ae,count:function(J){return J?Object(g.k)(J).length:0},only:function(J){var de=Object(g.k)(J);if(de.length!==1)throw"Children.only";return de[0]},toArray:g.k},nt=g.i.__e;g.i.__e=function(J,de,ae){if(J.then){for(var _e,$e=de;$e=$e.__;)if((_e=$e.__c)&&_e.__c)return de.__e==null&&(de.__e=ae.__e,de.__k=ae.__k),_e.__c(J,de)}nt(J,de,ae)};var vt=g.i.unmount;function Xe(J,de,ae){return J&&(J.__c&&J.__c.__H&&(J.__c.__H.__.forEach(function(_e){typeof _e.__c=="function"&&_e.__c()}),J.__c.__H=null),(J=xe({},J)).__c!=null&&(J.__c.__P===ae&&(J.__c.__P=de),J.__c=null),J.__k=J.__k&&J.__k.map(function(_e){return Xe(_e,de,ae)})),J}function qe(J,de,ae){return J&&(J.__v=null,J.__k=J.__k&&J.__k.map(function(_e){return qe(_e,de,ae)}),J.__c&&J.__c.__P===de&&(J.__e&&ae.insertBefore(J.__e,J.__d),J.__c.__e=!0,J.__c.__P=ae)),J}function gt(){this.__u=0,this.t=null,this.__b=null}function le(J){var de=J.__.__c;return de&&de.__e&&de.__e(J)}function ce(){this.u=null,this.o=null}g.i.unmount=function(J){var de=J.__c;de&&de.__R&&de.__R(),de&&J.__h===!0&&(J.type=null),vt&&vt(J)},(gt.prototype=new g.a).__c=function(J,de){var ae=de.__c,_e=this;_e.t==null&&(_e.t=[]),_e.t.push(ae);var $e=le(_e.__v),Ke=!1,ft=function(){Ke||(Ke=!0,ae.__R=null,$e?$e(Ut):Ut())};ae.__R=ft;var Ut=function(){if(!--_e.__u){if(_e.state.__e){var lr=_e.state.__e;_e.__v.__k[0]=qe(lr,lr.__c.__P,lr.__c.__O)}var Gn;for(_e.setState({__e:_e.__b=null});Gn=_e.t.pop();)Gn.forceUpdate()}},Qn=de.__h===!0;_e.__u++||Qn||_e.setState({__e:_e.__b=_e.__v.__k[0]}),J.then(ft,ft)},gt.prototype.componentWillUnmount=function(){this.t=[]},gt.prototype.render=function(J,de){if(this.__b){if(this.__v.__k){var ae=document.createElement("div"),_e=this.__v.__k[0].__c;this.__v.__k[0]=Xe(this.__b,ae,_e.__O=_e.__P)}this.__b=null}var $e=de.__e&&Object(g.e)(g.b,null,J.fallback);return $e&&($e.__h=null),[Object(g.e)(g.b,null,de.__e?null:J.children),$e]};var me=function(J,de,ae){if(++ae[1]===ae[0]&&J.o.delete(de),J.props.revealOrder&&(J.props.revealOrder[0]!=="t"||!J.o.size))for(ae=J.u;ae;){for(;ae.length>3;)ae.pop()();if(ae[1]<ae[0])break;J.u=ae=ae[2]}};function Ce(J){return this.getChildContext=function(){return J.context},J.children}function Ue(J){var de=this,ae=J.i;de.componentWillUnmount=function(){Object(g.j)(null,de.l),de.l=null,de.i=null},de.i&&de.i!==ae&&de.componentWillUnmount(),J.__v?(de.l||(de.i=ae,de.l={nodeType:1,parentNode:ae,childNodes:[],appendChild:function(_e){this.childNodes.push(_e),de.i.appendChild(_e)},insertBefore:function(_e,$e){this.childNodes.push(_e),de.i.appendChild(_e)},removeChild:function(_e){this.childNodes.splice(this.childNodes.indexOf(_e)>>>1,1),de.i.removeChild(_e)}}),Object(g.j)(Object(g.e)(Ce,{context:de.context},J.__v),de.l)):de.l&&de.componentWillUnmount()}(ce.prototype=new g.a).__e=function(J){var de=this,ae=le(de.__v),_e=de.o.get(J);return _e[0]++,function($e){var Ke=function(){de.props.revealOrder?(_e.push($e),me(de,J,_e)):$e()};ae?ae(Ke):Ke()}},ce.prototype.render=function(J){this.u=null,this.o=new Map;var de=Object(g.k)(J.children);J.revealOrder&&J.revealOrder[0]==="b"&&de.reverse();for(var ae=de.length;ae--;)this.o.set(de[ae],this.u=[1,0,this.u]);return J.children},ce.prototype.componentDidUpdate=ce.prototype.componentDidMount=function(){var J=this;this.o.forEach(function(de,ae){me(J,ae,de)})};var ze=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,xt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,kt=typeof document<"u",jt=function(J){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(J)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(J){Object.defineProperty(g.a.prototype,J,{configurable:!0,get:function(){return this["UNSAFE_"+J]},set:function(de){Object.defineProperty(this,J,{configurable:!0,writable:!0,value:de})}})});var yt=g.i.event;function ke(){}function st(){return this.cancelBubble}function pe(){return this.defaultPrevented}g.i.event=function(J){return yt&&(J=yt(J)),J.persist=ke,J.isPropagationStopped=st,J.isDefaultPrevented=pe,J.nativeEvent=J};var ot,Lt={configurable:!0,get:function(){return this.class}},un=g.i.vnode;g.i.vnode=function(J){var de=J.type,ae=J.props,_e=ae;if(typeof de=="string"){var $e=de.indexOf("-")===-1;for(var Ke in _e={},ae){var ft=ae[Ke];kt&&Ke==="children"&&de==="noscript"||Ke==="value"&&"defaultValue"in ae&&ft==null||(Ke==="defaultValue"&&"value"in ae&&ae.value==null?Ke="value":Ke==="download"&&ft===!0?ft="":/ondoubleclick/i.test(Ke)?Ke="ondblclick":/^onchange(textarea|input)/i.test(Ke+de)&&!jt(ae.type)?Ke="oninput":/^onfocus$/i.test(Ke)?Ke="onfocusin":/^onblur$/i.test(Ke)?Ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ke)?Ke=Ke.toLowerCase():$e&&xt.test(Ke)?Ke=Ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():ft===null&&(ft=void 0),_e[Ke]=ft)}de=="select"&&_e.multiple&&Array.isArray(_e.value)&&(_e.value=Object(g.k)(ae.children).forEach(function(Ut){Ut.props.selected=_e.value.indexOf(Ut.props.value)!=-1})),de=="select"&&_e.defaultValue!=null&&(_e.value=Object(g.k)(ae.children).forEach(function(Ut){Ut.props.selected=_e.multiple?_e.defaultValue.indexOf(Ut.props.value)!=-1:_e.defaultValue==Ut.props.value})),J.props=_e,ae.class!=ae.className&&(Lt.enumerable="className"in ae,ae.className!=null&&(_e.class=ae.className),Object.defineProperty(_e,"className",Lt))}J.$$typeof=ze,un&&un(J)};var zt=g.i.__r;g.i.__r=function(J){zt&&zt(J),ot=J.__c};var Qt={ReactCurrentDispatcher:{current:{readContext:function(J){return ot.__n[J.__c].props.value}}}};function yn(J){return!!J&&J.$$typeof===ze}var jn=function(J,de){return J(de)},Ct=g.b,Wn={useState:G,useReducer:X,useEffect:Q,useLayoutEffect:ue,useRef:function(J){return E=5,re(function(){return{current:J}},[])},useImperativeHandle:function(J,de,ae){E=6,ue(function(){typeof J=="function"?J(de()):J&&(J.current=de())},ae==null?ae:ae.concat(J))},useMemo:re,useCallback:te,useContext:function(J){var de=p.context[J.__c],ae=R(f++,9);return ae.c=J,de?(ae.__==null&&(ae.__=!0,de.sub(p)),de.props.value):J.__},useDebugValue:function(J,de){g.i.useDebugValue&&g.i.useDebugValue(de?de(J):J)},version:"17.0.2",Children:He,render:function(J,de,ae){return de.__k==null&&(de.textContent=""),Object(g.j)(J,de),typeof ae=="function"&&ae(),J?J.__c:null},hydrate:function(J,de,ae){return Object(g.h)(J,de),typeof ae=="function"&&ae(),J?J.__c:null},unmountComponentAtNode:function(J){return!!J.__k&&(Object(g.j)(null,J),!0)},createPortal:function(J,de){return Object(g.e)(Ue,{__v:J,i:de})},createElement:g.e,createContext:g.d,createFactory:function(J){return g.e.bind(null,J)},cloneElement:function(J){return yn(J)?g.c.apply(null,arguments):J},createRef:g.f,Fragment:g.b,isValidElement:yn,findDOMNode:function(J){return J&&(J.base||J.nodeType===1&&J)||null},Component:g.a,PureComponent:Me,memo:Fe,forwardRef:Pe,flushSync:function(J,de){return J(de)},unstable_batchedUpdates:jn,StrictMode:Ct,Suspense:gt,SuspenseList:ce,lazy:function(J){var de,ae,_e;function $e(Ke){if(de||(de=J()).then(function(ft){ae=ft.default||ft},function(ft){_e=ft}),_e)throw _e;if(!ae)throw de;return Object(g.e)(ae,Ke)}return $e.displayName="Lazy",$e.__f=!0,$e},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Qt};l.d=Wn},function(u,l,o){var f=o(7),p=o(152),m=o(153),g=o(187),E=o(57),j=function(k){if(k&&k.forEach!==g)try{E(k,"forEach",g)}catch{k.forEach=g}};for(var S in p)p[S]&&j(f[S]&&f[S].prototype);j(m)},function(u,l,o){o(17)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(u,l,o){var f=o(17),p=o(18),m=o(40),g=o(101),E=o(143);f({target:"Object",stat:!0,forced:p(function(){g(1)}),sham:!E},{getPrototypeOf:function(j){return g(m(j))}})},function(u,l,o){var f=o(17),p=o(46),m=o(74),g=o(202),E=o(162),j=o(32),S=o(33),k=o(60),T=o(18),C=p("Reflect","construct"),N=Object.prototype,R=[].push,G=T(function(){function ue(){}return!(C(function(){},[],ue)instanceof ue)}),X=!T(function(){C(function(){})}),Q=G||X;f({target:"Reflect",stat:!0,forced:Q,sham:Q},{construct:function(ue,re){E(ue),j(re);var te=arguments.length<3?ue:E(arguments[2]);if(X&&!G)return C(ue,re,te);if(ue==te){switch(re.length){case 0:return new ue;case 1:return new ue(re[0]);case 2:return new ue(re[0],re[1]);case 3:return new ue(re[0],re[1],re[2]);case 4:return new ue(re[0],re[1],re[2],re[3])}var ne=[null];return m(R,ne,re),new(m(g,ue,ne))}var Y=te.prototype,B=k(S(Y)?Y:N),V=m(ue,B,re);return S(V)?V:B}})},function(u,l){var o=Function.prototype,f=o.bind,p=o.call,m=f&&f.bind(p);u.exports=f?function(g){return g&&m(p,g)}:function(g){return g&&function(){return p.apply(g,arguments)}}},function(u,l,o){var f=o(17),p=o(7),m=o(96),g=o(99),E=o(33),j=o(73),S=o(45),k=o(41),T=o(62),C=o(28),N=o(79),R=o(98),G=N("slice"),X=C("species"),Q=p.Array,ue=Math.max;f({target:"Array",proto:!0,forced:!G},{slice:function(re,te){var ne,Y,B,V=k(this),$=S(V),q=j(re,$),se=j(te===void 0?$:te,$);if(m(V)&&(ne=V.constructor,(g(ne)&&(ne===Q||m(ne.prototype))||E(ne)&&(ne=ne[X])===null)&&(ne=void 0),ne===Q||ne===void 0))return R(V,q,se);for(Y=new(ne===void 0?Q:ne)(ue(se-q,0)),B=0;q<se;q++,B++)q in V&&T(Y,B,V[q]);return Y.length=B,Y}})},function(u,l,o){var f=o(7),p=o(50).f,m=o(57),g=o(42),E=o(110),j=o(134),S=o(95);u.exports=function(k,T){var C,N,R,G,X,Q=k.target,ue=k.global,re=k.stat;if(C=ue?f:re?f[Q]||E(Q,{}):(f[Q]||{}).prototype)for(N in T){if(G=T[N],R=k.noTargetGet?(X=p(C,N))&&X.value:C[N],!S(ue?N:Q+(re?".":"#")+N,k.forced)&&R!==void 0){if(typeof G==typeof R)continue;j(G,R)}(k.sham||R&&R.sham)&&m(G,"sham",!0),g(C,N,G,k)}}},function(u,l){u.exports=function(o){try{return!!o()}catch{return!0}}},function(u,l,o){var f=o(17),p=o(103);f({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},function(u,l,o){var f=o(17),p=o(40),m=o(75);f({target:"Object",stat:!0,forced:o(18)(function(){m(1)})},{keys:function(g){return m(p(g))}})},function(u,l,o){var f=o(36),p=o(71).EXISTS,m=o(15),g=o(38).f,E=Function.prototype,j=m(E.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=m(S.exec);f&&!p&&g(E,"name",{configurable:!0,get:function(){try{return k(S,j(this))[1]}catch{return""}}})},function(u,l,o){var f=o(17),p=o(18),m=o(41),g=o(50).f,E=o(36),j=p(function(){g(1)});f({target:"Object",stat:!0,forced:!E||j,sham:!E},{getOwnPropertyDescriptor:function(S,k){return g(m(S),k)}})},function(u,l,o){var f=o(17),p=o(188);f({target:"Array",stat:!0,forced:!o(120)(function(m){Array.from(m)})},{from:p})},function(u,l,o){var f=o(17),p=o(77).filter;f({target:"Array",proto:!0,forced:!o(79)("filter")},{filter:function(m){return p(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var f=o(17),p=o(36),m=o(135),g=o(41),E=o(50),j=o(62);f({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(S){for(var k,T,C=g(S),N=E.f,R=m(C),G={},X=0;R.length>X;)(T=N(C,k=R[X++]))!==void 0&&j(G,k,T);return G}})},function(u,l,o){var f=o(17),p=o(7),m=o(18),g=o(96),E=o(33),j=o(40),S=o(45),k=o(62),T=o(115),C=o(79),N=o(28),R=o(68),G=N("isConcatSpreadable"),X=9007199254740991,Q="Maximum allowed index exceeded",ue=p.TypeError,re=R>=51||!m(function(){var Y=[];return Y[G]=!1,Y.concat()[0]!==Y}),te=C("concat"),ne=function(Y){if(!E(Y))return!1;var B=Y[G];return B!==void 0?!!B:g(Y)};f({target:"Array",proto:!0,forced:!re||!te},{concat:function(Y){var B,V,$,q,se,xe=j(this),ge=T(xe,0),Me=0;for(B=-1,$=arguments.length;B<$;B++)if(ne(se=B===-1?xe:arguments[B])){if(Me+(q=S(se))>X)throw ue(Q);for(V=0;V<q;V++,Me++)V in se&&k(ge,Me,se[V])}else{if(Me>=X)throw ue(Q);k(ge,Me++,se)}return ge.length=Me,ge}})},,function(u,l,o){var f=o(7),p=o(89),m=o(35),g=o(90),E=o(108),j=o(132),S=p("wks"),k=f.Symbol,T=k&&k.for,C=j?k:k&&k.withoutSetter||g;u.exports=function(N){if(!m(S,N)||!E&&typeof S[N]!="string"){var R="Symbol."+N;E&&m(k,N)?S[N]=k[N]:S[N]=j&&T?T(R):C(R)}return S[N]}},function(u,l,o){var f=o(17),p=o(201);f({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},function(u,l){u.exports=function(o){return typeof o=="function"}},function(u,l,o){var f=o(106),p=typeof self=="object"&&self&&self.Object===Object&&self,m=f.a||p||Function("return this")();l.a=m},function(u,l,o){var f=o(7),p=o(33),m=f.String,g=f.TypeError;u.exports=function(E){if(p(E))return E;throw g(m(E)+" is not an object")}},function(u,l,o){var f=o(30);u.exports=function(p){return typeof p=="object"?p!==null:f(p)}},function(u,l){var o=Function.prototype.call;u.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(u,l,o){var f=o(15),p=o(40),m=f({}.hasOwnProperty);u.exports=Object.hasOwn||function(g,E){return m(p(g),E)}},function(u,l,o){var f=o(18);u.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,l,o){var f=o(17),p=o(77).map;f({target:"Array",proto:!0,forced:!o(79)("map")},{map:function(m){return p(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var f=o(7),p=o(36),m=o(133),g=o(32),E=o(86),j=f.TypeError,S=Object.defineProperty;l.f=p?S:function(k,T,C){if(g(k),T=E(T),g(C),m)try{return S(k,T,C)}catch{}if("get"in C||"set"in C)throw j("Accessors not supported");return"value"in C&&(k[T]=C.value),k}},function(u,l,o){var f=o(7),p=o(97),m=f.String;u.exports=function(g){if(p(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(g)}},function(u,l,o){var f=o(7),p=o(44),m=f.Object;u.exports=function(g){return m(p(g))}},function(u,l,o){var f=o(85),p=o(44);u.exports=function(m){return f(p(m))}},function(u,l,o){var f=o(7),p=o(30),m=o(35),g=o(57),E=o(110),j=o(92),S=o(58),k=o(71).CONFIGURABLE,T=S.get,C=S.enforce,N=String(String).split("String");(u.exports=function(R,G,X,Q){var ue,re=!!Q&&!!Q.unsafe,te=!!Q&&!!Q.enumerable,ne=!!Q&&!!Q.noTargetGet,Y=Q&&Q.name!==void 0?Q.name:G;p(X)&&(String(Y).slice(0,7)==="Symbol("&&(Y="["+String(Y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(X,"name")||k&&X.name!==Y)&&g(X,"name",Y),(ue=C(X)).source||(ue.source=N.join(typeof Y=="string"?Y:""))),R!==f?(re?!ne&&R[G]&&(te=!0):delete R[G],te?R[G]=X:g(R,G,X)):te?R[G]=X:E(G,X)})(Function.prototype,"toString",function(){return p(this)&&T(this).source||j(this)})},function(u,l,o){(function(f){o.d(l,"d",function(){return g}),o.d(l,"c",function(){return E}),o.d(l,"b",function(){return j}),o.d(l,"a",function(){return k});var p=o(10),m=function(T,C){var N=typeof Symbol=="function"&&T[Symbol.iterator];if(!N)return T;var R,G,X=N.call(T),Q=[];try{for(;(C===void 0||C-- >0)&&!(R=X.next()).done;)Q.push(R.value)}catch(ue){G={error:ue}}finally{try{R&&!R.done&&(N=X.return)&&N.call(X)}finally{if(G)throw G.error}}return Q};function g(){var T=m(Object(p.j)(0),2)[1];return Object(p.h)(function(){T(function(C){return C+1})},[])}function E(T){if(!T||typeof T!="object")return!1;var C=Object.getPrototypeOf(T);return!C||C===Object.prototype}function j(T){return typeof Symbol=="function"?Symbol.for(T):"__$mobx-react "+T+"__"}var S={};function k(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:S}}).call(this,o(66))},function(u,l,o){var f=o(7).TypeError;u.exports=function(p){if(p==null)throw f("Can't call method on "+p);return p}},function(u,l,o){var f=o(94);u.exports=function(p){return f(p.length)}},function(u,l,o){var f=o(7),p=o(30),m=function(g){return p(g)?g:void 0};u.exports=function(g,E){return arguments.length<2?m(f[g]):f[g]&&f[g][E]}},function(u,l,o){var f=o(17),p=o(34),m=o(33),g=o(32),E=o(203),j=o(50),S=o(101);f({target:"Reflect",stat:!0},{get:function k(T,C){var N,R,G=arguments.length<3?T:arguments[2];return g(T)===G?T[C]:(N=j.f(T,C))?E(N)?N.value:N.get===void 0?void 0:p(N.get,G):m(R=S(T))?k(R,C,G):void 0}})},function(u,l,o){(function(f){var p=o(31),m=o(171),g=h&&!h.nodeType&&h,E=g&&typeof f=="object"&&f&&!f.nodeType&&f,j=E&&E.exports===g?p.a.Buffer:void 0,S=(j?j.isBuffer:void 0)||m.a;l.a=S}).call(this,o(122)(u))},function(u,l,o){(function(f){var p=o(106),m=h&&!h.nodeType&&h,g=m&&typeof f=="object"&&f&&!f.nodeType&&f,E=g&&g.exports===m&&p.a.process,j=function(){try{var S=g&&g.require&&g.require("util").types;return S||E&&E.binding&&E.binding("util")}catch{}}();l.a=j}).call(this,o(122)(u))},function(u,l,o){var f=o(36),p=o(34),m=o(84),g=o(67),E=o(41),j=o(86),S=o(35),k=o(133),T=Object.getOwnPropertyDescriptor;l.f=f?T:function(C,N){if(C=E(C),N=j(N),k)try{return T(C,N)}catch{}if(S(C,N))return g(!p(m.f,C,N),C[N])}},function(u,l,o){var f=o(15),p=f({}.toString),m=f("".slice);u.exports=function(g){return m(p(g),8,-1)}},function(u,l,o){o(182)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},o(186))},function(u,l,o){var f=o(17),p=o(218).entries;f({target:"Object",stat:!0},{entries:function(m){return p(m)}})},function(u,l,o){var f=o(15);u.exports=f({}.isPrototypeOf)},function(u,l,o){var f=o(46);u.exports=f("navigator","userAgent")||""},function(u,l,o){var f=o(7),p=o(30),m=o(88),g=f.TypeError;u.exports=function(E){if(p(E))return E;throw g(m(E)+" is not a function")}},function(u,l,o){var f=o(36),p=o(38),m=o(67);u.exports=f?function(g,E,j){return p.f(g,E,m(1,j))}:function(g,E,j){return g[E]=j,g}},function(u,l,o){var f,p,m,g=o(175),E=o(7),j=o(15),S=o(33),k=o(57),T=o(35),C=o(109),N=o(93),R=o(70),G="Object already initialized",X=E.TypeError,Q=E.WeakMap;if(g||C.state){var ue=C.state||(C.state=new Q),re=j(ue.get),te=j(ue.has),ne=j(ue.set);f=function(B,V){if(te(ue,B))throw new X(G);return V.facade=B,ne(ue,B,V),V},p=function(B){return re(ue,B)||{}},m=function(B){return te(ue,B)}}else{var Y=N("state");R[Y]=!0,f=function(B,V){if(T(B,Y))throw new X(G);return V.facade=B,k(B,Y,V),V},p=function(B){return T(B,Y)?B[Y]:{}},m=function(B){return T(B,Y)}}u.exports={set:f,get:p,has:m,enforce:function(B){return m(B)?p(B):f(B,{})},getterFor:function(B){return function(V){var $;if(!S(V)||($=p(V)).type!==B)throw X("Incompatible receiver, "+B+" required");return $}}}},function(u,l){var o=Math.ceil,f=Math.floor;u.exports=function(p){var m=+p;return m!=m||m===0?0:(m>0?f:o)(m)}},function(u,l,o){var f,p=o(32),m=o(176),g=o(111),E=o(70),j=o(138),S=o(91),k=o(93),T=k("IE_PROTO"),C=function(){},N=function(X){return"<script>"+X+"<\/script>"},R=function(X){X.write(N("")),X.close();var Q=X.parentWindow.Object;return X=null,Q},G=function(){try{f=new ActiveXObject("htmlfile")}catch{}var X,Q;G=typeof document<"u"?document.domain&&f?R(f):((Q=S("iframe")).style.display="none",j.appendChild(Q),Q.src="javascript:",(X=Q.contentWindow.document).open(),X.write(N("document.F=Object")),X.close(),X.F):R(f);for(var ue=g.length;ue--;)delete G.prototype[g[ue]];return G()};E[T]=!0,u.exports=Object.create||function(X,Q){var ue;return X!==null?(C.prototype=p(X),ue=new C,C.prototype=null,ue[T]=X):ue=G(),Q===void 0?ue:m(ue,Q)}},function(u,l,o){var f=o(56);u.exports=function(p,m){var g=p[m];return g==null?void 0:f(g)}},function(u,l,o){var f=o(86),p=o(38),m=o(67);u.exports=function(g,E,j){var S=f(E);S in g?p.f(g,S,m(0,j)):g[S]=j}},function(u,l,o){var f=o(15),p=o(56),m=f(f.bind);u.exports=function(g,E){return p(g),E===void 0?g:m?m(g,E):function(){return g.apply(E,arguments)}}},function(u,l,o){var f=o(17),p=o(15),m=o(85),g=o(41),E=o(121),j=p([].join),S=m!=Object,k=E("join",",");f({target:"Array",proto:!0,forced:S||!k},{join:function(T){return j(g(this),T===void 0?",":T)}})},function(u,l,o){var f=o(17),p=o(215),m=o(100);f({target:"Array",proto:!0},{fill:p}),m("fill")},function(u,l){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}u.exports=o},function(u,l){u.exports=function(o,f){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:f}}},function(u,l,o){var f,p,m=o(7),g=o(55),E=m.process,j=m.Deno,S=E&&E.versions||j&&j.version,k=S&&S.v8;k&&(p=(f=k.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!p&&g&&(!(f=g.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=g.match(/Chrome\/(\d+)/))&&(p=+f[1]),u.exports=p},function(u,l){u.exports=!1},function(u,l){u.exports={}},function(u,l,o){var f=o(36),p=o(35),m=Function.prototype,g=f&&Object.getOwnPropertyDescriptor,E=p(m,"name"),j=E&&(function(){}).name==="something",S=E&&(!f||f&&g(m,"name").configurable);u.exports={EXISTS:E,PROPER:j,CONFIGURABLE:S}},function(u,l,o){var f=o(136),p=o(111).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(m){return f(m,p)}},function(u,l,o){var f=o(59),p=Math.max,m=Math.min;u.exports=function(g,E){var j=f(g);return j<0?p(j+E,0):m(j,E)}},function(u,l){var o=Function.prototype,f=o.apply,p=o.bind,m=o.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(p?m.bind(f):function(){return m.apply(f,arguments)})},function(u,l,o){var f=o(136),p=o(111);u.exports=Object.keys||function(m){return f(m,p)}},function(u,l,o){var f=o(38).f,p=o(35),m=o(28)("toStringTag");u.exports=function(g,E,j){g&&!p(g=j?g:g.prototype,m)&&f(g,m,{configurable:!0,value:E})}},function(u,l,o){var f=o(63),p=o(15),m=o(85),g=o(40),E=o(45),j=o(115),S=p([].push),k=function(T){var C=T==1,N=T==2,R=T==3,G=T==4,X=T==6,Q=T==7,ue=T==5||X;return function(re,te,ne,Y){for(var B,V,$=g(re),q=m($),se=f(te,ne),xe=E(q),ge=0,Me=Y||j,Fe=C?Me(re,xe):N||Q?Me(re,0):void 0;xe>ge;ge++)if((ue||ge in q)&&(V=se(B=q[ge],ge,$),T))if(C)Fe[ge]=V;else if(V)switch(T){case 3:return!0;case 5:return B;case 6:return ge;case 2:S(Fe,B)}else switch(T){case 4:return!1;case 7:S(Fe,B)}return X?-1:R||G?G:Fe}};u.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},function(u,l){u.exports={}},function(u,l,o){var f=o(18),p=o(28),m=o(68),g=p("species");u.exports=function(E){return m>=51||!f(function(){var j=[];return(j.constructor={})[g]=function(){return{foo:1}},j[E](Boolean).foo!==1})}},function(u,l,o){var f=o(15),p=o(71).PROPER,m=o(42),g=o(32),E=o(54),j=o(39),S=o(18),k=o(154),T="toString",C=RegExp.prototype,N=C.toString,R=f(k),G=S(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),X=p&&N.name!=T;(G||X)&&m(RegExp.prototype,T,function(){var Q=g(this),ue=j(Q.source),re=Q.flags;return"/"+ue+"/"+j(re===void 0&&E(C,Q)&&!("flags"in C)?R(Q):re)},{unsafe:!0})},function(u,l,o){var f=o(74),p=o(34),m=o(15),g=o(123),E=o(159),j=o(32),S=o(44),k=o(161),T=o(124),C=o(94),N=o(39),R=o(61),G=o(114),X=o(125),Q=o(103),ue=o(155),re=o(18),te=ue.UNSUPPORTED_Y,ne=4294967295,Y=Math.min,B=[].push,V=m(/./.exec),$=m(B),q=m("".slice),se=!re(function(){var xe=/(?:)/,ge=xe.exec;xe.exec=function(){return ge.apply(this,arguments)};var Me="ab".split(xe);return Me.length!==2||Me[0]!=="a"||Me[1]!=="b"});g("split",function(xe,ge,Me){var Fe;return Fe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Pe=N(S(this)),Ae=ve===void 0?ne:ve>>>0;if(Ae===0)return[];if(je===void 0)return[Pe];if(!E(je))return p(ge,Pe,je,Ae);for(var He,nt,vt,Xe=[],qe=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),gt=0,le=new RegExp(je.source,qe+"g");(He=p(Q,le,Pe))&&!((nt=le.lastIndex)>gt&&($(Xe,q(Pe,gt,He.index)),He.length>1&&He.index<Pe.length&&f(B,Xe,G(He,1)),vt=He[0].length,gt=nt,Xe.length>=Ae));)le.lastIndex===He.index&&le.lastIndex++;return gt===Pe.length?!vt&&V(le,"")||$(Xe,""):$(Xe,q(Pe,gt)),Xe.length>Ae?G(Xe,0,Ae):Xe}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:p(ge,this,je,ve)}:ge,[function(je,ve){var Pe=S(this),Ae=je==null?void 0:R(je,xe);return Ae?p(Ae,je,Pe,ve):p(Fe,N(Pe),je,ve)},function(je,ve){var Pe=j(this),Ae=N(je),He=Me(Fe,Pe,Ae,ve,Fe!==ge);if(He.done)return He.value;var nt=k(Pe,RegExp),vt=Pe.unicode,Xe=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(te?"g":"y"),qe=new nt(te?"^(?:"+Pe.source+")":Pe,Xe),gt=ve===void 0?ne:ve>>>0;if(gt===0)return[];if(Ae.length===0)return X(qe,Ae)===null?[Ae]:[];for(var le=0,ce=0,me=[];ce<Ae.length;){qe.lastIndex=te?0:ce;var Ce,Ue=X(qe,te?q(Ae,ce):Ae);if(Ue===null||(Ce=Y(C(qe.lastIndex+(te?ce:0)),Ae.length))===le)ce=T(Ae,ce,vt);else{if($(me,q(Ae,le,ce)),me.length===gt)return me;for(var ze=1;ze<=Ue.length-1;ze++)if($(me,Ue[ze]),me.length===gt)return me;ce=le=Ce}}return $(me,q(Ae,le)),me}]},!se,te)},function(u,l,o){var f=o(36),p=o(7),m=o(15),g=o(95),E=o(42),j=o(35),S=o(148),k=o(54),T=o(87),C=o(131),N=o(18),R=o(72).f,G=o(50).f,X=o(38).f,Q=o(166),ue=o(164).trim,re="Number",te=p.Number,ne=te.prototype,Y=p.TypeError,B=m("".slice),V=m("".charCodeAt),$=function(Fe){var je=C(Fe,"number");return typeof je=="bigint"?je:q(je)},q=function(Fe){var je,ve,Pe,Ae,He,nt,vt,Xe,qe=C(Fe,"number");if(T(qe))throw Y("Cannot convert a Symbol value to a number");if(typeof qe=="string"&&qe.length>2){if(qe=ue(qe),(je=V(qe,0))===43||je===45){if((ve=V(qe,2))===88||ve===120)return NaN}else if(je===48){switch(V(qe,1)){case 66:case 98:Pe=2,Ae=49;break;case 79:case 111:Pe=8,Ae=55;break;default:return+qe}for(nt=(He=B(qe,2)).length,vt=0;vt<nt;vt++)if((Xe=V(He,vt))<48||Xe>Ae)return NaN;return parseInt(He,Pe)}}return+qe};if(g(re,!te(" 0o1")||!te("0b1")||te("+0x1"))){for(var se,xe=function(Fe){var je=arguments.length<1?0:te($(Fe)),ve=this;return k(ne,ve)&&N(function(){Q(ve)})?S(Object(je),ve,xe):je},ge=f?R(te):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Me=0;ge.length>Me;Me++)j(te,se=ge[Me])&&!j(xe,se)&&X(xe,se,G(te,se));xe.prototype=ne,ne.constructor=xe,E(p,re,xe)}},function(u,l,o){o(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,l,o){var f={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,m=p&&!f.call({1:2},1);l.f=m?function(g){var E=p(this,g);return!!E&&E.enumerable}:f},function(u,l,o){var f=o(7),p=o(15),m=o(18),g=o(51),E=f.Object,j=p("".split);u.exports=m(function(){return!E("z").propertyIsEnumerable(0)})?function(S){return g(S)=="String"?j(S,""):E(S)}:E},function(u,l,o){var f=o(131),p=o(87);u.exports=function(m){var g=f(m,"string");return p(g)?g:g+""}},function(u,l,o){var f=o(7),p=o(46),m=o(30),g=o(54),E=o(132),j=f.Object;u.exports=E?function(S){return typeof S=="symbol"}:function(S){var k=p("Symbol");return m(k)&&g(k.prototype,j(S))}},function(u,l,o){var f=o(7).String;u.exports=function(p){try{return f(p)}catch{return"Object"}}},function(u,l,o){var f=o(69),p=o(109);(u.exports=function(m,g){return p[m]||(p[m]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(u,l,o){var f=o(15),p=0,m=Math.random(),g=f(1 .toString);u.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+g(++p+m,36)}},function(u,l,o){var f=o(7),p=o(33),m=f.document,g=p(m)&&p(m.createElement);u.exports=function(E){return g?m.createElement(E):{}}},function(u,l,o){var f=o(15),p=o(30),m=o(109),g=f(Function.toString);p(m.inspectSource)||(m.inspectSource=function(E){return g(E)}),u.exports=m.inspectSource},function(u,l,o){var f=o(89),p=o(90),m=f("keys");u.exports=function(g){return m[g]||(m[g]=p(g))}},function(u,l,o){var f=o(59),p=Math.min;u.exports=function(m){return m>0?p(f(m),9007199254740991):0}},function(u,l,o){var f=o(18),p=o(30),m=/#|\.prototype\./,g=function(T,C){var N=j[E(T)];return N==k||N!=S&&(p(C)?f(C):!!C)},E=g.normalize=function(T){return String(T).replace(m,".").toLowerCase()},j=g.data={},S=g.NATIVE="N",k=g.POLYFILL="P";u.exports=g},function(u,l,o){var f=o(51);u.exports=Array.isArray||function(p){return f(p)=="Array"}},function(u,l,o){var f=o(7),p=o(113),m=o(30),g=o(51),E=o(28)("toStringTag"),j=f.Object,S=g(function(){return arguments}())=="Arguments";u.exports=p?g:function(k){var T,C,N;return k===void 0?"Undefined":k===null?"Null":typeof(C=function(R,G){try{return R[G]}catch{}}(T=j(k),E))=="string"?C:S?g(T):(N=g(T))=="Object"&&m(T.callee)?"Arguments":N}},function(u,l,o){var f=o(15);u.exports=f([].slice)},function(u,l,o){var f=o(15),p=o(18),m=o(30),g=o(97),E=o(46),j=o(92),S=function(){},k=[],T=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,N=f(C.exec),R=!C.exec(S),G=function(X){if(!m(X))return!1;try{return T(S,k,X),!0}catch{return!1}};u.exports=!T||p(function(){var X;return G(G.call)||!G(Object)||!G(function(){X=!0})||X})?function(X){if(!m(X))return!1;switch(g(X)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return R||!!N(C,j(X))}:G},function(u,l,o){var f=o(28),p=o(60),m=o(38),g=f("unscopables"),E=Array.prototype;E[g]==null&&m.f(E,g,{configurable:!0,value:p(null)}),u.exports=function(j){E[g][j]=!0}},function(u,l,o){var f=o(7),p=o(35),m=o(30),g=o(40),E=o(93),j=o(143),S=E("IE_PROTO"),k=f.Object,T=k.prototype;u.exports=j?k.getPrototypeOf:function(C){var N=g(C);if(p(N,S))return N[S];var R=N.constructor;return m(R)&&N instanceof R?R.prototype:N instanceof k?T:null}},function(u,l,o){var f=o(15),p=o(32),m=o(181);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,E=!1,j={};try{(g=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(j,[]),E=j instanceof Array}catch{}return function(S,k){return p(S),m(k),E?g(S,k):S.__proto__=k,S}}():void 0)},function(u,l,o){var f,p,m=o(34),g=o(15),E=o(39),j=o(154),S=o(155),k=o(89),T=o(60),C=o(58).get,N=o(190),R=o(191),G=k("native-string-replace",String.prototype.replace),X=RegExp.prototype.exec,Q=X,ue=g("".charAt),re=g("".indexOf),te=g("".replace),ne=g("".slice),Y=(p=/b*/g,m(X,f=/a/,"a"),m(X,p,"a"),f.lastIndex!==0||p.lastIndex!==0),B=S.BROKEN_CARET,V=/()??/.exec("")[1]!==void 0;(Y||V||B||N||R)&&(Q=function($){var q,se,xe,ge,Me,Fe,je,ve=this,Pe=C(ve),Ae=E($),He=Pe.raw;if(He)return He.lastIndex=ve.lastIndex,q=m(Q,He,Ae),ve.lastIndex=He.lastIndex,q;var nt=Pe.groups,vt=B&&ve.sticky,Xe=m(j,ve),qe=ve.source,gt=0,le=Ae;if(vt&&(Xe=te(Xe,"y",""),re(Xe,"g")===-1&&(Xe+="g"),le=ne(Ae,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&ue(Ae,ve.lastIndex-1)!==`
`)&&(qe="(?: "+qe+")",le=" "+le,gt++),se=new RegExp("^(?:"+qe+")",Xe)),V&&(se=new RegExp("^"+qe+"$(?!\\s)",Xe)),Y&&(xe=ve.lastIndex),ge=m(X,vt?se:ve,le),vt?ge?(ge.input=ne(ge.input,gt),ge[0]=ne(ge[0],gt),ge.index=ve.lastIndex,ve.lastIndex+=ge[0].length):ve.lastIndex=0:Y&&ge&&(ve.lastIndex=ve.global?ge.index+ge[0].length:xe),V&&ge&&ge.length>1&&m(G,ge[0],se,function(){for(Me=1;Me<arguments.length-2;Me++)arguments[Me]===void 0&&(ge[Me]=void 0)}),ge&&nt)for(ge.groups=Fe=T(null),Me=0;Me<nt.length;Me++)Fe[(je=nt[Me])[0]]=ge[je[1]];return ge}),u.exports=Q},function(u,l,o){var f=o(17),p=o(7),m=o(73),g=o(59),E=o(45),j=o(40),S=o(115),k=o(62),T=o(79)("splice"),C=p.TypeError,N=Math.max,R=Math.min,G=9007199254740991,X="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!T},{splice:function(Q,ue){var re,te,ne,Y,B,V,$=j(this),q=E($),se=m(Q,q),xe=arguments.length;if(xe===0?re=te=0:xe===1?(re=0,te=q-se):(re=xe-2,te=R(N(g(ue),0),q-se)),q+re-te>G)throw C(X);for(ne=S($,te),Y=0;Y<te;Y++)(B=se+Y)in $&&k(ne,Y,$[B]);if(ne.length=te,re<te){for(Y=se;Y<q-te;Y++)V=Y+re,(B=Y+te)in $?$[V]=$[B]:delete $[V];for(Y=q;Y>q-te+re;Y--)delete $[Y-1]}else if(re>te)for(Y=q-te;Y>se;Y--)V=Y+re-1,(B=Y+te-1)in $?$[V]=$[B]:delete $[V];for(Y=0;Y<re;Y++)$[Y+se]=arguments[Y+2];return $.length=q-te+re,ne}})},function(u,l,o){var f=o(17),p=o(204);f({target:"String",proto:!0,forced:o(205)("anchor")},{anchor:function(m){return p(this,"a","name",m)}})},function(u,l,o){(function(f){var p=typeof f=="object"&&f&&f.Object===Object&&f;l.a=p}).call(this,o(66))},function(u,l,o){(function(f){var p=o(31),m=h&&!h.nodeType&&h,g=m&&typeof f=="object"&&f&&!f.nodeType&&f,E=g&&g.exports===m?p.a.Buffer:void 0,j=E?E.allocUnsafe:void 0;l.a=function(S,k){if(k)return S.slice();var T=S.length,C=j?j(T):new S.constructor(T);return S.copy(C),C}}).call(this,o(122)(u))},function(u,l,o){var f=o(68),p=o(18);u.exports=!!Object.getOwnPropertySymbols&&!p(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(u,l,o){var f=o(7),p=o(110),m="__core-js_shared__",g=f[m]||p(m,{});u.exports=g},function(u,l,o){var f=o(7),p=Object.defineProperty;u.exports=function(m,g){try{p(f,m,{value:g,configurable:!0,writable:!0})}catch{f[m]=g}return g}},function(u,l){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,l){l.f=Object.getOwnPropertySymbols},function(u,l,o){var f={};f[o(28)("toStringTag")]="z",u.exports=String(f)==="[object z]"},function(u,l,o){var f=o(7),p=o(73),m=o(45),g=o(62),E=f.Array,j=Math.max;u.exports=function(S,k,T){for(var C=m(S),N=p(k,C),R=p(T===void 0?C:T,C),G=E(j(R-N,0)),X=0;N<R;N++,X++)g(G,X,S[N]);return G.length=X,G}},function(u,l,o){var f=o(178);u.exports=function(p,m){return new(f(p))(m===0?0:m)}},function(u,l,o){var f=o(17),p=o(34),m=o(69),g=o(71),E=o(30),j=o(180),S=o(101),k=o(102),T=o(76),C=o(57),N=o(42),R=o(28),G=o(78),X=o(142),Q=g.PROPER,ue=g.CONFIGURABLE,re=X.IteratorPrototype,te=X.BUGGY_SAFARI_ITERATORS,ne=R("iterator"),Y="keys",B="values",V="entries",$=function(){return this};u.exports=function(q,se,xe,ge,Me,Fe,je){j(xe,se,ge);var ve,Pe,Ae,He=function(ce){if(ce===Me&&gt)return gt;if(!te&&ce in Xe)return Xe[ce];switch(ce){case Y:case B:case V:return function(){return new xe(this,ce)}}return function(){return new xe(this)}},nt=se+" Iterator",vt=!1,Xe=q.prototype,qe=Xe[ne]||Xe["@@iterator"]||Me&&Xe[Me],gt=!te&&qe||He(Me),le=se=="Array"&&Xe.entries||qe;if(le&&(ve=S(le.call(new q)))!==Object.prototype&&ve.next&&(m||S(ve)===re||(k?k(ve,re):E(ve[ne])||N(ve,ne,$)),T(ve,nt,!0,!0),m&&(G[nt]=$)),Q&&Me==B&&qe&&qe.name!==B&&(!m&&ue?C(Xe,"name",B):(vt=!0,gt=function(){return p(qe,this)})),Me)if(Pe={values:He(B),keys:Fe?gt:He(Y),entries:He(V)},je)for(Ae in Pe)(te||vt||!(Ae in Xe))&&N(Xe,Ae,Pe[Ae]);else f({target:se,proto:!0,forced:te||vt},Pe);return m&&!je||Xe[ne]===gt||N(Xe,ne,gt,{name:Me}),G[se]=gt,Pe}},function(u,l,o){var f=o(7),p=o(63),m=o(34),g=o(32),E=o(88),j=o(145),S=o(45),k=o(54),T=o(146),C=o(118),N=o(147),R=f.TypeError,G=function(Q,ue){this.stopped=Q,this.result=ue},X=G.prototype;u.exports=function(Q,ue,re){var te,ne,Y,B,V,$,q,se=re&&re.that,xe=!(!re||!re.AS_ENTRIES),ge=!(!re||!re.IS_ITERATOR),Me=!(!re||!re.INTERRUPTED),Fe=p(ue,se),je=function(Pe){return te&&N(te,"normal",Pe),new G(!0,Pe)},ve=function(Pe){return xe?(g(Pe),Me?Fe(Pe[0],Pe[1],je):Fe(Pe[0],Pe[1])):Me?Fe(Pe,je):Fe(Pe)};if(ge)te=Q;else{if(!(ne=C(Q)))throw R(E(Q)+" is not iterable");if(j(ne)){for(Y=0,B=S(Q);B>Y;Y++)if((V=ve(Q[Y]))&&k(X,V))return V;return new G(!1)}te=T(Q,ne)}for($=te.next;!(q=m($,te)).done;){try{V=ve(q.value)}catch(Pe){N(te,"throw",Pe)}if(typeof V=="object"&&V&&k(X,V))return V}return new G(!1)}},function(u,l,o){var f=o(97),p=o(61),m=o(78),g=o(28)("iterator");u.exports=function(E){if(E!=null)return p(E,g)||p(E,"@@iterator")||m[f(E)]}},function(u,l,o){var f=o(7),p=o(54),m=f.TypeError;u.exports=function(g,E){if(p(E,g))return g;throw m("Incorrect invocation")}},function(u,l,o){var f=o(28)("iterator"),p=!1;try{var m=0,g={next:function(){return{done:!!m++}},return:function(){p=!0}};g[f]=function(){return this},Array.from(g,function(){throw 2})}catch{}u.exports=function(E,j){if(!j&&!p)return!1;var S=!1;try{var k={};k[f]=function(){return{next:function(){return{done:S=!0}}}},E(k)}catch{}return S}},function(u,l,o){var f=o(18);u.exports=function(p,m){var g=[][p];return!!g&&f(function(){g.call(null,m||function(){throw 1},1)})}},function(u,l){u.exports=function(o){if(!o.webpackPolyfill){var f=Object.create(o);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(u,l,o){o(19);var f=o(15),p=o(42),m=o(103),g=o(18),E=o(28),j=o(57),S=E("species"),k=RegExp.prototype;u.exports=function(T,C,N,R){var G=E(T),X=!g(function(){var te={};return te[G]=function(){return 7},""[T](te)!=7}),Q=X&&!g(function(){var te=!1,ne=/a/;return T==="split"&&((ne={}).constructor={},ne.constructor[S]=function(){return ne},ne.flags="",ne[G]=/./[G]),ne.exec=function(){return te=!0,null},ne[G](""),!te});if(!X||!Q||N){var ue=f(/./[G]),re=C(G,""[T],function(te,ne,Y,B,V){var $=f(te),q=ne.exec;return q===m||q===k.exec?X&&!V?{done:!0,value:ue(ne,Y,B)}:{done:!0,value:$(Y,ne,B)}:{done:!1}});p(String.prototype,T,re[0]),p(k,G,re[1])}R&&j(k[G],"sham",!0)}},function(u,l,o){var f=o(151).charAt;u.exports=function(p,m,g){return m+(g?f(p,m).length:1)}},function(u,l,o){var f=o(7),p=o(34),m=o(32),g=o(30),E=o(51),j=o(103),S=f.TypeError;u.exports=function(k,T){var C=k.exec;if(g(C)){var N=p(C,k,T);return N!==null&&m(N),N}if(E(k)==="RegExp")return p(j,k,T);throw S("RegExp#exec called on incompatible receiver")}},function(u,l,o){var f=o(74),p=o(34),m=o(15),g=o(123),E=o(18),j=o(32),S=o(30),k=o(59),T=o(94),C=o(39),N=o(44),R=o(124),G=o(61),X=o(200),Q=o(125),ue=o(28)("replace"),re=Math.max,te=Math.min,ne=m([].concat),Y=m([].push),B=m("".indexOf),V=m("".slice),$="a".replace(/./,"$0")==="$0",q=!!/./[ue]&&/./[ue]("a","$0")==="";g("replace",function(se,xe,ge){var Me=q?"$":"$0";return[function(Fe,je){var ve=N(this),Pe=Fe==null?void 0:G(Fe,ue);return Pe?p(Pe,Fe,ve,je):p(xe,C(ve),Fe,je)},function(Fe,je){var ve=j(this),Pe=C(Fe);if(typeof je=="string"&&B(je,Me)===-1&&B(je,"$<")===-1){var Ae=ge(xe,ve,Pe,je);if(Ae.done)return Ae.value}var He=S(je);He||(je=C(je));var nt=ve.global;if(nt){var vt=ve.unicode;ve.lastIndex=0}for(var Xe=[];;){var qe=Q(ve,Pe);if(qe===null||(Y(Xe,qe),!nt))break;C(qe[0])===""&&(ve.lastIndex=R(Pe,T(ve.lastIndex),vt))}for(var gt,le="",ce=0,me=0;me<Xe.length;me++){for(var Ce=C((qe=Xe[me])[0]),Ue=re(te(k(qe.index),Pe.length),0),ze=[],xt=1;xt<qe.length;xt++)Y(ze,(gt=qe[xt])===void 0?gt:String(gt));var kt=qe.groups;if(He){var jt=ne([Ce],ze,Ue,Pe);kt!==void 0&&Y(jt,kt);var yt=C(f(je,void 0,jt))}else yt=X(Ce,Pe,Ue,ze,kt,je);Ue>=ce&&(le+=V(Pe,ce,Ue)+yt,ce=Ue+Ce.length)}return le+V(Pe,ce)}]},!!E(function(){var se=/./;return se.exec=function(){var xe=[];return xe.groups={a:"7"},xe},"".replace(se,"$<a>")!=="7"})||!$||q)},function(u,l,o){var f=o(17),p=Math.hypot,m=Math.abs,g=Math.sqrt;f({target:"Math",stat:!0,forced:!!p&&p(1/0,NaN)!==1/0},{hypot:function(E,j){for(var S,k,T=0,C=0,N=arguments.length,R=0;C<N;)R<(S=m(arguments[C++]))?(T=T*(k=R/S)*k+1,R=S):T+=S>0?(k=S/R)*k:S;return R===1/0?1/0:R*g(T)}})},function(u,l,o){var f=o(51),p=o(7);u.exports=f(p.process)=="process"},function(u,l,o){o(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,l,o){(function(f,p){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,E="Expected a function",j="__lodash_hash_undefined__",S="__lodash_placeholder__",k=16,T=32,C=64,N=128,R=256,G=1/0,X=9007199254740991,Q=NaN,ue=4294967295,re=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",k],["flip",512],["partial",T],["partialRight",C],["rearg",R]],te="[object Arguments]",ne="[object Array]",Y="[object Boolean]",B="[object Date]",V="[object Error]",$="[object Function]",q="[object GeneratorFunction]",se="[object Map]",xe="[object Number]",ge="[object Object]",Me="[object Promise]",Fe="[object RegExp]",je="[object Set]",ve="[object String]",Pe="[object Symbol]",Ae="[object WeakMap]",He="[object ArrayBuffer]",nt="[object DataView]",vt="[object Float32Array]",Xe="[object Float64Array]",qe="[object Int8Array]",gt="[object Int16Array]",le="[object Int32Array]",ce="[object Uint8Array]",me="[object Uint8ClampedArray]",Ce="[object Uint16Array]",Ue="[object Uint32Array]",ze=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jt=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,ke=RegExp(jt.source),st=RegExp(yt.source),pe=/<%-([\s\S]+?)%>/g,ot=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,un=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zt=/^\w*$/,Qt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yn=/[\\^$.*+?()[\]{}|]/g,jn=RegExp(yn.source),Ct=/^\s+/,Wn=/\s/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,de=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$e=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,Qn=/^[-+]0x[0-9a-f]+$/i,lr=/^0b[01]+$/i,Gn=/^\[object .+?Constructor\]$/,$n=/^0o[0-7]+$/i,it=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,It=/['\n\r\u2028\u2029\\]/g,hn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Nn="\\u2700-\\u27bf",Po="a-z\\xdf-\\xf6\\xf8-\\xff",yo="A-Z\\xc0-\\xd6\\xd8-\\xde",Mo="\\ufe0e\\ufe0f",yi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dc="['’]",ou="[\\ud800-\\udfff]",Xr="["+yi+"]",Wi="["+hn+"]",ct="\\d+",Nc="[\\u2700-\\u27bf]",iu="["+Po+"]",au="[^\\ud800-\\udfff"+yi+ct+Nn+Po+yo+"]",xr="\\ud83c[\\udffb-\\udfff]",Dr="[^\\ud800-\\udfff]",da="(?:\\ud83c[\\udde6-\\uddff]){2}",io="[\\ud800-\\udbff][\\udc00-\\udfff]",Ur="["+yo+"]",ao="(?:"+iu+"|"+au+")",uu="(?:"+Ur+"|"+au+")",su="(?:['’](?:d|ll|m|re|s|t|ve))?",rs="(?:['’](?:D|LL|M|RE|S|T|VE))?",Gi="(?:"+Wi+"|"+xr+")?",os="[\\ufe0e\\ufe0f]?",cu=os+Gi+("(?:\\u200d(?:"+[Dr,da,io].join("|")+")"+os+Gi+")*"),Cc="(?:"+[Nc,da,io].join("|")+")"+cu,qo="(?:"+[Dr+Wi+"?",Wi,da,io,ou].join("|")+")",is=RegExp(Dc,"g"),Ao=RegExp(Wi,"g"),lu=RegExp(xr+"(?="+xr+")|"+qo+cu,"g"),ya=RegExp([Ur+"?"+iu+"+"+su+"(?="+[Xr,Ur,"$"].join("|")+")",uu+"+"+rs+"(?="+[Xr,Ur+ao,"$"].join("|")+")",Ur+"?"+ao+"+"+su,Ur+"+"+rs,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ct,Cc].join("|"),"g"),fu=RegExp("[\\u200d\\ud800-\\udfff"+hn+Mo+"]"),pu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ic=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],as=-1,ln={};ln[vt]=ln[Xe]=ln[qe]=ln[gt]=ln[le]=ln[ce]=ln[me]=ln[Ce]=ln[Ue]=!0,ln[te]=ln[ne]=ln[He]=ln[Y]=ln[nt]=ln[B]=ln[V]=ln[$]=ln[se]=ln[xe]=ln[ge]=ln[Fe]=ln[je]=ln[ve]=ln[Ae]=!1;var sn={};sn[te]=sn[ne]=sn[He]=sn[nt]=sn[Y]=sn[B]=sn[vt]=sn[Xe]=sn[qe]=sn[gt]=sn[le]=sn[se]=sn[xe]=sn[ge]=sn[Fe]=sn[je]=sn[ve]=sn[Pe]=sn[ce]=sn[me]=sn[Ce]=sn[Ue]=!0,sn[V]=sn[$]=sn[Ae]=!1;var us={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vi=parseFloat,To=parseInt,hu=typeof f=="object"&&f&&f.Object===Object&&f,ss=typeof self=="object"&&self&&self.Object===Object&&self,zn=hu||ss||Function("return this")(),du=l&&!l.nodeType&&l,Hi=du&&typeof p=="object"&&p&&!p.nodeType&&p,yu=Hi&&Hi.exports===du,va=yu&&hu.process,fr=function(){try{var we=Hi&&Hi.require&&Hi.require("util").types;return we||va&&va.binding&&va.binding("util")}catch{}}(),vu=fr&&fr.isArrayBuffer,cs=fr&&fr.isDate,gu=fr&&fr.isMap,ga=fr&&fr.isRegExp,gi=fr&&fr.isSet,vo=fr&&fr.isTypedArray;function mn(we,Ie,Le){switch(Le.length){case 0:return we.call(Ie);case 1:return we.call(Ie,Le[0]);case 2:return we.call(Ie,Le[0],Le[1]);case 3:return we.call(Ie,Le[0],Le[1],Le[2])}return we.apply(Ie,Le)}function ls(we,Ie,Le,Je){for(var Bt=-1,Zt=we==null?0:we.length;++Bt<Zt;){var On=we[Bt];Ie(Je,On,Le(On),we)}return Je}function Er(we,Ie){for(var Le=-1,Je=we==null?0:we.length;++Le<Je&&Ie(we[Le],Le,we)!==!1;);return we}function fs(we,Ie){for(var Le=we==null?0:we.length;Le--&&Ie(we[Le],Le,we)!==!1;);return we}function ps(we,Ie){for(var Le=-1,Je=we==null?0:we.length;++Le<Je;)if(!Ie(we[Le],Le,we))return!1;return!0}function gr(we,Ie){for(var Le=-1,Je=we==null?0:we.length,Bt=0,Zt=[];++Le<Je;){var On=we[Le];Ie(On,Le,we)&&(Zt[Bt++]=On)}return Zt}function Sr(we,Ie){return!!(we!=null&&we.length)&&mi(we,Ie,0)>-1}function mu(we,Ie,Le){for(var Je=-1,Bt=we==null?0:we.length;++Je<Bt;)if(Le(Ie,we[Je]))return!0;return!1}function rn(we,Ie){for(var Le=-1,Je=we==null?0:we.length,Bt=Array(Je);++Le<Je;)Bt[Le]=Ie(we[Le],Le,we);return Bt}function er(we,Ie){for(var Le=-1,Je=Ie.length,Bt=we.length;++Le<Je;)we[Bt+Le]=Ie[Le];return we}function ma(we,Ie,Le,Je){var Bt=-1,Zt=we==null?0:we.length;for(Je&&Zt&&(Le=we[++Bt]);++Bt<Zt;)Le=Ie(Le,we[Bt],Bt,we);return Le}function hs(we,Ie,Le,Je){var Bt=we==null?0:we.length;for(Je&&Bt&&(Le=we[--Bt]);Bt--;)Le=Ie(Le,we[Bt],Bt,we);return Le}function bu(we,Ie){for(var Le=-1,Je=we==null?0:we.length;++Le<Je;)if(Ie(we[Le],Le,we))return!0;return!1}var ba=Pr("length");function go(we,Ie,Le){var Je;return Le(we,function(Bt,Zt,On){if(Ie(Bt,Zt,On))return Je=Zt,!1}),Je}function ko(we,Ie,Le,Je){for(var Bt=we.length,Zt=Le+(Je?1:-1);Je?Zt--:++Zt<Bt;)if(Ie(we[Zt],Zt,we))return Zt;return-1}function mi(we,Ie,Le){return Ie==Ie?function(Je,Bt,Zt){for(var On=Zt-1,O=Je.length;++On<O;)if(Je[On]===Bt)return On;return-1}(we,Ie,Le):ko(we,Do,Le)}function jr(we,Ie,Le,Je){for(var Bt=Le-1,Zt=we.length;++Bt<Zt;)if(Je(we[Bt],Ie))return Bt;return-1}function Do(we){return we!=we}function en(we,Ie){var Le=we==null?0:we.length;return Le?_a(we,Ie)/Le:Q}function Pr(we){return function(Ie){return Ie==null?g:Ie[we]}}function mo(we){return function(Ie){return we==null?g:we[Ie]}}function ur(we,Ie,Le,Je,Bt){return Bt(we,function(Zt,On,O){Le=Je?(Je=!1,Zt):Ie(Le,Zt,On,O)}),Le}function _a(we,Ie){for(var Le,Je=-1,Bt=we.length;++Je<Bt;){var Zt=Ie(we[Je]);Zt!==g&&(Le=Le===g?Zt:Le+Zt)}return Le}function Xi(we,Ie){for(var Le=-1,Je=Array(we);++Le<we;)Je[Le]=Ie(Le);return Je}function _u(we){return we&&we.slice(0,Mr(we)+1).replace(Ct,"")}function Cn(we){return function(Ie){return we(Ie)}}function Oa(we,Ie){return rn(Ie,function(Le){return we[Le]})}function No(we,Ie){return we.has(Ie)}function Yr(we,Ie){for(var Le=-1,Je=we.length;++Le<Je&&mi(Ie,we[Le],0)>-1;);return Le}function Ou(we,Ie){for(var Le=we.length;Le--&&mi(Ie,we[Le],0)>-1;);return Le}function Rc(we,Ie){for(var Le=we.length,Je=0;Le--;)we[Le]===Ie&&++Je;return Je}var wu=mo({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Kn=mo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function bi(we){return"\\"+us[we]}function bo(we){return fu.test(we)}function mr(we){var Ie=-1,Le=Array(we.size);return we.forEach(function(Je,Bt){Le[++Ie]=[Bt,Je]}),Le}function xu(we,Ie){return function(Le){return we(Ie(Le))}}function Nr(we,Ie){for(var Le=-1,Je=we.length,Bt=0,Zt=[];++Le<Je;){var On=we[Le];On!==Ie&&On!==S||(we[Le]=S,Zt[Bt++]=Le)}return Zt}function Zo(we){var Ie=-1,Le=Array(we.size);return we.forEach(function(Je){Le[++Ie]=Je}),Le}function wa(we){var Ie=-1,Le=Array(we.size);return we.forEach(function(Je){Le[++Ie]=[Je,Je]}),Le}function _o(we){return bo(we)?function(Ie){for(var Le=lu.lastIndex=0;lu.test(Ie);)++Le;return Le}(we):ba(we)}function Cr(we){return bo(we)?function(Ie){return Ie.match(lu)||[]}(we):function(Ie){return Ie.split("")}(we)}function Mr(we){for(var Ie=we.length;Ie--&&Wn.test(we.charAt(Ie)););return Ie}var Vr=mo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Oo=function we(Ie){var Le,Je=(Ie=Ie==null?zn:Oo.defaults(zn.Object(),Ie,Oo.pick(zn,Ic))).Array,Bt=Ie.Date,Zt=Ie.Error,On=Ie.Function,O=Ie.Math,w=Ie.Object,A=Ie.RegExp,z=Ie.String,K=Ie.TypeError,he=Je.prototype,Se=On.prototype,Ge=w.prototype,at=Ie["__core-js_shared__"],$t=Se.toString,tt=Ge.hasOwnProperty,vn=0,Ft=(Le=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""))?"Symbol(src)_1."+Le:"",an=Ge.toString,$r=$t.call(w),Mn=zn._,Ar=A("^"+$t.call(tt).replace(yn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Co=yu?Ie.Buffer:g,Io=Ie.Symbol,Ui=Ie.Uint8Array,Eu=Co?Co.allocUnsafe:g,Jo=xu(w.getPrototypeOf,w),xa=w.create,br=Ge.propertyIsEnumerable,Yi=he.splice,_i=Io?Io.isConcatSpreadable:g,Qo=Io?Io.iterator:g,ei=Io?Io.toStringTag:g,Su=function(){try{var s=Pi(w,"defineProperty");return s({},"",{}),s}catch{}}(),Qh=Ie.clearTimeout!==zn.clearTimeout&&Ie.clearTimeout,ed=Bt&&Bt.now!==zn.Date.now&&Bt.now,jf=Ie.setTimeout!==zn.setTimeout&&Ie.setTimeout,ds=O.ceil,Ea=O.floor,Lc=w.getOwnPropertySymbols,td=Co?Co.isBuffer:g,Pf=Ie.isFinite,nd=he.join,Mf=xu(w.keys,w),sr=O.max,_r=O.min,ys=Bt.now,vs=Ie.parseInt,gs=O.random,rd=he.reverse,Sa=Pi(Ie,"DataView"),Ro=Pi(Ie,"Map"),zc=Pi(Ie,"Promise"),Vi=Pi(Ie,"Set"),ja=Pi(Ie,"WeakMap"),ju=Pi(w,"create"),ms=ja&&new ja,Pa={},od=Lr(Sa),Af=Lr(Ro),id=Lr(zc),ad=Lr(Vi),Tf=Lr(ja),bs=Io?Io.prototype:g,cr=bs?bs.valueOf:g,kf=bs?bs.toString:g;function F(s){if(Rn(s)&&!Gt(s)&&!(s instanceof nn)){if(s instanceof uo)return s;if(tt.call(s,"__wrapped__"))return lp(s)}return new uo(s)}var Ma=function(){function s(){}return function(d){if(!In(d))return{};if(xa)return xa(d);s.prototype=d;var _=new s;return s.prototype=g,_}}();function Pu(){}function uo(s,d){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=g}function nn(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function $i(s){var d=-1,_=s==null?0:s.length;for(this.clear();++d<_;){var M=s[d];this.set(M[0],M[1])}}function gn(s){var d=-1,_=s==null?0:s.length;for(this.clear();++d<_;){var M=s[d];this.set(M[0],M[1])}}function Lo(s){var d=-1,_=s==null?0:s.length;for(this.clear();++d<_;){var M=s[d];this.set(M[0],M[1])}}function Oi(s){var d=-1,_=s==null?0:s.length;for(this.__data__=new Lo;++d<_;)this.add(s[d])}function so(s){var d=this.__data__=new gn(s);this.size=d.size}function Bc(s,d){var _=Gt(s),M=!_&&ea(s),I=!_&&!M&&ai(s),H=!_&&!M&&!I&&Mi(s),ie=_||M||I||H,fe=ie?Xi(s.length,z):[],Oe=fe.length;for(var Re in s)!d&&!tt.call(s,Re)||ie&&(Re=="length"||I&&(Re=="offset"||Re=="parent")||H&&(Re=="buffer"||Re=="byteLength"||Re=="byteOffset")||Go(Re,Oe))||fe.push(Re);return fe}function Fc(s){var d=s.length;return d?s[$c(0,d-1)]:g}function Df(s,d){return qi(Rr(s),wi(d,0,s.length))}function Nf(s){return qi(Rr(s))}function _s(s,d,_){(_!==g&&!Dn(s[d],_)||_===g&&!(d in s))&&zo(s,d,_)}function Aa(s,d,_){var M=s[d];tt.call(s,d)&&Dn(M,_)&&(_!==g||d in s)||zo(s,d,_)}function Mu(s,d){for(var _=s.length;_--;)if(Dn(s[_][0],d))return _;return-1}function Cf(s,d,_,M){return An(s,function(I,H,ie){d(M,I,_(I),ie)}),M}function Wc(s,d){return s&&Bo(d,rr(d),s)}function zo(s,d,_){d=="__proto__"&&Su?Su(s,d,{configurable:!0,enumerable:!0,value:_,writable:!0}):s[d]=_}function Os(s,d){for(var _=-1,M=d.length,I=Je(M),H=s==null;++_<M;)I[_]=H?g:Wu(s,d[_]);return I}function wi(s,d,_){return s==s&&(_!==g&&(s=s<=_?s:_),d!==g&&(s=s>=d?s:d)),s}function Kr(s,d,_,M,I,H){var ie,fe=1&d,Oe=2&d,Re=4&d;if(_&&(ie=I?_(s,M,I,H):_(s)),ie!==g)return ie;if(!In(s))return s;var De=Gt(s);if(De){if(ie=function(Be){var Ye=Be.length,Dt=new Be.constructor(Ye);return Ye&&typeof Be[0]=="string"&&tt.call(Be,"index")&&(Dt.index=Be.index,Dt.input=Be.input),Dt}(s),!fe)return Rr(s,ie)}else{var ee=yr(s),lt=ee==$||ee==q;if(ai(s))return tl(s,fe);if(ee==ge||ee==te||lt&&!I){if(ie=Oe||lt?{}:sl(s),!fe)return Oe?function(Be,Ye){return Bo(Be,Ne(Be),Ye)}(s,function(Be,Ye){return Be&&Bo(Ye,hr(Ye),Be)}(ie,s)):function(Be,Ye){return Bo(Be,al(Be),Ye)}(s,Wc(ie,s))}else{if(!sn[ee])return I?s:{};ie=function(Be,Ye,Dt){var ut=Be.constructor;switch(Ye){case He:return nl(Be);case Y:case B:return new ut(+Be);case nt:return function(Rt,Jt){var _t=Jt?nl(Rt.buffer):Rt.buffer;return new Rt.constructor(_t,Rt.byteOffset,Rt.byteLength)}(Be,Dt);case vt:case Xe:case qe:case gt:case le:case ce:case me:case Ce:case Ue:return En(Be,Dt);case se:return new ut;case xe:case ve:return new ut(Be);case Fe:return function(Rt){var Jt=new Rt.constructor(Rt.source,Ut.exec(Rt));return Jt.lastIndex=Rt.lastIndex,Jt}(Be);case je:return new ut;case Pe:return Nt=Be,cr?w(cr.call(Nt)):{}}var Nt}(s,ee,fe)}}H||(H=new so);var dt=H.get(s);if(dt)return dt;H.set(s,ie),Ga(s)?s.forEach(function(Be){ie.add(Kr(Be,d,_,Be,s,H))}):wp(s)&&s.forEach(function(Be,Ye){ie.set(Ye,Kr(Be,d,_,Ye,s,H))});var Mt=De?g:(Re?Oe?il:Nu:Oe?hr:rr)(s);return Er(Mt||s,function(Be,Ye){Mt&&(Be=s[Ye=Be]),Aa(ie,Ye,Kr(Be,d,_,Ye,s,H))}),ie}function Gc(s,d,_){var M=_.length;if(s==null)return!M;for(s=w(s);M--;){var I=_[M],H=d[I],ie=s[I];if(ie===g&&!(I in s)||!H(ie))return!1}return!0}function Hc(s,d,_){if(typeof s!="function")throw new K(E);return Ba(function(){s.apply(g,_)},d)}function ti(s,d,_,M){var I=-1,H=Sr,ie=!0,fe=s.length,Oe=[],Re=d.length;if(!fe)return Oe;_&&(d=rn(d,Cn(_))),M?(H=mu,ie=!1):d.length>=200&&(H=No,ie=!1,d=new Oi(d));e:for(;++I<fe;){var De=s[I],ee=_==null?De:_(De);if(De=M||De!==0?De:0,ie&&ee==ee){for(var lt=Re;lt--;)if(d[lt]===ee)continue e;Oe.push(De)}else H(d,ee,M)||Oe.push(De)}return Oe}F.templateSettings={escape:pe,evaluate:ot,interpolate:Lt,variable:"",imports:{_:F}},F.prototype=Pu.prototype,F.prototype.constructor=F,uo.prototype=Ma(Pu.prototype),uo.prototype.constructor=uo,nn.prototype=Ma(Pu.prototype),nn.prototype.constructor=nn,$i.prototype.clear=function(){this.__data__=ju?ju(null):{},this.size=0},$i.prototype.delete=function(s){var d=this.has(s)&&delete this.__data__[s];return this.size-=d?1:0,d},$i.prototype.get=function(s){var d=this.__data__;if(ju){var _=d[s];return _===j?g:_}return tt.call(d,s)?d[s]:g},$i.prototype.has=function(s){var d=this.__data__;return ju?d[s]!==g:tt.call(d,s)},$i.prototype.set=function(s,d){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=ju&&d===g?j:d,this},gn.prototype.clear=function(){this.__data__=[],this.size=0},gn.prototype.delete=function(s){var d=this.__data__,_=Mu(d,s);return!(_<0)&&(_==d.length-1?d.pop():Yi.call(d,_,1),--this.size,!0)},gn.prototype.get=function(s){var d=this.__data__,_=Mu(d,s);return _<0?g:d[_][1]},gn.prototype.has=function(s){return Mu(this.__data__,s)>-1},gn.prototype.set=function(s,d){var _=this.__data__,M=Mu(_,s);return M<0?(++this.size,_.push([s,d])):_[M][1]=d,this},Lo.prototype.clear=function(){this.size=0,this.__data__={hash:new $i,map:new(Ro||gn),string:new $i}},Lo.prototype.delete=function(s){var d=La(this,s).delete(s);return this.size-=d?1:0,d},Lo.prototype.get=function(s){return La(this,s).get(s)},Lo.prototype.has=function(s){return La(this,s).has(s)},Lo.prototype.set=function(s,d){var _=La(this,s),M=_.size;return _.set(s,d),this.size+=_.size==M?0:1,this},Oi.prototype.add=Oi.prototype.push=function(s){return this.__data__.set(s,j),this},Oi.prototype.has=function(s){return this.__data__.has(s)},so.prototype.clear=function(){this.__data__=new gn,this.size=0},so.prototype.delete=function(s){var d=this.__data__,_=d.delete(s);return this.size=d.size,_},so.prototype.get=function(s){return this.__data__.get(s)},so.prototype.has=function(s){return this.__data__.has(s)},so.prototype.set=function(s,d){var _=this.__data__;if(_ instanceof gn){var M=_.__data__;if(!Ro||M.length<199)return M.push([s,d]),this.size=++_.size,this;_=this.__data__=new Lo(M)}return _.set(s,d),this.size=_.size,this};var An=Zf(pt),If=Zf(wn,!0);function Rf(s,d){var _=!0;return An(s,function(M,I,H){return _=!!d(M,I,H)}),_}function Hn(s,d,_){for(var M=-1,I=s.length;++M<I;){var H=s[M],ie=d(H);if(ie!=null&&(fe===g?ie==ie&&!vr(ie):_(ie,fe)))var fe=ie,Oe=H}return Oe}function fn(s,d){var _=[];return An(s,function(M,I,H){d(M,I,H)&&_.push(M)}),_}function pr(s,d,_,M,I){var H=-1,ie=s.length;for(_||(_=ap),I||(I=[]);++H<ie;){var fe=s[H];d>0&&_(fe)?d>1?pr(fe,d-1,_,M,I):er(I,fe):M||(I[I.length]=fe)}return I}var Kt=Jf(),qn=Jf(!0);function pt(s,d){return s&&Kt(s,d,rr)}function wn(s,d){return s&&qn(s,d,rr)}function ws(s,d){return gr(d,function(_){return ui(s[_])})}function ni(s,d){for(var _=0,M=(d=Ei(d,s)).length;s!=null&&_<M;)s=s[tr(d[_++])];return _&&_==M?s:g}function Xc(s,d,_){var M=d(s);return Gt(s)?M:er(M,_(s))}function xn(s){return s==null?s===g?"[object Undefined]":"[object Null]":ei&&ei in w(s)?function(d){var _=tt.call(d,ei),M=d[ei];try{d[ei]=g;var I=!0}catch{}var H=an.call(d);return I&&(_?d[ei]=M:delete d[ei]),H}(s):function(d){return an.call(d)}(s)}function Bn(s,d){return s>d}function Lf(s,d){return s!=null&&tt.call(s,d)}function zf(s,d){return s!=null&&d in w(s)}function xs(s,d,_){for(var M=_?mu:Sr,I=s[0].length,H=s.length,ie=H,fe=Je(H),Oe=1/0,Re=[];ie--;){var De=s[ie];ie&&d&&(De=rn(De,Cn(d))),Oe=_r(De.length,Oe),fe[ie]=!_&&(d||I>=120&&De.length>=120)?new Oi(ie&&De):g}De=s[0];var ee=-1,lt=fe[0];e:for(;++ee<I&&Re.length<Oe;){var dt=De[ee],Mt=d?d(dt):dt;if(dt=_||dt!==0?dt:0,!(lt?No(lt,Mt):M(Re,Mt,_))){for(ie=H;--ie;){var Be=fe[ie];if(!(Be?No(Be,Mt):M(s[ie],Mt,_)))continue e}lt&&lt.push(Mt),Re.push(dt)}}return Re}function Ta(s,d,_){var M=(s=pl(s,d=Ei(d,s)))==null?s:s[tr(Sn(d))];return M==null?g:mn(M,s,_)}function Uc(s){return Rn(s)&&xn(s)==te}function ka(s,d,_,M,I){return s===d||(s==null||d==null||!Rn(s)&&!Rn(d)?s!=s&&d!=d:function(H,ie,fe,Oe,Re,De){var ee=Gt(H),lt=Gt(ie),dt=ee?ne:yr(H),Mt=lt?ne:yr(ie),Be=(dt=dt==te?ge:dt)==ge,Ye=(Mt=Mt==te?ge:Mt)==ge,Dt=dt==Mt;if(Dt&&ai(H)){if(!ai(ie))return!1;ee=!0,Be=!1}if(Dt&&!Be)return De||(De=new so),ee||Mi(H)?ip(H,ie,fe,Oe,Re,De):function(_t,At,Fn,Fr,Eo,Yn,Uo){switch(Fn){case nt:if(_t.byteLength!=At.byteLength||_t.byteOffset!=At.byteOffset)return!1;_t=_t.buffer,At=At.buffer;case He:return!(_t.byteLength!=At.byteLength||!Yn(new Ui(_t),new Ui(At)));case Y:case B:case xe:return Dn(+_t,+At);case V:return _t.name==At.name&&_t.message==At.message;case Fe:case ve:return _t==At+"";case se:var ki=mr;case je:var Va=1&Fr;if(ki||(ki=Zo),_t.size!=At.size&&!Va)return!1;var na=Uo.get(_t);if(na)return na==At;Fr|=2,Uo.set(_t,At);var Yo=ip(ki(_t),ki(At),Fr,Eo,Yn,Uo);return Uo.delete(_t),Yo;case Pe:if(cr)return cr.call(_t)==cr.call(At)}return!1}(H,ie,dt,fe,Oe,Re,De);if(!(1&fe)){var ut=Be&&tt.call(H,"__wrapped__"),Nt=Ye&&tt.call(ie,"__wrapped__");if(ut||Nt){var Rt=ut?H.value():H,Jt=Nt?ie.value():ie;return De||(De=new so),Re(Rt,Jt,fe,Oe,De)}}return Dt?(De||(De=new so),function(_t,At,Fn,Fr,Eo,Yn){var Uo=1&Fn,ki=Nu(_t),Va=ki.length,na=Nu(At).length;if(Va!=na&&!Uo)return!1;for(var Yo=Va;Yo--;){var fo=ki[Yo];if(!(Uo?fo in At:tt.call(At,fo)))return!1}var ef=Yn.get(_t),tc=Yn.get(At);if(ef&&tc)return ef==At&&tc==_t;var ra=!0;Yn.set(_t,At),Yn.set(At,_t);for(var Wr=Uo;++Yo<Va;){var nc=_t[fo=ki[Yo]],Zr=At[fo];if(Fr)var mt=Uo?Fr(Zr,nc,fo,At,_t,Yn):Fr(nc,Zr,fo,_t,At,Yn);if(!(mt===g?nc===Zr||Eo(nc,Zr,Fn,Fr,Yn):mt)){ra=!1;break}Wr||(Wr=fo=="constructor")}if(ra&&!Wr){var $u=_t.constructor,Ku=At.constructor;$u==Ku||!("constructor"in _t)||!("constructor"in At)||typeof $u=="function"&&$u instanceof $u&&typeof Ku=="function"&&Ku instanceof Ku||(ra=!1)}return Yn.delete(_t),Yn.delete(At),ra}(H,ie,fe,Oe,Re,De)):!1}(s,d,_,M,ka,I))}function Es(s,d,_,M){var I=_.length,H=I,ie=!M;if(s==null)return!H;for(s=w(s);I--;){var fe=_[I];if(ie&&fe[2]?fe[1]!==s[fe[0]]:!(fe[0]in s))return!1}for(;++I<H;){var Oe=(fe=_[I])[0],Re=s[Oe],De=fe[1];if(ie&&fe[2]){if(Re===g&&!(Oe in s))return!1}else{var ee=new so;if(M)var lt=M(Re,De,Oe,s,d,ee);if(!(lt===g?ka(De,Re,3,M,ee):lt))return!1}}return!0}function Da(s){return!(!In(s)||(d=s,Ft&&Ft in d))&&(ui(s)?Ar:Gn).test(Lr(s));var d}function Yc(s){return typeof s=="function"?s:s==null?wr:typeof s=="object"?Gt(s)?Ff(s[0],s[1]):Bf(s):Ya(s)}function ri(s){if(!za(s))return Mf(s);var d=[];for(var _ in w(s))tt.call(s,_)&&_!="constructor"&&d.push(_);return d}function ud(s){if(!In(s))return function(I){var H=[];if(I!=null)for(var ie in w(I))H.push(ie);return H}(s);var d=za(s),_=[];for(var M in s)(M!="constructor"||!d&&tt.call(s,M))&&_.push(M);return _}function oi(s,d){return s<d}function co(s,d){var _=-1,M=Tr(s)?Je(s.length):[];return An(s,function(I,H,ie){M[++_]=d(I,H,ie)}),M}function Bf(s){var d=Ls(s);return d.length==1&&d[0][2]?ll(d[0][0],d[0][1]):function(_){return _===s||Es(_,s,d)}}function Ff(s,d){return zs(s)&&cl(d)?ll(tr(s),d):function(_){var M=Wu(_,s);return M===g&&M===d?Gu(_,s):ka(d,M,3)}}function Ss(s,d,_,M,I){s!==d&&Kt(d,function(H,ie){if(I||(I=new so),In(H))(function(Oe,Re,De,ee,lt,dt,Mt){var Be=Fs(Oe,De),Ye=Fs(Re,De),Dt=Mt.get(Ye);if(Dt)return void _s(Oe,De,Dt);var ut=dt?dt(Be,Ye,De+"",Oe,Re,Mt):g,Nt=ut===g;if(Nt){var Rt=Gt(Ye),Jt=!Rt&&ai(Ye),_t=!Rt&&!Jt&&Mi(Ye);ut=Ye,Rt||Jt||_t?Gt(Be)?ut=Be:Xn(Be)?ut=Rr(Be):Jt?(Nt=!1,ut=tl(Ye,!0)):_t?(Nt=!1,ut=En(Ye,!0)):ut=[]:si(Ye)||ea(Ye)?(ut=Be,ea(Be)?ut=Rl(Be):In(Be)&&!ui(Be)||(ut=sl(Ye))):Nt=!1}Nt&&(Mt.set(Ye,ut),lt(ut,Ye,ee,dt,Mt),Mt.delete(Ye)),_s(Oe,De,ut)})(s,d,ie,_,Ss,M,I);else{var fe=M?M(Fs(s,ie),H,ie+"",s,d,I):g;fe===g&&(fe=H),_s(s,ie,fe)}},hr)}function Wf(s,d){var _=s.length;if(_)return Go(d+=d<0?_:0,_)?s[d]:g}function Gf(s,d,_){d=d.length?rn(d,function(H){return Gt(H)?function(ie){return ni(ie,H.length===1?H[0]:H)}:H}):[wr];var M=-1;d=rn(d,Cn(Et()));var I=co(s,function(H,ie,fe){var Oe=rn(d,function(Re){return Re(H)});return{criteria:Oe,index:++M,value:H}});return function(H,ie){var fe=H.length;for(H.sort(ie);fe--;)H[fe]=H[fe].value;return H}(I,function(H,ie){return function(fe,Oe,Re){for(var De=-1,ee=fe.criteria,lt=Oe.criteria,dt=ee.length,Mt=Re.length;++De<dt;){var Be=qf(ee[De],lt[De]);if(Be)return De>=Mt?Be:Be*(Re[De]=="desc"?-1:1)}return fe.index-Oe.index}(H,ie,_)})}function Hf(s,d,_){for(var M=-1,I=d.length,H={};++M<I;){var ie=d[M],fe=ni(s,ie);_(fe,ie)&&Ca(H,Ei(ie,s),fe)}return H}function Vc(s,d,_,M){var I=M?jr:mi,H=-1,ie=d.length,fe=s;for(s===d&&(d=Rr(d)),_&&(fe=rn(s,Cn(_)));++H<ie;)for(var Oe=0,Re=d[H],De=_?_(Re):Re;(Oe=I(fe,De,Oe,M))>-1;)fe!==s&&Yi.call(fe,Oe,1),Yi.call(s,Oe,1);return s}function Na(s,d){for(var _=s?d.length:0,M=_-1;_--;){var I=d[_];if(_==M||I!==H){var H=I;Go(I)?Yi.call(s,I,1):Ms(s,I)}}return s}function $c(s,d){return s+Ea(gs()*(d-s+1))}function js(s,d){var _="";if(!s||d<1||d>X)return _;do d%2&&(_+=s),(d=Ea(d/2))&&(s+=s);while(d);return _}function qt(s,d){return Ws(fl(s,d,wr),s+"")}function sd(s){return Fc(Ti(s))}function Kc(s,d){var _=Ti(s);return qi(_,wi(d,0,_.length))}function Ca(s,d,_,M){if(!In(s))return s;for(var I=-1,H=(d=Ei(d,s)).length,ie=H-1,fe=s;fe!=null&&++I<H;){var Oe=tr(d[I]),Re=_;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return s;if(I!=ie){var De=fe[Oe];(Re=M?M(De,Oe,fe):g)===g&&(Re=In(De)?De:Go(d[I+1])?[]:{})}Aa(fe,Oe,Re),fe=fe[Oe]}return s}var Xf=ms?function(s,d){return ms.set(s,d),s}:wr,cd=Su?function(s,d){return Su(s,"toString",{configurable:!0,enumerable:!1,value:Xu(d),writable:!0})}:wr;function ld(s){return qi(Ti(s))}function lo(s,d,_){var M=-1,I=s.length;d<0&&(d=-d>I?0:I+d),(_=_>I?I:_)<0&&(_+=I),I=d>_?0:_-d>>>0,d>>>=0;for(var H=Je(I);++M<I;)H[M]=s[M+d];return H}function qc(s,d){var _;return An(s,function(M,I,H){return!(_=d(M,I,H))}),!!_}function Ps(s,d,_){var M=0,I=s==null?M:s.length;if(typeof d=="number"&&d==d&&I<=2147483647){for(;M<I;){var H=M+I>>>1,ie=s[H];ie!==null&&!vr(ie)&&(_?ie<=d:ie<d)?M=H+1:I=H}return I}return Zc(s,d,wr,_)}function Zc(s,d,_,M){var I=0,H=s==null?0:s.length;if(H===0)return 0;for(var ie=(d=_(d))!=d,fe=d===null,Oe=vr(d),Re=d===g;I<H;){var De=Ea((I+H)/2),ee=_(s[De]),lt=ee!==g,dt=ee===null,Mt=ee==ee,Be=vr(ee);if(ie)var Ye=M||Mt;else Ye=Re?Mt&&(M||lt):fe?Mt&&lt&&(M||!dt):Oe?Mt&&lt&&!dt&&(M||!Be):!dt&&!Be&&(M?ee<=d:ee<d);Ye?I=De+1:H=De}return _r(H,4294967294)}function Uf(s,d){for(var _=-1,M=s.length,I=0,H=[];++_<M;){var ie=s[_],fe=d?d(ie):ie;if(!_||!Dn(fe,Oe)){var Oe=fe;H[I++]=ie===0?0:ie}}return H}function Jc(s){return typeof s=="number"?s:vr(s)?Q:+s}function Ir(s){if(typeof s=="string")return s;if(Gt(s))return rn(s,Ir)+"";if(vr(s))return kf?kf.call(s):"";var d=s+"";return d=="0"&&1/s==-1/0?"-0":d}function xi(s,d,_){var M=-1,I=Sr,H=s.length,ie=!0,fe=[],Oe=fe;if(_)ie=!1,I=mu;else if(H>=200){var Re=d?null:ol(s);if(Re)return Zo(Re);ie=!1,I=No,Oe=new Oi}else Oe=d?[]:fe;e:for(;++M<H;){var De=s[M],ee=d?d(De):De;if(De=_||De!==0?De:0,ie&&ee==ee){for(var lt=Oe.length;lt--;)if(Oe[lt]===ee)continue e;d&&Oe.push(ee),fe.push(De)}else I(Oe,ee,_)||(Oe!==fe&&Oe.push(ee),fe.push(De))}return fe}function Ms(s,d){return(s=pl(s,d=Ei(d,s)))==null||delete s[tr(Sn(d))]}function Yf(s,d,_,M){return Ca(s,d,_(ni(s,d)),M)}function Au(s,d,_,M){for(var I=s.length,H=M?I:-1;(M?H--:++H<I)&&d(s[H],H,s););return _?lo(s,M?0:H,M?H+1:I):lo(s,M?H+1:0,M?I:H)}function Vf(s,d){var _=s;return _ instanceof nn&&(_=_.value()),ma(d,function(M,I){return I.func.apply(I.thisArg,er([M],I.args))},_)}function As(s,d,_){var M=s.length;if(M<2)return M?xi(s[0]):[];for(var I=-1,H=Je(M);++I<M;)for(var ie=s[I],fe=-1;++fe<M;)fe!=I&&(H[I]=ti(H[I]||ie,s[fe],d,_));return xi(pr(H,1),d,_)}function $f(s,d,_){for(var M=-1,I=s.length,H=d.length,ie={};++M<I;){var fe=M<H?d[M]:g;_(ie,s[M],fe)}return ie}function Ts(s){return Xn(s)?s:[]}function Qc(s){return typeof s=="function"?s:wr}function Ei(s,d){return Gt(s)?s:zs(s,d)?[s]:cp(pn(s))}var Kf=qt;function Si(s,d,_){var M=s.length;return _=_===g?M:_,!d&&_>=M?s:lo(s,d,_)}var el=Qh||function(s){return zn.clearTimeout(s)};function tl(s,d){if(d)return s.slice();var _=s.length,M=Eu?Eu(_):new s.constructor(_);return s.copy(M),M}function nl(s){var d=new s.constructor(s.byteLength);return new Ui(d).set(new Ui(s)),d}function En(s,d){var _=d?nl(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.length)}function qf(s,d){if(s!==d){var _=s!==g,M=s===null,I=s==s,H=vr(s),ie=d!==g,fe=d===null,Oe=d==d,Re=vr(d);if(!fe&&!Re&&!H&&s>d||H&&ie&&Oe&&!fe&&!Re||M&&ie&&Oe||!_&&Oe||!I)return 1;if(!M&&!H&&!Re&&s<d||Re&&_&&I&&!M&&!H||fe&&_&&I||!ie&&I||!Oe)return-1}return 0}function Tn(s,d,_,M){for(var I=-1,H=s.length,ie=_.length,fe=-1,Oe=d.length,Re=sr(H-ie,0),De=Je(Oe+Re),ee=!M;++fe<Oe;)De[fe]=d[fe];for(;++I<ie;)(ee||I<H)&&(De[_[I]]=s[I]);for(;Re--;)De[fe++]=s[I++];return De}function ks(s,d,_,M){for(var I=-1,H=s.length,ie=-1,fe=_.length,Oe=-1,Re=d.length,De=sr(H-fe,0),ee=Je(De+Re),lt=!M;++I<De;)ee[I]=s[I];for(var dt=I;++Oe<Re;)ee[dt+Oe]=d[Oe];for(;++ie<fe;)(lt||I<H)&&(ee[dt+_[ie]]=s[I++]);return ee}function Rr(s,d){var _=-1,M=s.length;for(d||(d=Je(M));++_<M;)d[_]=s[_];return d}function Bo(s,d,_,M){var I=!_;_||(_={});for(var H=-1,ie=d.length;++H<ie;){var fe=d[H],Oe=M?M(_[fe],s[fe],fe,_,s):g;Oe===g&&(Oe=s[fe]),I?zo(_,fe,Oe):Aa(_,fe,Oe)}return _}function Ds(s,d){return function(_,M){var I=Gt(_)?ls:Cf,H=d?d():{};return I(_,s,Et(M,2),H)}}function Ki(s){return qt(function(d,_){var M=-1,I=_.length,H=I>1?_[I-1]:g,ie=I>2?_[2]:g;for(H=s.length>3&&typeof H=="function"?(I--,H):g,ie&&Or(_[0],_[1],ie)&&(H=I<3?g:H,I=1),d=w(d);++M<I;){var fe=_[M];fe&&s(d,fe,M,H)}return d})}function Zf(s,d){return function(_,M){if(_==null)return _;if(!Tr(_))return s(_,M);for(var I=_.length,H=d?I:-1,ie=w(_);(d?H--:++H<I)&&M(ie[H],H,ie)!==!1;);return _}}function Jf(s){return function(d,_,M){for(var I=-1,H=w(d),ie=M(d),fe=ie.length;fe--;){var Oe=ie[s?fe:++I];if(_(H[Oe],Oe,H)===!1)break}return d}}function Qf(s){return function(d){var _=bo(d=pn(d))?Cr(d):g,M=_?_[0]:d.charAt(0),I=_?Si(_,1).join(""):d.slice(1);return M[s]()+I}}function ji(s){return function(d){return ma(xo(qs(d).replace(is,"")),s,"")}}function Tu(s){return function(){var d=arguments;switch(d.length){case 0:return new s;case 1:return new s(d[0]);case 2:return new s(d[0],d[1]);case 3:return new s(d[0],d[1],d[2]);case 4:return new s(d[0],d[1],d[2],d[3]);case 5:return new s(d[0],d[1],d[2],d[3],d[4]);case 6:return new s(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new s(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var _=Ma(s.prototype),M=s.apply(_,d);return In(M)?M:_}}function ep(s){return function(d,_,M){var I=w(d);if(!Tr(d)){var H=Et(_,3);d=rr(d),_=function(fe){return H(I[fe],fe,I)}}var ie=s(d,_,M);return ie>-1?I[H?d[ie]:ie]:g}}function tp(s){return kn(function(d){var _=d.length,M=_,I=uo.prototype.thru;for(s&&d.reverse();M--;){var H=d[M];if(typeof H!="function")throw new K(E);if(I&&!ie&&wo(H)=="wrapper")var ie=new uo([],!0)}for(M=ie?M:_;++M<_;){var fe=wo(H=d[M]),Oe=fe=="wrapper"?Cu(H):g;ie=Oe&&Bs(Oe[0])&&Oe[1]==424&&!Oe[4].length&&Oe[9]==1?ie[wo(Oe[0])].apply(ie,Oe[3]):H.length==1&&Bs(H)?ie[fe]():ie.thru(H)}return function(){var Re=arguments,De=Re[0];if(ie&&Re.length==1&&Gt(De))return ie.plant(De).value();for(var ee=0,lt=_?d[ee].apply(this,Re):De;++ee<_;)lt=d[ee].call(this,lt);return lt}})}function ku(s,d,_,M,I,H,ie,fe,Oe,Re){var De=d&N,ee=1&d,lt=2&d,dt=24&d,Mt=512&d,Be=lt?g:Tu(s);return function Ye(){for(var Dt=arguments.length,ut=Je(Dt),Nt=Dt;Nt--;)ut[Nt]=arguments[Nt];if(dt)var Rt=Ra(Ye),Jt=Rc(ut,Rt);if(M&&(ut=Tn(ut,M,I,dt)),H&&(ut=ks(ut,H,ie,dt)),Dt-=Jt,dt&&Dt<Re){var _t=Nr(ut,Rt);return Cs(s,d,ku,Ye.placeholder,_,ut,_t,fe,Oe,Re-Dt)}var At=ee?_:this,Fn=lt?At[s]:s;return Dt=ut.length,fe?ut=sp(ut,fe):Mt&&Dt>1&&ut.reverse(),De&&Oe<Dt&&(ut.length=Oe),this&&this!==zn&&this instanceof Ye&&(Fn=Be||Tu(Fn)),Fn.apply(At,ut)}}function np(s,d){return function(_,M){return function(I,H,ie,fe){return pt(I,function(Oe,Re,De){H(fe,ie(Oe),Re,De)}),fe}(_,s,d(M),{})}}function Du(s,d){return function(_,M){var I;if(_===g&&M===g)return d;if(_!==g&&(I=_),M!==g){if(I===g)return M;typeof _=="string"||typeof M=="string"?(_=Ir(_),M=Ir(M)):(_=Jc(_),M=Jc(M)),I=s(_,M)}return I}}function rl(s){return kn(function(d){return d=rn(d,Cn(Et())),qt(function(_){var M=this;return s(d,function(I){return mn(I,M,_)})})})}function Ns(s,d){var _=(d=d===g?" ":Ir(d)).length;if(_<2)return _?js(d,s):d;var M=js(d,ds(s/_o(d)));return bo(d)?Si(Cr(M),0,s).join(""):M.slice(0,s)}function Fo(s){return function(d,_,M){return M&&typeof M!="number"&&Or(d,_,M)&&(_=M=g),d=Ho(d),_===g?(_=d,d=0):_=Ho(_),function(I,H,ie,fe){for(var Oe=-1,Re=sr(ds((H-I)/(ie||1)),0),De=Je(Re);Re--;)De[fe?Re:++Oe]=I,I+=ie;return De}(d,_,M=M===g?d<_?1:-1:Ho(M),s)}}function Ia(s){return function(d,_){return typeof d=="string"&&typeof _=="string"||(d=kr(d),_=kr(_)),s(d,_)}}function Cs(s,d,_,M,I,H,ie,fe,Oe,Re){var De=8&d;d|=De?T:C,4&(d&=~(De?C:T))||(d&=-4);var ee=[s,d,I,De?H:g,De?ie:g,De?g:H,De?g:ie,fe,Oe,Re],lt=_.apply(g,ee);return Bs(s)&&hl(lt,ee),lt.placeholder=M,dl(lt,s,d)}function Is(s){var d=O[s];return function(_,M){if(_=kr(_),(M=M==null?0:_r(Yt(M),292))&&Pf(_)){var I=(pn(_)+"e").split("e");return+((I=(pn(d(I[0]+"e"+(+I[1]+M)))+"e").split("e"))[0]+"e"+(+I[1]-M))}return d(_)}}var ol=Vi&&1/Zo(new Vi([,-0]))[1]==G?function(s){return new Vi(s)}:Yu;function Rs(s){return function(d){var _=yr(d);return _==se?mr(d):_==je?wa(d):function(M,I){return rn(I,function(H){return[H,M[H]]})}(d,s(d))}}function Wo(s,d,_,M,I,H,ie,fe){var Oe=2&d;if(!Oe&&typeof s!="function")throw new K(E);var Re=M?M.length:0;if(Re||(d&=-97,M=I=g),ie=ie===g?ie:sr(Yt(ie),0),fe=fe===g?fe:Yt(fe),Re-=I?I.length:0,d&C){var De=M,ee=I;M=I=g}var lt=Oe?g:Cu(s),dt=[s,d,_,M,I,De,ee,H,ie,fe];if(lt&&function(Be,Ye){var Dt=Be[1],ut=Ye[1],Nt=Dt|ut,Rt=Nt<131,Jt=ut==N&&Dt==8||ut==N&&Dt==R&&Be[7].length<=Ye[8]||ut==384&&Ye[7].length<=Ye[8]&&Dt==8;if(!Rt&&!Jt)return Be;1&ut&&(Be[2]=Ye[2],Nt|=1&Dt?0:4);var _t=Ye[3];if(_t){var At=Be[3];Be[3]=At?Tn(At,_t,Ye[4]):_t,Be[4]=At?Nr(Be[3],S):Ye[4]}(_t=Ye[5])&&(At=Be[5],Be[5]=At?ks(At,_t,Ye[6]):_t,Be[6]=At?Nr(Be[5],S):Ye[6]),(_t=Ye[7])&&(Be[7]=_t),ut&N&&(Be[8]=Be[8]==null?Ye[8]:_r(Be[8],Ye[8])),Be[9]==null&&(Be[9]=Ye[9]),Be[0]=Ye[0],Be[1]=Nt}(dt,lt),s=dt[0],d=dt[1],_=dt[2],M=dt[3],I=dt[4],!(fe=dt[9]=dt[9]===g?Oe?0:s.length:sr(dt[9]-Re,0))&&24&d&&(d&=-25),d&&d!=1)Mt=d==8||d==k?function(Be,Ye,Dt){var ut=Tu(Be);return function Nt(){for(var Rt=arguments.length,Jt=Je(Rt),_t=Rt,At=Ra(Nt);_t--;)Jt[_t]=arguments[_t];var Fn=Rt<3&&Jt[0]!==At&&Jt[Rt-1]!==At?[]:Nr(Jt,At);return(Rt-=Fn.length)<Dt?Cs(Be,Ye,ku,Nt.placeholder,g,Jt,Fn,g,g,Dt-Rt):mn(this&&this!==zn&&this instanceof Nt?ut:Be,this,Jt)}}(s,d,fe):d!=T&&d!=33||I.length?ku.apply(g,dt):function(Be,Ye,Dt,ut){var Nt=1&Ye,Rt=Tu(Be);return function Jt(){for(var _t=-1,At=arguments.length,Fn=-1,Fr=ut.length,Eo=Je(Fr+At),Yn=this&&this!==zn&&this instanceof Jt?Rt:Be;++Fn<Fr;)Eo[Fn]=ut[Fn];for(;At--;)Eo[Fn++]=arguments[++_t];return mn(Yn,Nt?Dt:this,Eo)}}(s,d,_,M);else var Mt=function(Be,Ye,Dt){var ut=1&Ye,Nt=Tu(Be);return function Rt(){return(this&&this!==zn&&this instanceof Rt?Nt:Be).apply(ut?Dt:this,arguments)}}(s,d,_);return dl((lt?Xf:hl)(Mt,dt),s,d)}function rp(s,d,_,M){return s===g||Dn(s,Ge[_])&&!tt.call(M,_)?d:s}function op(s,d,_,M,I,H){return In(s)&&In(d)&&(H.set(d,s),Ss(s,d,g,op,H),H.delete(d)),s}function fd(s){return si(s)?g:s}function ip(s,d,_,M,I,H){var ie=1&_,fe=s.length,Oe=d.length;if(fe!=Oe&&!(ie&&Oe>fe))return!1;var Re=H.get(s),De=H.get(d);if(Re&&De)return Re==d&&De==s;var ee=-1,lt=!0,dt=2&_?new Oi:g;for(H.set(s,d),H.set(d,s);++ee<fe;){var Mt=s[ee],Be=d[ee];if(M)var Ye=ie?M(Be,Mt,ee,d,s,H):M(Mt,Be,ee,s,d,H);if(Ye!==g){if(Ye)continue;lt=!1;break}if(dt){if(!bu(d,function(Dt,ut){if(!No(dt,ut)&&(Mt===Dt||I(Mt,Dt,_,M,H)))return dt.push(ut)})){lt=!1;break}}else if(Mt!==Be&&!I(Mt,Be,_,M,H)){lt=!1;break}}return H.delete(s),H.delete(d),lt}function kn(s){return Ws(fl(s,g,ml),s+"")}function Nu(s){return Xc(s,rr,al)}function il(s){return Xc(s,hr,Ne)}var Cu=ms?function(s){return ms.get(s)}:Yu;function wo(s){for(var d=s.name+"",_=Pa[d],M=tt.call(Pa,d)?_.length:0;M--;){var I=_[M],H=I.func;if(H==null||H==s)return I.name}return d}function Ra(s){return(tt.call(F,"placeholder")?F:s).placeholder}function Et(){var s=F.iteratee||Uu;return s=s===Uu?Yc:s,arguments.length?s(arguments[0],arguments[1]):s}function La(s,d){var _,M,I=s.__data__;return((M=typeof(_=d))=="string"||M=="number"||M=="symbol"||M=="boolean"?_!=="__proto__":_===null)?I[typeof d=="string"?"string":"hash"]:I.map}function Ls(s){for(var d=rr(s),_=d.length;_--;){var M=d[_],I=s[M];d[_]=[M,I,cl(I)]}return d}function Pi(s,d){var _=function(M,I){return M==null?g:M[I]}(s,d);return Da(_)?_:g}var al=Lc?function(s){return s==null?[]:(s=w(s),gr(Lc(s),function(d){return br.call(s,d)}))}:Zs,Ne=Lc?function(s){for(var d=[];s;)er(d,al(s)),s=Jo(s);return d}:Zs,yr=xn;function ul(s,d,_){for(var M=-1,I=(d=Ei(d,s)).length,H=!1;++M<I;){var ie=tr(d[M]);if(!(H=s!=null&&_(s,ie)))break;s=s[ie]}return H||++M!=I?H:!!(I=s==null?0:s.length)&&ta(I)&&Go(ie,I)&&(Gt(s)||ea(s))}function sl(s){return typeof s.constructor!="function"||za(s)?{}:Ma(Jo(s))}function ap(s){return Gt(s)||ea(s)||!!(_i&&s&&s[_i])}function Go(s,d){var _=typeof s;return!!(d=d??X)&&(_=="number"||_!="symbol"&&it.test(s))&&s>-1&&s%1==0&&s<d}function Or(s,d,_){if(!In(_))return!1;var M=typeof d;return!!(M=="number"?Tr(_)&&Go(d,_.length):M=="string"&&d in _)&&Dn(_[d],s)}function zs(s,d){if(Gt(s))return!1;var _=typeof s;return!(_!="number"&&_!="symbol"&&_!="boolean"&&s!=null&&!vr(s))||zt.test(s)||!un.test(s)||d!=null&&s in w(d)}function Bs(s){var d=wo(s),_=F[d];if(typeof _!="function"||!(d in nn.prototype))return!1;if(s===_)return!0;var M=Cu(_);return!!M&&s===M[0]}(Sa&&yr(new Sa(new ArrayBuffer(1)))!=nt||Ro&&yr(new Ro)!=se||zc&&yr(zc.resolve())!=Me||Vi&&yr(new Vi)!=je||ja&&yr(new ja)!=Ae)&&(yr=function(s){var d=xn(s),_=d==ge?s.constructor:g,M=_?Lr(_):"";if(M)switch(M){case od:return nt;case Af:return se;case id:return Me;case ad:return je;case Tf:return Ae}return d});var up=at?ui:or;function za(s){var d=s&&s.constructor;return s===(typeof d=="function"&&d.prototype||Ge)}function cl(s){return s==s&&!In(s)}function ll(s,d){return function(_){return _!=null&&_[s]===d&&(d!==g||s in w(_))}}function fl(s,d,_){return d=sr(d===g?s.length-1:d,0),function(){for(var M=arguments,I=-1,H=sr(M.length-d,0),ie=Je(H);++I<H;)ie[I]=M[d+I];I=-1;for(var fe=Je(d+1);++I<d;)fe[I]=M[I];return fe[d]=_(ie),mn(s,this,fe)}}function pl(s,d){return d.length<2?s:ni(s,lo(d,0,-1))}function sp(s,d){for(var _=s.length,M=_r(d.length,_),I=Rr(s);M--;){var H=d[M];s[M]=Go(H,_)?I[H]:g}return s}function Fs(s,d){if((d!=="constructor"||typeof s[d]!="function")&&d!="__proto__")return s[d]}var hl=Gs(Xf),Ba=jf||function(s,d){return zn.setTimeout(s,d)},Ws=Gs(cd);function dl(s,d,_){var M=d+"";return Ws(s,function(I,H){var ie=H.length;if(!ie)return I;var fe=ie-1;return H[fe]=(ie>1?"& ":"")+H[fe],H=H.join(ie>2?", ":" "),I.replace(J,`{
/* [wrapped with `+H+`] */
`)}(M,function(I,H){return Er(re,function(ie){var fe="_."+ie[0];H&ie[1]&&!Sr(I,fe)&&I.push(fe)}),I.sort()}(function(I){var H=I.match(de);return H?H[1].split(ae):[]}(M),_)))}function Gs(s){var d=0,_=0;return function(){var M=ys(),I=16-(M-_);if(_=M,I>0){if(++d>=800)return arguments[0]}else d=0;return s.apply(g,arguments)}}function qi(s,d){var _=-1,M=s.length,I=M-1;for(d=d===g?M:d;++_<d;){var H=$c(_,I),ie=s[H];s[H]=s[_],s[_]=ie}return s.length=d,s}var cp=function(s){var d=Wa(s,function(M){return _.size===500&&_.clear(),M}),_=d.cache;return d}(function(s){var d=[];return s.charCodeAt(0)===46&&d.push(""),s.replace(Qt,function(_,M,I,H){d.push(I?H.replace(Ke,"$1"):M||_)}),d});function tr(s){if(typeof s=="string"||vr(s))return s;var d=s+"";return d=="0"&&1/s==-1/0?"-0":d}function Lr(s){if(s!=null){try{return $t.call(s)}catch{}try{return s+""}catch{}}return""}function lp(s){if(s instanceof nn)return s.clone();var d=new uo(s.__wrapped__,s.__chain__);return d.__actions__=Rr(s.__actions__),d.__index__=s.__index__,d.__values__=s.__values__,d}var qr=qt(function(s,d){return Xn(s)?ti(s,pr(d,1,Xn,!0)):[]}),fp=qt(function(s,d){var _=Sn(d);return Xn(_)&&(_=g),Xn(s)?ti(s,pr(d,1,Xn,!0),Et(_,2)):[]}),yl=qt(function(s,d){var _=Sn(d);return Xn(_)&&(_=g),Xn(s)?ti(s,pr(d,1,Xn,!0),g,_):[]});function vl(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var I=_==null?0:Yt(_);return I<0&&(I=sr(M+I,0)),ko(s,Et(d,3),I)}function gl(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var I=M-1;return _!==g&&(I=Yt(_),I=_<0?sr(M+I,0):_r(I,M-1)),ko(s,Et(d,3),I,!0)}function ml(s){return s!=null&&s.length?pr(s,1):[]}function bl(s){return s&&s.length?s[0]:g}var pp=qt(function(s){var d=rn(s,Ts);return d.length&&d[0]===s[0]?xs(d):[]}),_l=qt(function(s){var d=Sn(s),_=rn(s,Ts);return d===Sn(_)?d=g:_.pop(),_.length&&_[0]===s[0]?xs(_,Et(d,2)):[]}),Iu=qt(function(s){var d=Sn(s),_=rn(s,Ts);return(d=typeof d=="function"?d:g)&&_.pop(),_.length&&_[0]===s[0]?xs(_,g,d):[]});function Sn(s){var d=s==null?0:s.length;return d?s[d-1]:g}var pd=qt(hp);function hp(s,d){return s&&s.length&&d&&d.length?Vc(s,d):s}var Ol=kn(function(s,d){var _=s==null?0:s.length,M=Os(s,d);return Na(s,rn(d,function(I){return Go(I,_)?+I:I}).sort(qf)),M});function Hs(s){return s==null?s:rd.call(s)}var zr=qt(function(s){return xi(pr(s,1,Xn,!0))}),nr=qt(function(s){var d=Sn(s);return Xn(d)&&(d=g),xi(pr(s,1,Xn,!0),Et(d,2))}),hd=qt(function(s){var d=Sn(s);return d=typeof d=="function"?d:g,xi(pr(s,1,Xn,!0),g,d)});function Br(s){if(!s||!s.length)return[];var d=0;return s=gr(s,function(_){if(Xn(_))return d=sr(_.length,d),!0}),Xi(d,function(_){return rn(s,Pr(_))})}function Pt(s,d){if(!s||!s.length)return[];var _=Br(s);return d==null?_:rn(_,function(M){return mn(d,g,M)})}var wl=qt(function(s,d){return Xn(s)?ti(s,d):[]}),xl=qt(function(s){return As(gr(s,Xn))}),El=qt(function(s){var d=Sn(s);return Xn(d)&&(d=g),As(gr(s,Xn),Et(d,2))}),dp=qt(function(s){var d=Sn(s);return d=typeof d=="function"?d:g,As(gr(s,Xn),g,d)}),yp=qt(Br),dd=qt(function(s){var d=s.length,_=d>1?s[d-1]:g;return _=typeof _=="function"?(s.pop(),_):g,Pt(s,_)});function vp(s){var d=F(s);return d.__chain__=!0,d}function Fa(s,d){return d(s)}var yd=kn(function(s){var d=s.length,_=d?s[0]:0,M=this.__wrapped__,I=function(H){return Os(H,s)};return!(d>1||this.__actions__.length)&&M instanceof nn&&Go(_)?((M=M.slice(_,+_+(d?1:0))).__actions__.push({func:Fa,args:[I],thisArg:g}),new uo(M,this.__chain__).thru(function(H){return d&&!H.length&&H.push(g),H})):this.thru(I)}),Sl=Ds(function(s,d,_){tt.call(s,_)?++s[_]:zo(s,_,1)}),vd=ep(vl),gd=ep(gl);function jl(s,d){return(Gt(s)?Er:An)(s,Et(d,3))}function Zi(s,d){return(Gt(s)?fs:If)(s,Et(d,3))}var gp=Ds(function(s,d,_){tt.call(s,_)?s[_].push(d):zo(s,_,[d])}),Wt=qt(function(s,d,_){var M=-1,I=typeof d=="function",H=Tr(s)?Je(s.length):[];return An(s,function(ie){H[++M]=I?mn(d,ie,_):Ta(ie,d,_)}),H}),mp=Ds(function(s,d,_){zo(s,_,d)});function Ji(s,d){return(Gt(s)?rn:co)(s,Et(d,3))}var Pl=Ds(function(s,d,_){s[_?0:1].push(d)},function(){return[[],[]]}),md=qt(function(s,d){if(s==null)return[];var _=d.length;return _>1&&Or(s,d[0],d[1])?d=[]:_>2&&Or(d[0],d[1],d[2])&&(d=[d[0]]),Gf(s,pr(d,1),[])}),Ru=ed||function(){return zn.Date.now()};function Ml(s,d,_){return d=_?g:d,d=s&&d==null?s.length:d,Wo(s,N,g,g,g,g,d)}function Al(s,d){var _;if(typeof d!="function")throw new K(E);return s=Yt(s),function(){return--s>0&&(_=d.apply(this,arguments)),s<=1&&(d=g),_}}var Tl=qt(function(s,d,_){var M=1;if(_.length){var I=Nr(_,Ra(Tl));M|=T}return Wo(s,M,d,_,I)}),bp=qt(function(s,d,_){var M=3;if(_.length){var I=Nr(_,Ra(bp));M|=T}return Wo(d,M,s,_,I)});function _p(s,d,_){var M,I,H,ie,fe,Oe,Re=0,De=!1,ee=!1,lt=!0;if(typeof s!="function")throw new K(E);function dt(Nt){var Rt=M,Jt=I;return M=I=g,Re=Nt,ie=s.apply(Jt,Rt)}function Mt(Nt){return Re=Nt,fe=Ba(Ye,d),De?dt(Nt):ie}function Be(Nt){var Rt=Nt-Oe;return Oe===g||Rt>=d||Rt<0||ee&&Nt-Re>=H}function Ye(){var Nt=Ru();if(Be(Nt))return Dt(Nt);fe=Ba(Ye,function(Rt){var Jt=d-(Rt-Oe);return ee?_r(Jt,H-(Rt-Re)):Jt}(Nt))}function Dt(Nt){return fe=g,lt&&M?dt(Nt):(M=I=g,ie)}function ut(){var Nt=Ru(),Rt=Be(Nt);if(M=arguments,I=this,Oe=Nt,Rt){if(fe===g)return Mt(Oe);if(ee)return el(fe),fe=Ba(Ye,d),dt(Oe)}return fe===g&&(fe=Ba(Ye,d)),ie}return d=kr(d)||0,In(_)&&(De=!!_.leading,H=(ee="maxWait"in _)?sr(kr(_.maxWait)||0,d):H,lt="trailing"in _?!!_.trailing:lt),ut.cancel=function(){fe!==g&&el(fe),Re=0,M=Oe=I=fe=g},ut.flush=function(){return fe===g?ie:Dt(Ru())},ut}var Lu=qt(function(s,d){return Hc(s,1,d)}),bd=qt(function(s,d,_){return Hc(s,kr(d)||0,_)});function Wa(s,d){if(typeof s!="function"||d!=null&&typeof d!="function")throw new K(E);var _=function(){var M=arguments,I=d?d.apply(this,M):M[0],H=_.cache;if(H.has(I))return H.get(I);var ie=s.apply(this,M);return _.cache=H.set(I,ie)||H,ie};return _.cache=new(Wa.Cache||Lo),_}function Xs(s){if(typeof s!="function")throw new K(E);return function(){var d=arguments;switch(d.length){case 0:return!s.call(this);case 1:return!s.call(this,d[0]);case 2:return!s.call(this,d[0],d[1]);case 3:return!s.call(this,d[0],d[1],d[2])}return!s.apply(this,d)}}Wa.Cache=Lo;var _d=Kf(function(s,d){var _=(d=d.length==1&&Gt(d[0])?rn(d[0],Cn(Et())):rn(pr(d,1),Cn(Et()))).length;return qt(function(M){for(var I=-1,H=_r(M.length,_);++I<H;)M[I]=d[I].call(this,M[I]);return mn(s,this,M)})}),Qi=qt(function(s,d){var _=Nr(d,Ra(Qi));return Wo(s,T,g,d,_)}),ii=qt(function(s,d){var _=Nr(d,Ra(ii));return Wo(s,C,g,d,_)}),kl=kn(function(s,d){return Wo(s,R,g,g,g,d)});function Dn(s,d){return s===d||s!=s&&d!=d}var Us=Ia(Bn),zu=Ia(function(s,d){return s>=d}),ea=Uc(function(){return arguments}())?Uc:function(s){return Rn(s)&&tt.call(s,"callee")&&!br.call(s,"callee")},Gt=Je.isArray,Op=vu?Cn(vu):function(s){return Rn(s)&&xn(s)==He};function Tr(s){return s!=null&&ta(s.length)&&!ui(s)}function Xn(s){return Rn(s)&&Tr(s)}var ai=td||or,Ys=cs?Cn(cs):function(s){return Rn(s)&&xn(s)==B};function Dl(s){if(!Rn(s))return!1;var d=xn(s);return d==V||d=="[object DOMException]"||typeof s.message=="string"&&typeof s.name=="string"&&!si(s)}function ui(s){if(!In(s))return!1;var d=xn(s);return d==$||d==q||d=="[object AsyncFunction]"||d=="[object Proxy]"}function Vs(s){return typeof s=="number"&&s==Yt(s)}function ta(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=X}function In(s){var d=typeof s;return s!=null&&(d=="object"||d=="function")}function Rn(s){return s!=null&&typeof s=="object"}var wp=gu?Cn(gu):function(s){return Rn(s)&&yr(s)==se};function Nl(s){return typeof s=="number"||Rn(s)&&xn(s)==xe}function si(s){if(!Rn(s)||xn(s)!=ge)return!1;var d=Jo(s);if(d===null)return!0;var _=tt.call(d,"constructor")&&d.constructor;return typeof _=="function"&&_ instanceof _&&$t.call(_)==$r}var Cl=ga?Cn(ga):function(s){return Rn(s)&&xn(s)==Fe},Ga=gi?Cn(gi):function(s){return Rn(s)&&yr(s)==je};function Bu(s){return typeof s=="string"||!Gt(s)&&Rn(s)&&xn(s)==ve}function vr(s){return typeof s=="symbol"||Rn(s)&&xn(s)==Pe}var Mi=vo?Cn(vo):function(s){return Rn(s)&&ta(s.length)&&!!ln[xn(s)]},Ha=Ia(oi),Fu=Ia(function(s,d){return s<=d});function Xa(s){if(!s)return[];if(Tr(s))return Bu(s)?Cr(s):Rr(s);if(Qo&&s[Qo])return function(_){for(var M,I=[];!(M=_.next()).done;)I.push(M.value);return I}(s[Qo]());var d=yr(s);return(d==se?mr:d==je?Zo:Ti)(s)}function Ho(s){return s?(s=kr(s))===G||s===-1/0?17976931348623157e292*(s<0?-1:1):s==s?s:0:s===0?s:0}function Yt(s){var d=Ho(s),_=d%1;return d==d?_?d-_:d:0}function Il(s){return s?wi(Yt(s),0,ue):0}function kr(s){if(typeof s=="number")return s;if(vr(s))return Q;if(In(s)){var d=typeof s.valueOf=="function"?s.valueOf():s;s=In(d)?d+"":d}if(typeof s!="string")return s===0?s:+s;s=_u(s);var _=lr.test(s);return _||$n.test(s)?To(s.slice(2),_?2:8):Qn.test(s)?Q:+s}function Rl(s){return Bo(s,hr(s))}function pn(s){return s==null?"":Ir(s)}var xp=Ki(function(s,d){if(za(d)||Tr(d))Bo(d,rr(d),s);else for(var _ in d)tt.call(d,_)&&Aa(s,_,d[_])}),Ll=Ki(function(s,d){Bo(d,hr(d),s)}),ci=Ki(function(s,d,_,M){Bo(d,hr(d),s,M)}),zl=Ki(function(s,d,_,M){Bo(d,rr(d),s,M)}),Ep=kn(Os),Sp=qt(function(s,d){s=w(s);var _=-1,M=d.length,I=M>2?d[2]:g;for(I&&Or(d[0],d[1],I)&&(M=1);++_<M;)for(var H=d[_],ie=hr(H),fe=-1,Oe=ie.length;++fe<Oe;){var Re=ie[fe],De=s[Re];(De===g||Dn(De,Ge[Re])&&!tt.call(s,Re))&&(s[Re]=H[Re])}return s}),Bl=qt(function(s){return s.push(g,op),mn(Gl,g,s)});function Wu(s,d,_){var M=s==null?g:ni(s,d);return M===g?_:M}function Gu(s,d){return s!=null&&ul(s,d,zf)}var jp=np(function(s,d,_){d!=null&&typeof d.toString!="function"&&(d=an.call(d)),s[d]=_},Xu(wr)),Fl=np(function(s,d,_){d!=null&&typeof d.toString!="function"&&(d=an.call(d)),tt.call(s,d)?s[d].push(_):s[d]=[_]},Et),Wl=qt(Ta);function rr(s){return Tr(s)?Bc(s):ri(s)}function hr(s){return Tr(s)?Bc(s,!0):ud(s)}var Ai=Ki(function(s,d,_){Ss(s,d,_)}),Gl=Ki(function(s,d,_,M){Ss(s,d,_,M)}),Pp=kn(function(s,d){var _={};if(s==null)return _;var M=!1;d=rn(d,function(H){return H=Ei(H,s),M||(M=H.length>1),H}),Bo(s,il(s),_),M&&(_=Kr(_,7,fd));for(var I=d.length;I--;)Ms(_,d[I]);return _}),Hl=kn(function(s,d){return s==null?{}:function(_,M){return Hf(_,M,function(I,H){return Gu(_,H)})}(s,d)});function $s(s,d){if(s==null)return{};var _=rn(il(s),function(M){return[M]});return d=Et(d),Hf(s,_,function(M,I){return d(M,I[0])})}var Mp=Rs(rr),Xl=Rs(hr);function Ti(s){return s==null?[]:Oa(s,rr(s))}var Ks=ji(function(s,d,_){return d=d.toLowerCase(),s+(_?Hu(d):d)});function Hu(s){return Un(pn(s).toLowerCase())}function qs(s){return(s=pn(s))&&s.replace(bt,wu).replace(Ao,"")}var Ul=ji(function(s,d,_){return s+(_?"-":"")+d.toLowerCase()}),Ap=ji(function(s,d,_){return s+(_?" ":"")+d.toLowerCase()}),Yl=Qf("toLowerCase"),Tp=ji(function(s,d,_){return s+(_?"_":"")+d.toLowerCase()}),Ua=ji(function(s,d,_){return s+(_?" ":"")+Un(d)}),Od=ji(function(s,d,_){return s+(_?" ":"")+d.toUpperCase()}),Un=Qf("toUpperCase");function xo(s,d,_){return s=pn(s),(d=_?g:d)===g?function(M){return pu.test(M)}(s)?function(M){return M.match(ya)||[]}(s):function(M){return M.match(_e)||[]}(s):s.match(d)||[]}var kp=qt(function(s,d){try{return mn(s,g,d)}catch(_){return Dl(_)?_:new Zt(_)}}),Xo=kn(function(s,d){return Er(d,function(_){_=tr(_),zo(s,_,Tl(s[_],s))}),s});function Xu(s){return function(){return s}}var Vl=tp(),Dp=tp(!0);function wr(s){return s}function Uu(s){return Yc(typeof s=="function"?s:Kr(s,1))}var $l=qt(function(s,d){return function(_){return Ta(_,s,d)}}),wd=qt(function(s,d){return function(_){return Ta(s,_,d)}});function li(s,d,_){var M=rr(d),I=ws(d,M);_!=null||In(d)&&(I.length||!M.length)||(_=d,d=s,s=this,I=ws(d,rr(d)));var H=!(In(_)&&"chain"in _&&!_.chain),ie=ui(s);return Er(I,function(fe){var Oe=d[fe];s[fe]=Oe,ie&&(s.prototype[fe]=function(){var Re=this.__chain__;if(H||Re){var De=s(this.__wrapped__),ee=De.__actions__=Rr(this.__actions__);return ee.push({func:Oe,args:arguments,thisArg:s}),De.__chain__=Re,De}return Oe.apply(s,er([this.value()],arguments))})}),s}function Yu(){}var Kl=rl(rn),Np=rl(ps),Vu=rl(bu);function Ya(s){return zs(s)?Pr(tr(s)):function(d){return function(_){return ni(_,d)}}(s)}var ql=Fo(),Cp=Fo(!0);function Zs(){return[]}function or(){return!1}var Js=Du(function(s,d){return s+d},0),Zl=Is("ceil"),Jl=Du(function(s,d){return s/d},1),Ip=Is("floor"),Qs,Ql=Du(function(s,d){return s*d},1),ec=Is("round"),Rp=Du(function(s,d){return s-d},0);return F.after=function(s,d){if(typeof d!="function")throw new K(E);return s=Yt(s),function(){if(--s<1)return d.apply(this,arguments)}},F.ary=Ml,F.assign=xp,F.assignIn=Ll,F.assignInWith=ci,F.assignWith=zl,F.at=Ep,F.before=Al,F.bind=Tl,F.bindAll=Xo,F.bindKey=bp,F.castArray=function(){if(!arguments.length)return[];var s=arguments[0];return Gt(s)?s:[s]},F.chain=vp,F.chunk=function(s,d,_){d=(_?Or(s,d,_):d===g)?1:sr(Yt(d),0);var M=s==null?0:s.length;if(!M||d<1)return[];for(var I=0,H=0,ie=Je(ds(M/d));I<M;)ie[H++]=lo(s,I,I+=d);return ie},F.compact=function(s){for(var d=-1,_=s==null?0:s.length,M=0,I=[];++d<_;){var H=s[d];H&&(I[M++]=H)}return I},F.concat=function(){var s=arguments.length;if(!s)return[];for(var d=Je(s-1),_=arguments[0],M=s;M--;)d[M-1]=arguments[M];return er(Gt(_)?Rr(_):[_],pr(d,1))},F.cond=function(s){var d=s==null?0:s.length,_=Et();return s=d?rn(s,function(M){if(typeof M[1]!="function")throw new K(E);return[_(M[0]),M[1]]}):[],qt(function(M){for(var I=-1;++I<d;){var H=s[I];if(mn(H[0],this,M))return mn(H[1],this,M)}})},F.conforms=function(s){return function(d){var _=rr(d);return function(M){return Gc(M,d,_)}}(Kr(s,1))},F.constant=Xu,F.countBy=Sl,F.create=function(s,d){var _=Ma(s);return d==null?_:Wc(_,d)},F.curry=function s(d,_,M){var I=Wo(d,8,g,g,g,g,g,_=M?g:_);return I.placeholder=s.placeholder,I},F.curryRight=function s(d,_,M){var I=Wo(d,k,g,g,g,g,g,_=M?g:_);return I.placeholder=s.placeholder,I},F.debounce=_p,F.defaults=Sp,F.defaultsDeep=Bl,F.defer=Lu,F.delay=bd,F.difference=qr,F.differenceBy=fp,F.differenceWith=yl,F.drop=function(s,d,_){var M=s==null?0:s.length;return M?lo(s,(d=_||d===g?1:Yt(d))<0?0:d,M):[]},F.dropRight=function(s,d,_){var M=s==null?0:s.length;return M?lo(s,0,(d=M-(d=_||d===g?1:Yt(d)))<0?0:d):[]},F.dropRightWhile=function(s,d){return s&&s.length?Au(s,Et(d,3),!0,!0):[]},F.dropWhile=function(s,d){return s&&s.length?Au(s,Et(d,3),!0):[]},F.fill=function(s,d,_,M){var I=s==null?0:s.length;return I?(_&&typeof _!="number"&&Or(s,d,_)&&(_=0,M=I),function(H,ie,fe,Oe){var Re=H.length;for((fe=Yt(fe))<0&&(fe=-fe>Re?0:Re+fe),(Oe=Oe===g||Oe>Re?Re:Yt(Oe))<0&&(Oe+=Re),Oe=fe>Oe?0:Il(Oe);fe<Oe;)H[fe++]=ie;return H}(s,d,_,M)):[]},F.filter=function(s,d){return(Gt(s)?gr:fn)(s,Et(d,3))},F.flatMap=function(s,d){return pr(Ji(s,d),1)},F.flatMapDeep=function(s,d){return pr(Ji(s,d),G)},F.flatMapDepth=function(s,d,_){return _=_===g?1:Yt(_),pr(Ji(s,d),_)},F.flatten=ml,F.flattenDeep=function(s){return s!=null&&s.length?pr(s,G):[]},F.flattenDepth=function(s,d){return s!=null&&s.length?pr(s,d=d===g?1:Yt(d)):[]},F.flip=function(s){return Wo(s,512)},F.flow=Vl,F.flowRight=Dp,F.fromPairs=function(s){for(var d=-1,_=s==null?0:s.length,M={};++d<_;){var I=s[d];M[I[0]]=I[1]}return M},F.functions=function(s){return s==null?[]:ws(s,rr(s))},F.functionsIn=function(s){return s==null?[]:ws(s,hr(s))},F.groupBy=gp,F.initial=function(s){return s!=null&&s.length?lo(s,0,-1):[]},F.intersection=pp,F.intersectionBy=_l,F.intersectionWith=Iu,F.invert=jp,F.invertBy=Fl,F.invokeMap=Wt,F.iteratee=Uu,F.keyBy=mp,F.keys=rr,F.keysIn=hr,F.map=Ji,F.mapKeys=function(s,d){var _={};return d=Et(d,3),pt(s,function(M,I,H){zo(_,d(M,I,H),M)}),_},F.mapValues=function(s,d){var _={};return d=Et(d,3),pt(s,function(M,I,H){zo(_,I,d(M,I,H))}),_},F.matches=function(s){return Bf(Kr(s,1))},F.matchesProperty=function(s,d){return Ff(s,Kr(d,1))},F.memoize=Wa,F.merge=Ai,F.mergeWith=Gl,F.method=$l,F.methodOf=wd,F.mixin=li,F.negate=Xs,F.nthArg=function(s){return s=Yt(s),qt(function(d){return Wf(d,s)})},F.omit=Pp,F.omitBy=function(s,d){return $s(s,Xs(Et(d)))},F.once=function(s){return Al(2,s)},F.orderBy=function(s,d,_,M){return s==null?[]:(Gt(d)||(d=d==null?[]:[d]),Gt(_=M?g:_)||(_=_==null?[]:[_]),Gf(s,d,_))},F.over=Kl,F.overArgs=_d,F.overEvery=Np,F.overSome=Vu,F.partial=Qi,F.partialRight=ii,F.partition=Pl,F.pick=Hl,F.pickBy=$s,F.property=Ya,F.propertyOf=function(s){return function(d){return s==null?g:ni(s,d)}},F.pull=pd,F.pullAll=hp,F.pullAllBy=function(s,d,_){return s&&s.length&&d&&d.length?Vc(s,d,Et(_,2)):s},F.pullAllWith=function(s,d,_){return s&&s.length&&d&&d.length?Vc(s,d,g,_):s},F.pullAt=Ol,F.range=ql,F.rangeRight=Cp,F.rearg=kl,F.reject=function(s,d){return(Gt(s)?gr:fn)(s,Xs(Et(d,3)))},F.remove=function(s,d){var _=[];if(!s||!s.length)return _;var M=-1,I=[],H=s.length;for(d=Et(d,3);++M<H;){var ie=s[M];d(ie,M,s)&&(_.push(ie),I.push(M))}return Na(s,I),_},F.rest=function(s,d){if(typeof s!="function")throw new K(E);return qt(s,d=d===g?d:Yt(d))},F.reverse=Hs,F.sampleSize=function(s,d,_){return d=(_?Or(s,d,_):d===g)?1:Yt(d),(Gt(s)?Df:Kc)(s,d)},F.set=function(s,d,_){return s==null?s:Ca(s,d,_)},F.setWith=function(s,d,_,M){return M=typeof M=="function"?M:g,s==null?s:Ca(s,d,_,M)},F.shuffle=function(s){return(Gt(s)?Nf:ld)(s)},F.slice=function(s,d,_){var M=s==null?0:s.length;return M?(_&&typeof _!="number"&&Or(s,d,_)?(d=0,_=M):(d=d==null?0:Yt(d),_=_===g?M:Yt(_)),lo(s,d,_)):[]},F.sortBy=md,F.sortedUniq=function(s){return s&&s.length?Uf(s):[]},F.sortedUniqBy=function(s,d){return s&&s.length?Uf(s,Et(d,2)):[]},F.split=function(s,d,_){return _&&typeof _!="number"&&Or(s,d,_)&&(d=_=g),(_=_===g?ue:_>>>0)?(s=pn(s))&&(typeof d=="string"||d!=null&&!Cl(d))&&!(d=Ir(d))&&bo(s)?Si(Cr(s),0,_):s.split(d,_):[]},F.spread=function(s,d){if(typeof s!="function")throw new K(E);return d=d==null?0:sr(Yt(d),0),qt(function(_){var M=_[d],I=Si(_,0,d);return M&&er(I,M),mn(s,this,I)})},F.tail=function(s){var d=s==null?0:s.length;return d?lo(s,1,d):[]},F.take=function(s,d,_){return s&&s.length?lo(s,0,(d=_||d===g?1:Yt(d))<0?0:d):[]},F.takeRight=function(s,d,_){var M=s==null?0:s.length;return M?lo(s,(d=M-(d=_||d===g?1:Yt(d)))<0?0:d,M):[]},F.takeRightWhile=function(s,d){return s&&s.length?Au(s,Et(d,3),!1,!0):[]},F.takeWhile=function(s,d){return s&&s.length?Au(s,Et(d,3)):[]},F.tap=function(s,d){return d(s),s},F.throttle=function(s,d,_){var M=!0,I=!0;if(typeof s!="function")throw new K(E);return In(_)&&(M="leading"in _?!!_.leading:M,I="trailing"in _?!!_.trailing:I),_p(s,d,{leading:M,maxWait:d,trailing:I})},F.thru=Fa,F.toArray=Xa,F.toPairs=Mp,F.toPairsIn=Xl,F.toPath=function(s){return Gt(s)?rn(s,tr):vr(s)?[s]:Rr(cp(pn(s)))},F.toPlainObject=Rl,F.transform=function(s,d,_){var M=Gt(s),I=M||ai(s)||Mi(s);if(d=Et(d,4),_==null){var H=s&&s.constructor;_=I?M?new H:[]:In(s)&&ui(H)?Ma(Jo(s)):{}}return(I?Er:pt)(s,function(ie,fe,Oe){return d(_,ie,fe,Oe)}),_},F.unary=function(s){return Ml(s,1)},F.union=zr,F.unionBy=nr,F.unionWith=hd,F.uniq=function(s){return s&&s.length?xi(s):[]},F.uniqBy=function(s,d){return s&&s.length?xi(s,Et(d,2)):[]},F.uniqWith=function(s,d){return d=typeof d=="function"?d:g,s&&s.length?xi(s,g,d):[]},F.unset=function(s,d){return s==null||Ms(s,d)},F.unzip=Br,F.unzipWith=Pt,F.update=function(s,d,_){return s==null?s:Yf(s,d,Qc(_))},F.updateWith=function(s,d,_,M){return M=typeof M=="function"?M:g,s==null?s:Yf(s,d,Qc(_),M)},F.values=Ti,F.valuesIn=function(s){return s==null?[]:Oa(s,hr(s))},F.without=wl,F.words=xo,F.wrap=function(s,d){return Qi(Qc(d),s)},F.xor=xl,F.xorBy=El,F.xorWith=dp,F.zip=yp,F.zipObject=function(s,d){return $f(s||[],d||[],Aa)},F.zipObjectDeep=function(s,d){return $f(s||[],d||[],Ca)},F.zipWith=dd,F.entries=Mp,F.entriesIn=Xl,F.extend=Ll,F.extendWith=ci,li(F,F),F.add=Js,F.attempt=kp,F.camelCase=Ks,F.capitalize=Hu,F.ceil=Zl,F.clamp=function(s,d,_){return _===g&&(_=d,d=g),_!==g&&(_=(_=kr(_))==_?_:0),d!==g&&(d=(d=kr(d))==d?d:0),wi(kr(s),d,_)},F.clone=function(s){return Kr(s,4)},F.cloneDeep=function(s){return Kr(s,5)},F.cloneDeepWith=function(s,d){return Kr(s,5,d=typeof d=="function"?d:g)},F.cloneWith=function(s,d){return Kr(s,4,d=typeof d=="function"?d:g)},F.conformsTo=function(s,d){return d==null||Gc(s,d,rr(d))},F.deburr=qs,F.defaultTo=function(s,d){return s==null||s!=s?d:s},F.divide=Jl,F.endsWith=function(s,d,_){s=pn(s),d=Ir(d);var M=s.length,I=_=_===g?M:wi(Yt(_),0,M);return(_-=d.length)>=0&&s.slice(_,I)==d},F.eq=Dn,F.escape=function(s){return(s=pn(s))&&st.test(s)?s.replace(yt,Kn):s},F.escapeRegExp=function(s){return(s=pn(s))&&jn.test(s)?s.replace(yn,"\\$&"):s},F.every=function(s,d,_){var M=Gt(s)?ps:Rf;return _&&Or(s,d,_)&&(d=g),M(s,Et(d,3))},F.find=vd,F.findIndex=vl,F.findKey=function(s,d){return go(s,Et(d,3),pt)},F.findLast=gd,F.findLastIndex=gl,F.findLastKey=function(s,d){return go(s,Et(d,3),wn)},F.floor=Ip,F.forEach=jl,F.forEachRight=Zi,F.forIn=function(s,d){return s==null?s:Kt(s,Et(d,3),hr)},F.forInRight=function(s,d){return s==null?s:qn(s,Et(d,3),hr)},F.forOwn=function(s,d){return s&&pt(s,Et(d,3))},F.forOwnRight=function(s,d){return s&&wn(s,Et(d,3))},F.get=Wu,F.gt=Us,F.gte=zu,F.has=function(s,d){return s!=null&&ul(s,d,Lf)},F.hasIn=Gu,F.head=bl,F.identity=wr,F.includes=function(s,d,_,M){s=Tr(s)?s:Ti(s),_=_&&!M?Yt(_):0;var I=s.length;return _<0&&(_=sr(I+_,0)),Bu(s)?_<=I&&s.indexOf(d,_)>-1:!!I&&mi(s,d,_)>-1},F.indexOf=function(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var I=_==null?0:Yt(_);return I<0&&(I=sr(M+I,0)),mi(s,d,I)},F.inRange=function(s,d,_){return d=Ho(d),_===g?(_=d,d=0):_=Ho(_),function(M,I,H){return M>=_r(I,H)&&M<sr(I,H)}(s=kr(s),d,_)},F.invoke=Wl,F.isArguments=ea,F.isArray=Gt,F.isArrayBuffer=Op,F.isArrayLike=Tr,F.isArrayLikeObject=Xn,F.isBoolean=function(s){return s===!0||s===!1||Rn(s)&&xn(s)==Y},F.isBuffer=ai,F.isDate=Ys,F.isElement=function(s){return Rn(s)&&s.nodeType===1&&!si(s)},F.isEmpty=function(s){if(s==null)return!0;if(Tr(s)&&(Gt(s)||typeof s=="string"||typeof s.splice=="function"||ai(s)||Mi(s)||ea(s)))return!s.length;var d=yr(s);if(d==se||d==je)return!s.size;if(za(s))return!ri(s).length;for(var _ in s)if(tt.call(s,_))return!1;return!0},F.isEqual=function(s,d){return ka(s,d)},F.isEqualWith=function(s,d,_){var M=(_=typeof _=="function"?_:g)?_(s,d):g;return M===g?ka(s,d,g,_):!!M},F.isError=Dl,F.isFinite=function(s){return typeof s=="number"&&Pf(s)},F.isFunction=ui,F.isInteger=Vs,F.isLength=ta,F.isMap=wp,F.isMatch=function(s,d){return s===d||Es(s,d,Ls(d))},F.isMatchWith=function(s,d,_){return _=typeof _=="function"?_:g,Es(s,d,Ls(d),_)},F.isNaN=function(s){return Nl(s)&&s!=+s},F.isNative=function(s){if(up(s))throw new Zt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Da(s)},F.isNil=function(s){return s==null},F.isNull=function(s){return s===null},F.isNumber=Nl,F.isObject=In,F.isObjectLike=Rn,F.isPlainObject=si,F.isRegExp=Cl,F.isSafeInteger=function(s){return Vs(s)&&s>=-9007199254740991&&s<=X},F.isSet=Ga,F.isString=Bu,F.isSymbol=vr,F.isTypedArray=Mi,F.isUndefined=function(s){return s===g},F.isWeakMap=function(s){return Rn(s)&&yr(s)==Ae},F.isWeakSet=function(s){return Rn(s)&&xn(s)=="[object WeakSet]"},F.join=function(s,d){return s==null?"":nd.call(s,d)},F.kebabCase=Ul,F.last=Sn,F.lastIndexOf=function(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var I=M;return _!==g&&(I=(I=Yt(_))<0?sr(M+I,0):_r(I,M-1)),d==d?function(H,ie,fe){for(var Oe=fe+1;Oe--;)if(H[Oe]===ie)return Oe;return Oe}(s,d,I):ko(s,Do,I,!0)},F.lowerCase=Ap,F.lowerFirst=Yl,F.lt=Ha,F.lte=Fu,F.max=function(s){return s&&s.length?Hn(s,wr,Bn):g},F.maxBy=function(s,d){return s&&s.length?Hn(s,Et(d,2),Bn):g},F.mean=function(s){return en(s,wr)},F.meanBy=function(s,d){return en(s,Et(d,2))},F.min=function(s){return s&&s.length?Hn(s,wr,oi):g},F.minBy=function(s,d){return s&&s.length?Hn(s,Et(d,2),oi):g},F.stubArray=Zs,F.stubFalse=or,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Ql,F.nth=function(s,d){return s&&s.length?Wf(s,Yt(d)):g},F.noConflict=function(){return zn._===this&&(zn._=Mn),this},F.noop=Yu,F.now=Ru,F.pad=function(s,d,_){s=pn(s);var M=(d=Yt(d))?_o(s):0;if(!d||M>=d)return s;var I=(d-M)/2;return Ns(Ea(I),_)+s+Ns(ds(I),_)},F.padEnd=function(s,d,_){s=pn(s);var M=(d=Yt(d))?_o(s):0;return d&&M<d?s+Ns(d-M,_):s},F.padStart=function(s,d,_){s=pn(s);var M=(d=Yt(d))?_o(s):0;return d&&M<d?Ns(d-M,_)+s:s},F.parseInt=function(s,d,_){return _||d==null?d=0:d&&(d=+d),vs(pn(s).replace(Ct,""),d||0)},F.random=function(s,d,_){if(_&&typeof _!="boolean"&&Or(s,d,_)&&(d=_=g),_===g&&(typeof d=="boolean"?(_=d,d=g):typeof s=="boolean"&&(_=s,s=g)),s===g&&d===g?(s=0,d=1):(s=Ho(s),d===g?(d=s,s=0):d=Ho(d)),s>d){var M=s;s=d,d=M}if(_||s%1||d%1){var I=gs();return _r(s+I*(d-s+vi("1e-"+((I+"").length-1))),d)}return $c(s,d)},F.reduce=function(s,d,_){var M=Gt(s)?ma:ur,I=arguments.length<3;return M(s,Et(d,4),_,I,An)},F.reduceRight=function(s,d,_){var M=Gt(s)?hs:ur,I=arguments.length<3;return M(s,Et(d,4),_,I,If)},F.repeat=function(s,d,_){return d=(_?Or(s,d,_):d===g)?1:Yt(d),js(pn(s),d)},F.replace=function(){var s=arguments,d=pn(s[0]);return s.length<3?d:d.replace(s[1],s[2])},F.result=function(s,d,_){var M=-1,I=(d=Ei(d,s)).length;for(I||(I=1,s=g);++M<I;){var H=s==null?g:s[tr(d[M])];H===g&&(M=I,H=_),s=ui(H)?H.call(s):H}return s},F.round=ec,F.runInContext=we,F.sample=function(s){return(Gt(s)?Fc:sd)(s)},F.size=function(s){if(s==null)return 0;if(Tr(s))return Bu(s)?_o(s):s.length;var d=yr(s);return d==se||d==je?s.size:ri(s).length},F.snakeCase=Tp,F.some=function(s,d,_){var M=Gt(s)?bu:qc;return _&&Or(s,d,_)&&(d=g),M(s,Et(d,3))},F.sortedIndex=function(s,d){return Ps(s,d)},F.sortedIndexBy=function(s,d,_){return Zc(s,d,Et(_,2))},F.sortedIndexOf=function(s,d){var _=s==null?0:s.length;if(_){var M=Ps(s,d);if(M<_&&Dn(s[M],d))return M}return-1},F.sortedLastIndex=function(s,d){return Ps(s,d,!0)},F.sortedLastIndexBy=function(s,d,_){return Zc(s,d,Et(_,2),!0)},F.sortedLastIndexOf=function(s,d){if(s!=null&&s.length){var _=Ps(s,d,!0)-1;if(Dn(s[_],d))return _}return-1},F.startCase=Ua,F.startsWith=function(s,d,_){return s=pn(s),_=_==null?0:wi(Yt(_),0,s.length),d=Ir(d),s.slice(_,_+d.length)==d},F.subtract=Rp,F.sum=function(s){return s&&s.length?_a(s,wr):0},F.sumBy=function(s,d){return s&&s.length?_a(s,Et(d,2)):0},F.template=function(s,d,_){var M=F.templateSettings;_&&Or(s,d,_)&&(d=g),s=pn(s),d=ci({},d,M,rp);var I,H,ie=ci({},d.imports,M.imports,rp),fe=rr(ie),Oe=Oa(ie,fe),Re=0,De=d.interpolate||St,ee="__p += '",lt=A((d.escape||St).source+"|"+De.source+"|"+(De===Lt?ft:St).source+"|"+(d.evaluate||St).source+"|$","g"),dt="//# sourceURL="+(tt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++as+"]")+`
`;s.replace(lt,function(Ye,Dt,ut,Nt,Rt,Jt){return ut||(ut=Nt),ee+=s.slice(Re,Jt).replace(It,bi),Dt&&(I=!0,ee+=`' +
__e(`+Dt+`) +
'`),Rt&&(H=!0,ee+=`';
`+Rt+`;
__p += '`),ut&&(ee+=`' +
((__t = (`+ut+`)) == null ? '' : __t) +
'`),Re=Jt+Ye.length,Ye}),ee+=`';
`;var Mt=tt.call(d,"variable")&&d.variable;if(Mt){if($e.test(Mt))throw new Zt("Invalid `variable` option passed into `_.template`")}else ee=`with (obj) {
`+ee+`
}
`;ee=(H?ee.replace(ze,""):ee).replace(xt,"$1").replace(kt,"$1;"),ee="function("+(Mt||"obj")+`) {
`+(Mt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(H?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ee+`return __p
}`;var Be=kp(function(){return On(fe,dt+"return "+ee).apply(g,Oe)});if(Be.source=ee,Dl(Be))throw Be;return Be},F.times=function(s,d){if((s=Yt(s))<1||s>X)return[];var _=ue,M=_r(s,ue);d=Et(d),s-=ue;for(var I=Xi(M,d);++_<s;)d(_);return I},F.toFinite=Ho,F.toInteger=Yt,F.toLength=Il,F.toLower=function(s){return pn(s).toLowerCase()},F.toNumber=kr,F.toSafeInteger=function(s){return s?wi(Yt(s),-9007199254740991,X):s===0?s:0},F.toString=pn,F.toUpper=function(s){return pn(s).toUpperCase()},F.trim=function(s,d,_){if((s=pn(s))&&(_||d===g))return _u(s);if(!s||!(d=Ir(d)))return s;var M=Cr(s),I=Cr(d);return Si(M,Yr(M,I),Ou(M,I)+1).join("")},F.trimEnd=function(s,d,_){if((s=pn(s))&&(_||d===g))return s.slice(0,Mr(s)+1);if(!s||!(d=Ir(d)))return s;var M=Cr(s);return Si(M,0,Ou(M,Cr(d))+1).join("")},F.trimStart=function(s,d,_){if((s=pn(s))&&(_||d===g))return s.replace(Ct,"");if(!s||!(d=Ir(d)))return s;var M=Cr(s);return Si(M,Yr(M,Cr(d))).join("")},F.truncate=function(s,d){var _=30,M="...";if(In(d)){var I="separator"in d?d.separator:I;_="length"in d?Yt(d.length):_,M="omission"in d?Ir(d.omission):M}var H=(s=pn(s)).length;if(bo(s)){var ie=Cr(s);H=ie.length}if(_>=H)return s;var fe=_-_o(M);if(fe<1)return M;var Oe=ie?Si(ie,0,fe).join(""):s.slice(0,fe);if(I===g)return Oe+M;if(ie&&(fe+=Oe.length-fe),Cl(I)){if(s.slice(fe).search(I)){var Re,De=Oe;for(I.global||(I=A(I.source,pn(Ut.exec(I))+"g")),I.lastIndex=0;Re=I.exec(De);)var ee=Re.index;Oe=Oe.slice(0,ee===g?fe:ee)}}else if(s.indexOf(Ir(I),fe)!=fe){var lt=Oe.lastIndexOf(I);lt>-1&&(Oe=Oe.slice(0,lt))}return Oe+M},F.unescape=function(s){return(s=pn(s))&&ke.test(s)?s.replace(jt,Vr):s},F.uniqueId=function(s){var d=++vn;return pn(s)+d},F.upperCase=Od,F.upperFirst=Un,F.each=jl,F.eachRight=Zi,F.first=bl,li(F,(Qs={},pt(F,function(s,d){tt.call(F.prototype,d)||(Qs[d]=s)}),Qs),{chain:!1}),F.VERSION="4.17.21",Er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){F[s].placeholder=F}),Er(["drop","take"],function(s,d){nn.prototype[s]=function(_){_=_===g?1:sr(Yt(_),0);var M=this.__filtered__&&!d?new nn(this):this.clone();return M.__filtered__?M.__takeCount__=_r(_,M.__takeCount__):M.__views__.push({size:_r(_,ue),type:s+(M.__dir__<0?"Right":"")}),M},nn.prototype[s+"Right"]=function(_){return this.reverse()[s](_).reverse()}}),Er(["filter","map","takeWhile"],function(s,d){var _=d+1,M=_==1||_==3;nn.prototype[s]=function(I){var H=this.clone();return H.__iteratees__.push({iteratee:Et(I,3),type:_}),H.__filtered__=H.__filtered__||M,H}}),Er(["head","last"],function(s,d){var _="take"+(d?"Right":"");nn.prototype[s]=function(){return this[_](1).value()[0]}}),Er(["initial","tail"],function(s,d){var _="drop"+(d?"":"Right");nn.prototype[s]=function(){return this.__filtered__?new nn(this):this[_](1)}}),nn.prototype.compact=function(){return this.filter(wr)},nn.prototype.find=function(s){return this.filter(s).head()},nn.prototype.findLast=function(s){return this.reverse().find(s)},nn.prototype.invokeMap=qt(function(s,d){return typeof s=="function"?new nn(this):this.map(function(_){return Ta(_,s,d)})}),nn.prototype.reject=function(s){return this.filter(Xs(Et(s)))},nn.prototype.slice=function(s,d){s=Yt(s);var _=this;return _.__filtered__&&(s>0||d<0)?new nn(_):(s<0?_=_.takeRight(-s):s&&(_=_.drop(s)),d!==g&&(_=(d=Yt(d))<0?_.dropRight(-d):_.take(d-s)),_)},nn.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},nn.prototype.toArray=function(){return this.take(ue)},pt(nn.prototype,function(s,d){var _=/^(?:filter|find|map|reject)|While$/.test(d),M=/^(?:head|last)$/.test(d),I=F[M?"take"+(d=="last"?"Right":""):d],H=M||/^find/.test(d);I&&(F.prototype[d]=function(){var ie=this.__wrapped__,fe=M?[1]:arguments,Oe=ie instanceof nn,Re=fe[0],De=Oe||Gt(ie),ee=function(Dt){var ut=I.apply(F,er([Dt],fe));return M&&lt?ut[0]:ut};De&&_&&typeof Re=="function"&&Re.length!=1&&(Oe=De=!1);var lt=this.__chain__,dt=!!this.__actions__.length,Mt=H&&!lt,Be=Oe&&!dt;if(!H&&De){ie=Be?ie:new nn(this);var Ye=s.apply(ie,fe);return Ye.__actions__.push({func:Fa,args:[ee],thisArg:g}),new uo(Ye,lt)}return Mt&&Be?s.apply(this,fe):(Ye=this.thru(ee),Mt?M?Ye.value()[0]:Ye.value():Ye)})}),Er(["pop","push","shift","sort","splice","unshift"],function(s){var d=he[s],_=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",M=/^(?:pop|shift)$/.test(s);F.prototype[s]=function(){var I=arguments;if(M&&!this.__chain__){var H=this.value();return d.apply(Gt(H)?H:[],I)}return this[_](function(ie){return d.apply(Gt(ie)?ie:[],I)})}}),pt(nn.prototype,function(s,d){var _=F[d];if(_){var M=_.name+"";tt.call(Pa,M)||(Pa[M]=[]),Pa[M].push({name:d,func:_})}}),Pa[ku(g,2).name]=[{name:"wrapper",func:g}],nn.prototype.clone=function(){var s=new nn(this.__wrapped__);return s.__actions__=Rr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Rr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Rr(this.__views__),s},nn.prototype.reverse=function(){if(this.__filtered__){var s=new nn(this);s.__dir__=-1,s.__filtered__=!0}else(s=this.clone()).__dir__*=-1;return s},nn.prototype.value=function(){var s=this.__wrapped__.value(),d=this.__dir__,_=Gt(s),M=d<0,I=_?s.length:0,H=function(Jt,_t,At){for(var Fn=-1,Fr=At.length;++Fn<Fr;){var Eo=At[Fn],Yn=Eo.size;switch(Eo.type){case"drop":Jt+=Yn;break;case"dropRight":_t-=Yn;break;case"take":_t=_r(_t,Jt+Yn);break;case"takeRight":Jt=sr(Jt,_t-Yn)}}return{start:Jt,end:_t}}(0,I,this.__views__),ie=H.start,fe=H.end,Oe=fe-ie,Re=M?fe:ie-1,De=this.__iteratees__,ee=De.length,lt=0,dt=_r(Oe,this.__takeCount__);if(!_||!M&&I==Oe&&dt==Oe)return Vf(s,this.__actions__);var Mt=[];e:for(;Oe--&&lt<dt;){for(var Be=-1,Ye=s[Re+=d];++Be<ee;){var Dt=De[Be],ut=Dt.iteratee,Nt=Dt.type,Rt=ut(Ye);if(Nt==2)Ye=Rt;else if(!Rt){if(Nt==1)continue e;break e}}Mt[lt++]=Ye}return Mt},F.prototype.at=yd,F.prototype.chain=function(){return vp(this)},F.prototype.commit=function(){return new uo(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===g&&(this.__values__=Xa(this.value()));var s=this.__index__>=this.__values__.length;return{done:s,value:s?g:this.__values__[this.__index__++]}},F.prototype.plant=function(s){for(var d,_=this;_ instanceof Pu;){var M=lp(_);M.__index__=0,M.__values__=g,d?I.__wrapped__=M:d=M;var I=M;_=_.__wrapped__}return I.__wrapped__=s,d},F.prototype.reverse=function(){var s=this.__wrapped__;if(s instanceof nn){var d=s;return this.__actions__.length&&(d=new nn(this)),(d=d.reverse()).__actions__.push({func:Fa,args:[Hs],thisArg:g}),new uo(d,this.__chain__)}return this.thru(Hs)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return Vf(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,Qo&&(F.prototype[Qo]=function(){return this}),F}();zn._=Oo,(m=(function(){return Oo}).call(l,o,l,p))===g||(p.exports=m)}).call(this)}).call(this,o(66),o(219)(u))},function(u,l,o){var f=o(7),p=o(34),m=o(33),g=o(87),E=o(61),j=o(174),S=o(28),k=f.TypeError,T=S("toPrimitive");u.exports=function(C,N){if(!m(C)||g(C))return C;var R,G=E(C,T);if(G){if(N===void 0&&(N="default"),R=p(G,C,N),!m(R)||g(R))return R;throw k("Can't convert object to primitive value")}return N===void 0&&(N="number"),j(C,N)}},function(u,l,o){var f=o(108);u.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,l,o){var f=o(36),p=o(18),m=o(91);u.exports=!f&&!p(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(u,l,o){var f=o(35),p=o(135),m=o(50),g=o(38);u.exports=function(E,j){for(var S=p(j),k=g.f,T=m.f,C=0;C<S.length;C++){var N=S[C];f(E,N)||k(E,N,T(j,N))}}},function(u,l,o){var f=o(46),p=o(15),m=o(72),g=o(112),E=o(32),j=p([].concat);u.exports=f("Reflect","ownKeys")||function(S){var k=m.f(E(S)),T=g.f;return T?j(k,T(S)):k}},function(u,l,o){var f=o(15),p=o(35),m=o(41),g=o(137).indexOf,E=o(70),j=f([].push);u.exports=function(S,k){var T,C=m(S),N=0,R=[];for(T in C)!p(E,T)&&p(C,T)&&j(R,T);for(;k.length>N;)p(C,T=k[N++])&&(~g(R,T)||j(R,T));return R}},function(u,l,o){var f=o(41),p=o(73),m=o(45),g=function(E){return function(j,S,k){var T,C=f(j),N=m(C),R=p(k,N);if(E&&S!=S){for(;N>R;)if((T=C[R++])!=T)return!0}else for(;N>R;R++)if((E||R in C)&&C[R]===S)return E||R||0;return!E&&-1}};u.exports={includes:g(!0),indexOf:g(!1)}},function(u,l,o){var f=o(46);u.exports=f("document","documentElement")},function(u,l,o){var f=o(51),p=o(41),m=o(72).f,g=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(j){return E&&f(j)=="Window"?function(S){try{return m(S)}catch{return g(E)}}(j):m(p(j))}},function(u,l,o){var f=o(28);l.f=f},function(u,l,o){var f=o(177),p=o(35),m=o(140),g=o(38).f;u.exports=function(E){var j=f.Symbol||(f.Symbol={});p(j,E)||g(j,E,{value:m.f(E)})}},function(u,l,o){var f,p,m,g=o(18),E=o(30),j=o(60),S=o(101),k=o(42),T=o(28),C=o(69),N=T("iterator"),R=!1;[].keys&&("next"in(m=[].keys())?(p=S(S(m)))!==Object.prototype&&(f=p):R=!0),f==null||g(function(){var G={};return f[N].call(G)!==G})?f={}:C&&(f=j(f)),E(f[N])||k(f,N,function(){return this}),u.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:R}},function(u,l,o){var f=o(18);u.exports=!f(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},function(u,l,o){var f=o(17),p=o(15),m=o(70),g=o(33),E=o(35),j=o(38).f,S=o(72),k=o(139),T=o(183),C=o(90),N=o(185),R=!1,G=C("meta"),X=0,Q=function(re){j(re,G,{value:{objectID:"O"+X++,weakData:{}}})},ue=u.exports={enable:function(){ue.enable=function(){},R=!0;var re=S.f,te=p([].splice),ne={};ne[G]=1,re(ne).length&&(S.f=function(Y){for(var B=re(Y),V=0,$=B.length;V<$;V++)if(B[V]===G){te(B,V,1);break}return B},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(re,te){if(!g(re))return typeof re=="symbol"?re:(typeof re=="string"?"S":"P")+re;if(!E(re,G)){if(!T(re))return"F";if(!te)return"E";Q(re)}return re[G].objectID},getWeakData:function(re,te){if(!E(re,G)){if(!T(re))return!0;if(!te)return!1;Q(re)}return re[G].weakData},onFreeze:function(re){return N&&R&&T(re)&&!E(re,G)&&Q(re),re}};m[G]=!0},function(u,l,o){var f=o(28),p=o(78),m=f("iterator"),g=Array.prototype;u.exports=function(E){return E!==void 0&&(p.Array===E||g[m]===E)}},function(u,l,o){var f=o(7),p=o(34),m=o(56),g=o(32),E=o(88),j=o(118),S=f.TypeError;u.exports=function(k,T){var C=arguments.length<2?j(k):T;if(m(C))return g(p(C,k));throw S(E(k)+" is not iterable")}},function(u,l,o){var f=o(34),p=o(32),m=o(61);u.exports=function(g,E,j){var S,k;p(g);try{if(!(S=m(g,"return"))){if(E==="throw")throw j;return j}S=f(S,g)}catch(T){k=!0,S=T}if(E==="throw")throw j;if(k)throw S;return p(S),j}},function(u,l,o){var f=o(30),p=o(33),m=o(102);u.exports=function(g,E,j){var S,k;return m&&f(S=E.constructor)&&S!==j&&p(k=S.prototype)&&k!==j.prototype&&m(g,k),g}},function(u,l,o){var f=o(42);u.exports=function(p,m,g){for(var E in m)f(p,E,m[E],g);return p}},function(u,l,o){var f=o(46),p=o(38),m=o(28),g=o(36),E=m("species");u.exports=function(j){var S=f(j),k=p.f;g&&S&&!S[E]&&k(S,E,{configurable:!0,get:function(){return this}})}},function(u,l,o){var f=o(15),p=o(59),m=o(39),g=o(44),E=f("".charAt),j=f("".charCodeAt),S=f("".slice),k=function(T){return function(C,N){var R,G,X=m(g(C)),Q=p(N),ue=X.length;return Q<0||Q>=ue?T?"":void 0:(R=j(X,Q))<55296||R>56319||Q+1===ue||(G=j(X,Q+1))<56320||G>57343?T?E(X,Q):R:T?S(X,Q,Q+2):G-56320+(R-55296<<10)+65536}};u.exports={codeAt:k(!1),charAt:k(!0)}},function(u,l){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,l,o){var f=o(91)("span").classList,p=f&&f.constructor&&f.constructor.prototype;u.exports=p===Object.prototype?void 0:p},function(u,l,o){var f=o(32);u.exports=function(){var p=f(this),m="";return p.global&&(m+="g"),p.ignoreCase&&(m+="i"),p.multiline&&(m+="m"),p.dotAll&&(m+="s"),p.unicode&&(m+="u"),p.sticky&&(m+="y"),m}},function(u,l,o){var f=o(18),p=o(7).RegExp,m=f(function(){var j=p("a","y");return j.lastIndex=2,j.exec("abcd")!=null}),g=m||f(function(){return!p("a","y").sticky}),E=m||f(function(){var j=p("^r","gy");return j.lastIndex=2,j.exec("str")!=null});u.exports={BROKEN_CARET:E,MISSED_STICKY:g,UNSUPPORTED_Y:m}},function(u,l,o){var f=o(17),p=o(77).find,m=o(100),g="find",E=!0;g in[]&&Array(1).find(function(){E=!1}),f({target:"Array",proto:!0,forced:E},{find:function(j){return p(this,j,arguments.length>1?arguments[1]:void 0)}}),m(g)},function(u,l,o){var f=o(17),p=o(137).includes,m=o(100);f({target:"Array",proto:!0},{includes:function(g){return p(this,g,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(u,l,o){var f=o(17),p=o(15),m=o(197),g=o(44),E=o(39),j=o(198),S=p("".indexOf);f({target:"String",proto:!0,forced:!j("includes")},{includes:function(k){return!!~S(E(g(this)),E(m(k)),arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var f=o(33),p=o(51),m=o(28)("match");u.exports=function(g){var E;return f(g)&&((E=g[m])!==void 0?!!E:p(g)=="RegExp")}},function(u,l){var o,f,p=u.exports={};function m(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function E(X){if(o===setTimeout)return setTimeout(X,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(X,0);try{return o(X,0)}catch{try{return o.call(null,X,0)}catch{return o.call(this,X,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch{o=m}try{f=typeof clearTimeout=="function"?clearTimeout:g}catch{f=g}})();var j,S=[],k=!1,T=-1;function C(){k&&j&&(k=!1,j.length?S=j.concat(S):T=-1,S.length&&N())}function N(){if(!k){var X=E(C);k=!0;for(var Q=S.length;Q;){for(j=S,S=[];++T<Q;)j&&j[T].run();T=-1,Q=S.length}j=null,k=!1,function(ue){if(f===clearTimeout)return clearTimeout(ue);if((f===g||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(ue);try{f(ue)}catch{try{return f.call(null,ue)}catch{return f.call(this,ue)}}}(X)}}function R(X,Q){this.fun=X,this.array=Q}function G(){}p.nextTick=function(X){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)Q[ue-1]=arguments[ue];S.push(new R(X,Q)),S.length!==1||k||E(N)},R.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=G,p.addListener=G,p.once=G,p.off=G,p.removeListener=G,p.removeAllListeners=G,p.emit=G,p.prependListener=G,p.prependOnceListener=G,p.listeners=function(X){return[]},p.binding=function(X){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(X){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(u,l,o){var f=o(32),p=o(162),m=o(28)("species");u.exports=function(g,E){var j,S=f(g).constructor;return S===void 0||(j=f(S)[m])==null?E:p(j)}},function(u,l,o){var f=o(7),p=o(99),m=o(88),g=f.TypeError;u.exports=function(E){if(p(E))return E;throw g(m(E)+" is not a constructor")}},function(u,l,o){var f=o(17),p=o(164).trim;f({target:"String",proto:!0,forced:o(199)("trim")},{trim:function(){return p(this)}})},function(u,l,o){var f=o(15),p=o(44),m=o(39),g=o(165),E=f("".replace),j="["+g+"]",S=RegExp("^"+j+j+"*"),k=RegExp(j+j+"*$"),T=function(C){return function(N){var R=m(p(N));return 1&C&&(R=E(R,S,"")),2&C&&(R=E(R,k,"")),R}};u.exports={start:T(1),end:T(2),trim:T(3)}},function(u,l){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(u,l,o){var f=o(15);u.exports=f(1 .valueOf)},function(u,l,o){var f=o(34),p=o(123),m=o(32),g=o(94),E=o(39),j=o(44),S=o(61),k=o(124),T=o(125);p("match",function(C,N,R){return[function(G){var X=j(this),Q=G==null?void 0:S(G,C);return Q?f(Q,G,X):new RegExp(G)[C](E(X))},function(G){var X=m(this),Q=E(G),ue=R(N,X,Q);if(ue.done)return ue.value;if(!X.global)return T(X,Q);var re=X.unicode;X.lastIndex=0;for(var te,ne=[],Y=0;(te=T(X,Q))!==null;){var B=E(te[0]);ne[Y]=B,B===""&&(X.lastIndex=k(Q,g(X.lastIndex),re)),Y++}return Y===0?null:ne}]})},function(u,l,o){var f,p,m,g,E=o(7),j=o(74),S=o(63),k=o(30),T=o(35),C=o(18),N=o(138),R=o(98),G=o(91),X=o(169),Q=o(128),ue=E.setImmediate,re=E.clearImmediate,te=E.process,ne=E.Dispatch,Y=E.Function,B=E.MessageChannel,V=E.String,$=0,q={},se="onreadystatechange";try{f=E.location}catch{}var xe=function(je){if(T(q,je)){var ve=q[je];delete q[je],ve()}},ge=function(je){return function(){xe(je)}},Me=function(je){xe(je.data)},Fe=function(je){E.postMessage(V(je),f.protocol+"//"+f.host)};ue&&re||(ue=function(je){var ve=R(arguments,1);return q[++$]=function(){j(k(je)?je:Y(je),void 0,ve)},p($),$},re=function(je){delete q[je]},Q?p=function(je){te.nextTick(ge(je))}:ne&&ne.now?p=function(je){ne.now(ge(je))}:B&&!X?(g=(m=new B).port2,m.port1.onmessage=Me,p=S(g.postMessage,g)):E.addEventListener&&k(E.postMessage)&&!E.importScripts&&f&&f.protocol!=="file:"&&!C(Fe)?(p=Fe,E.addEventListener("message",Me,!1)):p=se in G("script")?function(je){N.appendChild(G("script")).onreadystatechange=function(){N.removeChild(this),xe(je)}}:function(je){setTimeout(ge(je),0)}),u.exports={set:ue,clear:re}},function(u,l,o){var f=o(55);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(u,l,o){var f=o(56),p=function(m){var g,E;this.promise=new m(function(j,S){if(g!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");g=j,E=S}),this.resolve=f(g),this.reject=f(E)};u.exports.f=function(m){return new p(m)}},function(u,l,o){l.a=function(){return!1}},function(u,l,o){(function(f){o.d(l,"a",function(){return te});var p=o(1);function m(B){throw new Error("[mobx-utils] "+B)}function g(B,V){V===void 0&&(V="Illegal state"),B||m(V)}var E=function(B){return B&&B!==Object.prototype&&Object.getOwnPropertyNames(B).concat(E(Object.getPrototypeOf(B))||[])},j=function(B){return function(V){var $=E(V);return $.filter(function(q,se){return $.indexOf(q)===se})}(B).filter(function(V){return V!=="constructor"&&!~V.indexOf("__")})},S="pending",k="fulfilled",T="rejected";function C(B){switch(this.state){case S:return B.pending&&B.pending(this.value);case T:return B.rejected&&B.rejected(this.value);case k:return B.fulfilled?B.fulfilled(this.value):this.value}}function N(B,V){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof B=="function"||typeof B=="object"&&B&&typeof B.then=="function","Please pass a promise or function to fromPromise"),B.isPromiseBasedObservable===!0)return B;typeof B=="function"&&(B=new Promise(B));var $=B;B.then(Object(p.k)("observableFromPromise-resolve",function(se){$.value=se,$.state=k}),Object(p.k)("observableFromPromise-reject",function(se){$.value=se,$.state=T})),$.isPromiseBasedObservable=!0,$.case=C;var q=V&&V.state===k?V.value:void 0;return Object(p.q)($,{value:q,state:S},{},{deep:!1}),$}(function(B){B.reject=Object(p.k)("fromPromise.reject",function(V){var $=B(Promise.reject(V));return $.state=T,$.value=V,$}),B.resolve=Object(p.k)("fromPromise.resolve",function(V){V===void 0&&(V=void 0);var $=B(Promise.resolve(V));return $.state=k,$.value=V,$})})(N||(N={}));var R=function(B,V,$,q){var se,xe=arguments.length,ge=xe<3?V:q===null?q=Object.getOwnPropertyDescriptor(V,$):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(B,V,$,q);else for(var Me=B.length-1;Me>=0;Me--)(se=B[Me])&&(ge=(xe<3?se(ge):xe>3?se(V,$,ge):se(V,$))||ge);return xe>3&&ge&&Object.defineProperty(V,$,ge),ge};(function(){function B(V,$){var q=this;Object(p.G)(function(){q.current=$,q.subscription=V.subscribe(q)})}B.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},B.prototype.next=function(V){this.current=V},B.prototype.complete=function(){this.dispose()},B.prototype.error=function(V){this.current=V,this.dispose()},R([p.C.ref],B.prototype,"current",void 0),R([p.k.bound],B.prototype,"next",null),R([p.k.bound],B.prototype,"complete",null),R([p.k.bound],B.prototype,"error",null)})();var G=function(){return G=Object.assign||function(B){for(var V,$=1,q=arguments.length;$<q;$++)for(var se in V=arguments[$])Object.prototype.hasOwnProperty.call(V,se)&&(B[se]=V[se]);return B},G.apply(this,arguments)},X=function(B,V,$,q){var se,xe=arguments.length,ge=xe<3?V:q===null?q=Object.getOwnPropertyDescriptor(V,$):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(B,V,$,q);else for(var Me=B.length-1;Me>=0;Me--)(se=B[Me])&&(ge=(xe<3?se(ge):xe>3?se(V,$,ge):se(V,$))||ge);return xe>3&&ge&&Object.defineProperty(V,$,ge),ge},Q=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function B(V){var $=this;this.model=V,this.localValues=p.C.map({}),this.localComputedValues=p.C.map({}),this.isPropertyDirty=function(q){return $.localValues.has(q)},g(Object(p.A)(V),"createViewModel expects an observable object"),j(V).forEach(function(q){if(q!==p.a&&q!=="__mobxDidRunLazyInitializers"){if(g(Q.indexOf(q)===-1,"The propertyname "+q+" is reserved and cannot be used with viewModels"),Object(p.w)(V,q)){var se=Object(p.h)(V,q).derivation;$.localComputedValues.set(q,Object(p.m)(se.bind($)))}var xe=Object.getOwnPropertyDescriptor(V,q),ge=xe?{enumerable:xe.enumerable}:{};Object.defineProperty($,q,G(G({},ge),{configurable:!0,get:function(){return Object(p.w)(V,q)?$.localComputedValues.get(q).get():$.isPropertyDirty(q)?$.localValues.get(q):$.model[q]},set:Object(p.k)(function(Me){Me!==$.model[q]?$.localValues.set(q,Me):$.localValues.delete(q)})}))}})}Object.defineProperty(B.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),B.prototype.submit=function(){var V=this;Object(p.B)(this.localValues).forEach(function($){var q=V.localValues.get($),se=V.model[$];Object(p.y)(se)?se.replace(q):Object(p.z)(se)?(se.clear(),se.merge(q)):Object(p.v)(q)||(V.model[$]=q)}),this.localValues.clear()},B.prototype.reset=function(){this.localValues.clear()},B.prototype.resetProperty=function(V){this.localValues.delete(V)},X([p.m],B.prototype,"isDirty",null),X([p.m],B.prototype,"changedValues",null),X([p.k.bound],B.prototype,"submit",null),X([p.k.bound],B.prototype,"reset",null),X([p.k.bound],B.prototype,"resetProperty",null)})();function ue(B){if(!B)return"ROOT";for(var V=[];B.parent;)V.push(B.path),B=B.parent;return V.reverse().join("/")}function re(B){return Object(p.A)(B)||Object(p.y)(B)||Object(p.z)(B)}function te(B,V){var $=new WeakMap;function q(ge){var Me=$.get(ge.object);(function(Fe,je){switch(Fe.type){case"add":se(Fe.newValue,je,Fe.name);break;case"update":xe(Fe.oldValue),se(Fe.newValue,je,Fe.name||""+Fe.index);break;case"remove":case"delete":xe(Fe.oldValue);break;case"splice":Fe.removed.map(xe),Fe.added.forEach(function(Ae,He){return se(Ae,je,""+(Fe.index+He))});for(var ve=Fe.index+Fe.addedCount;ve<Fe.object.length;ve++)if(re(Fe.object[ve])){var Pe=$.get(Fe.object[ve]);Pe&&(Pe.path=""+ve)}}})(ge,Me),V(ge,ue(Me),B)}function se(ge,Me,Fe){if(re(ge)){var je=$.get(ge);if(je){if(je.parent!==Me||je.path!==Fe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ue(Me)+"/"+Fe+"', but it already exists at '"+ue(je.parent)+"/"+je.path+"'")}else{var ve={parent:Me,path:Fe,dispose:Object(p.D)(ge,q)};$.set(ge,ve),Object(p.p)(ge).forEach(function(Pe){var Ae=Pe[0];return se(Pe[1],ve,Ae)})}}}function xe(ge){if(re(ge)){var Me=$.get(ge);if(!Me)return;$.delete(ge),Me.dispose(),Object(p.L)(ge).forEach(xe)}}return se(B,void 0,""),function(){xe(B)}}var ne,Y=(ne=function(B,V){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,q){$.__proto__=q}||function($,q){for(var se in q)q.hasOwnProperty(se)&&($[se]=q[se])},ne(B,V)},function(B,V){function $(){this.constructor=B}ne(B,V),B.prototype=V===null?Object.create(V):($.prototype=V.prototype,new $)});(function(B){function V($,q,se){var xe=se===void 0?{}:se,ge=xe.name,Me=ge===void 0?"ogm"+(1e3*Math.random()|0):ge,Fe=xe.keyToName,je=Fe===void 0?function(Ae){return""+Ae}:Fe,ve=B.call(this)||this;ve._keyToName=je,ve._groupBy=q,ve._ogmInfoKey=Symbol("ogmInfo"+Me),ve._base=$;for(var Pe=0;Pe<$.length;Pe++)ve._addItem($[Pe]);return ve._disposeBaseObserver=Object(p.D)(ve._base,function(Ae){if(Ae.type==="splice")Object(p.J)(function(){for(var He=0,nt=Ae.removed;He<nt.length;He++){var vt=nt[He];ve._removeItem(vt)}for(var Xe=0,qe=Ae.added;Xe<qe.length;Xe++){var gt=qe[Xe];ve._addItem(gt)}});else{if(Ae.type!=="update")throw new Error("illegal state");Object(p.J)(function(){ve._removeItem(Ae.oldValue),ve._addItem(Ae.newValue)})}}),ve}Y(V,B),V.prototype.clear=function(){throw new Error("not supported")},V.prototype.delete=function($){throw new Error("not supported")},V.prototype.set=function($,q){throw new Error("not supported")},V.prototype.dispose=function(){this._disposeBaseObserver();for(var $=0;$<this._base.length;$++){var q=this._base[$];q[this._ogmInfoKey].reaction(),delete q[this._ogmInfoKey]}},V.prototype._getGroupArr=function($){var q=B.prototype.get.call(this,$);return q===void 0&&(q=Object(p.C)([],{name:"GroupArray["+this._keyToName($)+"]",deep:!1}),B.prototype.set.call(this,$,q)),q},V.prototype._removeFromGroupArr=function($,q){var se=B.prototype.get.call(this,$);se.length===1?B.prototype.delete.call(this,$):(q===se.length-1||(se[q]=se[se.length-1],se[q][this._ogmInfoKey].groupArrIndex=q),se.length--)},V.prototype._addItem=function($){var q=this,se=this._groupBy($),xe=this._getGroupArr(se),ge={groupByValue:se,groupArrIndex:xe.length,reaction:Object(p.F)(function(){return q._groupBy($)},function(Me,Fe){var je=$[q._ogmInfoKey];q._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=q._getGroupArr(Me),Pe=ve.length;ve.push($),je.groupByValue=Me,je.groupArrIndex=Pe})};Object.defineProperty($,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:ge}),xe.push($)},V.prototype._removeItem=function($){var q=$[this._ogmInfoKey];this._removeFromGroupArr(q.groupByValue,q.groupArrIndex),q.reaction(),delete $[this._ogmInfoKey]}})(p.b),function(){function B(V,$){this.base=V,this.args=$,this.closestIdx=0,this.isDisposed=!1;for(var q=this.closest=this.root=V,se=0;se<this.args.length-1&&(q=q.get($[se]));se++)this.closest=q;this.closestIdx=se}return B.prototype.exists=function(){this.assertNotDisposed();var V=this.args.length;return this.closestIdx>=V-1&&this.closest.has(this.args[V-1])},B.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},B.prototype.set=function(V){this.assertNotDisposed();for(var $=this.args.length,q=this.closest,se=this.closestIdx;se<$-1;se++){var xe=new Map;q.set(this.args[se],xe),q=xe}this.closestIdx=$-1,this.closest=q,q.set(this.args[$-1],V)},B.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var V=this.args.length;this.closest.delete(this.args[V-1]);for(var $=this.root,q=[$],se=0;se<V-1;se++)$=$.get(this.args[se]),q.push($);for(se=q.length-1;se>0;se--)q[se].size===0&&q[se-1].delete(this.args[se-1]);this.isDisposed=!0},B.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},B}(),Promise.resolve(),typeof queueMicrotask<"u"||f!==void 0&&f.nextTick}).call(this,o(160))},function(u,l,o){var f;(function(p,m,g){if(p){for(var E,j={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},T={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)j[111+C]="f"+C;for(C=0;C<=9;++C)j[C+96]=C.toString();re.prototype.bind=function(te,ne,Y){var B=this;return te=te instanceof Array?te:[te],B._bindMultiple.call(B,te,ne,Y),B},re.prototype.unbind=function(te,ne){return this.bind.call(this,te,function(){},ne)},re.prototype.trigger=function(te,ne){var Y=this;return Y._directMap[te+":"+ne]&&Y._directMap[te+":"+ne]({},te),Y},re.prototype.reset=function(){var te=this;return te._callbacks={},te._directMap={},te},re.prototype.stopCallback=function(te,ne){if((" "+ne.className+" ").indexOf(" mousetrap ")>-1||ue(ne,this.target))return!1;if("composedPath"in te&&typeof te.composedPath=="function"){var Y=te.composedPath()[0];Y!==te.target&&(ne=Y)}return ne.tagName=="INPUT"||ne.tagName=="SELECT"||ne.tagName=="TEXTAREA"||ne.isContentEditable},re.prototype.handleKey=function(){var te=this;return te._handleKey.apply(te,arguments)},re.addKeycodes=function(te){for(var ne in te)te.hasOwnProperty(ne)&&(j[ne]=te[ne]);E=null},re.init=function(){var te=re(m);for(var ne in te)ne.charAt(0)!=="_"&&(re[ne]=function(Y){return function(){return te[Y].apply(te,arguments)}}(ne))},re.init(),p.Mousetrap=re,u.exports&&(u.exports=re),(f=(function(){return re}).call(l,o,l,u))===void 0||(u.exports=f)}function N(te,ne,Y){te.addEventListener?te.addEventListener(ne,Y,!1):te.attachEvent("on"+ne,Y)}function R(te){if(te.type=="keypress"){var ne=String.fromCharCode(te.which);return te.shiftKey||(ne=ne.toLowerCase()),ne}return j[te.which]?j[te.which]:S[te.which]?S[te.which]:String.fromCharCode(te.which).toLowerCase()}function G(te){return te=="shift"||te=="ctrl"||te=="alt"||te=="meta"}function X(te,ne,Y){return Y||(Y=function(){if(!E)for(var B in E={},j)B>95&&B<112||j.hasOwnProperty(B)&&(E[j[B]]=B);return E}()[te]?"keydown":"keypress"),Y=="keypress"&&ne.length&&(Y="keydown"),Y}function Q(te,ne){var Y,B,V,$=[];for(Y=function(q){return q==="+"?["+"]:(q=q.replace(/\+{2}/g,"+plus")).split("+")}(te),V=0;V<Y.length;++V)B=Y[V],T[B]&&(B=T[B]),ne&&ne!="keypress"&&k[B]&&(B=k[B],$.push("shift")),G(B)&&$.push(B);return{key:B,modifiers:$,action:ne=X(B,$,ne)}}function ue(te,ne){return te!==null&&te!==m&&(te===ne||ue(te.parentNode,ne))}function re(te){var ne=this;if(te=te||m,!(ne instanceof re))return new re(te);ne.target=te,ne._callbacks={},ne._directMap={};var Y,B={},V=!1,$=!1,q=!1;function se(ve){ve=ve||{};var Pe,Ae=!1;for(Pe in B)ve[Pe]?Ae=!0:B[Pe]=0;Ae||(q=!1)}function xe(ve,Pe,Ae,He,nt,vt){var Xe,qe,gt,le,ce=[],me=Ae.type;if(!ne._callbacks[ve])return[];for(me=="keyup"&&G(ve)&&(Pe=[ve]),Xe=0;Xe<ne._callbacks[ve].length;++Xe)if(qe=ne._callbacks[ve][Xe],(He||!qe.seq||B[qe.seq]==qe.level)&&me==qe.action&&(me=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||(gt=Pe,le=qe.modifiers,gt.sort().join(",")===le.sort().join(",")))){var Ce=!He&&qe.combo==nt,Ue=He&&qe.seq==He&&qe.level==vt;(Ce||Ue)&&ne._callbacks[ve].splice(Xe,1),ce.push(qe)}return ce}function ge(ve,Pe,Ae,He){ne.stopCallback(Pe,Pe.target||Pe.srcElement,Ae,He)||ve(Pe,Ae)===!1&&(function(nt){nt.preventDefault?nt.preventDefault():nt.returnValue=!1}(Pe),function(nt){nt.stopPropagation?nt.stopPropagation():nt.cancelBubble=!0}(Pe))}function Me(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Pe=R(ve);Pe&&(ve.type!="keyup"||V!==Pe?ne.handleKey(Pe,function(Ae){var He=[];return Ae.shiftKey&&He.push("shift"),Ae.altKey&&He.push("alt"),Ae.ctrlKey&&He.push("ctrl"),Ae.metaKey&&He.push("meta"),He}(ve),ve):V=!1)}function Fe(ve,Pe,Ae,He){function nt(gt){return function(){q=gt,++B[ve],clearTimeout(Y),Y=setTimeout(se,1e3)}}function vt(gt){ge(Ae,gt,ve),He!=="keyup"&&(V=R(gt)),setTimeout(se,10)}B[ve]=0;for(var Xe=0;Xe<Pe.length;++Xe){var qe=Xe+1===Pe.length?vt:nt(He||Q(Pe[Xe+1]).action);je(Pe[Xe],qe,He,ve,Xe)}}function je(ve,Pe,Ae,He,nt){ne._directMap[ve+":"+Ae]=Pe;var vt,Xe=(ve=ve.replace(/\s+/g," ")).split(" ");Xe.length>1?Fe(ve,Xe,Pe,Ae):(vt=Q(ve,Ae),ne._callbacks[vt.key]=ne._callbacks[vt.key]||[],xe(vt.key,vt.modifiers,{type:vt.action},He,ve,nt),ne._callbacks[vt.key][He?"unshift":"push"]({callback:Pe,modifiers:vt.modifiers,action:vt.action,seq:He,level:nt,combo:ve}))}ne._handleKey=function(ve,Pe,Ae){var He,nt=xe(ve,Pe,Ae),vt={},Xe=0,qe=!1;for(He=0;He<nt.length;++He)nt[He].seq&&(Xe=Math.max(Xe,nt[He].level));for(He=0;He<nt.length;++He)if(nt[He].seq){if(nt[He].level!=Xe)continue;qe=!0,vt[nt[He].seq]=1,ge(nt[He].callback,Ae,nt[He].combo,nt[He].seq)}else qe||ge(nt[He].callback,Ae,nt[He].combo);var gt=Ae.type=="keypress"&&$;Ae.type!=q||G(ve)||gt||se(vt),$=qe&&Ae.type=="keydown"},ne._bindMultiple=function(ve,Pe,Ae){for(var He=0;He<ve.length;++He)je(ve[He],Pe,Ae)},N(te,"keypress",Me),N(te,"keydown",Me),N(te,"keyup",Me)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,l,o){var f=o(7),p=o(34),m=o(30),g=o(33),E=f.TypeError;u.exports=function(j,S){var k,T;if(S==="string"&&m(k=j.toString)&&!g(T=p(k,j))||m(k=j.valueOf)&&!g(T=p(k,j))||S!=="string"&&m(k=j.toString)&&!g(T=p(k,j)))return T;throw E("Can't convert object to primitive value")}},function(u,l,o){var f=o(7),p=o(30),m=o(92),g=f.WeakMap;u.exports=p(g)&&/native code/.test(m(g))},function(u,l,o){var f=o(36),p=o(38),m=o(32),g=o(41),E=o(75);u.exports=f?Object.defineProperties:function(j,S){m(j);for(var k,T=g(S),C=E(S),N=C.length,R=0;N>R;)p.f(j,k=C[R++],T[k]);return j}},function(u,l,o){var f=o(7);u.exports=f},function(u,l,o){var f=o(7),p=o(96),m=o(99),g=o(33),E=o(28)("species"),j=f.Array;u.exports=function(S){var k;return p(S)&&(k=S.constructor,(m(k)&&(k===j||p(k.prototype))||g(k)&&(k=k[E])===null)&&(k=void 0)),k===void 0?j:k}},function(u,l,o){var f=o(113),p=o(97);u.exports=f?{}.toString:function(){return"[object "+p(this)+"]"}},function(u,l,o){var f=o(142).IteratorPrototype,p=o(60),m=o(67),g=o(76),E=o(78),j=function(){return this};u.exports=function(S,k,T,C){var N=k+" Iterator";return S.prototype=p(f,{next:m(+!C,T)}),g(S,N,!1,!0),E[N]=j,S}},function(u,l,o){var f=o(7),p=o(30),m=f.String,g=f.TypeError;u.exports=function(E){if(typeof E=="object"||p(E))return E;throw g("Can't set "+m(E)+" as a prototype")}},function(u,l,o){var f=o(17),p=o(7),m=o(15),g=o(95),E=o(42),j=o(144),S=o(117),k=o(119),T=o(30),C=o(33),N=o(18),R=o(120),G=o(76),X=o(148);u.exports=function(Q,ue,re){var te=Q.indexOf("Map")!==-1,ne=Q.indexOf("Weak")!==-1,Y=te?"set":"add",B=p[Q],V=B&&B.prototype,$=B,q={},se=function(ve){var Pe=m(V[ve]);E(V,ve,ve=="add"?function(Ae){return Pe(this,Ae===0?0:Ae),this}:ve=="delete"?function(Ae){return!(ne&&!C(Ae))&&Pe(this,Ae===0?0:Ae)}:ve=="get"?function(Ae){return ne&&!C(Ae)?void 0:Pe(this,Ae===0?0:Ae)}:ve=="has"?function(Ae){return!(ne&&!C(Ae))&&Pe(this,Ae===0?0:Ae)}:function(Ae,He){return Pe(this,Ae===0?0:Ae,He),this})};if(g(Q,!T(B)||!(ne||V.forEach&&!N(function(){new B().entries().next()}))))$=re.getConstructor(ue,Q,te,Y),j.enable();else if(g(Q,!0)){var xe=new $,ge=xe[Y](ne?{}:-0,1)!=xe,Me=N(function(){xe.has(1)}),Fe=R(function(ve){new B(ve)}),je=!ne&&N(function(){for(var ve=new B,Pe=5;Pe--;)ve[Y](Pe,Pe);return!ve.has(-0)});Fe||(($=ue(function(ve,Pe){k(ve,V);var Ae=X(new B,ve,$);return Pe!=null&&S(Pe,Ae[Y],{that:Ae,AS_ENTRIES:te}),Ae})).prototype=V,V.constructor=$),(Me||je)&&(se("delete"),se("has"),te&&se("get")),(je||ge)&&se(Y),ne&&V.clear&&delete V.clear}return q[Q]=$,f({global:!0,forced:$!=B},q),G($,Q),ne||re.setStrong($,Q,te),$}},function(u,l,o){var f=o(18),p=o(33),m=o(51),g=o(184),E=Object.isExtensible,j=f(function(){});u.exports=j||g?function(S){return!!p(S)&&(!g||m(S)!="ArrayBuffer")&&(!E||E(S))}:E},function(u,l,o){var f=o(18);u.exports=f(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})},function(u,l,o){var f=o(18);u.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,l,o){var f=o(38).f,p=o(60),m=o(149),g=o(63),E=o(119),j=o(117),S=o(116),k=o(150),T=o(36),C=o(144).fastKey,N=o(58),R=N.set,G=N.getterFor;u.exports={getConstructor:function(X,Q,ue,re){var te=X(function($,q){E($,ne),R($,{type:Q,index:p(null),first:void 0,last:void 0,size:0}),T||($.size=0),q!=null&&j(q,$[re],{that:$,AS_ENTRIES:ue})}),ne=te.prototype,Y=G(Q),B=function($,q,se){var xe,ge,Me=Y($),Fe=V($,q);return Fe?Fe.value=se:(Me.last=Fe={index:ge=C(q,!0),key:q,value:se,previous:xe=Me.last,next:void 0,removed:!1},Me.first||(Me.first=Fe),xe&&(xe.next=Fe),T?Me.size++:$.size++,ge!=="F"&&(Me.index[ge]=Fe)),$},V=function($,q){var se,xe=Y($),ge=C(q);if(ge!=="F")return xe.index[ge];for(se=xe.first;se;se=se.next)if(se.key==q)return se};return m(ne,{clear:function(){for(var $=Y(this),q=$.index,se=$.first;se;)se.removed=!0,se.previous&&(se.previous=se.previous.next=void 0),delete q[se.index],se=se.next;$.first=$.last=void 0,T?$.size=0:this.size=0},delete:function($){var q=this,se=Y(q),xe=V(q,$);if(xe){var ge=xe.next,Me=xe.previous;delete se.index[xe.index],xe.removed=!0,Me&&(Me.next=ge),ge&&(ge.previous=Me),se.first==xe&&(se.first=ge),se.last==xe&&(se.last=Me),T?se.size--:q.size--}return!!xe},forEach:function($){for(var q,se=Y(this),xe=g($,arguments.length>1?arguments[1]:void 0);q=q?q.next:se.first;)for(xe(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function($){return!!V(this,$)}}),m(ne,ue?{get:function($){var q=V(this,$);return q&&q.value},set:function($,q){return B(this,$===0?0:$,q)}}:{add:function($){return B(this,$=$===0?0:$,$)}}),T&&f(ne,"size",{get:function(){return Y(this).size}}),te},setStrong:function(X,Q,ue){var re=Q+" Iterator",te=G(Q),ne=G(re);S(X,Q,function(Y,B){R(this,{type:re,target:Y,state:te(Y),kind:B,last:void 0})},function(){for(var Y=ne(this),B=Y.kind,V=Y.last;V&&V.removed;)V=V.previous;return Y.target&&(Y.last=V=V?V.next:Y.state.first)?B=="keys"?{value:V.key,done:!1}:B=="values"?{value:V.value,done:!1}:{value:[V.key,V.value],done:!1}:(Y.target=void 0,{value:void 0,done:!0})},ue?"entries":"values",!ue,!0),k(Q)}}},function(u,l,o){var f=o(77).forEach,p=o(121)("forEach");u.exports=p?[].forEach:function(m){return f(this,m,arguments.length>1?arguments[1]:void 0)}},function(u,l,o){var f=o(7),p=o(63),m=o(34),g=o(40),E=o(189),j=o(145),S=o(99),k=o(45),T=o(62),C=o(146),N=o(118),R=f.Array;u.exports=function(G){var X=g(G),Q=S(this),ue=arguments.length,re=ue>1?arguments[1]:void 0,te=re!==void 0;te&&(re=p(re,ue>2?arguments[2]:void 0));var ne,Y,B,V,$,q,se=N(X),xe=0;if(!se||this==R&&j(se))for(ne=k(X),Y=Q?new this(ne):R(ne);ne>xe;xe++)q=te?re(X[xe],xe):X[xe],T(Y,xe,q);else for($=(V=C(X,se)).next,Y=Q?new this:[];!(B=m($,V)).done;xe++)q=te?E(V,re,[B.value,xe],!0):B.value,T(Y,xe,q);return Y.length=xe,Y}},function(u,l,o){var f=o(32),p=o(147);u.exports=function(m,g,E,j){try{return j?g(f(E)[0],E[1]):g(E)}catch(S){p(m,"throw",S)}}},function(u,l,o){var f=o(18),p=o(7).RegExp;u.exports=f(function(){var m=p(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(u,l,o){var f=o(18),p=o(7).RegExp;u.exports=f(function(){var m=p("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(u,l,o){var f=o(17),p=o(15),m=o(56),g=o(40),E=o(45),j=o(39),S=o(18),k=o(193),T=o(121),C=o(194),N=o(195),R=o(68),G=o(196),X=[],Q=p(X.sort),ue=p(X.push),re=S(function(){X.sort(void 0)}),te=S(function(){X.sort(null)}),ne=T("sort"),Y=!S(function(){if(R)return R<70;if(!(C&&C>3)){if(N)return!0;if(G)return G<603;var B,V,$,q,se="";for(B=65;B<76;B++){switch(V=String.fromCharCode(B),B){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(q=0;q<47;q++)X.push({k:V+q,v:$})}for(X.sort(function(xe,ge){return ge.v-xe.v}),q=0;q<X.length;q++)V=X[q].k.charAt(0),se.charAt(se.length-1)!==V&&(se+=V);return se!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:re||!te||!ne||!Y},{sort:function(B){B!==void 0&&m(B);var V=g(this);if(Y)return B===void 0?Q(V):Q(V,B);var $,q,se=[],xe=E(V);for(q=0;q<xe;q++)q in V&&ue(se,V[q]);for(k(se,function(ge){return function(Me,Fe){return Fe===void 0?-1:Me===void 0?1:ge!==void 0?+ge(Me,Fe)||0:j(Me)>j(Fe)?1:-1}}(B)),$=se.length,q=0;q<$;)V[q]=se[q++];for(;q<xe;)delete V[q++];return V}})},function(u,l,o){var f=o(114),p=Math.floor,m=function(j,S){var k=j.length,T=p(k/2);return k<8?g(j,S):E(j,m(f(j,0,T),S),m(f(j,T),S),S)},g=function(j,S){for(var k,T,C=j.length,N=1;N<C;){for(T=N,k=j[N];T&&S(j[T-1],k)>0;)j[T]=j[--T];T!==N++&&(j[T]=k)}return j},E=function(j,S,k,T){for(var C=S.length,N=k.length,R=0,G=0;R<C||G<N;)j[R+G]=R<C&&G<N?T(S[R],k[G])<=0?S[R++]:k[G++]:R<C?S[R++]:k[G++];return j};u.exports=m},function(u,l,o){var f=o(55).match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,l,o){var f=o(55);u.exports=/MSIE|Trident/.test(f)},function(u,l,o){var f=o(55).match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,l,o){var f=o(7),p=o(159),m=f.TypeError;u.exports=function(g){if(p(g))throw m("The method doesn't accept regular expressions");return g}},function(u,l,o){var f=o(28)("match");u.exports=function(p){var m=/./;try{"/./"[p](m)}catch{try{return m[f]=!1,"/./"[p](m)}catch{}}return!1}},function(u,l,o){var f=o(71).PROPER,p=o(18),m=o(165);u.exports=function(g){return p(function(){return!!m[g]()||"​᠎"[g]()!=="​᠎"||f&&m[g].name!==g})}},function(u,l,o){var f=o(15),p=o(40),m=Math.floor,g=f("".charAt),E=f("".replace),j=f("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;u.exports=function(T,C,N,R,G,X){var Q=N+T.length,ue=R.length,re=k;return G!==void 0&&(G=p(G),re=S),E(X,re,function(te,ne){var Y;switch(g(ne,0)){case"$":return"$";case"&":return T;case"`":return j(C,0,N);case"'":return j(C,Q);case"<":Y=G[j(ne,1,-1)];break;default:var B=+ne;if(B===0)return te;if(B>ue){var V=m(B/10);return V===0?te:V<=ue?R[V-1]===void 0?g(ne,1):R[V-1]+g(ne,1):te}Y=R[B-1]}return Y===void 0?"":Y})}},function(u,l,o){var f=o(36),p=o(15),m=o(34),g=o(18),E=o(75),j=o(112),S=o(84),k=o(40),T=o(85),C=Object.assign,N=Object.defineProperty,R=p([].concat);u.exports=!C||g(function(){if(f&&C({b:1},C(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},X={},Q=Symbol(),ue="abcdefghijklmnopqrst";return G[Q]=7,ue.split("").forEach(function(re){X[re]=re}),C({},G)[Q]!=7||E(C({},X)).join("")!=ue})?function(G,X){for(var Q=k(G),ue=arguments.length,re=1,te=j.f,ne=S.f;ue>re;)for(var Y,B=T(arguments[re++]),V=te?R(E(B),te(B)):E(B),$=V.length,q=0;$>q;)Y=V[q++],f&&!m(ne,B,Y)||(Q[Y]=B[Y]);return Q}:C},function(u,l,o){var f=o(7),p=o(15),m=o(56),g=o(33),E=o(35),j=o(98),S=f.Function,k=p([].concat),T=p([].join),C={},N=function(R,G,X){if(!E(C,G)){for(var Q=[],ue=0;ue<G;ue++)Q[ue]="a["+ue+"]";C[G]=S("C,a","return new C("+T(Q,",")+")")}return C[G](R,X)};u.exports=S.bind||function(R){var G=m(this),X=G.prototype,Q=j(arguments,1),ue=function(){var re=k(Q,j(arguments));return this instanceof ue?N(G,re.length,re):G.apply(R,re)};return g(X)&&(ue.prototype=X),ue}},function(u,l,o){var f=o(35);u.exports=function(p){return p!==void 0&&(f(p,"value")||f(p,"writable"))}},function(u,l,o){var f=o(15),p=o(44),m=o(39),g=/"/g,E=f("".replace);u.exports=function(j,S,k,T){var C=m(p(j)),N="<"+S;return k!==""&&(N+=" "+k+'="'+E(m(T),g,"&quot;")+'"'),N+">"+C+"</"+S+">"}},function(u,l,o){var f=o(18);u.exports=function(p){return f(function(){var m=""[p]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(u,l,o){var f,p,m,g,E=o(17),j=o(69),S=o(7),k=o(46),T=o(34),C=o(207),N=o(42),R=o(149),G=o(102),X=o(76),Q=o(150),ue=o(56),re=o(30),te=o(33),ne=o(119),Y=o(92),B=o(117),V=o(120),$=o(161),q=o(168).set,se=o(208),xe=o(211),ge=o(212),Me=o(170),Fe=o(213),je=o(58),ve=o(95),Pe=o(28),Ae=o(214),He=o(128),nt=o(68),vt=Pe("species"),Xe="Promise",qe=je.getterFor(Xe),gt=je.set,le=je.getterFor(Xe),ce=C&&C.prototype,me=C,Ce=ce,Ue=S.TypeError,ze=S.document,xt=S.process,kt=Me.f,jt=kt,yt=!!(ze&&ze.createEvent&&S.dispatchEvent),ke=re(S.PromiseRejectionEvent),st="unhandledrejection",pe=!1,ot=ve(Xe,function(){var ae=Y(me),_e=ae!==String(me);if(!_e&&nt===66||j&&!Ce.finally)return!0;if(nt>=51&&/native code/.test(ae))return!1;var $e=new me(function(ft){ft(1)}),Ke=function(ft){ft(function(){},function(){})};return($e.constructor={})[vt]=Ke,!(pe=$e.then(function(){})instanceof Ke)||!_e&&Ae&&!ke}),Lt=ot||!V(function(ae){me.all(ae).catch(function(){})}),un=function(ae){var _e;return!(!te(ae)||!re(_e=ae.then))&&_e},zt=function(ae,_e){if(!ae.notified){ae.notified=!0;var $e=ae.reactions;se(function(){for(var Ke=ae.value,ft=ae.state==1,Ut=0;$e.length>Ut;){var Qn,lr,Gn,$n=$e[Ut++],it=ft?$n.ok:$n.fail,bt=$n.resolve,St=$n.reject,It=$n.domain;try{it?(ft||(ae.rejection===2&&Ct(ae),ae.rejection=1),it===!0?Qn=Ke:(It&&It.enter(),Qn=it(Ke),It&&(It.exit(),Gn=!0)),Qn===$n.promise?St(Ue("Promise-chain cycle")):(lr=un(Qn))?T(lr,Qn,bt,St):bt(Qn)):St(Ke)}catch(hn){It&&!Gn&&It.exit(),St(hn)}}ae.reactions=[],ae.notified=!1,_e&&!ae.rejection&&yn(ae)})}},Qt=function(ae,_e,$e){var Ke,ft;yt?((Ke=ze.createEvent("Event")).promise=_e,Ke.reason=$e,Ke.initEvent(ae,!1,!0),S.dispatchEvent(Ke)):Ke={promise:_e,reason:$e},!ke&&(ft=S["on"+ae])?ft(Ke):ae===st&&ge("Unhandled promise rejection",$e)},yn=function(ae){T(q,S,function(){var _e,$e=ae.facade,Ke=ae.value;if(jn(ae)&&(_e=Fe(function(){He?xt.emit("unhandledRejection",Ke,$e):Qt(st,$e,Ke)}),ae.rejection=He||jn(ae)?2:1,_e.error))throw _e.value})},jn=function(ae){return ae.rejection!==1&&!ae.parent},Ct=function(ae){T(q,S,function(){var _e=ae.facade;He?xt.emit("rejectionHandled",_e):Qt("rejectionhandled",_e,ae.value)})},Wn=function(ae,_e,$e){return function(Ke){ae(_e,Ke,$e)}},J=function(ae,_e,$e){ae.done||(ae.done=!0,$e&&(ae=$e),ae.value=_e,ae.state=2,zt(ae,!0))},de=function(ae,_e,$e){if(!ae.done){ae.done=!0,$e&&(ae=$e);try{if(ae.facade===_e)throw Ue("Promise can't be resolved itself");var Ke=un(_e);Ke?se(function(){var ft={done:!1};try{T(Ke,_e,Wn(de,ft,ae),Wn(J,ft,ae))}catch(Ut){J(ft,Ut,ae)}}):(ae.value=_e,ae.state=1,zt(ae,!1))}catch(ft){J({done:!1},ft,ae)}}};if(ot&&(Ce=(me=function(ae){ne(this,Ce),ue(ae),T(f,this);var _e=qe(this);try{ae(Wn(de,_e),Wn(J,_e))}catch($e){J(_e,$e)}}).prototype,(f=function(ae){gt(this,{type:Xe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=R(Ce,{then:function(ae,_e){var $e=le(this),Ke=$e.reactions,ft=kt($(this,me));return ft.ok=!re(ae)||ae,ft.fail=re(_e)&&_e,ft.domain=He?xt.domain:void 0,$e.parent=!0,Ke[Ke.length]=ft,$e.state!=0&&zt($e,!1),ft.promise},catch:function(ae){return this.then(void 0,ae)}}),p=function(){var ae=new f,_e=qe(ae);this.promise=ae,this.resolve=Wn(de,_e),this.reject=Wn(J,_e)},Me.f=kt=function(ae){return ae===me||ae===m?new p(ae):jt(ae)},!j&&re(C)&&ce!==Object.prototype)){g=ce.then,pe||(N(ce,"then",function(ae,_e){var $e=this;return new me(function(Ke,ft){T(g,$e,Ke,ft)}).then(ae,_e)},{unsafe:!0}),N(ce,"catch",Ce.catch,{unsafe:!0}));try{delete ce.constructor}catch{}G&&G(ce,Ce)}E({global:!0,wrap:!0,forced:ot},{Promise:me}),X(me,Xe,!1,!0),Q(Xe),m=k(Xe),E({target:Xe,stat:!0,forced:ot},{reject:function(ae){var _e=kt(this);return T(_e.reject,void 0,ae),_e.promise}}),E({target:Xe,stat:!0,forced:j||ot},{resolve:function(ae){return xe(j&&this===m?me:this,ae)}}),E({target:Xe,stat:!0,forced:Lt},{all:function(ae){var _e=this,$e=kt(_e),Ke=$e.resolve,ft=$e.reject,Ut=Fe(function(){var Qn=ue(_e.resolve),lr=[],Gn=0,$n=1;B(ae,function(it){var bt=Gn++,St=!1;$n++,T(Qn,_e,it).then(function(It){St||(St=!0,lr[bt]=It,--$n||Ke(lr))},ft)}),--$n||Ke(lr)});return Ut.error&&ft(Ut.value),$e.promise},race:function(ae){var _e=this,$e=kt(_e),Ke=$e.reject,ft=Fe(function(){var Ut=ue(_e.resolve);B(ae,function(Qn){T(Ut,_e,Qn).then($e.resolve,Ke)})});return ft.error&&Ke(ft.value),$e.promise}})},function(u,l,o){var f=o(7);u.exports=f.Promise},function(u,l,o){var f,p,m,g,E,j,S,k,T=o(7),C=o(63),N=o(50).f,R=o(168).set,G=o(169),X=o(209),Q=o(210),ue=o(128),re=T.MutationObserver||T.WebKitMutationObserver,te=T.document,ne=T.process,Y=T.Promise,B=N(T,"queueMicrotask"),V=B&&B.value;V||(f=function(){var $,q;for(ue&&($=ne.domain)&&$.exit();p;){q=p.fn,p=p.next;try{q()}catch(se){throw p?g():m=void 0,se}}m=void 0,$&&$.enter()},G||ue||Q||!re||!te?!X&&Y&&Y.resolve?((S=Y.resolve(void 0)).constructor=Y,k=C(S.then,S),g=function(){k(f)}):ue?g=function(){ne.nextTick(f)}:(R=C(R,T),g=function(){R(f)}):(E=!0,j=te.createTextNode(""),new re(f).observe(j,{characterData:!0}),g=function(){j.data=E=!E})),u.exports=V||function($){var q={fn:$,next:void 0};m&&(m.next=q),p||(p=q,g()),m=q}},function(u,l,o){var f=o(55),p=o(7);u.exports=/ipad|iphone|ipod/i.test(f)&&p.Pebble!==void 0},function(u,l,o){var f=o(55);u.exports=/web0s(?!.*chrome)/i.test(f)},function(u,l,o){var f=o(32),p=o(33),m=o(170);u.exports=function(g,E){if(f(g),p(E)&&E.constructor===g)return E;var j=m.f(g);return(0,j.resolve)(E),j.promise}},function(u,l,o){var f=o(7);u.exports=function(p,m){var g=f.console;g&&g.error&&(arguments.length==1?g.error(p):g.error(p,m))}},function(u,l){u.exports=function(o){try{return{error:!1,value:o()}}catch(f){return{error:!0,value:f}}}},function(u,l){u.exports=typeof window=="object"},function(u,l,o){var f=o(40),p=o(73),m=o(45);u.exports=function(g){for(var E=f(this),j=m(E),S=arguments.length,k=p(S>1?arguments[1]:void 0,j),T=S>2?arguments[2]:void 0,C=T===void 0?j:p(T,j);C>k;)E[k++]=g;return E}},function(u,l,o){var f=o(17),p=o(7),m=o(15),g=o(59),E=o(166),j=o(217),S=o(18),k=p.RangeError,T=p.String,C=Math.floor,N=m(j),R=m("".slice),G=m(1 .toFixed),X=function(te,ne,Y){return ne===0?Y:ne%2==1?X(te,ne-1,Y*te):X(te*te,ne/2,Y)},Q=function(te,ne,Y){for(var B=-1,V=Y;++B<6;)V+=ne*te[B],te[B]=V%1e7,V=C(V/1e7)},ue=function(te,ne){for(var Y=6,B=0;--Y>=0;)B+=te[Y],te[Y]=C(B/ne),B=B%ne*1e7},re=function(te){for(var ne=6,Y="";--ne>=0;)if(Y!==""||ne===0||te[ne]!==0){var B=T(te[ne]);Y=Y===""?B:Y+N("0",7-B.length)+B}return Y};f({target:"Number",proto:!0,forced:S(function(){return G(8e-5,3)!=="0.000"||G(.9,0)!=="1"||G(1.255,2)!=="1.25"||G(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!S(function(){G({})})},{toFixed:function(te){var ne,Y,B,V,$=E(this),q=g(te),se=[0,0,0,0,0,0],xe="",ge="0";if(q<0||q>20)throw k("Incorrect fraction digits");if($!=$)return"NaN";if($<=-1e21||$>=1e21)return T($);if($<0&&(xe="-",$=-$),$>1e-21)if(Y=(ne=function(Me){for(var Fe=0,je=Me;je>=4096;)Fe+=12,je/=4096;for(;je>=2;)Fe+=1,je/=2;return Fe}($*X(2,69,1))-69)<0?$*X(2,-ne,1):$/X(2,ne,1),Y*=4503599627370496,(ne=52-ne)>0){for(Q(se,0,Y),B=q;B>=7;)Q(se,1e7,0),B-=7;for(Q(se,X(10,B,1),0),B=ne-1;B>=23;)ue(se,1<<23),B-=23;ue(se,1<<B),Q(se,1,1),ue(se,2),ge=re(se)}else Q(se,0,Y),Q(se,1<<-ne,0),ge=re(se)+N("0",q);return ge=q>0?xe+((V=ge.length)<=q?"0."+N("0",q-V)+ge:R(ge,0,V-q)+"."+R(ge,V-q)):xe+ge}})},function(u,l,o){var f=o(7),p=o(59),m=o(39),g=o(44),E=f.RangeError;u.exports=function(j){var S=m(g(this)),k="",T=p(j);if(T<0||T==1/0)throw E("Wrong number of repetitions");for(;T>0;(T>>>=1)&&(S+=S))1&T&&(k+=S);return k}},function(u,l,o){var f=o(36),p=o(15),m=o(75),g=o(41),E=p(o(84).f),j=p([].push),S=function(k){return function(T){for(var C,N=g(T),R=m(N),G=R.length,X=0,Q=[];G>X;)C=R[X++],f&&!E(N,C)||j(Q,k?[C,N[C]]:N[C]);return Q}};u.exports={entries:S(!0),values:S(!1)}},function(u,l){u.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(u,l,o){o.r(l),o.d(l,"observer",function(){return di}),o.d(l,"LogicFlow",function(){return Jv}),o.d(l,"h",function(){return pe.g}),o.d(l,"LogicFlowUtil",function(){return f}),o.d(l,"BaseNode",function(){return sa}),o.d(l,"RectNode",function(){return Xy}),o.d(l,"CircleNode",function(){return $y}),o.d(l,"PolygonNode",function(){return Qy}),o.d(l,"DiamondNode",function(){return rv}),o.d(l,"EllipseNode",function(){return sv}),o.d(l,"TextNode",function(){return fv}),o.d(l,"HtmlNode",function(){return yv}),o.d(l,"BaseEdge",function(){return lf}),o.d(l,"LineEdge",function(){return Av}),o.d(l,"PolylineEdge",function(){return Cv}),o.d(l,"BezierEdge",function(){return zv}),o.d(l,"Arrow",function(){return dx}),o.d(l,"BaseEdgeModel",function(){return wl}),o.d(l,"BezierEdgeModel",function(){return qd}),o.d(l,"LineEdgeModel",function(){return Ji}),o.d(l,"PolylineEdgeModel",function(){return Us}),o.d(l,"BaseNodeModel",function(){return ua}),o.d(l,"CircleNodeModel",function(){return ny}),o.d(l,"DiamondNodeModel",function(){return uy}),o.d(l,"EllipseNodeModel",function(){return fy}),o.d(l,"PolygonNodeModel",function(){return gy}),o.d(l,"RectNodeModel",function(){return Oy}),o.d(l,"TextNodeModel",function(){return Sy}),o.d(l,"HtmlNodeModel",function(){return My}),o.d(l,"EditConfigModel",function(){return Xc}),o.d(l,"GraphModel",function(){return Pg}),o.d(l,"SnaplineModel",function(){return fb}),o.d(l,"Keyboard",function(){return Jb}),o.d(l,"get",function(){return Zg}),o.d(l,"defaults",function(){return Qg}),o.d(l,"ElementState",function(){return fn}),o.d(l,"ModelType",function(){return Kt}),o.d(l,"ElementType",function(){return qn}),o.d(l,"EventType",function(){return pt}),o.d(l,"formateAnchorConnectValidateData",function(){return Iu});var f={};o.r(f),o.d(f,"createUuid",function(){return wo}),o.d(f,"refreshGraphId",function(){return Ra}),o.d(f,"createDrag",function(){return kp}),o.d(f,"StepDrag",function(){return Xo}),o.d(f,"setupEdgeModel",function(){return wp}),o.d(f,"isBboxOverLapping",function(){return Nl}),o.d(f,"filterRepeatPoints",function(){return si}),o.d(f,"getSimplePolyline",function(){return Cl}),o.d(f,"getExpandedBBox",function(){return Ga}),o.d(f,"pointDirection",function(){return Bu}),o.d(f,"getExpandedBBoxPoint",function(){return vr}),o.d(f,"mergeBBox",function(){return Mi}),o.d(f,"getBBoxOfPoints",function(){return Ha}),o.d(f,"getPointsFromBBox",function(){return Fu}),o.d(f,"isPointOutsideBBox",function(){return Xa}),o.d(f,"getBBoxXCrossPoints",function(){return Ho}),o.d(f,"getBBoxYCrossPoints",function(){return Yt}),o.d(f,"getBBoxCrossPointsByPoint",function(){return Il}),o.d(f,"estimateDistance",function(){return kr}),o.d(f,"costByPoints",function(){return Rl}),o.d(f,"heuristicCostEstimate",function(){return pn}),o.d(f,"rebuildPath",function(){return xp}),o.d(f,"removeClosePointFromOpenList",function(){return Ll}),o.d(f,"isSegmentsIntersected",function(){return ci}),o.d(f,"isSegmentCrossingBBox",function(){return zl}),o.d(f,"getNextNeighborPoints",function(){return Ep}),o.d(f,"pathFinder",function(){return Sp}),o.d(f,"getBoxByOriginNode",function(){return Bl}),o.d(f,"pointFilter",function(){return Wu}),o.d(f,"getPolylinePoints",function(){return Gu}),o.d(f,"getLongestEdge",function(){return jp}),o.d(f,"isSegmentsInNode",function(){return Fl}),o.d(f,"isSegmentsCrossNode",function(){return Wl}),o.d(f,"getCrossPointInRect",function(){return rr}),o.d(f,"segmentDirection",function(){return hr}),o.d(f,"points2PointsList",function(){return Ai}),o.d(f,"getSimplePoints",function(){return Gl}),o.d(f,"getBytesLength",function(){return Hl}),o.d(f,"getTextWidth",function(){return Mp}),o.d(f,"getAppendAttributes",function(){return Xl}),o.d(f,"getBezierControlPoints",function(){return Ti}),o.d(f,"getBezierPoints",function(){return Ks}),o.d(f,"getEndTangent",function(){return qs}),o.d(f,"getClosestPointOfPolyline",function(){return Ul}),o.d(f,"pickEdgeConfig",function(){return Ap}),o.d(f,"twoPointDistance",function(){return Yl}),o.d(f,"createEdgeGenerator",function(){return Tp}),o.d(f,"snapToGrid",function(){return Fo}),o.d(f,"getGridOffset",function(){return Ia}),o.d(f,"sampleCubic",function(){return Gt}),o.d(f,"getThetaOfVector",function(){return Tr}),o.d(f,"degrees",function(){return Xn}),o.d(f,"Vector",function(){return or}),o.d(f,"Point",function(){return Js}),o.d(f,"Matrix",function(){return Fn}),o.d(f,"RotateMatrix",function(){return Fr}),o.d(f,"ScaleMatrix",function(){return Eo}),o.d(f,"TranslateMatrix",function(){return Yn});var p=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!p.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(43),E=Object(g.b)("observerBatching");function j(t){t()}var S=!1;function k(){return S}function T(t){return Object(p.t)(t)}var C,N=1e4,R=new Set;function G(){C===void 0&&(C=setTimeout(X,1e4))}function X(){C=void 0;var t=Date.now();R.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,R.delete(e))}),R.size>0&&G()}var Q=!1,ue=[],re={};function te(t){return"observer"+t}function ne(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=re),k();var r,a=function(x){return function(){Q?ue.push(x):x()}}((n.useForceUpdate||g.d)()),i=m.d.useRef(null);if(!i.current){var c=new p.c(te(e),function(){v.mounted?a():(c.dispose(),i.current=null)}),v=function(x){return{cleanAt:Date.now()+N,reaction:x}}(c);i.current=v,r=i,R.add(r),G()}var b=i.current.reaction;return m.d.useDebugValue(b,T),m.d.useEffect(function(){var x;return x=i,R.delete(x),i.current?i.current.mounted=!0:(i.current={reaction:new p.c(te(e),function(){a()}),cleanAt:1/0},a()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(x){Q=!0,ue=[];try{var P=x();Q=!1;var D=ue.length>0?ue:void 0;return m.d.useLayoutEffect(function(){D&&D.forEach(function(L){return L()})},[D]),P}finally{Q=!1}}(function(){var x,P;if(b.track(function(){try{x=t()}catch(D){P=D}}),P)throw P;return x})}var Y=function(){return Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Y.apply(this,arguments)};function B(t,e){var n,r,a,i=Y({forwardRef:!1},e),c=t.displayName||t.name,v=function(b,x){return ne(function(){return t(b,x)},c)};return v.displayName=c,n=i.forwardRef?Object(m.f)(Object(m.e)(v)):Object(m.f)(v),r=t,a=n,Object.keys(r).forEach(function(b){V[b]||Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(r,b))}),n.displayName=c,n}var V={$$typeof:!0,render:!0,compare:!0,type:!0};function $(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:ne(r)}function q(t,e,n,r,a){var i=e==="children"?"render":"children",c=typeof t[e]=="function",v=typeof t[i]=="function";return c&&v?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||v?null:new Error("Invalid prop `"+a+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}$.propTypes={children:q,render:q},$.displayName="Observer";var se;(se=m.g)||(se=j),Object(p.n)({reactionScheduler:se}),Object(g.a)()[E]=!0;var xe=0,ge={};function Me(t){return ge[t]||(ge[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+xe+")";return xe++,n}(t)),ge[t]}function Fe(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(e,n[a])||!je(t[n[a]],e[n[a]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=Me("patchMixins"),Ae=Me("patchedDefinition");function He(t,e){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];e.locks++;try{var c;return t!=null&&(c=t.apply(this,a)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(v){v.apply(n,a)})}}function nt(t,e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];He.call.apply(He,[this,t,e].concat(r))}}function vt(t,e,n){var r=function(v,b){var x=v[Pe]=v[Pe]||{},P=x[b]=x[b]||{};return P.locks=P.locks||0,P.methods=P.methods||[],P}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(t,e);if(!a||!a[Ae]){var i=t[e],c=Xe(t,e,a?a.enumerable:void 0,r,i);Object.defineProperty(t,e,c)}}function Xe(t,e,n,r,a){var i,c=nt(a,r);return(i={})[Ae]=!0,i.get=function(){return c},i.set=function(v){if(this===t)c=nt(v,r);else{var b=Xe(this,e,n,r,v);Object.defineProperty(this,e,b)}},i.configurable=!0,i.enumerable=n,i}var qe=p.a||"$mobx",gt=Me("isMobXReactObserver"),le=Me("isUnmounted"),ce=Me("skipRender"),me=Me("isForcingUpdate");function Ce(t){var e=t.prototype;if(t[gt]?Ue(e):t[gt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==xt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=xt;kt(e,"props"),kt(e,"state");var n=e.render;return e.render=function(){return ze.call(this,n)},vt(e,"componentWillUnmount",function(){var r;(r=this.render[qe])===null||r===void 0||r.dispose(),this[le]=!0,!this.render[qe]&&Ue(this)}),t}function Ue(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;ve(this,ce,!1),ve(this,me,!1);var n=Ue(this),r=t.bind(this),a=!1,i=new p.c(n+".render()",function(){if(!a&&(a=!0,e[le]!==!0)){var v=!0;try{ve(e,me,!0),e[ce]||m.a.prototype.forceUpdate.call(e),v=!1}finally{ve(e,me,!1),v&&i.dispose()}}});function c(){a=!1;var v=void 0,b=void 0;if(i.track(function(){try{b=Object(p.d)(!1,r)}catch(x){v=x}}),v)throw v;return b}return i.reactComponent=this,c[qe]=i,this.render=c,c.call(this)}function xt(t,e){return this.state!==e||!Fe(this.props,t)}function kt(t,e){var n=Me("reactProp_"+e+"_valueHolder"),r=Me("reactProp_"+e+"_atomHolder");function a(){return this[r]||ve(this,r,Object(p.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=!1;return p.f&&p.e&&(i=Object(p.f)(!0)),a.call(this).reportObserved(),p.f&&p.e&&Object(p.e)(i),this[n]},set:function(i){this[me]||Fe(this[n],i)?ve(this,n,i):(ve(this,n,i),ve(this,ce,!0),a.call(this).reportChanged(),ve(this,ce,!1))}})}var jt=typeof Symbol=="function"&&Symbol.for,yt=jt?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,ke=jt?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function st(t){if(t.isMobxInjector,ke&&t.$$typeof===ke)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(yt&&t.$$typeof===yt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)($,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?Ce(t):B(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!p.C)throw new Error("mobx-react requires mobx to be available");var pe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(26),o(21),o(20),o(24),o(22),o(25),o(9),o(16),o(23),o(19),o(192),o(156),o(104),o(157),o(158);var ot=function(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a},Lt=function(){this.__data__=[],this.size=0},un=function(t,e){return t===e||t!=t&&e!=e},zt=function(t,e){for(var n=t.length;n--;)if(un(t[n][0],e))return n;return-1},Qt=Array.prototype.splice,yn=function(t){var e=this.__data__,n=zt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},jn=function(t){var e=this.__data__,n=zt(e,t);return n<0?void 0:e[n][1]},Ct=function(t){return zt(this.__data__,t)>-1},Wn=function(t,e){var n=this.__data__,r=zt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function J(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}J.prototype.clear=Lt,J.prototype.delete=yn,J.prototype.get=jn,J.prototype.has=Ct,J.prototype.set=Wn;var de=J,ae=function(){this.__data__=new de,this.size=0},_e=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},$e=function(t){return this.__data__.get(t)},Ke=function(t){return this.__data__.has(t)},ft=o(31),Ut=ft.a.Symbol,Qn=Object.prototype,lr=Qn.hasOwnProperty,Gn=Qn.toString,$n=Ut?Ut.toStringTag:void 0,it=function(t){var e=lr.call(t,$n),n=t[$n];try{t[$n]=void 0;var r=!0}catch{}var a=Gn.call(t);return r&&(e?t[$n]=n:delete t[$n]),a},bt=Object.prototype.toString,St=function(t){return bt.call(t)},It=Ut?Ut.toStringTag:void 0,hn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":It&&It in Object(t)?it(t):St(t)},Nn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Po,yo=function(t){if(!Nn(t))return!1;var e=hn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Mo=ft.a["__core-js_shared__"],yi=(Po=/[^.]+$/.exec(Mo&&Mo.keys&&Mo.keys.IE_PROTO||""))?"Symbol(src)_1."+Po:"",Dc=function(t){return!!yi&&yi in t},ou=Function.prototype.toString,Xr=function(t){if(t!=null){try{return ou.call(t)}catch{}try{return t+""}catch{}}return""},Wi=/^\[object .+?Constructor\]$/,ct=Function.prototype,Nc=Object.prototype,iu=ct.toString,au=Nc.hasOwnProperty,xr=RegExp("^"+iu.call(au).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dr=function(t){return!(!Nn(t)||Dc(t))&&(yo(t)?xr:Wi).test(Xr(t))},da=function(t,e){return t==null?void 0:t[e]},io=function(t,e){var n=da(t,e);return Dr(n)?n:void 0},Ur=io(ft.a,"Map"),ao=io(Object,"create"),uu=function(){this.__data__=ao?ao(null):{},this.size=0},su=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},rs=Object.prototype.hasOwnProperty,Gi=function(t){var e=this.__data__;if(ao){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return rs.call(e,t)?e[t]:void 0},os=Object.prototype.hasOwnProperty,cu=function(t){var e=this.__data__;return ao?e[t]!==void 0:os.call(e,t)},Cc=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ao&&e===void 0?"__lodash_hash_undefined__":e,this};function qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qo.prototype.clear=uu,qo.prototype.delete=su,qo.prototype.get=Gi,qo.prototype.has=cu,qo.prototype.set=Cc;var is=qo,Ao=function(){this.size=0,this.__data__={hash:new is,map:new(Ur||de),string:new is}},lu=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ya=function(t,e){var n=t.__data__;return lu(e)?n[typeof e=="string"?"string":"hash"]:n.map},fu=function(t){var e=ya(this,t).delete(t);return this.size-=e?1:0,e},pu=function(t){return ya(this,t).get(t)},Ic=function(t){return ya(this,t).has(t)},as=function(t,e){var n=ya(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ln(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ln.prototype.clear=Ao,ln.prototype.delete=fu,ln.prototype.get=pu,ln.prototype.has=Ic,ln.prototype.set=as;var sn=ln,us=function(t,e){var n=this.__data__;if(n instanceof de){var r=n.__data__;if(!Ur||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sn(r)}return n.set(t,e),this.size=n.size,this};function vi(t){var e=this.__data__=new de(t);this.size=e.size}vi.prototype.clear=ae,vi.prototype.delete=_e,vi.prototype.get=$e,vi.prototype.has=Ke,vi.prototype.set=us;var To=vi,hu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ss=function(t){return this.__data__.has(t)};function zn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new sn;++e<n;)this.add(t[e])}zn.prototype.add=zn.prototype.push=hu,zn.prototype.has=ss;var du=zn,Hi=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},yu=function(t,e){return t.has(e)},va=function(t,e,n,r,a,i){var c=1&n,v=t.length,b=e.length;if(v!=b&&!(c&&b>v))return!1;var x=i.get(t),P=i.get(e);if(x&&P)return x==e&&P==t;var D=-1,L=!0,U=2&n?new du:void 0;for(i.set(t,e),i.set(e,t);++D<v;){var Z=t[D],oe=e[D];if(r)var ye=c?r(oe,Z,D,e,t,i):r(Z,oe,D,t,e,i);if(ye!==void 0){if(ye)continue;L=!1;break}if(U){if(!Hi(e,function(be,Ee){if(!yu(U,Ee)&&(Z===be||a(Z,be,n,r,i)))return U.push(Ee)})){L=!1;break}}else if(Z!==oe&&!a(Z,oe,n,r,i)){L=!1;break}}return i.delete(t),i.delete(e),L},fr=ft.a.Uint8Array,vu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n},cs=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},gu=Ut?Ut.prototype:void 0,ga=gu?gu.valueOf:void 0,gi=function(t,e,n,r,a,i,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new fr(t),new fr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return un(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=vu;case"[object Set]":var b=1&r;if(v||(v=cs),t.size!=e.size&&!b)return!1;var x=c.get(t);if(x)return x==e;r|=2,c.set(t,e);var P=va(v(t),v(e),r,a,i,c);return c.delete(t),P;case"[object Symbol]":if(ga)return ga.call(t)==ga.call(e)}return!1},vo=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t},mn=Array.isArray,ls=function(t,e,n){var r=e(t);return mn(t)?r:vo(r,n(t))},Er=function(t,e){for(var n=-1,r=t==null?0:t.length,a=0,i=[];++n<r;){var c=t[n];e(c,n,t)&&(i[a++]=c)}return i},fs=function(){return[]},ps=Object.prototype.propertyIsEnumerable,gr=Object.getOwnPropertySymbols,Sr=gr?function(t){return t==null?[]:(t=Object(t),Er(gr(t),function(e){return ps.call(t,e)}))}:fs,mu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},rn=function(t){return t!=null&&typeof t=="object"},er=function(t){return rn(t)&&hn(t)=="[object Arguments]"},ma=Object.prototype,hs=ma.hasOwnProperty,bu=ma.propertyIsEnumerable,ba=er(function(){return arguments}())?er:function(t){return rn(t)&&hs.call(t,"callee")&&!bu.call(t,"callee")},go=ba,ko=o(48),mi=/^(?:0|[1-9]\d*)$/,jr=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&mi.test(t))&&t>-1&&t%1==0&&t<e},Do=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},en={};en["[object Float32Array]"]=en["[object Float64Array]"]=en["[object Int8Array]"]=en["[object Int16Array]"]=en["[object Int32Array]"]=en["[object Uint8Array]"]=en["[object Uint8ClampedArray]"]=en["[object Uint16Array]"]=en["[object Uint32Array]"]=!0,en["[object Arguments]"]=en["[object Array]"]=en["[object ArrayBuffer]"]=en["[object Boolean]"]=en["[object DataView]"]=en["[object Date]"]=en["[object Error]"]=en["[object Function]"]=en["[object Map]"]=en["[object Number]"]=en["[object Object]"]=en["[object RegExp]"]=en["[object Set]"]=en["[object String]"]=en["[object WeakMap]"]=!1;var Pr=function(t){return rn(t)&&Do(t.length)&&!!en[hn(t)]},mo=function(t){return function(e){return t(e)}},ur=o(49),_a=ur.a&&ur.a.isTypedArray,Xi=_a?mo(_a):Pr,_u=Object.prototype.hasOwnProperty,Cn=function(t,e){var n=mn(t),r=!n&&go(t),a=!n&&!r&&Object(ko.a)(t),i=!n&&!r&&!a&&Xi(t),c=n||r||a||i,v=c?mu(t.length,String):[],b=v.length;for(var x in t)!e&&!_u.call(t,x)||c&&(x=="length"||a&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||jr(x,b))||v.push(x);return v},Oa=Object.prototype,No=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Oa)},Yr=function(t,e){return function(n){return t(e(n))}},Ou=Yr(Object.keys,Object),Rc=Object.prototype.hasOwnProperty,wu=function(t){if(!No(t))return Ou(t);var e=[];for(var n in Object(t))Rc.call(t,n)&&n!="constructor"&&e.push(n);return e},Kn=function(t){return t!=null&&Do(t.length)&&!yo(t)},bi=function(t){return Kn(t)?Cn(t):wu(t)},bo=function(t){return ls(t,bi,Sr)},mr=Object.prototype.hasOwnProperty,xu=function(t,e,n,r,a,i){var c=1&n,v=bo(t),b=v.length;if(b!=bo(e).length&&!c)return!1;for(var x=b;x--;){var P=v[x];if(!(c?P in e:mr.call(e,P)))return!1}var D=i.get(t),L=i.get(e);if(D&&L)return D==e&&L==t;var U=!0;i.set(t,e),i.set(e,t);for(var Z=c;++x<b;){var oe=t[P=v[x]],ye=e[P];if(r)var be=c?r(ye,oe,P,e,t,i):r(oe,ye,P,t,e,i);if(!(be===void 0?oe===ye||a(oe,ye,n,r,i):be)){U=!1;break}Z||(Z=P=="constructor")}if(U&&!Z){var Ee=t.constructor,Te=e.constructor;Ee==Te||!("constructor"in t)||!("constructor"in e)||typeof Ee=="function"&&Ee instanceof Ee&&typeof Te=="function"&&Te instanceof Te||(U=!1)}return i.delete(t),i.delete(e),U},Nr=io(ft.a,"DataView"),Zo=io(ft.a,"Promise"),wa=io(ft.a,"Set"),_o=io(ft.a,"WeakMap"),Cr="[object Map]",Mr="[object Promise]",Vr="[object Set]",Oo="[object WeakMap]",we="[object DataView]",Ie=Xr(Nr),Le=Xr(Ur),Je=Xr(Zo),Bt=Xr(wa),Zt=Xr(_o),On=hn;(Nr&&On(new Nr(new ArrayBuffer(1)))!=we||Ur&&On(new Ur)!=Cr||Zo&&On(Zo.resolve())!=Mr||wa&&On(new wa)!=Vr||_o&&On(new _o)!=Oo)&&(On=function(t){var e=hn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Xr(n):"";if(r)switch(r){case Ie:return we;case Le:return Cr;case Je:return Mr;case Bt:return Vr;case Zt:return Oo}return e});var O=On,w="[object Arguments]",A="[object Array]",z="[object Object]",K=Object.prototype.hasOwnProperty,he=function(t,e,n,r,a,i){var c=mn(t),v=mn(e),b=c?A:O(t),x=v?A:O(e),P=(b=b==w?z:b)==z,D=(x=x==w?z:x)==z,L=b==x;if(L&&Object(ko.a)(t)){if(!Object(ko.a)(e))return!1;c=!0,P=!1}if(L&&!P)return i||(i=new To),c||Xi(t)?va(t,e,n,r,a,i):gi(t,e,b,n,r,a,i);if(!(1&n)){var U=P&&K.call(t,"__wrapped__"),Z=D&&K.call(e,"__wrapped__");if(U||Z){var oe=U?t.value():t,ye=Z?e.value():e;return i||(i=new To),a(oe,ye,n,r,i)}}return!!L&&(i||(i=new To),xu(t,e,n,r,a,i))},Se=function t(e,n,r,a,i){return e===n||(e==null||n==null||!rn(e)&&!rn(n)?e!=e&&n!=n:he(e,n,r,a,t,i))},Ge=function(t,e,n,r){var a=n.length,i=a,c=!r;if(t==null)return!i;for(t=Object(t);a--;){var v=n[a];if(c&&v[2]?v[1]!==t[v[0]]:!(v[0]in t))return!1}for(;++a<i;){var b=(v=n[a])[0],x=t[b],P=v[1];if(c&&v[2]){if(x===void 0&&!(b in t))return!1}else{var D=new To;if(r)var L=r(x,P,b,t,e,D);if(!(L===void 0?Se(P,x,3,r,D):L))return!1}}return!0},at=function(t){return t==t&&!Nn(t)},$t=function(t){for(var e=bi(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,at(a)]}return e},tt=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},vn=function(t){var e=$t(t);return e.length==1&&e[0][2]?tt(e[0][0],e[0][1]):function(n){return n===t||Ge(n,t,e)}},Ft=function(t){return typeof t=="symbol"||rn(t)&&hn(t)=="[object Symbol]"},an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$r=/^\w*$/,Mn=function(t,e){if(mn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Ft(t))||$r.test(t)||!an.test(t)||e!=null&&t in Object(e)};function Ar(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var c=t.apply(this,r);return n.cache=i.set(a,c)||i,c};return n.cache=new(Ar.Cache||sn),n}Ar.Cache=sn;var Co=Ar,Io=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ui=/\\(\\)?/g,Eu=function(t){var e=Co(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Io,function(n,r,a,i){e.push(a?i.replace(Ui,"$1"):r||n)}),e}),Jo=Ut?Ut.prototype:void 0,xa=Jo?Jo.toString:void 0,br=function t(e){if(typeof e=="string")return e;if(mn(e))return ot(e,t)+"";if(Ft(e))return xa?xa.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Yi=function(t){return t==null?"":br(t)},_i=function(t,e){return mn(t)?t:Mn(t,e)?[t]:Eu(Yi(t))},Qo=function(t){if(typeof t=="string"||Ft(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},ei=function(t,e){for(var n=0,r=(e=_i(e,t)).length;t!=null&&n<r;)t=t[Qo(e[n++])];return n&&n==r?t:void 0},Su=function(t,e,n){var r=t==null?void 0:ei(t,e);return r===void 0?n:r},Qh=function(t,e){return t!=null&&e in Object(t)},ed=function(t,e,n){for(var r=-1,a=(e=_i(e,t)).length,i=!1;++r<a;){var c=Qo(e[r]);if(!(i=t!=null&&n(t,c)))break;t=t[c]}return i||++r!=a?i:!!(a=t==null?0:t.length)&&Do(a)&&jr(c,a)&&(mn(t)||go(t))},jf=function(t,e){return t!=null&&ed(t,e,Qh)},ds=function(t,e){return Mn(t)&&at(e)?tt(Qo(t),e):function(n){var r=Su(n,t);return r===void 0&&r===e?jf(n,t):Se(e,r,3)}},Ea=function(t){return t},Lc=function(t){return function(e){return e==null?void 0:e[t]}},td=function(t){return function(e){return ei(e,t)}},Pf=function(t){return Mn(t)?Lc(Qo(t)):td(t)},nd=function(t){return typeof t=="function"?t:t==null?Ea:typeof t=="object"?mn(t)?ds(t[0],t[1]):vn(t):Pf(t)},Mf=function(t){return function(e,n,r){for(var a=-1,i=Object(e),c=r(e),v=c.length;v--;){var b=c[t?v:++a];if(n(i[b],b,i)===!1)break}return e}}(),sr=function(t,e){return function(n,r){if(n==null)return n;if(!Kn(n))return t(n,r);for(var a=n.length,i=e?a:-1,c=Object(n);(e?i--:++i<a)&&r(c[i],i,c)!==!1;);return n}}(function(t,e){return t&&Mf(t,e,bi)}),_r=function(t,e){var n=-1,r=Kn(t)?Array(t.length):[];return sr(t,function(a,i,c){r[++n]=e(a,i,c)}),r},ys=function(t,e){return(mn(t)?ot:_r)(t,nd(e))};Object(p.n)({isolateGlobalState:!0});var vs=function(){try{var t=io(Object,"defineProperty");return t({},"",{}),t}catch{}}(),gs=function(t,e,n){e=="__proto__"&&vs?vs(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},rd=Object.prototype.hasOwnProperty,Sa=function(t,e,n){var r=t[e];rd.call(t,e)&&un(r,n)&&(n!==void 0||e in t)||gs(t,e,n)},Ro=function(t,e,n,r){var a=!n;n||(n={});for(var i=-1,c=e.length;++i<c;){var v=e[i],b=r?r(n[v],t[v],v,n,t):void 0;b===void 0&&(b=t[v]),a?gs(n,v,b):Sa(n,v,b)}return n},zc=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Vi=Math.max,ja=function(t,e,n){return e=Vi(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=Vi(r.length-e,0),c=Array(i);++a<i;)c[a]=r[e+a];a=-1;for(var v=Array(e+1);++a<e;)v[a]=r[a];return v[e]=n(c),zc(t,this,v)}},ju=function(t){return function(){return t}},ms=vs?function(t,e){return vs(t,"toString",{configurable:!0,enumerable:!1,value:ju(e),writable:!0})}:Ea,Pa=Date.now,od=function(t){var e=0,n=0;return function(){var r=Pa(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Af=od(ms),id=function(t,e){return Af(ja(t,e,Ea),t+"")},ad=function(t,e,n){if(!Nn(n))return!1;var r=typeof e;return!!(r=="number"?Kn(n)&&jr(e,n.length):r=="string"&&e in n)&&un(n[e],t)},Tf=function(t){return id(function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,c=a>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,c&&ad(n[0],n[1],c)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var v=n[r];v&&t(e,v,r,i)}return e})},bs=Object.prototype.hasOwnProperty,cr=Tf(function(t,e){if(No(e)||Kn(e))Ro(e,bi(e),t);else for(var n in e)bs.call(e,n)&&Sa(t,n,e[n])}),kf=function(t,e,n,r){if(!Nn(t))return t;for(var a=-1,i=(e=_i(e,t)).length,c=i-1,v=t;v!=null&&++a<i;){var b=Qo(e[a]),x=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(a!=c){var P=v[b];(x=r?r(P,b,v):void 0)===void 0&&(x=Nn(P)?P:jr(e[a+1])?[]:{})}Sa(v,b,x),v=v[b]}return t},F=function(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var c=e[r],v=ei(t,c);n(v,c)&&kf(i,_i(c,t),v)}return i},Ma=function(t,e){return F(t,e,function(n,r){return jf(t,r)})},Pu=Ut?Ut.isConcatSpreadable:void 0,uo=function(t){return mn(t)||go(t)||!!(Pu&&t&&t[Pu])},nn=function t(e,n,r,a,i){var c=-1,v=e.length;for(r||(r=uo),i||(i=[]);++c<v;){var b=e[c];n>0&&r(b)?n>1?t(b,n-1,r,a,i):vo(i,b):a||(i[i.length]=b)}return i},$i=function(t){return t!=null&&t.length?nn(t,1):[]},gn,Lo,Oi,so,Bc,Fc,Df,Nf,_s,Aa,Mu,Cf,Wc,zo,Os,wi,Kr,Gc,Hc,ti=function(t){return Af(ja(t,void 0,$i),t+"")}(function(t,e){return t==null?{}:Ma(t,e)});function An(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function If(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hn(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var fn,pr,Kt,qn,pt,wn,ws={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ni=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Xc=(Lo=Hn((gn=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),An(this,"isSilentMode",Lo,this),An(this,"stopZoomGraph",Oi,this),An(this,"stopScrollGraph",so,this),An(this,"stopMoveGraph",Bc,this),An(this,"adjustEdge",Fc,this),An(this,"adjustEdgeMiddle",Df,this),An(this,"adjustEdgeStartAndEnd",Nf,this),An(this,"adjustNodePosition",_s,this),An(this,"hideAnchors",Aa,this),An(this,"allowRotation",Mu,this),An(this,"hoverOutline",Cf,this),An(this,"nodeSelectedOutline",Wc,this),An(this,"edgeSelectedOutline",zo,this),An(this,"nodeTextEdit",Os,this),An(this,"edgeTextEdit",wi,this),An(this,"nodeTextDraggable",Kr,this),An(this,"edgeTextDraggable",Gc,this),An(this,"autoExpand",Hc,this),Rf(this,"multipleSelectKey",""),Rf(this,"defaultConfig",{}),cr(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);cr(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,i=r.textEdit,c={};if(a===!1&&cr(c,this.defaultConfig),a===!0&&a!==this.isSilentMode){var v=ti(ws,ni);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},cr(c,v)}i===!1&&cr(c,{nodeTextEdit:!1,edgeTextEdit:!1});var b=ti(r,ni);return cr(c,b)}},{key:"getConfig",value:function(){return ti(this,ni)}}])&&If(e.prototype,n),t}()).prototype,"isSilentMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oi=Hn(gn.prototype,"stopZoomGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),so=Hn(gn.prototype,"stopScrollGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bc=Hn(gn.prototype,"stopMoveGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fc=Hn(gn.prototype,"adjustEdge",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Df=Hn(gn.prototype,"adjustEdgeMiddle",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nf=Hn(gn.prototype,"adjustEdgeStartAndEnd",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_s=Hn(gn.prototype,"adjustNodePosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Aa=Hn(gn.prototype,"hideAnchors",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mu=Hn(gn.prototype,"allowRotation",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cf=Hn(gn.prototype,"hoverOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wc=Hn(gn.prototype,"nodeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zo=Hn(gn.prototype,"edgeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Os=Hn(gn.prototype,"nodeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wi=Hn(gn.prototype,"edgeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kr=Hn(gn.prototype,"nodeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gc=Hn(gn.prototype,"edgeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hc=Hn(gn.prototype,"autoExpand",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hn(gn.prototype,"updateEditConfig",[p.k],Object.getOwnPropertyDescriptor(gn.prototype,"updateEditConfig"),gn.prototype),gn);o(64),o(80),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(fn||(fn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(pr||(pr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Kt||(Kt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(qn||(qn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(pt||(pt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(wn||(wn={}));var xn,Bn,Lf,zf,xs,Ta,Uc,ka,Es;function Da(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Yc(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Yc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ri(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ud(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function co(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(xn||(xn={}));var Bf={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Ff=(Bn=function(){function t(r,a){(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),oi(this,"MINI_SCALE_SIZE",.2),oi(this,"MAX_SCALE_SIZE",16),ri(this,"SCALE_X",Lf,this),ri(this,"SKEW_Y",zf,this),ri(this,"SKEW_X",xs,this),ri(this,"SCALE_Y",Ta,this),ri(this,"TRANSLATE_X",Uc,this),ri(this,"TRANSLATE_Y",ka,this),ri(this,"ZOOM_SIZE",Es,this),oi(this,"eventCenter",void 0),oi(this,"translateLimitMinX",void 0),oi(this,"translateLimitMinY",void 0),oi(this,"translateLimitMaxX",void 0),oi(this,"translateLimitMaxY",void 0),this.eventCenter=r;var i=a.stopMoveGraph,c=i!==void 0&&i;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=Da(r,2),i=a[0],c=a[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=Da(r,2),i=a[0],c=a[1];return[i*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,i){var c=Da(r,2),v=c[0],b=c[1];return[v+a/this.SCALE_X,b+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,c=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,c=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(i-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*a[1]),this.SCALE_X=i,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(pt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+a<=this.translateLimitMaxY&&this.TRANSLATE_Y+a>=this.translateLimitMinY&&(this.TRANSLATE_Y+=a),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,i,c){var v=Da(this.CanvasPointToHtmlPoint([r,a]),2),b=i/2-v[0],x=c/2-v[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var a=Da(Array.isArray(r)&&r.length===4?r:Bf[r.toString()],4);this.translateLimitMinX=a[0],this.translateLimitMinY=a[1],this.translateLimitMaxX=a[2],this.translateLimitMaxY=a[3]}}],n&&ud(e.prototype,n),t}(),Lf=co(Bn.prototype,"SCALE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),zf=co(Bn.prototype,"SKEW_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xs=co(Bn.prototype,"SKEW_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ta=co(Bn.prototype,"SCALE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Uc=co(Bn.prototype,"TRANSLATE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ka=co(Bn.prototype,"TRANSLATE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Es=co(Bn.prototype,"ZOOM_SIZE",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),co(Bn.prototype,"zoom",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"zoom"),Bn.prototype),co(Bn.prototype,"resetZoom",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"resetZoom"),Bn.prototype),co(Bn.prototype,"translate",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"translate"),Bn.prototype),co(Bn.prototype,"focusOn",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"focusOn"),Bn.prototype),Bn),Ss=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Wf=function(t,e){return t&&Ro(e,bi(e),t)},Gf=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Hf=Object.prototype.hasOwnProperty,Vc=function(t){if(!Nn(t))return Gf(t);var e=No(t),n=[];for(var r in t)(r!="constructor"||!e&&Hf.call(t,r))&&n.push(r);return n},Na=function(t){return Kn(t)?Cn(t,!0):Vc(t)},$c=function(t,e){return t&&Ro(e,Na(e),t)},js=o(107),qt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},sd=function(t,e){return Ro(t,Sr(t),e)},Kc=Yr(Object.getPrototypeOf,Object),Ca=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)vo(e,Sr(t)),t=Kc(t);return e}:fs,Xf=function(t,e){return Ro(t,Ca(t),e)},cd=function(t){return ls(t,Na,Ca)},ld=Object.prototype.hasOwnProperty,lo=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&ld.call(t,"index")&&(n.index=t.index,n.input=t.input),n},qc=function(t){var e=new t.constructor(t.byteLength);return new fr(e).set(new fr(t)),e},Ps=function(t,e){var n=e?qc(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Zc=/\w*$/,Uf=function(t){var e=new t.constructor(t.source,Zc.exec(t));return e.lastIndex=t.lastIndex,e},Jc=Ut?Ut.prototype:void 0,Ir=Jc?Jc.valueOf:void 0,xi=function(t){return Ir?Object(Ir.call(t)):{}},Ms=function(t,e){var n=e?qc(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Yf=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return qc(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Ps(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ms(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Uf(t);case"[object Symbol]":return xi(t)}},Au=Object.create,Vf=function(){function t(){}return function(e){if(!Nn(e))return{};if(Au)return Au(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),As=function(t){return typeof t.constructor!="function"||No(t)?{}:Vf(Kc(t))},$f=function(t){return rn(t)&&O(t)=="[object Map]"},Ts=ur.a&&ur.a.isMap,Qc=Ts?mo(Ts):$f,Ei=function(t){return rn(t)&&O(t)=="[object Set]"},Kf=ur.a&&ur.a.isSet,Si=Kf?mo(Kf):Ei,el="[object Arguments]",tl="[object Function]",nl="[object Object]",En={};En[el]=En["[object Array]"]=En["[object ArrayBuffer]"]=En["[object DataView]"]=En["[object Boolean]"]=En["[object Date]"]=En["[object Float32Array]"]=En["[object Float64Array]"]=En["[object Int8Array]"]=En["[object Int16Array]"]=En["[object Int32Array]"]=En["[object Map]"]=En["[object Number]"]=En["[object Object]"]=En["[object RegExp]"]=En["[object Set]"]=En["[object String]"]=En["[object Symbol]"]=En["[object Uint8Array]"]=En["[object Uint8ClampedArray]"]=En["[object Uint16Array]"]=En["[object Uint32Array]"]=!0,En["[object Error]"]=En[tl]=En["[object WeakMap]"]=!1;var qf=function t(e,n,r,a,i,c){var v,b=1&n,x=2&n,P=4&n;if(r&&(v=i?r(e,a,i,c):r(e)),v!==void 0)return v;if(!Nn(e))return e;var D=mn(e);if(D){if(v=lo(e),!b)return qt(e,v)}else{var L=O(e),U=L==tl||L=="[object GeneratorFunction]";if(Object(ko.a)(e))return Object(js.a)(e,b);if(L==nl||L==el||U&&!i){if(v=x||U?{}:As(e),!b)return x?Xf(e,$c(v,e)):sd(e,Wf(v,e))}else{if(!En[L])return i?e:{};v=Yf(e,L,b)}}c||(c=new To);var Z=c.get(e);if(Z)return Z;c.set(e,v),Si(e)?e.forEach(function(ye){v.add(t(ye,n,r,ye,e,c))}):Qc(e)&&e.forEach(function(ye,be){v.set(be,t(ye,n,r,be,e,c))});var oe=D?void 0:(P?x?cd:bo:x?Na:bi)(e);return Ss(oe||e,function(ye,be){oe&&(ye=e[be=ye]),Sa(v,be,t(ye,n,r,be,e,c))}),v},Tn=function(t){return qf(t,5)},ks=function(t,e,n){(n!==void 0&&!un(t[e],n)||n===void 0&&!(e in t))&&gs(t,e,n)},Rr=function(t){return rn(t)&&Kn(t)},Bo=Function.prototype,Ds=Object.prototype,Ki=Bo.toString,Zf=Ds.hasOwnProperty,Jf=Ki.call(Object),Qf=function(t){if(!rn(t)||hn(t)!="[object Object]")return!1;var e=Kc(t);if(e===null)return!0;var n=Zf.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ki.call(n)==Jf},ji=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Tu=function(t){return Ro(t,Na(t))},ep=function(t,e,n,r,a,i,c){var v=ji(t,n),b=ji(e,n),x=c.get(b);if(x)ks(t,n,x);else{var P=i?i(v,b,n+"",t,e,c):void 0,D=P===void 0;if(D){var L=mn(b),U=!L&&Object(ko.a)(b),Z=!L&&!U&&Xi(b);P=b,L||U||Z?mn(v)?P=v:Rr(v)?P=qt(v):U?(D=!1,P=Object(js.a)(b,!0)):Z?(D=!1,P=Ms(b,!0)):P=[]:Qf(b)||go(b)?(P=v,go(v)?P=Tu(v):Nn(v)&&!yo(v)||(P=As(b))):D=!1}D&&(c.set(b,P),a(P,b,r,i,c),c.delete(b)),ks(t,n,P)}},tp=function t(e,n,r,a,i){e!==n&&Mf(n,function(c,v){if(i||(i=new To),Nn(c))ep(e,n,v,r,t,a,i);else{var b=a?a(ji(e,v),c,v+"",e,n,i):void 0;b===void 0&&(b=c),ks(e,v,b)}},Na)},ku=Tf(function(t,e,n){tp(t,e,n)}),np={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Du=function(t){var e=Tn(np);return t&&(e=ku(e,t)),e};o(81),o(163);function rl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ns=function(){function t(){var r,a,i;(function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}var e,n;return e=t,(n=[{key:"on",value:function(r,a,i){var c=this;return r==null||r.split(",").forEach(function(v){v=v.trim(),c._events[v]||(c._events[v]=[]),c._events[v].push({callback:a,once:!!i})}),this}},{key:"once",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),i.on(c,a,!0)})}},{key:"emit",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){var v=i._events[c]||[],b=i._events["*"]||[],x=function(P){for(var D=P.length,L=0;L<D;L++)if(P[L]){var U=P[L],Z=U.callback;U.once&&(P.splice(L,1),P.length===0&&delete i._events[c],D--,L--),Z.apply(i,[a])}};x(v),x(b)})}},{key:"off",value:function(r,a){var i=this;return r||(this._events={}),r.split(",").forEach(function(c){if(a){for(var v=i._events[c]||[],b=v.length,x=0;x<b;x++)v[x].callback===a&&(v.splice(x,1),b--,x--);v.length===0&&delete i._events[c]}else delete i._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&rl(e.prototype,n),t}();function Fo(t,e){return e*Math.round(t/e)||t}function Ia(t,e){return t%e}function Cs(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Is(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Is(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Is(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ol,Rs=function(t,e,n){var r=Cs(t,2),a=r[0],i=r[1],c=Cs(e,2),v=c[0],b=c[1],x=Cs(n,2),P=x[0],D=x[1];return a>v&&a<P&&i>b&&i<D},Wo=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n},rp=(o(82),o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47),new Uint8Array(16));function op(){if(!ol&&!(ol=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ol(rp)}for(var fd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ip=function(t){return typeof t=="string"&&fd.test(t)},kn=[],Nu=0;Nu<256;++Nu)kn.push((Nu+256).toString(16).substr(1));var il=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(kn[t[e+0]]+kn[t[e+1]]+kn[t[e+2]]+kn[t[e+3]]+"-"+kn[t[e+4]]+kn[t[e+5]]+"-"+kn[t[e+6]]+kn[t[e+7]]+"-"+kn[t[e+8]]+kn[t[e+9]]+"-"+kn[t[e+10]]+kn[t[e+11]]+kn[t[e+12]]+kn[t[e+13]]+kn[t[e+14]]+kn[t[e+15]]).toLowerCase();if(!ip(n))throw TypeError("Stringified UUID is invalid");return n},Cu=function(t,e,n){var r=(t=t||{}).random||(t.rng||op)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return il(r)},wo=function(){return Cu()},Ra=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,a){return r[a.id]=e+Cu(),a.id=r[a.id],r},{});return t.edges.forEach(function(r){r.id=e+Cu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Et=(o(105),o(127),function(t,e,n){var r=t.x,a=t.y;return(r-e.x)*(r-n.x)<=0&&(a-e.y)*(a-n.y)<=0});function La(t){return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function Ls(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ls(Object(n),!0).forEach(function(r){al(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function al(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ne,yr,ul,sl,ap,Go,Or,zs,Bs,up,za,cl,ll,fl,pl,sp,Fs,hl,Ba,Ws,dl,Gs=function(t){return t.anchors},qi=function(t,e){for(var n,r=e.nodes,a=r.length-1;a>=0;a--){var i=r[a];if(lp(t,i)){var c=i.getTargetAnchor(t);if(c){var v={node:i,anchorIndex:c.index,anchor:c.anchor};n&&!cp(i,n.node,e)||(n=v)}}}return n},cp=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},tr=function(t,e,n,r){return Math.hypot(t-n,e-r)},Lr=function(t,e){var n=!1,r=qr(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},lp=function(t,e){var n=!1,r=qr(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},qr=function(t){var e=t.x,n=t.y,r=t.width,a=t.height;return{minX:e-r/2,minY:n-a/2,maxX:e+r/2,maxY:n+a/2,x:e,y:n,width:r,height:a,centerX:e,centerY:n}},fp=function(t,e,n){var r,a=function(c){var v=c,b=v.x,x=v.y,P=v.width,D=v.height,L=v.radius;return[{x:b-P/2+L,y:x-D/2+L,r:L},{x:b+P/2-L,y:x-D/2+L,r:L},{x:b-P/2+L,y:x+D/2-L,r:L},{x:b+P/2-L,y:x+D/2-L,r:L}]}(n),i=Number.MAX_SAFE_INTEGER;return a.forEach(function(c){var v=tr(t.x,t.y,c.x,c.y);v<i&&(i=v,r=c)}),yl(t,e,r)},yl=function(t,e,n){var r,a=n,i=a.x,c=a.y,v=a.r;if(e===wn.HORIZONTAL){var b=i-Math.sqrt(v*v-(t.y-c)*(t.y-c)),x=i+Math.sqrt(v*v-(t.y-c)*(t.y-c));r={x:Math.abs(b-t.x)<Math.abs(x-t.x)?b:x,y:t.y}}else if(e===wn.VERTICAL){var P=c-Math.sqrt(v*v-(t.x-i)*(t.x-i)),D=c+Math.sqrt(v*v-(t.x-i)*(t.x-i)),L=Math.abs(P-t.y)<Math.abs(D-t.y)?P:D;r={x:t.x,y:L}}return r},vl=function(t,e){var n=e,r=!1,a=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,v=n.y+n.height/2-n.radius,b=n.x,x=n.y,P=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>a&&t.x<i:t.x!==b+P/2&&t.x!==b-P/2||(r=t.y>c&&t.y<v),r},gl=function(t,e,n){var r,a=n,i=a.x,c=a.y,v=a.rx,b=a.ry;if(e===wn.HORIZONTAL){var x=i-Math.sqrt(v*v-(t.y-c)*(t.y-c)*v*v/(b*b)),P=i+Math.sqrt(v*v-(t.y-c)*(t.y-c)*v*v/(b*b));r={x:Math.abs(x-t.x)<Math.abs(P-t.x)?x:P,y:t.y}}else if(e===wn.VERTICAL){var D=c-Math.sqrt(b*b-(t.x-i)*(t.x-i)*b*b/(v*v)),L=c+Math.sqrt(b*b-(t.x-i)*(t.x-i)*b*b/(v*v)),U=Math.abs(D-t.y)<Math.abs(L-t.y)?D:L;r={x:t.x,y:U}}return r},ml=function(t,e,n){for(var r,a=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,c=[],v=0;v<a.length;v++)c.push({start:a[v],end:a[(v+1)%a.length]});return c.forEach(function(b){var x=b.start,P=b.end,D=x,L=P;x.x>P.x&&(D=P,L=x);var U={x:t.x,y:t.y};if(D.x===L.x&&e===wn.HORIZONTAL&&(U={x:D.x,y:t.y}),D.y===L.y&&e===wn.VERTICAL&&(U={x:t.x,y:D.y}),D.x!==L.x&&D.y!==L.y){var Z=(L.y-D.y)/(L.x-D.x),oe=(D.x*L.y-L.x*D.y)/(D.x-L.x);e===wn.HORIZONTAL?U={x:(t.y-oe)/Z,y:t.y}:e===wn.VERTICAL&&(U={x:t.x,y:Z*t.x+oe})}if(Et(U,x,P)){var ye=tr(U.x,U.y,t.x,t.y);ye<i&&(i=ye,r=U)}}),r},bl=function(t,e,n,r){var a=t.x,i=t.y;return e.x>t.x?a=t.x+n/2:e.x<t.x&&(a=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:a,y:i}},pp=function(t){var e=t.rows,n=t.style,r=t.rowsLength,a=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=a,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach(function(v){var b=document.createElement("div");b.textContent=v,i.appendChild(b)}):i.textContent=e,document.body.appendChild(i);var c=i.clientHeight;return document.body.removeChild(i),c},_l=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,a=0;return e&&e.forEach(function(i){var c=Hl(i);a=c>a?c:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},Iu=function(t){return La(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},Sn=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},pd=1e3,hp=999,Ol=function(){return++pd};function Hs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hs(Object(n),!0).forEach(function(r){Br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Br(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var wl=(Ne=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Br(this,"id",""),nr(this,"type",yr,this),nr(this,"sourceNodeId",ul,this),nr(this,"targetNodeId",sl,this),nr(this,"startPoint",ap,this),nr(this,"endPoint",Go,this),nr(this,"text",Or,this),nr(this,"properties",zs,this),nr(this,"points",Bs,this),nr(this,"pointsList",up,this),nr(this,"isSelected",za,this),nr(this,"isHovered",cl,this),nr(this,"isHitable",ll,this),nr(this,"draggable",fl,this),nr(this,"visible",pl,this),Br(this,"virtual",!1),nr(this,"isAnimation",sp,this),nr(this,"isShowAdjustPoint",Fs,this),Br(this,"graphModel",void 0),nr(this,"zIndex",hl,this),Br(this,"BaseType",qn.EDGE),Br(this,"modelType",Kt.EDGE),nr(this,"state",Ba,this),Br(this,"additionStateData",void 0),Br(this,"sourceAnchorId",""),Br(this,"targetAnchorId",""),Br(this,"menu",void 0),Br(this,"customTextPosition",!1),nr(this,"style",Ws,this),nr(this,"arrowConfig",dl,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||wo()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var v=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=v,cr(this,Ap(r)),this.graphModel.overlapMode===xn.INCREASE&&(this.zIndex=r.zIndex||Ol()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return zr(zr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return zr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Tn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Tn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),a=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,c=this.isAnimation?a.stroke:r.stroke;return zr(zr({},r),{},{fill:c,stroke:c},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Tn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var i,c;return Gs(r).forEach(function(v){var b=Yl(v,a);(c===void 0||b<c)&&(c=b,i=v)}),i}},{key:"getEndAnchor",value:function(r){var a,i,c=this;return Gs(r).forEach(function(v){var b=Yl(v,c.startPoint);(i===void 0||b<i)&&(i=b,a=v)}),a}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,v={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(p.I)(this.properties)};return c&&(v.text={x:a,y:i,value:c}),this.graphModel.overlapMode===xn.INCREASE&&(v.zIndex=this.zIndex),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=Sn(a),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=zr(zr({},Object(p.I)(this.properties)),Sn(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var a=this.arrowConfig,i=a.markerEnd,c=a.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,a){this.style=zr(zr({},this.style),{},Br({},r,Sn(a)))}},{key:"setStyles",value:function(r){this.style=zr(zr({},this.style),Sn(r))}},{key:"updateStyles",value:function(r){this.style=zr({},Sn(r))}},{key:"formatText",value:function(r){var a=this.textPosition,i=a.x,c=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,i=r.y;this.text.x=a,this.text.y=i}},{key:"moveText",value:function(r,a){if(this.text){var i=this.text,c=i.x,v=i.y,b=i.value,x=i.draggable,P=i.editable;this.text={value:b,draggable:x,x:c+r,y:v+a,editable:P}}}},{key:"setText",value:function(r){r&&cr(this.text,r)}},{key:"updateText",value:function(r){this.text=zr(zr({},Object(p.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){cr(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,i=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&hd(e.prototype,n),t}(),yr=Pt(Ne.prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ul=Pt(Ne.prototype,"sourceNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sl=Pt(Ne.prototype,"targetNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ap=Pt(Ne.prototype,"startPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Go=Pt(Ne.prototype,"endPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Or=Pt(Ne.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),zs=Pt(Ne.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Bs=Pt(Ne.prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),up=Pt(Ne.prototype,"pointsList",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),za=Pt(Ne.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cl=Pt(Ne.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ll=Pt(Ne.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fl=Pt(Ne.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pl=Pt(Ne.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sp=Pt(Ne.prototype,"isAnimation",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fs=Pt(Ne.prototype,"isShowAdjustPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hl=Pt(Ne.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ba=Pt(Ne.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ws=Pt(Ne.prototype,"style",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dl=Pt(Ne.prototype,"arrowConfig",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Pt(Ne.prototype,"sourceNode",[p.m],Object.getOwnPropertyDescriptor(Ne.prototype,"sourceNode"),Ne.prototype),Pt(Ne.prototype,"targetNode",[p.m],Object.getOwnPropertyDescriptor(Ne.prototype,"targetNode"),Ne.prototype),Pt(Ne.prototype,"textPosition",[p.m],Object.getOwnPropertyDescriptor(Ne.prototype,"textPosition"),Ne.prototype),Pt(Ne.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperty"),Ne.prototype),Pt(Ne.prototype,"deleteProperty",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteProperty"),Ne.prototype),Pt(Ne.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperties"),Ne.prototype),Pt(Ne.prototype,"changeEdgeId",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"changeEdgeId"),Ne.prototype),Pt(Ne.prototype,"setStyle",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyle"),Ne.prototype),Pt(Ne.prototype,"setStyles",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyles"),Ne.prototype),Pt(Ne.prototype,"updateStyles",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateStyles"),Ne.prototype),Pt(Ne.prototype,"formatText",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"formatText"),Ne.prototype),Pt(Ne.prototype,"resetTextPosition",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"resetTextPosition"),Ne.prototype),Pt(Ne.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveText"),Ne.prototype),Pt(Ne.prototype,"setText",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setText"),Ne.prototype),Pt(Ne.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateText"),Ne.prototype),Pt(Ne.prototype,"setAnchors",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setAnchors"),Ne.prototype),Pt(Ne.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setSelected"),Ne.prototype),Pt(Ne.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHovered"),Ne.prototype),Pt(Ne.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHitable"),Ne.prototype),Pt(Ne.prototype,"openEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"openEdgeAnimation"),Ne.prototype),Pt(Ne.prototype,"closeEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"closeEdgeAnimation"),Ne.prototype),Pt(Ne.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setElementState"),Ne.prototype),Pt(Ne.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateStartPoint"),Ne.prototype),Pt(Ne.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveStartPoint"),Ne.prototype),Pt(Ne.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateEndPoint"),Ne.prototype),Pt(Ne.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveEndPoint"),Ne.prototype),Pt(Ne.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setZIndex"),Ne.prototype),Pt(Ne.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"initPoints"),Ne.prototype),Pt(Ne.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateAttributes"),Ne.prototype),Pt(Ne.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getAdjustStart"),Ne.prototype),Pt(Ne.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getAdjustEnd"),Ne.prototype),Pt(Ne.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateAfterAdjustStartAndEnd"),Ne.prototype),Ne),xl=wl;function El(t){return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function dp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dp(Object(n),!0).forEach(function(r){gp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fa(){return Fa=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=yd(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Fa.apply(this,arguments)}function yd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zi(t))!==null;);return t}function Sl(t,e){return Sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sl(t,e)}function vd(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zi(t);if(e){var a=Zi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gd(this,n)}}function gd(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jl(t)}function jl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zi(t){return Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zi(t)}function gp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt,mp,Ji=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sl(i,c)})(a,t);var e,n,r=vd(a);function a(){var i;dd(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return gp(jl(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.LINE_EDGE),i}return e=a,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return yp(yp({},Fa(Zi(a.prototype),"getEdgeStyle",this).call(this)),Tn(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&vp(e.prototype,n),a}(xl);function Pl(t){return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function md(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ru(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ru(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ru(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ml(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ml(Object(n),!0).forEach(function(r){kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tl(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lu(){return Lu=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=bd(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Lu.apply(this,arguments)}function bd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ii(t))!==null;);return t}function Wa(t,e){return Wa=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wa(t,e)}function Xs(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ii(t);if(e){var a=ii(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _d(this,n)}}function _d(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qi(t)}function Qi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ii(t){return ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ii(t)}function kl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dn(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Us=(Wt=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Wa(i,c)})(a,t);var e,n,r=Xs(a);function a(){var i;bp(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return kl(Qi(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYLINE_EDGE),kl(Qi(i),"draggingPointList",void 0),Tl(Qi(i),"dbClickPosition",mp,Qi(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Lu(ii(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return Al(Al({},Lu(ii(a.prototype),"getEdgeStyle",this).call(this)),Tn(i))}},{key:"getTextPosition",value:function(){var i,c=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!c){var v=this.dbClickPosition;return{x:v.x,y:v.y}}var b=Ai(this.points),x=md(jp(b),2),P=x[0],D=x[1];return{x:(P.x+D.x)/2,y:(P.y+D.y)/2}}},{key:"getAfterAnchor",value:function(i,c,v){var b,x;return v.forEach(function(P){var D;i===wn.HORIZONTAL?D=Math.abs(c.y-P.y):i===wn.VERTICAL&&(D=Math.abs(c.x-P.x)),(!x||x>D)&&(x=D,b=P)}),b}},{key:"getCrossPoint",value:function(i,c,v){var b;return i===wn.HORIZONTAL?b={x:v.x,y:c.y}:i===wn.VERTICAL&&(b={x:c.x,y:v.y}),b}},{key:"removeCrossPoints",value:function(i,c,v){var b=v.map(function(be){return be});if(i===1){var x=b[i],P=b[c],D=b[i-1];if(Fl(D,x,this.sourceNode)){if(Wl(x,P,this.sourceNode)){var L=rr(x,P,this.sourceNode);L&&(b[i]=L,b.splice(i-1,1),i--,c--)}}else this.sourceNode.anchors.forEach(function(be){(be.x===D.x&&be.x===x.x||be.y===D.y&&be.y===x.y)&&tr(be.x,be.y,x.x,x.y)<tr(D.x,D.y,x.x,x.y)&&(b[i-1]=be)})}if(c===v.length-2){var U=b[i],Z=b[c],oe=b[c+1];if(Fl(Z,oe,this.targetNode)){if(Wl(U,Z,this.targetNode)){var ye=rr(U,Z,this.targetNode);ye&&(b[c]=ye,b.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(be){(be.x===oe.x&&be.x===Z.x||be.y===oe.y&&be.y===Z.y)&&tr(be.x,be.y,Z.x,Z.y)<tr(oe.x,oe.y,Z.x,Z.y)&&(b[c+1]=be)})}return b}},{key:"getDraggingPoints",value:function(i,c,v,b,x){var P=x.map(function(U){return U}),D=this.getAfterAnchor(i,v,b),L=this.getCrossPoint(i,v,D);return c==="start"?(P.unshift(L),P.unshift(D)):(P.push(L),P.push(D)),P}},{key:"updateCrossPoints",value:function(i){var c=i.map(function(Te){return Te}),v=i[0],b=i[1],x=i[c.length-2],P=i[c.length-1],D=this.sourceNode,L=this.targetNode,U=D.modelType,Z=L.modelType,oe=hr(v,b),ye=c[0];switch(U){case Kt.RECT_NODE:D.radius!==0&&(vl(v,D)||(ye=fp(v,oe,D)));break;case Kt.CIRCLE_NODE:ye=yl(v,oe,D);break;case Kt.ELLIPSE_NODE:ye=gl(v,oe,D);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:ye=ml(v,oe,D)}c[0]=ye;var be=hr(x,P),Ee=c[c.length-1];switch(Z){case Kt.RECT_NODE:L.radius!==0&&(vl(P,L)||(Ee=fp(P,be,L)));break;case Kt.CIRCLE_NODE:Ee=yl(P,be,L);break;case Kt.ELLIPSE_NODE:Ee=gl(P,be,L);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:Ee=ml(P,be,L)}return c[c.length-1]=Ee,c}},{key:"getData",value:function(){var i=Lu(ii(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Object.assign({},i,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Gu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,c){this.isDragging=!0;var v=i.start,b=i.end,x=i.startIndex,P=i.endIndex,D=i.direction,L=this.pointsList,U=L;return D===wn.HORIZONTAL?(L[x]={x:v.x,y:v.y+c.y},L[P]={x:b.x,y:b.y+c.y},U=this.pointsList.map(function(Z){return Z})):D===wn.VERTICAL&&(L[x]={x:v.x+c.x,y:v.y},L[P]={x:b.x+c.x,y:b.y},U=this.pointsList.map(function(Z){return Z})),this.updatePointsAfterDrag(U),this.draggingPointList=U,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[P]),startIndex:x,endIndex:P,direction:D}}},{key:"dragAppend",value:function(i,c){this.isDragging=!0;var v=i.start,b=i.end,x=i.startIndex,P=i.endIndex,D=i.direction,L=this.pointsList;if(D===wn.HORIZONTAL){L[x]={x:v.x,y:v.y+c.y},L[P]={x:b.x,y:b.y+c.y};var U=this.pointsList.map(function(Qe){return Qe});if(x!==0&&P!==this.pointsList.length-1&&(U=this.removeCrossPoints(x,P,U)),x===0){var Z={x:v.x,y:v.y+c.y};if(!Lr(Z,this.sourceNode)){var oe=this.sourceNode.anchors;U=this.getDraggingPoints(D,"start",Z,oe,U)}}if(P===this.pointsList.length-1){var ye={x:b.x,y:b.y+c.y};if(!Lr(ye,this.targetNode)){var be=this.targetNode.anchors;U=this.getDraggingPoints(D,"end",ye,be,U)}}this.updatePointsAfterDrag(U),this.draggingPointList=U}else if(D===wn.VERTICAL){L[x]={x:v.x+c.x,y:v.y},L[P]={x:b.x+c.x,y:b.y};var Ee=this.pointsList.map(function(Qe){return Qe});if(x!==0&&P!==this.pointsList.length-1&&(Ee=this.removeCrossPoints(x,P,Ee)),x===0){var Te={x:v.x+c.x,y:v.y};if(!Lr(Te,this.sourceNode)){var Ze=this.sourceNode.anchors;Ee=this.getDraggingPoints(D,"start",Te,Ze,Ee)}}if(P===this.pointsList.length-1){var et={x:b.x+c.x,y:b.y};if(!Lr(et,this.targetNode)){var Ot=this.targetNode.anchors;Ee=this.getDraggingPoints(D,"end",et,Ot,Ee)}}this.updatePointsAfterDrag(Ee),this.draggingPointList=Ee}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[P]),startIndex:x,endIndex:P,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=Wu(Ai(this.points));this.pointsList=i.map(function(b){return b}),this.draggingPointList=[];var c=i[0];this.startPoint=Object.assign({},c);var v=i[i.length-1];this.endPoint=Object.assign({},v)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var c=this.updateCrossPoints(i);this.points=c.map(function(v){return"".concat(v.x,",").concat(v.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,v=i.endPoint,b=i.sourceNode,x=i.targetNode,P=Gu({x:c.x,y:c.y},{x:v.x,y:v.y},b,x,this.offset||0);this.pointsList=P,this.initPoints()}}])&&_p(e.prototype,n),a}(xl),mp=Dn(Wt.prototype,"dbClickPosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn(Wt.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"initPoints"),Wt.prototype),Dn(Wt.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePoints"),Wt.prototype),Dn(Wt.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateStartPoint"),Wt.prototype),Dn(Wt.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveStartPoint"),Wt.prototype),Dn(Wt.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateEndPoint"),Wt.prototype),Dn(Wt.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveEndPoint"),Wt.prototype),Dn(Wt.prototype,"dragAppendStart",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendStart"),Wt.prototype),Dn(Wt.prototype,"dragAppendSimple",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendSimple"),Wt.prototype),Dn(Wt.prototype,"dragAppend",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppend"),Wt.prototype),Dn(Wt.prototype,"dragAppendEnd",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendEnd"),Wt.prototype),Dn(Wt.prototype,"updatePointsAfterDrag",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePointsAfterDrag"),Wt.prototype),Dn(Wt.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustStart"),Wt.prototype),Dn(Wt.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustEnd"),Wt.prototype),Dn(Wt.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateAfterAdjustStartAndEnd"),Wt.prototype),Wt),zu=function(t){var e=t.start,n=t.end,r=t.offset,a=t.verticalLength,i=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},v=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/a),x=Math.sqrt(a*a+r*r);return i==="start"?n.x>=e.x?(c.leftX=e.x+x*Math.sin(v+b),c.leftY=e.y-x*Math.cos(v+b),c.rightX=e.x-x*Math.sin(v-b),c.rightY=e.y+x*Math.cos(v-b)):(c.leftX=e.x-x*Math.sin(v+b),c.leftY=e.y+x*Math.cos(v+b),c.rightX=e.x+x*Math.sin(v-b),c.rightY=e.y-x*Math.cos(v-b)):i==="end"&&(n.x>=e.x?(c.leftX=n.x+x*Math.sin(v-b),c.leftY=n.y-x*Math.cos(v-b),c.rightX=n.x-x*Math.sin(v+b),c.rightY=n.y+x*Math.cos(v+b)):(c.leftX=n.x-x*Math.sin(v-b),c.leftY=n.y+x*Math.cos(v-b),c.rightX=n.x+x*Math.sin(v+b),c.rightY=n.y-x*Math.cos(v+b))),c},ea={x:1,y:0,z:0};function Gt(t,e,n,r,a){for(var i=function(Z){if(Z<0||Z>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-Z,3)+3*e.x*Z*Math.pow(1-Z,2)+3*n.x*Math.pow(Z,2)*(1-Z)+r.x*Math.pow(Z,3),y:t.y*Math.pow(1-Z,3)+3*e.y*Z*Math.pow(1-Z,2)+3*n.y*Math.pow(Z,2)*(1-Z)+r.y*Math.pow(Z,3)}},c=0,v=2,b=r.x,x=r.y,P=r;c<a&&v<50;){var D=P=i(1-v/100),L=D.x,U=D.y;c=tr(b,x,L,U),v++}return P}function Op(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Tr(t){return r=function(i,c){return i.x*c.y-i.y*c.x}(e=ea,n=t),a=Math.acos(function(i,c){var v=[i.x,i.y,i.z];return[c.x,c.y,c.z].reduce(function(b,x,P){return b+x*v[P]})}(Op(e),Op(n))),r>=0?a:-a;var e,n,r,a}function Xn(t){return t*(180/Math.PI)}function ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ai(Object(n),!0).forEach(function(r){Dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ui(t){return function(e){if(Array.isArray(e))return Rn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||In(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vs(t){return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function ta(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||In(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function In(t,e){if(t){if(typeof t=="string")return Rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(t,e):void 0}}function Rn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wp=function(t,e){var n;switch(t.type){case"line":default:n=new Ji(t,e);break;case"polyline":n=new Us(t,e)}return n},Nl=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},si=function(t){var e=[],n={};return t.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Cl=function(t,e){var n=[t,{x:t.x,y:e.y},e];return si(n)},Ga=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Bu=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?wn.HORIZONTAL:wn.VERTICAL},vr=function(t,e,n){return Bu(n,e)===wn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Mi=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),a=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+a)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:a,maxY:i,height:i-r,width:a-n}},Ha=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(P){n.push(P.x),r.push(P.y)});var a=Math.min.apply(Math,n),i=Math.max.apply(Math,n),c=Math.min.apply(Math,r),v=Math.max.apply(Math,r),b=i-a,x=v-c;return e&&(b+=e,x+=e),{centerX:(a+i)/2,centerY:(c+v)/2,maxX:i,maxY:v,minX:a,minY:c,x:(a+i)/2,y:(c+v)/2,height:x,width:b}},Fu=function(t){var e=t.minX,n=t.minY,r=t.maxX,a=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:a},{x:e,y:a}]},Xa=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Ho=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Yt=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Il=function(t,e){return Ho(t,e.x).concat(Yt(t,e.y))},kr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Rl=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},pn=function(t,e,n,r,a){return kr(t,e)+kr(t,n)+Rl(t,[e,n,r,a])},xp=function t(e,n,r,a,i){i||(i=0),e.unshift(n[a]),r[a]&&r[a]!==a&&i<=100&&t(e,n,r,r[a],i+1)},Ll=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},ci=function(t,e,n,r){var a=e.x-t.x,i=e.y-t.y,c=r.x-n.x,v=r.y-n.y,b=(-i*(t.x-n.x)+a*(t.y-n.y))/(-c*i+a*v),x=(c*(t.y-n.y)-v*(t.x-n.x))/(-c*i+a*v);return b>=0&&b<=1&&x>=0&&x<=1},zl=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=ta(Fu(n),4),a=r[0],i=r[1],c=r[2],v=r[3];return ci(t,e,a,i)||ci(t,e,a,v)||ci(t,e,i,c)||ci(t,e,c,v)},Ep=function(t,e,n,r){var a=[];return t.forEach(function(i){i!==e&&(i.x!==e.x&&i.y!==e.y||zl(i,e,n)||zl(i,e,r)||a.push(i))}),si(a)},Sp=function(t,e,n,r,a,i,c){var v=[],b=[e],x={},P={},D={};P[e.id]=0,D[e.id]=pn(e,n,e);var L={};t.forEach(function(oe){L[oe.id]=oe});for(var U=function(){var oe=void 0,ye=1/0;if(b.forEach(function(Ee){D[Ee.id]<ye&&(ye=D[Ee.id],oe=Ee)}),oe===n){var be=[];return xp(be,L,x,n.id),{v:be}}Ll(b,oe),v.push(oe),Ep(t,oe,r,a).forEach(function(Ee){if(v.indexOf(Ee)===-1){b.indexOf(Ee)===-1&&b.push(Ee);var Te=D[oe.id]+kr(oe,Ee);P[Ee.id]&&Te>=P[Ee.id]||(x[Ee.id]=oe.id,P[Ee.id]=Te,D[Ee.id]=P[Ee.id]+pn(Ee,n,e,i,c))}})};b.length;){var Z=U();if(Vs(Z)==="object")return Z.v}return[e,n]},Bl=function(t){return qr(t)},Wu=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],a=t[e+1];n.x===r.x&&r.x===a.x||n.y===r.y&&r.y===a.y?t.splice(e,1):e++}return t},Gu=function(t,e,n,r,a){var i=Bl(n),c=Bl(r),v=Ga(i,a),b=Ga(c,a),x=vr(v,i,t),P=vr(b,c,e);if(Nl(v,b)){var D=Gl(t,e,x,P);return[t,x].concat(ui(D),[P,e])}var L=Ha([x,P]),U=Mi(v,L),Z=Mi(b,L),oe=[];oe=(oe=oe.concat(Fu(U))).concat(Fu(Z));var ye={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[L,U,Z].forEach(function(Ee){oe=oe.concat(Il(Ee,ye).filter(function(Te){return Xa(Te,v)&&Xa(Te,b)}))}),[{x:x.x,y:P.y},{x:P.x,y:x.y}].forEach(function(Ee){Xa(Ee,v)&&Xa(Ee,b)&&oe.push(Ee)}),oe.unshift(x),oe.push(P),oe=si(oe);var be=Sp(oe,x,P,i,c,t,e);return be.unshift(t),be.push(e),be.length>2&&(be=Wu(be)),si(be)},jp=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],a=tr(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var c=t[i],v=t[i+1],b=tr(c.x,c.y,v.x,v.y);b>a&&(a=b,n=c,r=v)}e=[n,r]}return e},Fl=function(t,e,n){var r=Lr(t,n),a=Lr(e,n);return r&&a},Wl=function(t,e,n){var r=Lr(t,n),a=Lr(e,n);return!(r&&a)&&(r||a)},rr=function(t,e,n){for(var r,a,i=qr(n),c=Fu(i),v=0;v<c.length;v++)ci(t,e,c[v],c[(v+1)%c.length])&&(a=[c[v],c[(v+1)%c.length]]);return a&&(r=function(b,x,P,D){var L=(x.y-b.y)*(D.x-P.x)-(b.x-x.x)*(P.y-D.y);if(L===0)return!1;var U=((x.x-b.x)*(D.x-P.x)*(P.y-b.y)+(x.y-b.y)*(D.x-P.x)*b.x-(D.y-P.y)*(x.x-b.x)*P.x)/L,Z=-((x.y-b.y)*(D.y-P.y)*(P.x-b.x)+(x.x-b.x)*(D.y-P.y)*b.y-(D.x-P.x)*(x.y-b.y)*P.y)/L;return(U-b.x)*(U-x.x)<=0&&(Z-b.y)*(Z-x.y)<=0&&(U-P.x)*(U-D.x)<=0&&(Z-P.y)*(Z-D.y)<=0&&{x:U,y:Z}}(t,e,a[0],a[1])),r},hr=function(t,e){var n;return t.x===e.x?n=wn.VERTICAL:t.y===e.y&&(n=wn.HORIZONTAL),n},Ai=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var a=ta(r.split(","),2),i=a[0],c=a[1];n.push({x:Number(i),y:Number(c)})}),n},Gl=function(t,e,n,r){var a=[];if(hr(t,n)===hr(e,r))t.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},c=Et(i,t,n),v=Et(i,e,r);if(c||v)i={x:r.x,y:n.y};else{var b=Pp(i,t,n),x=Pp(i,e,r);b&&x&&(i={x:r.x,y:n.y})}a.push(i)}return a},Pp=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Hl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},$s=null,Mp=function(t,e){$s||($s=document.createElement("canvas"));var n=$s.getContext("2d");return n.font=e,n.measureText(t).width},Xl=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var a={start:n,end:r,offset:10,verticalLength:5},i=zu(Ys(Ys({},a),{},{type:"start"})),c=zu(Ys(Ys({},a),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY,` 
    L`).concat(i.rightX," ").concat(i.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Ti=function(t){var e=t.start,n=t.end,r=t.sourceNode,a=t.targetNode,i=t.offset,c=qr(r),v=qr(a),b=Ga(c,i),x=Ga(v,i);return{sNext:vr(b,c,e),ePre:vr(x,v,n)}},Ks=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Hu(e[0]),Hu(e[1]),Hu(e[2]),Hu(e[3])]},Hu=function(t){var e=ta(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},qs=function(t,e){var n=ta(t,4);return[Gt(n[0],n[1],n[2],n[3],e),t[3]]},Ul=function(t,e){for(var n,r=t.x,a=t.y,i=Ai(e),c=Number.MAX_SAFE_INTEGER,v=[],b=0;b<i.length;b++)v.push({start:i[b],end:i[(b+1)%i.length]});if(v.forEach(function(L){var U=L.start,Z=L.end;if(U.x===Z.x){var oe={x:U.x,y:a};if(Et(oe,U,Z)){var ye=Math.abs(U.x-r);ye<c&&(c=ye,n=oe)}}else if(U.y===Z.y){var be={x:r,y:U.y};if(Et(be,U,Z)){var Ee=Math.abs(U.y-a);Ee<c&&(c=Ee,n=be)}}}),!n){var x=v[0],P=x.start,D=x.end;n={x:P.x+(D.x-P.x)/2,y:P.y+(D.y-P.y)/2}}return n},Ap=function(t){return ti(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Yl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Tp(t,e){return typeof e!="function"?function(n,r,a){return Object.assign({type:t.edgeType},a)}:function(n,r,a){var i=e(n,r,a);return i?typeof i=="string"?Object.assign({},a,{type:i}):Object.assign({type:i},a):{type:t.edgeType}}}o(206);var Ua=function(){};function Od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xo=window.document;function kp(t){var e=t.onDragStart,n=e===void 0?Ua:e,r=t.onDragging,a=r===void 0?Ua:r,i=t.onDragEnd,c=i===void 0?Ua:i,v=t.step,b=v===void 0?1:v,x=t.isStopPropagation,P=x===void 0||x,D=!1,L=!1,U=0,Z=0,oe=0,ye=0;function be(Te){if(P&&Te.stopPropagation(),L&&(D=!0,oe+=Te.clientX-U,ye+=Te.clientY-Z,U=Te.clientX,Z=Te.clientY,Math.abs(oe)>b||Math.abs(ye)>b)){var Ze=oe%b,et=ye%b,Ot=oe-Ze,Qe=ye-et;oe=Ze,ye=et,a({deltaX:Ot,deltaY:Qe,event:Te})}}function Ee(Te){if(P&&Te.stopPropagation(),L=!1,xo.removeEventListener("mousemove",be,!1),xo.removeEventListener("mouseup",Ee,!1),D)return D=!1,c({event:Te})}return function(Te){if(Te.button===0)return P&&Te.stopPropagation(),L=!0,U=Te.clientX,Z=Te.clientY,xo.addEventListener("mousemove",be,!1),xo.addEventListener("mouseup",Ee,!1),n({event:Te})}}var Xo=function(){function t(r){var a=this,i=r.onDragStart,c=i===void 0?Ua:i,v=r.onDragging,b=v===void 0?Ua:v,x=r.onDragEnd,P=x===void 0?Ua:x,D=r.eventType,L=D===void 0?"":D,U=r.eventCenter,Z=U===void 0?null:U,oe=r.step,ye=oe===void 0?1:oe,be=r.isStopPropagation,Ee=be===void 0||be,Te=r.model,Ze=Te===void 0?null:Te,et=r.data,Ot=et===void 0?null:et;(function(Qe,wt){if(!(Qe instanceof wt))throw new TypeError("Cannot call a class as a function")})(this,t),Un(this,"onDragStart",void 0),Un(this,"onDragging",void 0),Un(this,"onDragEnd",void 0),Un(this,"step",void 0),Un(this,"isStopPropagation",void 0),Un(this,"isDragging",!1),Un(this,"isStartDragging",!1),Un(this,"startX",0),Un(this,"startY",0),Un(this,"sumDeltaX",0),Un(this,"sumDeltaY",0),Un(this,"eventType",void 0),Un(this,"eventCenter",void 0),Un(this,"model",void 0),Un(this,"data",void 0),Un(this,"startTime",void 0),Un(this,"handleMouseDown",function(Qe){var wt,rt;if(Qe.button===0){a.isStopPropagation&&Qe.stopPropagation(),a.isStartDragging=!0,a.startX=Qe.clientX,a.startY=Qe.clientY,xo.addEventListener("mousemove",a.handleMouseMove,!1),xo.addEventListener("mouseup",a.handleMouseUp,!1);var tn=(wt=a.model)===null||wt===void 0?void 0:wt.getData();(rt=a.eventCenter)===null||rt===void 0||rt.emit(pt["".concat(a.eventType,"_MOUSEDOWN")],{e:Qe,data:a.data||tn}),a.startTime=new Date().getTime()}}),Un(this,"handleMouseMove",function(Qe){if(a.isStopPropagation&&Qe.stopPropagation(),a.isStartDragging&&(a.sumDeltaX+=Qe.clientX-a.startX,a.sumDeltaY+=Qe.clientY-a.startY,a.startX=Qe.clientX,a.startY=Qe.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var wt,rt=a.sumDeltaX%a.step,tn=a.sumDeltaY%a.step,on=a.sumDeltaX-rt,Ht=a.sumDeltaY-tn;a.sumDeltaX=rt,a.sumDeltaY=tn;var cn,Zn=(wt=a.model)===null||wt===void 0?void 0:wt.getData();a.isDragging||((cn=a.eventCenter)===null||cn===void 0||cn.emit(pt["".concat(a.eventType,"_DRAGSTART")],{e:Qe,data:a.data||Zn}),a.onDragStart({event:Qe})),a.isDragging=!0,Promise.resolve().then(function(){var Jn,eo;a.onDragging({deltaX:on,deltaY:Ht,event:Qe}),(Jn=a.eventCenter)===null||Jn===void 0||Jn.emit(pt["".concat(a.eventType,"_MOUSEMOVE")],{e:Qe,data:a.data||Zn}),(eo=a.eventCenter)===null||eo===void 0||eo.emit(pt["".concat(a.eventType,"_DRAG")],{e:Qe,data:a.data||Zn})})}}),Un(this,"handleMouseUp",function(Qe){a.isStartDragging=!1,a.isStopPropagation&&Qe.stopPropagation(),Promise.resolve().then(function(){var wt,rt,tn;xo.removeEventListener("mousemove",a.handleMouseMove,!1),xo.removeEventListener("mouseup",a.handleMouseUp,!1);var on=(wt=a.model)===null||wt===void 0?void 0:wt.getData();(rt=a.eventCenter)===null||rt===void 0||rt.emit(pt["".concat(a.eventType,"_MOUSEUP")],{e:Qe,data:a.data||on}),a.isDragging&&(a.isDragging=!1,a.onDragEnd({event:Qe}),(tn=a.eventCenter)===null||tn===void 0||tn.emit(pt["".concat(a.eventType,"_DROP")],{e:Qe,data:a.data||on}))})}),Un(this,"cancelDrag",function(){xo.removeEventListener("mousemove",a.handleMouseMove,!1),xo.removeEventListener("mouseup",a.handleMouseUp,!1),a.onDragEnd({event:null}),a.isDragging=!1}),this.onDragStart=c,this.onDragging=b,this.onDragEnd=P,this.step=ye,this.isStopPropagation=Ee,this.eventType=L,this.eventCenter=Z,this.model=Ze,this.data=Ot}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Od(e.prototype,n),t}();function Xu(t){return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Vl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wr(t,e,n){return e&&Dp(t.prototype,e),n&&Dp(t,n),t}function Uu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vu(t,e)}function $l(t){var e=Np();return function(){var n,r=Ya(t);if(e){var a=Ya(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wd(this,n)}}function wd(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return li(t)}function li(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yu(t){var e=typeof Map=="function"?new Map:void 0;return Yu=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Kl(n,arguments,Ya(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Vu(a,n)},Yu(t)}function Kl(t,e,n){return Kl=Np()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var v=new(Function.bind.apply(r,c));return i&&Vu(v,i.prototype),v},Kl.apply(null,arguments)}function Np(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vu(t,e){return Vu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vu(t,e)}function Ya(t){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ya(t)}function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cp(t,e){return t instanceof or&&e instanceof or}var Zs=function(t){Uu(n,t);var e=$l(n);function n(r,a,i){var c;return Vl(this,n),ql(li(c=e.call(this,3)),"x",void 0),ql(li(c),"y",void 0),ql(li(c),"z",void 0),c[0]=r,c[1]=a,c[2]=i,c.x=r,c.y=a,c.z=i,Object.setPrototypeOf(li(c),n.prototype),c}return wr(n,[{key:"add",value:function(r){if(Cp(this,r))return new or(this.x+r.x,this.y+r.y);var a=this.z+r.z;return new Js((this.x+r.x)/a,(this.y+r.y)/a)}},{key:"subtract",value:function(r){if(Cp(this,r))return new or(this.x-r.x,this.y-r.y);var a=this.z-r.z;return a===0?new or(this.x-r.x,this.y-r.y):new Js((this.x-r.x)/a,(this.y-r.y)/a)}}]),n}(Yu(Array)),or=function(t){Uu(n,t);var e=$l(n);function n(r,a,i){var c;return Vl(this,n),c=e.call(this,r,a,i??0),Object.setPrototypeOf(li(c),n.prototype),c}return wr(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var a=this;return r.reduce(function(i,c,v){return i+c*a[v]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var a=this.crossZ(r),i=Math.acos(this.normalize().dot(r.normalize()));return a>=0?i:-i}}]),n}(Zs),Js=function(t){Uu(n,t);var e=$l(n);function n(r,a){var i;return Vl(this,n),i=e.call(this,r,a,1),Object.setPrototypeOf(li(i),n.prototype),i}return wr(n,[{key:"toString",value:function(){return"Point"}}]),n}(Zs);o(65),o(216);function Zl(t){return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Jl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||Qs(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ip(t){return function(e){if(Array.isArray(e))return Ql(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Qs(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qs(t,e){if(t){if(typeof t=="string")return Ql(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ql(t,e):void 0}}function Ql(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ec(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&Rp(t.prototype,e),n&&Rp(t,n),t}function d(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}function _(t){var e=fe();return function(){var n,r=Re(t);if(e){var a=Re(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(t)}function I(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t){var e=typeof Map=="function"?new Map:void 0;return H=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return ie(n,arguments,Re(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Oe(a,n)},H(t)}function ie(t,e,n){return ie=fe()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var v=new(Function.bind.apply(r,c));return i&&Oe(v,i.prototype),v},ie.apply(null,arguments)}function fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oe(t,e){return Oe=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Oe(t,e)}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(t)}function De(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ee,lt,dt,Mt,Be,Ye,Dt,ut,Nt,Rt,Jt,_t,At,Fn=function(t){d(n,t);var e=_(n);function n(){var r;ec(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return De(I(r=e.call(this,i.length)),"rows",void 0),De(I(r),"columns",void 0),r.fill(new Array(3)),i.forEach(function(v,b){r[b]=v}),r.columns=i[0].length,r.rows=i.length,Object.setPrototypeOf(I(r),n.prototype),r}return s(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return Ip(this.map(function(a){return a[r]}))}},{key:"transpose",value:function(){for(var r=[],a=0;a<this.columns;a++)r.push(this.getColumn(a));return ie(n,r)}},{key:"cross",value:function(r){var a=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var i=0;i<this.rows;i++)for(var c=this.getRow(i),v=function(x){var P=r.getColumn(x);a[i][x]=c.reduce(function(D,L,U){return D+L*P[U]},0)},b=0;b<r.columns;b++)v(b);return ie(n,Ip(a))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new Js(r[0],r[1])})}},{key:"toString",value:function(){var r=Jl(this[0],2),a=r[0],i=r[1],c=Jl(this[1],2),v=c[0],b=c[1],x=Jl(this[2],2),P=x[0],D=x[1];return"matrix(".concat(a," ").concat(i," ").concat(v," ").concat(b," ").concat(P," ").concat(D,")")}},{key:"translate",value:function(r,a){return this.cross(new Yn(r,a))}},{key:"rotate",value:function(r){return this.cross(new Fr(r))}},{key:"scale",value:function(r,a){return this.cross(new Eo(r,a))}}]),n}(H(Array)),Fr=function(t){d(n,t);var e=_(n);function n(r){var a;return ec(this,n),a=e.call(this,new or(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new or(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new or(0,0,1)),Object.setPrototypeOf(I(a),n.prototype),a}return s(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(Fn),Eo=function(t){d(n,t);var e=_(n);function n(r,a){var i;return ec(this,n),De(I(i=e.call(this,new or(r,0,0),new or(0,a,0),new or(0,0,1))),"sx",void 0),De(I(i),"sy",void 0),i.sx=r,i.sy=a,Object.setPrototypeOf(I(i),n.prototype),i}return s(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(Fn),Yn=function(t){d(n,t);var e=_(n);function n(r,a){var i;return ec(this,n),De(I(i=e.call(this,new or(1,0,0),new or(0,1,0),new or(r,a,1))),"tx",void 0),De(I(i),"ty",void 0),i.tx=r,i.ty=a,Object.setPrototypeOf(I(i),n.prototype),i}return s(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(Fn),Uo={node:!1,edge:!1},ki={node:!0,edge:!0};function Va(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Va(Object(n),!0).forEach(function(r){Zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yo(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||ef(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fo(t){return function(e){if(Array.isArray(e))return tc(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ef(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ef(t,e){if(t){if(typeof t=="string")return tc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tc(t,e):void 0}}function tc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ra(t){return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(t)}function Wr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var $u,Ku=200,Pg=(ee=function(){function t(r){(function(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")})(this,t),Zr(this,"rootEl",void 0),Wr(this,"width",lt,this),Wr(this,"height",dt,this),Zr(this,"theme",void 0),Zr(this,"eventCenter",void 0),Zr(this,"modelMap",new Map),Zr(this,"topElement",void 0),Zr(this,"animation",void 0),Zr(this,"idGenerator",void 0),Zr(this,"edgeGenerator",void 0),Zr(this,"nodeMoveRules",[]),Wr(this,"edgeType",Mt,this),Wr(this,"nodes",Be,this),Wr(this,"edges",Ye,this),Wr(this,"overlapMode",Dt,this),Wr(this,"background",ut,this),Wr(this,"transformModel",Nt,this),Wr(this,"editConfigModel",Rt,this),Wr(this,"gridSize",Jt,this),Wr(this,"partial",_t,this),Wr(this,"fakerNode",At,this);var a,i=r.container,c=r.background,v=c===void 0?{}:c,b=r.grid,x=r.idGenerator,P=r.edgeGenerator,D=r.animation;this.background=v,ra(b)==="object"&&(this.gridSize=b.size),this.rootEl=i,this.editConfigModel=new Xc(r),this.eventCenter=new Ns,this.transformModel=new Ff(this.eventCenter,r),this.theme=Du(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(a=D)&&typeof a!="boolean"?ku(Tn(Uo),a):Tn(a===!0?ki:Uo),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.edgeGenerator=Tp(this,P),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=wo()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(fo(this.nodes),fo(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,P){return x.zIndex-P.zIndex});for(var a=[],i=[-200,-200],c=[this.width+Ku,this.height+Ku],v=0;v<r.length;v++){var b=r[v];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,i,c,!1,!1))&&a.push(b)}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===fn.TEXT_EDIT}),a=this.edges.find(function(i){return i.state===fn.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(a){a.isSelected&&r.push(a)}),r}},{key:"getAreaElement",value:function(r,a){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],x=[];this.nodes.forEach(function(L){return x.push(L)}),this.edges.forEach(function(L){return x.push(L)});for(var P=0;P<x.length;P++){var D=x[P];v&&!D.visible||!this.isElementInArea(D,r,a,i,c)||b.push(D)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,i=r.y,c=this.rootEl.getBoundingClientRect(),v={x:a-c.left,y:i-c.top},b=Yo(this.transformModel.HtmlPointToCanvasPoint([v.x,v.y]),2);return{domOverlayPosition:v,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,a,i){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===qn.NODE){for(var b=qr(r=r),x=b.minX,P=b.minY,D=b.maxX,L=b.maxY,U=[{x,y:P},{x:D,y:P},{x:D,y:L},{x,y:L}],Z=v,oe=0;oe<U.length;oe++){var ye=U[oe],be=ye.x,Ee=ye.y,Te=this.transformModel.CanvasPointToHtmlPoint([be,Ee]),Ze=Yo(Te,2);if(be=Ze[0],Ee=Ze[1],Rs([be,Ee],a,i)!==v){Z=!v;break}}return Z}if(r.BaseType===qn.EDGE){var et=r=r,Ot=et.startPoint,Qe=et.endPoint,wt=this.transformModel.CanvasPointToHtmlPoint([Ot.x,Ot.y]),rt=this.transformModel.CanvasPointToHtmlPoint([Qe.x,Qe.y]),tn=Rs(wt,a,i),on=Rs(rt,a,i);return c?tn&&on:tn||on}return!1}},{key:"graphDataToModel",value:function(r){var a=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=ys(r.nodes,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的节点。"));var v=i.x,b=i.y;return v&&b&&(i.x=Fo(v,a.gridSize),i.y=Fo(b,a.gridSize),ra(i.text)==="object"&&(i.text.x-=Ia(v,a.gridSize),i.text.y-=Ia(b,a.gridSize))),new c(i,a)}):this.nodes=[],r.edges?this.edges=ys(r.edges,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的边。"));return new c(i,a)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var c=i.getData();c&&!i.virtual&&r.push(c)});var a=[];return this.nodes.forEach(function(i){var c=i.getData();c&&!i.virtual&&a.push(c)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],i=0;i<this.nodes.length;i++){var c=this.nodes[i];if(c.isDragging){r=!0;break}a.push(c.getHistoryData())}if(r)return!1;for(var v=!1,b=[],x=0;x<this.edges.length;x++){var P=this.edges[x];if(P.isDragging){v=!0;break}b.push(P.getHistoryData())}return!v&&{nodes:a,edges:b}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],i=0;i<this.edges.length;i++){var c=this.edges[i],v=this.edges[i].sourceNodeId===r,b=this.edges[i].targetNodeId===r;(v||b)&&a.push(c)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,i={nodes:[],edges:[]};return a.forEach(function(c){if(c.BaseType===qn.NODE&&i.nodes.push(c.getData()),c.BaseType===qn.EDGE){var v=c.getData(),b=a.get(v.sourceNodeId)&&a.get(v.targetNodeId);(r||b)&&i.edges.push(v)}}),i}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=wo()),this.nodesMap[a]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=a),i.targetNodeId===r&&(i.targetNodeId=a)}),this.nodesMap[r].model.id=a,this.nodesMap[a]=this.nodesMap[r],a):""}},{key:"changeEdgeId",value:function(r,a){return a||(a=wo()),this.edgesMap[a]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(a)}),a):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,i,c,v=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);v&&(this.overlapMode===xn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),v.setZIndex(9999),this.topElement=v),this.overlapMode===xn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var i,c,v,b=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);b&&(typeof a=="number"&&(v=a),a==="top"&&(v=Ol()),a==="bottom"&&(v=--hp),b.setZIndex(v))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(pt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,c=Sn(r);c.id&&this.nodesMap[r.id]&&delete c.id;var v=this.getModel(c.type);if(!v)throw new Error("找不到".concat(c.type,"对应的节点，请确认是否已注册此类型节点。"));c.x=Fo(c.x,this.gridSize),c.y=Fo(c.y,this.gridSize);var b=new v(c,this);this.nodes.push(b);var x=b.getData(),P={data:x};return i&&(P.e=i),this.eventCenter.emit(a,P),b}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),i=a.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var c=this.addNode(i);return c.setSelected(!0),a.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.getMoveDistance(a,i,c),P=Yo(x,2);a=P[0],i=P[1],this.moveEdge(r,a,i)}}},{key:"moveNode2Coordinate",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.x,P=b.y,D=a-x,L=i-P;this.moveNode(r,D,L,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,fn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=Sn(r),i=a.type;i||(i=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var c=this.getModel(i);if(!c)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var v=new c(na(na({},a),{},{type:i}),this),b=v.getData();return this.edges.push(v),this.eventCenter.emit(pt.EDGE_ADD,{data:b}),v}},{key:"moveEdge",value:function(r,a,i){for(var c=0;c<this.edges.length;c++){var v=this.edges[c],b=v.textPosition,x=b.x,P=b.y,D=this.edges[c].sourceNodeId===r,L=this.edges[c].targetNodeId===r;D&&v.moveStartPoint(a,i),L&&v.moveEndPoint(a,i),(D||L)&&this.handleEdgeTextMove(v,x,P)}}},{key:"handleEdgeTextMove",value:function(r,a,i){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Kt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var v=r.text,b=Ul(v,r.points);r.moveText(b.x-v.x,b.y-v.y)}else{var x=r.textPosition,P=x.x,D=x.y;r.moveText(P-a,D-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===a){var c=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(pt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,a,i){this.nodes.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(fn.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(fn.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(i){i.id===r&&i.updateText(a)}),this.edges.forEach(function(i){i.id===r&&i.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===xn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,i){for(var c=this,v=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce(function(Ze,et){var Ot=c.nodesMap[et].model.getMoveDistance(a,i,v);return Ze[et]=Ot,Ze},{}),x=0;x<this.edges.length;x++){var P=this.edges[x],D=P.textPosition,L=D.x,U=D.y,Z=b[P.sourceNodeId],oe=void 0,ye=void 0;if(Z){var be=Yo(Z,2);oe=be[0],ye=be[1],P.moveStartPoint(oe,ye)}var Ee=b[P.targetNodeId];if(Ee){var Te=Yo(Ee,2);oe=Te[0],ye=Te[1],P.moveEndPoint(oe,ye)}(Z||Ee)&&this.handleEdgeTextMove(P,L,U)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var i=this.getNodeModelById(r);if(i){var c=i.getData();c.type=a;var v=this.getModel(a);if(!v)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));var b=new v(c,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var P=bl(b,x.startPoint,b.width,b.height);x.updateStartPoint(P)}if(x.targetNodeId===r){var D=bl(b,x.endPoint,b.width,b.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(r,a){var i=this.getEdgeModelById(r);if(i&&i.type!==a){var c=i.getData();c.type=a;var v=this.getModel(a);if(!v)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var b=new v(c,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetNodeId===r&&a.push(i)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&a.push(i)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.targetNodeId===r&&i.push(a.nodesMap[c.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&i.push(a.nodesMap[c.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=Du(na(na({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=a||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],i=[];r.forEach(function(D){var L=D.x,U=D.y,Z=D.width,oe=D.height,ye=D.getNodeStyle().strokeWidth,be=ye===void 0?0:ye;a=a.concat([L+Z/2+be,L-Z/2-be]),i=i.concat([U+oe/2+be,U-oe/2-be])});var c=Math.min.apply(Math,fo(a)),v=Math.max.apply(Math,fo(a)),b=Math.min.apply(Math,fo(i)),x=v-c||0,P=Math.max.apply(Math,fo(i))-b||0;return{virtualRectWidth:x,virtualRectHeight:P,virtualRectCenterPositionX:c+x/2,virtualRectCenterPositionY:b+P/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,i=this.height,c=this.rootEl,v=this.transformModel;if(r.length){var b=a||c.clientWidth,x=i||c.clientHeight,P=this.getVirtualRectSize(),D=P.virtualRectCenterPositionX,L=P.virtualRectCenterPositionY;v.focusOn(D,L,b,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,c=this.width,v=this.height,b=this.rootEl,x=this.transformModel;if(i.length){var P=c||b.clientWidth,D=v||b.clientHeight,L=this.getVirtualRectSize(),U=L.virtualRectWidth,Z=L.virtualRectHeight,oe=L.virtualRectCenterPositionX,ye=L.virtualRectCenterPositionY,be=(U+a)/P,Ee=(Z+r)/D,Te=0;Te=1/Math.max(be,Ee);var Ze=[P/2,D/2];x.zoom(Te,Ze),x.focusOn(oe,ye,P,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&nc(e.prototype,n),t}(),lt=mt(ee.prototype,"width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=mt(ee.prototype,"height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=mt(ee.prototype,"edgeType",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=mt(ee.prototype,"nodes",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ye=mt(ee.prototype,"edges",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dt=mt(ee.prototype,"overlapMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.DEFAULT}}),ut=mt(ee.prototype,"background",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=mt(ee.prototype,"transformModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=mt(ee.prototype,"editConfigModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=mt(ee.prototype,"gridSize",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_t=mt(ee.prototype,"partial",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),At=mt(ee.prototype,"fakerNode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt(ee.prototype,"nodesMap",[p.m],Object.getOwnPropertyDescriptor(ee.prototype,"nodesMap"),ee.prototype),mt(ee.prototype,"edgesMap",[p.m],Object.getOwnPropertyDescriptor(ee.prototype,"edgesMap"),ee.prototype),mt(ee.prototype,"modelsMap",[p.m],Object.getOwnPropertyDescriptor(ee.prototype,"modelsMap"),ee.prototype),mt(ee.prototype,"sortElements",[p.m],Object.getOwnPropertyDescriptor(ee.prototype,"sortElements"),ee.prototype),mt(ee.prototype,"textEditElement",[p.m],Object.getOwnPropertyDescriptor(ee.prototype,"textEditElement"),ee.prototype),mt(ee.prototype,"selectElements",[p.m],Object.getOwnPropertyDescriptor(ee.prototype,"selectElements"),ee.prototype),mt(ee.prototype,"selectNodes",[p.m],Object.getOwnPropertyDescriptor(ee.prototype,"selectNodes"),ee.prototype),mt(ee.prototype,"setFakerNode",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"setFakerNode"),ee.prototype),mt(ee.prototype,"removeFakerNode",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"removeFakerNode"),ee.prototype),mt(ee.prototype,"setModel",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"setModel"),ee.prototype),mt(ee.prototype,"toFront",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"toFront"),ee.prototype),mt(ee.prototype,"setElementZIndex",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"setElementZIndex"),ee.prototype),mt(ee.prototype,"deleteNode",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"deleteNode"),ee.prototype),mt(ee.prototype,"addNode",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"addNode"),ee.prototype),mt(ee.prototype,"cloneNode",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"cloneNode"),ee.prototype),mt(ee.prototype,"moveNode",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"moveNode"),ee.prototype),mt(ee.prototype,"moveNode2Coordinate",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"moveNode2Coordinate"),ee.prototype),mt(ee.prototype,"editText",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"editText"),ee.prototype),mt(ee.prototype,"addEdge",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"addEdge"),ee.prototype),mt(ee.prototype,"moveEdge",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"moveEdge"),ee.prototype),mt(ee.prototype,"deleteEdgeBySourceAndTarget",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"deleteEdgeBySourceAndTarget"),ee.prototype),mt(ee.prototype,"deleteEdgeById",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"deleteEdgeById"),ee.prototype),mt(ee.prototype,"deleteEdgeBySource",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"deleteEdgeBySource"),ee.prototype),mt(ee.prototype,"deleteEdgeByTarget",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"deleteEdgeByTarget"),ee.prototype),mt(ee.prototype,"setElementStateById",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"setElementStateById"),ee.prototype),mt(ee.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"updateText"),ee.prototype),mt(ee.prototype,"selectNodeById",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"selectNodeById"),ee.prototype),mt(ee.prototype,"selectEdgeById",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"selectEdgeById"),ee.prototype),mt(ee.prototype,"selectElementById",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"selectElementById"),ee.prototype),mt(ee.prototype,"clearSelectElements",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"clearSelectElements"),ee.prototype),mt(ee.prototype,"moveNodes",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"moveNodes"),ee.prototype),mt(ee.prototype,"setDefaultEdgeType",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"setDefaultEdgeType"),ee.prototype),mt(ee.prototype,"changeNodeType",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"changeNodeType"),ee.prototype),mt(ee.prototype,"changeEdgeType",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"changeEdgeType"),ee.prototype),mt(ee.prototype,"getNodeIncomingEdge",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"getNodeIncomingEdge"),ee.prototype),mt(ee.prototype,"getNodeOutgoingEdge",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"getNodeOutgoingEdge"),ee.prototype),mt(ee.prototype,"getNodeIncomingNode",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"getNodeIncomingNode"),ee.prototype),mt(ee.prototype,"getNodeOutgoingNode",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"getNodeOutgoingNode"),ee.prototype),mt(ee.prototype,"setTheme",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"setTheme"),ee.prototype),mt(ee.prototype,"resize",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"resize"),ee.prototype),mt(ee.prototype,"clearData",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"clearData"),ee.prototype),mt(ee.prototype,"translateCenter",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"translateCenter"),ee.prototype),mt(ee.prototype,"fitView",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"fitView"),ee.prototype),mt(ee.prototype,"openEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"openEdgeAnimation"),ee.prototype),mt(ee.prototype,"closeEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(ee.prototype,"closeEdgeAnimation"),ee.prototype),ee),X_=Pg;function xd(t){return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function Ed(){return Ed=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ed.apply(this,arguments)}function U_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sd(t,e){return Sd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sd(t,e)}function Y_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Lp(t);if(e){var a=Lp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V_(this,n)}}function V_(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Di(t)}function Di(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(t)}function oa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mg,$_=di($u=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sd(i,c)})(a,t);var e,n,r=Y_(a);function a(i){var c;(function(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),oa(Di(c=r.call(this)),"stepDrag",void 0),oa(Di(c),"stepScrollX",0),oa(Di(c),"stepScrollY",0),oa(Di(c),"onDragging",function(P){var D=P.deltaX,L=P.deltaY;c.setState({isDragging:!0});var U=c.props.graphModel,Z=U.transformModel;U.editConfigModel.stopMoveGraph!==!0&&Z.translate(D,L)}),oa(Di(c),"onDragEnd",function(){c.setState({isDragging:!1})}),oa(Di(c),"zoomHandler",function(P){var D=c.props,L=D.graphModel,U=L.editConfigModel,Z=L.transformModel,oe=L.gridSize,ye=D.graphModel,be=P.deltaX,Ee=P.deltaY;if(U.stopScrollGraph||P.ctrlKey===!0){if(!U.stopZoomGraph){P.preventDefault();var Te=ye.getPointByClient({x:P.clientX,y:P.clientY}).canvasOverlayPosition,Ze=Te.x,et=Te.y;Z.zoom(P.deltaY<0,[Ze,et])}}else{if(P.preventDefault(),c.stepScrollX+=be,c.stepScrollY+=Ee,Math.abs(c.stepScrollX)>=oe){var Ot=c.stepScrollX%oe,Qe=c.stepScrollX-Ot;Z.translate(-Qe*Z.SCALE_X,0),c.stepScrollX=Ot}if(Math.abs(c.stepScrollY)>=oe){var wt=c.stepScrollY%oe,rt=c.stepScrollY-wt;Z.translate(0,-rt*Z.SCALE_Y),c.stepScrollY=wt}}}),oa(Di(c),"clickHandler",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){var D=c.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(pt.BLANK_CLICK,{e:P})}}),oa(Di(c),"handleContextMenu",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){P.preventDefault();var D=c.props.graphModel,L=D.getPointByClient({x:P.clientX,y:P.clientY});D.eventCenter.emit(pt.BLANK_CONTEXTMENU,{e:P,position:L})}}),oa(Di(c),"mouseDownHandler",function(P){var D=c.props.graphModel,L=D.eventCenter,U=D.editConfigModel,Z=D.transformModel.SCALE_X,oe=D.gridSize,ye=P.target,be=!U.adjustEdge&&!U.adjustNodePosition;(ye.getAttribute("name")==="canvas-overlay"||be)&&(U.stopMoveGraph!==!0?(c.stepDrag.setStep(oe*Z),c.stepDrag.handleMouseDown(P)):L.emit(pt.BLANK_MOUSEDOWN,{e:P}),c.clickHandler(P))});var v=i.graphModel,b=v.gridSize,x=v.eventCenter;return c.stepDrag=new Xo({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),c.state={isDragging:!1},c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,v=c.children,b=c.dnd,x=this.state.isDragging;return Object(pe.g)("svg",Ed({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(pe.g)("g",{transform:i},v))}}])&&U_(e.prototype,n),a}(pe.a))||$u;function jd(t){return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function K_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pd(t,e){return Pd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pd(t,e)}function Z_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zp(t);if(e){var a=zp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J_(this,n)}}function J_(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zp(t)}var Q_=di(Mg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Pd(i,c)})(a,t);var e,n,r=Z_(a);function a(){return K_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,c=i.tool,v=i.graphModel,b=c.getTools().map(function(x){return Object(pe.g)(x,{graphModel:v,logicFlow:c.instance})});return c.components=b,b}},{key:"triggerToolRender",value:function(){var i=this.props,c=i.tool,v=i.graphModel,b=document.querySelector("#ToolOverlay_".concat(v.flowId)),x=c.getInstance();x.components.forEach(function(P){return P(x,b)}),x.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(pe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&q_(e.prototype,n),a}(pe.a))||Mg;function Md(t){return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function e1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ad(t,e){return Ad=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ad(t,e)}function n1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bp(t);if(e){var a=Bp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return r1(this,n)}}function r1(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(t)}var Ag,o1=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ad(i,c)})(a,t);var e,n,r=n1(a);function a(){return e1(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.background;return Object(pe.g)("div",{className:"lf-background"},Object(pe.g)("div",{style:i,className:"lf-background-area"}))}}])&&t1(e.prototype,n),a}(pe.a);function Td(t){return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function i1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kd(t,e){return kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kd(t,e)}function u1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fp(t);if(e){var a=Fp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s1(this,n)}}function s1(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tg(t)}function Tg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fp(t)}function c1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kg=di(Ag=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&kd(i,c)})(a,t);var e,n,r=u1(a);function a(){var i;i1(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return c1(Tg(i=r.call.apply(r,[this].concat(v))),"id",wo()),i}return e=a,(n=[{key:"renderDot",value:function(){var i=this.props,c=i.config,v=c.color,b=c.thickness,x=b===void 0?2:b,P=i.size,D=i.visible,L=Math.min(Math.max(2,x),P/2),U=1;return D||(U=0),Object(pe.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:v,opacity:U})}},{key:"renderMesh",value:function(){var i=this.props,c=i.config,v=c.color,b=c.thickness,x=b===void 0?1:b,P=i.size,D=i.visible,L=Math.min(Math.max(1,x),P/2),U="M ".concat(P," 0 H0 M0 0 V0 ").concat(P),Z=1;return D||(Z=0),Object(pe.g)("path",{d:U,stroke:v,strokeWidth:L,opacity:Z})}},{key:"render",value:function(){var i=this.props,c=i.type,v=i.size,b=i.graphModel.transformModel,x=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),P="matrix(".concat(x,")");return Object(pe.g)("div",{className:"lf-grid"},Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(pe.g)("defs",null,Object(pe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:P,x:"0",y:"0",width:v,height:v},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(pe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&a1(e.prototype,n),a}(pe.a))||Ag;kg.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function Dd(t){return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function l1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Dg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Dg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ng,rc=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=l1(n,2),a=r[0],i=r[1];(a==="style"||Dd(i)!=="object")&&(e[a]=i)}),Object(pe.g)("line",e)};function Nd(t){return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function Cg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cg(Object(n),!0).forEach(function(r){f1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cd(t,e){return Cd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cd(t,e)}function d1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gp(t);if(e){var a=Gp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y1(this,n)}}function y1(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gp(t)}var Ig,v1=di(Ng=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Cd(i,c)})(a,t);var e,n,r=d1(a);function a(){return p1(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,c=i.position,v=i.isShowHorizontal,b=i.isShowVertical,x=i.getStyle(),P=c.x,D=P===void 0?0:P,L=c.y,U=L===void 0?0:L,Z=Wp(Wp({x1:-1e5,y1:U,x2:1e5,y2:U},x),{},{stroke:v?x.stroke:"none"}),oe=Wp(Wp({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:b?x.stroke:"none"});return Object(pe.g)("g",{className:"lf-snapline"},Object(pe.g)(rc,Z),Object(pe.g)(rc,oe))}}])&&h1(e.prototype,n),a}(pe.a))||Ng;function Id(t){return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function g1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Rg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Rg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $a(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=t.className,c=t.radius,v=e-r/2,b=n-a/2,x={};return Object.entries(t).forEach(function(P){var D=g1(P,2),L=D[0],U=D[1];Id(U)!=="object"&&(x[L]=U)}),x.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",c&&(x.rx=c,x.ry=c),x.x=v,x.y=b,Object(pe.g)("rect",x)}function Rd(t){return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function oc(){return oc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lg(Object(n),!0).forEach(function(r){m1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ld(t,e){return Ld=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ld(t,e)}function O1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hp(t);if(e){var a=Hp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w1(this,n)}}function w1(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hp(t)}$a.defaultProps={className:"",radius:""};var Bg,x1=di(Ig=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ld(i,c)})(a,t);var e,n,r=O1(a);function a(){return b1(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,c=i.nodes,v=i.editConfigModel,b=v.hoverOutline,x=v.nodeSelectedOutline,P=[];return c.forEach(function(D){if(D.isHovered||D.isSelected){var L=D.isHovered,U=D.isSelected,Z=D.x,oe=D.y,ye=D.width,be=D.height;if(x&&U||b&&L){var Ee=D.getOutlineStyle(),Te={};if(Object.keys(Ee).forEach(function(et){et!=="hover"&&(Te[et]=Ee[et])}),L){var Ze=Ee.hover;Te=zg(zg({},Te),Ze)}P.push(Object(pe.g)($a,oc({transform:D.gMatrix,className:"lf-outline-node",x:Z,y:oe,width:ye+10,height:be+10},Te)))}}}),P}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,c=i.edges,v=i.editConfigModel,b=v.edgeSelectedOutline,x=v.hoverOutline,P=[],D=0;D<c.length;D++){var L=c[D];(b&&L.isSelected||x&&L.isHovered)&&(L.modelType===Kt.LINE_EDGE?P.push(this.getLineOutline(L)):L.modelType===Kt.POLYLINE_EDGE?P.push(this.getPolylineOutline(L)):L.modelType===Kt.BEZIER_EDGE&&P.push(this.getBezierOutline(L)))}return P}},{key:"getLineOutline",value:function(i){var c=i.startPoint,v=i.endPoint,b=(c.x+v.x)/2,x=(c.y+v.y)/2,P=Math.abs(c.x-v.x)+10,D=Math.abs(c.y-v.y)+10,L=i.getOutlineStyle();return Object(pe.g)($a,oc({className:"lf-outline-edge",x:b,y:x,width:P,height:D},L))}},{key:"getPolylineOutline",value:function(i){var c=i.points,v=Ai(c),b=Ha(v,8),x=b.x,P=b.y,D=b.width,L=b.height,U=i.getOutlineStyle();return Object(pe.g)($a,oc({className:"lf-outline",x,y:P,width:D,height:L},U))}},{key:"getBezierOutline",value:function(i){var c=i.path,v=Ks(c),b=Ha(v,8),x=b.x,P=b.y,D=b.width,L=b.height,U=i.getOutlineStyle();return Object(pe.g)($a,oc({className:"lf-outline",x,y:P,width:D,height:L},U))}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&_1(e.prototype,n),a}(pe.a))||Ig;function zd(t){return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function E1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Fg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ic(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.r,c=i===void 0?4:i,v=t.className,b={cx:n,cy:a,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var P=E1(x,2),D=P[0],L=P[1];zd(L)!=="object"&&(b[D]=L)}),b.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(pe.g)("circle",b)}function Bd(t){return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function S1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Wg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Wg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tf(){return tf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tf.apply(this,arguments)}function Gg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xg(t,e,n){return e&&Hg(t.prototype,e),n&&Hg(t,n),t}function Ug(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fd(t,e)}function Fd(t,e){return Fd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fd(t,e)}function Yg(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Up(t);if(e){var a=Up(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j1(this,n)}}function j1(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xp(t)}function Xp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Up(t)}function Wd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vg,$g=function(t){Ug(n,t);var e=Yg(n);function n(){var r;return Gg(this,n),Wd(Xp(r=e.call(this)),"dragHandler",void 0),Wd(Xp(r),"onDragging",function(a){var i=a.event,c=r.props,v=c.graphModel,b=c.bezierModel,x=c.type,P=v.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,D=P.x,L=P.y;b.updateAdjustAnchor({x:D,y:L},x),v.eventCenter.emit(pt.EDGE_ADJUST,{data:b.getData()})}),Wd(Xp(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Xo({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Xg(n,[{key:"render",value:function(){var r=this,a=this.props.position,i=a.x,c=a.y,v=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(pe.g)(ic,tf({className:"lf-bezier-adjust-anchor",x:i,y:c},v,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n}(pe.a),P1=di(Bg=function(t){Ug(n,t);var e=Yg(n);function n(){return Gg(this,n),e.apply(this,arguments)}return Xg(n,[{key:"getBezierAdjust",value:function(r,a){var i=r.path,c=r.id,v=S1(Ks(i),4),b=v[0],x=v[1],P=v[2],D=v[3],L=r.getEdgeStyle().adjustLine,U=[];return U.push(Object(pe.g)(rc,tf({x1:b.x,y1:b.y,x2:x.x,y2:x.y},L))),U.push(Object(pe.g)($g,{position:x,bezierModel:r,graphModel:a,key:"".concat(c,"_ePre"),type:"sNext"})),U.push(Object(pe.g)(rc,tf({x1:D.x,y1:D.y,x2:P.x,y2:P.y},L))),U.push(Object(pe.g)($g,{position:P,bezierModel:r,graphModel:a,key:"".concat(c,"_sNext"),type:"ePre"})),U}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,i=[],c=0;c<a.length;c++){var v=a[c];v.isSelected&&v.modelType===Kt.BEZIER_EDGE&&v.draggable&&i.push(this.getBezierAdjust(v,r))}return i}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(pe.a))||Bg;function Gd(t){return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function M1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hd(t,e){return Hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hd(t,e)}function T1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yp(t);if(e){var a=Yp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k1(this,n)}}function k1(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yp(t)}var Kg,D1=di(Vg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Hd(i,c)})(a,t);var e,n,r=T1(a);function a(){return M1(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(pe.g)("g",{transform:i},c))}}])&&A1(e.prototype,n),a}(pe.a))||Vg;function Xd(t){return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function Ud(){return Ud=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}function N1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yd(t,e){return Yd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Yd(t,e)}function I1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vp(t);if(e){var a=Vp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R1(this,n)}}function R1(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vp(t)}var L1=di(Kg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Yd(i,c)})(a,t);var e,n,r=I1(a);function a(){return N1(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getComponent",value:function(i,c){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,x=b(i.type);return Object(pe.g)(x,{key:i.id,model:i,graphModel:c,overlay:v})}},{key:"render",value:function(){var i=this,c=this.props,v=c.graphModel,b=c.tool,x=c.options,P=c.dnd,D=c.snaplineModel,L={};x.width&&(L.width="".concat(v.width,"px")),x.height&&(L.height="".concat(v.height,"px"));var U=x.grid,Z=v.fakerNode,oe=v.editConfigModel.adjustEdge;return Object(pe.g)("div",{className:"lf-graph","flow-id":v.flowId,style:L},Object(pe.g)($_,{graphModel:v,dnd:P},Object(pe.g)("g",{className:"lf-base"},ys(v.sortElements,function(ye){return i.getComponent(ye,v)})),Z?this.getComponent(Z,v):""),Object(pe.g)(D1,{graphModel:v},Object(pe.g)(x1,{graphModel:v}),oe?Object(pe.g)(P1,{graphModel:v}):"",x.snapline!==!1?Object(pe.g)(v1,{snaplineModel:D}):""),Object(pe.g)(Q_,{graphModel:v,tool:b}),x.background&&Object(pe.g)(o1,{background:x.background}),x.grid&&Object(pe.g)(kg,Ud({},U,{graphModel:v})))}}],n&&C1(e.prototype,n),a}(pe.a))||Kg,z1=L1;function qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qg(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ia(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F1=function(){function t(r){var a=this;(function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),ia(this,"nodeConfig",void 0),ia(this,"lf",void 0),ia(this,"fakerNode",void 0),ia(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),ia(this,"dragEnter",function(c){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode($p($p({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),ia(this,"onDragOver",function(c){if(c.preventDefault(),a.fakerNode){var v=a.clientToLocalPoint({x:c.clientX,y:c.clientY}),b=v.x,x=v.y;a.fakerNode.moveTo(b,x);var P=a.fakerNode.getData();a.lf.setNodeSnapLine(P),a.lf.graphModel.eventCenter.emit(pt.NODE_DND_DRAG,{data:P})}return!1}),ia(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),ia(this,"onDrop",function(c){a.lf.graphModel&&c&&a.nodeConfig&&(a.lf.addNode($p($p({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY})),pt.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)});var i=r.lf;this.lf=i}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,i=r.y,c=Su(this.lf.options,["grid","size"]),v=this.lf.graphModel.getPointByClient({x:a,y:i}).canvasOverlayPosition,b=v.x,x=v.y;return{x:Fo(b,c),y:Fo(x,c)}}},{key:"startDrag",value:function(r){this.lf.options.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&B1(e.prototype,n),t}();function Zg(t){var e=t.container,n=t.grid,r=t.width,a=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof a=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=cr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),cr({},Qg,t)}var dn,Jg,Qg={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Vd(t){return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function $d(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return em(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return em(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function em(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tm(Object(n),!0).forEach(function(r){nm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function G1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nf(){return nf=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=X1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},nf.apply(this,arguments)}function X1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ka(t))!==null;);return t}function Kd(t,e){return Kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kd(t,e)}function U1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ka(t);if(e){var a=Ka(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y1(this,n)}}function Y1(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qp(t)}function qp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ka(t){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ka(t)}function nm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fi(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var qd=(dn=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Kd(i,c)})(a,t);var e,n,r=U1(a);function a(){var i;G1(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return nm(qp(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.BEZIER_EDGE),W1(qp(i),"path",Jg,qp(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=100,nf(Ka(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return Kp(Kp({},nf(Ka(a.prototype),"getEdgeStyle",this).call(this)),Tn(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,c=0;return this.pointsList.forEach(function(v){var b=v.x,x=v.y;i+=b,c+=x}),{x:i/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=nf(Ka(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Kp(Kp({},i),{},{pointsList:c})}},{key:"getControls",value:function(){var i=this.startPoint,c=this.endPoint;return Ti({start:i,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var c=$d(i,4),v=c[0],b=c[1],x=c[2],P=c[3];return"M ".concat(v.x," ").concat(v.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(P.x," ").concat(P.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),c=i.sNext,v=i.ePre;this.updatePath(c,v)}},{key:"updatePath",value:function(i,c){i=Tn(i),c=Tn(c);var v={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!i||!c){var x=this.getControls();i=x.sNext,c=x.ePre}this.pointsList=[v,i,c,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c;var v=$d(this.pointsList,3),b=v[1],x=v[2];b.x+=i,b.y+=c,this.updatePath(b,x)}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c;var v=$d(this.pointsList,3),b=v[1],x=v[2];x.x+=i,x.y+=c,this.updatePath(b,x)}},{key:"updateAdjustAnchor",value:function(i,c){c==="sNext"?this.pointsList[1]=i:c==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,v=i.endPoint,b=i.sourceNode,x=i.targetNode,P=Ti({start:c,end:v,sourceNode:b,targetNode:x,offset:this.offset}),D=P.sNext,L=P.ePre;this.pointsList=[c,D,L,v],this.initPoints()}}])&&H1(e.prototype,n),a}(xl),Jg=fi(dn.prototype,"path",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fi(dn.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"initPoints"),dn.prototype),fi(dn.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updatePoints"),dn.prototype),fi(dn.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateStartPoint"),dn.prototype),fi(dn.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateEndPoint"),dn.prototype),fi(dn.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"moveStartPoint"),dn.prototype),fi(dn.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"moveEndPoint"),dn.prototype),fi(dn.prototype,"updateAdjustAnchor",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateAdjustAnchor"),dn.prototype),fi(dn.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"getAdjustStart"),dn.prototype),fi(dn.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"getAdjustEnd"),dn.prototype),fi(dn.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateAfterAdjustStartAndEnd"),dn.prototype),dn),Ve,rm,om,im,am,um,sm,cm,lm,fm,pm,hm,dm,ym,vm,gm,mm,bm,_m,Om,wm,xm,Em,V1=function(t){return t==null};function $1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||Sm(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zd(t){return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function Sm(t,e){if(t){if(typeof t=="string")return jm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jm(t,e):void 0}}function jm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pm(Object(n),!0).forEach(function(r){po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ir(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function K1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function po(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var aa,Mm,ua=(Ve=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),po(this,"id",""),ir(this,"type",rm,this),ir(this,"x",om,this),ir(this,"y",im,this),ir(this,"text",am,this),ir(this,"properties",um,this),ir(this,"_width",sm,this),ir(this,"_height",cm,this),ir(this,"anchorsOffset",lm,this),ir(this,"isSelected",fm,this),ir(this,"isHovered",pm,this),ir(this,"isShowAnchor",hm,this),ir(this,"isDragging",dm,this),ir(this,"isHitable",ym,this),ir(this,"draggable",vm,this),ir(this,"visible",gm,this),ir(this,"enableRotate",mm,this),po(this,"virtual",!1),po(this,"graphModel",void 0),ir(this,"zIndex",bm,this),ir(this,"state",_m,this),ir(this,"autoToFront",Om,this),ir(this,"style",wm,this),ir(this,"gMatrix",xm,this),ir(this,"rotate",Em,this),po(this,"BaseType",qn.NODE),po(this,"modelType",Kt.NODE),po(this,"additionStateData",void 0),po(this,"targetRules",[]),po(this,"sourceRules",[]),po(this,"moveRules",[]),po(this,"hasSetTargetRules",!1),po(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||wo()}this.formatText(r),cr(this,function(v){return ti(v,["id","type","x","y","text","properties","virtual"])}(r)),this.graphModel.overlapMode===xn.INCREASE&&(this.zIndex=r.zIndex||Ol())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,v=this.properties;Object(p.x)(v)&&(v=Object(p.I)(v));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:v};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===xn.INCREASE&&(b.zIndex=this.zIndex),c&&(b.text={x:a,y:i,value:c}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Jr(Jr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Tn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return Tn(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return Tn(a)}},{key:"getAnchorLineStyle",value:function(r){var a=this.graphModel.theme.anchorLine;return Tn(a)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Tn(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,i,c){var v=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,x=!0,P=0;P<v.length;P++){var D=v[P];if(!D.validate.call(this,this,r,a,i,c)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,i,c){var v=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,x=!0,P=0;P<v.length;P++){var D=v[P];if(!D.validate.call(this,r,this,a,i,c)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"isAllowMoveNode",value:function(r,a){var i,c=!0,v=!0,b=function(D,L){var U=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!U){if(Array.isArray(D)||(U=Sm(D))||L&&D&&typeof D.length=="number"){U&&(D=U);var Z=0,oe=function(){};return{s:oe,n:function(){return Z>=D.length?{done:!0}:{done:!1,value:D[Z++]}},e:function(Te){throw Te},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,be=!0,Ee=!1;return{s:function(){U=U.call(D)},n:function(){var Te=U.next();return be=Te.done,Te},e:function(Te){Ee=!0,ye=Te},f:function(){try{be||U.return==null||U.return()}finally{if(Ee)throw ye}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(i=b.n()).done;){var x=(0,i.value)(this,r,a);if(!x)return!1;if(Zd(x)==="object"){var P=x;if(P.x===!1&&P.y===!1)return!1;c=c&&P.x,v=v&&P.y}}}catch(D){b.e(D)}finally{b.f()}return{x:c,y:v}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,i=this.x,c=this.y;return r&&r.length>0?r.map(function(v,b){return v.length?(v=v,{id:"".concat(a,"_").concat(b),x:i+v[0],y:c+v[1]}):Jr(Jr({},v=v),{},{x:i+v.x,y:c+v.y,id:v.id||"".concat(a,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(a,i){for(var c,v=Gs(i),b=Number.MAX_SAFE_INTEGER,x=0;x<v.length;x++){var P=tr(a.x,a.y,v[x].x,v[x].y);P<b&&(b=P,c={index:x,anchor:Pi(Pi({},v[x]),{},{x:v[x].x,y:v[x].y,id:v[x].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),a=this.x,i=this.y,c=this.rotate;return r.forEach(function(v){var b=v.x,x=v.y,P=$1(new Fn([b,x,1]).translate(-a,-i).rotate(c).translate(a,i)[0],2),D=P[0],L=P[1];v.x=D,v.y=L}),r}},{key:"getAnchorInfo",value:function(r){if(!V1(r))for(var a=0;a<this.anchors.length;a++){var i=this.anchors[a];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,v=!1;if(i)c=!0,v=!0;else{var b=this.isAllowMoveNode(r,a);typeof b=="boolean"?(c=b,v=b):(c=b.x,v=b.y)}if(c){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(v){var P=this.y+a;this.y=P,this.text&&this.moveText(0,a)}return c||v}},{key:"getMoveDistance",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,v=!1,b=0,x=0;if(i)c=!0,v=!0;else{var P=this.isAllowMoveNode(r,a);typeof P=="boolean"?(c=P,v=P):(c=P.x,v=P.y)}if(c&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),b=r}if(v&&a){var L=this.y+a;this.y=L,this.text&&this.moveText(0,a),x=a}return[b,x]}},{key:"moveTo",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,v=a-this.y;return!(!i&&!this.isAllowMoveNode(c,v)||(this.text&&this.text&&this.moveText(c,v),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var i=this.text,c=i.x,v=i.y,b=i.value,x=i.draggable,P=i.editable;this.text={value:b,editable:P,draggable:x,x:c+r,y:v+a}}},{key:"updateText",value:function(r){this.text=Jr(Jr({},Object(p.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=Jr(Jr({},Object(p.I)(this.properties)),{},po({},r,Sn(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Jr(Jr({},Object(p.I)(this.properties)),Sn(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=Jr(Jr({},this.style),{},po({},r,Sn(a)))}},{key:"setStyles",value:function(r){this.style=Jr(Jr({},this.style),Sn(r))}},{key:"updateStyles",value:function(r){this.style=Jr({},Sn(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){cr(this,r)}}],n&&K1(e.prototype,n),t}(),rm=Vt(Ve.prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),om=Vt(Ve.prototype,"x",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),im=Vt(Ve.prototype,"y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),am=Vt(Ve.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),um=Vt(Ve.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),sm=Vt(Ve.prototype,"_width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),cm=Vt(Ve.prototype,"_height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),lm=Vt(Ve.prototype,"anchorsOffset",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fm=Vt(Ve.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pm=Vt(Ve.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hm=Vt(Ve.prototype,"isShowAnchor",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dm=Vt(Ve.prototype,"isDragging",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ym=Vt(Ve.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vm=Vt(Ve.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gm=Vt(Ve.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mm=Vt(Ve.prototype,"enableRotate",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bm=Vt(Ve.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_m=Vt(Ve.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Om=Vt(Ve.prototype,"autoToFront",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wm=Vt(Ve.prototype,"style",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xm=Vt(Ve.prototype,"gMatrix",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Em=Vt(Ve.prototype,"rotate",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vt(Ve.prototype,"incoming",[p.m],Object.getOwnPropertyDescriptor(Ve.prototype,"incoming"),Ve.prototype),Vt(Ve.prototype,"outgoing",[p.m],Object.getOwnPropertyDescriptor(Ve.prototype,"outgoing"),Ve.prototype),Vt(Ve.prototype,"addNodeMoveRules",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"addNodeMoveRules"),Ve.prototype),Vt(Ve.prototype,"move",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"move"),Ve.prototype),Vt(Ve.prototype,"getMoveDistance",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"getMoveDistance"),Ve.prototype),Vt(Ve.prototype,"moveTo",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"moveTo"),Ve.prototype),Vt(Ve.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"moveText"),Ve.prototype),Vt(Ve.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"updateText"),Ve.prototype),Vt(Ve.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setSelected"),Ve.prototype),Vt(Ve.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setHovered"),Ve.prototype),Vt(Ve.prototype,"setIsShowAnchor",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setIsShowAnchor"),Ve.prototype),Vt(Ve.prototype,"setEnableRotate",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setEnableRotate"),Ve.prototype),Vt(Ve.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setHitable"),Ve.prototype),Vt(Ve.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setElementState"),Ve.prototype),Vt(Ve.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setProperty"),Ve.prototype),Vt(Ve.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setProperties"),Ve.prototype),Vt(Ve.prototype,"deleteProperty",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"deleteProperty"),Ve.prototype),Vt(Ve.prototype,"setStyle",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setStyle"),Ve.prototype),Vt(Ve.prototype,"setStyles",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setStyles"),Ve.prototype),Vt(Ve.prototype,"updateStyles",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"updateStyles"),Ve.prototype),Vt(Ve.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setZIndex"),Ve.prototype),Vt(Ve.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(Ve.prototype,"updateAttributes"),Ve.prototype),Ve);function Jd(t){return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Am(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Am(Object(n),!0).forEach(function(r){km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Z1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qd(){return Qd=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=Q1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Qd.apply(this,arguments)}function Q1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ac(t))!==null;);return t}function ey(t,e){return ey=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ey(t,e)}function eO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ac(t);if(e){var a=ac(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tO(this,n)}}function tO(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zp(t)}function Zp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ac(t){return ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ac(t)}function km(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ty(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Gr,Dm,Nm,ny=(aa=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ey(i,c)})(a,t);var e,n,r=eO(a);function a(){var i;Z1(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return km(Zp(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.CIRCLE_NODE),q1(Zp(i),"r",Mm,Zp(i)),i}return e=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Qd(ac(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return Tm(Tm({},i),Tn(c))}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.r;return[{x:i,y:c-v,id:"".concat(this.id,"_0")},{x:i+v,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+v,id:"".concat(this.id,"_2")},{x:i-v,y:c,id:"".concat(this.id,"_3")}]}}])&&J1(e.prototype,n),a}(ua),Mm=ty(aa.prototype,"r",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ty(aa.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(aa.prototype,"width"),aa.prototype),ty(aa.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(aa.prototype,"height"),aa.prototype),aa);o(129);function ry(t){return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function oy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Cm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Im(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Im(Object(n),!0).forEach(function(r){zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iy(){return iy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=oO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},iy.apply(this,arguments)}function oO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=sc(t))!==null;);return t}function ay(t,e){return ay=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ay(t,e)}function iO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sc(t);if(e){var a=sc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return aO(this,n)}}function aO(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uc(t)}function uc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sc(t){return sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sc(t)}function zm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cc(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Ni,Bm,Fm,uy=(Gr=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ay(i,c)})(a,t);var e,n,r=iO(a);function a(){var i;nO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return zm(uc(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.DIAMOND_NODE),Lm(uc(i),"rx",Dm,uc(i)),Lm(uc(i),"ry",Nm,uc(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=iy(sc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return Rm(Rm({},i),Tn(c))}},{key:"points",get:function(){var i=this.x,c=this.y,v=this.rx,b=this.ry;return[[i,c-b],[i+v,c],[i,c+b],[i-v,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=oy(v,1)[0];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=oy(v,2)[1];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(c,v){var b=oy(c,2);return{x:b[0],y:b[1],id:"".concat(i.id,"_").concat(v)}})}}])&&rO(e.prototype,n),a}(ua),Dm=cc(Gr.prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Nm=cc(Gr.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),cc(Gr.prototype,"points",[p.m],Object.getOwnPropertyDescriptor(Gr.prototype,"points"),Gr.prototype),cc(Gr.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(Gr.prototype,"pointsPosition"),Gr.prototype),cc(Gr.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Gr.prototype,"width"),Gr.prototype),cc(Gr.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Gr.prototype,"height"),Gr.prototype),Gr);function sy(t){return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function Wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wm(Object(n),!0).forEach(function(r){Xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function uO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cy(){return cy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=cO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},cy.apply(this,arguments)}function cO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=fc(t))!==null;);return t}function ly(t,e){return ly=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ly(t,e)}function lO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fc(t);if(e){var a=fc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lc(t)}function lc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fc(t){return fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fc(t)}function Xm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Vo,Um,fy=(Ni=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ly(i,c)})(a,t);var e,n,r=lO(a);function a(){var i;uO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Xm(lc(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.ELLIPSE_NODE),Hm(lc(i),"rx",Bm,lc(i)),Hm(lc(i),"ry",Fm,lc(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=cy(fc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return Gm(Gm({},i),Tn(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.rx,b=this.ry;return[{x:i,y:c-b,id:"".concat(this.id,"_0")},{x:i+v,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b,id:"".concat(this.id,"_2")},{x:i-v,y:c,id:"".concat(this.id,"_3")}]}}])&&sO(e.prototype,n),a}(ua),Bm=Jp(Ni.prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Fm=Jp(Ni.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Jp(Ni.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Ni.prototype,"width"),Ni.prototype),Jp(Ni.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Ni.prototype,"height"),Ni.prototype),Ni);function py(t){return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function hy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ym(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ym(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ym(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vm(Object(n),!0).forEach(function(r){Km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dy(){return dy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=yO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},dy.apply(this,arguments)}function yO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=pc(t))!==null;);return t}function yy(t,e){return yy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yy(t,e)}function vO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pc(t);if(e){var a=pc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gO(this,n)}}function gO(t,e){if(e&&(py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qp(t)}function Qp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pc(t){return pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pc(t)}function Km(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eh(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var vy,qm,gy=(Vo=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&yy(i,c)})(a,t);var e,n,r=vO(a);function a(){var i;hO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Km(Qp(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYGON_NODE),pO(Qp(i),"points",Um,Qp(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=dy(pc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return $m($m({},i),Tn(c))}},{key:"pointsPosition",get:function(){var i=this.x,c=this.y,v=this.width,b=this.height;return this.points.map(function(x){return{x:x[0]+i-v/2,y:x[1]+c-b/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=hy(v,1)[0];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=hy(v,2)[1];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this,c=this.x,v=this.y,b=this.width,x=this.height;return this.points.map(function(P,D){var L=hy(P,2),U=L[0],Z=L[1];return{x:c+U-b/2,y:v+Z-x/2,id:"".concat(i.id,"_").concat(D)}})}}])&&dO(e.prototype,n),a}(ua),Um=eh(Vo.prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),eh(Vo.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(Vo.prototype,"pointsPosition"),Vo.prototype),eh(Vo.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Vo.prototype,"width"),Vo.prototype),eh(Vo.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Vo.prototype,"height"),Vo.prototype),Vo);function my(t){return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function Zm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zm(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function by(){return by=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=OO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},by.apply(this,arguments)}function OO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hc(t))!==null;);return t}function _y(t,e){return _y=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_y(t,e)}function wO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hc(t);if(e){var a=hc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return xO(this,n)}}function xO(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return th(t)}function th(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hc(t){return hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hc(t)}function Qm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qa,Oy=(vy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&_y(i,c)})(a,t);var e,n,r=wO(a);function a(){var i;bO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Qm(th(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.RECT_NODE),mO(th(i),"radius",qm,th(i)),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.width,b=this.height;return[{x:i,y:c-b/2,id:"".concat(this.id,"_0")},{x:i+v/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b/2,id:"".concat(this.id,"_2")},{x:i-v/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=by(hc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return Jm(Jm({},i),Tn(c))}}])&&_O(e.prototype,n),a}(ua),qm=function(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(vy.prototype,"radius",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vy);function wy(t){return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function eb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eb(Object(n),!0).forEach(function(r){rb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xy(){return xy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=jO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},xy.apply(this,arguments)}function jO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=dc(t))!==null;);return t}function Ey(t,e){return Ey=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ey(t,e)}function PO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dc(t);if(e){var a=dc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return MO(this,n)}}function MO(t,e){if(e&&(wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nb(t)}function nb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dc(t){return dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dc(t)}function rb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ob(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Sy=(qa=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ey(i,c)})(a,t);var e,n,r=PO(a);function a(){var i;EO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return rb(nb(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.TEXT_NODE),i}return e=a,(n=[{key:"getTextStyle",value:function(){var i=xy(dc(a.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return tb(tb({},i),Tn(c))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return _l({rows:i,fontSize:c,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return _l({rows:i,fontSize:c,rowsLength:i.length}).height}}])&&SO(e.prototype,n),a}(ua),ob(qa.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(qa.prototype,"width"),qa.prototype),ob(qa.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(qa.prototype,"height"),qa.prototype),qa);function jy(t){return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function AO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Py(t,e){return Py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Py(t,e)}function kO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=nh(t);if(e){var a=nh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return DO(this,n)}}function DO(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ib(t)}function ib(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nh(t){return nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nh(t)}function NO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pi,ab,ub,sb,My=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Py(i,c)})(a,t);var e,n,r=kO(a);function a(){var i;AO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return NO(ib(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.HTML_NODE),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.width,b=this.height;return[{x:i,y:c-b/2,id:"".concat(this.id,"_0")},{x:i+v/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b/2,id:"".concat(this.id,"_2")},{x:i-v/2,y:c,id:"".concat(this.id,"_3")}]}}])&&TO(e.prototype,n),a}(ua);function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ay(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function CO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rf(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var fb=(pi=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),lb(this,"graphModel",void 0),Ay(this,"isShowHorizontal",ab,this),Ay(this,"isShowVertical",ub,this),Ay(this,"position",sb,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?cb(Object(i),!0).forEach(function(c){lb(r,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):cb(Object(i)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(i,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var i=r.x,c=r.y,v=!1,b=!1,x=0;x<a.length;x++){var P=a[x];if(P.id!==r.id&&(i===P.x&&(v=!0),c===P.y&&(b=!0),v&&b))break}return{isShowVertical:v,isShowHorizontal:b,position:{x:i,y:c}}}},{key:"getHorizontalSnapline",value:function(r,a){var i,c,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)c=qr(x);else{var P=this.graphModel.getNodeModelById(b);c=qr(P)}}for(var D=0;D<a.length;D++){var L=a[D];if(L.id!==r.id){var U=qr(L);if(U.minY===c.minY||U.maxY===c.minY){v=!0,i=c.minY;break}if(U.minY===c.maxY||U.maxY===c.maxY){v=!0,i=c.maxY;break}}}return cr({isShowHorizontal:v,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,a){var i,c,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)c=qr(x);else{var P=this.graphModel.getNodeModelById(b);c=qr(P)}}for(var D=0;D<a.length;D++){var L=a[D];if(L.id!==r.id){var U=qr(L);if(U.minX===c.minX||U.maxX===c.minX){v=!0,i=c.minX;break}if(U.minX===c.maxX||U.maxX===c.maxX){v=!0,i=c.maxX;break}}}return cr({isShowVertical:v,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,a){var i=this.getCenterSnapLine(r,a),c=i.isShowHorizontal,v=i.isShowVertical;if(!c){var b=this.getHorizontalSnapline(r,a);b.isShowHorizontal&&(i.isShowHorizontal=b.isShowHorizontal,i.position.y=b.position.y)}if(!v){var x=this.getVerticalSnapline(r,a);x.isShowVertical&&(i.isShowVertical=x.isShowVertical,i.position.x=x.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,i=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=a,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,i=this.getSnapLinePosition(r,a);this.setSnaplineInfo(i)}}],n&&CO(e.prototype,n),t}(),ab=rf(pi.prototype,"isShowHorizontal",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ub=rf(pi.prototype,"isShowVertical",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sb=rf(pi.prototype,"position",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rf(pi.prototype,"clearSnapline",[p.k],Object.getOwnPropertyDescriptor(pi.prototype,"clearSnapline"),pi.prototype),rf(pi.prototype,"setNodeSnapLine",[p.k],Object.getOwnPropertyDescriptor(pi.prototype,"setNodeSnapLine"),pi.prototype),pi),of=new Map,pb=function(t){var e=wo(),n=window.requestAnimationFrame(function r(){if(t(),of.get(e)){var a=window.requestAnimationFrame(r);of.set(e,a)}});return of.set(e,n),e},rh=function(t){var e=of.get(t);e&&(window.cancelAnimationFrame(e),of.delete(t))};function Ty(t){return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function af(){return af=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function hb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hb(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return db(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return db(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ky(t,e)}function LO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ih(t);if(e){var a=ih(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return zO(this,n)}}function zO(t,e){if(e&&(Ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(t)}function Ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(t)}function Ii(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var BO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ky(i,c)})(a,t);var e,n,r=LO(a);function a(){var i;return function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}(this,a),Ii(Ci(i=r.call(this)),"preTargetNode",void 0),Ii(Ci(i),"sourceRuleResults",void 0),Ii(Ci(i),"targetRuleResults",void 0),Ii(Ci(i),"dragHandler",void 0),Ii(Ci(i),"t",void 0),Ii(Ci(i),"onDragStart",function(c){var v=c.event,b=i.props,x=b.anchorData,P=b.nodeModel,D=b.graphModel,L=D.overlapMode;D.selectNodeById(P.id),L!==xn.INCREASE&&P.autoToFront&&D.toFront(P.id),D.eventCenter.emit(pt.ANCHOR_DRAGSTART,{data:x,e:v,nodeModel:P}),i.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),Ii(Ci(i),"onDragging",function(c){var v=c.event,b=i.props,x=b.graphModel,P=b.nodeModel,D=b.anchorData,L=x.transformModel,U=x.eventCenter,Z=x.width,oe=x.height,ye=x.editConfigModel,be=ye.autoExpand,Ee=ye.stopMoveGraph,Te=v.clientX,Ze=v.clientY,et=x.getPointByClient({x:Te,y:Ze}),Ot=et.domOverlayPosition,Qe=Ot.x,wt=Ot.y,rt=et.canvasOverlayPosition,tn=rt.x,on=rt.y;i.t&&rh(i.t);var Ht=[];Qe<10?Ht=[10,0]:Qe+10>Z?Ht=[-10,0]:wt<10?Ht=[0,10]:wt+10>oe&&(Ht=[0,-10]),i.setState({endX:tn,endY:on,dragging:!0}),i.moveAnchorEnd(tn,on),Ht.length>0&&!Ee&&be&&(i.t=pb(function(){var cn=IO(Ht,2),Zn=cn[0],Jn=cn[1];L.translate(Zn,Jn);var eo=i.state,zi=eo.endX,$o=eo.endY;i.setState({endX:zi-Zn,endY:$o-Jn}),i.moveAnchorEnd(zi-Zn,$o-Jn)})),U.emit(pt.ANCHOR_DRAG,{data:D,e:v,nodeModel:P})}),Ii(Ci(i),"onDragEnd",function(c){var v=c.event;i.t&&rh(i.t),i.checkEnd(v),i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var b=i.props,x=b.graphModel,P=b.nodeModel,D=b.anchorData;x.eventCenter.emit(pt.ANCHOR_DRAGEND,{data:D,e:v,nodeModel:P})}),Ii(Ci(i),"checkEnd",function(c){var v=i.props,b=v.graphModel,x=v.nodeModel,P=v.anchorData,D=P.x,L=P.y,U=P.id,Z=(b.edgeType,i.state),oe=Z.endX,ye=Z.endY,be=Z.dragging,Ee=qi({x:oe,y:ye},b);if(i.preTargetNode&&i.preTargetNode.state!==fn.DEFAULT&&i.preTargetNode.setElementState(fn.DEFAULT),be&&Ee&&Ee.node){var Te=Ee.node,Ze=Ee.anchor.id,et="".concat(x.id,"_").concat(Te.id,"_").concat(Ze,"_").concat(U),Ot=i.sourceRuleResults.get(et)||{},Qe=Ot.isAllPass,wt=Ot.msg,rt=i.targetRuleResults.get(et)||{},tn=rt.isAllPass,on=rt.msg;if(Qe&&tn){Te.setElementState(fn.DEFAULT);var Ht=b.edgeGenerator(x.getData(),b.getNodeModelById(Ee.node.id).getData()),cn=b.addEdge(oh(oh({},Ht),{},{sourceNodeId:x.id,sourceAnchorId:U,startPoint:{x:D,y:L},targetNodeId:Ee.node.id,targetAnchorId:Ee.anchor.id,endPoint:{x:Ee.anchor.x,y:Ee.anchor.y}})),Zn=i.props.anchorData;b.eventCenter.emit(pt.ANCHOR_DROP,{data:Zn,e:c,nodeModel:x,edgeModel:cn})}else{var Jn=Te.getData();b.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:Jn,msg:on||wt})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new Xo({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return e=a,(n=[{key:"getAnchorShape",value:function(){var i=this.props,c=i.anchorData,v=i.style,b=i.node.getAnchorShape(c);if(b)return b;var x=c.x,P=c.y,D=oh(oh({},v),v.hover);return Object(pe.g)("g",null,Object(pe.g)(ic,af({className:"lf-node-anchor-hover"},D,{x,y:P})),Object(pe.g)(ic,af({className:"lf-node-anchor"},v,{x,y:P})))}},{key:"moveAnchorEnd",value:function(i,c){var v=this.props,b=v.graphModel,x=v.nodeModel,P=v.anchorData,D=qi({x:i,y:c},b);if(D){var L=D.node,U=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(fn.DEFAULT),P.id===U)return;this.preTargetNode=L;var Z="".concat(x.id,"_").concat(L.id,"_").concat(U,"_").concat(P.id);if(!this.targetRuleResults.has(Z)){var oe=D.anchor,ye=x.isAllowConnectedAsSource(L,P,oe),be=L.isAllowConnectedAsTarget(x,P,oe);this.sourceRuleResults.set(Z,Iu(ye)),this.targetRuleResults.set(Z,Iu(be))}var Ee=this.sourceRuleResults.get(Z).isAllPass,Te=this.targetRuleResults.get(Z).isAllPass;Ee&&Te?L.setElementState(fn.ALLOW_CONNECT):L.setElementState(fn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==fn.DEFAULT&&this.preTargetNode.setElementState(fn.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,c=i.startX,v=i.startY,b=i.endX,x=i.endY;return tr(c,v,b,x)>10}},{key:"render",value:function(){var i=this,c=this.state,v=c.startX,b=c.startY,x=c.endX,P=c.endY,D=this.props,L=D.anchorData.edgeAddable,U=D.edgeStyle;return Object(pe.g)("g",{className:"lf-anchor"},Object(pe.g)("g",{onMouseDown:function(Z){L!==!1&&i.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&Object(pe.g)(rc,af({x1:v,y1:b,x2:x,y2:P},U,{"pointer-events":"none"})))}}])&&RO(e.prototype,n),a}(pe.a);function yb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yb(Object(n),!0).forEach(function(r){WO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dy(t){return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function GO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return vb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gb(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.value,c=t.fontSize,v=t.fill,b=v===void 0?"currentColor":v,x=t.overflowMode,P=x===void 0?"default":x,D=t.textWidth,L=D===void 0?"":D,U=t.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:b};if(Object.entries(t).forEach(function(Ze){var et=GO(Ze,2),Ot=et[0],Qe=et[1];Dy(Qe)!=="object"&&(Z[Ot]=Qe)}),i){var oe=String(i).split(/[\r\n]/g),ye=oe.length;if(P!=="default"){var be=U.BaseType,Ee=U.modelType;if(be===qn.NODE&&Ee!==Kt.TEXT_NODE||be===qn.EDGE&&L)return function(Ze){var et=Ze.value,Ot=Ze.fontSize,Qe=Ze.model,wt=Ze.fontFamily,rt=wt===void 0?"":wt,tn=Ze.lineHeight,on=Ze.wrapPadding,Ht=on===void 0?"0, 0":on,cn=Ze.overflowMode,Zn=Ze.x,Jn=Ze.y,eo=Qe.width,zi=Qe.textHeight,$o=Ze.textWidth||eo,mc=String(et).split(/[\r\n]/g),Th=mc.length,kh=pp({rows:mc,style:{fontSize:"".concat(Ot,"px"),width:"".concat($o,"px"),fontFamily:rt,lineHeight:tn,padding:Ht},rowsLength:Th,className:"lf-get-text-height"}),Qu=Qe.height>kh?Qe.height:kh;zi&&(Qu=zi);var Qa=cn==="ellipsis";return Qa&&(Qu=Ot+2),Object(pe.g)("g",null,Object(pe.g)("foreignObject",{width:$o,height:Qu,x:Zn-$o/2,y:Jn-Qu/2},Object(pe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Qu,width:$o,padding:Ht}},Object(pe.g)("div",{className:Qa?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Qa?mc.join(""):"",style:FO({},Ze)},mc.map(function(eu){return Object(pe.g)("div",{className:"lf-node-text--auto-wrap-inner"},eu)})))))}(t)}if(ye>1){var Te=oe.map(function(Ze,et){var Ot=(et-(ye-1)/2)*(c+2);return Object(pe.g)("tspan",{className:"lf-text-tspan",x:n,y:a+Ot},Ze)});return Object(pe.g)("text",Z,Te)}return Object(pe.g)("text",Z,i)}}function Ny(t){return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function Cy(){return Cy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}function HO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return mb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return mb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iy(t,e){return Iy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Iy(t,e)}function UO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ah(t);if(e){var a=ah(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return YO(this,n)}}function YO(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Za(t)}function Za(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(t)}function qu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Iy(i,c)})(a,t);var e,n,r=UO(a);function a(i){var c;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),qu(Za(c=r.call(this)),"dragHandler",void 0),qu(Za(c),"sumDeltaX",0),qu(Za(c),"sumDeltaY",0),qu(Za(c),"stepDrag",void 0),qu(Za(c),"onDragging",function(b){var x=b.deltaX,P=b.deltaY,D=c.props,L=D.model,U=HO(D.graphModel.transformModel.fixDeltaXY(x,P),2),Z=U[0],oe=U[1];L.moveText(Z,oe)}),qu(Za(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(fn.TEXT_EDIT)}),qu(Za(c),"mouseDownHandle",function(b){var x=c.props,P=x.draggable,D=x.model,L=x.graphModel.editConfigModel.nodeTextDraggable;(P||L)&&(c.stepDrag.model=D,c.stepDrag.handleMouseDown(b))}),i.model;var v=i.draggable;return c.stepDrag=new Xo({onDragging:c.onDragging,step:1,isStopPropagation:v}),c}return e=a,(n=[{key:"getShape",value:function(){var i=this.props,c=i.model,v=i.graphModel,b=c.text,x=v.editConfigModel,P=b.value,D=b.x,L=b.y,U=b.editable,Z=b.draggable,oe={x:D,y:L,className:"",value:P};U?oe.className="lf-element-text":Z||x.nodeTextDraggable?oe.className="lf-text-draggable":oe.className="lf-text-disabled";var ye=c.getTextStyle();return Object(pe.g)(gb,Cy({},oe,ye,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(pe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&XO(e.prototype,n),a}(pe.a),VO=window.navigator.userAgent.match(/MSIE|Trident/)!==null,_b=o(130);function Ry(t){return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function Ly(){return Ly=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(this,arguments)}function $O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zy(t,e){return zy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zy(t,e)}function KO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uh(t);if(e){var a=uh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return qO(this,n)}}function qO(t,e){if(e&&(Ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yc(t)}function yc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(t)}function uf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ZO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&zy(i,c)})(a,t);var e,n,r=KO(a);function a(i){var c;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),uf(yc(c=r.call(this,i)),"style",{}),uf(yc(c),"defaultAngle",void 0),uf(yc(c),"normal",void 0),uf(yc(c),"stepperDrag",void 0),uf(yc(c),"onDragging",function(v){var b,x=v.event,P=c.props,D=P.graphModel,L=P.nodeModel,U=P.eventCenter,Z=D.selectNodes,oe=L.x,ye=L.y,be=x.clientX,Ee=x.clientY,Te=D.getPointByClient({x:be,y:Ee}).canvasOverlayPosition,Ze=Te.x,et=Te.y,Ot=new or(Ze-oe,et-ye),Qe=((b=c.normal)===null||b===void 0?void 0:b.angle(Ot))-c.defaultAngle,wt=new Yn(-oe,-ye).rotate(Qe).translate(oe,ye).toString();L.gMatrix=wt,L.rotate=Qe;var rt=Object(_b.map)(Z,function(on){return on.id});rt.indexOf(L.id)===-1&&(rt=[L.id]);var tn=Object(_b.reduce)(rt,function(on,Ht){var cn=D.getNodeModelById(Ht);return on[Ht]=cn==null?void 0:cn.getMoveDistance(0,0,!1),on},{});rt.forEach(function(on){D.getNodeEdges(on).forEach(function(Ht){if(tn[Ht.sourceNodeId]){var cn=D.getNodeModelById(Ht.sourceNodeId).anchors.find(function(Jn){return Jn.id===Ht.sourceAnchorId});Ht.updateStartPoint(cn)}if(tn[Ht.targetNodeId]){var Zn=D.getNodeModelById(Ht.targetNodeId).anchors.find(function(Jn){return Jn.id===Ht.targetAnchorId});Ht.updateEndPoint(Zn)}})}),U.emit(pt.NODE_ROTATE,{e:x,nodeModel:L})}),c.style=i.style,c.stepperDrag=new Xo({onDragging:c.onDragging}),c}return e=a,(n=[{key:"render",value:function(){var i=this,c=this.props.nodeModel,v=c.x,b=c.y,x=v+c.width/2+20,P=b-c.height/2-20;return this.normal=new or(1,0),this.defaultAngle=this.normal.angle(new or(x-v,P-b)),c.defaultAngle=this.defaultAngle,Object(pe.g)("g",{className:"lf-rotate-control"},Object(pe.g)("g",{onMouseDown:function(D){i.stepperDrag.handleMouseDown(D)}},Object(pe.g)(ic,Ly({},this.style,{cx:x,cy:P}))))}}])&&$O(e.prototype,n),a}(pe.a);function By(t){return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}var JO=["className"];function sh(){return sh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sh.apply(this,arguments)}function QO(t,e){if(t==null)return{};var n,r,a=function(c,v){if(c==null)return{};var b,x,P={},D=Object.keys(c);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(P[b]=c[b]);return P}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ch(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ob(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ob(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fy(t,e){return Fy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fy(t,e)}function ew(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=lh(t);if(e){var a=lh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tw(this,n)}}function tw(t,e){if(e&&(By(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hr(t)}function Hr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lh(t)}function Qr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sa=function(t){(function(c,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(v&&v.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),v&&Fy(c,v)})(i,t);var e,n,r,a=ew(i);function i(c){var v;(function(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")})(this,i),Qr(Hr(v=a.call(this)),"t",void 0),Qr(Hr(v),"moveOffset",void 0),Qr(Hr(v),"stepDrag",void 0),Qr(Hr(v),"contextMenuTime",void 0),Qr(Hr(v),"startTime",void 0),Qr(Hr(v),"clickTimer",void 0),Qr(Hr(v),"onDragStart",function(L){var U=L.event,Z=U.clientX,oe=U.clientY,ye=v.props,be=ye.model,Ee=ye.graphModel.getPointByClient({x:Z,y:oe}).canvasOverlayPosition,Te=Ee.x,Ze=Ee.y;v.moveOffset={x:be.x-Te,y:be.y-Ze}}),Qr(Hr(v),"onDragging",function(L){var U=L.event,Z=v.props,oe=Z.model,ye=Z.graphModel,be=ye.editConfigModel,Ee=be.stopMoveGraph,Te=be.autoExpand,Ze=ye.transformModel,et=ye.selectNodes,Ot=ye.width,Qe=ye.height,wt=ye.gridSize;oe.isDragging=!0;var rt=U.clientX,tn=U.clientY,on=ye.getPointByClient({x:rt,y:tn}).canvasOverlayPosition,Ht=on.x,cn=on.y,Zn=ch(Ze.CanvasPointToHtmlPoint([Ht,cn]),2),Jn=Zn[0],eo=Zn[1];if(Ht+=v.moveOffset.x,cn+=v.moveOffset.y,Ht=Fo(Ht,wt),cn=Fo(cn,wt),Ot&&Qe){if(!Te||Ee||!(Jn<0||eo<0||Jn>Ot||eo>Qe)){var zi=ch(Ze.CanvasPointToHtmlPoint([Ht-oe.width/2,cn-oe.height/2]),2),$o=zi[0],mc=zi[1],Th=ch(Ze.CanvasPointToHtmlPoint([Ht+oe.width/2,cn+oe.height/2]),2),kh=Th[0],Qu=Th[1],Qa=Math.max(wt,20),eu=[];$o<0?eu=[Qa,0]:kh>ye.width?eu=[-Qa,0]:mc<0?eu=[0,Qa]:Qu>ye.height&&(eu=[0,-Qa]),v.t&&rh(v.t);var Xx=new Yn(-Ht,-cn).rotate(oe.rotate).translate(Ht,cn).toString();oe.gMatrix=Xx;var Dh=et.map(function(Nh){return Nh.id});Dh.indexOf(oe.id)===-1&&(Dh=[oe.id]),eu.length>0&&!Ee&&Te?v.t=pb(function(){var Nh=ch(eu,2),r0=Nh[0],o0=Nh[1];Ze.translate(r0,o0);var Ux=-r0/Ze.SCALE_X,Yx=-o0/Ze.SCALE_X;ye.moveNodes(Dh,Ux,Yx)}):ye.moveNodes(Dh,Ht-oe.x,cn-oe.y)}}else ye.moveNode2Coordinate(oe.id,Ht,cn)}),Qr(Hr(v),"onDragEnd",function(){v.t&&rh(v.t),v.props.model.isDragging=!1}),Qr(Hr(v),"handleClick",function(L){if(v.startTime&&!(new Date().getTime()-v.startTime>200)){var U=v.props,Z=U.model,oe=U.graphModel,ye={data:Z.getData(),e:L,position:oe.getPointByClient({x:L.clientX,y:L.clientY}),isSelected:!1,isMultiple:!1},be=L.button===2,Ee=L.detail===2;if(!be){var Te=oe.editConfigModel,Ze=Wo(L,Te);ye.isMultiple=Ze,Z.isSelected&&!Ee&&Ze?(ye.isSelected=!1,Z.setSelected(!1)):(oe.selectNodeById(Z.id,Ze),ye.isSelected=!0,v.toFront()),Ee?(Te.nodeTextEdit&&Z.text.editable&&(Z.setSelected(!1),oe.setElementStateById(Z.id,fn.TEXT_EDIT)),oe.eventCenter.emit(pt.NODE_DBCLICK,ye)):(oe.eventCenter.emit(pt.ELEMENT_CLICK,ye),oe.eventCenter.emit(pt.NODE_CLICK,ye))}}}),Qr(Hr(v),"handleContextMenu",function(L){L.preventDefault();var U=v.props,Z=U.model,oe=U.graphModel,ye=Z.getData(),be=oe.getPointByClient({x:L.clientX,y:L.clientY});oe.setElementStateById(Z.id,fn.SHOW_MENU,be.domOverlayPosition),Z.isSelected||oe.selectNodeById(Z.id),oe.eventCenter.emit(pt.NODE_CONTEXTMENU,{data:ye,e:L,position:be}),v.toFront()}),Qr(Hr(v),"handleMouseDown",function(L){var U=v.props,Z=U.model,oe=U.graphModel;v.startTime=new Date().getTime(),oe.editConfigModel.adjustNodePosition&&Z.draggable&&v.stepDrag&&v.stepDrag.handleMouseDown(L)}),Qr(Hr(v),"setHoverON",function(L){var U=v.props,Z=U.model,oe=U.graphModel;if(!Z.isHovered){var ye=Z.getData();Z.setHovered(!0),oe.eventCenter.emit(pt.NODE_MOUSEENTER,{data:ye,e:L})}}),Qr(Hr(v),"setHoverOFF",function(L){var U=v.props,Z=U.model,oe=U.graphModel,ye=Z.getData();Z.isHovered&&(Z.setHovered(!1),oe.eventCenter.emit(pt.NODE_MOUSELEAVE,{data:ye,e:L}))}),Qr(Hr(v),"onMouseOut",function(L){VO&&v.setHoverOFF(L)});var b=c.graphModel,x=b.gridSize,P=b.eventCenter,D=c.model;return v.stepDrag=new Xo({onDragStart:v.onDragStart,onDragging:v.onDragging,onDragEnd:v.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:P,model:D}),v}return e=i,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,v=this.props,b=v.model,x=v.graphModel,P=b.isSelected,D=b.isHitable,L=b.isDragging,U=b.isShowAnchor;return D&&(P||U)&&!L?ys(b.anchors,function(Z,oe){var ye=b.getAnchorLineStyle(Z),be=b.getAnchorStyle(Z);return Object(pe.g)(BO,{anchorData:Z,node:c,style:be,edgeStyle:ye,anchorIndex:oe,nodeModel:b,graphModel:x,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,v=c.model,b=c.graphModel,x=v.isSelected,P=v.isHitable,D=v.enableRotate,L=v.isHovered,U=v.getRotateControlStyle().style;if(P&&(x||L)&&D)return Object(pe.g)(ZO,{graphModel:b,nodeModel:v,eventCenter:b.eventCenter,style:U})}},{key:"getText",value:function(){var c=this.props,v=c.model,b=c.graphModel;if(v.state===fn.TEXT_EDIT)return"";if(v.text){var x=b.editConfigModel,P=!1;return(v.text.draggable||x.nodeTextDraggable)&&(P=!0),Object(pe.g)(bb,{editable:x.nodeTextEdit&&v.text.editable,model:v,graphModel:b,draggable:P})}}},{key:"getStateClassName",value:function(){var c=this.props.model,v=c.state,b=c.isDragging,x=c.isSelected,P="lf-node";switch(v){case fn.ALLOW_CONNECT:P+=" lf-node-allow";break;case fn.NOT_ALLOW_CONNECT:P+=" lf-node-not-allow";break;default:P+=" lf-node-default"}return b&&(P+=" lf-isDragging"),x&&(P+=" lf-node-selected"),P}},{key:"toFront",value:function(){var c=this.props,v=c.model,b=c.graphModel;b.overlapMode!==xn.INCREASE&&v.autoToFront&&b.toFront(v.id)}},{key:"render",value:function(){var c,v=this.props,b=v.model,x=v.graphModel,P=x.editConfigModel,D=P.hideAnchors,L=P.adjustNodePosition,U=P.allowRotation,Z=x.gridSize,oe=x.transformModel.SCALE_X,ye=b.isHitable,be=b.draggable,Ee=b.gMatrix,Te=b.getOuterGAttributes(),Ze=Te.className,et=Ze===void 0?"":Ze,Ot=QO(Te,JO),Qe=Object(pe.g)("g",{className:"lf-node-content"},Object(pe.g)("g",Ee&&{transform:Ee},this.getShape(),this.getText(),U&&this.getRotateControl()),!D&&this.getAnchors());return ye?(L&&be&&this.stepDrag.setStep(Z*oe),c=Object(pe.g)("g",sh({className:"".concat(this.getStateClassName()," ").concat(et,"}"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Ot),Qe)):c=Object(pe.g)("g",sh({className:"".concat(this.getStateClassName()," ").concat(et)},Ot),Qe),c}}])&&wb(e.prototype,n),r&&wb(e,r),i}(pe.a);function Wy(t){return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function Gy(){return Gy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function nw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e){return Hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hy(t,e)}function ow(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fh(t);if(e){var a=fh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return iw(this,n)}}function iw(t,e){if(e&&(Wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(t)}var Xy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Hy(i,c)})(a,t);var e,n,r=ow(a);function a(){return nw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(pe.g)($a,Gy({},c,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&rw(e.prototype,n),a}(sa);function Uy(t){return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function Yy(){return Yy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yy.apply(this,arguments)}function aw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vy(t,e){return Vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vy(t,e)}function sw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ph(t);if(e){var a=ph(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cw(this,n)}}function cw(t,e){if(e&&(Uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(t)}var $y=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Vy(i,c)})(a,t);var e,n,r=sw(a);function a(){return aw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,v=i.y,b=i.r,x=i.getNodeStyle();return Object(pe.g)(ic,Yy({},x,{x:c,y:v,r:b}))}}])&&uw(e.prototype,n),a}(sa);function Ky(t){return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function lw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return xb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eb(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(a){var i=lw(a,2),c=i[0],v=i[1];Ky(v)!=="object"&&(r[c]=v)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(a){return a.join(",")}).join(" "),Object(pe.g)("polygon",r)}function qy(t){return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function Zy(){return Zy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(this,arguments)}function fw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jy(t,e){return Jy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jy(t,e)}function hw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hh(t);if(e){var a=hh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dw(this,n)}}function dw(t,e){if(e&&(qy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hh(t)}var Qy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Jy(i,c)})(a,t);var e,n,r=hw(a);function a(){return fw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,v=i.y,b=i.width,x=i.height,P=i.points,D=i.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(c-b/2," ").concat(v-x/2,")")};return Object(pe.g)("g",L,Object(pe.g)(Eb,Zy({},D,{points:P,x:c,y:v})))}}])&&pw(e.prototype,n),a}(sa);function ev(t){return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function tv(){return tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function yw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nv(t,e){return nv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nv(t,e)}function gw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dh(t);if(e){var a=dh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return mw(this,n)}}function mw(t,e){if(e&&(ev(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dh(t)}var rv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&nv(i,c)})(a,t);var e,n,r=gw(a);function a(){return yw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(pe.g)("g",null,Object(pe.g)(Eb,tv({},c,{points:i.points,x:i.x,y:i.y})))}}])&&vw(e.prototype,n),a}(sa);function ov(t){return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function bw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Sb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Sb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _w(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.rx,c=i===void 0?4:i,v=t.ry,b=v===void 0?4:v,x=t.className,P={cx:n,cy:a,rx:c,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var L=bw(D,2),U=L[0],Z=L[1];ov(Z)!=="object"&&(P[U]=Z)}),P.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(pe.g)("ellipse",P)}function iv(t){return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}function av(){return av=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(this,arguments)}function Ow(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ww(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uv(t,e){return uv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},uv(t,e)}function xw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=yh(t);if(e){var a=yh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ew(this,n)}}function Ew(t,e){if(e&&(iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(t)}var sv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&uv(i,c)})(a,t);var e,n,r=xw(a);function a(){return Ow(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(pe.g)(_w,av({},c,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&ww(e.prototype,n),a}(sa);function cv(t){return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function jb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jb(Object(n),!0).forEach(function(r){Sw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lv(t,e){return lv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lv(t,e)}function Mw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vh(t);if(e){var a=vh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Aw(this,n)}}function Aw(t,e){if(e&&(cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(t)}var fv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&lv(i,c)})(a,t);var e,n,r=Mw(a);function a(){return jw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),v=i.width,b=i.height,x=i.x,P=i.y,D=Pb(Pb({},c.background),{},{x,y:P-1,width:v,height:b});return Object(pe.g)($a,D)}},{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getBackground())}}])&&Pw(e.prototype,n),a}(sa);function pv(t){return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function hv(){return hv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function Tw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dv(t,e){return dv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dv(t,e)}function Dw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gh(t);if(e){var a=gh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Nw(this,n)}}function Nw(t,e){if(e&&(pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sf(t)}function sf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(t)}function mh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&dv(i,c)})(a,t);var e,n,r=Dw(a);function a(){var i;Tw(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return mh(sf(i=r.call.apply(r,[this].concat(v))),"ref",void 0),mh(sf(i),"currentProperties",void 0),mh(sf(i),"preProperties",void 0),mh(sf(i),"setRef",function(x){i.ref=x}),i}return e=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,c=i.x,v=i.y,b=i.height,x=i.width,P=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(pe.g)("foreignObject",hv({},P,{x:c-x/2,y:v-b/2,width:x,height:b,ref:this.setRef}))}}])&&kw(e.prototype,n),a}(sa);function vv(t){return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function gv(){return gv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(this,arguments)}function Mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mb(Object(n),!0).forEach(function(r){_v(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mv(t,e){return mv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mv(t,e)}function Iw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=bh(t);if(e){var a=bh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Rw(this,n)}}function Rw(t,e){if(e&&(vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bv(t)}function bv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bh(t)}function _v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ri,Lw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&mv(i,c)})(a,t);var e,n,r=Iw(a);function a(i){var c;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),_v(bv(c=r.call(this,i)),"setHoverON",function(){c.setState({isHovered:!0})}),_v(bv(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),v=i.text,b=i.width,x=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(x=Zu(Zu({},x),c.hover.background)),v&&v.value&&x.fill!=="transparent"){var P,D=c.fontSize,L=c.overflowMode,U=c.lineHeight,Z=c.wrapPadding,oe=c.textWidth,ye=v.value,be=v.x,Ee=v.y,Te=String(ye).split(/[\r\n]/g),Ze=Te.length;if(L==="autoWrap"&&oe){var et=pp({rows:Te,style:{fontSize:"".concat(D,"px"),width:"".concat(oe,"px"),lineHeight:U,padding:Z},rowsLength:Ze,className:"lf-get-text-height"});P=Zu(Zu({},x),{},{x:be-1,y:Ee-1,width:oe,height:et})}else{Te&&Te.forEach(function(tn){Hl(tn)});var Ot=_l({rows:Te,fontSize:D,rowsLength:Ze}),Qe=Ot.width,wt=Ot.height;if(L==="ellipsis"&&(Qe=oe||b,wt=D+2),typeof x.wrapPadding=="string"){var rt=x.wrapPadding.split(",").filter(function(tn){return tn.trim()}).map(function(tn){return parseFloat(tn.trim())});rt.length>0&&rt.length<=4&&(rt.length===1?rt=[rt[0],rt[0],rt[0],rt[0]]:rt.length===2?rt=[rt[0],rt[1],rt[0],rt[1]]:rt.length===3&&(rt=[rt[0],rt[1],rt[2],rt[1]]),Qe+=rt[1]+rt[3],wt+=rt[0]+rt[2],be+=(rt[1]-rt[3])/2,Ee+=(rt[2]-rt[0])/2)}P=Zu(Zu({},x),{},{x:be-1,y:Ee-1,width:Qe,height:wt})}return Object(pe.g)($a,P)}}},{key:"getShape",value:function(){var i=this.props.model,c=i.text,v=c.value,b=c.x,x=c.y;if(v){var P=Zu({x:b,y:x,className:"lf-element-text",value:v},i.getTextStyle());return Object(pe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(pe.g)(gb,gv({},P,{model:i})))}}}])&&Cw(e.prototype,n),a}(bb);function Ov(t){return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function Ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(n),!0).forEach(function(r){jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Tb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Tb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wv(t,e){return wv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wv(t,e)}function Fw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_h(t);if(e){var a=_h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ww(this,n)}}function Ww(t,e){if(e&&(Ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(t)}function So(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_h(t)}function jo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ri||(Ri={}));var kb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&wv(i,c)})(a,t);var e,n,r=Fw(a);function a(i){var c;(function(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),jo(So(c=r.call(this)),"stepDragData",void 0),jo(So(c),"stepDrag",void 0),jo(So(c),"oldEdge",void 0),jo(So(c),"preTargetNode",void 0),jo(So(c),"targetRuleResults",void 0),jo(So(c),"sourceRuleResults",void 0),jo(So(c),"handleMouseDown",function(P){c.stepDrag&&c.stepDrag.handleMouseDown(P)}),jo(So(c),"onDragStart",function(){var P=c.props,D=P.x,L=P.y,U=P.edgeModel,Z=U.startPoint,oe=U.endPoint,ye=U.pointsList;c.oldEdge={startPoint:Z,endPoint:oe,pointsList:ye},c.setState({endX:D,endY:L,dragging:!0})}),jo(So(c),"onDragging",function(P){var D=P.deltaX,L=P.deltaY,U=c.state,Z=U.endX,oe=U.endY,ye=c.props,be=ye.graphModel,Ee=ye.type,Te=be.transformModel,Ze=be.editConfigModel,et=zw(Te.moveCanvasPointByHtml([Z,oe],D,L),2),Ot=et[0],Qe=et[1];c.setState({endX:Ot,endY:Qe,dragging:!0});var wt=c.props.edgeModel,rt=qi({x:Z,y:oe},be);if(rt&&rt.node&&c.isAllowAdjust(rt).pass){var tn,on=wt.startPoint,Ht=wt.endPoint,cn=wt.sourceNode,Zn=wt.targetNode;Ee===Ri.SOURCE?tn={startPoint:{x:rt.anchor.x,y:rt.anchor.y},endPoint:{x:Ht.x,y:Ht.y},sourceNode:rt.node,targetNode:Zn}:Ee===Ri.TARGET&&(tn={startPoint:{x:on.x,y:on.y},endPoint:{x:rt.anchor.x,y:rt.anchor.y},sourceNode:cn,targetNode:rt.node}),wt.updateAfterAdjustStartAndEnd(tn)}else Ee===Ri.SOURCE?wt.updateStartPoint({x:Ot,y:Qe}):Ee===Ri.TARGET&&wt.updateEndPoint({x:Ot,y:Qe});wt.text.value&&Ze.adjustEdge&&wt.setText(Object.assign({},wt.text,wt.textPosition))}),jo(So(c),"onDragEnd",function(P){var D=P.event;try{var L;c.setState({dragging:!1});var U=c.props,Z=U.graphModel,oe=U.edgeModel,ye=U.type,be=c.state,Ee=be.endX,Te=be.endY,Ze=be.dragging,et=qi({x:Ee,y:Te},Z);if(!Ze)return;var Ot,Qe=!1;if(et&&et.node){var wt=c.isAllowAdjust(et),rt=wt.pass,tn=wt.msg,on=wt.newTargetNode;if(rt){var Ht,cn=oe.getData();Ot=ca(ca({},cn),{},{sourceAnchorId:"",targetAnchorId:"",text:(cn==null||(Ht=cn.text)===null||Ht===void 0?void 0:Ht.value)||""}),ye===Ri.SOURCE?(Ot=ca(ca({},Z.edgeGenerator(Z.getNodeModelById(et.node.id).getData(),Z.getNodeModelById(oe.targetNodeId).getData(),Ot)),{},{sourceNodeId:et.node.id,sourceAnchorId:et.anchor.id,startPoint:{x:et.anchor.x,y:et.anchor.y},targetNodeId:oe.targetNodeId,endPoint:ca({},oe.endPoint)}),oe.sourceNodeId===et.node.id&&oe.sourceAnchorId===et.anchor.id&&(Qe=!0)):ye===Ri.TARGET&&(Ot=ca(ca({},Z.edgeGenerator(Z.getNodeModelById(oe.sourceNodeId).getData(),Z.getNodeModelById(et.node.id).getData(),Ot)),{},{sourceNodeId:oe.sourceNodeId,startPoint:ca({},oe.startPoint),targetNodeId:et.node.id,targetAnchorId:et.anchor.id,endPoint:{x:et.anchor.x,y:et.anchor.y}}),oe.targetNodeId===et.node.id&&oe.targetAnchorId===et.anchor.id&&(Qe=!0))}else{Qe=!0;var Zn=on.getData();Z.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:Zn,msg:tn})}}else Qe=!0;if(Qe)c.recoveryEdge();else{var Jn=oe.getData();Z.deleteEdgeById(oe.id);var eo=Z.addEdge(ca({},Ot));Z.eventCenter.emit(pt.EDGE_EXCHANGE_NODE,{data:{newEdge:eo.getData(),oldEdge:Jn}})}(L=c.preTargetNode)===null||L===void 0||L.setElementState(fn.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(pt.ADJUST_POINT_DRAGEND,{e:D,data:c.stepDragData})}}),jo(So(c),"recoveryEdge",function(){var P=c.props.edgeModel,D=c.oldEdge,L=D.startPoint,U=D.endPoint,Z=D.pointsList;P.updateStartPoint(L),P.updateEndPoint(U),P.modelType!==Kt.LINE_EDGE&&(P.pointsList=Z,P.initPoints())}),jo(So(c),"getAdjustPointStyle",function(){var P=c.props,D=P.graphModel.theme;return P.edgeModel,D.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var v=i.type,b=i.edgeModel,x=i.graphModel.eventCenter;return c.stepDragData={type:v,edgeData:b.getData()},c.stepDrag=new Xo({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:c.stepDragData}),c}return e=a,(n=[{key:"isAllowAdjust",value:function(i){var c=this.props,v=c.edgeModel,b=v.id,x=v.sourceNode,P=v.targetNode,D=v.sourceAnchorId,L=v.targetAnchorId,U=c.type,Z=null,oe=null,ye=null,be=null;if(U===Ri.SOURCE?(Z=i.node,oe=P,ye=i.anchor,be=P.getAnchorInfo(L)):(Z=x,oe=i.node,be=i.anchor,ye=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(fn.DEFAULT),this.preTargetNode=i.node,be.id===ye.id)return{pass:!1,msg:"",newTargetNode:oe};var Ee="".concat(Z.id,"_").concat(oe.id,"_").concat(ye.id,"_").concat(be.id);if(!this.targetRuleResults.has(Ee)){var Te=Z.isAllowConnectedAsSource(oe,ye,be,b),Ze=oe.isAllowConnectedAsTarget(Z,ye,be,b);this.sourceRuleResults.set(Ee,Iu(Te)),this.targetRuleResults.set(Ee,Iu(Ze))}var et=this.sourceRuleResults.get(Ee),Ot=et.isAllPass,Qe=et.msg,wt=this.targetRuleResults.get(Ee),rt=wt.isAllPass,tn=wt.msg,on=Ot&&rt?fn.ALLOW_CONNECT:fn.NOT_ALLOW_CONNECT;return U===Ri.SOURCE?Z.setElementState(on):oe.setElementState(on),{pass:Ot&&rt,msg:tn||Qe,newTargetNode:oe}}},{key:"render",value:function(){var i=this.props,c=i.x,v=i.y,b=i.getAdjustPointShape,x=i.edgeModel,P=this.state.dragging;return Object(pe.g)("g",{pointerEvents:P?"none":"",onMouseDown:this.handleMouseDown},P?"":b(c,v,x))}}])&&Bw(e.prototype,n),a}(pe.a);function xv(t){return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function cf(){return cf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}function Gw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Db(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Db(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ev(t,e){return Ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ev(t,e)}function Uw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Oh(t);if(e){var a=Oh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Yw(this,n)}}function Yw(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(t)}function hi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(t)}function Li(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lf=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ev(i,c)})(a,t);var e,n,r=Uw(a);function a(){var i;Hw(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Li(hi(i=r.call.apply(r,[this].concat(v))),"startTime",void 0),Li(hi(i),"contextMenuTime",void 0),Li(hi(i),"clickTimer",void 0),Li(hi(i),"textRef",Object(pe.f)()),Li(hi(i),"handleHover",function(x,P){var D=i.props,L=D.model,U=D.graphModel.eventCenter;L.setHovered(x);var Z=x?pt.EDGE_MOUSEENTER:pt.EDGE_MOUSELEAVE,oe=L.getData();U.emit(Z,{data:oe,e:P})}),Li(hi(i),"setHoverON",function(x){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,x))}),Li(hi(i),"setHoverOFF",function(x){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,x))}),Li(hi(i),"handleContextMenu",function(x){x.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var P=i.props,D=P.model,L=P.graphModel,U=L.getPointByClient({x:x.clientX,y:x.clientY});L.setElementStateById(D.id,fn.SHOW_MENU,U.domOverlayPosition),i.toFront(),D.isSelected||L.selectEdgeById(D.id);var Z=D==null?void 0:D.getData();L.eventCenter.emit(pt.EDGE_CONTEXTMENU,{data:Z,e:x,position:U})}),Li(hi(i),"handleMouseDown",function(x){x.stopPropagation(),i.startTime=new Date().getTime()}),Li(hi(i),"handleMouseUp",function(x){if(i.startTime&&!(new Date().getTime()-i.startTime>200||x.button===2)){var P=x.detail===2,D=i.props,L=D.model,U=D.graphModel,Z=L==null?void 0:L.getData(),oe=U.getPointByClient({x:x.clientX,y:x.clientY});if(P){var ye=U.editConfigModel,be=U.textEditElement;if(be&&be.id===L.id&&U.setElementStateById(L.id,fn.DEFAULT),ye.edgeTextEdit&&L.text.editable&&U.setElementStateById(L.id,fn.TEXT_EDIT),L.modelType===Kt.POLYLINE_EDGE){var Ee=L,Te=U.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Ze=Te.x,et=Te.y,Ot=Ul({x:Ze,y:et},Ee.points);Ee.dbClickPosition=Ot}U.eventCenter.emit(pt.EDGE_DBCLICK,{data:Z,e:x,position:oe})}else U.eventCenter.emit(pt.ELEMENT_CLICK,{data:Z,e:x,position:oe}),U.eventCenter.emit(pt.EDGE_CLICK,{data:Z,e:x,position:oe});var Qe=U.editConfigModel;U.selectEdgeById(L.id,Wo(x,Qe)),i.toFront()}}),i}return e=a,(n=[{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,c=i.model,v=i.graphModel;if(c.state===fn.TEXT_EDIT)return null;var b=!1,x=v.editConfigModel;return(c.text.draggable||x.edgeTextDraggable)&&(b=!0),Object(pe.g)(Lw,{ref:this.textRef,editable:x.edgeTextEdit&&c.text.editable,model:c,graphModel:v,draggable:b})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.startPoint,v=i.endPoint,b=i.isSelected;return{start:c,end:v,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,c=i.id,v=i.getArrowStyle(),b=v.refY,x=b===void 0?0:b,P=v.refX,D=P===void 0?2:P,L=Gw(this.getLastTwoPoints(),2),U=L[0],Z=L[1],oe="auto";return U!==null&&Z!==null&&(oe=Xn(Tr({x:Z.x-U.x,y:Z.y-U.y,z:0}))),Object(pe.g)("g",null,Object(pe.g)("defs",null,Object(pe.g)("marker",{id:"marker-start-".concat(c),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(pe.g)("marker",{id:"marker-end-".concat(c),refX:D,refY:x,overflow:"visible",orient:oe,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(pe.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),c=i.stroke,v=i.strokeWidth,b=i.offset,x=i.verticalLength;return Object(pe.g)("path",{stroke:c,fill:c,strokeWidth:v,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(x," L ").concat(b," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(i,c,v){var b=v.getAdjustPointStyle();return Object(pe.g)(ic,cf({className:"lf-edge-adjust-point"},b,{x:i,y:c}))}},{key:"getAdjustPoints",value:function(){var i=this.props,c=i.model,v=i.graphModel,b=c.getAdjustStart(),x=c.getAdjustEnd();return Object(pe.g)("g",null,Object(pe.g)(kb,cf({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:v})),Object(pe.g)(kb,cf({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:v})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(pe.g)("g",null)}},{key:"getAppend",value:function(){return Object(pe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,c=i.graphModel,v=i.model;c.overlapMode!==xn.INCREASE&&c.toFront(v.id)}},{key:"render",value:function(){var i=this.props,c=i.model,v=c.isSelected,b=c.isHitable,x=c.isShowAdjustPoint;return i.graphModel.animation,Object(pe.g)("g",null,Object(pe.g)("g",{className:["lf-edge",!b&&"pointer-none",v&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&v?this.getAdjustPoints():"")}}])&&Xw(e.prototype,n),a}(pe.a);function Sv(t){return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function Vw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Nb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Nb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ff=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=Vw(n,2),a=r[0],i=r[1],c=Sv(i);a!=="style"&&c==="object"||(e[a]=i)}),Object(pe.g)("path",e)};function jv(t){return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function Pv(){return Pv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function $w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mv(t,e){return Mv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mv(t,e)}function qw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wh(t);if(e){var a=wh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Zw(this,n)}}function Zw(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wh(t)}var Av=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Mv(i,c)})(a,t);var e,n,r=qw(a);function a(){return $w(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.startPoint,v=i.endPoint,b=i.isAnimation,x=i.arrowConfig,P=i.getEdgeStyle(),D=i.getEdgeAnimationStyle(),L=D.strokeDasharray,U=D.stroke,Z=D.strokeDashoffset,oe=D.animationName,ye=D.animationDuration,be=D.animationIterationCount,Ee=D.animationTimingFunction,Te=D.animationDirection;return Object(pe.g)(rc,Pv({},P,{x1:c.x,y1:c.y,x2:v.x,y2:v.y},x,b?{strokeDasharray:L,stroke:U,style:{strokeDashoffset:Z,animationName:oe,animationDuration:ye,animationIterationCount:be,animationTimingFunction:Ee,animationDirection:Te}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,c=i.startPoint,v=i.endPoint,b=Xl({start:c,end:v}),x=b.d,P=b.strokeWidth,D=b.fill,L=b.strokeDasharray,U=b.stroke;return Object(pe.g)(ff,{d:x,fill:D,strokeWidth:P,stroke:U,strokeDasharray:L})}}])&&Kw(e.prototype,n),a}(lf);function Tv(t){return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function Jw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Cb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qw=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=Jw(n,2),a=r[0],i=r[1];(a==="style"||Tv(i)!=="object")&&(e[a]=i)}),Object(pe.g)("polyline",e)};function kv(t){return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function Ib(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ib(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dv(){return Dv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function ex(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Rb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Rb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nv(t,e){return Nv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nv(t,e)}function nx(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Eh(t);if(e){var a=Eh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return rx(this,n)}}function rx(t,e){if(e&&(kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(t)}function la(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Eh(t)}function fa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Nv(i,c)})(a,t);var e,n,r=nx(a);function a(){var i;return function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}(this,a),fa(la(i=r.call(this)),"drag",void 0),fa(la(i),"isDragging",void 0),fa(la(i),"isShowAdjustPointTemp",void 0),fa(la(i),"appendInfo",void 0),fa(la(i),"onDragStart",function(){var c=i.props.model;c.dragAppendStart(),i.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),fa(la(i),"onDragging",function(c){var v=c.deltaX,b=c.deltaY,x=i.props,P=x.model,D=x.graphModel;i.isDragging=!0;var L=D.transformModel,U=D.editConfigModel,Z=ex(L.fixDeltaXY(v,b),2),oe=Z[0],ye=Z[1],be=P,Ee=U.adjustEdgeMiddle;i.appendInfo=Ee?be.dragAppendSimple(i.appendInfo,{x:oe,y:ye}):be.dragAppend(i.appendInfo,{x:oe,y:ye})}),fa(la(i),"onDragEnd",function(){var c=i.props,v=c.model,b=c.graphModel.eventCenter,x=v;x.dragAppendEnd(),i.isDragging=!1,x.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,b.emit(pt.EDGE_ADJUST,{data:x.getData()})}),fa(la(i),"beforeDragStart",function(c,v){v.dragAble&&i.drag.handleMouseDown(c),i.appendInfo=v}),i.drag=new Xo({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.points,v=i.isAnimation,b=i.arrowConfig,x=i.getEdgeStyle(),P=i.getEdgeAnimationStyle(),D=P.strokeDasharray,L=P.stroke,U=P.strokeDashoffset,Z=P.animationName,oe=P.animationDuration,ye=P.animationIterationCount,be=P.animationTimingFunction,Ee=P.animationDirection;return Object(pe.g)(Qw,Dv({points:c},x,b,v?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:U,animationName:Z,animationDuration:oe,animationIterationCount:ye,animationTimingFunction:be,animationDirection:Ee}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.points,v=i.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:v},x=Ai(c);return x.length>=2&&(b.start=x[x.length-2],b.end=x[x.length-1]),b}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,c=Ai(i);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var c,v=i.start,b=i.end;if(v.x===b.x&&v.y===b.y)c="";else{var x={start:v,end:b,offset:10,verticalLength:5},P=zu(xh(xh({},x),{},{type:"start"})),D=zu(xh(xh({},x),{},{type:"end"}));c="M".concat(P.leftX," ").concat(P.leftY,` 
      L`).concat(P.rightX," ").concat(P.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var c=this.getAppendAttributes(i),v=c.d,b=c.strokeWidth,x=c.fill,P=c.strokeDasharray,D=c.stroke;return Object(pe.g)(ff,{d:v,fill:x,strokeWidth:b,stroke:D,strokeDasharray:P})}},{key:"getAppendWidth",value:function(){for(var i=this,c=this.props,v=c.model,b=c.graphModel,x=v.pointsList,P=v.draggable,D=[],L=x.length,U=function(oe){var ye="lf-polyline-append",be={start:{x:x[oe].x,y:x[oe].y},end:{x:x[oe+1].x,y:x[oe+1].y},startIndex:oe,endIndex:oe+1,direction:"",dragAble:!0},Ee=Object(pe.g)("g",{className:ye},i.getAppendShape(be)),Te=b.editConfigModel,Ze=Te.adjustEdge,et=Te.adjustEdgeMiddle;if(Ze&&P){var Ot=be.startIndex,Qe=be.endIndex,wt=et&&(Ot===0||Qe===L-1);be.dragAble=!wt,be.start.x===be.end.x?(be.dragAble&&(ye+="-ew-resize"),be.direction=wn.VERTICAL):be.start.y===be.end.y&&(be.dragAble&&(ye+="-ns-resize"),be.direction=wn.HORIZONTAL),Ee=Object(pe.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(rt){return i.beforeDragStart(rt,be)}},Object(pe.g)("g",{className:ye},i.getAppendShape(be)))}D.push(Ee)},Z=0;Z<L-1;Z++)U(Z);return Object(pe.g)("g",null,D)}}])&&tx(e.prototype,n),a}(lf);function Iv(t){return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function ox(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Lb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Lb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rv(){return Rv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function ix(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ax(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lv(t,e){return Lv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Lv(t,e)}function ux(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sh(t);if(e){var a=Sh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return sx(this,n)}}function sx(t,e){if(e&&(Iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}var zv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Lv(i,c)})(a,t);var e,n,r=ux(a);function a(){return ix(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.getEdgeStyle(),v=i.path,b=i.isAnimation,x=i.arrowConfig,P=i.getEdgeAnimationStyle(),D=P.strokeDasharray,L=P.stroke,U=P.strokeDashoffset,Z=P.animationName,oe=P.animationDuration,ye=P.animationIterationCount,be=P.animationTimingFunction,Ee=P.animationDirection;return Object(pe.g)(ff,Rv({d:v},c,x,b?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:U,animationName:Z,animationDuration:oe,animationIterationCount:ye,animationTimingFunction:be,animationDirection:Ee}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(pe.g)(ff,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=this.state.hover,v=i.isSelected,b=i.getArrowStyle().offset,x=i.pointsList.map(function(D){return{x:D.x,y:D.y}}),P=ox(qs(x,b),2);return{start:P[0],end:P[1],hover:c,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,c=i.getArrowStyle().offset,v=i.pointsList.map(function(b){return{x:b.x,y:b.y}});return qs(v,c)}}])&&ax(e.prototype,n),a}(lf);function Bv(t){return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fv(t,e){return Fv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fv(t,e)}function px(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jh(t);if(e){var a=jh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return hx(this,n)}}function hx(t,e){if(e&&(Bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(t)}var dx=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Fv(i,c)})(a,t);var e,n,r=px(a);function a(){return lx(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getArrowAttributes",value:function(){var i=this.props,c=i.arrowInfo,v=i.style,b=c.start,x=c.end,P={start:b,end:x,offset:v.offset,verticalLength:v.verticalLength,type:"end"},D=zu(P),L=D.leftX,U=D.leftY,Z=D.rightX,oe=D.rightY;return function(ye){for(var be=1;be<arguments.length;be++){var Ee=arguments[be]!=null?arguments[be]:{};be%2?zb(Object(Ee),!0).forEach(function(Te){cx(ye,Te,Ee[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(Ee)):zb(Object(Ee)).forEach(function(Te){Object.defineProperty(ye,Te,Object.getOwnPropertyDescriptor(Ee,Te))})}return ye}({d:"M".concat(L," ").concat(U," L").concat(x.x," ").concat(x.y," L").concat(Z," ").concat(oe," z")},v)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),c=i.d,v=i.strokeWidth,b=i.stroke,x=i.fill;return Object(pe.g)(ff,{d:c,fill:x,strokeWidth:v,stroke:b})}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&fx(e.prototype,n),a}(pe.a),Bb=function(t,e){return Se(t,e)},yx=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Wv=function(){return ft.a.Date.now()},vx=/\s/,gx=function(t){for(var e=t.length;e--&&vx.test(t.charAt(e)););return e},mx=/^\s+/,bx=function(t){return t&&t.slice(0,gx(t)+1).replace(mx,"")},_x=/^[-+]0x[0-9a-f]+$/i,Ox=/^0b[01]+$/i,wx=/^0o[0-7]+$/i,xx=parseInt,Fb=function(t){if(typeof t=="number")return t;if(Ft(t))return NaN;if(Nn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Nn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=bx(t);var n=Ox.test(t);return n||wx.test(t)?xx(t.slice(2),n?2:8):_x.test(t)?NaN:+t},Ex=Math.max,Sx=Math.min,jx=function(t,e,n){var r,a,i,c,v,b,x=0,P=!1,D=!1,L=!0;if(typeof t!="function")throw new TypeError("Expected a function");function U(Te){var Ze=r,et=a;return r=a=void 0,x=Te,c=t.apply(et,Ze)}function Z(Te){return x=Te,v=setTimeout(ye,e),P?U(Te):c}function oe(Te){var Ze=Te-b;return b===void 0||Ze>=e||Ze<0||D&&Te-x>=i}function ye(){var Te=Wv();if(oe(Te))return be(Te);v=setTimeout(ye,function(Ze){var et=e-(Ze-b);return D?Sx(et,i-(Ze-x)):et}(Te))}function be(Te){return v=void 0,L&&r?U(Te):(r=a=void 0,c)}function Ee(){var Te=Wv(),Ze=oe(Te);if(r=arguments,a=this,b=Te,Ze){if(v===void 0)return Z(b);if(D)return clearTimeout(v),v=setTimeout(ye,e),U(b)}return v===void 0&&(v=setTimeout(ye,e)),c}return e=Fb(e)||0,Nn(n)&&(P=!!n.leading,i=(D="maxWait"in n)?Ex(Fb(n.maxWait)||0,e):i,L="trailing"in n?!!n.trailing:L),Ee.cancel=function(){v!==void 0&&clearTimeout(v),x=0,r=b=a=v=void 0},Ee.flush=function(){return v===void 0?c:be(Wv())},Ee},Px=o(172);function Mx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ja(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wb,Gb,Hb,Ax=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Ja(this,"undos",[]),Ja(this,"redos",[]),Ja(this,"callbacks",[]),Ja(this,"stopWatch",null),Ja(this,"curData",null),Ja(this,"maxSize",50),Ja(this,"waitTime",100),Ja(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){Bb(yx(this.undos),r)||(this.undos.push(r),Bb(this.curData,r)||(this.redos=[]),this.eventCenter.emit(pt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=Tn(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Tn(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Px.a)(r,jx(function(){var i=r.modelToHistoryData();i&&a.add(i)},this.waitTime))}}])&&Mx(e.prototype,n),t}();function Gv(t){return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function Tx(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Xb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ub(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ub(Object(n),!0).forEach(function(r){Ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ub(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hv(t,e){return Hv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hv(t,e)}function kx(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ph(t);if(e){var a=Ph(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Dx(this,n)}}function Dx(t,e){if(e&&(Gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gc(t)}function gc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(t)}function Ju(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vb,$b,Kb,Xv=di((Hb=Gb=function(t){(function(c,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(v&&v.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),v&&Hv(c,v)})(i,t);var e,n,r,a=kx(i);function i(){var c;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),Ju(gc(c=a.call(this)),"ref",Object(pe.f)()),Ju(gc(c),"__prevText",{type:"",text:"",id:""}),Ju(gc(c),"keyupHandler",function(v){var b=c.props.graphModel.textEditElement;v.key==="Enter"&&v.altKey&&b.setElementState(0)}),Ju(gc(c),"inputHandler",function(v){var b=v.target.innerText,x=c.props.graphModel.textEditElement;c.__prevText={type:x.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Ju(gc(c),"keydownHandler",function(v){v.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=i,r=[{key:"getDerivedStateFromProps",value:function(c){var v,b=c.graphModel,x=b.transformModel,P=b.theme,D=b.textEditElement;if(D){var L;if((L=D.text)===null||L===void 0||!L.value)if(D.BaseType===qn.EDGE){var U=(D=D).text,Z=D.textPosition,oe=Z.x,ye=Z.y;U.x=oe,U.y=ye,D.setText(U)}else D=D;var be={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(D.BaseType===qn.EDGE){var Ee=P.edgeText,Te=Ee.overflowMode,Ze=Ee.lineHeight,et=Ee.wrapPadding,Ot=Ee.textWidth;Ot&&Te==="autoWrap"&&(v=vc(vc({},be),{},{width:Ot,minWidth:Ot,lineHeight:Ze,padding:et}))}else if(D.BaseType===qn.NODE){var Qe=P.nodeText,wt=Qe.overflowMode,rt=Qe.lineHeight,tn=Qe.wrapPadding,on=Qe.textWidth,Ht=D,cn=Ht.width,Zn=Ht.modelType;(Zn!==Kt.TEXT_NODE&&wt==="autoWrap"||Zn===Kt.TEXT_NODE&&on)&&(v=vc(vc({},be),{},{width:on||cn,minWidth:on||cn,lineHeight:rt,padding:tn}))}var Jn=D.text,eo=Jn.x,zi=Jn.y,$o=Tx(x.CanvasPointToHtmlPoint([eo,zi]),2);return{style:vc({left:$o[0],top:$o[1]},v)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var v=this.__prevText,b=v.text,x=v.id;c.updateText(x,b),c.eventCenter.emit(pt.TEXT_UPDATE,vc({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var v=document.createRange();v.selectNodeContents(c),v.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(v)}}},{key:"render",value:function(){var c,v=this.props.graphModel.textEditElement,b=this.state.style;return v?Object(pe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:v.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=v.text)===null||c===void 0?void 0:c.value):null}}])&&Yb(e.prototype,n),r&&Yb(e,r),i}(pe.a),Ju(Gb,"toolName","textEdit"),Wb=Hb))||Wb,Nx=function(t){return t.modelType===Kt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,a=(n.x+r.x)/2,i=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,v=Math.abs(n.y-r.y)+10;return{x:a-c/2,y:i-v/2,x1:a+c/2,y1:i+v/2}}(t):t.modelType===Kt.POLYLINE_EDGE?function(e){var n=e.points,r=Ai(n),a=Ha(r,8),i=a.x,c=a.y,v=a.width,b=a.height;return{x:i-v/2,y:c-b/2,x1:i+v/2,y1:c+b/2}}(t):t.modelType===Kt.BEZIER_EDGE?function(e){var n=e.path,r=Ks(n),a=Ha(r,8),i=a.x,c=a.y,v=a.width,b=a.height;return{x:i-v/2,y:c-b/2,x1:i+v/2,y1:c+b/2}}(t):void 0};function Uv(t){return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function qb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){x=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return v}}(t,e)||Zb(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cx(t){return function(e){if(Array.isArray(e))return Yv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Zb(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zb(t,e){if(t){if(typeof t=="string")return Yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yv(t,e):void 0}}function Yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ix(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vv(t,e){return Vv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vv(t,e)}function Rx(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mh(t);if(e){var a=Mh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Lx(this,n)}}function Lx(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pf(t)}function pf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mh(t)}function hf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $v=di((Kb=$b=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Vv(i,c)})(a,t);var e,n,r=Rx(a);function a(i){var c;(function(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),hf(pf(c=r.call(this)),"stepDrag",void 0),hf(pf(c),"handleMouseDown",function(P){c.stepDrag.handleMouseDown(P)}),hf(pf(c),"onDragging",function(P){var D=P.deltaX,L=P.deltaY,U=c.props.graphModel,Z=U.getSelectElements(!0);U.moveNodes(Z.nodes.map(function(oe){return oe.id}),D,L)}),hf(pf(c),"handleContextMenu",function(P){P.preventDefault();var D=c.props,L=D.graphModel,U=D.graphModel,Z=U.eventCenter,oe=U.selectElements,ye=L.getPointByClient({x:P.clientX,y:P.clientY}),be={nodes:[],edges:[]};Cx(oe.values()).forEach(function(Ee){Ee.BaseType===qn.NODE&&be.nodes.push(Ee.getData()),Ee.BaseType===qn.EDGE&&be.edges.push(Ee.getData())}),Z.emit(pt.SELECTION_CONTEXTMENU,{data:be,e:P,position:ye})});var v=i.graphModel,b=v.gridSize,x=v.eventCenter;return c.stepDrag=new Xo({onDragging:c.onDragging,step:b,eventType:"SELECTION",eventCenter:x}),c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel,c=i.selectElements,v=i.transformModel;if(!(c.size<=1)){var b=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;c.forEach(function(oe){var ye={x:0,y:0,x1:0,y1:0};oe.BaseType===qn.NODE&&(ye=function(be){var Ee=be.x,Te=be.y,Ze=be.width,et=be.height;return{x:Ee-Ze/2,y:Te-et/2,x1:Ee+Ze/2,y1:Te+et/2}}(oe)),oe.BaseType===qn.EDGE&&(ye=Nx(oe)),b=Math.min(b,ye.x),x=Math.min(x,ye.y),P=Math.max(P,ye.x1),D=Math.max(D,ye.y1)});var L=qb(v.CanvasPointToHtmlPoint([b,x]),2);b=L[0],x=L[1];var U=qb(v.CanvasPointToHtmlPoint([P,D]),2);P=U[0],D=U[1];var Z={left:"".concat(b-10,"px"),top:"".concat(x-10,"px"),width:"".concat(P-b+20,"px"),height:"".concat(D-x+20,"px")};return Object(pe.g)("div",{className:"lf-multiple-select",style:Z,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Ix(e.prototype,n),a}(pe.a),hf($b,"toolName","multipleSelect"),Vb=Kb))||Vb;function zx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ah(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bx=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Ah(this,"tools",void 0),Ah(this,"components",void 0),Ah(this,"toolMap",new Map),Ah(this,"instance",void 0),this.instance=r,this.isDisabledTool(Xv.toolName)||this.registerTool(Xv.toolName,Xv),this.isDisabledTool($v.toolName)||this.registerTool($v.toolName,$v);var a=r.graphModel;a.eventCenter.on("".concat(pt.GRAPH_TRANSFORM,",").concat(pt.NODE_CLICK,",").concat(pt.BLANK_CLICK," "),function(){var i=a.textEditElement,c=a.editConfigModel,v=c.edgeTextEdit,b=c.nodeTextEdit;(v||b)&&i&&a.textEditElement.setElementState(fn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&zx(e.prototype,n),t}(),Fx=o(173),Wx=o.n(Fx);function Gx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jb=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Kv(this,"mousetrap",void 0),Kv(this,"options",void 0),Kv(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new Wx.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(mn(a))a.forEach(function(b){var x=b.keys,P=b.callback,D=b.action;return r.on(x,P,D)});else{var i=a.keys,c=a.callback,v=a.action;this.on(i,c,v)}}},{key:"on",value:function(r,a,i){this.mousetrap.bind(this.getKeys(r),a,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(i){return a.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Gx(e.prototype,n),t}(),Hx=Jb,pa=null;function Qb(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function e0(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function qv(t){return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function t0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t0(Object(n),!0).forEach(function(r){Vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zv=Symbol("plugin register by Logicflow.use"),Jv=function(){function t(a){var i,c,v=this;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),Vn(this,"container",void 0),Vn(this,"width",void 0),Vn(this,"height",void 0),Vn(this,"graphModel",void 0),Vn(this,"history",void 0),Vn(this,"viewMap",new Map),Vn(this,"tool",void 0),Vn(this,"keyboard",void 0),Vn(this,"dnd",void 0),Vn(this,"options",void 0),Vn(this,"snaplineModel",void 0),Vn(this,"components",[]),Vn(this,"plugins",void 0),Vn(this,"extension",{}),Vn(this,"adapterIn",void 0),Vn(this,"adapterOut",void 0),Vn(this,"getView",function(b){return v.viewMap.get(b)}),a=Zg(a),this.options=a,this.container=this.initContainer(a.container),this.plugins=a.plugins,this.graphModel=new X_(df({},a)),this.tool=new Bx(this),this.history=new Ax(this.graphModel.eventCenter),this.dnd=new F1({lf:this}),this.keyboard=new Hx({lf:this,keyboard:a.keyboard}),a.snapline!==!1&&(this.snaplineModel=new fb(this.graphModel),i=this.graphModel.eventCenter,c=this.snaplineModel,i.on("node:mousemove",function(b){var x=b.data;c.setNodeSnapLine(x)}),i.on("node:mouseup",function(){c.clearSnapline()})),this.options.isSilentMode||(function(b,x){var P=b.keyboard,D=P.options.keyboard;P.on(["cmd + c","ctrl + c"],function(){if(!D.enabled||x.textEditElement)return!0;var L=b.options.guards,U=x.getSelectElements(!1);return L&&L.beforeClone&&!L.beforeClone(U)||U.nodes.length===0&&U.edges.length===0?(pa=null,!0):((pa=U).nodes.forEach(function(Z){return Qb(Z,40)}),pa.edges.forEach(function(Z){return e0(Z,40)}),!1)}),P.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(pa&&(pa.nodes||pa.edges)){b.clearSelectElements();var L=b.addElements(pa);if(!L)return!0;L.nodes.forEach(function(U){return b.selectElementById(U.id,!0)}),L.edges.forEach(function(U){return b.selectElementById(U.id,!0)}),pa.nodes.forEach(function(U){return Qb(U,40)}),pa.edges.forEach(function(U){return e0(U,40)})}return!1}),P.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(b.undo(),!1)}),P.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(b.redo(),!1)}),P.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var L=x.getSelectElements(!0);return b.clearSelectElements(),L.edges.forEach(function(U){return b.deleteEdge(U.id)}),L.nodes.forEach(function(U){return b.deleteNode(U.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var v={BaseEdge:lf,BaseEdgeModel:wl,BaseNode:sa,BaseNodeModel:ua,RectNode:Xy,RectNodeModel:Oy,CircleNode:$y,CircleNodeModel:ny,PolygonNode:Qy,PolygonNodeModel:gy,TextNode:fv,TextNodeModel:Sy,LineEdge:Av,LineEdgeModel:Ji,DiamondNode:rv,DiamondNodeModel:uy,PolylineEdge:Cv,PolylineEdgeModel:Us,BezierEdge:zv,BezierEdgeModel:qd,EllipseNode:sv,EllipseNodeModel:fy,HtmlNode:yv,HtmlNodeModel:My,h:pe.g,type:a};this.viewMap.forEach(function(L){var U=L.extendKey;U&&(v[U]=L)}),this.graphModel.modelMap.forEach(function(L){var U=L.extendKey;U&&(v[U]=L)});var b=i(v),x=b.view,P=b.model,D=x;c&&!D.isObervered&&(D.isObervered=!0,D=st(D)),this.setView(a,D),this.graphModel.setModel(a,P)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var i=a.view;a.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=st(i)),this.setView(a.type,i),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(c){a.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Xy,model:Oy,type:"rect"}),this.registerElement({type:"circle",view:$y,model:ny}),this.registerElement({type:"polygon",view:Qy,model:gy}),this.registerElement({type:"line",view:Av,model:Ji}),this.registerElement({type:"polyline",view:Cv,model:Us}),this.registerElement({type:"bezier",view:zv,model:qd}),this.registerElement({type:"text",view:fv,model:Sy}),this.registerElement({type:"ellipse",view:sv,model:fy}),this.registerElement({type:"diamond",view:rv,model:uy}),this.registerElement({type:"html",view:yv,model:My})}},{key:"selectElementById",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(a,i),!i&&c&&this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var i=this.graphModel.transformModel,c=a.coordinate,v=a.id;if(!c){var b=this.getNodeModelById(v);b&&(c=b.getData());var x=this.getEdgeModelById(v);x&&(c=x.textPosition)}var P=c,D=P.x,L=P.y;i.focusOn(D,L,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,i){this.graphModel.resize(a,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,i){this.graphModel.updateText(a,i)}},{key:"deleteElement",value:function(a){var i,c,v,b=this.getModelById(a);return!!b&&(c=(v=(Vn(i={},qn.NODE,this.deleteNode),Vn(i,qn.EDGE,this.deleteEdge),i)[b.BaseType])===null||v===void 0?void 0:v.call(this,a))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(a,i){this.graphModel.changeNodeType(a,i)}},{key:"changeEdgeType",value:function(a,i){this.graphModel.changeEdgeType(a,i)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(a,i,c)}},{key:"deleteNode",value:function(a){var i=this.graphModel.getNodeModelById(a);if(!i)return!1;var c=i.getData(),v=this.options.guards,b=!v||!v.beforeDelete||v.beforeDelete(c);return b&&this.graphModel.deleteNode(a),b}},{key:"cloneNode",value:function(a){var i=this.graphModel.getNodeModelById(a).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(i))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,i){return this.graphModel.changeNodeId(a,i)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){var i;return(i=this.graphModel.getNodeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var i=this.options.guards,c=this.graphModel.edgesMap[a];if(!c)return!1;var v=c.model.getData(),b=!i||!i.beforeDelete||i.beforeDelete(v);return b&&this.graphModel.deleteEdgeById(a),b}},{key:"deleteEdgeByNodeId",value:function(a){var i=a.sourceNodeId,c=a.targetNodeId;i&&c?this.graphModel.deleteEdgeBySourceAndTarget(i,c):i?this.graphModel.deleteEdgeBySource(i):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(a,i){return this.graphModel.changeEdgeId(a,i)}},{key:"getEdgeModelById",value:function(a){var i;return(i=this.graphModel.edgesMap[a])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(a){var i=this.graphModel.edges,c=a.sourceNodeId,v=a.targetNodeId;if(c&&v){var b=[];return i.forEach(function(D){D.sourceNodeId===c&&D.targetNodeId===v&&b.push(D)}),b}if(c){var x=[];return i.forEach(function(D){D.sourceNodeId===c&&x.push(D)}),x}if(v){var P=[];return i.forEach(function(D){D.targetNodeId===v&&P.push(D)}),P}return[]}},{key:"getEdgeDataById",value:function(a){var i;return(i=this.getEdgeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.setProperties(Sn(i))}},{key:"deleteProperty",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.deleteProperty(i)}},{key:"getProperties",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,i){return this.graphModel.setElementZIndex(a,i)}},{key:"addElements",value:function(a){for(var i=this,c=a.nodes,v=a.edges,b={},x={nodes:[],edges:[]},P=0;P<c.length;P++){var D=c[P],L=D.id,U=this.addNode(D);if(!U)return;L&&(b[L]=U.id),x.nodes.push(U)}return v.forEach(function(Z){var oe=Z.sourceNodeId,ye=Z.targetNodeId;b[oe]&&(oe=b[oe]),b[ye]&&(ye=b[ye]);var be=i.graphModel.addEdge(df(df({},Z),{},{sourceNodeId:oe,targetNodeId:ye}));x.edges.push(be)}),x}},{key:"getAreaElement",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(a,i,c,v,b).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,c=new Array(i),v=0;v<i;v++)c[v]=arguments[v];return this.adapterOut.apply(this,[a].concat(c))}return a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){this.graphModel.editConfigModel.updateEditConfig(a)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,i){return this.graphModel.getPointByClient({x:a,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=Sn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=Sn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,i){return this.graphModel.transformModel.zoom(a,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,i){this.graphModel.transformModel.translate(a,i)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,i=a.TRANSLATE_X,c=a.TRANSLATE_Y;this.translate(-i,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,i){i===void 0&&(i=a),this.graphModel.fitView(a,i)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,i){this.graphModel.eventCenter.on(a,i)}},{key:"off",value:function(a,i){this.graphModel.eventCenter.off(a,i)}},{key:"once",value:function(a,i){this.graphModel.eventCenter.once(a,i)}},{key:"emit",value:function(a,i){this.graphModel.eventCenter.emit(a,i)}},{key:"initContainer",value:function(a){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",a.innerHTML="",a.appendChild(i),i}},{key:"installPlugins",value:function(){var a,i=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=(a=this.plugins)!==null&&a!==void 0?a:t.extensions;v.forEach(function(b){var x=null,P=null;b[Zv]?(x=b.extension,P=b.props):x=b;var D=x.pluginName||x.name;c.indexOf(D)===-1&&i.installPlugin(x,P)})}},{key:"installPlugin",value:function(a,i){if(qv(a)==="object"){var c=a.install,v=a.render;return c&&c.call(a,this,t),v&&this.components.push(v.bind(a)),void(this.extension[a.pluginName]=a)}var b=a,x=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:i});x.render&&this.components.push(x.render.bind(x)),this.extension[b.pluginName]=x}},{key:"updateAttributes",value:function(a,i){this.graphModel.updateAttributes(a,i)}},{key:"createFakerNode",value:function(a){var i=this.graphModel.modelMap.get(a.type);if(i){var c=new i(df(df({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,i){this.viewMap.set(a,i)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(Sn(a)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(pe.j)(Object(pe.g)(z1,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(pt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}],r=[{key:"use",value:function(a,i){var c,v,b=a.pluginName;b||(b=a.name);var x=(c=this.extensions.get(b))===null||c===void 0?void 0:c.extension;x&&x.destroy&&x.destroy(),this.extensions.set(b,(Vn(v={},Zv,Zv),Vn(v,"extension",a),Vn(v,"props",i),v))}}],n&&n0(e.prototype,n),r&&n0(e,r),t}();function di(t){return st(t)}Vn(Jv,"extensions",new Map),l.default=Jv}])})})(rg,rg.exports);var We=rg.exports,NM=function(){function y(){globalThis._ids=this,this._ids=new Set}return y.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return h},y.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},y}(),CM=(globalThis==null?void 0:globalThis._ids)||new NM;function Tc(){return CM.next()}var y_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(y){y_(h,y);function h(u,l){var o=this;return u.id||(u.id="Event_"+Tc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=y.call(this,u,l)||this,o}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var u=y.prototype.getConnectedTargetRules.call(this),l={message:"起始节点不能作为边的终点",validate:function(){return!1}};return u.push(l),u},h.extendKey="StartEventModel",h})(We.CircleNodeModel);(function(y){y_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="StartEventNode",h})(We.CircleNode);var v_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Bh=globalThis&&globalThis.__assign||function(){return Bh=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Bh.apply(this,arguments)};(function(y){v_(h,y);function h(u,l){var o=this;return u.id||(u.id="Event_"+Tc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=y.call(this,u,l)||this,o}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var u=y.prototype.getConnectedSourceRules.call(this),l={message:"结束节点不能作为边的起点",validate:function(){return!1}};return u.push(l),u},h.extendKey="EndEventModel",h})(We.CircleNodeModel);(function(y){v_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var u=this.props.model,l=u.getNodeStyle(),o=u.x,f=u.y,p=u.r,m=y.prototype.getShape.call(this);return We.h("g",{},m,We.h("circle",Bh(Bh({},l),{cx:o,cy:f,r:p-5})))},h.extendKey="EndEventView",h})(We.CircleNode);var g_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),bf=globalThis&&globalThis.__assign||function(){return bf=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},bf.apply(this,arguments)};(function(y){g_(h,y);function h(u,l){var o=this;return u.id||(u.id="Gateway_"+Tc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=y.call(this,u,l)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return h.extendKey="ExclusiveGatewayModel",h})(We.PolygonNodeModel);(function(y){g_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.points,g=u.getNodeStyle();return We.h("g",{transform:"matrix(1 0 0 1 "+(l-f/2)+" "+(o-p/2)+")"},We.h("polygon",bf(bf({},g),{x:l,y:o,points:m})),We.h("path",bf({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},h.extendKey="ExclusiveGatewayNode",h})(We.PolygonNode);var m_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Fh=globalThis&&globalThis.__assign||function(){return Fh=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Fh.apply(this,arguments)};(function(y){m_(h,y);function h(u,l){var o=this;return u.id||(u.id="Activity_"+Tc()),o=y.call(this,u,l)||this,o}return h.extendKey="UserTaskModel",h})(We.RectNodeModel);(function(y){m_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.getNodeStyle();return We.h("svg",{x:l-f/2+5,y:o-p/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},We.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.radius,g=u.getNodeStyle();return We.h("g",{},[We.h("rect",Fh(Fh({},g),{x:l-f/2,y:o-p/2,rx:m,ry:m,width:f,height:p})),this.getLabelShape()])},h.extendKey="UserTaskNode",h})(We.RectNode);var b_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),og=globalThis&&globalThis.__assign||function(){return og=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},og.apply(this,arguments)};(function(y){b_(h,y);function h(u,l){var o=this;return u.id||(u.id="Activity_"+Tc()),o=y.call(this,u,l)||this,o}return h.extendKey="ServiceTaskModel",h})(We.RectNodeModel);(function(y){b_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.getNodeStyle();return We.h("svg",{x:l-f/2+5,y:o-p/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},We.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.radius,g=u.getNodeStyle();return We.h("g",{},[We.h("rect",og({x:l-f/2,y:o-p/2,rx:m,ry:m,width:f,height:p},g)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h})(We.RectNode);var __=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(y){__(h,y);function h(u,l){var o=this;return u.id||(u.id="Flow_"+Tc()),o=y.call(this,u,l)||this,o}return h.extendKey="SequenceFlowModel",h})(We.PolylineEdgeModel);(function(y){__(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h})(We.PolylineEdge);var y0={width:40,height:40},v0={width:40,height:40},g0={width:40,height:40},m0={width:100,height:80},b0={width:100,height:80},IM=function(){function y(){globalThis._ids=this,this._ids=new Set}return y.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return h},y.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},y}(),RM=(globalThis==null?void 0:globalThis._ids)||new IM;function _0(){return RM.next()}function O_(y){return Object.prototype.toString.call(y)}function LM(y){return"  ".repeat(y)}function Wh(y){var h=y;return O_(y)==="[object Object]"?(h={},Object.keys(y).forEach(function(u){var l=u;u.charAt(0)==="-"&&(l=u.substring(1)),h[l]=Wh(y[u])})):Array.isArray(y)&&(h=[],y.forEach(function(u,l){h[l]=Wh(u)})),h}function zM(y){var h=y;try{typeof h!="string"&&(h=JSON.parse(y))}catch{h=JSON.stringify(Wh(y)).replace(/"/g,"'")}return h}var bc=`	
`;function Ih(y,h,u){var l=LM(u),o="";if(h==="#text")return bc+l+y;if(h==="#cdata-section")return bc+l+"<![CDATA["+y+"]]>";if(h==="#comment")return bc+l+"<!--"+y+"-->";if((""+h).charAt(0)==="-")return" "+h.substring(1)+'="'+zM(y)+'"';if(Array.isArray(y))y.forEach(function(g){o+=Ih(g,h,u+1)});else if(O_(y)==="[object Object]"){var f=Object.keys(y),p="",m="";o+=(u===0?"":bc+l)+"<"+h,f.forEach(function(g){g.charAt(0)==="-"?p+=Ih(y[g],g,u+1):m+=Ih(y[g],g,u+1)}),o+=p+(m!==""?">"+m+(bc+l)+"</"+h+">":" />")}else o+=bc+l+("<"+h+">"+y.toString()+"</"+h+">");return o}function BM(y){var h="";for(var u in y)h+=Ih(y[u],u,0);return h}var ro=function(){};ro.ObjTree=function(){return this};ro.ObjTree.VERSION="0.23";ro.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;ro.ObjTree.prototype.attr_prefix="-";ro.ObjTree.prototype.parseXML=function(y){var h;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(y,"application/xml");if(!l)return;h=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(y),h=u.documentElement);if(h)return this.parseDOM(h)};ro.ObjTree.prototype.parseHTTP=function(y,h,u){var l={};for(var o in h)l[o]=h[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var f=this,p=u,m=l.onComplete;l.onComplete=function(j){var S;j&&j.responseXML&&j.responseXML.documentElement&&(S=f.parseDOM(j.responseXML.documentElement)),p(S,j),m&&m(j)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=y;var E=new HTTP.Request(l);E&&(g=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(y,l);E&&(g=E.transport)}if(u)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};ro.ObjTree.prototype.parseDOM=function(y){if(y){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var u=this.parseElement(y);if(this.__force_array[y.nodeName]&&(u=[u]),y.nodeType!=11){var l={};l[y.nodeName]=u,u=l}return u}};ro.ObjTree.prototype.parseElement=function(y){if(y.nodeType!=7){if(y.nodeType==3||y.nodeType==4||y.nodeType==8){var h=y.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:y.nodeValue}var u=null,l={};if(y.attributes&&y.attributes.length){u={};for(var o=0;o<y.attributes.length;o++){var f=y.attributes[o].nodeName;if(typeof f=="string"){var p=y.attributes[o].nodeValue;try{p=JSON.parse(y.attributes[o].nodeValue.replace(/'/g,'"'))}catch{p=y.attributes[o].nodeValue}p&&(f=this.attr_prefix+f,typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(u,f,l[f],p))}}}if(y.childNodes&&y.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<y.childNodes.length&&m;o++){var g=y.childNodes[o].nodeType;g==3||g==4||g==8||(m=!1)}if(m){u||(u="");for(var o=0;o<y.childNodes.length;o++)u+=y.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<y.childNodes.length;o++){var f=y.childNodes[o].nodeName;if(typeof f=="string"){var p=this.parseElement(y.childNodes[o]);p&&(typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(u,f,l[f],p))}}}}else u===null&&(u={});return u}};ro.ObjTree.prototype.addNode=function(y,h,u,l){this.__force_array[h]?(u==1&&(y[h]=[]),y[h][y[h].length]=l):u==1?y[h]=l:u==2?y[h]=[y[h],l]:y[h][y[h].length]=l};ro.ObjTree.prototype.writeXML=function(y){var h=this.hash_to_xml(null,y);return this.xmlDecl+h};ro.ObjTree.prototype.hash_to_xml=function(y,h){var u=[],l=[];for(var o in h)if(h.hasOwnProperty(o)){var f=h[o];o.charAt(0)!=this.attr_prefix?typeof f>"u"||f==null?u[u.length]="<"+o+" />":typeof f=="object"&&f.constructor==Array?u[u.length]=this.array_to_xml(o,f):typeof f=="object"?u[u.length]=this.hash_to_xml(o,f):u[u.length]=this.scalar_to_xml(o,f):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var p=l.join(""),m=u.join("");return typeof y>"u"||y==null||(u.length>0?m.match(/\n/)?m="<"+y+p+`>
`+m+"</"+y+`>
`:m="<"+y+p+">"+m+"</"+y+`>
`:m="<"+y+p+` />
`),m};ro.ObjTree.prototype.array_to_xml=function(y,h){for(var u=[],l=0;l<h.length;l++){var o=h[l];typeof o>"u"||o==null?u[u.length]="<"+y+" />":typeof o=="object"&&o.constructor==Array?u[u.length]=this.array_to_xml(y,o):typeof o=="object"?u[u.length]=this.hash_to_xml(y,o):u[u.length]=this.scalar_to_xml(y,o)}return u.join("")};ro.ObjTree.prototype.scalar_to_xml=function(y,h){return y=="#text"?this.xml_escape(h):"<"+y+">"+this.xml_escape(h)+"</"+y+`>
`};ro.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var FM=function(y){return new ro.ObjTree().parseXML(y)},WM=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),ig=globalThis&&globalThis.__assign||function(){return ig=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},ig.apply(this,arguments)},Zh=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},Bi;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow"})(Bi||(Bi={}));var w_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],O0=["properties","startPoint","endPoint","pointsList"];function w0(y){var h=y?O0.concat(y):O0;return function(u){function l(o){var f={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(p){return l(p)}):(Object.entries(o).forEach(function(p){var m=Zh(p,2),g=m[0],E=m[1];typeof E!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?f[g]=E:f["-"+g]=E:h.includes(g)?f["-"+g]=l(E):f[g]=l(E)}),f)}return l(u)}}function Gh(y){var h={};return Object.entries(y).forEach(function(u){var l=Zh(u,2),o=l[0],f=l[1];o.indexOf("-")===0?h[o.substring(1)]=Wh(f):typeof f=="string"?h[o]=f:Object.prototype.toString.call(f)==="[object Object]"?h[o]=Gh(f):Array.isArray(f)?h[o]=f.map(function(p){return Gh(p)}):h[o]=f}),h}function GM(y,h,u){var l=new Map;h.nodes.forEach(function(f){var p,m={"-id":f.id};if(!((p=f.text)===null||p===void 0)&&p.value&&(m["-name"]=f.text.value),f.properties){var g=w0(u)(f.properties);Object.assign(m,g)}l.set(f.id,m),y[f.type]?Array.isArray(y[f.type])?y[f.type].push(m):y[f.type]=[y[f.type],m]:y[f.type]=m});var o=h.edges.map(function(f){var p,m,g=l.get(f.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(f.id):g["bpmn:incoming"]=[g["bpmn:incoming"],f.id]:g["bpmn:incoming"]=f.id;var E={"-id":f.id,"-sourceRef":f.sourceNodeId,"-targetRef":f.targetNodeId};if(!((p=f.text)===null||p===void 0)&&p.value&&(E["-name"]=(m=f.text)===null||m===void 0?void 0:m.value),f.properties){var j=w0(u)(f.properties);Object.assign(E,j)}return E});h.edges.forEach(function(f){var p=l.get(f.sourceNodeId);p["bpmn:outgoing"]?Array.isArray(p["bpmn:outgoing"])?p["bpmn:outgoing"].push(f.id):p["bpmn:outgoing"]=[p["bpmn:outgoing"],f.id]:p["bpmn:outgoing"]=f.id}),y[Bi.FLOW]=o}function HM(y,h){y["bpmndi:BPMNEdge"]=h.edges.map(function(u){var l,o=u.id,f=u.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),p={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((l=u.text)===null||l===void 0)&&l.value&&(p["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),p}),y["bpmndi:BPMNShape"]=h.nodes.map(function(u){var l,o=u.id,f=100,p=80,m=u.x,g=u.y,E=ru.shapeConfigMap.get(u.type);E&&(f=E.width,p=E.height),m-=f/2,g-=p/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":f,"-height":p}};return!((l=u.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),j})}function XM(y){var h=[],u=[],l=y["bpmn:definitions"];if(l){var o=l["bpmn:process"];Object.keys(o).forEach(function(f){if(f.indexOf("bpmn:")===0){var p=o[f];if(f===Bi.FLOW){var m=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=YM(p,m)}else{var g=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(UM(p,g,f))}}})}return{nodes:h,edges:u}}function UM(y,h,u){var l=[];if(Array.isArray(y))y.forEach(function(p){var m;Array.isArray(h)?m=h.find(function(E){return E["-bpmnElement"]===p["-id"]}):m=h;var g=x0(m,u,p);l.push(g)});else{var o=void 0;Array.isArray(h)?o=h.find(function(p){return p["-bpmnElement"]===y["-id"]}):o=h;var f=x0(o,u,y);l.push(f)}return l}function x0(y,h,u){var l=Number(y["dc:Bounds"]["-x"]),o=Number(y["dc:Bounds"]["-y"]),f=u["-name"],p=ru.shapeConfigMap.get(h);p&&(l+=p.width/2,o+=p.height/2);var m;Object.entries(u).forEach(function(S){var k=Zh(S,2),T=k[0],C=k[1];w_.indexOf(T)===-1&&(m||(m={}),m[T]=C)}),m&&(m=Gh(m));var g;if(f&&(g={x:l,y:o,value:f},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=y["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(E["-x"])+Number(E["-width"])/2,g.y=Number(E["-y"])+Number(E["-height"])/2}var j={id:y["-bpmnElement"],type:h,x:l,y:o,properties:m};return g&&(j.text=g),j}function YM(y,h){var u=[];if(Array.isArray(y))y.forEach(function(o){var f;Array.isArray(h)?f=h.find(function(p){return p["-bpmnElement"]===o["-id"]}):f=h,u.push(E0(f,o))});else{var l=void 0;Array.isArray(h)?l=h.find(function(o){return o["-bpmnElement"]===y["-id"]}):l=h,u.push(E0(l,y))}return u}function E0(y,h){var u,l=h["-name"];if(l){var o=y["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;l.split(`
`).forEach(function(g){f<g.length&&(f=g.length)}),u={value:l,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var p;Object.entries(h).forEach(function(g){var E=Zh(g,2),j=E[0],S=E[1];w_.indexOf(j)===-1&&(p||(p={}),p[j]=S)}),p&&(p=Gh(p));var m={id:h["-id"],type:Bi.FLOW,pointsList:y["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:p};return u&&(m.text=u),m}var ru=function(){function y(h){var u=this,l=h.lf;this.adapterOut=function(o,f){var p=ig({},u.processAttributes);GM(p,o,f);var m={"-id":"BPMNPlane_1","-bpmnElement":p["-id"]};HM(m,o);var g=u.definitionAttributes;g["bpmn:process"]=p,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var E={"bpmn:definitions":g};return E},this.adapterIn=function(o){if(o)return XM(o)},l.adapterIn=function(o){return u.adapterIn(o)},l.adapterOut=function(o,f){return u.adapterOut(o,f)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+_0()},this.definitionAttributes={"-id":"Definitions_"+_0(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return y.prototype.setCustomShape=function(h,u){y.shapeConfigMap.set(h,u)},y.pluginName="bpmn-adapter",y.shapeConfigMap=new Map,y}();ru.shapeConfigMap.set(Bi.START,{width:y0.width,height:y0.height});ru.shapeConfigMap.set(Bi.END,{width:v0.width,height:v0.height});ru.shapeConfigMap.set(Bi.GATEWAY,{width:g0.width,height:g0.height});ru.shapeConfigMap.set(Bi.SYSTEM,{width:m0.width,height:m0.height});ru.shapeConfigMap.set(Bi.USER,{width:b0.width,height:b0.height});(function(y){WM(h,y);function h(u){var l=y.call(this,u)||this;l.adapterXmlIn=function(f){var p=FM(f);return l.adapterIn(p)},l.adapterXmlOut=function(f,p){var m=l.adapterOut(f,p);return BM(m)};var o=u.lf;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l}return h.pluginName="bpmnXmlAdapter",h})(ru);function _g(){var y={message:"分组外的节点不允许连接分组内的",validate:function(h,u,l,o){var f=!!h.properties.parent,p=!!u.properties.parent;return!(!f&&p)}};this.targetRules.push(y)}var VM=function(){function y(){globalThis._ids=this,this._ids=new Set}return y.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return h},y.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},y}(),$M=(globalThis==null?void 0:globalThis._ids)||new VM;function ns(){return $M.next()}var S0=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),_c=globalThis&&globalThis.__assign||function(){return _c=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},_c.apply(this,arguments)},x_=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},KM=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(x_(arguments[h]));return y};function xT(y){var h=x_(y.useDefinition(),1),u=h[0],l=function(f){S0(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},p.prototype.getShape=function(){var m,g=this.props.model,E=g.getNodeStyle(),j=g.x,S=g.y,k=g.r,T=g.width,C=g.height,N=g.properties,R=f.prototype.getShape.call(this),G=N.definitionType,X=(((m=u.endEvent)===null||m===void 0?void 0:m.get(G))||{}).icon,Q=Array.isArray(X)?We.h.apply(void 0,KM(["g",{transform:"matrix(1 0 0 1 "+(j-T/2)+" "+(S-C/2)+")"}],X)):We.h("path",{transform:"matrix(1 0 0 1 "+(j-T/2)+" "+(S-C/2)+")",d:X,style:"fill: black; stroke-linecap: round; stroke-linejoin: round; stroke: white; stroke-width: 1px;"});return We.h("g",{},R,We.h("circle",_c(_c({},E),{strokeWidth:2,cx:j,cy:S,r:k-2})),Q)},p}(We.CircleNode),o=function(f){S0(p,f);function p(m,g){var E,j,S,k=this;m.id||(m.id="Event_"+ns()),m.text||(m.text=""),m.text&&typeof m.text=="string"&&(m.text={value:m.text,x:m.x,y:m.y+40});var T=(((E=u.endEvent)===null||E===void 0?void 0:E.get((j=m.properties)===null||j===void 0?void 0:j.definitionType))||{}).properties,C=T===void 0?{}:T;return m.properties=_c(_c({},C),m.properties),!((S=m.properties)===null||S===void 0)&&S.definitionType&&(m.properties.definitionId="Definition_"+ns()),k=f.call(this,m,g)||this,_g.call(k),k}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedSourceRules=function(){var m=this,g=f.prototype.getConnectedSourceRules.call(this),E={message:"结束节点不能作为边的起点",validate:function(j,S){return j!==m}};return g.push(E),g},p}(We.CircleNodeModel);return{type:"bpmn:endEvent",view:l,model:o}}globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var j0=globalThis&&globalThis.__assign||function(){return j0=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},j0.apply(this,arguments)},qM=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;var P0=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Oc=globalThis&&globalThis.__assign||function(){return Oc=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Oc.apply(this,arguments)},E_=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},ZM=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(E_(arguments[h]));return y};function ET(y){var h=E_(y.useDefinition(),1),u=h[0],l=function(f){P0(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},p.prototype.getShape=function(){var m,g=this.props.model,E=g.getNodeStyle(),j=g.x,S=g.y,k=g.r,T=g.width,C=g.height,N=g.properties,R=N.definitionType,G=N.isInterrupting,X=(((m=u.startEvent)===null||m===void 0?void 0:m.get(R))||{}).icon,Q=Array.isArray(X)?We.h.apply(void 0,ZM(["g",{transform:"matrix(1 0 0 1 "+(j-T/2)+" "+(S-C/2)+")"}],X)):We.h("path",{transform:"matrix(1 0 0 1 "+(j-T/2)+" "+(S-C/2)+")",d:X,style:"fill: white; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});return We.h("g",{},We.h("circle",Oc(Oc({},E),{cx:j,cy:S,r:k,strokeDasharray:G?"5,5":"",strokeWidth:2})),Q)},p}(We.CircleNode),o=function(f){P0(p,f);function p(m,g){var E,j,S,k=this;m.id||(m.id="Event_"+ns()),m.text||(m.text=""),m.text&&typeof m.text=="string"&&(m.text={value:m.text,x:m.x,y:m.y+40});var T=(((E=u.startEvent)===null||E===void 0?void 0:E.get((j=m.properties)===null||j===void 0?void 0:j.definitionType))||{}).properties,C=T===void 0?{}:T;return m.properties=Oc(Oc({},C),m.properties),!((S=m.properties)===null||S===void 0)&&S.definitionType&&(m.properties.definitionId="Definition_"+ns()),k=f.call(this,m,g)||this,k}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedTargetRules=function(){var m=this,g=f.prototype.getConnectedTargetRules.call(this),E={message:"起始节点不能作为边的终点",validate:function(j,S){return S!==m}};return g.push(E),g},p}(We.CircleNodeModel);return{type:"bpmn:startEvent",view:l,model:o}}globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var M0=globalThis&&globalThis.__assign||function(){return M0=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},M0.apply(this,arguments)},JM=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var A0=globalThis&&globalThis.__assign||function(){return A0=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},A0.apply(this,arguments)},QM=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;We.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),We.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),We.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});We.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});var ST="m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z",jT="m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z";We.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var PT="M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z",MT="M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z",AT="M0.5,3.751L4.583,0.5009999999999999C4.583,0.5009999999999999,15.749,0.5839999999999999,16.666,0.5839999999999999S14.249,3.5009999999999994,15.166,3.5009999999999994S26.833,3.5009999999999994,27.75,3.5009999999999994C28.916,5.209,27.582,6.667999999999999,26.916,7.167999999999999S27.791,9.084999999999999,25.916,11.584999999999999C25.166,11.834999999999999,26.666,13.459999999999999,24.583000000000002,14.918C23.416,15.501,25.166,16.46,23.333000000000002,17.750999999999998C22.166,17.750999999999998,2.5000000000000036,17.833999999999996,2.5000000000000036,17.833999999999996L0.5000000000000036,16.500999999999998V3.751ZM13.5,7L27,7M13.5,11L26,11M14,14.5L25,14.5M8.2,3.1L15,3.1",eA="m44,60 m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",tA="m47,61 m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",nA="m 50,73 c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",T0=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),tu=globalThis&&globalThis.__assign||function(){return tu=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},tu.apply(this,arguments)};function TT(y,h,u){var l=function(f){T0(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getShape=function(){var m=this.props.model,g=m.x,E=m.y,j=m.width,S=m.height,k=m.points,T=m.getNodeStyle();return We.h("g",{transform:"matrix(1 0 0 1 "+(g-j/2)+" "+(E-S/2)+")"},We.h("polygon",tu(tu({},T),{x:g,y:E,points:k})),typeof h=="string"?We.h("path",tu(tu({d:h},T),{fill:"rgb(34, 36, 42)",strokeWidth:1})):h)},p}(We.PolygonNode),o=function(f){T0(p,f);function p(m,g){var E=this;return m.id||(m.id="Gateway_"+ns()),m.text||(m.text=""),m.text&&typeof m.text=="string"&&(m.text={value:m.text,x:m.x,y:m.y+40}),m.properties=tu(tu({},u||{}),m.properties),E=f.call(this,m,g)||this,E.points=[[25,0],[50,25],[25,50],[0,25]],_g.call(E),E}return p}(We.PolygonNodeModel);return{type:y,view:l,model:o}}var k0=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),wc=globalThis&&globalThis.__assign||function(){return wc=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},wc.apply(this,arguments)},rA=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},oA=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(rA(arguments[h]));return y},iA={parallel:eA,sequential:tA,loop:nA};function kT(y,h,u){var l=function(f){k0(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getLabelShape=function(){var m=this.props.model,g=m.x,E=m.y,j=m.width,S=m.height,k=m.getNodeStyle(),T=Array.isArray(h)?We.h.apply(void 0,oA(["g",{transform:"matrix(1 0 0 1 "+(g-j/2)+" "+(E-S/2)+")"}],h)):We.h("path",{fill:k.stroke,d:h});return We.h("svg",{x:g-j/2+5,y:E-S/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},T)},p.prototype.getShape=function(){var m=this.props.model,g=m.x,E=m.y,j=m.width,S=m.height,k=m.radius,T=m.properties,C=m.getNodeStyle();return We.h("g",{},[We.h("rect",wc(wc({},C),{x:g-j/2,y:E-S/2,rx:k,ry:k,width:j,height:S,opacity:.95})),this.getLabelShape(),We.h("g",{transform:"matrix(1 0 0 1 "+(g-j/2)+" "+(E-S/2)+")"},We.h("path",{fill:"white",strokeLinecap:"round",strokeLinejoin:"round",stroke:"rgb(34, 36, 42)",strokeWidth:"2",d:iA[T.multiInstanceType]||""}))])},p}(We.RectNode),o=function(f){k0(p,f);function p(m,g){var E,j=this;m.id||(m.id="Activity_"+ns());var S=wc(wc({},u||{}),m.properties);return m.properties=S,j=f.call(this,m,g)||this,(E=S==null?void 0:S.boundaryEvents)===null||E===void 0||E.forEach(function(k){j.addBoundaryEvent(k)}),j.deleteProperty("boundaryEvents"),_g.call(j),j}return p.prototype.initNodeData=function(m){f.prototype.initNodeData.call(this,m),this.isTaskNode=!0,this.boundaryEvents=[]},p.prototype.getNodeStyle=function(){var m=f.prototype.getNodeStyle.call(this),g=this.properties.isBoundaryEventTouchingTask;return g&&(m.stroke="#00acff",m.strokeWidth=2),m},p.prototype.getOutlineStyle=function(){var m=f.prototype.getOutlineStyle.call(this);return m.stroke="transparent",!m.hover&&(m.hover={}),m.hover.stroke="transparent",m},p.prototype.setTouching=function(m){this.setProperty("isBoundaryEventTouchingTask",m)},p.prototype.addBoundaryEvent=function(m){if(this.setTouching(!1),this.boundaryEvents.find(function(E){return E===m}))return!1;var g=this.graphModel.getNodeModelById(m);return g==null||g.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(m),!0},p.prototype.deleteBoundaryEvent=function(m){this.boundaryEvents=this.boundaryEvents.filter(function(g){return g!==m})},p}(We.RectNodeModel);return{type:y,view:l,model:o}}var Og,dr,S_,es,D0,j_,ag,Rh={},P_=[],aA=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,wg=Array.isArray;function nu(y,h){for(var u in h)y[u]=h[u];return y}function M_(y){var h=y.parentNode;h&&h.removeChild(y)}function _f(y,h,u){var l,o,f,p={};for(f in h)f=="key"?l=h[f]:f=="ref"?o=h[f]:p[f]=h[f];if(arguments.length>2&&(p.children=arguments.length>3?Og.call(arguments,2):u),typeof y=="function"&&y.defaultProps!=null)for(f in y.defaultProps)p[f]===void 0&&(p[f]=y.defaultProps[f]);return Lh(y,p,l,o,null)}function Lh(y,h,u,l,o){var f={type:y,props:h,key:u,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++S_};return o==null&&dr.vnode!=null&&dr.vnode(f),f}function xg(y){return y.children}function Sc(y,h){this.props=y,this.context=h}function Sf(y,h){if(h==null)return y.__?Sf(y.__,y.__.__k.indexOf(y)+1):null;for(var u;h<y.__k.length;h++)if((u=y.__k[h])!=null&&u.__e!=null)return u.__e;return typeof y.type=="function"?Sf(y):null}function A_(y){var h,u;if((y=y.__)!=null&&y.__c!=null){for(y.__e=y.__c.base=null,h=0;h<y.__k.length;h++)if((u=y.__k[h])!=null&&u.__e!=null){y.__e=y.__c.base=u.__e;break}return A_(y)}}function N0(y){(!y.__d&&(y.__d=!0)&&es.push(y)&&!Hh.__r++||D0!==dr.debounceRendering)&&((D0=dr.debounceRendering)||j_)(Hh)}function Hh(){var y,h,u,l,o,f,p,m,g;for(es.sort(ag);y=es.shift();)y.__d&&(h=es.length,l=void 0,o=void 0,f=void 0,m=(p=(u=y).__v).__e,(g=u.__P)&&(l=[],o=[],(f=nu({},p)).__v=p.__v+1,N_(g,p,f,u.__n,g.ownerSVGElement!==void 0,p.__h!=null?[m]:null,l,m??Sf(p),p.__h,o),cA(l,p,o),p.__e!=m&&A_(p)),es.length>h&&es.sort(ag));Hh.__r=0}function T_(y,h,u,l,o,f,p,m,g,E,j){var S,k,T,C,N,R,G,X,Q,ue=0,re=l&&l.__k||P_,te=re.length,ne=te,Y=h.length;for(u.__k=[],S=0;S<Y;S++)(C=u.__k[S]=(C=h[S])==null||typeof C=="boolean"||typeof C=="function"?null:typeof C=="string"||typeof C=="number"||typeof C=="bigint"?Lh(null,C,null,null,C):wg(C)?Lh(xg,{children:C},null,null,null):C.__b>0?Lh(C.type,C.props,C.key,C.ref?C.ref:null,C.__v):C)!=null?(C.__=u,C.__b=u.__b+1,(X=uA(C,re,G=S+ue,ne))===-1?T=Rh:(T=re[X]||Rh,re[X]=void 0,ne--),N_(y,C,T,o,f,p,m,g,E,j),N=C.__e,(k=C.ref)&&T.ref!=k&&(T.ref&&Eg(T.ref,null,C),j.push(k,C.__c||N,C)),N!=null&&(R==null&&(R=N),(Q=T===Rh||T.__v===null)?X==-1&&ue--:X!==G&&(X===G+1?ue++:X>G?ne>Y-G?ue+=X-G:ue--:ue=X<G&&X==G-1?X-G:0),G=S+ue,typeof C.type!="function"||X===G&&T.__k!==C.__k?typeof C.type=="function"||X===G&&!Q?C.__d!==void 0?(g=C.__d,C.__d=void 0):g=N.nextSibling:g=D_(y,N,g):g=k_(C,g,y),typeof u.type=="function"&&(u.__d=g))):(T=re[S])&&T.key==null&&T.__e&&(T.__e==g&&(g=Sf(T)),ug(T,T,!1),re[S]=null);for(u.__e=R,S=te;S--;)re[S]!=null&&(typeof u.type=="function"&&re[S].__e!=null&&re[S].__e==u.__d&&(u.__d=re[S].__e.nextSibling),ug(re[S],re[S]))}function k_(y,h,u){for(var l,o=y.__k,f=0;o&&f<o.length;f++)(l=o[f])&&(l.__=y,h=typeof l.type=="function"?k_(l,h,u):D_(u,l.__e,h));return h}function D_(y,h,u){return u==null||u.parentNode!==y?y.insertBefore(h,null):h==u&&h.parentNode!=null||y.insertBefore(h,u),h.nextSibling}function uA(y,h,u,l){var o=y.key,f=y.type,p=u-1,m=u+1,g=h[u];if(g===null||g&&o==g.key&&f===g.type)return u;if(l>(g!=null?1:0))for(;p>=0||m<h.length;){if(p>=0){if((g=h[p])&&o==g.key&&f===g.type)return p;p--}if(m<h.length){if((g=h[m])&&o==g.key&&f===g.type)return m;m++}}return-1}function sA(y,h,u,l,o){var f;for(f in u)f==="children"||f==="key"||f in h||Xh(y,f,null,u[f],l);for(f in h)o&&typeof h[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||u[f]===h[f]||Xh(y,f,h[f],u[f],l)}function C0(y,h,u){h[0]==="-"?y.setProperty(h,u??""):y[h]=u==null?"":typeof u!="number"||aA.test(h)?u:u+"px"}function Xh(y,h,u,l,o){var f;e:if(h==="style")if(typeof u=="string")y.style.cssText=u;else{if(typeof l=="string"&&(y.style.cssText=l=""),l)for(h in l)u&&h in u||C0(y.style,h,"");if(u)for(h in u)l&&u[h]===l[h]||C0(y.style,h,u[h])}else if(h[0]==="o"&&h[1]==="n")f=h!==(h=h.replace(/(PointerCapture)$|Capture$/,"$1")),h=h.toLowerCase()in y?h.toLowerCase().slice(2):h.slice(2),y.l||(y.l={}),y.l[h+f]=u,u?l||y.addEventListener(h,f?R0:I0,f):y.removeEventListener(h,f?R0:I0,f);else if(h!=="dangerouslySetInnerHTML"){if(o)h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!=="width"&&h!=="height"&&h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h!=="rowSpan"&&h!=="colSpan"&&h in y)try{y[h]=u??"";break e}catch{}typeof u=="function"||(u==null||u===!1&&h[4]!=="-"?y.removeAttribute(h):y.setAttribute(h,u))}}function I0(y){return this.l[y.type+!1](dr.event?dr.event(y):y)}function R0(y){return this.l[y.type+!0](dr.event?dr.event(y):y)}function N_(y,h,u,l,o,f,p,m,g,E){var j,S,k,T,C,N,R,G,X,Q,ue,re,te,ne,Y,B=h.type;if(h.constructor!==void 0)return null;u.__h!=null&&(g=u.__h,m=h.__e=u.__e,h.__h=null,f=[m]),(j=dr.__b)&&j(h);e:if(typeof B=="function")try{if(G=h.props,X=(j=B.contextType)&&l[j.__c],Q=j?X?X.props.value:j.__:l,u.__c?R=(S=h.__c=u.__c).__=S.__E:("prototype"in B&&B.prototype.render?h.__c=S=new B(G,Q):(h.__c=S=new Sc(G,Q),S.constructor=B,S.render=fA),X&&X.sub(S),S.props=G,S.state||(S.state={}),S.context=Q,S.__n=l,k=S.__d=!0,S.__h=[],S._sb=[]),S.__s==null&&(S.__s=S.state),B.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=nu({},S.__s)),nu(S.__s,B.getDerivedStateFromProps(G,S.__s))),T=S.props,C=S.state,S.__v=h,k)B.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(B.getDerivedStateFromProps==null&&G!==T&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(G,Q),!S.__e&&(S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(G,S.__s,Q)===!1||h.__v===u.__v)){for(h.__v!==u.__v&&(S.props=G,S.state=S.__s,S.__d=!1),h.__e=u.__e,h.__k=u.__k,h.__k.forEach(function(V){V&&(V.__=h)}),ue=0;ue<S._sb.length;ue++)S.__h.push(S._sb[ue]);S._sb=[],S.__h.length&&p.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(G,S.__s,Q),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(T,C,N)})}if(S.context=Q,S.props=G,S.__P=y,S.__e=!1,re=dr.__r,te=0,"prototype"in B&&B.prototype.render){for(S.state=S.__s,S.__d=!1,re&&re(h),j=S.render(S.props,S.state,S.context),ne=0;ne<S._sb.length;ne++)S.__h.push(S._sb[ne]);S._sb=[]}else do S.__d=!1,re&&re(h),j=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++te<25);S.state=S.__s,S.getChildContext!=null&&(l=nu(nu({},l),S.getChildContext())),k||S.getSnapshotBeforeUpdate==null||(N=S.getSnapshotBeforeUpdate(T,C)),T_(y,wg(Y=j!=null&&j.type===xg&&j.key==null?j.props.children:j)?Y:[Y],h,u,l,o,f,p,m,g,E),S.base=h.__e,h.__h=null,S.__h.length&&p.push(S),R&&(S.__E=S.__=null)}catch(V){h.__v=null,(g||f!=null)&&(h.__e=m,h.__h=!!g,f[f.indexOf(m)]=null),dr.__e(V,h,u)}else f==null&&h.__v===u.__v?(h.__k=u.__k,h.__e=u.__e):h.__e=lA(u.__e,h,u,l,o,f,p,g,E);(j=dr.diffed)&&j(h)}function cA(y,h,u){for(var l=0;l<u.length;l++)Eg(u[l],u[++l],u[++l]);dr.__c&&dr.__c(h,y),y.some(function(o){try{y=o.__h,o.__h=[],y.some(function(f){f.call(o)})}catch(f){dr.__e(f,o.__v)}})}function lA(y,h,u,l,o,f,p,m,g){var E,j,S,k=u.props,T=h.props,C=h.type,N=0;if(C==="svg"&&(o=!0),f!=null){for(;N<f.length;N++)if((E=f[N])&&"setAttribute"in E==!!C&&(C?E.localName===C:E.nodeType===3)){y=E,f[N]=null;break}}if(y==null){if(C===null)return document.createTextNode(T);y=o?document.createElementNS("http://www.w3.org/2000/svg",C):document.createElement(C,T.is&&T),f=null,m=!1}if(C===null)k===T||m&&y.data===T||(y.data=T);else{if(f=f&&Og.call(y.childNodes),j=(k=u.props||Rh).dangerouslySetInnerHTML,S=T.dangerouslySetInnerHTML,!m){if(f!=null)for(k={},N=0;N<y.attributes.length;N++)k[y.attributes[N].name]=y.attributes[N].value;(S||j)&&(S&&(j&&S.__html==j.__html||S.__html===y.innerHTML)||(y.innerHTML=S&&S.__html||""))}if(sA(y,T,k,o,m),S)h.__k=[];else if(T_(y,wg(N=h.props.children)?N:[N],h,u,l,o&&C!=="foreignObject",f,p,f?f[0]:u.__k&&Sf(u,0),m,g),f!=null)for(N=f.length;N--;)f[N]!=null&&M_(f[N]);m||("value"in T&&(N=T.value)!==void 0&&(N!==y.value||C==="progress"&&!N||C==="option"&&N!==k.value)&&Xh(y,"value",N,k.value,!1),"checked"in T&&(N=T.checked)!==void 0&&N!==y.checked&&Xh(y,"checked",N,k.checked,!1))}return y}function Eg(y,h,u){try{typeof y=="function"?y(h):y.current=h}catch(l){dr.__e(l,u)}}function ug(y,h,u){var l,o;if(dr.unmount&&dr.unmount(y),(l=y.ref)&&(l.current&&l.current!==y.__e||Eg(l,null,h)),(l=y.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(f){dr.__e(f,h)}l.base=l.__P=null,y.__c=void 0}if(l=y.__k)for(o=0;o<l.length;o++)l[o]&&ug(l[o],h,u||typeof y.type!="function");u||y.__e==null||M_(y.__e),y.__=y.__e=y.__d=void 0}function fA(y,h,u){return this.constructor(y,u)}Og=P_.slice,dr={__e:function(y,h,u,l){for(var o,f,p;h=h.__;)if((o=h.__c)&&!o.__)try{if((f=o.constructor)&&f.getDerivedStateFromError!=null&&(o.setState(f.getDerivedStateFromError(y)),p=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(y,l||{}),p=o.__d),p)return o.__E=o}catch(m){y=m}throw y}},S_=0,Sc.prototype.setState=function(y,h){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=nu({},this.state),typeof y=="function"&&(y=y(nu({},u),this.props)),y&&nu(u,y),y!=null&&this.__v&&(h&&this._sb.push(h),N0(this))},Sc.prototype.forceUpdate=function(y){this.__v&&(this.__e=!0,y&&this.__h.push(y),N0(this))},Sc.prototype.render=xg,es=[],j_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ag=function(y,h){return y.__v.__b-h.__v.__b},Hh.__r=0;var Of=globalThis&&globalThis.__assign||function(){return Of=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Of.apply(this,arguments)};function Sg(y){var h=y.x,u=y.y,l=y.width,o=y.height,f=y.radius,p=y.className,m=h-l/2,g=u-o/2,E=Of(Of({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+p},y),{x:m,y:g});return We.h("rect",Of({},E))}Sg.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var xc;(function(y){y.NODE="node",y.CIRCLE_NODE="circle-node",y.POLYGON_NODE="polygon-node",y.RECT_NODE="rect-node",y.HTML_NODE="html-node",y.TEXT_NODE="text-node",y.ELLIPSE_NODE="ellipse-node",y.DIAMOND_NODE="diamond-node",y.EDGE="edge",y.LINE_EDGE="line-edge",y.POLYLINE_EDGE="polyline-edge",y.BEZIER_EDGE="bezier-edge",y.GRAPH="graph"})(xc||(xc={}));var pA=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),ts=globalThis&&globalThis.__assign||function(){return ts=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},ts.apply(this,arguments)},hA=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},dA=We.LogicFlowUtil.StepDrag,yA=function(y){pA(h,y);function h(u){var l=y.call(this)||this;return l.updatePosition=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel,g=m.x,E=m.y;l.nodeModel.x=g+f/2,l.nodeModel.y=E+p/2,l.nodeModel.moveText(f/2,p/2)},l.getResize=function(o){var f=o.index,p=o.deltaX,m=o.deltaY,g=o.width,E=o.height,j=o.PCTResizeInfo,S=o.pct,k=S===void 0?1:S,T={width:g,height:E,deltaX:p,deltaY:m};if(j){var C=4,N=0,R=0;switch(f){case 0:R=(p*-1-m)/C;break;case 1:R=(p-m)/C;break;case 2:R=(p+m)/C;break;case 3:R=(p*-1+m)/C;break}R!==0&&(N=Math.round(R/j.ResizeBasis.basisHeight*1e5)/1e3),j.ResizePCT.widthPCT=Math.max(Math.min(j.ResizePCT.widthPCT+N,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit),j.ResizePCT.hightPCT=Math.max(Math.min(j.ResizePCT.hightPCT+N,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit);var G=Math.round(j.ResizePCT.widthPCT*j.ResizeBasis.basisWidth/100),X=Math.round(j.ResizePCT.hightPCT*j.ResizeBasis.basisHeight/100);switch(f){case 0:p=g-G,m=E-X;break;case 1:p=G-g,m=E-X;break;case 2:p=G-g,m=X-E;break;case 3:p=g-G,m=X-E;break}return T.width=G,T.height=X,T.deltaX=p/k,T.deltaY=m/k,T}switch(f){case 0:T.width=g-p*k,T.height=E-m*k;break;case 1:T.width=g+p*k,T.height=E-m*k;break;case 2:T.width=g+p*k,T.height=E+m*k;break;case 3:T.width=g-p*k,T.height=E+m*k;break}return T},l.updateEdgePointByAnchors=function(){var o=l.nodeModel,f=o.id,p=o.anchors,m=l.getNodeEdges(f);m.sourceEdges.forEach(function(g){var E=p.find(function(j){return j.id===g.sourceAnchorId});g.updateStartPoint({x:E.x,y:E.y})}),m.targetEdges.forEach(function(g){var E=p.find(function(j){return j.id===g.targetAnchorId});g.updateEndPoint({x:E.x,y:E.y})})},l.updateRect=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel,g=m.id,E=m.x,j=m.y,S=m.width,k=m.height,T=m.radius,C=m.PCTResizeInfo,N=l.index,R=l.getResize({index:N,deltaX:f,deltaY:p,width:S,height:k,PCTResizeInfo:C,pct:1}),G=l.nodeModel,X=G.minWidth,Q=G.minHeight,ue=G.maxWidth,re=G.maxHeight;if(R.width<X||R.width>ue||R.height<Q||R.height>re){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),l.nodeModel.width=R.width,l.nodeModel.height=R.height,l.nodeModel.setProperties({nodeSize:{width:R.width,height:R.height}}),l.getNodeEdges(g);var te={x:E,y:j,width:S,height:k,radius:T},ne={x:l.nodeModel.x,y:l.nodeModel.y,width:l.nodeModel.width,height:l.nodeModel.height,radius:T};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:te,afterNode:ne})},l.updateEllipse=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel,g=m.id,E=m.rx,j=m.ry,S=m.x,k=m.y,T=m.PCTResizeInfo,C=l.index,N=E,R=j,G=l.getResize({index:C,deltaX:f,deltaY:p,width:N,height:R,PCTResizeInfo:T,pct:1/2}),X=l.nodeModel,Q=X.minWidth,ue=X.minHeight,re=X.maxWidth,te=X.maxHeight;if(G.width<Q/2||G.width>re/2||G.height<ue/2||G.height>te/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:G.deltaX,deltaY:G.deltaY}),l.nodeModel.rx=G.width,l.nodeModel.ry=G.height,l.nodeModel.setProperties({nodeSize:{rx:G.width,ry:G.height}}),l.getNodeEdges(g);var ne={x:S,y:k},Y={rx:G.width,ry:G.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:ts(ts({},ne),{rx:E,ry:j}),afterNode:Y})},l.updateDiamond=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel;m.id;var g=m.rx,E=m.ry,j=m.x,S=m.y,k=m.PCTResizeInfo,T=l.index,C=g,N=E,R=l.getResize({index:T,deltaX:f,deltaY:p,width:C,height:N,PCTResizeInfo:k,pct:1/2}),G=l.nodeModel,X=G.minWidth,Q=G.minHeight,ue=G.maxWidth,re=G.maxHeight;if(R.width<X/2||R.width>ue/2||R.height<Q/2||R.height>re/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),l.nodeModel.rx=R.width,l.nodeModel.ry=R.height,l.nodeModel.setProperties({nodeSize:{rx:R.width,ry:R.height}});var te={x:j,y:S,rx:g,ry:E},ne={rx:R.width,ry:R.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:te,afterNode:ne})},l.eventEmit=function(o){var f=o.beforeNode,p=o.afterNode,m=l.nodeModel,g=m.id,E=m.modelType,j=m.type,S=ts({id:g,modelType:E,type:j},f),k=ts({id:g,modelType:E,type:j},p);l.graphModel.eventCenter.emit("node:resize",{oldNodeSize:S,newNodeSize:k})},l.onDragging=function(o){var f,p=o.deltaX,m=o.deltaY,g=l.graphModel.transformModel,E=l.nodeModel.modelType;f=hA(g.fixDeltaXY(p,m),2),p=f[0],m=f[1],E===xc.RECT_NODE||E===xc.HTML_NODE?l.updateRect({deltaX:p,deltaY:m}):E===xc.ELLIPSE_NODE?l.updateEllipse({deltaX:p,deltaY:m}):E===xc.DIAMOND_NODE&&l.updateDiamond({deltaX:p,deltaY:m})},l.onDragEnd=function(){l.updateEdgePointByAnchors();var o=l.graphModel.gridSize,f=o===void 0?1:o,p=f*Math.round(l.nodeModel.x/f),m=f*Math.round(l.nodeModel.y/f);l.nodeModel.moveTo(p,m)},l.index=u.index,l.nodeModel=u.model,l.graphModel=u.graphModel,l.state={},l.dragHandler=new dA({onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:1}),l}return h.prototype.getNodeEdges=function(u){for(var l=this.graphModel,o=l.edges,f=[],p=[],m=0;m<o.length;m++){var g=o[m];g.sourceNodeId===u?f.push(g):o[m].targetNodeId===u&&p.push(g)}return{sourceEdges:f,targetEdges:p}},h.prototype.render=function(){var u=this.props,l=u.x,o=u.y,f=u.index,p=u.model,m=p.getControlPointStyle();return _f("g",{className:"lf-resize-control-"+f},_f(Sg,ts({className:"lf-node-control"},{x:l,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(Sc),vA=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Uh=globalThis&&globalThis.__assign||function(){return Uh=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Uh.apply(this,arguments)},Jh=function(y){vA(h,y);function h(){var u=y.call(this)||this;return u.state={},u}return h.prototype.getResizeControl=function(){var u=this.props,l=u.model,o=u.graphModel,f=l.x,p=l.y,m=l.width,g=l.height,E={minX:f-m/2,minY:p-g/2,maxX:f+m/2,maxY:p+g/2},j=E.minX,S=E.minY,k=E.maxX,T=E.maxY,C=[{x:j,y:S},{x:k,y:S},{x:k,y:T},{x:j,y:T}];return C.map(function(N,R){return _f(yA,Uh({index:R},N,{model:l,graphModel:o}))})},h.prototype.getGroupSolid=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.getResizeOutlineStyle();return _f(Sg,Uh({fill:"none"},m,{x:l,y:o,width:f,height:p}))},h.prototype.render=function(){return _f("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(Sc),C_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),gA=function(y){C_(h,y);function h(u,l){var o=y.call(this,u,l)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return h.prototype.initNodeData=function(u){y.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var u=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(u,l){console.log(u,l)},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h}(We.RectNodeModel),mA=function(y){C_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return We.h(Jh,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h}(We.RectNode),I_={type:"rect",view:mA,model:gA},R_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(y){R_(h,y);function h(u,l){var o=y.call(this,u,l)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return h.prototype.initNodeData=function(u){y.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var u=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h})(We.EllipseNodeModel);(function(y){R_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return We.h(Jh,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var u=this.props,l=u.model,o=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),l.isSelected&&!o?this.getControlGroup():"")},h})(We.EllipseNode);var sg=globalThis&&globalThis.__assign||function(){return sg=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},sg.apply(this,arguments)};function bA(y){var h=y.fillOpacity,u=h===void 0?1:h,l=y.strokeWidth,o=l===void 0?1:l,f=y.strokeOpacity,p=f===void 0?1:f,m=y.fill,g=m===void 0?"transparent":m,E=y.stroke,j=E===void 0?"#000":E,S=y.points,k=y.className,T=k===void 0?"lf-basic-shape":k,C={fill:g,fillOpacity:u,strokeWidth:o,stroke:j,strokeOpacity:p,points:"",className:T};return C.points=S.map(function(N){return N.join(",")}).join(" "),We.h("polygon",sg({},C))}var L_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),cg=globalThis&&globalThis.__assign||function(){return cg=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},cg.apply(this,arguments)};(function(y){L_(h,y);function h(u,l){var o=y.call(this,u,l)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return h.prototype.initNodeData=function(u){y.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var u=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h})(We.DiamondNodeModel);(function(y){L_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return We.h(Jh,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){var u=this.props.model,l=u.points,o=u.getNodeStyle();return We.h("g",null,We.h(bA,cg({},o,{points:l})))},h.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h})(We.DiamondNode);var z_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(y){z_(h,y);function h(u,l){var o=y.call(this,u,l)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return h.prototype.initNodeData=function(u){y.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var u=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h})(We.HtmlNodeModel);(function(y){z_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return We.h(Jh,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h})(We.HtmlNode);var B_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Yh=globalThis&&globalThis.__assign||function(){return Yh=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Yh.apply(this,arguments)},_A=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},OA=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(_A(arguments[h]));return y},L0=500,z0=300,wA=-1e4,xA=function(y){B_(h,y);function h(){var u=y!==null&&y.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=L0,u.unfoldedHight=z0,u.childrenLastFoldStatus={},u}return h.prototype.initNodeData=function(u){var l=this;y.prototype.initNodeData.call(this,u);var o=[];Array.isArray(u.children)&&(o=u.children),this.children=new Set(o),this.width=L0,this.height=z0,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=wA,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){l.isFolded&&l.foldGroup(l.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var u=y.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},h.prototype.foldGroup=function(u){var l=this;if(u!==this.isFolded){this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var p=l.graphModel.getElement(f),m=p.isFolded;if(p.isGroup&&!p.isFolded&&p.foldGroup(u),p.isGroup&&!u){var g=l.childrenLastFoldStatus[f];g!==void 0&&g!==p.isFolded&&p.foldGroup(g)}l.childrenLastFoldStatus[f]=m,p.visible=!u,o=o.concat(p.incoming.edges.concat(p.outgoing.edges))}),this.foldEdge(u,o)}},h.prototype.getAnchorStyle=function(u){var l=y.prototype.getAnchorStyle.call(this,u);return l.stroke="transparent",l.fill="transparent",l.hover.fill="transparent",l.hover.stroke="transparent",l},h.prototype.foldEdge=function(u,l){var o=this;l.forEach(function(f,p){var m=f.id,g=f.sourceNodeId,E=f.targetNodeId,j=f.startPoint,S=f.endPoint,k=f.type,T=f.text,C=f.getProperties(),N={id:m+"__"+p,sourceNodeId:g,targetNodeId:E,startPoint:j,endPoint:S,type:k,properties:C,text:T==null?void 0:T.value};f.virtual&&o.graphModel.deleteEdgeById(f.id);var R=o.graphModel.group.getNodeGroup(E);R||(R=o.graphModel.getNodeModelById(E));var G=o.graphModel.group.getNodeGroup(g);G||(G=o.graphModel.getNodeModelById(g)),u&&f.visible!==!1&&(o.children.has(g)||o.id===g?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(R.id!==o.id||G.id!==o.id)&&o.createVirtualEdge(N),f.visible=!1),!u&&f.visible===!1&&(R&&R.isGroup&&R.isFolded?(N.targetNodeId=R.id,N.endPoint=void 0,o.createVirtualEdge(N)):G&&G.isGroup&&G.isFolded?(N.sourceNodeId=G.id,N.startPoint=void 0,o.createVirtualEdge(N)):f.visible=!0)})},h.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var l=this.graphModel.addEdge(u);l.virtual=!0,l.text.editable=!1,l.isFoldedEdge=!0},h.prototype.isInRange=function(u){var l=u.x1,o=u.y1,f=u.x2,p=u.y2;return l>=this.x-this.width/2&&f<=this.x+this.width/2&&o>=this.y-this.height/2&&p<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(u){var l=u.x1,o=u.y1,f=u.x2,p=u.y2;return{x:l>=this.x-this.width/2&&f<=this.x+this.width/2,y:o>=this.y-this.height/2&&p<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},h.prototype.addChild=function(u){this.children.add(u),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},h.prototype.removeChild=function(u){this.children.delete(u),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var u=this,l=y.prototype.getData.call(this);l.children=[],this.children.forEach(function(f){var p=u.graphModel.getNodeModelById(f);p&&!p.virtual&&l.children.push(f)});var o=l.properties;return delete o.groupAddable,delete o.isFolded,l},h.prototype.getHistoryData=function(){var u=y.prototype.getData.call(this);u.children=OA(this.children),u.isGroup=!0;var l=u.properties;return delete l.groupAddable,l.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},h.prototype.isAllowAppendIn=function(u){return!0},h.prototype.toBack=function(){this.zIndex--},h}(I_.model),EA=function(y){B_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props.model,l=u.resizable,o=u.properties;return l&&!o.isFolded?y.prototype.getControlGroup.call(this):null},h.prototype.getAddableShape=function(){var u=this.props.model,l=u.width,o=u.height,f=u.x,p=u.y,m=u.radius,g=u.properties;if(!g.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,j=this.props.model.getAddableOutlineStyle(),S=l+E+8,k=o+E+8;return We.h("rect",Yh(Yh({},j),{width:S,height:k,x:f-S/2,y:p-k/2,rx:m,ry:m}))},h.prototype.getFoldIcon=function(){var u=this.props.model,l=u.x-u.width/2+5,o=u.y-u.height/2+5;if(!u.foldable)return null;var f=We.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" M"+(l+7)+","+(o+2)+" "+(l+7)+","+(o+10):"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" "});return We.h("g",{},[We.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),f])},h.prototype.getResizeShape=function(){return We.h("g",{},[this.getAddableShape(),y.prototype.getResizeShape.call(this),this.getFoldIcon()])},h}(I_.view);const lg={type:"group",view:EA,model:xA};var SA=-1e3,B0=-1e4,DT=function(){function y(h){var u=this,l=h.lf;this.topGroupZIndex=B0,this.nodeGroupMap=new Map,this.graphRendered=function(o){o&&o.nodes&&o.nodes.forEach(function(f){f.children&&f.children.forEach(function(p){u.nodeGroupMap.set(p,f.id)})})},this.appendNodeToGroup=function(o){var f=o.data,p=u.nodeGroupMap.get(f.id);if(p){var m=u.lf.getNodeModelById(p);m.removeChild(f.id),u.nodeGroupMap.delete(f.id),m.setAllowAppendChild(!1)}var g=u.lf.getNodeModelById(f.id),E=g.getBounds(),j=u.getGroup(E,f);if(g.isGroup&&(f.children.forEach(function(k){u.nodeGroupMap.set(k,f.id)}),u.nodeSelected({data:f,isSelected:!1,isMultiple:!1})),!!j){var S=j.isAllowAppendIn(f);if(!S){u.lf.emit("group:not-allowed",{group:j.getData(),node:f});return}j.addChild(f.id),u.nodeGroupMap.set(f.id,j.id),j.setAllowAppendChild(!1)}},this.deleteGroupChild=function(o){var f=o.data;f.children&&f.children.forEach(function(g){u.nodeGroupMap.delete(g),u.lf.deleteNode(g)});var p=u.nodeGroupMap.get(f.id);if(p){var m=u.lf.getNodeModelById(p);m.removeChild(f.id),u.nodeGroupMap.delete(f.id)}},this.setActiveGroup=function(o){var f=o.data,p=u.lf.getNodeModelById(f.id),m=p.getBounds(),g=u.getGroup(m,f);if(u.activeGroup&&u.activeGroup.setAllowAppendChild(!1),!(!g||p.isGroup&&g.id===f.id)){var E=g.isAllowAppendIn(f);E&&(u.activeGroup=g,u.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(o){var f=o.data,p=o.isMultiple,m=o.isSelected,g=u.lf.getNodeModelById(f.id);if(u.toFrontGroup(g),u.topGroupZIndex>SA){u.topGroupZIndex=B0;for(var E=u.lf.graphModel.nodes.filter(function(N){return N.isGroup}).sort(function(N,R){return N.zIndex-R.zIndex}),j=0,S=0;S<E.length;S++){var k=E[S];k.zIndex!==j&&(u.topGroupZIndex++,j=k.zIndex),k.setZIndex(u.topGroupZIndex)}}if(p&&m)if(g.isGroup)g.children.forEach(function(N){var R=u.lf.graphModel.getElement(N);R.setSelected(!1)});else{var T=u.nodeGroupMap.get(f.id);if(T){var C=u.lf.getNodeModelById(T);C.isSelected&&g.setSelected(!1)}}},this.toFrontGroup=function(o){!o||!o.isGroup||(u.topGroupZIndex++,o.setZIndex(u.topGroupZIndex),o.children&&o.children.forEach(function(f){var p=u.lf.getNodeModelById(f);u.toFrontGroup(p)}))},l.register(lg),this.lf=l,l.graphModel.addNodeMoveRules(function(o,f,p){if(o.isGroup){var m=u.getNodeAllChild(o);return l.graphModel.moveNodes(m,f,p,!0),!0}var g=l.getNodeModelById(u.nodeGroupMap.get(o.id));if(g&&g.isRestrict){var E=o.getBounds(),j=E.x1,S=E.y1,k=E.x2,T=E.y2,C=g.isAllowMoveTo({x1:j+f,y1:S+p,x2:k+f,y2:T+p});return C}return!0}),l.graphModel.group=this,l.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),l.on("node:delete",this.deleteGroupChild),l.on("node:dnd-drag,node:drag",this.setActiveGroup),l.on("node:click",this.nodeSelected),l.on("graph:rendered",this.graphRendered)}return y.prototype.getNodeAllChild=function(h){var u=this,l=[];return h.children&&h.children.forEach(function(o){l.push(o);var f=u.lf.getNodeModelById(o);f.isGroup&&(l=l.concat(u.getNodeAllChild(f)))}),l},y.prototype.getGroup=function(h,u){var l=this.lf.graphModel.nodes,o=l.filter(function(m){return m.isGroup&&m.isInRange(h)&&m.id!==u.id});if(o.length!==0){if(o.length===1)return o[0];for(var f=o[o.length-1],p=o.length-2;p>=0;p--)o[p].zIndex>f.zIndex&&(f=o[p]);return f}},y.prototype.getNodeGroup=function(h){var u=this.nodeGroupMap.get(h);if(u)return this.lf.getNodeModelById(u)},y.pluginName="group",y}(),F0=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),wf=globalThis&&globalThis.__assign||function(){return wf=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},wf.apply(this,arguments)};function NT(){var y=function(u){F0(l,u);function l(){return u!==null&&u.apply(this,arguments)||this}return l.prototype.getFoldIcon=function(){var o=this.props.model,f=o.x,p=o.y,m=o.width,g=o.height,E=o.properties,j=o.foldable,S=o.x-o.width/2+5,k=o.y-o.height/2+5;if(!j)return null;var T=We.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:E.isFolded?"M "+(S+3)+","+(k+6)+" "+(S+11)+","+(k+6)+" M"+(S+7)+","+(k+2)+" "+(S+7)+","+(k+10):"M "+(S+3)+","+(k+6)+" "+(S+11)+","+(k+6)+" "});return We.h("g",{},[We.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:f-m/2+5,y:p-g/2+5,onClick:function(C){C.stopPropagation(),o.foldGroup(!E.isFolded)}}),T])},l.prototype.getResizeShape=function(){var o=this.props.model,f=o.x,p=o.y,m=o.width,g=o.height,E=o.getNodeStyle(),j=wf(wf({},E),{x:f-m/2,y:p-g/2,width:m,height:g,stroke:"black",strokeWidth:2,strokeDasharray:"0 0"});return We.h("g",{},[We.h("rect",wf({},j)),this.getFoldIcon()])},l}(lg.view),h=function(u){F0(l,u);function l(){return u!==null&&u.apply(this,arguments)||this}return l.prototype.initNodeData=function(o){u.prototype.initNodeData.call(this,o),this.foldable=!0,this.resizable=!0,this.width=400,this.height=200,this.resetWidthHeight(),this.isTaskNode=!0,this.boundaryEvents=[]},l.prototype.resetWidthHeight=function(){var o,f,p=(o=this.properties.iniProp)===null||o===void 0?void 0:o.width,m=(f=this.properties.iniProp)===null||f===void 0?void 0:f.height;p&&(this.width=p),m&&(this.height=m)},l.prototype.getNodeStyle=function(){var o=u.prototype.getNodeStyle.call(this);o.stroke="#989891",o.strokeWidth=1,o.strokeDasharray="3 3",this.isSelected&&(o.stroke="rgb(124, 15, 255)");var f=this.properties.isBoundaryEventTouchingTask;return f&&(o.stroke="#00acff",o.strokeWidth=2),o},l.prototype.addChild=function(o){var f=this.graphModel.getElement(o);f.setProperties({parent:this.id}),u.prototype.addChild.call(this,o)},l.prototype.getAnchorStyle=function(){var o=u.prototype.getAnchorStyle.call(this,{});return o.stroke="#000",o.fill="#fff",o.hover.stroke="transparent",o},l.prototype.getOutlineStyle=function(){var o=u.prototype.getOutlineStyle.call(this);return o.stroke="transparent",!o.hover&&(o.hover={}),o.hover.stroke="transparent",o},l.prototype.setTouching=function(o){this.setProperty("isBoundaryEventTouchingTask",o)},l.prototype.addBoundaryEvent=function(o){if(this.setTouching(!1),this.boundaryEvents.find(function(p){return p===o}))return!1;var f=this.graphModel.getNodeModelById(o);return f==null||f.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(o),!0},l.prototype.deleteBoundaryEvent=function(o){this.boundaryEvents=this.boundaryEvents.filter(function(f){return f!==o})},l}(lg.model);return{type:"bpmn:subProcess",view:y,model:h}}globalThis&&globalThis.__values;var W0=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),xf=globalThis&&globalThis.__assign||function(){return xf=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},xf.apply(this,arguments)};function jA(y){var h=function(l){W0(o,l);function o(f,p){var m=this;f.id||(f.id="Flow_"+ns());var g=xf(xf(xf({},y||{}),f.properties),{isDefaultFlow:!1});return f.properties=g,m=l.call(this,f,p)||this,m}return o.extendKey="SequenceFlowModel",o}(We.PolylineEdgeModel),u=function(l){W0(o,l);function o(){return l!==null&&l.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var f=this.props.model,p=f.properties.isDefaultFlow;return p?We.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):We.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(We.PolylineEdge);return{type:"bpmn:sequenceFlow",view:u,model:h}}jA();globalThis&&globalThis.__read;function CT(y){function h(u){function l(o,f){return o.forEach(function(p){y!=null&&y[p]||(y[p]=new Map);var m=y==null?void 0:y[p];f.forEach(function(g){m.set(g.type,g)})}),y}u.forEach(function(o){l(o.nodes,o.definition)})}return function(){return[y,h]}}var G0={width:40,height:40},H0={width:40,height:40},X0={width:100,height:80},Vh={width:100,height:80},U0={width:100,height:80},Y0={width:100,height:80},V0={width:100,height:80},$0={width:100,height:80},K0={width:100,height:80},q0={width:100,height:80},oo=function(){};oo.ObjTree=function(){return this};oo.ObjTree.VERSION="0.23";oo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;oo.ObjTree.prototype.attr_prefix="-";oo.ObjTree.prototype.parseXML=function(y){var h;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(y,"application/xml");if(!l)return;h=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(y),h=u.documentElement);if(h){var o=this.parseDOM(h);return o}};oo.ObjTree.prototype.parseHTTP=function(y,h,u){var l={};for(var o in h)l[o]=h[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var f=this,p=u,m=l.onComplete;l.onComplete=function(j){var S;j&&j.responseXML&&j.responseXML.documentElement&&(S=f.parseDOM(j.responseXML.documentElement)),p(S,j),m&&m(j)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=y;var E=new HTTP.Request(l);E&&(g=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(y,l);E&&(g=E.transport)}if(u)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};oo.ObjTree.prototype.parseDOM=function(y){if(y){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var u=this.parseElement(y);if(this.__force_array[y.nodeName]&&(u=[u]),y.nodeType!==11){var l={};l[y.nodeName]=u,u=l}return u}};oo.ObjTree.prototype.parseElement=function(y){if(y.nodeType!==7){if(y.nodeType===3||y.nodeType===4||y.nodeType===8){var h=y.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:y.nodeValue}var u=null,l={};if(y.attributes&&y.attributes.length){u={};for(var o=0;o<y.attributes.length;o++){var f=y.attributes[o].nodeName;if(typeof f=="string"){var p=y.attributes[o].nodeValue;try{p=JSON.parse(y.attributes[o].nodeValue.replace(/'/g,'"'))}catch{p=y.attributes[o].nodeValue}p!=null&&(f=this.attr_prefix+f,typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(u,f,l[f],p))}}}if(y.childNodes&&y.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<y.childNodes.length&&m;o++){var g=y.childNodes[o].nodeType;g===3||g===4||g===8||(m=!1)}if(m){u||(u="");for(var o=0;o<y.childNodes.length;o++)u+=y.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<y.childNodes.length;o++){var f=y.childNodes[o].nodeName;if(typeof f=="string"){var p=this.parseElement(y.childNodes[o]);p&&(typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(u,f,l[f],p))}}}}else u===null&&(u={});return u}};oo.ObjTree.prototype.addNode=function(y,h,u,l){this.__force_array[h]?(u===1&&(y[h]=[]),y[h][y[h].length]=l):u===1?y[h]=l:u===2?y[h]=[y[h],l]:y[h][y[h].length]=l};oo.ObjTree.prototype.writeXML=function(y){var h=this.hash_to_xml(null,y);return this.xmlDecl+h};oo.ObjTree.prototype.hash_to_xml=function(y,h){var u=[],l=[];for(var o in h)if(h!=null&&h.hasOwnProperty(o)){var f=h[o];o.charAt(0)!==this.attr_prefix?typeof f>"u"||f==null?u[u.length]="<"+o+" />":typeof f=="object"&&f.constructor===Array?u[u.length]=this.array_to_xml(o,f):typeof f=="object"?u[u.length]=this.hash_to_xml(o,f):u[u.length]=this.scalar_to_xml(o,f):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var p=l.join(""),m=u.join("");return typeof y>"u"||y==null||(u.length>0?m.match(/\n/)?m="<"+y+p+`>
`+m+"</"+y+`>
`:m="<"+y+p+">"+m+"</"+y+`>
`:m="<"+y+p+` />
`),m};oo.ObjTree.prototype.array_to_xml=function(y,h){for(var u=[],l=0;l<h.length;l++){var o=h[l];typeof o>"u"||o==null?u[u.length]="<"+y+" />":typeof o=="object"&&o.constructor===Array?u[u.length]=this.array_to_xml(y,o):typeof o=="object"?u[u.length]=this.hash_to_xml(y,o):u[u.length]=this.scalar_to_xml(y,o)}return u.join("")};oo.ObjTree.prototype.scalar_to_xml=function(y,h){return y==="#text"?this.xml_escape(h):"<"+y+">"+this.xml_escape(h)+"</"+y+`>
`};oo.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var PA=function(y){return new oo.ObjTree().parseXML(y)};function F_(y){return Object.prototype.toString.call(y)}function Z0(y){return"  ".repeat(y)}function $h(y){return F_(y)==="[object Object]"?Object.keys(y).reduce(function(h,u){var l=u;return u.charAt(0)==="-"&&(l=u.substring(1)),h[l]=$h(y[u]),h},{}):Array.isArray(y)?y.map(function(h){return $h(h)}):y}function MA(y){var h=y;try{typeof h!="string"&&(h=JSON.parse(y))}catch{h=JSON.stringify($h(y)).replace(/"/g,"'")}return h}var J0=`	
`;function zh(y,h,u){var l=Z0(u),o="",f=J0+l;if(h==="-json")return"";if(h==="#text")return f+y;if(h==="#cdata-section")return f+"<![CDATA["+y+"]]>";if(h==="#comment")return f+"<!--"+y+"-->";if((""+h).charAt(0)==="-")return" "+h.substring(1)+'="'+MA(y)+'"';if(Array.isArray(y))o+=y.map(function(E){return zh(E,h,u+1)}).join("");else if(F_(y)==="[object Object]"){var p=Object.keys(y),m="",g=y["-json"]?J0+Z0(u+1)+y["-json"]:"";o+=(u===0?"":f)+"<"+h,p.forEach(function(E){E.charAt(0)==="-"?m+=zh(y[E],E,u+1):g+=zh(y[E],E,u+1)}),o+=m+(g!==""?">"+g+f+"</"+h+">":" />")}else o+=f+"<"+h+">"+y.toString()+"</"+h+">";return o}function AA(y){var h="";for(var u in y)h+=zh(y[u],u,0);return h}var TA=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),fg=globalThis&&globalThis.__assign||function(){return fg=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},fg.apply(this,arguments)},Q0=globalThis&&globalThis.__rest||function(y,h){var u={};for(var l in y)Object.prototype.hasOwnProperty.call(y,l)&&h.indexOf(l)<0&&(u[l]=y[l]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(y);o<l.length;o++)h.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(y,l[o])&&(u[l[o]]=y[l[o]]);return u},jg=globalThis&&globalThis.__values||function(y){var h=typeof Symbol=="function"&&Symbol.iterator,u=h&&y[h],l=0;if(u)return u.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&l>=y.length&&(y=void 0),{value:y&&y[l++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},kc=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},jc=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(kc(arguments[h]));return y},to;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",y.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",y.BOUNDARY="bpmn:boundaryEvent",y.PARALLEL_GATEWAY="bpmn:parallelGateway",y.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",y.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow",y.SUBPROCESS="bpmn:subProcess"})(to||(to={}));var W_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],kA=["properties","startPoint","endPoint","pointsList"],Kh={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},G_=function(y,h){var u=Object.keys(h||{});return u.forEach(function(l){if(y[l]){var o=h[l],f=o.in,p=o.out;f&&(y[l].in=f),p&&(y[l].out=p)}else y[l]=h[l]}),y},Ko={"bpmn:startEvent":{out:function(y){var h,u,l=y.properties;return((u=(h=Ko[l.definitionType])===null||h===void 0?void 0:h.out)===null||u===void 0?void 0:u.call(h,y))||{}}},"bpmn:intermediateCatchEvent":{out:function(y){var h,u,l=y.properties;return((u=(h=Ko[l.definitionType])===null||h===void 0?void 0:h.out)===null||u===void 0?void 0:u.call(h,y))||{}}},"bpmn:intermediateThrowEvent":{out:function(y){var h,u,l=y.properties;return((u=(h=Ko[l.definitionType])===null||h===void 0?void 0:h.out)===null||u===void 0?void 0:u.call(h,y))||{}}},"bpmn:boundaryEvent":{out:function(y){var h,u,l=y.properties;return((u=(h=Ko[l.definitionType])===null||h===void 0?void 0:h.out)===null||u===void 0?void 0:u.call(h,y))||{}}},"bpmn:sequenceFlow":{out:function(y){var h=y.properties,u=h.expressionType,l=h.condition;return l?u==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+l+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+l+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(y){var h=y.properties,u=h.timerType,l=h.timerValue,o=h.definitionId,f=function(){return"<bpmn:"+u+' xsi:type="bpmn:tFormalExpression">'+l+"</bpmn:"+u+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(u&&l?">"+f()+"</bpmn:timerEventDefinition>":"/>")}},in:function(y,h){var u,l,o,f,p=y,m=h["-id"],g="",E="";try{for(var j=jg(Object.keys(h)),S=j.next();!S.done;S=j.next()){var k=S.value;k.includes("bpmn:")&&(o=kc(k.split(":"),2),g=o[1],E=(f=h[k])===null||f===void 0?void 0:f["#text"])}}catch(T){u={error:T}}finally{try{S&&!S.done&&(l=j.return)&&l.call(j)}finally{if(u)throw u.error}}return{"-definitionId":m,"-definitionType":p,"-timerType":g,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(y,h){var u,l="",o="";return h["#cdata-section"]?(o="cdata",l=((u=/^\$\{(.*)\}$/g.exec(h["#cdata-section"]))===null||u===void 0?void 0:u[1])||""):h["#text"]&&(o="normal",l=h["#text"]),{"-condition":l,"-expressionType":o}}}};function DA(y){var h=y??{},u=h.retainedAttrsFields,l=h.excludeFields,o=h.transformer,f=new Set(jc(kA,u||[])),p={in:new Set(jc(Kh.in,(l==null?void 0:l.in)||[])),out:new Set(jc(Kh.out,(l==null?void 0:l.out)||[]))};return Ko=G_(Ko,o),function(m){var g=m.nodes,E=m.edges;function j(S,k){var T,C,N;if((S==null?void 0:S.flag)!==1){var R;if((R=Ko[S.type])&&R.out){var G=R.out(S),X=Object.keys(G);X.length>0&&X.forEach(function(V){S[V]=G[V]})}S!=null&&S.children&&(S.children=S.children.map(function(V){var $=g.find(function(q){return q.id===V})||E.find(function(q){return q.id===V});return $||{}}));var Q={};if(typeof S=="string")return S;if(Array.isArray(S))return S.map(function(V){return j(V,"")}).filter(function(V){return V!=null});try{for(var ue=jg(Object.entries(S)),re=ue.next();!re.done;re=ue.next()){var te=kc(re.value,2),ne=te[0],Y=te[1];if(((N=Y)===null||N===void 0?void 0:N.flag)===1)return;var B=[k,ne].filter(function(V){return V}).join(".");p.out.has(B)||(typeof Y!="object"?ne.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(ne)?Q[ne]=Y:Q["-"+ne]=Y:f.has(B)?Q["-"+ne]=j(Y,B):Q[ne]=j(Y,B))}}catch(V){T={error:V}}finally{try{re&&!re.done&&(C=ue.return)&&C.call(ue)}finally{if(T)throw T.error}}return Q}}return j(m,"")}}function qh(y){var h,u,l={};try{for(var o=jg(Object.entries(y)),f=o.next();!f.done;f=o.next()){var p=kc(f.value,2),m=p[0],g=p[1];m.indexOf("-")===0?l[m.substring(1)]=$h(g):typeof g=="string"?l[m]=g:Object.prototype.toString.call(g)==="[object Object]"?l[m]=qh(g):Array.isArray(g)?l[m]=g.map(function(E){return qh(E)}):l[m]=g}}catch(E){h={error:E}}finally{try{f&&!f.done&&(u=o.return)&&u.call(o)}finally{if(h)throw h.error}}return l}function NA(y,h,u){var l,o=new Map,f=DA(u)(h);f.nodes.forEach(function(m){var g=m["-id"],E=m["-type"],j=m.text,S=m.children,k=Q0(m,["-id","-type","text","children"]),T={"-id":g};j!=null&&j["-value"]&&(T["-name"]=j["-value"]),k["-json"]&&(T["-json"]=k["-json"]),k["-properties"]&&Object.assign(T,k["-properties"]),S&&(T.children=S),y[E]||(y[E]=[]),y[E].push(T),o.set(g,T)});var p=f.edges.map(function(m){var g=m["-id"];m["-type"];var E=m["-sourceNodeId"],j=m["-targetNodeId"],S=m.text,k=Q0(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),T=o.get(j);T["bpmn:incoming"]||(T["bpmn:incoming"]=[]),T["bpmn:incoming"].push(g);var C={"-id":g,"-sourceRef":E,"-targetRef":j};return S!=null&&S["-value"]&&(C["-name"]=S["-value"]),k["-json"]&&(C["-json"]=k["-json"]),k["-properties"]&&Object.assign(C,k["-properties"]),C});return h.edges.forEach(function(m){var g=m.sourceNodeId,E=m.id,j=o.get(g);j["bpmn:outgoing"]||(j["bpmn:outgoing"]=[]),j["bpmn:outgoing"].push(E)}),(l=y["bpmn:subProcess"])===null||l===void 0||l.forEach(function(m){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];m.children.forEach(function(N){var R,G=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(Q){G[Q]&&G[Q].forEach(function(ue){g[Q].add(ue)})});var X=(R=y[N["-type"]])===null||R===void 0?void 0:R.findIndex(function(Q){return Q["-id"]===N["-id"]});X>=0&&y[N["-type"]].splice(X,1),o.delete(N["-id"]),m[N["-type"]]||(m[N["-type"]]=[]),m[N["-type"]].push(G)});var j=g["bpmn:incoming"],S=g["bpmn:outgoing"];S.forEach(function(N){j.has(N)&&E.push(N)});for(var k=function(N){var R=p.findIndex(function(G){return G["-id"]===E[N]});R>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(p[R]),p.splice(R,1)):N++,T=N},T,C=0;C<E.length;)k(C),C=T;delete m.children}),y[to.FLOW]=p,y}function CA(y,h){y["bpmndi:BPMNEdge"]=h.edges.map(function(u){var l,o=u.id,f=u.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),p={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((l=u.text)===null||l===void 0)&&l.value&&(p["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),p}),y["bpmndi:BPMNShape"]=h.nodes.map(function(u){var l,o=u.id,f=100,p=80,m=u.x,g=u.y,E=ho.shapeConfigMap.get(u.type);E&&(f=E.width,p=E.height),m-=f/2,g-=p/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":f,"-height":p}};return!((l=u.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),j})}var IA=["bpmn:incoming","bpmn:outgoing"];function RA(y,h){var u=[],l=[],o=new Map,f=h??{},p=f.transformer,m=f.excludeFields,g={in:new Set(jc(Kh.in,(m==null?void 0:m.in)||[])),out:new Set(jc(Kh.out,(m==null?void 0:m.out)||[]))};Ko=G_(Ko,p);var E=y["bpmn:definitions"];if(E){var j=E["bpmn:process"];(function(k,T){T.forEach(function(C){try{Object.keys(k).forEach(function(N){try{C(N)}catch(R){console.error(R)}})}catch(N){console.error(N)}})})(j,[function(k){function T(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(R){var G;R.indexOf("bpmn:")===0&&!IA.includes(R)&&(j[R]||(j[R]=[]),!Array.isArray(j[R])&&(j[R]=[j[R]]),Array.isArray(N[R])?(G=j[R]).push.apply(G,jc(N[R])):j[R].push(N[R]),Array.isArray(N[R])?N[R].forEach(function(X){!R.includes("Flow")&&N["-children"].push(X["-id"])}):!R.includes("Flow")&&N["-children"].push(N[R]["-id"]),delete N[R])})}if(k==="bpmn:subProcess"){var C=j[k];Array.isArray(C)?C.forEach(function(N){k==="bpmn:subProcess"&&T(N)}):T(C)}},function(k){var T=function(N){Object.keys(N).forEach(function(R){var G,X;if(R.includes("bpmn:")){var Q={};Ko[R]&&Ko[R].in?(Q=(X=(G=Ko[R]).in)===null||X===void 0?void 0:X.call(G,R,W.cloneDeep(N[R])),delete N[R]):C(N[R]);var ue=void 0;(ue=Reflect.ownKeys(Q)).length>0&&ue.forEach(function(re){Reflect.set(N,re,Q[re])})}})};function C(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(R){C(R)}):typeof N=="object"&&T(N)}C(j[k])},function(k){if(k.indexOf("bpmn:")===0){var T=j[k];if(k==="bpmn:sequenceFlow"){var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];l=zA(T,C)}else{var N=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(k==="bpmn:boundaryEvent"){var R=j[k],G=function(X){var Q=X["-attachedToRef"],ue=o.get(Q);ue["-boundaryEvents"]||(ue["-boundaryEvents"]=[]),ue["-boundaryEvents"].push(X["-id"])};Array.isArray(R)?R.forEach(function(X){G(X)}):G(R)}u=u.concat(LA(T,N,k))}}}])}var S=function(k,T,C){Object.keys(k).forEach(function(N){var R=C?C+"."+N:N;T.has(R)?delete k[N]:typeof k[N]=="object"&&S(k[N],T,R)})};return u.forEach(function(k){var T,C;if(!((T=h==null?void 0:h.mapping)===null||T===void 0)&&T.in){var N=(C=h==null?void 0:h.mapping)===null||C===void 0?void 0:C.in,R=k.type;N[R]&&(k.type=N[R])}S(k,g.in,"")}),l.forEach(function(k){var T,C;if(!((T=h==null?void 0:h.mapping)===null||T===void 0)&&T.in){var N=(C=h==null?void 0:h.mapping)===null||C===void 0?void 0:C.in,R=k.type;N[R]&&(k.type=N[R])}S(k,g.in,"")}),{nodes:u,edges:l}}function LA(y,h,u){var l=[];if(Array.isArray(y))y.forEach(function(p){var m;Array.isArray(h)?m=h.find(function(E){return E["-bpmnElement"]===p["-id"]}):m=h;var g=e_(m,u,p);l.push(g)});else{var o=void 0;Array.isArray(h)?o=h.find(function(p){return p["-bpmnElement"]===y["-id"]}):o=h;var f=e_(o,u,y);l.push(f)}return l}function e_(y,h,u){var l=Number(y["dc:Bounds"]["-x"]),o=Number(y["dc:Bounds"]["-y"]),f=u["-children"],p=u["-name"],m=ho.shapeConfigMap.get(h);m&&(l+=m.width/2,o+=m.height/2);var g={};Object.entries(u).forEach(function(k){var T=kc(k,2),C=T[0],N=T[1];W_.includes(C)||(g[C]=N)}),g=qh(g);var E;if(p&&(E={x:l,y:o,value:p},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var j=y["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(j["-x"])+Number(j["-width"])/2,E.y=Number(j["-y"])+Number(j["-height"])/2}var S={id:y["-bpmnElement"],type:h,x:l,y:o,properties:g};return f&&(S.children=f),E&&(S.text=E),S}function zA(y,h){var u=[];if(Array.isArray(y))y.forEach(function(o){var f;Array.isArray(h)?f=h.find(function(p){return p["-bpmnElement"]===o["-id"]}):f=h,u.push(t_(f,o))});else{var l=void 0;Array.isArray(h)?l=h.find(function(o){return o["-bpmnElement"]===y["-id"]}):l=h,u.push(t_(l,y))}return u}function t_(y,h){var u,l=h["-name"];if(l){var o=y["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;l.split(`
`).forEach(function(E){f<E.length&&(f=E.length)}),u={value:l,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var p={};Object.entries(h).forEach(function(E){var j=kc(E,2),S=j[0],k=j[1];W_.includes(S)||(p[S]=k)}),p=qh(p);var m=y["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),g={id:h["-id"],type:to.FLOW,pointsList:m,sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:p};return u&&(g.text=u),g}var ho=function(){function y(h){var u=this,l=h.lf;this.adapterOut=function(o,f){var p,m,g=fg({},u.processAttributes);NA(g,o,f);var E={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};CA(E,o);var j=u.definitionAttributes;j["bpmn:process"]=g,j["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var S={"bpmn:definitions":j};if(!((p=f==null?void 0:f.mapping)===null||p===void 0)&&p.out){var k=(m=f==null?void 0:f.mapping)===null||m===void 0?void 0:m.out,T=function(C){Array.isArray(C)&&C.forEach(function(N){return T(N)}),typeof C=="object"&&Object.keys(C).forEach(function(N){var R;(R=k[N])?(C[R]=W.cloneDeep(C[N]),delete C[N],T(C[R])):T(C[N])})};T(S)}return S},this.adapterIn=function(o,f){if(o)return RA(o,f)},l.adapterIn=this.adapterIn,l.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return y.prototype.setCustomShape=function(h,u){y.shapeConfigMap.set(h,u)},y.pluginName="bpmn-adapter",y.shapeConfigMap=new Map,y}();ho.shapeConfigMap.set(to.START,{width:G0.width,height:G0.height});ho.shapeConfigMap.set(to.END,{width:H0.width,height:H0.height});ho.shapeConfigMap.set(to.INTERMEDIATE_CATCH,{width:Vh.width,height:Vh.height});ho.shapeConfigMap.set(to.INTERMEDIATE_THROW,{width:Vh.width,height:Vh.height});ho.shapeConfigMap.set(to.BOUNDARY,{width:X0.width,height:X0.height});ho.shapeConfigMap.set(to.PARALLEL_GATEWAY,{width:U0.width,height:U0.height});ho.shapeConfigMap.set(to.INCLUSIVE_GATEWAY,{width:Y0.width,height:Y0.height});ho.shapeConfigMap.set(to.EXCLUSIVE_GATEWAY,{width:V0.width,height:V0.height});ho.shapeConfigMap.set(to.SYSTEM,{width:$0.width,height:$0.height});ho.shapeConfigMap.set(to.USER,{width:K0.width,height:K0.height});ho.shapeConfigMap.set(to.SUBPROCESS,{width:q0.width,height:q0.height});(function(y){TA(h,y);function h(u){var l=y.call(this,u)||this;l.adapterXmlIn=function(p){var m=PA(p);return l.adapterIn(m,l.props)},l.adapterXmlOut=function(p){var m=l.adapterOut(p,l.props);return AA(m)};var o=u.lf,f=u.props;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l.props=f,l}return h.pluginName="BPMNAdapter",h})(ho);var n_=globalThis&&globalThis.__assign||function(){return n_=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},n_.apply(this,arguments)};globalThis&&globalThis.__read;var Mc;(function(y){y.HORIZONTAL="horizontal",y.VERTICAL="vertical"})(Mc||(Mc={}));var BA=function(y,h,u,l){l===void 0&&(l=0);var o=WA(y,h,u);return o<=l};function r_(y){return y*y}function tg(y,h){return r_(y.x-h.x)+r_(y.y-h.y)}var FA=function(y,h,u){var l=tg(h,u);if(l===0)return tg(y,h);var o=((y.x-h.x)*(u.x-h.x)+(y.y-h.y)*(u.y-h.y))/l;return o=Math.max(0,Math.min(1,o)),tg(y,{x:h.x+o*(u.x-h.x),y:h.y+o*(u.y-h.y)})},WA=function(y,h,u){return Math.sqrt(FA(y,h,u))},GA=function(y){var h=y.x,u=y.y,l=y.width,o=y.height,f={minX:h-l/2,minY:u-o/2,maxX:h+l/2,maxY:u+o/2,x:h,y:u,width:l,height:o,centerX:h,centerY:u};return f},HA=function(y,h){var u;return y.x===h.x?u=Mc.VERTICAL:y.y===h.y&&(u=Mc.HORIZONTAL),u},XA=function(y,h,u){var l=GA(y),o=HA(h,u),f=Math.max(h.x,u.x),p=Math.min(h.x,u.x),m=Math.max(h.y,u.y),g=Math.min(h.y,u.y),E=y.x,j=y.y,S=y.width,k=y.height;if(o===Mc.HORIZONTAL){if(f>=l.maxX&&p<=l.minX)return{startCrossPoint:{x:h.x>u.x?E+S/2:E-S/2,y:h.y},endCrossPoint:{x:h.x>u.x?E-S/2:E+S/2,y:h.y}}}else if(o===Mc.VERTICAL&&m>=l.maxY&&g<=l.minY)return{startCrossPoint:{x:h.x,y:h.y>u.y?j+k/2:j-k/2},endCrossPoint:{x:h.x,y:h.y>u.y?j-k/2:j+k/2}}},UA=function(y,h,u){u===void 0&&(u=0);for(var l=y.x,o=y.y,f=h.pointsList,p=0;p<f.length-1;p++)if(BA({x:l,y:o},f[p],f[p+1],u)){var m=XA(y,f[p],f[p+1]);if(m)return{crossIndex:p+1,crossPoints:m}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},YA=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},o_=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(YA(arguments[h]));return y},IT=function(){function y(h){var u=h.lf;this._lf=u,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return y.prototype.eventHandler=function(){var h=this;this.dndAdd&&this._lf.on("node:dnd-add",function(u){var l=u.data;h.insetNode(l)}),this.dropAdd&&this._lf.on("node:drop",function(u){for(var l=u.data,o=h._lf.graphModel.edges,f=l.id,p=!0,m=0;m<o.length;m++)if(o[m].sourceNodeId===f||o[m].targetNodeId===f){p=!1;break}p&&h.insetNode(l)})},y.prototype.checkRuleBeforeInsetNode=function(h,u,l,o,f){var p=this._lf.getNodeModelById(h),m=this._lf.getNodeModelById(u),g=p.getAnchorInfo(l),E=m.getAnchorInfo(o),j=p.isAllowConnectedAsSource(f,g,E),S=m.isAllowConnectedAsTarget(f,g,E),k=We.formateAnchorConnectValidateData(j),T=k.isAllPass,C=k.msg,N=We.formateAnchorConnectValidateData(S),R=N.isAllPass,G=N.msg;return{isPass:T&&R,sourceMsg:C,targetMsg:G}},y.prototype.insetNode=function(h){for(var u=this,l=this._lf.graphModel.edges,o=this._lf.getNodeModelById(h.id),f=0;f<l.length;f++){var p=UA(o,l[f],this.deviation),m=p.crossIndex,g=p.crossPoints;if(m>=0){var E=l[f],j=E.sourceNodeId,S=E.targetNodeId,k=E.id,T=E.type,C=E.pointsList,N=E.sourceAnchorId,R=E.targetAnchorId,G=mf(C[0]),X=mf(g.startCrossPoint);this._lf.deleteEdge(k);var Q=this.checkRuleBeforeInsetNode(j,S,N,R,h);if(this._lf.addEdge({type:T,sourceNodeId:j,targetNodeId:h.id,startPoint:G,endPoint:X,pointsList:o_(C.slice(0,m),[g.startCrossPoint])}),this._lf.addEdge({type:T,sourceNodeId:h.id,targetNodeId:S,startPoint:mf(g.endCrossPoint),endPoint:mf(C[C.length-1]),pointsList:o_([g.endCrossPoint],C.slice(m))}),Q.isPass)break;this._lf.graphModel.eventCenter.emit(We.EventType.CONNECTION_NOT_ALLOWED,{data:h,msg:Q.targetMsg||Q.sourceMsg}),setTimeout(function(){u._lf.undo()},200);break}}},y.pluginName="insertNodeInPolyline",y}(),VA=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},$A=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(VA(arguments[h]));return y},RT=function(){function y(h){var u=this,l=h.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){u.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){u.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){u.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){u.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){u.lf.redo()}}],this.lf=l}return y.prototype.render=function(h,u){this.destroy();var l=this.getControlTool();this.toolEl=l,u.appendChild(l),this.domContainer=u},y.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},y.prototype.addItem=function(h){this.controlItems.push(h)},y.prototype.removeItem=function(h){var u=this.controlItems.findIndex(function(l){return l.key===h});return u==-1?null:this.controlItems.splice(u,1)[0]},y.prototype.getControlTool=function(){var h=this,u="lf-control-item",l="lf-control-item disabled",o=document.createElement("div"),f=[];return o.className="lf-control",this.controlItems.forEach(function(p){var m=document.createElement("div"),g=document.createElement("i"),E=document.createElement("span");switch(m.className=l,p.onClick&&(m.onclick=p.onClick.bind(null,h.lf)),p.onMouseEnter&&(m.onmouseenter=p.onMouseEnter.bind(null,h.lf)),p.onMouseLeave&&(m.onmouseleave=p.onMouseLeave.bind(null,h.lf)),g.className=p.iconClass,E.className="lf-control-text",E.title=p.title,E.innerText=p.text,m.append(g,E),p.text){case"上一步":h.lf.on("history:change",function(j){var S=j.data.undoAble;m.className=S?u:l});break;case"下一步":h.lf.on("history:change",function(j){var S=j.data.redoAble;m.className=S?u:l});break;default:m.className=u;break}f.push(m)}),o.append.apply(o,$A(f)),o},y.pluginName="control",y}(),KA=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},qA=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(KA(arguments[h]));return y},yf="lf:defaultNodeMenu",vf="lf:defaultEdgeMenu",gf="lf:defaultGraphMenu",i_="lf:defaultSelectionMenu",LT=function(){function y(h){var u=this,l=h.lf;this.lf=l;var o=l.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(f){u.setMenuConfig(f)},this.lf.addMenuConfig=function(f){u.addMenuConfig(f)},this.lf.setMenuByType=function(f){u.setMenuByType(f)})}return y.prototype.init=function(){var h=this,u=[{text:"删除",callback:function(f){h.lf.deleteNode(f.id)}},{text:"编辑文本",callback:function(f){h.lf.graphModel.editText(f.id)}},{text:"复制",callback:function(f){h.lf.cloneNode(f.id)}}];this.menuTypeMap.set(yf,u);var l=[{text:"删除",callback:function(f){h.lf.deleteEdge(f.id)}},{text:"编辑文本",callback:function(f){h.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(vf,l),this.menuTypeMap.set(gf,[]);var o=[{text:"删除",callback:function(f){h.lf.clearSelectElements(),f.edges.forEach(function(p){return h.lf.deleteEdge(p.id)}),f.nodes.forEach(function(p){return h.lf.deleteNode(p.id)})}}];this.menuTypeMap.set(i_,o)},y.prototype.render=function(h,u){var l=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var f=o.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(l.__currentData),l.__menuDOM.style.display="none",l.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var f=o.data,p=o.position,m=o.e,g=p.domOverlayPosition,E=g.x,j=g.y,S=f.id,k=l.lf.graphModel.getNodeModelById(S),T=[],C=l.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=l.menuTypeMap.get(yf),l.__currentData=f,l.showMenu(E,j,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var f=o.data,p=o.position,m=o.e,g=p.domOverlayPosition,E=g.x,j=g.y,S=f.id,k=l.lf.graphModel.getEdgeModelById(S),T=[],C=l.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=l.menuTypeMap.get(vf),l.__currentData=f,l.showMenu(E,j,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var f=o.position,p=l.menuTypeMap.get(gf),m=f.domOverlayPosition,g=m.x,E=m.y;l.showMenu(g,E,p)}),this.lf.on("selection:contextmenu",function(o){var f=o.data,p=o.position,m=l.menuTypeMap.get(i_),g=p.domOverlayPosition,E=g.x,j=g.y;l.__currentData=f,l.showMenu(E,j,m)}),this.lf.on("node:mousedown",function(){l.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){l.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){l.__menuDOM.style.display="none"})},y.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},y.prototype.showMenu=function(h,u,l,o){if(!(!l||!l.length)){var f=this.__menuDOM;if(f.innerHTML="",f.append.apply(f,qA(this.__getMenuDom(l))),!!f.children.length){if(f.style.display="block",!o){f.style.top=u+"px",f.style.left=h+"px";return}var p=o.width,m=o.height,g=o.clientX,E=o.clientY,j=this.lf.graphModel,S=f.offsetWidth,k=!0,T=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=T-g,N=j.rootEl.getBoundingClientRect(),R=N.left+N.width;R<T&&(C=R-g),C<S&&(k=!1),k?f.style.left=h+"px":f.style.left=h-p+"px";var G=f.offsetHeight,X=!0,Q=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ue=Q-E,re=N.top+N.height;re<Q&&(ue=re-E),ue<G&&(X=!1),X?f.style.top=u+"px":f.style.top=u-m+"px"}}},y.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},y.prototype.__getMenuDom=function(h){var u=[];return h&&h.length>0&&h.forEach(function(l){var o=document.createElement("li");if(l.className?o.className="lf-menu-item "+l.className:o.className="lf-menu-item",l.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",o.appendChild(f)}var p=document.createElement("span");p.className="lf-menu-item-text",l.text&&(p.innerText=l.text),o.appendChild(p),o.onclickCallback=l.callback,u.push(o)}),u},y.prototype.setMenuConfig=function(h){h&&(h.nodeMenu!==void 0&&this.menuTypeMap.set(yf,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(vf,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(gf,h.graphMenu?h.graphMenu:[]))},y.prototype.addMenuConfig=function(h){if(h){if(Array.isArray(h.nodeMenu)){var u=this.menuTypeMap.get(yf);this.menuTypeMap.set(yf,u.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var u=this.menuTypeMap.get(vf);this.menuTypeMap.set(vf,u.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var u=this.menuTypeMap.get(gf);this.menuTypeMap.set(gf,u.concat(h.graphMenu))}}},y.prototype.changeMenuItem=function(h,u){if(h==="add")this.addMenuConfig(u);else if(h==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},y.pluginName="menu",y}(),ZA=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},ng="menu-common",a_=200,JA=100,zT=function(){function y(h){var u=this,l=h.lf;this.menuTypeMap=new Map,this.listenDelete=function(){u.hideContextMenu()},this.lf=l,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(ng,[]),this.lf.setContextMenuByType=function(o,f){u.setContextMenuByType(o,f)},this.lf.setContextMenuItems=function(o){u.setContextMenuItems(o)},this.lf.showContextMenu=function(o){u.showContextMenu(o)},this.lf.hideContextMenu=function(){u.hideContextMenu()}}return y.prototype.render=function(h,u){var l=this;this.container=u,h.on("node:click",function(o){var f=o.data;l._activeData=f,l.createContextMenu()}),h.on("edge:click",function(o){var f=o.data;l._activeData=f,l.createContextMenu()}),h.on("blank:click",function(){l.hideContextMenu()})},y.prototype.setContextMenuByType=function(h,u){this.menuTypeMap.set(h,u)},y.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},y.prototype.showContextMenu=function(h){if(!h||!h.id){console.warn("请检查传入的参数");return}this._activeData=h,this.createContextMenu()},y.prototype.setContextMenuItems=function(h){this.menuTypeMap.set(ng,h)},y.prototype.getContextMenuPosition=function(){var h=this._activeData,u=this.lf.graphModel.getElement(h.id);if(!u){console.warn("找不到元素"+h.id);return}var l,o;if(u.BaseType==="edge"){l=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;var f=u.getData();l=Math.max(f.startPoint.x,l),o=Math.min(f.startPoint.y,o),l=Math.max(f.endPoint.x,l),o=Math.min(f.endPoint.y,o),f.pointsList&&f.pointsList.forEach(function(p){l=Math.max(p.x,l),o=Math.min(p.y,o)})}return u.BaseType==="node"&&(l=h.x+u.width/2,o=h.y-u.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([l,o])},y.prototype.createContextMenu=function(){var h=this,u=this.lf.options.isSilentMode;if(!u){var l=this.menuTypeMap.get(this._activeData.type)||[];l=l.concat(this.menuTypeMap.get(ng));var o=document.createDocumentFragment();l.forEach(function(f){var p=document.createElement("div");p.className="lf-context-item";var m=document.createElement("img");m.src=f.icon,m.className="lf-context-img",f.className&&(p.className=p.className+" "+f.className),m.addEventListener("click",function(){h.hideContextMenu(),f.callback?f.callback(h._activeData):h.addNode({sourceId:h._activeData.id,x:h._activeData.x,y:h._activeData.y,properties:f.properties,type:f.type})}),p.appendChild(m),o.appendChild(p)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(o),this.showMenu()}},y.prototype.addNode=function(h,u){var l=u!==void 0;u===void 0&&(u=h.y);var o=this.lf.getNodeModelById(h.sourceId),f=h.x-o.width+a_,p=u-h.y/2-20,m=h.x+o.width+a_,g=u+h.y/2+20,E=this.lf.getAreaElement([f,p],[m,g]);if(E.length){u=u+JA,this.addNode(h,u);return}var j=this.lf.addNode({type:h.type,x:h.x+200,y:u,properties:h.properties}),S,k;l&&(S={x:h.x,y:h.y+o.height/2},k={x:j.x-j.width/2,y:j.y}),this.lf.addEdge({sourceNodeId:h.sourceId,targetNodeId:j.id,startPoint:S,endPoint:k})},y.prototype.showMenu=function(){var h=ZA(this.getContextMenuPosition(),2),u=h[0],l=h[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=l+"px",this.__menuDOM.style.left=u+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},y.pluginName="contextMenu",y}(),BT=function(){function y(h){var u=this,l=h.lf;this.lf=l,this.lf.setPatternItems=function(o){u.setPatternItems(o)}}return y.prototype.render=function(h,u){var l=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){l.panelEl.appendChild(l.createDndItem(o))}),u.appendChild(this.panelEl),this.domContainer=u},y.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},y.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},y.prototype.createDndItem=function(h){var u=this,l=document.createElement("div");l.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",h.icon&&(o.style.backgroundImage="url("+h.icon+")"),l.appendChild(o),h.label){var f=document.createElement("div");f.innerText=h.label,f.className="lf-dnd-text",l.appendChild(f)}return l.onmousedown=function(){h.type&&u.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(u.lf,u.domContainer)},l.ondblclick=function(p){u.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:p,data:h})},l.onclick=function(p){u.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:p,data:h})},l.oncontextmenu=function(p){u.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:p,data:h})},l},y.pluginName="dndPanel",y}(),FT=function(){function y(h){var u=this,l=h.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(f){var p=u.lf.getPointByClient(f.clientX,f.clientY).domOverlayPosition,m=p.x,g=p.y;u.endPoint={x:m,y:g};var E=u.startPoint,j=E.x,S=E.y,k=u.wrapper.style,T=j,C=S,N=m-j,R=g-S;m<j&&(T=m,N=j-m),g<S&&(C=g,R=S-g),k.left=T+"px",k.top=C+"px",k.width=N+"px",k.height=R+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var f=u.startPoint,p=f.x,m=f.y,g=u.endPoint,E=g.x,j=g.y;if(!(Math.abs(E-p)<10&&Math.abs(j-m)<10)){var S=[Math.min(p,E),Math.min(m,j)],k=[Math.max(p,E),Math.max(m,j)],T=u.lf.graphModel.getAreaElement(S,k,u.isWholeEdge,u.isWholeNode,!0),C=u.lf.graphModel.group;T.forEach(function(N){(!C||!C.getNodeGroup(N.id))&&u.lf.selectElementById(N.id,!0)}),u.lf.emit("selection:selected",T)}},this.lf=l;var o=l.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,l.openSelectionSelect=function(){u.openSelectionSelect()},l.closeSelectionSelect=function(){u.closeSelectionSelect()}}return y.prototype.render=function(h,u){var l=this;this.__domContainer=u,h.on("blank:mousedown",function(o){var f=o.e,p=h.getEditConfig();if(!(!p.stopMoveGraph||l.__disabled)){var m=f.button===2;if(!m){var g=h.getPointByClient(f.clientX,f.clientY).domOverlayPosition,E=g.x,j=g.y;l.startPoint={x:E,y:j},l.endPoint={x:E,y:j};var S=document.createElement("div");S.className="lf-selection-select",S.oncontextmenu=function(T){T.preventDefault()},S.style.top=l.startPoint.y+"px",S.style.left=l.startPoint.x+"px",u.appendChild(S),l.wrapper=S,document.addEventListener("mousemove",l.__draw),document.addEventListener("mouseup",l.__drawOff)}}})},y.prototype.setSelectionSense=function(h,u){h===void 0&&(h=!0),u===void 0&&(u=!0),this.isWholeEdge=h,this.isWholeNode=u},y.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},y.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},y.prototype.open=function(){this.__disabled=!1},y.prototype.close=function(){this.__disabled=!0},y.pluginName="selectionSelect",y}(),QA=globalThis&&globalThis.__values||function(y){var h=typeof Symbol=="function"&&Symbol.iterator,u=h&&y[h],l=0;if(u)return u.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&l>=y.length&&(y=void 0),{value:y&&y[l++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},WT=function(){function y(h){var u=this,l=h.lf,o=h.LogicFlow,f=h.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(p,m){u.setView(),u.isShow||u.createMiniMap(p,m),u.isShow=!0},this.hide=function(){u.isShow&&u.removeMiniMap(),u.isShow=!1},this.reset=function(){u.lf.resetTranslate(),u.lf.resetZoom(),u.hide(),u.show()},this.startDrag=function(p){document.addEventListener("mousemove",u.drag),document.addEventListener("mouseup",u.drop),u.startPosition={x:p.x,y:p.y}},this.moveViewport=function(p,m){var g=u.viewport.style;u.viewPortTop=p,u.viewPortLeft=m,g.top=u.viewPortTop+"px",g.left=u.viewPortLeft+"px"},this.drag=function(p){u.dragging=!0;var m=u.viewPortTop+p.y-u.startPosition.y,g=u.viewPortLeft+p.x-u.startPosition.x;u.moveViewport(m,g),u.startPosition={x:p.x,y:p.y};var E=(u.viewPortLeft+u.viewPortWidth/2)/u.viewPortScale,j=(u.viewPortTop+u.viewPortHeight/2)/u.viewPortScale;u.lf.focusOn({coordinate:{x:E+u.resetDataX,y:j+u.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",u.drag),document.removeEventListener("mouseup",u.drop);var p=u.viewPortTop,m=u.viewPortLeft;u.viewPortLeft>u.width&&(m=u.width-u.viewPortWidth),u.viewPortTop>u.height&&(p=u.height-u.viewPortHeight),u.viewPortLeft<-u.width&&(m=0),u.viewPortTop<-u.height&&(p=0),u.moveViewport(p,m)},this.mapClick=function(p){if(u.dragging)u.dragging=!1;else{var m=p.layerX,g=p.layerY,E=m,j=g,S=u.lf.getGraphRawData(),k=u.getBounds(S),T=k.left,C=k.top,N=T+E/u.viewPortScale,R=C+j/u.viewPortScale;u.lf.focusOn({coordinate:{x:N,y:R}})}},this.lf=l,f&&f.MiniMap&&this.setOption(f),this.miniMapWidth=l.graphModel.width,this.miniMapHeight=l.graphModel.width*this.height/this.width,this.LogicFlow=o,this.initMiniMap()}return y.prototype.render=function(h,u){var l=this;this.container=u,this.lf.on("history:change",function(){l.isShow&&l.setView()}),this.lf.on("graph:transform",p_(function(){l.isShow&&!l.dragging&&l.setView()},300))},y.prototype.init=function(h){this.disabledPlugins=this.disabledPlugins.concat(h.disabledPlugins||[])},y.prototype.setOption=function(h){var u=h.MiniMap,l=u.width,o=l===void 0?150:l,f=u.height,p=f===void 0?220:f,m=u.isShowHeader,g=m===void 0?!0:m,E=u.isShowCloseIcon,j=E===void 0?!0:E,S=u.leftPosition,k=S===void 0?0:S,T=u.topPosition,C=T===void 0?0:T,N=u.rightPosition,R=u.bottomPosition;this.width=o,this.height=p,this.isShowHeader=g,this.isShowCloseIcon=j,this.viewPortWidth=o,this.leftPosition=k,this.topPosition=C,this.rightPosition=N,this.bottomPosition=R},y.prototype.initMiniMap=function(){var h=document.createElement("div");h.className="lf-mini-map-graph",h.style.width=this.width+4+"px",h.style.height=this.height+"px",this.lfMap=new this.LogicFlow({container:h,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(u){return u},this.lfMap.adapterOut=function(u){return u},this.miniMapWrap=h,this.createViewPort(),h.addEventListener("click",this.mapClick)},y.prototype.createMiniMap=function(h,u){var l=document.createElement("div");l.appendChild(this.miniMapWrap),typeof h<"u"||typeof u<"u"?(l.style.left=(h||0)+"px",l.style.top=(u||0)+"px"):(typeof this.rightPosition<"u"?l.style.right=this.rightPosition+"px":typeof this.leftPosition<"u"&&(l.style.left=this.leftPosition+"px"),typeof this.bottomPosition<"u"?l.style.bottom=this.bottomPosition+"px":typeof this.topPosition<"u"&&(l.style.top=this.topPosition+"px")),l.style.position="absolute",l.className="lf-mini-map",this.isShowCloseIcon||l.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||l.classList.add("lf-mini-map-no-header"),this.container.appendChild(l),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=y.headerTitle,l.appendChild(o);var f=document.createElement("span");f.className="lf-mini-map-close",f.addEventListener("click",this.hide),l.appendChild(f),this.miniMapContainer=l},y.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},y.prototype.getBounds=function(h){var u=0,l=this.miniMapWidth,o=0,f=this.miniMapHeight,p=h.nodes;return p&&p.length>0&&p.forEach(function(m){var g=m.x,E=m.y,j=m.width,S=j===void 0?200:j,k=m.height,T=k===void 0?200:k,C=g-S/2,N=g+S/2,R=E-T/2,G=E+T/2;u=C<u?C:u,l=N>l?N:l,o=R<o?R:o,f=G>f?G:f}),{left:u,top:o,bottom:f,right:l}},y.prototype.resetData=function(h){var u=h.nodes,l=h.edges,o=0,f=0;return u&&u.length>0&&(u.forEach(function(p){var m=p.x,g=p.y,E=p.width,j=E===void 0?200:E,S=p.height,k=S===void 0?200:S,T=m-j/2,C=g-k/2;o=T<o?T:o,f=C<f?C:f}),(o<0||f<0)&&(this.resetDataX=o,this.resetDataY=f,u.forEach(function(p){p.x=p.x-o,p.y=p.y-f,p.text&&(p.text.x=p.text.x-o,p.text.y=p.text.y-f)}),l.forEach(function(p){p.startPoint&&(p.startPoint.x=p.startPoint.x-o,p.startPoint.y=p.startPoint.y-f),p.endPoint&&(p.endPoint.x=p.endPoint.x-o,p.endPoint.y=p.endPoint.y-f),p.text&&(p.text.x=p.text.x-o,p.text.y=p.text.y-f),p.pointsList&&p.pointsList.forEach(function(m){m.x=m.x-o,m.y=m.y-f})}))),h},y.prototype.setView=function(){var h,u,l=this.lf.getGraphRawData(),o=this.resetData(l),f=this.lf.viewMap,p=this.lf.graphModel.modelMap,m=this.lfMap.viewMap;try{for(var g=QA(f.keys()),E=g.next();!E.done;E=g.next()){var j=E.value;m.has(j)||(this.lfMap.setView(j,f.get(j)),this.lfMap.graphModel.modelMap.set(j,p.get(j)))}}catch(ue){h={error:ue}}finally{try{E&&!E.done&&(u=g.return)&&u.call(g)}finally{if(h)throw h.error}}this.lfMap.render(o);var S=this.getBounds(o),k=S.left,T=S.top,C=S.right,N=S.bottom,R=this.width/(C-k),G=this.height/(N-T),X=this.miniMapWrap.firstChild.style,Q=Math.min(R,G);X.transform="matrix("+Q+", 0, 0, "+Q+", 0, 0)",X.transformOrigin="left top",X.height=N-Math.min(T,0)+"px",X.width=C-Math.min(k,0)+"px",this.viewPortScale=Q,this.setViewPort(Q,{left:k,top:T,right:C,bottom:N})},y.prototype.setViewPort=function(h,u){var l=u.left,o=u.right;u.top,u.bottom;var f=this.viewport.style;f.width=this.viewPortWidth+"px",f.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var p=this.lf.getTransform(),m=p.TRANSLATE_X,g=p.TRANSLATE_Y,E=p.SCALE_X,j=p.SCALE_Y,S=o-l,k=this.width/(S/this.lf.graphModel.width),T=this.width*(k/this.width),C=this.lf.graphModel.width/this.lf.graphModel.height,N=T/C,R=this.lf.getGraphRawData(),G=this.getBounds(R),X=G.left,Q=G.top,ue=X,re=Q;ue+=m/E,re+=g/j,this.viewPortTop=re>0?0:-re*h,this.viewPortLeft=ue>0?0:-ue*h,this.viewPortWidth=T,this.viewPortHeight=N,f.top=this.viewPortTop+"px",f.left=this.viewPortLeft+"px",f.width=T/E+"px",f.height=N/j+"px"},y.prototype.createViewPort=function(){var h=document.createElement("div");h.className="lf-minimap-viewport",h.addEventListener("mousedown",this.startDrag),this.viewport=h},y.pluginName="miniMap",y.width=150,y.height=220,y.viewPortWidth=150,y.viewPortHeight=75,y.isShowHeader=!0,y.isShowCloseIcon=!0,y.leftPosition=0,y.topPosition=0,y.rightPosition=null,y.bottomPosition=null,y.headerTitle="导航",y}();function eT(y){if(y.length<=1)return!1;for(var h=0,u=y.length-1;h!==u&&h+1!==u&&u-1!==h;)h++,u--;return h===u?[--h,u]:[h,u]}var H_=globalThis&&globalThis.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Ec=globalThis&&globalThis.__assign||function(){return Ec=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Ec.apply(this,arguments)},ha=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f};(function(y){H_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.pointFilter=function(u){for(var l=u,o=1;o<l.length-1;){var f=ha(l[o-1],2),p=f[0],m=f[1],g=ha(l[o],2),E=g[0],j=g[1],S=ha(l[o+1],2),k=S[0],T=S[1];p===E&&E===k||m===j&&j===T?l.splice(o,1):o++}return l},h.prototype.getEdge=function(){var u=this.props.model,l=u.points,o=u.isAnimation,f=u.arrowConfig,p=u.radius,m=p===void 0?5:p,g=u.getEdgeStyle(),E=u.getEdgeAnimationStyle(),j=this.pointFilter(l.split(" ").map(function(Xe){return Xe.split(",").map(function(qe){return Number(qe)})})),S=eT(j);if(S){var k=ha(S,2),T=k[0],C=k[1],N=j[T],R=j[C],G=N.some(function(Xe,qe){return Xe===R[qe]});if(!G){var X=(R[1]-N[1])/2,Q=[R[0],R[1]-X],ue=[N[0],N[1]+X];j.splice(T+1,0,ue,Q)}}for(var re=ha(j[0],2),te=re[0],ne=re[1],Y="M"+te+" "+ne,B=1;B<j.length-1;B++){var V=ha(j[B-1],2),$=V[0],q=V[1],se=ha(j[B],2),xe=se[0],ge=se[1],Me=ha(j[B+1],2),Fe=Me[0],je=Me[1];if(xe===$&&ge!==q){var ve=ge>q?ge-m:ge+m;Y=Y+" L "+xe+" "+ve}if(ge===q&&xe!==$){var Pe=xe>$?xe-m:xe+m;Y=Y+" L "+Pe+" "+ge}if(Y=Y+" Q "+xe+" "+ge,xe===Fe&&ge!==je){var ve=ge>je?ge-m:ge+m;Y=Y+" "+xe+" "+ve}if(ge===je&&xe!==Fe){var Pe=xe>Fe?xe-m:xe+m;Y=Y+" "+Pe+" "+ge}}var Ae=ha(j[j.length-1],2),He=Ae[0],nt=Ae[1];Y=Y+" L "+He+" "+nt;var vt=Ec(Ec(Ec({d:Y,style:o?E:{}},g),f),{fill:"none"});return We.h("path",Ec({d:Y},vt))},h})(We.PolylineEdge);(function(y){H_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h})(We.PolylineEdgeModel);var tT=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;var u_=globalThis&&globalThis.__assign||function(){return u_=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},u_.apply(this,arguments)},s_=globalThis&&globalThis.__assign||function(){return s_=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},s_.apply(this,arguments)},nT=globalThis&&globalThis.__read||function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f};globalThis&&globalThis.__spread;const GT={display:!0,disabled:!1,detail:!1,readonly:!1,required:!1,validate:!1};export{zT as C,BT as D,xT as E,DT as G,IT as I,LT as M,I_ as R,NT as S,kT as T,ET as a,TT as b,MT as c,GT as d,ST as e,PT as f,ns as g,RT as h,FT as i,WT as j,We as l,AT as m,jT as p,jA as s,CT as u};
