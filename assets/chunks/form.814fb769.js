import{c as Xw,b as Ww,e as Uw,f as Yw,d as Vw,g as $w,h as Kw,j as qw,k as Zw,l as Jw,m as Qw,n as ex,o as gg,p as tx,q as nx,r as rx,s as ox,t as ix,v as ax,w as ux,x as sx,y as cx,z as lx,A as fx,B as px,C as dx,D as hx,E as yx,F as vx,G as gx,H as mx,I as bx,J as _x,K as Ox,L as wx,M as xx,N as Ex,O as Sx,P as jx,Q as Px,R as Mx,S as Tx,T as Ax,U as kx,V as Nx,W as Dx,a as Cx,X as Ix,Y as Rx,Z as Lx,_ as Bx,$ as zx,a0 as Fx,a1 as Gx,a2 as Hx,a3 as Xx,a4 as Wx,a5 as Ux,a6 as Yx,a7 as mg,a8 as bg,a9 as Vx,aa as $x,ab as Kx,ac as qx,ad as Zx,ae as Jx,af as Qx,ag as eE,ah as tE,ai as nE,aj as rE,ak as oE,al as iE,am as aE,an as uE,ao as sE,ap as cE,aq as lE,ar as fE,as as pE,at as dE,au as hE,av as yE,aw as vE,ax as gE,ay as mE,az as bE,aA as _E,aB as OE,aC as wE,aD as xE,aE as EE,aF as SE,aG as jE,aH as PE,aI as ME,aJ as TE,aK as AE,aL as kE,aM as NE,aN as DE,aO as CE,aP as IE,aQ as RE,aR as LE,aS as BE,aT as zE,aU as FE,aV as GE,aW as HE,aX as XE,aY as WE,aZ as UE,a_ as YE,a$ as VE,b0 as $E,b1 as KE,b2 as qE,b3 as ZE,b4 as JE,b5 as QE,i as eS,b6 as tS,b7 as nS,b8 as rS,b9 as oS,ba as iS,bb as aS,bc as uS,bd as sS,be as cS,bf as lS,bg as fS,bh as pS,bi as dS,bj as hS,bk as yS,bl as vS,bm as gS,bn as mS,bo as bS,bp as _S,bq as OS,br as wS,bs as xS,bt as ES,bu as SS,bv as jS,bw as _g,bx as Og,by as PS,bz as MS,bA as TS,bB as AS,bC as kS,bD as wg,bE as xg,bF as NS,bG as DS,bH as CS,bI as IS,bJ as RS,bK as LS,bL as BS,bM as zS,bN as FS,bO as GS,bP as HS,bQ as XS,bR as WS,bS as US,bT as YS,bU as VS,bV as $S,bW as KS,bX as qS,bY as ZS,bZ as JS,b_ as QS,b$ as ej,c0 as tj,c1 as nj,c2 as rj,c3 as C,c4 as oj,c5 as ij,c6 as aj,c7 as uj,c8 as sp,c9 as sj,ca as Kf,cb as cj,cc as lj,cd as fj,ce as pj,cf as dj,cg as hj,ch as yj,ci as vj,cj as gj,ck as mj,cl as bj,cm as _j,cn as Oj,co as wj,cp as xj,cq as Ej,cr as Sj,cs as jj,ct as Pj,cu as Mj,cv as Tj,cw as Aj,cx as kj,cy as Nj,cz as Dj,cA as Cj,cB as Ij,cC as Rj,cD as Lj,cE as Bj,cF as zj,cG as Fj,cH as Gj,cI as Hj,cJ as Xj,cK as Wj,cL as Uj,cM as Yj,cN as Vj,cO as $j,cP as Om,cQ as Kj,cR as qj,cS as Zj,cT as Jj,cU as Qj,cV as eP,cW as tP,cX as nP,cY as rP,cZ as oP,c_ as iP,u as aP,c$ as Rt,d0 as uP,d1 as sP,d2 as $u,d3 as cP,d4 as lP,d5 as fP}from"./zipWith.8642dcad.js";import{q as pP,g as dP,e as ai,k as hP,i as cp,h as yP,d as vP,f as gP,S as Eg}from"./baseGet.f3f2ab16.js";import{c as Qi,i as mP,a as bP,d as si}from"./cloneDeep.6b1411dd.js";import{l as _P,i as OP,h as wP,o as xP,j as EP,k as SP,s as jP,n as PP}from"./baseSet.84292f44.js";import{a as lp}from"./baseMap.717c06fd.js";import{p as MP,e as TP,a as wm}from"./pickBy.e06d9ce3.js";import{c as AP,i as kP,t as NP,m as DP,a as CP}from"./merge.0f542de0.js";import{d as IP,h as RP,e as LP,i as fp}from"./basePickBy.40d88517.js";import{k as pp,s as BP}from"./getTag.9f0d1dee.js";import{l as xm,n as dp,o as zP,a as FP}from"./omitBy.496be11f.js";import{a as qf}from"./initCloneObject.fb0a9e5d.js";import{f as GP,a as HP,u as XP,b as WP,m as UP,n as YP,d as VP,t as Em,c as $P,e as KP,i as qP,g as ZP,h as ia,j as JP,k as QP}from"./union.c774781a.js";import{g as e2}from"./get.51c768ca.js";import{p as t2}from"./pick.c38fd284.js";import{s as n2}from"./set.30e920c7.js";import{o as r2,s as o2,a as i2}from"./snakeCase.f05f4dc6.js";import{i as a2}from"./isEqual.1cc8ee6e.js";import{f as u2,i as s2}from"./isNil.990ccdb3.js";import{d as c2,w as l2}from"./createCompounder.12670e9b.js";import{k as f2}from"./kebabCase.47021076.js";const Ue={chunk:Xw,compact:Ww,concat:Uw,difference:Yw,differenceBy:Vw,differenceWith:$w,drop:Kw,dropRight:qw,dropRightWhile:Zw,dropWhile:Jw,fill:Qw,findIndex:ex,findLastIndex:GP,first:gg,flatten:IP,flattenDeep:HP,flattenDepth:tx,fromPairs:u2,head:gg,indexOf:nx,initial:rx,intersection:ox,intersectionBy:ix,intersectionWith:ax,join:ux,last:xm,lastIndexOf:sx,nth:cx,pull:lx,pullAll:fx,pullAllBy:px,pullAllWith:dx,pullAt:hx,remove:yx,reverse:vx,slice:gx,sortedIndex:mx,sortedIndexBy:bx,sortedIndexOf:_x,sortedLastIndex:Ox,sortedLastIndexBy:wx,sortedLastIndexOf:xx,sortedUniq:Ex,sortedUniqBy:Sx,tail:jx,take:Px,takeRight:Mx,takeRightWhile:Tx,takeWhile:Ax,union:XP,unionBy:kx,unionWith:Nx,uniq:Dx,uniqBy:Cx,uniqWith:Ix,unzip:Rx,unzipWith:Lx,without:Bx,xor:zx,xorBy:Fx,xorWith:Gx,zip:Hx,zipObject:Xx,zipObjectDeep:Wx,zipWith:Ux},Dt={countBy:Yx,each:mg,eachRight:bg,every:Vx,filter:$x,find:Kx,findLast:qx,flatMap:WP,flatMapDeep:Zx,flatMapDepth:Jx,forEach:mg,forEachRight:bg,groupBy:Qx,includes:eE,invokeMap:tE,keyBy:nE,map:UP,orderBy:r2,partition:rE,reduce:oE,reduceRight:iE,reject:aE,sample:uE,sampleSize:sE,shuffle:cE,size:lE,some:fE,sortBy:pE},p2={now:YP},Wt={after:dE,ary:hE,before:yE,bind:vE,bindKey:gE,curry:mE,curryRight:bE,debounce:VP,defer:_E,delay:OE,flip:wE,memoize:pP,negate:dp,once:xE,overArgs:EE,partial:SE,partialRight:jE,rearg:PE,rest:ME,spread:TE,throttle:Em,unary:AE,wrap:kE},et={castArray:$P,clone:KP,cloneDeep:Qi,cloneDeepWith:NE,cloneWith:DE,conformsTo:CE,eq:dP,gt:IE,gte:RE,isArguments:_P,isArray:ai,isArrayBuffer:LE,isArrayLike:OP,isArrayLikeObject:AP,isBoolean:BE,isBuffer:wP,isDate:zE,isElement:FE,isEmpty:GE,isEqual:a2,isEqualWith:HE,isError:XE,isFinite:WE,isFunction:hP,isInteger:UE,isLength:xP,isMap:mP,isMatch:YE,isMatchWith:VE,isNaN:$E,isNative:KE,isNil:s2,isNull:qE,isNumber:ZE,isObject:cp,isObjectLike:yP,isPlainObject:kP,isRegExp:JE,isSafeInteger:QE,isSet:bP,isString:eS,isSymbol:vP,isTypedArray:EP,isUndefined:qP,isWeakMap:tS,isWeakSet:nS,lt:rS,lte:oS,toArray:iS,toFinite:ZP,toInteger:ia,toLength:aS,toNumber:JP,toPlainObject:NP,toSafeInteger:uS,toString:gP},wn={add:sS,ceil:cS,divide:lS,floor:fS,max:pS,maxBy:dS,mean:hS,meanBy:yS,min:vS,minBy:gS,multiply:mS,round:bS,subtract:_S,sum:OS,sumBy:wS},hp={clamp:xS,inRange:ES,random:SS},ft={assign:jS,assignIn:_g,assignInWith:Og,assignWith:PS,at:MS,create:TS,defaults:AS,defaultsDeep:kS,entries:wg,entriesIn:xg,extend:_g,extendWith:Og,findKey:NS,findLastKey:DS,forIn:CS,forInRight:IS,forOwn:RS,forOwnRight:LS,functions:BS,functionsIn:zS,get:e2,has:FS,hasIn:RP,invert:GS,invertBy:HS,invoke:XS,keys:pp,keysIn:SP,mapKeys:WS,mapValues:US,merge:DP,mergeWith:YS,omit:zP,omitBy:FP,pick:t2,pickBy:MP,result:VS,set:n2,setWith:$S,toPairs:wg,toPairsIn:xg,transform:KS,unset:qS,update:ZS,updateWith:JS,values:QS,valuesIn:ej},_r={at:tj,chain:nj,commit:rj,lodash:C,next:oj,plant:ij,reverse:aj,tap:uj,thru:sp,toIterator:sj,toJSON:Kf,value:Kf,valueOf:Kf,wrapperChain:cj},jt={camelCase:lj,capitalize:fj,deburr:c2,endsWith:pj,escape:dj,escapeRegExp:hj,kebabCase:f2,lowerCase:yj,lowerFirst:vj,pad:gj,padEnd:mj,padStart:bj,parseInt:_j,repeat:Oj,replace:wj,snakeCase:o2,split:xj,startCase:Ej,startsWith:Sj,template:jj,templateSettings:Pj,toLower:Mj,toUpper:Tj,trim:Aj,trimEnd:kj,trimStart:Nj,truncate:Dj,unescape:Cj,upperCase:Ij,upperFirst:Rj,words:l2},At={attempt:Lj,bindAll:Bj,cond:zj,conforms:Fj,constant:LP,defaultTo:Gj,flow:Hj,flowRight:Xj,identity:fp,iteratee:Wj,matches:Uj,matchesProperty:Yj,method:Vj,methodOf:$j,mixin:Om,noop:QP,nthArg:Kj,over:qj,overEvery:Zj,overSome:i2,property:TP,propertyOf:Jj,range:Qj,rangeRight:eP,stubArray:BP,stubFalse:jP,stubObject:tP,stubString:nP,stubTrue:rP,times:oP,toPath:iP,uniqueId:aP};function d2(){var d=new Rt(this.__wrapped__);return d.__actions__=qf(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=qf(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=qf(this.__views__),d}function h2(){if(this.__filtered__){var d=new Rt(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}var y2=Math.max,v2=Math.min;function g2(d,p,a){for(var c=-1,o=a.length;++c<o;){var l=a[c],f=l.size;switch(l.type){case"drop":d+=f;break;case"dropRight":p-=f;break;case"take":p=v2(p,d+f);break;case"takeRight":d=y2(d,p-f);break}}return{start:d,end:p}}var m2=1,b2=2,_2=Math.min;function O2(){var d=this.__wrapped__.value(),p=this.__dir__,a=ai(d),c=p<0,o=a?d.length:0,l=g2(0,o,this.__views__),f=l.start,y=l.end,g=y-f,O=c?y:f-1,x=this.__iteratees__,w=x.length,j=0,P=_2(g,this.__takeCount__);if(!a||!c&&o==g&&P==g)return uP(d,this.__actions__);var T=[];e:for(;g--&&j<P;){O+=p;for(var M=-1,k=d[O];++M<w;){var R=x[M],L=R.iteratee,Y=R.type,Q=L(k);if(Y==b2)k=Q;else if(!Q){if(Y==m2)continue e;break e}}T[j++]=k}return T}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var w2="4.17.21",x2=2,E2=1,S2=3,Sm=4294967295,j2=Array.prototype,P2=Object.prototype,jm=P2.hasOwnProperty,Sg=Eg?Eg.iterator:void 0,M2=Math.max,jg=Math.min,yp=function(d){return function(p,a,c){if(c==null){var o=cp(a),l=o&&pp(a),f=l&&l.length&&lP(a,l);(f?f.length:o)||(c=a,a=p,p=this)}return d(p,a,c)}}(Om);C.after=Wt.after;C.ary=Wt.ary;C.assign=ft.assign;C.assignIn=ft.assignIn;C.assignInWith=ft.assignInWith;C.assignWith=ft.assignWith;C.at=ft.at;C.before=Wt.before;C.bind=Wt.bind;C.bindAll=At.bindAll;C.bindKey=Wt.bindKey;C.castArray=et.castArray;C.chain=_r.chain;C.chunk=Ue.chunk;C.compact=Ue.compact;C.concat=Ue.concat;C.cond=At.cond;C.conforms=At.conforms;C.constant=At.constant;C.countBy=Dt.countBy;C.create=ft.create;C.curry=Wt.curry;C.curryRight=Wt.curryRight;C.debounce=Wt.debounce;C.defaults=ft.defaults;C.defaultsDeep=ft.defaultsDeep;C.defer=Wt.defer;C.delay=Wt.delay;C.difference=Ue.difference;C.differenceBy=Ue.differenceBy;C.differenceWith=Ue.differenceWith;C.drop=Ue.drop;C.dropRight=Ue.dropRight;C.dropRightWhile=Ue.dropRightWhile;C.dropWhile=Ue.dropWhile;C.fill=Ue.fill;C.filter=Dt.filter;C.flatMap=Dt.flatMap;C.flatMapDeep=Dt.flatMapDeep;C.flatMapDepth=Dt.flatMapDepth;C.flatten=Ue.flatten;C.flattenDeep=Ue.flattenDeep;C.flattenDepth=Ue.flattenDepth;C.flip=Wt.flip;C.flow=At.flow;C.flowRight=At.flowRight;C.fromPairs=Ue.fromPairs;C.functions=ft.functions;C.functionsIn=ft.functionsIn;C.groupBy=Dt.groupBy;C.initial=Ue.initial;C.intersection=Ue.intersection;C.intersectionBy=Ue.intersectionBy;C.intersectionWith=Ue.intersectionWith;C.invert=ft.invert;C.invertBy=ft.invertBy;C.invokeMap=Dt.invokeMap;C.iteratee=At.iteratee;C.keyBy=Dt.keyBy;C.keys=pp;C.keysIn=ft.keysIn;C.map=Dt.map;C.mapKeys=ft.mapKeys;C.mapValues=ft.mapValues;C.matches=At.matches;C.matchesProperty=At.matchesProperty;C.memoize=Wt.memoize;C.merge=ft.merge;C.mergeWith=ft.mergeWith;C.method=At.method;C.methodOf=At.methodOf;C.mixin=yp;C.negate=dp;C.nthArg=At.nthArg;C.omit=ft.omit;C.omitBy=ft.omitBy;C.once=Wt.once;C.orderBy=Dt.orderBy;C.over=At.over;C.overArgs=Wt.overArgs;C.overEvery=At.overEvery;C.overSome=At.overSome;C.partial=Wt.partial;C.partialRight=Wt.partialRight;C.partition=Dt.partition;C.pick=ft.pick;C.pickBy=ft.pickBy;C.property=At.property;C.propertyOf=At.propertyOf;C.pull=Ue.pull;C.pullAll=Ue.pullAll;C.pullAllBy=Ue.pullAllBy;C.pullAllWith=Ue.pullAllWith;C.pullAt=Ue.pullAt;C.range=At.range;C.rangeRight=At.rangeRight;C.rearg=Wt.rearg;C.reject=Dt.reject;C.remove=Ue.remove;C.rest=Wt.rest;C.reverse=Ue.reverse;C.sampleSize=Dt.sampleSize;C.set=ft.set;C.setWith=ft.setWith;C.shuffle=Dt.shuffle;C.slice=Ue.slice;C.sortBy=Dt.sortBy;C.sortedUniq=Ue.sortedUniq;C.sortedUniqBy=Ue.sortedUniqBy;C.split=jt.split;C.spread=Wt.spread;C.tail=Ue.tail;C.take=Ue.take;C.takeRight=Ue.takeRight;C.takeRightWhile=Ue.takeRightWhile;C.takeWhile=Ue.takeWhile;C.tap=_r.tap;C.throttle=Wt.throttle;C.thru=sp;C.toArray=et.toArray;C.toPairs=ft.toPairs;C.toPairsIn=ft.toPairsIn;C.toPath=At.toPath;C.toPlainObject=et.toPlainObject;C.transform=ft.transform;C.unary=Wt.unary;C.union=Ue.union;C.unionBy=Ue.unionBy;C.unionWith=Ue.unionWith;C.uniq=Ue.uniq;C.uniqBy=Ue.uniqBy;C.uniqWith=Ue.uniqWith;C.unset=ft.unset;C.unzip=Ue.unzip;C.unzipWith=Ue.unzipWith;C.update=ft.update;C.updateWith=ft.updateWith;C.values=ft.values;C.valuesIn=ft.valuesIn;C.without=Ue.without;C.words=jt.words;C.wrap=Wt.wrap;C.xor=Ue.xor;C.xorBy=Ue.xorBy;C.xorWith=Ue.xorWith;C.zip=Ue.zip;C.zipObject=Ue.zipObject;C.zipObjectDeep=Ue.zipObjectDeep;C.zipWith=Ue.zipWith;C.entries=ft.toPairs;C.entriesIn=ft.toPairsIn;C.extend=ft.assignIn;C.extendWith=ft.assignInWith;yp(C,C);C.add=wn.add;C.attempt=At.attempt;C.camelCase=jt.camelCase;C.capitalize=jt.capitalize;C.ceil=wn.ceil;C.clamp=hp.clamp;C.clone=et.clone;C.cloneDeep=et.cloneDeep;C.cloneDeepWith=et.cloneDeepWith;C.cloneWith=et.cloneWith;C.conformsTo=et.conformsTo;C.deburr=jt.deburr;C.defaultTo=At.defaultTo;C.divide=wn.divide;C.endsWith=jt.endsWith;C.eq=et.eq;C.escape=jt.escape;C.escapeRegExp=jt.escapeRegExp;C.every=Dt.every;C.find=Dt.find;C.findIndex=Ue.findIndex;C.findKey=ft.findKey;C.findLast=Dt.findLast;C.findLastIndex=Ue.findLastIndex;C.findLastKey=ft.findLastKey;C.floor=wn.floor;C.forEach=Dt.forEach;C.forEachRight=Dt.forEachRight;C.forIn=ft.forIn;C.forInRight=ft.forInRight;C.forOwn=ft.forOwn;C.forOwnRight=ft.forOwnRight;C.get=ft.get;C.gt=et.gt;C.gte=et.gte;C.has=ft.has;C.hasIn=ft.hasIn;C.head=Ue.head;C.identity=fp;C.includes=Dt.includes;C.indexOf=Ue.indexOf;C.inRange=hp.inRange;C.invoke=ft.invoke;C.isArguments=et.isArguments;C.isArray=ai;C.isArrayBuffer=et.isArrayBuffer;C.isArrayLike=et.isArrayLike;C.isArrayLikeObject=et.isArrayLikeObject;C.isBoolean=et.isBoolean;C.isBuffer=et.isBuffer;C.isDate=et.isDate;C.isElement=et.isElement;C.isEmpty=et.isEmpty;C.isEqual=et.isEqual;C.isEqualWith=et.isEqualWith;C.isError=et.isError;C.isFinite=et.isFinite;C.isFunction=et.isFunction;C.isInteger=et.isInteger;C.isLength=et.isLength;C.isMap=et.isMap;C.isMatch=et.isMatch;C.isMatchWith=et.isMatchWith;C.isNaN=et.isNaN;C.isNative=et.isNative;C.isNil=et.isNil;C.isNull=et.isNull;C.isNumber=et.isNumber;C.isObject=cp;C.isObjectLike=et.isObjectLike;C.isPlainObject=et.isPlainObject;C.isRegExp=et.isRegExp;C.isSafeInteger=et.isSafeInteger;C.isSet=et.isSet;C.isString=et.isString;C.isSymbol=et.isSymbol;C.isTypedArray=et.isTypedArray;C.isUndefined=et.isUndefined;C.isWeakMap=et.isWeakMap;C.isWeakSet=et.isWeakSet;C.join=Ue.join;C.kebabCase=jt.kebabCase;C.last=xm;C.lastIndexOf=Ue.lastIndexOf;C.lowerCase=jt.lowerCase;C.lowerFirst=jt.lowerFirst;C.lt=et.lt;C.lte=et.lte;C.max=wn.max;C.maxBy=wn.maxBy;C.mean=wn.mean;C.meanBy=wn.meanBy;C.min=wn.min;C.minBy=wn.minBy;C.stubArray=At.stubArray;C.stubFalse=At.stubFalse;C.stubObject=At.stubObject;C.stubString=At.stubString;C.stubTrue=At.stubTrue;C.multiply=wn.multiply;C.nth=Ue.nth;C.noop=At.noop;C.now=p2.now;C.pad=jt.pad;C.padEnd=jt.padEnd;C.padStart=jt.padStart;C.parseInt=jt.parseInt;C.random=hp.random;C.reduce=Dt.reduce;C.reduceRight=Dt.reduceRight;C.repeat=jt.repeat;C.replace=jt.replace;C.result=ft.result;C.round=wn.round;C.sample=Dt.sample;C.size=Dt.size;C.snakeCase=jt.snakeCase;C.some=Dt.some;C.sortedIndex=Ue.sortedIndex;C.sortedIndexBy=Ue.sortedIndexBy;C.sortedIndexOf=Ue.sortedIndexOf;C.sortedLastIndex=Ue.sortedLastIndex;C.sortedLastIndexBy=Ue.sortedLastIndexBy;C.sortedLastIndexOf=Ue.sortedLastIndexOf;C.startCase=jt.startCase;C.startsWith=jt.startsWith;C.subtract=wn.subtract;C.sum=wn.sum;C.sumBy=wn.sumBy;C.template=jt.template;C.times=At.times;C.toFinite=et.toFinite;C.toInteger=ia;C.toLength=et.toLength;C.toLower=jt.toLower;C.toNumber=et.toNumber;C.toSafeInteger=et.toSafeInteger;C.toString=et.toString;C.toUpper=jt.toUpper;C.trim=jt.trim;C.trimEnd=jt.trimEnd;C.trimStart=jt.trimStart;C.truncate=jt.truncate;C.unescape=jt.unescape;C.uniqueId=At.uniqueId;C.upperCase=jt.upperCase;C.upperFirst=jt.upperFirst;C.each=Dt.forEach;C.eachRight=Dt.forEachRight;C.first=Ue.head;yp(C,function(){var d={};return lp(C,function(p,a){jm.call(C.prototype,a)||(d[a]=p)}),d}(),{chain:!1});C.VERSION=w2;(C.templateSettings=jt.templateSettings).imports._=C;si(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){C[d].placeholder=C});si(["drop","take"],function(d,p){Rt.prototype[d]=function(a){a=a===void 0?1:M2(ia(a),0);var c=this.__filtered__&&!p?new Rt(this):this.clone();return c.__filtered__?c.__takeCount__=jg(a,c.__takeCount__):c.__views__.push({size:jg(a,Sm),type:d+(c.__dir__<0?"Right":"")}),c},Rt.prototype[d+"Right"]=function(a){return this.reverse()[d](a).reverse()}});si(["filter","map","takeWhile"],function(d,p){var a=p+1,c=a==E2||a==S2;Rt.prototype[d]=function(o){var l=this.clone();return l.__iteratees__.push({iteratee:wm(o),type:a}),l.__filtered__=l.__filtered__||c,l}});si(["head","last"],function(d,p){var a="take"+(p?"Right":"");Rt.prototype[d]=function(){return this[a](1).value()[0]}});si(["initial","tail"],function(d,p){var a="drop"+(p?"":"Right");Rt.prototype[d]=function(){return this.__filtered__?new Rt(this):this[a](1)}});Rt.prototype.compact=function(){return this.filter(fp)};Rt.prototype.find=function(d){return this.filter(d).head()};Rt.prototype.findLast=function(d){return this.reverse().find(d)};Rt.prototype.invokeMap=CP(function(d,p){return typeof d=="function"?new Rt(this):this.map(function(a){return sP(a,d,p)})});Rt.prototype.reject=function(d){return this.filter(dp(wm(d)))};Rt.prototype.slice=function(d,p){d=ia(d);var a=this;return a.__filtered__&&(d>0||p<0)?new Rt(a):(d<0?a=a.takeRight(-d):d&&(a=a.drop(d)),p!==void 0&&(p=ia(p),a=p<0?a.dropRight(-p):a.take(p-d)),a)};Rt.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()};Rt.prototype.toArray=function(){return this.take(Sm)};lp(Rt.prototype,function(d,p){var a=/^(?:filter|find|map|reject)|While$/.test(p),c=/^(?:head|last)$/.test(p),o=C[c?"take"+(p=="last"?"Right":""):p],l=c||/^find/.test(p);o&&(C.prototype[p]=function(){var f=this.__wrapped__,y=c?[1]:arguments,g=f instanceof Rt,O=y[0],x=g||ai(f),w=function(R){var L=o.apply(C,PP([R],y));return c&&j?L[0]:L};x&&a&&typeof O=="function"&&O.length!=1&&(g=x=!1);var j=this.__chain__,P=!!this.__actions__.length,T=l&&!j,M=g&&!P;if(!l&&x){f=M?f:new Rt(this);var k=d.apply(f,y);return k.__actions__.push({func:sp,args:[w],thisArg:void 0}),new fP(k,j)}return T&&M?d.apply(this,y):(k=this.thru(w),T?c?k.value()[0]:k.value():k)})});si(["pop","push","shift","sort","splice","unshift"],function(d){var p=j2[d],a=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",c=/^(?:pop|shift)$/.test(d);C.prototype[d]=function(){var o=arguments;if(c&&!this.__chain__){var l=this.value();return p.apply(ai(l)?l:[],o)}return this[a](function(f){return p.apply(ai(f)?f:[],o)})}});lp(Rt.prototype,function(d,p){var a=C[p];if(a){var c=a.name+"";jm.call($u,c)||($u[c]=[]),$u[c].push({name:p,func:a})}});$u[cP(void 0,x2).name]=[{name:"wrapper",func:void 0}];Rt.prototype.clone=d2;Rt.prototype.reverse=h2;Rt.prototype.value=O2;C.prototype.at=_r.at;C.prototype.chain=_r.wrapperChain;C.prototype.commit=_r.commit;C.prototype.next=_r.next;C.prototype.plant=_r.plant;C.prototype.reverse=_r.reverse;C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=_r.value;C.prototype.first=C.prototype.head;Sg&&(C.prototype[Sg]=_r.toIterator);var Qf={exports:{}};(function(d,p){(function(a,c){d.exports=c()})(window,function(){return function(a){var c={};function o(l){if(c[l])return c[l].exports;var f=c[l]={i:l,l:!1,exports:{}};return a[l].call(f.exports,f,f.exports,o),f.l=!0,f.exports}return o.m=a,o.c=c,o.d=function(l,f,y){o.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:y})},o.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,f){if(1&f&&(l=o(l)),8&f||4&f&&typeof l=="object"&&l&&l.__esModule)return l;var y=Object.create(null);if(o.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:l}),2&f&&typeof l!="string")for(var g in l)o.d(y,g,(function(O){return l[O]}).bind(null,g));return y},o.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(f,"a",f),f},o.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},o.p="",o(o.s=215)}([function(a,c,o){o.d(c,"a",function(){return V}),o.d(c,"b",function(){return Q}),o.d(c,"c",function(){return De}),o.d(c,"d",function(){return Ze}),o.d(c,"e",function(){return R}),o.d(c,"f",function(){return Y}),o.d(c,"g",function(){return R}),o.d(c,"h",function(){return Me}),o.d(c,"i",function(){return f}),o.d(c,"j",function(){return qe}),o.d(c,"k",function(){return X});var l,f,y,g,O,x,w,j={},P=[],T=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function M(ee,J){for(var ie in J)ee[ie]=J[ie];return ee}function k(ee){var J=ee.parentNode;J&&J.removeChild(ee)}function R(ee,J,ie){var we,Te,xe,Je={};for(xe in J)xe=="key"?we=J[xe]:xe=="ref"?Te=J[xe]:Je[xe]=J[xe];if(arguments.length>2&&(Je.children=arguments.length>3?l.call(arguments,2):ie),typeof ee=="function"&&ee.defaultProps!=null)for(xe in ee.defaultProps)Je[xe]===void 0&&(Je[xe]=ee.defaultProps[xe]);return L(ee,Je,we,Te,null)}function L(ee,J,ie,we,Te){var xe={type:ee,props:J,key:ie,ref:we,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Te??++y};return Te==null&&f.vnode!=null&&f.vnode(xe),xe}function Y(){return{current:null}}function Q(ee){return ee.children}function V(ee,J){this.props=ee,this.context=J}function q(ee,J){if(J==null)return ee.__?q(ee.__,ee.__.__k.indexOf(ee)+1):null;for(var ie;J<ee.__k.length;J++)if((ie=ee.__k[J])!=null&&ie.__e!=null)return ie.__e;return typeof ee.type=="function"?q(ee):null}function Z(ee){var J,ie;if((ee=ee.__)!=null&&ee.__c!=null){for(ee.__e=ee.__c.base=null,J=0;J<ee.__k.length;J++)if((ie=ee.__k[J])!=null&&ie.__e!=null){ee.__e=ee.__c.base=ie.__e;break}return Z(ee)}}function F(ee){(!ee.__d&&(ee.__d=!0)&&g.push(ee)&&!I.__r++||x!==f.debounceRendering)&&((x=f.debounceRendering)||O)(I)}function I(){for(var ee;I.__r=g.length;)ee=g.sort(function(J,ie){return J.__v.__b-ie.__v.__b}),g=[],ee.some(function(J){var ie,we,Te,xe,Je,it;J.__d&&(Je=(xe=(ie=J).__v).__e,(it=ie.__P)&&(we=[],(Te=M({},xe)).__v=xe.__v+1,ge(it,xe,Te,ie.__n,it.ownerSVGElement!==void 0,xe.__h!=null?[Je]:null,we,Je??q(xe),xe.__h),ue(we,xe),xe.__e!=Je&&Z(xe)))})}function z(ee,J,ie,we,Te,xe,Je,it,tt,Ye){var me,He,ne,ze,lt,Ot,st,mt=we&&we.__k||P,kt=mt.length;for(ie.__k=[],me=0;me<J.length;me++)if((ze=ie.__k[me]=(ze=J[me])==null||typeof ze=="boolean"?null:typeof ze=="string"||typeof ze=="number"||typeof ze=="bigint"?L(null,ze,null,null,ze):Array.isArray(ze)?L(Q,{children:ze},null,null,null):ze.__b>0?L(ze.type,ze.props,ze.key,null,ze.__v):ze)!=null){if(ze.__=ie,ze.__b=ie.__b+1,(ne=mt[me])===null||ne&&ze.key==ne.key&&ze.type===ne.type)mt[me]=void 0;else for(He=0;He<kt;He++){if((ne=mt[He])&&ze.key==ne.key&&ze.type===ne.type){mt[He]=void 0;break}ne=null}ge(ee,ze,ne=ne||j,Te,xe,Je,it,tt,Ye),lt=ze.__e,(He=ze.ref)&&ne.ref!=He&&(st||(st=[]),ne.ref&&st.push(ne.ref,null,ze),st.push(He,ze.__c||lt,ze)),lt!=null?(Ot==null&&(Ot=lt),typeof ze.type=="function"&&ze.__k===ne.__k?ze.__d=tt=G(ze,tt,ee):tt=re(ee,ze,ne,mt,lt,tt),typeof ie.type=="function"&&(ie.__d=tt)):tt&&ne.__e==tt&&tt.parentNode!=ee&&(tt=q(ne))}for(ie.__e=Ot,me=kt;me--;)mt[me]!=null&&(typeof ie.type=="function"&&mt[me].__e!=null&&mt[me].__e==ie.__d&&(ie.__d=q(we,me+1)),je(mt[me],mt[me]));if(st)for(me=0;me<st.length;me++)be(st[me],st[++me],st[++me])}function G(ee,J,ie){for(var we,Te=ee.__k,xe=0;Te&&xe<Te.length;xe++)(we=Te[xe])&&(we.__=ee,J=typeof we.type=="function"?G(we,J,ie):re(ie,we,we,Te,we.__e,J));return J}function X(ee,J){return J=J||[],ee==null||typeof ee=="boolean"||(Array.isArray(ee)?ee.some(function(ie){X(ie,J)}):J.push(ee)),J}function re(ee,J,ie,we,Te,xe){var Je,it,tt;if(J.__d!==void 0)Je=J.__d,J.__d=void 0;else if(ie==null||Te!=xe||Te.parentNode==null)e:if(xe==null||xe.parentNode!==ee)ee.appendChild(Te),Je=null;else{for(it=xe,tt=0;(it=it.nextSibling)&&tt<we.length;tt+=2)if(it==Te)break e;ee.insertBefore(Te,xe),Je=xe}return Je!==void 0?Je:Te.nextSibling}function de(ee,J,ie){J[0]==="-"?ee.setProperty(J,ie):ee[J]=ie==null?"":typeof ie!="number"||T.test(J)?ie:ie+"px"}function le(ee,J,ie,we,Te){var xe;e:if(J==="style")if(typeof ie=="string")ee.style.cssText=ie;else{if(typeof we=="string"&&(ee.style.cssText=we=""),we)for(J in we)ie&&J in ie||de(ee.style,J,"");if(ie)for(J in ie)we&&ie[J]===we[J]||de(ee.style,J,ie[J])}else if(J[0]==="o"&&J[1]==="n")xe=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in ee?J.toLowerCase().slice(2):J.slice(2),ee.l||(ee.l={}),ee.l[J+xe]=ie,ie?we||ee.addEventListener(J,xe?Se:ve,xe):ee.removeEventListener(J,xe?Se:ve,xe);else if(J!=="dangerouslySetInnerHTML"){if(Te)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in ee)try{ee[J]=ie??"";break e}catch{}typeof ie=="function"||(ie!=null&&(ie!==!1||J[0]==="a"&&J[1]==="r")?ee.setAttribute(J,ie):ee.removeAttribute(J))}}function ve(ee){this.l[ee.type+!1](f.event?f.event(ee):ee)}function Se(ee){this.l[ee.type+!0](f.event?f.event(ee):ee)}function ge(ee,J,ie,we,Te,xe,Je,it,tt){var Ye,me,He,ne,ze,lt,Ot,st,mt,kt,Ct,ct=J.type;if(J.constructor!==void 0)return null;ie.__h!=null&&(tt=ie.__h,it=J.__e=ie.__e,J.__h=null,xe=[it]),(Ye=f.__b)&&Ye(J);try{e:if(typeof ct=="function"){if(st=J.props,mt=(Ye=ct.contextType)&&we[Ye.__c],kt=Ye?mt?mt.props.value:Ye.__:we,ie.__c?Ot=(me=J.__c=ie.__c).__=me.__E:("prototype"in ct&&ct.prototype.render?J.__c=me=new ct(st,kt):(J.__c=me=new V(st,kt),me.constructor=ct,me.render=Be),mt&&mt.sub(me),me.props=st,me.state||(me.state={}),me.context=kt,me.__n=we,He=me.__d=!0,me.__h=[]),me.__s==null&&(me.__s=me.state),ct.getDerivedStateFromProps!=null&&(me.__s==me.state&&(me.__s=M({},me.__s)),M(me.__s,ct.getDerivedStateFromProps(st,me.__s))),ne=me.props,ze=me.state,He)ct.getDerivedStateFromProps==null&&me.componentWillMount!=null&&me.componentWillMount(),me.componentDidMount!=null&&me.__h.push(me.componentDidMount);else{if(ct.getDerivedStateFromProps==null&&st!==ne&&me.componentWillReceiveProps!=null&&me.componentWillReceiveProps(st,kt),!me.__e&&me.shouldComponentUpdate!=null&&me.shouldComponentUpdate(st,me.__s,kt)===!1||J.__v===ie.__v){me.props=st,me.state=me.__s,J.__v!==ie.__v&&(me.__d=!1),me.__v=J,J.__e=ie.__e,J.__k=ie.__k,J.__k.forEach(function(Ht){Ht&&(Ht.__=J)}),me.__h.length&&Je.push(me);break e}me.componentWillUpdate!=null&&me.componentWillUpdate(st,me.__s,kt),me.componentDidUpdate!=null&&me.__h.push(function(){me.componentDidUpdate(ne,ze,lt)})}me.context=kt,me.props=st,me.state=me.__s,(Ye=f.__r)&&Ye(J),me.__d=!1,me.__v=J,me.__P=ee,Ye=me.render(me.props,me.state,me.context),me.state=me.__s,me.getChildContext!=null&&(we=M(M({},we),me.getChildContext())),He||me.getSnapshotBeforeUpdate==null||(lt=me.getSnapshotBeforeUpdate(ne,ze)),Ct=Ye!=null&&Ye.type===Q&&Ye.key==null?Ye.props.children:Ye,z(ee,Array.isArray(Ct)?Ct:[Ct],J,ie,we,Te,xe,Je,it,tt),me.base=J.__e,J.__h=null,me.__h.length&&Je.push(me),Ot&&(me.__E=me.__=null),me.__e=!1}else xe==null&&J.__v===ie.__v?(J.__k=ie.__k,J.__e=ie.__e):J.__e=ye(ie.__e,J,ie,we,Te,xe,Je,tt);(Ye=f.diffed)&&Ye(J)}catch(Ht){J.__v=null,(tt||xe!=null)&&(J.__e=it,J.__h=!!tt,xe[xe.indexOf(it)]=null),f.__e(Ht,J,ie)}}function ue(ee,J){f.__c&&f.__c(J,ee),ee.some(function(ie){try{ee=ie.__h,ie.__h=[],ee.some(function(we){we.call(ie)})}catch(we){f.__e(we,ie.__v)}})}function ye(ee,J,ie,we,Te,xe,Je,it){var tt,Ye,me,He=ie.props,ne=J.props,ze=J.type,lt=0;if(ze==="svg"&&(Te=!0),xe!=null){for(;lt<xe.length;lt++)if((tt=xe[lt])&&"setAttribute"in tt==!!ze&&(ze?tt.localName===ze:tt.nodeType===3)){ee=tt,xe[lt]=null;break}}if(ee==null){if(ze===null)return document.createTextNode(ne);ee=Te?document.createElementNS("http://www.w3.org/2000/svg",ze):document.createElement(ze,ne.is&&ne),xe=null,it=!1}if(ze===null)He===ne||it&&ee.data===ne||(ee.data=ne);else{if(xe=xe&&l.call(ee.childNodes),Ye=(He=ie.props||j).dangerouslySetInnerHTML,me=ne.dangerouslySetInnerHTML,!it){if(xe!=null)for(He={},lt=0;lt<ee.attributes.length;lt++)He[ee.attributes[lt].name]=ee.attributes[lt].value;(me||Ye)&&(me&&(Ye&&me.__html==Ye.__html||me.__html===ee.innerHTML)||(ee.innerHTML=me&&me.__html||""))}if(function(Ot,st,mt,kt,Ct){var ct;for(ct in mt)ct==="children"||ct==="key"||ct in st||le(Ot,ct,null,mt[ct],kt);for(ct in st)Ct&&typeof st[ct]!="function"||ct==="children"||ct==="key"||ct==="value"||ct==="checked"||mt[ct]===st[ct]||le(Ot,ct,st[ct],mt[ct],kt)}(ee,ne,He,Te,it),me)J.__k=[];else if(lt=J.props.children,z(ee,Array.isArray(lt)?lt:[lt],J,ie,we,Te&&ze!=="foreignObject",xe,Je,xe?xe[0]:ie.__k&&q(ie,0),it),xe!=null)for(lt=xe.length;lt--;)xe[lt]!=null&&k(xe[lt]);it||("value"in ne&&(lt=ne.value)!==void 0&&(lt!==He.value||lt!==ee.value||ze==="progress"&&!lt)&&le(ee,"value",lt,He.value,!1),"checked"in ne&&(lt=ne.checked)!==void 0&&lt!==ee.checked&&le(ee,"checked",lt,He.checked,!1))}return ee}function be(ee,J,ie){try{typeof ee=="function"?ee(J):ee.current=J}catch(we){f.__e(we,ie)}}function je(ee,J,ie){var we,Te;if(f.unmount&&f.unmount(ee),(we=ee.ref)&&(we.current&&we.current!==ee.__e||be(we,null,J)),(we=ee.__c)!=null){if(we.componentWillUnmount)try{we.componentWillUnmount()}catch(xe){f.__e(xe,J)}we.base=we.__P=null}if(we=ee.__k)for(Te=0;Te<we.length;Te++)we[Te]&&je(we[Te],J,typeof ee.type!="function");ie||ee.__e==null||k(ee.__e),ee.__e=ee.__d=void 0}function Be(ee,J,ie){return this.constructor(ee,ie)}function qe(ee,J,ie){var we,Te,xe;f.__&&f.__(ee,J),Te=(we=typeof ie=="function")?null:ie&&ie.__k||J.__k,xe=[],ge(J,ee=(!we&&ie||J).__k=R(Q,null,[ee]),Te||j,j,J.ownerSVGElement!==void 0,!we&&ie?[ie]:Te?null:J.firstChild?l.call(J.childNodes):null,xe,!we&&ie?ie:Te?Te.__e:J.firstChild,we),ue(xe,ee)}function Me(ee,J){qe(ee,J,Me)}function De(ee,J,ie){var we,Te,xe,Je=M({},ee.props);for(xe in J)xe=="key"?we=J[xe]:xe=="ref"?Te=J[xe]:Je[xe]=J[xe];return arguments.length>2&&(Je.children=arguments.length>3?l.call(arguments,2):ie),L(ee.type,Je,we||ee.key,Te||ee.ref,null)}function Ze(ee,J){var ie={__c:J="__cC"+w++,__:ee,Consumer:function(we,Te){return we.children(Te)},Provider:function(we){var Te,xe;return this.getChildContext||(Te=[],(xe={})[J]=this,this.getChildContext=function(){return xe},this.shouldComponentUpdate=function(Je){this.props.value!==Je.value&&Te.some(F)},this.sub=function(Je){Te.push(Je);var it=Je.componentWillUnmount;Je.componentWillUnmount=function(){Te.splice(Te.indexOf(Je),1),it&&it.call(Je)}}),we.children}};return ie.Provider.__=ie.Consumer.contextType=ie}l=P.slice,f={__e:function(ee,J){for(var ie,we,Te;J=J.__;)if((ie=J.__c)&&!ie.__)try{if((we=ie.constructor)&&we.getDerivedStateFromError!=null&&(ie.setState(we.getDerivedStateFromError(ee)),Te=ie.__d),ie.componentDidCatch!=null&&(ie.componentDidCatch(ee),Te=ie.__d),Te)return ie.__E=ie}catch(xe){ee=xe}throw ee}},y=0,V.prototype.setState=function(ee,J){var ie;ie=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=M({},this.state),typeof ee=="function"&&(ee=ee(M({},ie),this.props)),ee&&M(ie,ee),ee!=null&&this.__v&&(J&&this.__h.push(J),F(this))},V.prototype.forceUpdate=function(ee){this.__v&&(this.__e=!0,ee&&this.__h.push(ee),F(this))},V.prototype.render=Q,g=[],O=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I.__r=0,w=0},function(a,c,o){(function(l,f){o.d(c,"a",function(){return F}),o.d(c,"b",function(){return gi}),o.d(c,"c",function(){return qn}),o.d(c,"d",function(){return rt}),o.d(c,"e",function(){return ke}),o.d(c,"f",function(){return Ae}),o.d(c,"g",function(){return Ve}),o.d(c,"h",function(){return Wr}),o.d(c,"i",function(){return Ct}),o.d(c,"j",function(){return Fe}),o.d(c,"k",function(){return ar}),o.d(c,"l",function(){return hi}),o.d(c,"m",function(){return Ot}),o.d(c,"n",function(){return Hr}),o.d(c,"o",function(){return G}),o.d(c,"p",function(){return xa}),o.d(c,"q",function(){return ur}),o.d(c,"r",function(){return _a}),o.d(c,"s",function(){return Cn}),o.d(c,"t",function(){return ao}),o.d(c,"u",function(){return xo}),o.d(c,"v",function(){return Os}),o.d(c,"w",function(){return wa}),o.d(c,"x",function(){return so}),o.d(c,"y",function(){return Wn}),o.d(c,"z",function(){return Yt}),o.d(c,"A",function(){return jn}),o.d(c,"B",function(){return sr}),o.d(c,"C",function(){return Ye}),o.d(c,"D",function(){return Sa}),o.d(c,"E",function(){return Gr}),o.d(c,"F",function(){return Fr}),o.d(c,"G",function(){return ms}),o.d(c,"H",function(){return pa}),o.d(c,"I",function(){return xs}),o.d(c,"J",function(){return Nn}),o.d(c,"K",function(){return oe}),o.d(c,"L",function(){return un}),o.d(c,"M",function(){return ja});var y=[];Object.freeze(y);var g={};function O(){return++Xe.mobxGuid}function x(m){throw w(!1,m),"X"}function w(m,b){if(!m)throw new Error("[mobx] "+(b||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function j(m){var b=!1;return function(){if(!b)return b=!0,m.apply(this,arguments)}}var P=function(){};function T(m){return m!==null&&typeof m=="object"}function M(m){if(m===null||typeof m!="object")return!1;var b=Object.getPrototypeOf(m);return b===Object.prototype||b===null}function k(m,b,S){Object.defineProperty(m,b,{enumerable:!1,writable:!0,configurable:!0,value:S})}function R(m,b){var S="isMobX"+m;return b.prototype[S]=!0,function(D){return T(D)&&D[S]===!0}}function L(m){return m instanceof Map}function Y(m){return m instanceof Set}function Q(m){var b=new Set;for(var S in m)b.add(S);return Object.getOwnPropertySymbols(m).forEach(function(D){Object.getOwnPropertyDescriptor(m,D).enumerable&&b.add(D)}),Array.from(b)}function V(m){return m&&m.toString?m.toString():new String(m).toString()}function q(m){return m===null?null:typeof m=="object"?""+m:m}var Z=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:Object.getOwnPropertyNames,F=Symbol("mobx administration"),I=function(){function m(b){b===void 0&&(b="Atom@"+O()),this.name=b,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=He.NOT_TRACKING}return m.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},m.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},m.prototype.reportObserved=function(){return la(this)},m.prototype.reportChanged=function(){An(),function(b){b.lowestObserverState!==He.STALE&&(b.lowestObserverState=He.STALE,b.observers.forEach(function(S){S.dependenciesState===He.UP_TO_DATE&&(S.isTracing!==ne.NONE&&ir(S,b),S.onBecomeStale()),S.dependenciesState=He.STALE}))}(this),kn()},m.prototype.toString=function(){return this.name},m}(),z=R("Atom",I);function G(m,b,S){b===void 0&&(b=P),S===void 0&&(S=P);var D,H=new I(m);return b!==P&&ya("onBecomeObserved",H,b,D),S!==P&&Gr(H,S),H}var X={identity:function(m,b){return m===b},structural:function(m,b){return bi(m,b)},default:function(m,b){return Object.is(m,b)},shallow:function(m,b){return bi(m,b,1)}},re=function(m,b){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,D){S.__proto__=D}||function(S,D){for(var H in D)D.hasOwnProperty(H)&&(S[H]=D[H])},re(m,b)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var de=function(){return de=Object.assign||function(m){for(var b,S=1,D=arguments.length;S<D;S++)for(var H in b=arguments[S])Object.prototype.hasOwnProperty.call(b,H)&&(m[H]=b[H]);return m},de.apply(this,arguments)};function le(m){var b=typeof Symbol=="function"&&m[Symbol.iterator],S=0;return b?b.call(m):{next:function(){return m&&S>=m.length&&(m=void 0),{value:m&&m[S++],done:!m}}}}function ve(m,b){var S=typeof Symbol=="function"&&m[Symbol.iterator];if(!S)return m;var D,H,te=S.call(m),he=[];try{for(;(b===void 0||b-- >0)&&!(D=te.next()).done;)he.push(D.value)}catch(Pe){H={error:Pe}}finally{try{D&&!D.done&&(S=te.return)&&S.call(te)}finally{if(H)throw H.error}}return he}function Se(){for(var m=[],b=0;b<arguments.length;b++)m=m.concat(ve(arguments[b]));return m}var ge=Symbol("mobx did run lazy initializers"),ue=Symbol("mobx pending decorators"),ye={},be={};function je(m,b){var S=b?ye:be;return S[m]||(S[m]={configurable:!0,enumerable:b,get:function(){return Be(this),this[m]},set:function(D){Be(this),this[m]=D}})}function Be(m){var b,S;if(m[ge]!==!0){var D=m[ue];if(D){k(m,ge,!0);var H=Se(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var te=le(H),he=te.next();!he.done;he=te.next()){var Pe=D[he.value];Pe.propertyCreator(m,Pe.prop,Pe.descriptor,Pe.decoratorTarget,Pe.decoratorArguments)}}catch(Ge){b={error:Ge}}finally{try{he&&!he.done&&(S=te.return)&&S.call(te)}finally{if(b)throw b.error}}}}}function qe(m,b){return function(){var S,D=function(H,te,he,Pe){if(Pe===!0)return b(H,te,he,H,S),null;if(!Object.prototype.hasOwnProperty.call(H,ue)){var Ge=H[ue];k(H,ue,de({},Ge))}return H[ue][te]={prop:te,propertyCreator:b,descriptor:he,decoratorTarget:H,decoratorArguments:S},je(te,m)};return Me(arguments)?(S=y,D.apply(null,arguments)):(S=Array.prototype.slice.call(arguments),D)}}function Me(m){return(m.length===2||m.length===3)&&(typeof m[1]=="string"||typeof m[1]=="symbol")||m.length===4&&m[3]===!0}function De(m,b,S){return so(m)?m:Array.isArray(m)?Ye.array(m,{name:S}):M(m)?Ye.object(m,void 0,{name:S}):L(m)?Ye.map(m,{name:S}):Y(m)?Ye.set(m,{name:S}):m}function Ze(m){return m}function ee(m){w(m);var b=qe(!0,function(D,H,te,he,Pe){var Ge=te?te.initializer?te.initializer.call(D):te.value:void 0;lo(D).addObservableProp(H,Ge,m)}),S=(l!==void 0&&l.env,b);return S.enhancer=m,S}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ie(m){return m==null?J:typeof m=="string"?{name:m,deep:!0,proxy:!0}:m}Object.freeze(J);var we=ee(De),Te=ee(function(m,b,S){return m==null||jn(m)||Wn(m)||Yt(m)||Sn(m)?m:Array.isArray(m)?Ye.array(m,{name:S,deep:!1}):M(m)?Ye.object(m,void 0,{name:S,deep:!1}):L(m)?Ye.map(m,{name:S,deep:!1}):Y(m)?Ye.set(m,{name:S,deep:!1}):x(!1)}),xe=ee(Ze),Je=ee(function(m,b,S){return bi(m,b)?b:m});function it(m){return m.defaultDecorator?m.defaultDecorator.enhancer:m.deep===!1?Ze:De}var tt={box:function(m,b){arguments.length>2&&me("box");var S=ie(b);return new zt(m,it(S),S.name,!0,S.equals)},array:function(m,b){arguments.length>2&&me("array");var S=ie(b);return vi(m,it(S),S.name)},map:function(m,b){arguments.length>2&&me("map");var S=ie(b);return new gi(m,it(S),S.name)},set:function(m,b){arguments.length>2&&me("set");var S=ie(b);return new jo(m,it(S),S.name)},object:function(m,b,S){typeof arguments[1]=="string"&&me("object");var D=ie(S);if(D.proxy===!1)return ur({},m,b,D);var H=va(D),te=ur({},void 0,void 0,D),he=Ss(te);return ga(he,m,b,H),he},ref:xe,shallow:Te,deep:we,struct:Je},Ye=function(m,b,S){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return we.apply(null,arguments);if(so(m))return m;var D=M(m)?Ye.object(m,b,S):Array.isArray(m)?Ye.array(m,b):L(m)?Ye.map(m,b):Y(m)?Ye.set(m,b):m;if(D!==m)return D;x(!1)};function me(m){x("Expected one or two arguments to observable."+m+". Did you accidentally try to use observable."+m+" as decorator?")}Object.keys(tt).forEach(function(m){return Ye[m]=tt[m]});var He,ne,ze=qe(!1,function(m,b,S,D,H){var te=S.get,he=S.set,Pe=H[0]||{};lo(m).addComputedProp(m,b,de({get:te,set:he,context:m},Pe))}),lt=ze({equals:X.structural}),Ot=function(m,b,S){if(typeof b=="string"||m!==null&&typeof m=="object"&&arguments.length===1)return ze.apply(null,arguments);var D=typeof b=="object"?b:{};return D.get=m,D.set=typeof b=="function"?b:D.set,D.name=D.name||m.name||"",new rr(D)};Ot.struct=lt,function(m){m[m.NOT_TRACKING=-1]="NOT_TRACKING",m[m.UP_TO_DATE=0]="UP_TO_DATE",m[m.POSSIBLY_STALE=1]="POSSIBLY_STALE",m[m.STALE=2]="STALE"}(He||(He={})),function(m){m[m.NONE=0]="NONE",m[m.LOG=1]="LOG",m[m.BREAK=2]="BREAK"}(ne||(ne={}));var st=function(m){this.cause=m};function mt(m){return m instanceof st}function kt(m){switch(m.dependenciesState){case He.UP_TO_DATE:return!1;case He.NOT_TRACKING:case He.STALE:return!0;case He.POSSIBLY_STALE:for(var b=Ae(!0),S=$(),D=m.observing,H=D.length,te=0;te<H;te++){var he=D[te];if(or(he)){if(Xe.disableErrorBoundaries)he.get();else try{he.get()}catch{return ce(S),ke(b),!0}if(m.dependenciesState===He.STALE)return ce(S),ke(b),!0}}return We(m),ce(S),ke(b),!1}}function Ct(){return Xe.trackingDerivation!==null}function ct(m){var b=m.observers.size>0;Xe.computationDepth>0&&b&&x(!1),Xe.allowStateChanges||!b&&Xe.enforceActions!=="strict"||x(!1)}function Ht(m,b,S){var D=Ae(!0);We(m),m.newObserving=new Array(m.observing.length+100),m.unboundDepsCount=0,m.runId=++Xe.runId;var H,te=Xe.trackingDerivation;if(Xe.trackingDerivation=m,Xe.disableErrorBoundaries===!0)H=b.call(S);else try{H=b.call(S)}catch(he){H=new st(he)}return Xe.trackingDerivation=te,function(he){for(var Pe=he.observing,Ge=he.observing=he.newObserving,vt=He.UP_TO_DATE,ut=0,Mt=he.unboundDepsCount,dt=0;dt<Mt;dt++)(Et=Ge[dt]).diffValue===0&&(Et.diffValue=1,ut!==dt&&(Ge[ut]=Et),ut++),Et.dependenciesState>vt&&(vt=Et.dependenciesState);for(Ge.length=ut,he.newObserving=null,Mt=Pe.length;Mt--;)(Et=Pe[Mt]).diffValue===0&&sa(Et,he),Et.diffValue=0;for(;ut--;){var Et;(Et=Ge[ut]).diffValue===1&&(Et.diffValue=0,hs(Et,he))}vt!==He.UP_TO_DATE&&(he.dependenciesState=vt,he.onBecomeStale())}(m),ke(D),H}function W(m){var b=m.observing;m.observing=[];for(var S=b.length;S--;)sa(b[S],m);m.dependenciesState=He.NOT_TRACKING}function oe(m){var b=$();try{return m()}finally{ce(b)}}function $(){var m=Xe.trackingDerivation;return Xe.trackingDerivation=null,m}function ce(m){Xe.trackingDerivation=m}function Ae(m){var b=Xe.allowStateReads;return Xe.allowStateReads=m,b}function ke(m){Xe.allowStateReads=m}function We(m){if(m.dependenciesState!==He.UP_TO_DATE){m.dependenciesState=He.UP_TO_DATE;for(var b=m.observing,S=b.length;S--;)b[S].lowestObserverState=He.UP_TO_DATE}}var ht=0,qt=1,rn=Object.getOwnPropertyDescriptor(function(){},"name");rn&&rn.configurable;function Xt(m,b,S){var D=function(){return Ut(m,b,S||this,arguments)};return D.isMobxAction=!0,D}function Ut(m,b,S,D){var H=Fe();try{return b.apply(S,D)}catch(te){throw H.error=te,te}finally{Ve(H)}}function Fe(m,b,S){var D=0,H=$();An();var te={prevDerivation:H,prevAllowStateChanges:at(!0),prevAllowStateReads:Ae(!0),notifySpy:!1,startTime:D,actionId:qt++,parentActionId:ht};return ht=te.actionId,te}function Ve(m){ht!==m.actionId&&x("invalid action stack. did you forget to finish an action?"),ht=m.parentActionId,m.error!==void 0&&(Xe.suppressReactionErrors=!0),Pt(m.prevAllowStateChanges),ke(m.prevAllowStateReads),kn(),ce(m.prevDerivation),m.notifySpy,Xe.suppressReactionErrors=!1}function rt(m,b){var S,D=at(m);try{S=b()}finally{Pt(D)}return S}function at(m){var b=Xe.allowStateChanges;return Xe.allowStateChanges=m,b}function Pt(m){Xe.allowStateChanges=m}var zt=function(m){function b(S,D,H,te,he){H===void 0&&(H="ObservableValue@"+O()),he===void 0&&(he=X.default);var Pe=m.call(this,H)||this;return Pe.enhancer=D,Pe.name=H,Pe.equals=he,Pe.hasUnreportedChange=!1,Pe.value=D(S,void 0,H),Pe}return function(S,D){function H(){this.constructor=S}re(S,D),S.prototype=D===null?Object.create(D):(H.prototype=D.prototype,new H)}(b,m),b.prototype.dehanceValue=function(S){return this.dehancer!==void 0?this.dehancer(S):S},b.prototype.set=function(S){this.value,(S=this.prepareNewValue(S))!==Xe.UNCHANGED&&this.setNewValue(S)},b.prototype.prepareNewValue=function(S){if(ct(this),dn(this)){var D=bt(this,{object:this,type:"update",newValue:S});if(!D)return Xe.UNCHANGED;S=D.newValue}return S=this.enhancer(S,this.value,this.name),this.equals(this.value,S)?Xe.UNCHANGED:S},b.prototype.setNewValue=function(S){var D=this.value;this.value=S,this.reportChanged(),Dn(this)&&on(this,{type:"update",object:this,newValue:S,oldValue:D})},b.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},b.prototype.intercept=function(S){return Er(this,S)},b.prototype.observe=function(S,D){return D&&S({object:this,type:"update",newValue:this.value,oldValue:void 0}),Sr(this,S)},b.prototype.toJSON=function(){return this.get()},b.prototype.toString=function(){return this.name+"["+this.value+"]"},b.prototype.valueOf=function(){return q(this.get())},b.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},b}(I),Or=R("ObservableValue",zt),rr=function(){function m(b){this.dependenciesState=He.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=He.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+O(),this.value=new st(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ne.NONE,w(b.get,"missing option for computed: get"),this.derivation=b.get,this.name=b.name||"ComputedValue@"+O(),b.set&&(this.setter=Xt(this.name+"-setter",b.set)),this.equals=b.equals||(b.compareStructural||b.struct?X.structural:X.default),this.scope=b.context,this.requiresReaction=!!b.requiresReaction,this.keepAlive=!!b.keepAlive}return m.prototype.onBecomeStale=function(){(function(b){b.lowestObserverState===He.UP_TO_DATE&&(b.lowestObserverState=He.POSSIBLY_STALE,b.observers.forEach(function(S){S.dependenciesState===He.UP_TO_DATE&&(S.dependenciesState=He.POSSIBLY_STALE,S.isTracing!==ne.NONE&&ir(S,b),S.onBecomeStale())}))})(this)},m.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},m.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},m.prototype.get=function(){this.isComputing&&x("Cycle detected in computation "+this.name+": "+this.derivation),Xe.inBatch!==0||this.observers.size!==0||this.keepAlive?(la(this),kt(this)&&this.trackAndCompute()&&function(S){S.lowestObserverState!==He.STALE&&(S.lowestObserverState=He.STALE,S.observers.forEach(function(D){D.dependenciesState===He.POSSIBLY_STALE?D.dependenciesState=He.STALE:D.dependenciesState===He.UP_TO_DATE&&(S.lowestObserverState=He.UP_TO_DATE)}))}(this)):kt(this)&&(this.warnAboutUntrackedRead(),An(),this.value=this.computeValue(!1),kn());var b=this.value;if(mt(b))throw b.cause;return b},m.prototype.peek=function(){var b=this.computeValue(!1);if(mt(b))throw b.cause;return b},m.prototype.set=function(b){if(this.setter){w(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,b)}finally{this.isRunningSetter=!1}}else w(!1,!1)},m.prototype.trackAndCompute=function(){var b=this.value,S=this.dependenciesState===He.NOT_TRACKING,D=this.computeValue(!0),H=S||mt(b)||mt(D)||!this.equals(b,D);return H&&(this.value=D),H},m.prototype.computeValue=function(b){var S;if(this.isComputing=!0,Xe.computationDepth++,b)S=Ht(this,this.derivation,this.scope);else if(Xe.disableErrorBoundaries===!0)S=this.derivation.call(this.scope);else try{S=this.derivation.call(this.scope)}catch(D){S=new st(D)}return Xe.computationDepth--,this.isComputing=!1,S},m.prototype.suspend=function(){this.keepAlive||(W(this),this.value=void 0)},m.prototype.observe=function(b,S){var D=this,H=!0,te=void 0;return hi(function(){var he=D.get();if(!H||S){var Pe=$();b({type:"update",object:D,newValue:he,oldValue:te}),ce(Pe)}H=!1,te=he})},m.prototype.warnAboutUntrackedRead=function(){},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},m.prototype.valueOf=function(){return q(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(),or=R("ComputedValue",rr),io=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ds={};function fi(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:ds}var Fn=!0,ua=!1,Xe=function(){var m=fi();return m.__mobxInstanceCount>0&&!m.__mobxGlobals&&(Fn=!1),m.__mobxGlobals&&m.__mobxGlobals.version!==new io().version&&(Fn=!1),Fn?m.__mobxGlobals?(m.__mobxInstanceCount+=1,m.__mobxGlobals.UNCHANGED||(m.__mobxGlobals.UNCHANGED={}),m.__mobxGlobals):(m.__mobxInstanceCount=1,m.__mobxGlobals=new io):(setTimeout(function(){ua||x("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new io)}();function hs(m,b){m.observers.add(b),m.lowestObserverState>b.dependenciesState&&(m.lowestObserverState=b.dependenciesState)}function sa(m,b){m.observers.delete(b),m.observers.size===0&&ca(m)}function ca(m){m.isPendingUnobservation===!1&&(m.isPendingUnobservation=!0,Xe.pendingUnobservations.push(m))}function An(){Xe.inBatch++}function kn(){if(--Xe.inBatch==0){fa();for(var m=Xe.pendingUnobservations,b=0;b<m.length;b++){var S=m[b];S.isPendingUnobservation=!1,S.observers.size===0&&(S.isBeingObserved&&(S.isBeingObserved=!1,S.onBecomeUnobserved()),S instanceof rr&&S.suspend())}Xe.pendingUnobservations=[]}}function la(m){var b=Xe.trackingDerivation;return b!==null?(b.runId!==m.lastAccessedBy&&(m.lastAccessedBy=b.runId,b.newObserving[b.unboundDepsCount++]=m,m.isBeingObserved||(m.isBeingObserved=!0,m.onBecomeObserved())),!0):(m.observers.size===0&&Xe.inBatch>0&&ca(m),!1)}function ir(m,b){if(m.isTracing===ne.BREAK){var S=[];zr(ao(m),S,1),new Function(`debugger;
/*
Tracing '`+m.name+`'

You are entering this break point because derivation '`+m.name+"' is being traced and '"+b.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(m instanceof rr?m.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+S.join(`
`)+`
*/
    `)()}}function zr(m,b,S){b.length>=1e3?b.push("(and many more)"):(b.push(""+new Array(S).join("	")+m.name),m.dependencies&&m.dependencies.forEach(function(D){return zr(D,b,S+1)}))}var qn=function(){function m(b,S,D,H){b===void 0&&(b="Reaction@"+O()),H===void 0&&(H=!1),this.name=b,this.onInvalidate=S,this.errorHandler=D,this.requiresObservable=H,this.observing=[],this.newObserving=[],this.dependenciesState=He.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+O(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ne.NONE}return m.prototype.onBecomeStale=function(){this.schedule()},m.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Xe.pendingReactions.push(this),fa())},m.prototype.isScheduled=function(){return this._isScheduled},m.prototype.runReaction=function(){if(!this.isDisposed){if(An(),this._isScheduled=!1,kt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(b){this.reportExceptionInDerivation(b)}}kn()}},m.prototype.track=function(b){if(!this.isDisposed){An(),this._isRunning=!0;var S=Ht(this,b,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&W(this),mt(S)&&this.reportExceptionInDerivation(S.cause),kn()}},m.prototype.reportExceptionInDerivation=function(b){var S=this;if(this.errorHandler)this.errorHandler(b,this);else{if(Xe.disableErrorBoundaries)throw b;Xe.suppressReactionErrors,Xe.globalReactionErrorHandlers.forEach(function(D){return D(b,S)})}},m.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(An(),W(this),kn()))},m.prototype.getDisposer=function(){var b=this.dispose.bind(this);return b[F]=this,b},m.prototype.toString=function(){return"Reaction["+this.name+"]"},m.prototype.trace=function(b){b===void 0&&(b=!1),function(){for(var S=[],D=0;D<arguments.length;D++)S[D]=arguments[D];var H=!1;typeof S[S.length-1]=="boolean"&&(H=S.pop());var te=Hn(S);if(!te)return x(!1);te.isTracing,ne.NONE,te.isTracing=H?ne.BREAK:ne.LOG}(this,b)},m}(),pi=function(m){return m()};function fa(){Xe.inBatch>0||Xe.isRunningReactions||pi(ys)}function ys(){Xe.isRunningReactions=!0;for(var m=Xe.pendingReactions,b=0;m.length>0;){++b==100&&m.splice(0);for(var S=m.splice(0),D=0,H=S.length;D<H;D++)S[D].runReaction()}Xe.isRunningReactions=!1}var wo=R("Reaction",qn);function vs(m){var b=pi;pi=function(S){return m(function(){return b(S)})}}function pa(m){return function(){}}function gs(){x(!1)}function wr(m){return function(b,S,D){if(D){if(D.value)return{value:Xt(m,D.value),enumerable:!1,configurable:!0,writable:!0};var H=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xt(m,H.call(this))}}}return da(m).apply(this,arguments)}}function da(m){return function(b,S,D){Object.defineProperty(b,S,{configurable:!0,enumerable:!1,get:function(){},set:function(H){k(this,S,ar(m,H))}})}}var ar=function(m,b,S,D){return arguments.length===1&&typeof m=="function"?Xt(m.name||"<unnamed action>",m):arguments.length===2&&typeof b=="function"?Xt(m,b):arguments.length===1&&typeof m=="string"?wr(m):D!==!0?wr(b).apply(null,arguments):void k(m,b,Xt(m.name||b,S.value,this))};function ms(m,b){return Ut(typeof m=="string"?m:m.name||"<unnamed action>",typeof m=="function"?m:b,this,void 0)}function xo(m){return typeof m=="function"&&m.isMobxAction===!0}function di(m,b,S){k(m,b,Xt(b,S.bind(m)))}function hi(m,b){b===void 0&&(b=g);var S,D=b&&b.name||m.name||"Autorun@"+O();if(!b.scheduler&&!b.delay)S=new qn(D,function(){this.track(he)},b.onError,b.requiresObservable);else{var H=ha(b),te=!1;S=new qn(D,function(){te||(te=!0,H(function(){te=!1,S.isDisposed||S.track(he)}))},b.onError,b.requiresObservable)}function he(){m(S)}return S.schedule(),S.getDisposer()}ar.bound=function(m,b,S,D){return D===!0?(di(m,b,S.value),null):S?{configurable:!0,enumerable:!1,get:function(){return di(this,b,S.value||S.initializer.call(this)),this[b]},set:gs}:{enumerable:!1,configurable:!0,set:function(H){di(this,b,H)},get:function(){}}};var bs=function(m){return m()};function ha(m){return m.scheduler?m.scheduler:m.delay?function(b){return setTimeout(b,m.delay)}:bs}function Fr(m,b,S){S===void 0&&(S=g);var D,H,te,he=S.name||"Reaction@"+O(),Pe=ar(he,S.onError?(D=S.onError,H=b,function(){try{return H.apply(this,arguments)}catch(Lt){D.call(this,Lt)}}):b),Ge=!S.scheduler&&!S.delay,vt=ha(S),ut=!0,Mt=!1,dt=S.compareStructural?X.structural:S.equals||X.default,Et=new qn(he,function(){ut||Ge?In():Mt||(Mt=!0,vt(In))},S.onError,S.requiresObservable);function In(){if(Mt=!1,!Et.isDisposed){var Lt=!1;Et.track(function(){var hn=m(Et);Lt=ut||!dt(te,hn),te=hn}),ut&&S.fireImmediately&&Pe(te,Et),ut||Lt!==!0||Pe(te,Et),ut&&(ut=!1)}}return Et.schedule(),Et.getDisposer()}function Gr(m,b,S){return ya("onBecomeUnobserved",m,b,S)}function ya(m,b,S,D){var H=typeof D=="function"?Cn(b,S):Cn(b),te=typeof D=="function"?D:S,he=m+"Listeners";return H[he]?H[he].add(te):H[he]=new Set([te]),typeof H[m]!="function"?x(!1):function(){var Pe=H[he];Pe&&(Pe.delete(te),Pe.size===0&&delete H[he])}}function Hr(m){var b=m.enforceActions,S=m.computedRequiresReaction,D=m.computedConfigurable,H=m.disableErrorBoundaries,te=m.reactionScheduler,he=m.reactionRequiresObservable,Pe=m.observableRequiresReaction;if(m.isolateGlobalState===!0&&((Xe.pendingReactions.length||Xe.inBatch||Xe.isRunningReactions)&&x("isolateGlobalState should be called before MobX is running any reactions"),ua=!0,Fn&&(--fi().__mobxInstanceCount==0&&(fi().__mobxGlobals=void 0),Xe=new io)),b!==void 0){var Ge=void 0;switch(b){case!0:case"observed":Ge=!0;break;case!1:case"never":Ge=!1;break;case"strict":case"always":Ge="strict";break;default:x("Invalid value for 'enforceActions': '"+b+"', expected 'never', 'always' or 'observed'")}Xe.enforceActions=Ge,Xe.allowStateChanges=Ge!==!0&&Ge!=="strict"}S!==void 0&&(Xe.computedRequiresReaction=!!S),he!==void 0&&(Xe.reactionRequiresObservable=!!he),Pe!==void 0&&(Xe.observableRequiresReaction=!!Pe,Xe.allowStateReads=!Xe.observableRequiresReaction),D!==void 0&&(Xe.computedConfigurable=!!D),H!==void 0&&(Xe.disableErrorBoundaries=!!H),te&&vs(te)}function ur(m,b,S,D){var H=va(D=ie(D));return Be(m),lo(m,D.name,H.enhancer),b&&ga(m,b,S,H),m}function va(m){return m.defaultDecorator||(m.deep===!1?xe:we)}function ga(m,b,S,D){var H,te;An();try{var he=Z(b);try{for(var Pe=le(he),Ge=Pe.next();!Ge.done;Ge=Pe.next()){var vt=Ge.value,ut=Object.getOwnPropertyDescriptor(b,vt),Mt=(S&&vt in S?S[vt]:ut.get?ze:D)(m,vt,ut,!0);Mt&&Object.defineProperty(m,vt,Mt)}}catch(dt){H={error:dt}}finally{try{Ge&&!Ge.done&&(te=Pe.return)&&te.call(Pe)}finally{if(H)throw H.error}}}finally{kn()}}function ao(m,b){return ma(Cn(m,b))}function ma(m){var b,S,D={name:m.name};return m.observing&&m.observing.length>0&&(D.dependencies=(b=m.observing,S=[],b.forEach(function(H){S.indexOf(H)===-1&&S.push(H)}),S).map(ma)),D}var _s=0;function ba(){this.message="FLOW_CANCELLED"}function _a(m){arguments.length!==1&&x("Flow expects 1 argument and cannot be used as decorator");var b=m.name||"<unnamed flow>";return function(){var S,D=this,H=arguments,te=++_s,he=ar(b+" - runid: "+te+" - init",m).apply(D,H),Pe=void 0,Ge=new Promise(function(vt,ut){var Mt=0;function dt(Lt){var hn;Pe=void 0;try{hn=ar(b+" - runid: "+te+" - yield "+Mt++,he.next).call(he,Lt)}catch(fo){return ut(fo)}In(hn)}function Et(Lt){var hn;Pe=void 0;try{hn=ar(b+" - runid: "+te+" - yield "+Mt++,he.throw).call(he,Lt)}catch(fo){return ut(fo)}In(hn)}function In(Lt){if(!Lt||typeof Lt.then!="function")return Lt.done?vt(Lt.value):(Pe=Promise.resolve(Lt.value)).then(dt,Et);Lt.then(In,ut)}S=ut,dt(void 0)});return Ge.cancel=ar(b+" - runid: "+te+" - cancel",function(){try{Pe&&uo(Pe);var vt=he.return(void 0),ut=Promise.resolve(vt.value);ut.then(P,P),uo(ut),S(new ba)}catch(Mt){S(Mt)}}),Ge}}function uo(m){typeof m.cancel=="function"&&m.cancel()}function Oa(m,b){if(m==null)return!1;if(b!==void 0){if(jn(m)===!1||!m[F].values.has(b))return!1;var S=Cn(m,b);return or(S)}return or(m)}function Os(m){return arguments.length>1?x(!1):Oa(m)}function wa(m,b){return typeof b!="string"?x(!1):Oa(m,b)}function yi(m,b){return m!=null&&(b!==void 0?!!jn(m)&&m[F].values.has(b):jn(m)||!!m[F]||z(m)||wo(m)||or(m))}function so(m){return arguments.length!==1&&x(!1),yi(m)}function sr(m){return jn(m)?m[F].getKeys():Yt(m)||Sn(m)?Array.from(m.keys()):Wn(m)?m.map(function(b,S){return S}):x(!1)}function un(m){return jn(m)?sr(m).map(function(b){return m[b]}):Yt(m)?sr(m).map(function(b){return m.get(b)}):Sn(m)?Array.from(m.values()):Wn(m)?m.slice():x(!1)}function xa(m){return jn(m)?sr(m).map(function(b){return[b,m[b]]}):Yt(m)?sr(m).map(function(b){return[b,m.get(b)]}):Sn(m)?Array.from(m.entries()):Wn(m)?m.map(function(b,S){return[S,b]}):x(!1)}function Ea(m,b,S){if(arguments.length!==2||Sn(m))if(jn(m)){var D=m[F],H=D.values.get(b);H?D.write(b,S):D.addObservableProp(b,S,D.defaultEnhancer)}else if(Yt(m))m.set(b,S);else if(Sn(m))m.add(b);else{if(!Wn(m))return x(!1);typeof b!="number"&&(b=parseInt(b,10)),w(b>=0,"Not a valid index: '"+b+"'"),An(),b>=m.length&&(m.length=b+1),m[b]=S,kn()}else{An();var te=b;try{for(var he in te)Ea(m,he,te[he])}finally{kn()}}}function Sa(m,b,S,D){return typeof S=="function"?function(H,te,he,Pe){return Wr(H,te).observe(he,Pe)}(m,b,S,D):function(H,te,he){return Wr(H).observe(te,he)}(m,b,S)}ba.prototype=Object.create(Error.prototype);var ws={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function xr(m,b,S,D){return D.detectCycles&&m.set(b,S),S}function Gn(m,b,S){if(!b.recurseEverything&&!so(m)||typeof m!="object")return m;if(m===null)return null;if(m instanceof Date)return m;if(Or(m))return Gn(m.get(),b,S);if(so(m)&&sr(m),b.detectCycles===!0&&m!==null&&S.has(m))return S.get(m);if(Wn(m)||Array.isArray(m)){var D=xr(S,m,[],b),H=m.map(function(dt){return Gn(dt,b,S)});D.length=H.length;for(var te=0,he=H.length;te<he;te++)D[te]=H[te];return D}if(Sn(m)||Object.getPrototypeOf(m)===Set.prototype){if(b.exportMapsAsObjects===!1){var Pe=xr(S,m,new Set,b);return m.forEach(function(dt){Pe.add(Gn(dt,b,S))}),Pe}var Ge=xr(S,m,[],b);return m.forEach(function(dt){Ge.push(Gn(dt,b,S))}),Ge}if(Yt(m)||Object.getPrototypeOf(m)===Map.prototype){if(b.exportMapsAsObjects===!1){var vt=xr(S,m,new Map,b);return m.forEach(function(dt,Et){vt.set(Et,Gn(dt,b,S))}),vt}var ut=xr(S,m,{},b);return m.forEach(function(dt,Et){ut[Et]=Gn(dt,b,S)}),ut}var Mt=xr(S,m,{},b);return Q(m).forEach(function(dt){Mt[dt]=Gn(m[dt],b,S)}),Mt}function xs(m,b){var S;return typeof b=="boolean"&&(b={detectCycles:b}),b||(b=ws),b.detectCycles=b.detectCycles===void 0?b.recurseEverything===!0:b.detectCycles===!0,b.detectCycles&&(S=new Map),Gn(m,b,S)}function Hn(m){switch(m.length){case 0:return Xe.trackingDerivation;case 1:return Cn(m[0]);case 2:return Cn(m[0],m[1])}}function Nn(m,b){b===void 0&&(b=void 0),An();try{return m.apply(b)}finally{kn()}}function ja(m,b,S){return arguments.length===1||b&&typeof b=="object"?Es(m,b):Pa(m,b,S||{})}function Pa(m,b,S){var D;typeof S.timeout=="number"&&(D=setTimeout(function(){if(!te[F].isDisposed){te();var he=new Error("WHEN_TIMEOUT");if(!S.onError)throw he;S.onError(he)}},S.timeout)),S.name=S.name||"When@"+O();var H=Xt(S.name+"-effect",b),te=hi(function(he){m()&&(he.dispose(),D&&clearTimeout(D),H())},S);return te}function Es(m,b){var S,D=new Promise(function(H,te){var he=Pa(m,H,de(de({},b),{onError:te}));S=function(){he(),te("WHEN_CANCELLED")}});return D.cancel=S,D}function Eo(m){return m[F]}function cr(m){return typeof m=="string"||typeof m=="number"||typeof m=="symbol"}var co={has:function(m,b){if(b===F||b==="constructor"||b===ge)return!0;var S=Eo(m);return cr(b)?S.has(b):b in m},get:function(m,b){if(b===F||b==="constructor"||b===ge)return m[b];var S=Eo(m),D=S.values.get(b);if(D instanceof I){var H=D.get();return H===void 0&&S.has(b),H}return cr(b)&&S.has(b),m[b]},set:function(m,b,S){return!!cr(b)&&(Ea(m,b,S),!0)},deleteProperty:function(m,b){return!!cr(b)&&(Eo(m).remove(b),!0)},ownKeys:function(m){return Eo(m).keysAtom.reportObserved(),Reflect.ownKeys(m)},preventExtensions:function(m){return x("Dynamic observable objects cannot be frozen"),!1}};function Ss(m){var b=new Proxy(m,co);return m[F].proxy=b,b}function dn(m){return m.interceptors!==void 0&&m.interceptors.length>0}function Er(m,b){var S=m.interceptors||(m.interceptors=[]);return S.push(b),j(function(){var D=S.indexOf(b);D!==-1&&S.splice(D,1)})}function bt(m,b){var S=$();try{for(var D=Se(m.interceptors||[]),H=0,te=D.length;H<te&&(w(!(b=D[H](b))||b.type,"Intercept handlers should return nothing or a change object"),b);H++);return b}finally{ce(S)}}function Dn(m){return m.changeListeners!==void 0&&m.changeListeners.length>0}function Sr(m,b){var S=m.changeListeners||(m.changeListeners=[]);return S.push(b),j(function(){var D=S.indexOf(b);D!==-1&&S.splice(D,1)})}function on(m,b){var S=$(),D=m.changeListeners;if(D){for(var H=0,te=(D=D.slice()).length;H<te;H++)D[H](b);ce(S)}}var Ma={get:function(m,b){return b===F?m[F]:b==="length"?m[F].getArrayLength():typeof b=="number"?Xn.get.call(m,b):typeof b!="string"||isNaN(b)?Xn.hasOwnProperty(b)?Xn[b]:m[b]:Xn.get.call(m,parseInt(b))},set:function(m,b,S){return b==="length"&&m[F].setArrayLength(S),typeof b=="number"&&Xn.set.call(m,b,S),typeof b=="symbol"||isNaN(b)?m[b]=S:Xn.set.call(m,parseInt(b),S),!0},preventExtensions:function(m){return x("Observable arrays cannot be frozen"),!1}};function vi(m,b,S,D){S===void 0&&(S="ObservableArray@"+O()),D===void 0&&(D=!1);var H,te,he,Pe=new Ta(S,b,D);H=Pe.values,te=F,he=Pe,Object.defineProperty(H,te,{enumerable:!1,writable:!1,configurable:!0,value:he});var Ge=new Proxy(Pe.values,Ma);if(Pe.proxy=Ge,m&&m.length){var vt=at(!0);Pe.spliceWithArray(0,0,m),Pt(vt)}return Ge}var Ta=function(){function m(b,S,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new I(b||"ObservableArray@"+O()),this.enhancer=function(H,te){return S(H,te,b+"[..]")}}return m.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},m.prototype.dehanceValues=function(b){return this.dehancer!==void 0&&b.length>0?b.map(this.dehancer):b},m.prototype.intercept=function(b){return Er(this,b)},m.prototype.observe=function(b,S){return S===void 0&&(S=!1),S&&b({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Sr(this,b)},m.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},m.prototype.setArrayLength=function(b){if(typeof b!="number"||b<0)throw new Error("[mobx.array] Out of range: "+b);var S=this.values.length;if(b!==S)if(b>S){for(var D=new Array(b-S),H=0;H<b-S;H++)D[H]=void 0;this.spliceWithArray(S,0,D)}else this.spliceWithArray(b,S-b)},m.prototype.updateArrayLength=function(b,S){if(b!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=S},m.prototype.spliceWithArray=function(b,S,D){var H=this;ct(this.atom);var te=this.values.length;if(b===void 0?b=0:b>te?b=te:b<0&&(b=Math.max(0,te+b)),S=arguments.length===1?te-b:S==null?0:Math.max(0,Math.min(S,te-b)),D===void 0&&(D=y),dn(this)){var he=bt(this,{object:this.proxy,type:"splice",index:b,removedCount:S,added:D});if(!he)return y;S=he.removedCount,D=he.added}D=D.length===0?D:D.map(function(Ge){return H.enhancer(Ge,void 0)});var Pe=this.spliceItemsIntoValues(b,S,D);return S===0&&D.length===0||this.notifyArraySplice(b,D,Pe),this.dehanceValues(Pe)},m.prototype.spliceItemsIntoValues=function(b,S,D){var H;if(D.length<1e4)return(H=this.values).splice.apply(H,Se([b,S],D));var te=this.values.slice(b,b+S);return this.values=this.values.slice(0,b).concat(D,this.values.slice(b+S)),te},m.prototype.notifyArrayChildUpdate=function(b,S,D){var H=!this.owned&&!1,te=Dn(this),he=te||H?{object:this.proxy,type:"update",index:b,newValue:S,oldValue:D}:null;this.atom.reportChanged(),te&&on(this,he)},m.prototype.notifyArraySplice=function(b,S,D){var H=!this.owned&&!1,te=Dn(this),he=te||H?{object:this.proxy,type:"splice",index:b,removed:D,added:S,removedCount:D.length,addedCount:S.length}:null;this.atom.reportChanged(),te&&on(this,he)},m}(),Xn={intercept:function(m){return this[F].intercept(m)},observe:function(m,b){return b===void 0&&(b=!1),this[F].observe(m,b)},clear:function(){return this.splice(0)},replace:function(m){var b=this[F];return b.spliceWithArray(0,b.values.length,m)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(m,b){for(var S=[],D=2;D<arguments.length;D++)S[D-2]=arguments[D];var H=this[F];switch(arguments.length){case 0:return[];case 1:return H.spliceWithArray(m);case 2:return H.spliceWithArray(m,b)}return H.spliceWithArray(m,b,S)},spliceWithArray:function(m,b,S){return this[F].spliceWithArray(m,b,S)},push:function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var S=this[F];return S.spliceWithArray(S.values.length,0,m),S.values.length},pop:function(){return this.splice(Math.max(this[F].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var S=this[F];return S.spliceWithArray(0,0,m),S.values.length},reverse:function(){var m=this.slice();return m.reverse.apply(m,arguments)},sort:function(m){var b=this.slice();return b.sort.apply(b,arguments)},remove:function(m){var b=this[F],S=b.dehanceValues(b.values).indexOf(m);return S>-1&&(this.splice(S,1),!0)},get:function(m){var b=this[F];if(b&&m<b.values.length)return b.atom.reportObserved(),b.dehanceValue(b.values[m])},set:function(m,b){var S=this[F],D=S.values;if(m<D.length){ct(S.atom);var H=D[m];if(dn(S)){var te=bt(S,{type:"update",object:S.proxy,index:m,newValue:b});if(!te)return;b=te.newValue}(b=S.enhancer(b,H))!==H&&(D[m]=b,S.notifyArrayChildUpdate(m,b,H))}else{if(m!==D.length)throw new Error("[mobx.array] Index out of bounds, "+m+" is larger than "+D.length);S.spliceWithArray(m,0,[b])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(m){typeof Array.prototype[m]=="function"&&(Xn[m]=function(){var b=this[F];b.atom.reportObserved();var S=b.dehanceValues(b.values);return S[m].apply(S,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(m){typeof Array.prototype[m]=="function"&&(Xn[m]=function(b,S){var D=this,H=this[F];return H.atom.reportObserved(),H.dehanceValues(H.values)[m](function(te,he){return b.call(S,te,he,D)},S)})}),["reduce","reduceRight"].forEach(function(m){Xn[m]=function(){var b=this,S=this[F];S.atom.reportObserved();var D=arguments[0];return arguments[0]=function(H,te,he){return te=S.dehanceValue(te),D(H,te,he,b)},S.values[m].apply(S.values,arguments)}});var Aa,So=R("ObservableArrayAdministration",Ta);function Wn(m){return T(m)&&So(m[F])}var ka,js={},gi=function(){function m(b,S,D){if(S===void 0&&(S=De),D===void 0&&(D="ObservableMap@"+O()),this.enhancer=S,this.name=D,this[Aa]=js,this._keysAtom=G(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(b)}return m.prototype._has=function(b){return this._data.has(b)},m.prototype.has=function(b){var S=this;if(!Xe.trackingDerivation)return this._has(b);var D=this._hasMap.get(b);if(!D){var H=D=new zt(this._has(b),Ze,this.name+"."+V(b)+"?",!1);this._hasMap.set(b,H),Gr(H,function(){return S._hasMap.delete(b)})}return D.get()},m.prototype.set=function(b,S){var D=this._has(b);if(dn(this)){var H=bt(this,{type:D?"update":"add",object:this,newValue:S,name:b});if(!H)return this;S=H.newValue}return D?this._updateValue(b,S):this._addValue(b,S),this},m.prototype.delete=function(b){var S=this;if(ct(this._keysAtom),dn(this)&&!(H=bt(this,{type:"delete",object:this,name:b})))return!1;if(this._has(b)){var D=Dn(this),H=D?{type:"delete",object:this,oldValue:this._data.get(b).value,name:b}:null;return Nn(function(){S._keysAtom.reportChanged(),S._updateHasMapEntry(b,!1),S._data.get(b).setNewValue(void 0),S._data.delete(b)}),D&&on(this,H),!0}return!1},m.prototype._updateHasMapEntry=function(b,S){var D=this._hasMap.get(b);D&&D.setNewValue(S)},m.prototype._updateValue=function(b,S){var D=this._data.get(b);if((S=D.prepareNewValue(S))!==Xe.UNCHANGED){var H=Dn(this),te=H?{type:"update",object:this,oldValue:D.value,name:b,newValue:S}:null;D.setNewValue(S),H&&on(this,te)}},m.prototype._addValue=function(b,S){var D=this;ct(this._keysAtom),Nn(function(){var he=new zt(S,D.enhancer,D.name+"."+V(b),!1);D._data.set(b,he),S=he.value,D._updateHasMapEntry(b,!0),D._keysAtom.reportChanged()});var H=Dn(this),te=H?{type:"add",object:this,name:b,newValue:S}:null;H&&on(this,te)},m.prototype.get=function(b){return this.has(b)?this.dehanceValue(this._data.get(b).get()):this.dehanceValue(void 0)},m.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},m.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},m.prototype.values=function(){var b=this,S=this.keys();return Ao({next:function(){var D=S.next(),H=D.done,te=D.value;return{done:H,value:H?void 0:b.get(te)}}})},m.prototype.entries=function(){var b=this,S=this.keys();return Ao({next:function(){var D=S.next(),H=D.done,te=D.value;return{done:H,value:H?void 0:[te,b.get(te)]}}})},m.prototype[Aa=F,Symbol.iterator]=function(){return this.entries()},m.prototype.forEach=function(b,S){var D,H;try{for(var te=le(this),he=te.next();!he.done;he=te.next()){var Pe=ve(he.value,2),Ge=Pe[0],vt=Pe[1];b.call(S,vt,Ge,this)}}catch(ut){D={error:ut}}finally{try{he&&!he.done&&(H=te.return)&&H.call(te)}finally{if(D)throw D.error}}},m.prototype.merge=function(b){var S=this;return Yt(b)&&(b=b.toJS()),Nn(function(){var D=at(!0);try{M(b)?Q(b).forEach(function(H){return S.set(H,b[H])}):Array.isArray(b)?b.forEach(function(H){var te=ve(H,2),he=te[0],Pe=te[1];return S.set(he,Pe)}):L(b)?(b.constructor!==Map&&x("Cannot initialize from classes that inherit from Map: "+b.constructor.name),b.forEach(function(H,te){return S.set(te,H)})):b!=null&&x("Cannot initialize map from "+b)}finally{Pt(D)}}),this},m.prototype.clear=function(){var b=this;Nn(function(){oe(function(){var S,D;try{for(var H=le(b.keys()),te=H.next();!te.done;te=H.next()){var he=te.value;b.delete(he)}}catch(Pe){S={error:Pe}}finally{try{te&&!te.done&&(D=H.return)&&D.call(H)}finally{if(S)throw S.error}}})})},m.prototype.replace=function(b){var S=this;return Nn(function(){var D,H,te,he,Pe=function(yn){if(L(yn)||Yt(yn))return yn;if(Array.isArray(yn))return new Map(yn);if(M(yn)){var La=new Map;for(var po in yn)La.set(po,yn[po]);return La}return x("Cannot convert to map from '"+yn+"'")}(b),Ge=new Map,vt=!1;try{for(var ut=le(S._data.keys()),Mt=ut.next();!Mt.done;Mt=ut.next()){var dt=Mt.value;if(!Pe.has(dt))if(S.delete(dt))vt=!0;else{var Et=S._data.get(dt);Ge.set(dt,Et)}}}catch(yn){D={error:yn}}finally{try{Mt&&!Mt.done&&(H=ut.return)&&H.call(ut)}finally{if(D)throw D.error}}try{for(var In=le(Pe.entries()),Lt=In.next();!Lt.done;Lt=In.next()){var hn=ve(Lt.value,2),fo=(dt=hn[0],Et=hn[1],S._data.has(dt));if(S.set(dt,Et),S._data.has(dt)){var Ms=S._data.get(dt);Ge.set(dt,Ms),fo||(vt=!0)}}}catch(yn){te={error:yn}}finally{try{Lt&&!Lt.done&&(he=In.return)&&he.call(In)}finally{if(te)throw te.error}}if(!vt)if(S._data.size!==Ge.size)S._keysAtom.reportChanged();else for(var Ia=S._data.keys(),Ra=Ge.keys(),ko=Ia.next(),Oi=Ra.next();!ko.done;){if(ko.value!==Oi.value){S._keysAtom.reportChanged();break}ko=Ia.next(),Oi=Ra.next()}S._data=Ge}),this},Object.defineProperty(m.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),m.prototype.toPOJO=function(){var b,S,D={};try{for(var H=le(this),te=H.next();!te.done;te=H.next()){var he=ve(te.value,2),Pe=he[0],Ge=he[1];D[typeof Pe=="symbol"?Pe:V(Pe)]=Ge}}catch(vt){b={error:vt}}finally{try{te&&!te.done&&(S=H.return)&&S.call(H)}finally{if(b)throw b.error}}return D},m.prototype.toJS=function(){return new Map(this)},m.prototype.toJSON=function(){return this.toPOJO()},m.prototype.toString=function(){var b=this;return this.name+"[{ "+Array.from(this.keys()).map(function(S){return V(S)+": "+b.get(S)}).join(", ")+" }]"},m.prototype.observe=function(b,S){return Sr(this,b)},m.prototype.intercept=function(b){return Er(this,b)},m}(),Yt=R("ObservableMap",gi),Xr={},jo=function(){function m(b,S,D){if(S===void 0&&(S=De),D===void 0&&(D="ObservableSet@"+O()),this.name=D,this[ka]=Xr,this._data=new Set,this._atom=G(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(H,te){return S(H,te,D)},b&&this.replace(b)}return m.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},m.prototype.clear=function(){var b=this;Nn(function(){oe(function(){var S,D;try{for(var H=le(b._data.values()),te=H.next();!te.done;te=H.next()){var he=te.value;b.delete(he)}}catch(Pe){S={error:Pe}}finally{try{te&&!te.done&&(D=H.return)&&D.call(H)}finally{if(S)throw S.error}}})})},m.prototype.forEach=function(b,S){var D,H;try{for(var te=le(this),he=te.next();!he.done;he=te.next()){var Pe=he.value;b.call(S,Pe,Pe,this)}}catch(Ge){D={error:Ge}}finally{try{he&&!he.done&&(H=te.return)&&H.call(te)}finally{if(D)throw D.error}}},Object.defineProperty(m.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),m.prototype.add=function(b){var S=this;if(ct(this._atom),dn(this)&&!(H=bt(this,{type:"add",object:this,newValue:b})))return this;if(!this.has(b)){Nn(function(){S._data.add(S.enhancer(b,void 0)),S._atom.reportChanged()});var D=Dn(this),H=D?{type:"add",object:this,newValue:b}:null;D&&on(this,H)}return this},m.prototype.delete=function(b){var S=this;if(dn(this)&&!(H=bt(this,{type:"delete",object:this,oldValue:b})))return!1;if(this.has(b)){var D=Dn(this),H=D?{type:"delete",object:this,oldValue:b}:null;return Nn(function(){S._atom.reportChanged(),S._data.delete(b)}),D&&on(this,H),!0}return!1},m.prototype.has=function(b){return this._atom.reportObserved(),this._data.has(this.dehanceValue(b))},m.prototype.entries=function(){var b=0,S=Array.from(this.keys()),D=Array.from(this.values());return Ao({next:function(){var H=b;return b+=1,H<D.length?{value:[S[H],D[H]],done:!1}:{done:!0}}})},m.prototype.keys=function(){return this.values()},m.prototype.values=function(){this._atom.reportObserved();var b=this,S=0,D=Array.from(this._data.values());return Ao({next:function(){return S<D.length?{value:b.dehanceValue(D[S++]),done:!1}:{done:!0}}})},m.prototype.replace=function(b){var S=this;return Sn(b)&&(b=b.toJS()),Nn(function(){var D=at(!0);try{Array.isArray(b)||Y(b)?(S.clear(),b.forEach(function(H){return S.add(H)})):b!=null&&x("Cannot initialize set from "+b)}finally{Pt(D)}}),this},m.prototype.observe=function(b,S){return Sr(this,b)},m.prototype.intercept=function(b){return Er(this,b)},m.prototype.toJS=function(){return new Set(this)},m.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},m.prototype[ka=F,Symbol.iterator]=function(){return this.values()},m}(),Sn=R("ObservableSet",jo),Na=function(){function m(b,S,D,H){S===void 0&&(S=new Map),this.target=b,this.values=S,this.name=D,this.defaultEnhancer=H,this.keysAtom=new I(D+".keys")}return m.prototype.read=function(b){return this.values.get(b).get()},m.prototype.write=function(b,S){var D=this.target,H=this.values.get(b);if(H instanceof rr)H.set(S);else{if(dn(this)){if(!(he=bt(this,{type:"update",object:this.proxy||D,name:b,newValue:S})))return;S=he.newValue}if((S=H.prepareNewValue(S))!==Xe.UNCHANGED){var te=Dn(this),he=te?{type:"update",object:this.proxy||D,oldValue:H.value,name:b,newValue:S}:null;H.setNewValue(S),te&&on(this,he)}}},m.prototype.has=function(b){var S=this.pendingKeys||(this.pendingKeys=new Map),D=S.get(b);if(D)return D.get();var H=!!this.values.get(b);return D=new zt(H,Ze,this.name+"."+V(b)+"?",!1),S.set(b,D),D.get()},m.prototype.addObservableProp=function(b,S,D){D===void 0&&(D=this.defaultEnhancer);var H=this.target;if(dn(this)){var te=bt(this,{object:this.proxy||H,name:b,type:"add",newValue:S});if(!te)return;S=te.newValue}var he=new zt(S,D,this.name+"."+V(b),!1);this.values.set(b,he),S=he.value,Object.defineProperty(H,b,function(Pe){return Po[Pe]||(Po[Pe]={configurable:!0,enumerable:!0,get:function(){return this[F].read(Pe)},set:function(Ge){this[F].write(Pe,Ge)}})}(b)),this.notifyPropertyAddition(b,S)},m.prototype.addComputedProp=function(b,S,D){var H,te,he,Pe=this.target;D.name=D.name||this.name+"."+V(S),this.values.set(S,new rr(D)),(b===Pe||(H=b,te=S,!(he=Object.getOwnPropertyDescriptor(H,te))||he.configurable!==!1&&he.writable!==!1))&&Object.defineProperty(b,S,function(Ge){return Mo[Ge]||(Mo[Ge]={configurable:Xe.computedConfigurable,enumerable:!1,get:function(){return To(this).read(Ge)},set:function(vt){To(this).write(Ge,vt)}})}(S))},m.prototype.remove=function(b){if(this.values.has(b)){var S=this.target;if(dn(this)&&!(Ge=bt(this,{object:this.proxy||S,name:b,type:"remove"})))return;try{An();var D=Dn(this),H=!1,te=this.values.get(b),he=te&&te.get();if(te&&te.set(void 0),this.keysAtom.reportChanged(),this.values.delete(b),this.pendingKeys){var Pe=this.pendingKeys.get(b);Pe&&Pe.set(!1)}delete this.target[b];var Ge=D?{type:"remove",object:this.proxy||S,oldValue:he,name:b}:null;D&&on(this,Ge)}finally{kn()}}},m.prototype.illegalAccess=function(b,S){},m.prototype.observe=function(b,S){return Sr(this,b)},m.prototype.intercept=function(b){return Er(this,b)},m.prototype.notifyPropertyAddition=function(b,S){var D=Dn(this),H=D?{type:"add",object:this.proxy||this.target,name:b,newValue:S}:null;if(D&&on(this,H),this.pendingKeys){var te=this.pendingKeys.get(b);te&&te.set(!0)}this.keysAtom.reportChanged()},m.prototype.getKeys=function(){var b,S;this.keysAtom.reportObserved();var D=[];try{for(var H=le(this.values),te=H.next();!te.done;te=H.next()){var he=ve(te.value,2),Pe=he[0];he[1]instanceof zt&&D.push(Pe)}}catch(Ge){b={error:Ge}}finally{try{te&&!te.done&&(S=H.return)&&S.call(H)}finally{if(b)throw b.error}}return D},m}();function lo(m,b,S){if(b===void 0&&(b=""),S===void 0&&(S=De),Object.prototype.hasOwnProperty.call(m,F))return m[F];M(m)||(b=(m.constructor.name||"ObservableObject")+"@"+O()),b||(b="ObservableObject@"+O());var D=new Na(m,new Map,V(b),S);return k(m,F,D),D}var Po=Object.create(null),Mo=Object.create(null);function To(m){var b=m[F];return b||(Be(m),m[F])}var Da=R("ObservableObjectAdministration",Na);function jn(m){return!!T(m)&&(Be(m),Da(m[F]))}function Cn(m,b){if(typeof m=="object"&&m!==null){if(Wn(m))return b!==void 0&&x(!1),m[F].atom;if(Sn(m))return m[F];if(Yt(m)){var S=m;return b===void 0?S._keysAtom:((D=S._data.get(b)||S._hasMap.get(b))||x(!1),D)}var D;if(Be(m),b&&!m[F]&&m[b],jn(m))return b?((D=m[F].values.get(b))||x(!1),D):x(!1);if(z(m)||or(m)||wo(m))return m}else if(typeof m=="function"&&wo(m[F]))return m[F];return x(!1)}function Wr(m,b){return m||x("Expecting some object"),b!==void 0?Wr(Cn(m,b)):z(m)||or(m)||wo(m)||Yt(m)||Sn(m)?m:(Be(m),m[F]?m[F]:void x(!1))}var mi=Object.prototype.toString;function bi(m,b,S){return S===void 0&&(S=-1),_i(m,b,S)}function _i(m,b,S,D,H){if(m===b)return m!==0||1/m==1/b;if(m==null||b==null)return!1;if(m!=m)return b!=b;var te=typeof m;if(te!=="function"&&te!=="object"&&typeof b!="object")return!1;var he=mi.call(m);if(he!==mi.call(b))return!1;switch(he){case"[object RegExp]":case"[object String]":return""+m==""+b;case"[object Number]":return+m!=+m?+b!=+b:+m==0?1/+m==1/b:+m==+b;case"[object Date]":case"[object Boolean]":return+m==+b;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(m)===Symbol.valueOf.call(b);case"[object Map]":case"[object Set]":S>=0&&S++}m=Ca(m),b=Ca(b);var Pe=he==="[object Array]";if(!Pe){if(typeof m!="object"||typeof b!="object")return!1;var Ge=m.constructor,vt=b.constructor;if(Ge!==vt&&!(typeof Ge=="function"&&Ge instanceof Ge&&typeof vt=="function"&&vt instanceof vt)&&"constructor"in m&&"constructor"in b)return!1}if(S===0)return!1;S<0&&(S=-1),H=H||[];for(var ut=(D=D||[]).length;ut--;)if(D[ut]===m)return H[ut]===b;if(D.push(m),H.push(b),Pe){if((ut=m.length)!==b.length)return!1;for(;ut--;)if(!_i(m[ut],b[ut],S-1,D,H))return!1}else{var Mt=Object.keys(m),dt=void 0;if(ut=Mt.length,Object.keys(b).length!==ut)return!1;for(;ut--;)if(!Ps(b,dt=Mt[ut])||!_i(m[dt],b[dt],S-1,D,H))return!1}return D.pop(),H.pop(),!0}function Ca(m){return Wn(m)?m.slice():L(m)||Yt(m)||Y(m)||Sn(m)?Array.from(m.entries()):m}function Ps(m,b){return Object.prototype.hasOwnProperty.call(m,b)}function Ao(m){return m[Symbol.iterator]=jr,m}function jr(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:pa,extras:{getDebugName:function(m,b){return(b!==void 0?Cn(m,b):jn(m)||Yt(m)||Sn(m)?Wr(m):Cn(m)).name}},$mobx:F})}).call(this,o(155),o(81))},function(a,c,o){var l=o(112),f=o(43),y=o(174);l||f(Object.prototype,"toString",y,{unsafe:!0})},function(a,c,o){var l=o(40),f=o(99),y=o(75),g=o(56),O=o(115),x="Array Iterator",w=g.set,j=g.getterFor(x);a.exports=O(Array,"Array",function(P,T){w(this,{type:x,target:l(P),index:0,kind:T})},function(){var P=j(this),T=P.target,M=P.kind,k=P.index++;return!T||k>=T.length?(P.target=void 0,{value:void 0,done:!0}):M=="keys"?{value:k,done:!1}:M=="values"?{value:T[k],done:!1}:{value:[k,T[k]],done:!1}},"values"),y.Arguments=y.Array,f("keys"),f("values"),f("entries")},function(a,c,o){var l=o(17),f=o(7),y=o(46),g=o(71),O=o(34),x=o(15),w=o(66),j=o(36),P=o(107),T=o(19),M=o(35),k=o(95),R=o(29),L=o(32),Y=o(58),Q=o(85),V=o(33),q=o(39),Z=o(40),F=o(84),I=o(41),z=o(64),G=o(57),X=o(72),re=o(68),de=o(136),le=o(111),ve=o(50),Se=o(37),ge=o(82),ue=o(97),ye=o(43),be=o(87),je=o(91),Be=o(67),qe=o(88),Me=o(27),De=o(137),Ze=o(138),ee=o(73),J=o(56),ie=o(74).forEach,we=je("hidden"),Te="Symbol",xe=Me("toPrimitive"),Je=J.set,it=J.getterFor(Te),tt=Object.prototype,Ye=f.Symbol,me=Ye&&Ye.prototype,He=f.TypeError,ne=f.QObject,ze=y("JSON","stringify"),lt=ve.f,Ot=Se.f,st=de.f,mt=ge.f,kt=x([].push),Ct=be("symbols"),ct=be("op-symbols"),Ht=be("string-to-symbol-registry"),W=be("symbol-to-string-registry"),oe=be("wks"),$=!ne||!ne.prototype||!ne.prototype.findChild,ce=j&&T(function(){return G(Ot({},"a",{get:function(){return Ot(this,"a",{value:7}).a}})).a!=7})?function(Fe,Ve,rt){var at=lt(tt,Ve);at&&delete tt[Ve],Ot(Fe,Ve,rt),at&&Fe!==tt&&Ot(tt,Ve,at)}:Ot,Ae=function(Fe,Ve){var rt=Ct[Fe]=G(me);return Je(rt,{type:Te,tag:Fe,description:Ve}),j||(rt.description=Ve),rt},ke=function(Fe,Ve,rt){Fe===tt&&ke(ct,Ve,rt),V(Fe);var at=F(Ve);return V(rt),M(Ct,at)?(rt.enumerable?(M(Fe,we)&&Fe[we][at]&&(Fe[we][at]=!1),rt=G(rt,{enumerable:z(0,!1)})):(M(Fe,we)||Ot(Fe,we,z(1,{})),Fe[we][at]=!0),ce(Fe,at,rt)):Ot(Fe,at,rt)},We=function(Fe,Ve){V(Fe);var rt=Z(Ve),at=X(rt).concat(Xt(rt));return ie(at,function(Pt){j&&!O(ht,rt,Pt)||ke(Fe,Pt,rt[Pt])}),Fe},ht=function(Fe){var Ve=F(Fe),rt=O(mt,this,Ve);return!(this===tt&&M(Ct,Ve)&&!M(ct,Ve))&&(!(rt||!M(this,Ve)||!M(Ct,Ve)||M(this,we)&&this[we][Ve])||rt)},qt=function(Fe,Ve){var rt=Z(Fe),at=F(Ve);if(rt!==tt||!M(Ct,at)||M(ct,at)){var Pt=lt(rt,at);return!Pt||!M(Ct,at)||M(rt,we)&&rt[we][at]||(Pt.enumerable=!0),Pt}},rn=function(Fe){var Ve=st(Z(Fe)),rt=[];return ie(Ve,function(at){M(Ct,at)||M(Be,at)||kt(rt,at)}),rt},Xt=function(Fe){var Ve=Fe===tt,rt=st(Ve?ct:Z(Fe)),at=[];return ie(rt,function(Pt){!M(Ct,Pt)||Ve&&!M(tt,Pt)||kt(at,Ct[Pt])}),at};if(P||(Ye=function(){if(Y(me,this))throw He("Symbol is not a constructor");var Fe=arguments.length&&arguments[0]!==void 0?I(arguments[0]):void 0,Ve=qe(Fe),rt=function(at){this===tt&&O(rt,ct,at),M(this,we)&&M(this[we],Ve)&&(this[we][Ve]=!1),ce(this,Ve,z(1,at))};return j&&$&&ce(tt,Ve,{configurable:!0,set:rt}),Ae(Ve,Fe)},ye(me=Ye.prototype,"toString",function(){return it(this).tag}),ye(Ye,"withoutSetter",function(Fe){return Ae(qe(Fe),Fe)}),ge.f=ht,Se.f=ke,ve.f=qt,re.f=de.f=rn,le.f=Xt,De.f=function(Fe){return Ae(Me(Fe),Fe)},j&&(Ot(me,"description",{configurable:!0,get:function(){return it(this).description}}),w||ye(tt,"propertyIsEnumerable",ht,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:Ye}),ie(X(oe),function(Fe){Ze(Fe)}),l({target:Te,stat:!0,forced:!P},{for:function(Fe){var Ve=I(Fe);if(M(Ht,Ve))return Ht[Ve];var rt=Ye(Ve);return Ht[Ve]=rt,W[rt]=Ve,rt},keyFor:function(Fe){if(!Q(Fe))throw He(Fe+" is not a symbol");if(M(W,Fe))return W[Fe]},useSetter:function(){$=!0},useSimple:function(){$=!1}}),l({target:"Object",stat:!0,forced:!P,sham:!j},{create:function(Fe,Ve){return Ve===void 0?G(Fe):We(G(Fe),Ve)},defineProperty:ke,defineProperties:We,getOwnPropertyDescriptor:qt}),l({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:rn,getOwnPropertySymbols:Xt}),l({target:"Object",stat:!0,forced:T(function(){le.f(1)})},{getOwnPropertySymbols:function(Fe){return le.f(q(Fe))}}),ze&&l({target:"JSON",stat:!0,forced:!P||T(function(){var Fe=Ye();return ze([Fe])!="[null]"||ze({a:Fe})!="{}"||ze(Object(Fe))!="{}"})},{stringify:function(Fe,Ve,rt){var at=ue(arguments),Pt=Ve;if((L(Ve)||Fe!==void 0)&&!Q(Fe))return k(Ve)||(Ve=function(zt,Or){if(R(Pt)&&(Or=O(Pt,this,zt,Or)),!Q(Or))return Or}),at[1]=Ve,g(ze,null,at)}}),!me[xe]){var Ut=me.valueOf;ye(me,xe,function(Fe){return O(Ut,this)})}ee(Ye,Te),Be[we]=!0},function(a,c,o){var l=o(7),f=o(149),y=o(150),g=o(3),O=o(55),x=o(27),w=x("iterator"),j=x("toStringTag"),P=g.values,T=function(k,R){if(k){if(k[w]!==P)try{O(k,w,P)}catch{k[w]=P}if(k[j]||O(k,j,R),f[R]){for(var L in g)if(k[L]!==g[L])try{O(k,L,g[L])}catch{k[L]=g[L]}}}};for(var M in f)T(l[M]&&l[M].prototype,M);T(y,"DOMTokenList")},function(a,c,o){var l=o(148).charAt,f=o(41),y=o(56),g=o(115),O="String Iterator",x=y.set,w=y.getterFor(O);g(String,"String",function(j){x(this,{type:O,string:f(j),index:0})},function(){var j,P=w(this),T=P.string,M=P.index;return M>=T.length?{value:void 0,done:!0}:(j=l(T,M),P.index+=j.length,{value:j,done:!1})})},function(a,c,o){(function(l){var f=function(y){return y&&y.Math==Math&&y};a.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,o(81))},function(a,c,o){var l=o(17),f=o(36),y=o(7),g=o(15),O=o(35),x=o(29),w=o(58),j=o(41),P=o(37).f,T=o(131),M=y.Symbol,k=M&&M.prototype;if(f&&x(M)&&(!("description"in k)||M().description!==void 0)){var R={},L=function(){var I=arguments.length<1||arguments[0]===void 0?void 0:j(arguments[0]),z=w(k,this)?new M(I):I===void 0?M():M(I);return I===""&&(R[z]=!0),z};T(L,M),L.prototype=k,k.constructor=L;var Y=String(M("test"))=="Symbol(test)",Q=g(k.toString),V=g(k.valueOf),q=/^Symbol\((.*)\)[^)]+$/,Z=g("".replace),F=g("".slice);P(k,"description",{configurable:!0,get:function(){var I=V(this),z=Q(I);if(O(R,I))return"";var G=Y?F(z,7,-1):Z(z,q,"$1");return G===""?void 0:G}}),l({global:!0,forced:!0},{Symbol:L})}},function(a,c,o){o(138)("iterator")},function(a,c,o){o.d(c,"a",function(){return g.a}),o.d(c,"c",function(){return g.e}),o.d(c,"h",function(){return q}),o.d(c,"i",function(){return Y}),o.d(c,"j",function(){return R}),o.d(c,"b",function(){return ve}),o.d(c,"e",function(){return ye}),o.d(c,"f",function(){return Se}),o.d(c,"g",function(){return Ct});var l,f,y,g=o(0),O=0,x=[],w=g.i.__b,j=g.i.__r,P=g.i.diffed,T=g.i.__c,M=g.i.unmount;function k(W,oe){g.i.__h&&g.i.__h(f,W,O||oe),O=0;var $=f.__H||(f.__H={__:[],__h:[]});return W>=$.__.length&&$.__.push({}),$.__[W]}function R(W){return O=1,L(re,W)}function L(W,oe,$){var ce=k(l++,2);return ce.t=W,ce.__c||(ce.__=[$?$(oe):re(void 0,oe),function(Ae){var ke=ce.t(ce.__[0],Ae);ce.__[0]!==ke&&(ce.__=[ke,ce.__[1]],ce.__c.setState({}))}],ce.__c=f),ce.__}function Y(W,oe){var $=k(l++,3);!g.i.__s&&X($.__H,oe)&&($.__=W,$.__H=oe,f.__H.__h.push($))}function Q(W,oe){var $=k(l++,4);!g.i.__s&&X($.__H,oe)&&($.__=W,$.__H=oe,f.__h.push($))}function V(W,oe){var $=k(l++,7);return X($.__H,oe)&&($.__=W(),$.__H=oe,$.__h=W),$.__}function q(W,oe){return O=8,V(function(){return W},oe)}function Z(){var W;for(x.sort(function(oe,$){return oe.__v.__b-$.__v.__b});W=x.pop();)if(W.__P)try{W.__H.__h.forEach(z),W.__H.__h.forEach(G),W.__H.__h=[]}catch(oe){W.__H.__h=[],g.i.__e(oe,W.__v)}}g.i.__b=function(W){f=null,w&&w(W)},g.i.__r=function(W){j&&j(W),l=0;var oe=(f=W.__c).__H;oe&&(oe.__h.forEach(z),oe.__h.forEach(G),oe.__h=[])},g.i.diffed=function(W){P&&P(W);var oe=W.__c;oe&&oe.__H&&oe.__H.__h.length&&(x.push(oe)!==1&&y===g.i.requestAnimationFrame||((y=g.i.requestAnimationFrame)||I)(Z)),f=null},g.i.__c=function(W,oe){oe.some(function($){try{$.__h.forEach(z),$.__h=$.__h.filter(function(ce){return!ce.__||G(ce)})}catch(ce){oe.some(function(Ae){Ae.__h&&(Ae.__h=[])}),oe=[],g.i.__e(ce,$.__v)}}),T&&T(W,oe)},g.i.unmount=function(W){M&&M(W);var oe,$=W.__c;$&&$.__H&&($.__H.__.forEach(function(ce){try{z(ce)}catch(Ae){oe=Ae}}),oe&&g.i.__e(oe,$.__v))};var F=typeof requestAnimationFrame=="function";function I(W){var oe,$=function(){clearTimeout(ce),F&&cancelAnimationFrame(oe),setTimeout(W)},ce=setTimeout($,100);F&&(oe=requestAnimationFrame($))}function z(W){var oe=f,$=W.__c;typeof $=="function"&&(W.__c=void 0,$()),f=oe}function G(W){var oe=f;W.__c=W.__(),f=oe}function X(W,oe){return!W||W.length!==oe.length||oe.some(function($,ce){return $!==W[ce]})}function re(W,oe){return typeof oe=="function"?oe(W):oe}function de(W,oe){for(var $ in oe)W[$]=oe[$];return W}function le(W,oe){for(var $ in W)if($!=="__source"&&!($ in oe))return!0;for(var ce in oe)if(ce!=="__source"&&W[ce]!==oe[ce])return!0;return!1}function ve(W){this.props=W}function Se(W,oe){function $(Ae){var ke=this.props.ref,We=ke==Ae.ref;return!We&&ke&&(ke.call?ke(null):ke.current=null),oe?!oe(this.props,Ae)||!We:le(this.props,Ae)}function ce(Ae){return this.shouldComponentUpdate=$,Object(g.e)(W,Ae)}return ce.displayName="Memo("+(W.displayName||W.name)+")",ce.prototype.isReactComponent=!0,ce.__f=!0,ce}(ve.prototype=new g.a).isPureReactComponent=!0,ve.prototype.shouldComponentUpdate=function(W,oe){return le(this.props,W)||le(this.state,oe)};var ge=g.i.__b;g.i.__b=function(W){W.type&&W.type.__f&&W.ref&&(W.props.ref=W.ref,W.ref=null),ge&&ge(W)};var ue=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ye(W){function oe($,ce){var Ae=de({},$);return delete Ae.ref,W(Ae,!(ce=$.ref||ce)||typeof ce=="object"&&!("current"in ce)?null:ce)}return oe.$$typeof=ue,oe.render=oe,oe.prototype.isReactComponent=oe.__f=!0,oe.displayName="ForwardRef("+(W.displayName||W.name)+")",oe}var be=function(W,oe){return W==null?null:Object(g.k)(Object(g.k)(W).map(oe))},je={map:be,forEach:be,count:function(W){return W?Object(g.k)(W).length:0},only:function(W){var oe=Object(g.k)(W);if(oe.length!==1)throw"Children.only";return oe[0]},toArray:g.k},Be=g.i.__e;g.i.__e=function(W,oe,$){if(W.then){for(var ce,Ae=oe;Ae=Ae.__;)if((ce=Ae.__c)&&ce.__c)return oe.__e==null&&(oe.__e=$.__e,oe.__k=$.__k),ce.__c(W,oe)}Be(W,oe,$)};var qe=g.i.unmount;function Me(W,oe,$){return W&&(W.__c&&W.__c.__H&&(W.__c.__H.__.forEach(function(ce){typeof ce.__c=="function"&&ce.__c()}),W.__c.__H=null),(W=de({},W)).__c!=null&&(W.__c.__P===$&&(W.__c.__P=oe),W.__c=null),W.__k=W.__k&&W.__k.map(function(ce){return Me(ce,oe,$)})),W}function De(W,oe,$){return W&&(W.__v=null,W.__k=W.__k&&W.__k.map(function(ce){return De(ce,oe,$)}),W.__c&&W.__c.__P===oe&&(W.__e&&$.insertBefore(W.__e,W.__d),W.__c.__e=!0,W.__c.__P=$)),W}function Ze(){this.__u=0,this.t=null,this.__b=null}function ee(W){var oe=W.__.__c;return oe&&oe.__e&&oe.__e(W)}function J(){this.u=null,this.o=null}g.i.unmount=function(W){var oe=W.__c;oe&&oe.__R&&oe.__R(),oe&&W.__h===!0&&(W.type=null),qe&&qe(W)},(Ze.prototype=new g.a).__c=function(W,oe){var $=oe.__c,ce=this;ce.t==null&&(ce.t=[]),ce.t.push($);var Ae=ee(ce.__v),ke=!1,We=function(){ke||(ke=!0,$.__R=null,Ae?Ae(ht):ht())};$.__R=We;var ht=function(){if(!--ce.__u){if(ce.state.__e){var rn=ce.state.__e;ce.__v.__k[0]=De(rn,rn.__c.__P,rn.__c.__O)}var Xt;for(ce.setState({__e:ce.__b=null});Xt=ce.t.pop();)Xt.forceUpdate()}},qt=oe.__h===!0;ce.__u++||qt||ce.setState({__e:ce.__b=ce.__v.__k[0]}),W.then(We,We)},Ze.prototype.componentWillUnmount=function(){this.t=[]},Ze.prototype.render=function(W,oe){if(this.__b){if(this.__v.__k){var $=document.createElement("div"),ce=this.__v.__k[0].__c;this.__v.__k[0]=Me(this.__b,$,ce.__O=ce.__P)}this.__b=null}var Ae=oe.__e&&Object(g.e)(g.b,null,W.fallback);return Ae&&(Ae.__h=null),[Object(g.e)(g.b,null,oe.__e?null:W.children),Ae]};var ie=function(W,oe,$){if(++$[1]===$[0]&&W.o.delete(oe),W.props.revealOrder&&(W.props.revealOrder[0]!=="t"||!W.o.size))for($=W.u;$;){for(;$.length>3;)$.pop()();if($[1]<$[0])break;W.u=$=$[2]}};function we(W){return this.getChildContext=function(){return W.context},W.children}function Te(W){var oe=this,$=W.i;oe.componentWillUnmount=function(){Object(g.j)(null,oe.l),oe.l=null,oe.i=null},oe.i&&oe.i!==$&&oe.componentWillUnmount(),W.__v?(oe.l||(oe.i=$,oe.l={nodeType:1,parentNode:$,childNodes:[],appendChild:function(ce){this.childNodes.push(ce),oe.i.appendChild(ce)},insertBefore:function(ce,Ae){this.childNodes.push(ce),oe.i.appendChild(ce)},removeChild:function(ce){this.childNodes.splice(this.childNodes.indexOf(ce)>>>1,1),oe.i.removeChild(ce)}}),Object(g.j)(Object(g.e)(we,{context:oe.context},W.__v),oe.l)):oe.l&&oe.componentWillUnmount()}(J.prototype=new g.a).__e=function(W){var oe=this,$=ee(oe.__v),ce=oe.o.get(W);return ce[0]++,function(Ae){var ke=function(){oe.props.revealOrder?(ce.push(Ae),ie(oe,W,ce)):Ae()};$?$(ke):ke()}},J.prototype.render=function(W){this.u=null,this.o=new Map;var oe=Object(g.k)(W.children);W.revealOrder&&W.revealOrder[0]==="b"&&oe.reverse();for(var $=oe.length;$--;)this.o.set(oe[$],this.u=[1,0,this.u]);return W.children},J.prototype.componentDidUpdate=J.prototype.componentDidMount=function(){var W=this;this.o.forEach(function(oe,$){ie(W,$,oe)})};var xe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Je=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,it=typeof document<"u",tt=function(W){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(W)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(W){Object.defineProperty(g.a.prototype,W,{configurable:!0,get:function(){return this["UNSAFE_"+W]},set:function(oe){Object.defineProperty(this,W,{configurable:!0,writable:!0,value:oe})}})});var Ye=g.i.event;function me(){}function He(){return this.cancelBubble}function ne(){return this.defaultPrevented}g.i.event=function(W){return Ye&&(W=Ye(W)),W.persist=me,W.isPropagationStopped=He,W.isDefaultPrevented=ne,W.nativeEvent=W};var ze,lt={configurable:!0,get:function(){return this.class}},Ot=g.i.vnode;g.i.vnode=function(W){var oe=W.type,$=W.props,ce=$;if(typeof oe=="string"){var Ae=oe.indexOf("-")===-1;for(var ke in ce={},$){var We=$[ke];it&&ke==="children"&&oe==="noscript"||ke==="value"&&"defaultValue"in $&&We==null||(ke==="defaultValue"&&"value"in $&&$.value==null?ke="value":ke==="download"&&We===!0?We="":/ondoubleclick/i.test(ke)?ke="ondblclick":/^onchange(textarea|input)/i.test(ke+oe)&&!tt($.type)?ke="oninput":/^onfocus$/i.test(ke)?ke="onfocusin":/^onblur$/i.test(ke)?ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(ke)?ke=ke.toLowerCase():Ae&&Je.test(ke)?ke=ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():We===null&&(We=void 0),ce[ke]=We)}oe=="select"&&ce.multiple&&Array.isArray(ce.value)&&(ce.value=Object(g.k)($.children).forEach(function(ht){ht.props.selected=ce.value.indexOf(ht.props.value)!=-1})),oe=="select"&&ce.defaultValue!=null&&(ce.value=Object(g.k)($.children).forEach(function(ht){ht.props.selected=ce.multiple?ce.defaultValue.indexOf(ht.props.value)!=-1:ce.defaultValue==ht.props.value})),W.props=ce,$.class!=$.className&&(lt.enumerable="className"in $,$.className!=null&&(ce.class=$.className),Object.defineProperty(ce,"className",lt))}W.$$typeof=xe,Ot&&Ot(W)};var st=g.i.__r;g.i.__r=function(W){st&&st(W),ze=W.__c};var mt={ReactCurrentDispatcher:{current:{readContext:function(W){return ze.__n[W.__c].props.value}}}};function kt(W){return!!W&&W.$$typeof===xe}var Ct=function(W,oe){return W(oe)},ct=g.b,Ht={useState:R,useReducer:L,useEffect:Y,useLayoutEffect:Q,useRef:function(W){return O=5,V(function(){return{current:W}},[])},useImperativeHandle:function(W,oe,$){O=6,Q(function(){typeof W=="function"?W(oe()):W&&(W.current=oe())},$==null?$:$.concat(W))},useMemo:V,useCallback:q,useContext:function(W){var oe=f.context[W.__c],$=k(l++,9);return $.c=W,oe?($.__==null&&($.__=!0,oe.sub(f)),oe.props.value):W.__},useDebugValue:function(W,oe){g.i.useDebugValue&&g.i.useDebugValue(oe?oe(W):W)},version:"17.0.2",Children:je,render:function(W,oe,$){return oe.__k==null&&(oe.textContent=""),Object(g.j)(W,oe),typeof $=="function"&&$(),W?W.__c:null},hydrate:function(W,oe,$){return Object(g.h)(W,oe),typeof $=="function"&&$(),W?W.__c:null},unmountComponentAtNode:function(W){return!!W.__k&&(Object(g.j)(null,W),!0)},createPortal:function(W,oe){return Object(g.e)(Te,{__v:W,i:oe})},createElement:g.e,createContext:g.d,createFactory:function(W){return g.e.bind(null,W)},cloneElement:function(W){return kt(W)?g.c.apply(null,arguments):W},createRef:g.f,Fragment:g.b,isValidElement:kt,findDOMNode:function(W){return W&&(W.base||W.nodeType===1&&W)||null},Component:g.a,PureComponent:ve,memo:Se,forwardRef:ye,flushSync:function(W,oe){return W(oe)},unstable_batchedUpdates:Ct,StrictMode:ct,Suspense:Ze,SuspenseList:J,lazy:function(W){var oe,$,ce;function Ae(ke){if(oe||(oe=W()).then(function(We){$=We.default||We},function(We){ce=We}),ce)throw ce;if(!$)throw oe;return Object(g.e)($,ke)}return Ae.displayName="Lazy",Ae.__f=!0,Ae},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mt};c.d=Ht},function(a,c,o){var l=o(7),f=o(149),y=o(150),g=o(182),O=o(55),x=function(j){if(j&&j.forEach!==g)try{O(j,"forEach",g)}catch{j.forEach=g}};for(var w in f)f[w]&&x(l[w]&&l[w].prototype);x(y)},function(a,c,o){o(17)({target:"Object",stat:!0},{setPrototypeOf:o(101)})},function(a,c,o){var l=o(17),f=o(19),y=o(39),g=o(100),O=o(140);l({target:"Object",stat:!0,forced:f(function(){g(1)}),sham:!O},{getPrototypeOf:function(x){return g(y(x))}})},function(a,c,o){var l=o(17),f=o(46),y=o(71),g=o(200),O=o(157),x=o(33),w=o(32),j=o(57),P=o(19),T=f("Reflect","construct"),M=Object.prototype,k=[].push,R=P(function(){function Q(){}return!(T(function(){},[],Q)instanceof Q)}),L=!P(function(){T(function(){})}),Y=R||L;l({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(Q,V){O(Q),x(V);var q=arguments.length<3?Q:O(arguments[2]);if(L&&!R)return T(Q,V,q);if(Q==q){switch(V.length){case 0:return new Q;case 1:return new Q(V[0]);case 2:return new Q(V[0],V[1]);case 3:return new Q(V[0],V[1],V[2]);case 4:return new Q(V[0],V[1],V[2],V[3])}var Z=[null];return y(k,Z,V),new(y(g,Q,Z))}var F=q.prototype,I=j(w(F)?F:M),z=y(Q,I,V);return w(z)?z:I}})},function(a,c){var o=Function.prototype,l=o.bind,f=o.call,y=l&&l.bind(f);a.exports=l?function(g){return g&&y(f,g)}:function(g){return g&&function(){return f.apply(g,arguments)}}},function(a,c,o){var l=o(17),f=o(7),y=o(95),g=o(98),O=o(32),x=o(69),w=o(44),j=o(40),P=o(60),T=o(27),M=o(76),k=o(97),R=M("slice"),L=T("species"),Y=f.Array,Q=Math.max;l({target:"Array",proto:!0,forced:!R},{slice:function(V,q){var Z,F,I,z=j(this),G=w(z),X=x(V,G),re=x(q===void 0?G:q,G);if(y(z)&&(Z=z.constructor,(g(Z)&&(Z===Y||y(Z.prototype))||O(Z)&&(Z=Z[L])===null)&&(Z=void 0),Z===Y||Z===void 0))return k(z,X,re);for(F=new(Z===void 0?Y:Z)(Q(re-X,0)),I=0;X<re;X++,I++)X in z&&P(F,I,z[X]);return F.length=I,F}})},function(a,c,o){var l=o(7),f=o(50).f,y=o(55),g=o(43),O=o(109),x=o(131),w=o(94);a.exports=function(j,P){var T,M,k,R,L,Y=j.target,Q=j.global,V=j.stat;if(T=Q?l:V?l[Y]||O(Y,{}):(l[Y]||{}).prototype)for(M in P){if(R=P[M],k=j.noTargetGet?(L=f(T,M))&&L.value:T[M],!w(Q?M:Y+(V?".":"#")+M,j.forced)&&k!==void 0){if(typeof R==typeof k)continue;x(R,k)}(j.sham||k&&k.sham)&&y(R,"sham",!0),g(T,M,R,j)}}},function(a,c,o){var l=o(17),f=o(102);l({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(a,c){a.exports=function(o){try{return!!o()}catch{return!0}}},function(a,c,o){var l=o(17),f=o(39),y=o(72);l({target:"Object",stat:!0,forced:o(19)(function(){y(1)})},{keys:function(g){return y(f(g))}})},function(a,c,o){var l=o(17),f=o(19),y=o(40),g=o(50).f,O=o(36),x=f(function(){g(1)});l({target:"Object",stat:!0,forced:!O||x,sham:!O},{getOwnPropertyDescriptor:function(w,j){return g(y(w),j)}})},function(a,c,o){var l=o(36),f=o(92).EXISTS,y=o(15),g=o(37).f,O=Function.prototype,x=y(O.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,j=y(w.exec);l&&!f&&g(O,"name",{configurable:!0,get:function(){try{return j(w,x(this))[1]}catch{return""}}})},function(a,c,o){var l=o(17),f=o(74).filter;l({target:"Array",proto:!0,forced:!o(76)("filter")},{filter:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}})},function(a,c,o){var l=o(17),f=o(183);l({target:"Array",stat:!0,forced:!o(119)(function(y){Array.from(y)})},{from:f})},function(a,c,o){var l=o(17),f=o(36),y=o(132),g=o(40),O=o(50),x=o(60);l({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(w){for(var j,P,T=g(w),M=O.f,k=y(T),R={},L=0;k.length>L;)(P=M(T,j=k[L++]))!==void 0&&x(R,j,P);return R}})},,function(a,c,o){var l=o(7),f=o(87),y=o(35),g=o(88),O=o(107),x=o(129),w=f("wks"),j=l.Symbol,P=j&&j.for,T=x?j:j&&j.withoutSetter||g;a.exports=function(M){if(!y(w,M)||!O&&typeof w[M]!="string"){var k="Symbol."+M;O&&y(j,M)?w[M]=j[M]:w[M]=x&&P?P(k):T(k)}return w[M]}},function(a,c,o){var l=o(17),f=o(7),y=o(19),g=o(95),O=o(32),x=o(39),w=o(44),j=o(60),P=o(114),T=o(76),M=o(27),k=o(65),R=M("isConcatSpreadable"),L=9007199254740991,Y="Maximum allowed index exceeded",Q=f.TypeError,V=k>=51||!y(function(){var F=[];return F[R]=!1,F.concat()[0]!==F}),q=T("concat"),Z=function(F){if(!O(F))return!1;var I=F[R];return I!==void 0?!!I:g(F)};l({target:"Array",proto:!0,forced:!V||!q},{concat:function(F){var I,z,G,X,re,de=x(this),le=P(de,0),ve=0;for(I=-1,G=arguments.length;I<G;I++)if(Z(re=I===-1?de:arguments[I])){if(ve+(X=w(re))>L)throw Q(Y);for(z=0;z<X;z++,ve++)z in re&&j(le,ve,re[z])}else{if(ve>=L)throw Q(Y);j(le,ve++,re)}return le.length=ve,le}})},function(a,c){a.exports=function(o){return typeof o=="function"}},function(a,c,o){var l=o(17),f=o(199);l({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(a,c,o){var l=o(105),f=typeof self=="object"&&self&&self.Object===Object&&self,y=l.a||f||Function("return this")();c.a=y},function(a,c,o){var l=o(29);a.exports=function(f){return typeof f=="object"?f!==null:l(f)}},function(a,c,o){var l=o(7),f=o(32),y=l.String,g=l.TypeError;a.exports=function(O){if(f(O))return O;throw g(y(O)+" is not an object")}},function(a,c){var o=Function.prototype.call;a.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(a,c,o){var l=o(15),f=o(39),y=l({}.hasOwnProperty);a.exports=Object.hasOwn||function(g,O){return y(f(g),O)}},function(a,c,o){var l=o(19);a.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(a,c,o){var l=o(7),f=o(36),y=o(130),g=o(33),O=o(84),x=l.TypeError,w=Object.defineProperty;c.f=f?w:function(j,P,T){if(g(j),P=O(P),g(T),y)try{return w(j,P,T)}catch{}if("get"in T||"set"in T)throw x("Accessors not supported");return"value"in T&&(j[P]=T.value),j}},function(a,c,o){var l=o(17),f=o(74).map;l({target:"Array",proto:!0,forced:!o(76)("map")},{map:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}})},function(a,c,o){var l=o(7),f=o(45),y=l.Object;a.exports=function(g){return y(f(g))}},function(a,c,o){var l=o(83),f=o(45);a.exports=function(y){return l(f(y))}},function(a,c,o){var l=o(7),f=o(96),y=l.String;a.exports=function(g){if(f(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(g)}},function(a,c,o){(function(l){o.d(c,"d",function(){return g}),o.d(c,"c",function(){return O}),o.d(c,"b",function(){return x}),o.d(c,"a",function(){return j});var f=o(10),y=function(P,T){var M=typeof Symbol=="function"&&P[Symbol.iterator];if(!M)return P;var k,R,L=M.call(P),Y=[];try{for(;(T===void 0||T-- >0)&&!(k=L.next()).done;)Y.push(k.value)}catch(Q){R={error:Q}}finally{try{k&&!k.done&&(M=L.return)&&M.call(L)}finally{if(R)throw R.error}}return Y};function g(){var P=y(Object(f.j)(0),2)[1];return Object(f.h)(function(){P(function(T){return T+1})},[])}function O(P){if(!P||typeof P!="object")return!1;var T=Object.getPrototypeOf(P);return!T||T===Object.prototype}function x(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var w={};function j(){return typeof window<"u"?window:l!==void 0?l:typeof self<"u"?self:w}}).call(this,o(81))},function(a,c,o){var l=o(7),f=o(29),y=o(35),g=o(55),O=o(109),x=o(90),w=o(56),j=o(92).CONFIGURABLE,P=w.get,T=w.enforce,M=String(String).split("String");(a.exports=function(k,R,L,Y){var Q,V=!!Y&&!!Y.unsafe,q=!!Y&&!!Y.enumerable,Z=!!Y&&!!Y.noTargetGet,F=Y&&Y.name!==void 0?Y.name:R;f(L)&&(String(F).slice(0,7)==="Symbol("&&(F="["+String(F).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(L,"name")||j&&L.name!==F)&&g(L,"name",F),(Q=T(L)).source||(Q.source=M.join(typeof F=="string"?F:""))),k!==l?(V?!Z&&k[R]&&(q=!0):delete k[R],q?k[R]=L:g(k,R,L)):q?k[R]=L:O(R,L)})(Function.prototype,"toString",function(){return f(this)&&P(this).source||x(this)})},function(a,c,o){var l=o(93);a.exports=function(f){return l(f.length)}},function(a,c,o){var l=o(7).TypeError;a.exports=function(f){if(f==null)throw l("Can't call method on "+f);return f}},function(a,c,o){var l=o(7),f=o(29),y=function(g){return f(g)?g:void 0};a.exports=function(g,O){return arguments.length<2?y(l[g]):l[g]&&l[g][O]}},function(a,c,o){var l=o(17),f=o(34),y=o(32),g=o(33),O=o(201),x=o(50),w=o(100);l({target:"Reflect",stat:!0},{get:function j(P,T){var M,k,R=arguments.length<3?P:arguments[2];return g(P)===R?P[T]:(M=x.f(P,T))?O(M)?M.value:M.get===void 0?void 0:f(M.get,R):y(k=w(P))?j(k,T,R):void 0}})},function(a,c,o){(function(l){var f=o(31),y=o(166),g=p&&!p.nodeType&&p,O=g&&typeof l=="object"&&l&&!l.nodeType&&l,x=O&&O.exports===g?f.a.Buffer:void 0,w=(x?x.isBuffer:void 0)||y.a;c.a=w}).call(this,o(121)(a))},function(a,c,o){(function(l){var f=o(105),y=p&&!p.nodeType&&p,g=y&&typeof l=="object"&&l&&!l.nodeType&&l,O=g&&g.exports===y&&f.a.process,x=function(){try{var w=g&&g.require&&g.require("util").types;return w||O&&O.binding&&O.binding("util")}catch{}}();c.a=x}).call(this,o(121)(a))},function(a,c,o){var l=o(36),f=o(34),y=o(82),g=o(64),O=o(40),x=o(84),w=o(35),j=o(130),P=Object.getOwnPropertyDescriptor;c.f=l?P:function(T,M){if(T=O(T),M=x(M),j)try{return P(T,M)}catch{}if(w(T,M))return g(!f(y.f,T,M),T[M])}},function(a,c,o){var l=o(15),f=l({}.toString),y=l("".slice);a.exports=function(g){return y(f(g),8,-1)}},function(a,c,o){var l=o(17),f=o(213).entries;l({target:"Object",stat:!0},{entries:function(y){return f(y)}})},function(a,c,o){var l=o(46);a.exports=l("navigator","userAgent")||""},function(a,c,o){var l=o(7),f=o(29),y=o(86),g=l.TypeError;a.exports=function(O){if(f(O))return O;throw g(y(O)+" is not a function")}},function(a,c,o){var l=o(36),f=o(37),y=o(64);a.exports=l?function(g,O,x){return f.f(g,O,y(1,x))}:function(g,O,x){return g[O]=x,g}},function(a,c,o){var l,f,y,g=o(170),O=o(7),x=o(15),w=o(32),j=o(55),P=o(35),T=o(108),M=o(91),k=o(67),R="Object already initialized",L=O.TypeError,Y=O.WeakMap;if(g||T.state){var Q=T.state||(T.state=new Y),V=x(Q.get),q=x(Q.has),Z=x(Q.set);l=function(I,z){if(q(Q,I))throw new L(R);return z.facade=I,Z(Q,I,z),z},f=function(I){return V(Q,I)||{}},y=function(I){return q(Q,I)}}else{var F=M("state");k[F]=!0,l=function(I,z){if(P(I,F))throw new L(R);return z.facade=I,j(I,F,z),z},f=function(I){return P(I,F)?I[F]:{}},y=function(I){return P(I,F)}}a.exports={set:l,get:f,has:y,enforce:function(I){return y(I)?f(I):l(I,{})},getterFor:function(I){return function(z){var G;if(!w(z)||(G=f(z)).type!==I)throw L("Incompatible receiver, "+I+" required");return G}}}},function(a,c,o){var l,f=o(33),y=o(171),g=o(110),O=o(67),x=o(135),w=o(89),j=o(91),P=j("IE_PROTO"),T=function(){},M=function(L){return"<script>"+L+"<\/script>"},k=function(L){L.write(M("")),L.close();var Y=L.parentWindow.Object;return L=null,Y},R=function(){try{l=new ActiveXObject("htmlfile")}catch{}var L,Y;R=typeof document<"u"?document.domain&&l?k(l):((Y=w("iframe")).style.display="none",x.appendChild(Y),Y.src="javascript:",(L=Y.contentWindow.document).open(),L.write(M("document.F=Object")),L.close(),L.F):k(l);for(var Q=g.length;Q--;)delete R.prototype[g[Q]];return R()};O[P]=!0,a.exports=Object.create||function(L,Y){var Q;return L!==null?(T.prototype=f(L),Q=new T,T.prototype=null,Q[P]=L):Q=R(),Y===void 0?Q:y(Q,Y)}},function(a,c,o){var l=o(15);a.exports=l({}.isPrototypeOf)},function(a,c,o){var l=o(54);a.exports=function(f,y){var g=f[y];return g==null?void 0:l(g)}},function(a,c,o){var l=o(84),f=o(37),y=o(64);a.exports=function(g,O,x){var w=l(O);w in g?f.f(g,w,y(0,x)):g[w]=x}},function(a,c,o){var l=o(15),f=o(54),y=l(l.bind);a.exports=function(g,O){return f(g),O===void 0?g:y?y(g,O):function(){return g.apply(O,arguments)}}},function(a,c,o){o(177)("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},o(181))},function(a,c,o){var l=o(17),f=o(15),y=o(83),g=o(40),O=o(120),x=f([].join),w=y!=Object,j=O("join",",");l({target:"Array",proto:!0,forced:w||!j},{join:function(P){return x(g(this),P===void 0?",":P)}})},function(a,c){a.exports=function(o,l){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:l}}},function(a,c,o){var l,f,y=o(7),g=o(53),O=y.process,x=y.Deno,w=O&&O.versions||x&&x.version,j=w&&w.v8;j&&(f=(l=j.split("."))[0]>0&&l[0]<4?1:+(l[0]+l[1])),!f&&g&&(!(l=g.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=g.match(/Chrome\/(\d+)/))&&(f=+l[1]),a.exports=f},function(a,c){a.exports=!1},function(a,c){a.exports={}},function(a,c,o){var l=o(133),f=o(110).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(y){return l(y,f)}},function(a,c,o){var l=o(70),f=Math.max,y=Math.min;a.exports=function(g,O){var x=l(g);return x<0?f(x+O,0):y(x,O)}},function(a,c){var o=Math.ceil,l=Math.floor;a.exports=function(f){var y=+f;return y!=y||y===0?0:(y>0?l:o)(y)}},function(a,c){var o=Function.prototype,l=o.apply,f=o.bind,y=o.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(f?y.bind(l):function(){return y.apply(l,arguments)})},function(a,c,o){var l=o(133),f=o(110);a.exports=Object.keys||function(y){return l(y,f)}},function(a,c,o){var l=o(37).f,f=o(35),y=o(27)("toStringTag");a.exports=function(g,O,x){g&&!f(g=x?g:g.prototype,y)&&l(g,y,{configurable:!0,value:O})}},function(a,c,o){var l=o(61),f=o(15),y=o(83),g=o(39),O=o(44),x=o(114),w=f([].push),j=function(P){var T=P==1,M=P==2,k=P==3,R=P==4,L=P==6,Y=P==7,Q=P==5||L;return function(V,q,Z,F){for(var I,z,G=g(V),X=y(G),re=l(q,Z),de=O(X),le=0,ve=F||x,Se=T?ve(V,de):M||Y?ve(V,0):void 0;de>le;le++)if((Q||le in X)&&(z=re(I=X[le],le,G),P))if(T)Se[le]=z;else if(z)switch(P){case 3:return!0;case 5:return I;case 6:return le;case 2:w(Se,I)}else switch(P){case 4:return!1;case 7:w(Se,I)}return L?-1:k||R?R:Se}};a.exports={forEach:j(0),map:j(1),filter:j(2),some:j(3),every:j(4),find:j(5),findIndex:j(6),filterReject:j(7)}},function(a,c){a.exports={}},function(a,c,o){var l=o(19),f=o(27),y=o(65),g=f("species");a.exports=function(O){return y>=51||!l(function(){var x=[];return(x.constructor={})[g]=function(){return{foo:1}},x[O](Boolean).foo!==1})}},function(a,c,o){var l=o(71),f=o(34),y=o(15),g=o(122),O=o(154),x=o(33),w=o(45),j=o(156),P=o(123),T=o(93),M=o(41),k=o(59),R=o(113),L=o(124),Y=o(102),Q=o(151),V=o(19),q=Q.UNSUPPORTED_Y,Z=4294967295,F=Math.min,I=[].push,z=y(/./.exec),G=y(I),X=y("".slice),re=!V(function(){var de=/(?:)/,le=de.exec;de.exec=function(){return le.apply(this,arguments)};var ve="ab".split(de);return ve.length!==2||ve[0]!=="a"||ve[1]!=="b"});g("split",function(de,le,ve){var Se;return Se="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(ge,ue){var ye=M(w(this)),be=ue===void 0?Z:ue>>>0;if(be===0)return[];if(ge===void 0)return[ye];if(!O(ge))return f(le,ye,ge,be);for(var je,Be,qe,Me=[],De=(ge.ignoreCase?"i":"")+(ge.multiline?"m":"")+(ge.unicode?"u":"")+(ge.sticky?"y":""),Ze=0,ee=new RegExp(ge.source,De+"g");(je=f(Y,ee,ye))&&!((Be=ee.lastIndex)>Ze&&(G(Me,X(ye,Ze,je.index)),je.length>1&&je.index<ye.length&&l(I,Me,R(je,1)),qe=je[0].length,Ze=Be,Me.length>=be));)ee.lastIndex===je.index&&ee.lastIndex++;return Ze===ye.length?!qe&&z(ee,"")||G(Me,""):G(Me,X(ye,Ze)),Me.length>be?R(Me,0,be):Me}:"0".split(void 0,0).length?function(ge,ue){return ge===void 0&&ue===0?[]:f(le,this,ge,ue)}:le,[function(ge,ue){var ye=w(this),be=ge==null?void 0:k(ge,de);return be?f(be,ge,ye,ue):f(Se,M(ye),ge,ue)},function(ge,ue){var ye=x(this),be=M(ge),je=ve(Se,ye,be,ue,Se!==le);if(je.done)return je.value;var Be=j(ye,RegExp),qe=ye.unicode,Me=(ye.ignoreCase?"i":"")+(ye.multiline?"m":"")+(ye.unicode?"u":"")+(q?"g":"y"),De=new Be(q?"^(?:"+ye.source+")":ye,Me),Ze=ue===void 0?Z:ue>>>0;if(Ze===0)return[];if(be.length===0)return L(De,be)===null?[be]:[];for(var ee=0,J=0,ie=[];J<be.length;){De.lastIndex=q?0:J;var we,Te=L(De,q?X(be,J):be);if(Te===null||(we=F(T(De.lastIndex+(q?J:0)),be.length))===ee)J=P(be,J,qe);else{if(G(ie,X(be,ee,J)),ie.length===Ze)return ie;for(var xe=1;xe<=Te.length-1;xe++)if(G(ie,Te[xe]),ie.length===Ze)return ie;J=ee=we}}return G(ie,X(be,ee)),ie}]},!re,q)},function(a,c,o){var l=o(36),f=o(7),y=o(15),g=o(94),O=o(43),x=o(35),w=o(145),j=o(58),P=o(85),T=o(128),M=o(19),k=o(68).f,R=o(50).f,L=o(37).f,Y=o(197),Q=o(159).trim,V="Number",q=f.Number,Z=q.prototype,F=f.TypeError,I=y("".slice),z=y("".charCodeAt),G=function(Se){var ge=T(Se,"number");return typeof ge=="bigint"?ge:X(ge)},X=function(Se){var ge,ue,ye,be,je,Be,qe,Me,De=T(Se,"number");if(P(De))throw F("Cannot convert a Symbol value to a number");if(typeof De=="string"&&De.length>2){if(De=Q(De),(ge=z(De,0))===43||ge===45){if((ue=z(De,2))===88||ue===120)return NaN}else if(ge===48){switch(z(De,1)){case 66:case 98:ye=2,be=49;break;case 79:case 111:ye=8,be=55;break;default:return+De}for(Be=(je=I(De,2)).length,qe=0;qe<Be;qe++)if((Me=z(je,qe))<48||Me>be)return NaN;return parseInt(je,ye)}}return+De};if(g(V,!q(" 0o1")||!q("0b1")||q("+0x1"))){for(var re,de=function(Se){var ge=arguments.length<1?0:q(G(Se)),ue=this;return j(Z,ue)&&M(function(){Y(ue)})?w(Object(ge),ue,de):ge},le=l?k(q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ve=0;le.length>ve;ve++)x(q,re=le[ve])&&!x(de,re)&&L(de,re,R(q,re));de.prototype=Z,Z.constructor=de,O(f,V,de)}},function(a,c,o){o(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(a,c,o){var l=o(17),f=o(214),y=o(99);l({target:"Array",proto:!0},{fill:f}),y("fill")},function(a,c){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}a.exports=o},function(a,c,o){var l={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,y=f&&!l.call({1:2},1);c.f=y?function(g){var O=f(this,g);return!!O&&O.enumerable}:l},function(a,c,o){var l=o(7),f=o(15),y=o(19),g=o(51),O=l.Object,x=f("".split);a.exports=y(function(){return!O("z").propertyIsEnumerable(0)})?function(w){return g(w)=="String"?x(w,""):O(w)}:O},function(a,c,o){var l=o(128),f=o(85);a.exports=function(y){var g=l(y,"string");return f(g)?g:g+""}},function(a,c,o){var l=o(7),f=o(46),y=o(29),g=o(58),O=o(129),x=l.Object;a.exports=O?function(w){return typeof w=="symbol"}:function(w){var j=f("Symbol");return y(j)&&g(j.prototype,x(w))}},function(a,c,o){var l=o(7).String;a.exports=function(f){try{return l(f)}catch{return"Object"}}},function(a,c,o){var l=o(66),f=o(108);(a.exports=function(y,g){return f[y]||(f[y]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:l?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(a,c,o){var l=o(15),f=0,y=Math.random(),g=l(1 .toString);a.exports=function(O){return"Symbol("+(O===void 0?"":O)+")_"+g(++f+y,36)}},function(a,c,o){var l=o(7),f=o(32),y=l.document,g=f(y)&&f(y.createElement);a.exports=function(O){return g?y.createElement(O):{}}},function(a,c,o){var l=o(15),f=o(29),y=o(108),g=l(Function.toString);f(y.inspectSource)||(y.inspectSource=function(O){return g(O)}),a.exports=y.inspectSource},function(a,c,o){var l=o(87),f=o(88),y=l("keys");a.exports=function(g){return y[g]||(y[g]=f(g))}},function(a,c,o){var l=o(36),f=o(35),y=Function.prototype,g=l&&Object.getOwnPropertyDescriptor,O=f(y,"name"),x=O&&(function(){}).name==="something",w=O&&(!l||l&&g(y,"name").configurable);a.exports={EXISTS:O,PROPER:x,CONFIGURABLE:w}},function(a,c,o){var l=o(70),f=Math.min;a.exports=function(y){return y>0?f(l(y),9007199254740991):0}},function(a,c,o){var l=o(19),f=o(29),y=/#|\.prototype\./,g=function(P,T){var M=x[O(P)];return M==j||M!=w&&(f(T)?l(T):!!T)},O=g.normalize=function(P){return String(P).replace(y,".").toLowerCase()},x=g.data={},w=g.NATIVE="N",j=g.POLYFILL="P";a.exports=g},function(a,c,o){var l=o(51);a.exports=Array.isArray||function(f){return l(f)=="Array"}},function(a,c,o){var l=o(7),f=o(112),y=o(29),g=o(51),O=o(27)("toStringTag"),x=l.Object,w=g(function(){return arguments}())=="Arguments";a.exports=f?g:function(j){var P,T,M;return j===void 0?"Undefined":j===null?"Null":typeof(T=function(k,R){try{return k[R]}catch{}}(P=x(j),O))=="string"?T:w?g(P):(M=g(P))=="Object"&&y(P.callee)?"Arguments":M}},function(a,c,o){var l=o(15);a.exports=l([].slice)},function(a,c,o){var l=o(15),f=o(19),y=o(29),g=o(96),O=o(46),x=o(90),w=function(){},j=[],P=O("Reflect","construct"),T=/^\s*(?:class|function)\b/,M=l(T.exec),k=!T.exec(w),R=function(L){if(!y(L))return!1;try{return P(w,j,L),!0}catch{return!1}};a.exports=!P||f(function(){var L;return R(R.call)||!R(Object)||!R(function(){L=!0})||L})?function(L){if(!y(L))return!1;switch(g(L)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return k||!!M(T,x(L))}:R},function(a,c,o){var l=o(27),f=o(57),y=o(37),g=l("unscopables"),O=Array.prototype;O[g]==null&&y.f(O,g,{configurable:!0,value:f(null)}),a.exports=function(x){O[g][x]=!0}},function(a,c,o){var l=o(7),f=o(35),y=o(29),g=o(39),O=o(91),x=o(140),w=O("IE_PROTO"),j=l.Object,P=j.prototype;a.exports=x?j.getPrototypeOf:function(T){var M=g(T);if(f(M,w))return M[w];var k=M.constructor;return y(k)&&M instanceof k?k.prototype:M instanceof j?P:null}},function(a,c,o){var l=o(15),f=o(33),y=o(176);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,O=!1,x={};try{(g=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x,[]),O=x instanceof Array}catch{}return function(w,j){return f(w),y(j),O?g(w,j):w.__proto__=j,w}}():void 0)},function(a,c,o){var l,f,y=o(34),g=o(15),O=o(41),x=o(185),w=o(151),j=o(87),P=o(57),T=o(56).get,M=o(186),k=o(187),R=j("native-string-replace",String.prototype.replace),L=RegExp.prototype.exec,Y=L,Q=g("".charAt),V=g("".indexOf),q=g("".replace),Z=g("".slice),F=(f=/b*/g,y(L,l=/a/,"a"),y(L,f,"a"),l.lastIndex!==0||f.lastIndex!==0),I=w.BROKEN_CARET,z=/()??/.exec("")[1]!==void 0;(F||z||I||M||k)&&(Y=function(G){var X,re,de,le,ve,Se,ge,ue=this,ye=T(ue),be=O(G),je=ye.raw;if(je)return je.lastIndex=ue.lastIndex,X=y(Y,je,be),ue.lastIndex=je.lastIndex,X;var Be=ye.groups,qe=I&&ue.sticky,Me=y(x,ue),De=ue.source,Ze=0,ee=be;if(qe&&(Me=q(Me,"y",""),V(Me,"g")===-1&&(Me+="g"),ee=Z(be,ue.lastIndex),ue.lastIndex>0&&(!ue.multiline||ue.multiline&&Q(be,ue.lastIndex-1)!==`
`)&&(De="(?: "+De+")",ee=" "+ee,Ze++),re=new RegExp("^(?:"+De+")",Me)),z&&(re=new RegExp("^"+De+"$(?!\\s)",Me)),F&&(de=ue.lastIndex),le=y(L,qe?re:ue,ee),qe?le?(le.input=Z(le.input,Ze),le[0]=Z(le[0],Ze),le.index=ue.lastIndex,ue.lastIndex+=le[0].length):ue.lastIndex=0:F&&le&&(ue.lastIndex=ue.global?le.index+le[0].length:de),z&&le&&le.length>1&&y(R,le[0],re,function(){for(ve=1;ve<arguments.length-2;ve++)arguments[ve]===void 0&&(le[ve]=void 0)}),le&&Be)for(le.groups=Se=P(null),ve=0;ve<Be.length;ve++)Se[(ge=Be[ve])[0]]=le[ge[1]];return le}),a.exports=Y},function(a,c,o){var l=o(17),f=o(7),y=o(69),g=o(70),O=o(44),x=o(39),w=o(114),j=o(60),P=o(76)("splice"),T=f.TypeError,M=Math.max,k=Math.min,R=9007199254740991,L="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!P},{splice:function(Y,Q){var V,q,Z,F,I,z,G=x(this),X=O(G),re=y(Y,X),de=arguments.length;if(de===0?V=q=0:de===1?(V=0,q=X-re):(V=de-2,q=k(M(g(Q),0),X-re)),X+V-q>R)throw T(L);for(Z=w(G,q),F=0;F<q;F++)(I=re+F)in G&&j(Z,F,G[I]);if(Z.length=q,V<q){for(F=re;F<X-q;F++)z=F+V,(I=F+q)in G?G[z]=G[I]:delete G[z];for(F=X;F>X-q+V;F--)delete G[F-1]}else if(V>q)for(F=X-q;F>re;F--)z=F+V-1,(I=F+q-1)in G?G[z]=G[I]:delete G[z];for(F=0;F<V;F++)G[F+re]=arguments[F+2];return G.length=X-q+V,Z}})},function(a,c,o){var l=o(17),f=o(202);l({target:"String",proto:!0,forced:o(203)("anchor")},{anchor:function(y){return f(this,"a","name",y)}})},function(a,c,o){(function(l){var f=typeof l=="object"&&l&&l.Object===Object&&l;c.a=f}).call(this,o(81))},function(a,c,o){(function(l){var f=o(31),y=p&&!p.nodeType&&p,g=y&&typeof l=="object"&&l&&!l.nodeType&&l,O=g&&g.exports===y?f.a.Buffer:void 0,x=O?O.allocUnsafe:void 0;c.a=function(w,j){if(j)return w.slice();var P=w.length,T=x?x(P):new w.constructor(P);return w.copy(T),T}}).call(this,o(121)(a))},function(a,c,o){var l=o(65),f=o(19);a.exports=!!Object.getOwnPropertySymbols&&!f(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(a,c,o){var l=o(7),f=o(109),y="__core-js_shared__",g=l[y]||f(y,{});a.exports=g},function(a,c,o){var l=o(7),f=Object.defineProperty;a.exports=function(y,g){try{f(l,y,{value:g,configurable:!0,writable:!0})}catch{l[y]=g}return g}},function(a,c){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(a,c){c.f=Object.getOwnPropertySymbols},function(a,c,o){var l={};l[o(27)("toStringTag")]="z",a.exports=String(l)==="[object z]"},function(a,c,o){var l=o(7),f=o(69),y=o(44),g=o(60),O=l.Array,x=Math.max;a.exports=function(w,j,P){for(var T=y(w),M=f(j,T),k=f(P===void 0?T:P,T),R=O(x(k-M,0)),L=0;M<k;M++,L++)g(R,L,w[M]);return R.length=L,R}},function(a,c,o){var l=o(173);a.exports=function(f,y){return new(l(f))(y===0?0:y)}},function(a,c,o){var l=o(17),f=o(34),y=o(66),g=o(92),O=o(29),x=o(175),w=o(100),j=o(101),P=o(73),T=o(55),M=o(43),k=o(27),R=o(75),L=o(139),Y=g.PROPER,Q=g.CONFIGURABLE,V=L.IteratorPrototype,q=L.BUGGY_SAFARI_ITERATORS,Z=k("iterator"),F="keys",I="values",z="entries",G=function(){return this};a.exports=function(X,re,de,le,ve,Se,ge){x(de,re,le);var ue,ye,be,je=function(J){if(J===ve&&Ze)return Ze;if(!q&&J in Me)return Me[J];switch(J){case F:case I:case z:return function(){return new de(this,J)}}return function(){return new de(this)}},Be=re+" Iterator",qe=!1,Me=X.prototype,De=Me[Z]||Me["@@iterator"]||ve&&Me[ve],Ze=!q&&De||je(ve),ee=re=="Array"&&Me.entries||De;if(ee&&(ue=w(ee.call(new X)))!==Object.prototype&&ue.next&&(y||w(ue)===V||(j?j(ue,V):O(ue[Z])||M(ue,Z,G)),P(ue,Be,!0,!0),y&&(R[Be]=G)),Y&&ve==I&&De&&De.name!==I&&(!y&&Q?T(Me,"name",I):(qe=!0,Ze=function(){return f(De,this)})),ve)if(ye={values:je(I),keys:Se?Ze:je(F),entries:je(z)},ge)for(be in ye)(q||qe||!(be in Me))&&M(Me,be,ye[be]);else l({target:re,proto:!0,forced:q||qe},ye);return y&&!ge||Me[Z]===Ze||M(Me,Z,Ze,{name:ve}),R[re]=Ze,ye}},function(a,c,o){var l=o(7),f=o(61),y=o(34),g=o(33),O=o(86),x=o(142),w=o(44),j=o(58),P=o(143),T=o(117),M=o(144),k=l.TypeError,R=function(Y,Q){this.stopped=Y,this.result=Q},L=R.prototype;a.exports=function(Y,Q,V){var q,Z,F,I,z,G,X,re=V&&V.that,de=!(!V||!V.AS_ENTRIES),le=!(!V||!V.IS_ITERATOR),ve=!(!V||!V.INTERRUPTED),Se=f(Q,re),ge=function(ye){return q&&M(q,"normal",ye),new R(!0,ye)},ue=function(ye){return de?(g(ye),ve?Se(ye[0],ye[1],ge):Se(ye[0],ye[1])):ve?Se(ye,ge):Se(ye)};if(le)q=Y;else{if(!(Z=T(Y)))throw k(O(Y)+" is not iterable");if(x(Z)){for(F=0,I=w(Y);I>F;F++)if((z=ue(Y[F]))&&j(L,z))return z;return new R(!1)}q=P(Y,Z)}for(G=q.next;!(X=y(G,q)).done;){try{z=ue(X.value)}catch(ye){M(q,"throw",ye)}if(typeof z=="object"&&z&&j(L,z))return z}return new R(!1)}},function(a,c,o){var l=o(96),f=o(59),y=o(75),g=o(27)("iterator");a.exports=function(O){if(O!=null)return f(O,g)||f(O,"@@iterator")||y[l(O)]}},function(a,c,o){var l=o(7),f=o(58),y=l.TypeError;a.exports=function(g,O){if(f(O,g))return g;throw y("Incorrect invocation")}},function(a,c,o){var l=o(27)("iterator"),f=!1;try{var y=0,g={next:function(){return{done:!!y++}},return:function(){f=!0}};g[l]=function(){return this},Array.from(g,function(){throw 2})}catch{}a.exports=function(O,x){if(!x&&!f)return!1;var w=!1;try{var j={};j[l]=function(){return{next:function(){return{done:w=!0}}}},O(j)}catch{}return w}},function(a,c,o){var l=o(19);a.exports=function(f,y){var g=[][f];return!!g&&l(function(){g.call(null,y||function(){throw 1},1)})}},function(a,c){a.exports=function(o){if(!o.webpackPolyfill){var l=Object.create(o);l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),Object.defineProperty(l,"exports",{enumerable:!0}),l.webpackPolyfill=1}return l}},function(a,c,o){o(18);var l=o(15),f=o(43),y=o(102),g=o(19),O=o(27),x=o(55),w=O("species"),j=RegExp.prototype;a.exports=function(P,T,M,k){var R=O(P),L=!g(function(){var q={};return q[R]=function(){return 7},""[P](q)!=7}),Y=L&&!g(function(){var q=!1,Z=/a/;return P==="split"&&((Z={}).constructor={},Z.constructor[w]=function(){return Z},Z.flags="",Z[R]=/./[R]),Z.exec=function(){return q=!0,null},Z[R](""),!q});if(!L||!Y||M){var Q=l(/./[R]),V=T(R,""[P],function(q,Z,F,I,z){var G=l(q),X=Z.exec;return X===y||X===j.exec?L&&!z?{done:!0,value:Q(Z,F,I)}:{done:!0,value:G(F,Z,I)}:{done:!1}});f(String.prototype,P,V[0]),f(j,R,V[1])}k&&x(j[R],"sham",!0)}},function(a,c,o){var l=o(148).charAt;a.exports=function(f,y,g){return y+(g?l(f,y).length:1)}},function(a,c,o){var l=o(7),f=o(34),y=o(33),g=o(29),O=o(51),x=o(102),w=l.TypeError;a.exports=function(j,P){var T=j.exec;if(g(T)){var M=f(T,j,P);return M!==null&&y(M),M}if(O(j)==="RegExp")return f(x,j,P);throw w("RegExp#exec called on incompatible receiver")}},function(a,c,o){var l=o(71),f=o(34),y=o(15),g=o(122),O=o(19),x=o(33),w=o(29),j=o(70),P=o(93),T=o(41),M=o(45),k=o(123),R=o(59),L=o(198),Y=o(124),Q=o(27)("replace"),V=Math.max,q=Math.min,Z=y([].concat),F=y([].push),I=y("".indexOf),z=y("".slice),G="a".replace(/./,"$0")==="$0",X=!!/./[Q]&&/./[Q]("a","$0")==="";g("replace",function(re,de,le){var ve=X?"$":"$0";return[function(Se,ge){var ue=M(this),ye=Se==null?void 0:R(Se,Q);return ye?f(ye,Se,ue,ge):f(de,T(ue),Se,ge)},function(Se,ge){var ue=x(this),ye=T(Se);if(typeof ge=="string"&&I(ge,ve)===-1&&I(ge,"$<")===-1){var be=le(de,ue,ye,ge);if(be.done)return be.value}var je=w(ge);je||(ge=T(ge));var Be=ue.global;if(Be){var qe=ue.unicode;ue.lastIndex=0}for(var Me=[];;){var De=Y(ue,ye);if(De===null||(F(Me,De),!Be))break;T(De[0])===""&&(ue.lastIndex=k(ye,P(ue.lastIndex),qe))}for(var Ze,ee="",J=0,ie=0;ie<Me.length;ie++){for(var we=T((De=Me[ie])[0]),Te=V(q(j(De.index),ye.length),0),xe=[],Je=1;Je<De.length;Je++)F(xe,(Ze=De[Je])===void 0?Ze:String(Ze));var it=De.groups;if(je){var tt=Z([we],xe,Te,ye);it!==void 0&&F(tt,it);var Ye=T(l(ge,void 0,tt))}else Ye=L(we,ye,Te,xe,it,ge);Te>=J&&(ee+=z(ye,J,Te)+Ye,J=Te+we.length)}return ee+z(ye,J)}]},!!O(function(){var re=/./;return re.exec=function(){var de=[];return de.groups={a:"7"},de},"".replace(re,"$<a>")!=="7"})||!G||X)},function(a,c,o){var l=o(51),f=o(7);a.exports=l(f.process)=="process"},function(a,c,o){o(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(a,c,o){var l=o(7),f=o(34),y=o(32),g=o(85),O=o(59),x=o(169),w=o(27),j=l.TypeError,P=w("toPrimitive");a.exports=function(T,M){if(!y(T)||g(T))return T;var k,R=O(T,P);if(R){if(M===void 0&&(M="default"),k=f(R,T,M),!y(k)||g(k))return k;throw j("Can't convert object to primitive value")}return M===void 0&&(M="number"),x(T,M)}},function(a,c,o){var l=o(107);a.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(a,c,o){var l=o(36),f=o(19),y=o(89);a.exports=!l&&!f(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(a,c,o){var l=o(35),f=o(132),y=o(50),g=o(37);a.exports=function(O,x){for(var w=f(x),j=g.f,P=y.f,T=0;T<w.length;T++){var M=w[T];l(O,M)||j(O,M,P(x,M))}}},function(a,c,o){var l=o(46),f=o(15),y=o(68),g=o(111),O=o(33),x=f([].concat);a.exports=l("Reflect","ownKeys")||function(w){var j=y.f(O(w)),P=g.f;return P?x(j,P(w)):j}},function(a,c,o){var l=o(15),f=o(35),y=o(40),g=o(134).indexOf,O=o(67),x=l([].push);a.exports=function(w,j){var P,T=y(w),M=0,k=[];for(P in T)!f(O,P)&&f(T,P)&&x(k,P);for(;j.length>M;)f(T,P=j[M++])&&(~g(k,P)||x(k,P));return k}},function(a,c,o){var l=o(40),f=o(69),y=o(44),g=function(O){return function(x,w,j){var P,T=l(x),M=y(T),k=f(j,M);if(O&&w!=w){for(;M>k;)if((P=T[k++])!=P)return!0}else for(;M>k;k++)if((O||k in T)&&T[k]===w)return O||k||0;return!O&&-1}};a.exports={includes:g(!0),indexOf:g(!1)}},function(a,c,o){var l=o(46);a.exports=l("document","documentElement")},function(a,c,o){var l=o(51),f=o(40),y=o(68).f,g=o(113),O=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(x){return O&&l(x)=="Window"?function(w){try{return y(w)}catch{return g(O)}}(x):y(f(x))}},function(a,c,o){var l=o(27);c.f=l},function(a,c,o){var l=o(172),f=o(35),y=o(137),g=o(37).f;a.exports=function(O){var x=l.Symbol||(l.Symbol={});f(x,O)||g(x,O,{value:y.f(O)})}},function(a,c,o){var l,f,y,g=o(19),O=o(29),x=o(57),w=o(100),j=o(43),P=o(27),T=o(66),M=P("iterator"),k=!1;[].keys&&("next"in(y=[].keys())?(f=w(w(y)))!==Object.prototype&&(l=f):k=!0),l==null||g(function(){var R={};return l[M].call(R)!==R})?l={}:T&&(l=x(l)),O(l[M])||j(l,M,function(){return this}),a.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:k}},function(a,c,o){var l=o(19);a.exports=!l(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(a,c,o){var l=o(17),f=o(15),y=o(67),g=o(32),O=o(35),x=o(37).f,w=o(68),j=o(136),P=o(178),T=o(88),M=o(180),k=!1,R=T("meta"),L=0,Y=function(V){x(V,R,{value:{objectID:"O"+L++,weakData:{}}})},Q=a.exports={enable:function(){Q.enable=function(){},k=!0;var V=w.f,q=f([].splice),Z={};Z[R]=1,V(Z).length&&(w.f=function(F){for(var I=V(F),z=0,G=I.length;z<G;z++)if(I[z]===R){q(I,z,1);break}return I},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:j.f}))},fastKey:function(V,q){if(!g(V))return typeof V=="symbol"?V:(typeof V=="string"?"S":"P")+V;if(!O(V,R)){if(!P(V))return"F";if(!q)return"E";Y(V)}return V[R].objectID},getWeakData:function(V,q){if(!O(V,R)){if(!P(V))return!0;if(!q)return!1;Y(V)}return V[R].weakData},onFreeze:function(V){return M&&k&&P(V)&&!O(V,R)&&Y(V),V}};y[R]=!0},function(a,c,o){var l=o(27),f=o(75),y=l("iterator"),g=Array.prototype;a.exports=function(O){return O!==void 0&&(f.Array===O||g[y]===O)}},function(a,c,o){var l=o(7),f=o(34),y=o(54),g=o(33),O=o(86),x=o(117),w=l.TypeError;a.exports=function(j,P){var T=arguments.length<2?x(j):P;if(y(T))return g(f(T,j));throw w(O(j)+" is not iterable")}},function(a,c,o){var l=o(34),f=o(33),y=o(59);a.exports=function(g,O,x){var w,j;f(g);try{if(!(w=y(g,"return"))){if(O==="throw")throw x;return x}w=l(w,g)}catch(P){j=!0,w=P}if(O==="throw")throw x;if(j)throw w;return f(w),x}},function(a,c,o){var l=o(29),f=o(32),y=o(101);a.exports=function(g,O,x){var w,j;return y&&l(w=O.constructor)&&w!==x&&f(j=w.prototype)&&j!==x.prototype&&y(g,j),g}},function(a,c,o){var l=o(43);a.exports=function(f,y,g){for(var O in y)l(f,O,y[O],g);return f}},function(a,c,o){var l=o(46),f=o(37),y=o(27),g=o(36),O=y("species");a.exports=function(x){var w=l(x),j=f.f;g&&w&&!w[O]&&j(w,O,{configurable:!0,get:function(){return this}})}},function(a,c,o){var l=o(15),f=o(70),y=o(41),g=o(45),O=l("".charAt),x=l("".charCodeAt),w=l("".slice),j=function(P){return function(T,M){var k,R,L=y(g(T)),Y=f(M),Q=L.length;return Y<0||Y>=Q?P?"":void 0:(k=x(L,Y))<55296||k>56319||Y+1===Q||(R=x(L,Y+1))<56320||R>57343?P?O(L,Y):k:P?w(L,Y,Y+2):R-56320+(k-55296<<10)+65536}};a.exports={codeAt:j(!1),charAt:j(!0)}},function(a,c){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(a,c,o){var l=o(89)("span").classList,f=l&&l.constructor&&l.constructor.prototype;a.exports=f===Object.prototype?void 0:f},function(a,c,o){var l=o(19),f=o(7).RegExp,y=l(function(){var x=f("a","y");return x.lastIndex=2,x.exec("abcd")!=null}),g=y||l(function(){return!f("a","y").sticky}),O=y||l(function(){var x=f("^r","gy");return x.lastIndex=2,x.exec("str")!=null});a.exports={BROKEN_CARET:O,MISSED_STICKY:g,UNSUPPORTED_Y:y}},function(a,c,o){var l=o(17),f=o(134).includes,y=o(99);l({target:"Array",proto:!0},{includes:function(g){return f(this,g,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(a,c,o){var l=o(17),f=o(15),y=o(194),g=o(45),O=o(41),x=o(195),w=f("".indexOf);l({target:"String",proto:!0,forced:!x("includes")},{includes:function(j){return!!~w(O(g(this)),O(y(j)),arguments.length>1?arguments[1]:void 0)}})},function(a,c,o){var l=o(32),f=o(51),y=o(27)("match");a.exports=function(g){var O;return l(g)&&((O=g[y])!==void 0?!!O:f(g)=="RegExp")}},function(a,c){var o,l,f=a.exports={};function y(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function O(L){if(o===setTimeout)return setTimeout(L,0);if((o===y||!o)&&setTimeout)return o=setTimeout,setTimeout(L,0);try{return o(L,0)}catch{try{return o.call(null,L,0)}catch{return o.call(this,L,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:y}catch{o=y}try{l=typeof clearTimeout=="function"?clearTimeout:g}catch{l=g}})();var x,w=[],j=!1,P=-1;function T(){j&&x&&(j=!1,x.length?w=x.concat(w):P=-1,w.length&&M())}function M(){if(!j){var L=O(T);j=!0;for(var Y=w.length;Y;){for(x=w,w=[];++P<Y;)x&&x[P].run();P=-1,Y=w.length}x=null,j=!1,function(Q){if(l===clearTimeout)return clearTimeout(Q);if((l===g||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(Q);try{l(Q)}catch{try{return l.call(null,Q)}catch{return l.call(this,Q)}}}(L)}}function k(L,Y){this.fun=L,this.array=Y}function R(){}f.nextTick=function(L){var Y=new Array(arguments.length-1);if(arguments.length>1)for(var Q=1;Q<arguments.length;Q++)Y[Q-1]=arguments[Q];w.push(new k(L,Y)),w.length!==1||j||O(M)},k.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=R,f.addListener=R,f.once=R,f.off=R,f.removeListener=R,f.removeAllListeners=R,f.emit=R,f.prependListener=R,f.prependOnceListener=R,f.listeners=function(L){return[]},f.binding=function(L){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(L){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(a,c,o){var l=o(33),f=o(157),y=o(27)("species");a.exports=function(g,O){var x,w=l(g).constructor;return w===void 0||(x=l(w)[y])==null?O:f(x)}},function(a,c,o){var l=o(7),f=o(98),y=o(86),g=l.TypeError;a.exports=function(O){if(f(O))return O;throw g(y(O)+" is not a constructor")}},function(a,c,o){var l=o(17),f=o(159).trim;l({target:"String",proto:!0,forced:o(196)("trim")},{trim:function(){return f(this)}})},function(a,c,o){var l=o(15),f=o(45),y=o(41),g=o(160),O=l("".replace),x="["+g+"]",w=RegExp("^"+x+x+"*"),j=RegExp(x+x+"*$"),P=function(T){return function(M){var k=y(f(M));return 1&T&&(k=O(k,w,"")),2&T&&(k=O(k,j,"")),k}};a.exports={start:P(1),end:P(2),trim:P(3)}},function(a,c){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(a,c,o){var l=o(34),f=o(122),y=o(33),g=o(93),O=o(41),x=o(45),w=o(59),j=o(123),P=o(124);f("match",function(T,M,k){return[function(R){var L=x(this),Y=R==null?void 0:w(R,T);return Y?l(Y,R,L):new RegExp(R)[T](O(L))},function(R){var L=y(this),Y=O(R),Q=k(M,L,Y);if(Q.done)return Q.value;if(!L.global)return P(L,Y);var V=L.unicode;L.lastIndex=0;for(var q,Z=[],F=0;(q=P(L,Y))!==null;){var I=O(q[0]);Z[F]=I,I===""&&(L.lastIndex=j(Y,g(L.lastIndex),V)),F++}return F===0?null:Z}]})},function(a,c,o){var l=o(17),f=Math.hypot,y=Math.abs,g=Math.sqrt;l({target:"Math",stat:!0,forced:!!f&&f(1/0,NaN)!==1/0},{hypot:function(O,x){for(var w,j,P=0,T=0,M=arguments.length,k=0;T<M;)k<(w=y(arguments[T++]))?(P=P*(j=k/w)*j+1,k=w):P+=w>0?(j=w/k)*j:w;return k===1/0?1/0:k*g(P)}})},function(a,c,o){var l,f,y,g,O=o(7),x=o(71),w=o(61),j=o(29),P=o(35),T=o(19),M=o(135),k=o(97),R=o(89),L=o(164),Y=o(126),Q=O.setImmediate,V=O.clearImmediate,q=O.process,Z=O.Dispatch,F=O.Function,I=O.MessageChannel,z=O.String,G=0,X={},re="onreadystatechange";try{l=O.location}catch{}var de=function(ge){if(P(X,ge)){var ue=X[ge];delete X[ge],ue()}},le=function(ge){return function(){de(ge)}},ve=function(ge){de(ge.data)},Se=function(ge){O.postMessage(z(ge),l.protocol+"//"+l.host)};Q&&V||(Q=function(ge){var ue=k(arguments,1);return X[++G]=function(){x(j(ge)?ge:F(ge),void 0,ue)},f(G),G},V=function(ge){delete X[ge]},Y?f=function(ge){q.nextTick(le(ge))}:Z&&Z.now?f=function(ge){Z.now(le(ge))}:I&&!L?(g=(y=new I).port2,y.port1.onmessage=ve,f=w(g.postMessage,g)):O.addEventListener&&j(O.postMessage)&&!O.importScripts&&l&&l.protocol!=="file:"&&!T(Se)?(f=Se,O.addEventListener("message",ve,!1)):f=re in R("script")?function(ge){M.appendChild(R("script")).onreadystatechange=function(){M.removeChild(this),de(ge)}}:function(ge){setTimeout(le(ge),0)}),a.exports={set:Q,clear:V}},function(a,c,o){var l=o(53);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},function(a,c,o){var l=o(54),f=function(y){var g,O;this.promise=new y(function(x,w){if(g!==void 0||O!==void 0)throw TypeError("Bad Promise constructor");g=x,O=w}),this.resolve=l(g),this.reject=l(O)};a.exports.f=function(y){return new f(y)}},function(a,c,o){c.a=function(){return!1}},function(a,c,o){(function(l){o.d(c,"a",function(){return q});var f=o(1);function y(I){throw new Error("[mobx-utils] "+I)}function g(I,z){z===void 0&&(z="Illegal state"),I||y(z)}var O=function(I){return I&&I!==Object.prototype&&Object.getOwnPropertyNames(I).concat(O(Object.getPrototypeOf(I))||[])},x=function(I){return function(z){var G=O(z);return G.filter(function(X,re){return G.indexOf(X)===re})}(I).filter(function(z){return z!=="constructor"&&!~z.indexOf("__")})},w="pending",j="fulfilled",P="rejected";function T(I){switch(this.state){case w:return I.pending&&I.pending(this.value);case P:return I.rejected&&I.rejected(this.value);case j:return I.fulfilled?I.fulfilled(this.value):this.value}}function M(I,z){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof I=="function"||typeof I=="object"&&I&&typeof I.then=="function","Please pass a promise or function to fromPromise"),I.isPromiseBasedObservable===!0)return I;typeof I=="function"&&(I=new Promise(I));var G=I;I.then(Object(f.k)("observableFromPromise-resolve",function(re){G.value=re,G.state=j}),Object(f.k)("observableFromPromise-reject",function(re){G.value=re,G.state=P})),G.isPromiseBasedObservable=!0,G.case=T;var X=z&&z.state===j?z.value:void 0;return Object(f.q)(G,{value:X,state:w},{},{deep:!1}),G}(function(I){I.reject=Object(f.k)("fromPromise.reject",function(z){var G=I(Promise.reject(z));return G.state=P,G.value=z,G}),I.resolve=Object(f.k)("fromPromise.resolve",function(z){z===void 0&&(z=void 0);var G=I(Promise.resolve(z));return G.state=j,G.value=z,G})})(M||(M={}));var k=function(I,z,G,X){var re,de=arguments.length,le=de<3?z:X===null?X=Object.getOwnPropertyDescriptor(z,G):X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(I,z,G,X);else for(var ve=I.length-1;ve>=0;ve--)(re=I[ve])&&(le=(de<3?re(le):de>3?re(z,G,le):re(z,G))||le);return de>3&&le&&Object.defineProperty(z,G,le),le};(function(){function I(z,G){var X=this;Object(f.G)(function(){X.current=G,X.subscription=z.subscribe(X)})}I.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},I.prototype.next=function(z){this.current=z},I.prototype.complete=function(){this.dispose()},I.prototype.error=function(z){this.current=z,this.dispose()},k([f.C.ref],I.prototype,"current",void 0),k([f.k.bound],I.prototype,"next",null),k([f.k.bound],I.prototype,"complete",null),k([f.k.bound],I.prototype,"error",null)})();var R=function(){return R=Object.assign||function(I){for(var z,G=1,X=arguments.length;G<X;G++)for(var re in z=arguments[G])Object.prototype.hasOwnProperty.call(z,re)&&(I[re]=z[re]);return I},R.apply(this,arguments)},L=function(I,z,G,X){var re,de=arguments.length,le=de<3?z:X===null?X=Object.getOwnPropertyDescriptor(z,G):X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(I,z,G,X);else for(var ve=I.length-1;ve>=0;ve--)(re=I[ve])&&(le=(de<3?re(le):de>3?re(z,G,le):re(z,G))||le);return de>3&&le&&Object.defineProperty(z,G,le),le},Y=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function I(z){var G=this;this.model=z,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(X){return G.localValues.has(X)},g(Object(f.A)(z),"createViewModel expects an observable object"),x(z).forEach(function(X){if(X!==f.a&&X!=="__mobxDidRunLazyInitializers"){if(g(Y.indexOf(X)===-1,"The propertyname "+X+" is reserved and cannot be used with viewModels"),Object(f.w)(z,X)){var re=Object(f.h)(z,X).derivation;G.localComputedValues.set(X,Object(f.m)(re.bind(G)))}var de=Object.getOwnPropertyDescriptor(z,X),le=de?{enumerable:de.enumerable}:{};Object.defineProperty(G,X,R(R({},le),{configurable:!0,get:function(){return Object(f.w)(z,X)?G.localComputedValues.get(X).get():G.isPropertyDirty(X)?G.localValues.get(X):G.model[X]},set:Object(f.k)(function(ve){ve!==G.model[X]?G.localValues.set(X,ve):G.localValues.delete(X)})}))}})}Object.defineProperty(I.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),I.prototype.submit=function(){var z=this;Object(f.B)(this.localValues).forEach(function(G){var X=z.localValues.get(G),re=z.model[G];Object(f.y)(re)?re.replace(X):Object(f.z)(re)?(re.clear(),re.merge(X)):Object(f.v)(X)||(z.model[G]=X)}),this.localValues.clear()},I.prototype.reset=function(){this.localValues.clear()},I.prototype.resetProperty=function(z){this.localValues.delete(z)},L([f.m],I.prototype,"isDirty",null),L([f.m],I.prototype,"changedValues",null),L([f.k.bound],I.prototype,"submit",null),L([f.k.bound],I.prototype,"reset",null),L([f.k.bound],I.prototype,"resetProperty",null)})();function Q(I){if(!I)return"ROOT";for(var z=[];I.parent;)z.push(I.path),I=I.parent;return z.reverse().join("/")}function V(I){return Object(f.A)(I)||Object(f.y)(I)||Object(f.z)(I)}function q(I,z){var G=new WeakMap;function X(le){var ve=G.get(le.object);(function(Se,ge){switch(Se.type){case"add":re(Se.newValue,ge,Se.name);break;case"update":de(Se.oldValue),re(Se.newValue,ge,Se.name||""+Se.index);break;case"remove":case"delete":de(Se.oldValue);break;case"splice":Se.removed.map(de),Se.added.forEach(function(be,je){return re(be,ge,""+(Se.index+je))});for(var ue=Se.index+Se.addedCount;ue<Se.object.length;ue++)if(V(Se.object[ue])){var ye=G.get(Se.object[ue]);ye&&(ye.path=""+ue)}}})(le,ve),z(le,Q(ve),I)}function re(le,ve,Se){if(V(le)){var ge=G.get(le);if(ge){if(ge.parent!==ve||ge.path!==Se)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+Q(ve)+"/"+Se+"', but it already exists at '"+Q(ge.parent)+"/"+ge.path+"'")}else{var ue={parent:ve,path:Se,dispose:Object(f.D)(le,X)};G.set(le,ue),Object(f.p)(le).forEach(function(ye){var be=ye[0];return re(ye[1],ue,be)})}}}function de(le){if(V(le)){var ve=G.get(le);if(!ve)return;G.delete(le),ve.dispose(),Object(f.L)(le).forEach(de)}}return re(I,void 0,""),function(){de(I)}}var Z,F=(Z=function(I,z){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,X){G.__proto__=X}||function(G,X){for(var re in X)X.hasOwnProperty(re)&&(G[re]=X[re])},Z(I,z)},function(I,z){function G(){this.constructor=I}Z(I,z),I.prototype=z===null?Object.create(z):(G.prototype=z.prototype,new G)});(function(I){function z(G,X,re){var de=re===void 0?{}:re,le=de.name,ve=le===void 0?"ogm"+(1e3*Math.random()|0):le,Se=de.keyToName,ge=Se===void 0?function(be){return""+be}:Se,ue=I.call(this)||this;ue._keyToName=ge,ue._groupBy=X,ue._ogmInfoKey=Symbol("ogmInfo"+ve),ue._base=G;for(var ye=0;ye<G.length;ye++)ue._addItem(G[ye]);return ue._disposeBaseObserver=Object(f.D)(ue._base,function(be){if(be.type==="splice")Object(f.J)(function(){for(var je=0,Be=be.removed;je<Be.length;je++){var qe=Be[je];ue._removeItem(qe)}for(var Me=0,De=be.added;Me<De.length;Me++){var Ze=De[Me];ue._addItem(Ze)}});else{if(be.type!=="update")throw new Error("illegal state");Object(f.J)(function(){ue._removeItem(be.oldValue),ue._addItem(be.newValue)})}}),ue}F(z,I),z.prototype.clear=function(){throw new Error("not supported")},z.prototype.delete=function(G){throw new Error("not supported")},z.prototype.set=function(G,X){throw new Error("not supported")},z.prototype.dispose=function(){this._disposeBaseObserver();for(var G=0;G<this._base.length;G++){var X=this._base[G];X[this._ogmInfoKey].reaction(),delete X[this._ogmInfoKey]}},z.prototype._getGroupArr=function(G){var X=I.prototype.get.call(this,G);return X===void 0&&(X=Object(f.C)([],{name:"GroupArray["+this._keyToName(G)+"]",deep:!1}),I.prototype.set.call(this,G,X)),X},z.prototype._removeFromGroupArr=function(G,X){var re=I.prototype.get.call(this,G);re.length===1?I.prototype.delete.call(this,G):(X===re.length-1||(re[X]=re[re.length-1],re[X][this._ogmInfoKey].groupArrIndex=X),re.length--)},z.prototype._addItem=function(G){var X=this,re=this._groupBy(G),de=this._getGroupArr(re),le={groupByValue:re,groupArrIndex:de.length,reaction:Object(f.F)(function(){return X._groupBy(G)},function(ve,Se){var ge=G[X._ogmInfoKey];X._removeFromGroupArr(ge.groupByValue,ge.groupArrIndex);var ue=X._getGroupArr(ve),ye=ue.length;ue.push(G),ge.groupByValue=ve,ge.groupArrIndex=ye})};Object.defineProperty(G,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:le}),de.push(G)},z.prototype._removeItem=function(G){var X=G[this._ogmInfoKey];this._removeFromGroupArr(X.groupByValue,X.groupArrIndex),X.reaction(),delete G[this._ogmInfoKey]}})(f.b),function(){function I(z,G){this.base=z,this.args=G,this.closestIdx=0,this.isDisposed=!1;for(var X=this.closest=this.root=z,re=0;re<this.args.length-1&&(X=X.get(G[re]));re++)this.closest=X;this.closestIdx=re}return I.prototype.exists=function(){this.assertNotDisposed();var z=this.args.length;return this.closestIdx>=z-1&&this.closest.has(this.args[z-1])},I.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},I.prototype.set=function(z){this.assertNotDisposed();for(var G=this.args.length,X=this.closest,re=this.closestIdx;re<G-1;re++){var de=new Map;X.set(this.args[re],de),X=de}this.closestIdx=G-1,this.closest=X,X.set(this.args[G-1],z)},I.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var z=this.args.length;this.closest.delete(this.args[z-1]);for(var G=this.root,X=[G],re=0;re<z-1;re++)G=G.get(this.args[re]),X.push(G);for(re=X.length-1;re>0;re--)X[re].size===0&&X[re-1].delete(this.args[re-1]);this.isDisposed=!0},I.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},I}(),Promise.resolve(),typeof queueMicrotask<"u"||l!==void 0&&l.nextTick}).call(this,o(155))},function(a,c,o){var l;(function(f,y,g){if(f){for(var O,x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},T=1;T<20;++T)x[111+T]="f"+T;for(T=0;T<=9;++T)x[T+96]=T.toString();V.prototype.bind=function(q,Z,F){var I=this;return q=q instanceof Array?q:[q],I._bindMultiple.call(I,q,Z,F),I},V.prototype.unbind=function(q,Z){return this.bind.call(this,q,function(){},Z)},V.prototype.trigger=function(q,Z){var F=this;return F._directMap[q+":"+Z]&&F._directMap[q+":"+Z]({},q),F},V.prototype.reset=function(){var q=this;return q._callbacks={},q._directMap={},q},V.prototype.stopCallback=function(q,Z){if((" "+Z.className+" ").indexOf(" mousetrap ")>-1||Q(Z,this.target))return!1;if("composedPath"in q&&typeof q.composedPath=="function"){var F=q.composedPath()[0];F!==q.target&&(Z=F)}return Z.tagName=="INPUT"||Z.tagName=="SELECT"||Z.tagName=="TEXTAREA"||Z.isContentEditable},V.prototype.handleKey=function(){var q=this;return q._handleKey.apply(q,arguments)},V.addKeycodes=function(q){for(var Z in q)q.hasOwnProperty(Z)&&(x[Z]=q[Z]);O=null},V.init=function(){var q=V(y);for(var Z in q)Z.charAt(0)!=="_"&&(V[Z]=function(F){return function(){return q[F].apply(q,arguments)}}(Z))},V.init(),f.Mousetrap=V,a.exports&&(a.exports=V),(l=(function(){return V}).call(c,o,c,a))===void 0||(a.exports=l)}function M(q,Z,F){q.addEventListener?q.addEventListener(Z,F,!1):q.attachEvent("on"+Z,F)}function k(q){if(q.type=="keypress"){var Z=String.fromCharCode(q.which);return q.shiftKey||(Z=Z.toLowerCase()),Z}return x[q.which]?x[q.which]:w[q.which]?w[q.which]:String.fromCharCode(q.which).toLowerCase()}function R(q){return q=="shift"||q=="ctrl"||q=="alt"||q=="meta"}function L(q,Z,F){return F||(F=function(){if(!O)for(var I in O={},x)I>95&&I<112||x.hasOwnProperty(I)&&(O[x[I]]=I);return O}()[q]?"keydown":"keypress"),F=="keypress"&&Z.length&&(F="keydown"),F}function Y(q,Z){var F,I,z,G=[];for(F=function(X){return X==="+"?["+"]:(X=X.replace(/\+{2}/g,"+plus")).split("+")}(q),z=0;z<F.length;++z)I=F[z],P[I]&&(I=P[I]),Z&&Z!="keypress"&&j[I]&&(I=j[I],G.push("shift")),R(I)&&G.push(I);return{key:I,modifiers:G,action:Z=L(I,G,Z)}}function Q(q,Z){return q!==null&&q!==y&&(q===Z||Q(q.parentNode,Z))}function V(q){var Z=this;if(q=q||y,!(Z instanceof V))return new V(q);Z.target=q,Z._callbacks={},Z._directMap={};var F,I={},z=!1,G=!1,X=!1;function re(ue){ue=ue||{};var ye,be=!1;for(ye in I)ue[ye]?be=!0:I[ye]=0;be||(X=!1)}function de(ue,ye,be,je,Be,qe){var Me,De,Ze,ee,J=[],ie=be.type;if(!Z._callbacks[ue])return[];for(ie=="keyup"&&R(ue)&&(ye=[ue]),Me=0;Me<Z._callbacks[ue].length;++Me)if(De=Z._callbacks[ue][Me],(je||!De.seq||I[De.seq]==De.level)&&ie==De.action&&(ie=="keypress"&&!be.metaKey&&!be.ctrlKey||(Ze=ye,ee=De.modifiers,Ze.sort().join(",")===ee.sort().join(",")))){var we=!je&&De.combo==Be,Te=je&&De.seq==je&&De.level==qe;(we||Te)&&Z._callbacks[ue].splice(Me,1),J.push(De)}return J}function le(ue,ye,be,je){Z.stopCallback(ye,ye.target||ye.srcElement,be,je)||ue(ye,be)===!1&&(function(Be){Be.preventDefault?Be.preventDefault():Be.returnValue=!1}(ye),function(Be){Be.stopPropagation?Be.stopPropagation():Be.cancelBubble=!0}(ye))}function ve(ue){typeof ue.which!="number"&&(ue.which=ue.keyCode);var ye=k(ue);ye&&(ue.type!="keyup"||z!==ye?Z.handleKey(ye,function(be){var je=[];return be.shiftKey&&je.push("shift"),be.altKey&&je.push("alt"),be.ctrlKey&&je.push("ctrl"),be.metaKey&&je.push("meta"),je}(ue),ue):z=!1)}function Se(ue,ye,be,je){function Be(Ze){return function(){X=Ze,++I[ue],clearTimeout(F),F=setTimeout(re,1e3)}}function qe(Ze){le(be,Ze,ue),je!=="keyup"&&(z=k(Ze)),setTimeout(re,10)}I[ue]=0;for(var Me=0;Me<ye.length;++Me){var De=Me+1===ye.length?qe:Be(je||Y(ye[Me+1]).action);ge(ye[Me],De,je,ue,Me)}}function ge(ue,ye,be,je,Be){Z._directMap[ue+":"+be]=ye;var qe,Me=(ue=ue.replace(/\s+/g," ")).split(" ");Me.length>1?Se(ue,Me,ye,be):(qe=Y(ue,be),Z._callbacks[qe.key]=Z._callbacks[qe.key]||[],de(qe.key,qe.modifiers,{type:qe.action},je,ue,Be),Z._callbacks[qe.key][je?"unshift":"push"]({callback:ye,modifiers:qe.modifiers,action:qe.action,seq:je,level:Be,combo:ue}))}Z._handleKey=function(ue,ye,be){var je,Be=de(ue,ye,be),qe={},Me=0,De=!1;for(je=0;je<Be.length;++je)Be[je].seq&&(Me=Math.max(Me,Be[je].level));for(je=0;je<Be.length;++je)if(Be[je].seq){if(Be[je].level!=Me)continue;De=!0,qe[Be[je].seq]=1,le(Be[je].callback,be,Be[je].combo,Be[je].seq)}else De||le(Be[je].callback,be,Be[je].combo);var Ze=be.type=="keypress"&&G;be.type!=X||R(ue)||Ze||re(qe),G=De&&be.type=="keydown"},Z._bindMultiple=function(ue,ye,be){for(var je=0;je<ue.length;++je)ge(ue[je],ye,be)},M(q,"keypress",ve),M(q,"keydown",ve),M(q,"keyup",ve)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(a,c,o){var l=o(7),f=o(34),y=o(29),g=o(32),O=l.TypeError;a.exports=function(x,w){var j,P;if(w==="string"&&y(j=x.toString)&&!g(P=f(j,x))||y(j=x.valueOf)&&!g(P=f(j,x))||w!=="string"&&y(j=x.toString)&&!g(P=f(j,x)))return P;throw O("Can't convert object to primitive value")}},function(a,c,o){var l=o(7),f=o(29),y=o(90),g=l.WeakMap;a.exports=f(g)&&/native code/.test(y(g))},function(a,c,o){var l=o(36),f=o(37),y=o(33),g=o(40),O=o(72);a.exports=l?Object.defineProperties:function(x,w){y(x);for(var j,P=g(w),T=O(w),M=T.length,k=0;M>k;)f.f(x,j=T[k++],P[j]);return x}},function(a,c,o){var l=o(7);a.exports=l},function(a,c,o){var l=o(7),f=o(95),y=o(98),g=o(32),O=o(27)("species"),x=l.Array;a.exports=function(w){var j;return f(w)&&(j=w.constructor,(y(j)&&(j===x||f(j.prototype))||g(j)&&(j=j[O])===null)&&(j=void 0)),j===void 0?x:j}},function(a,c,o){var l=o(112),f=o(96);a.exports=l?{}.toString:function(){return"[object "+f(this)+"]"}},function(a,c,o){var l=o(139).IteratorPrototype,f=o(57),y=o(64),g=o(73),O=o(75),x=function(){return this};a.exports=function(w,j,P,T){var M=j+" Iterator";return w.prototype=f(l,{next:y(+!T,P)}),g(w,M,!1,!0),O[M]=x,w}},function(a,c,o){var l=o(7),f=o(29),y=l.String,g=l.TypeError;a.exports=function(O){if(typeof O=="object"||f(O))return O;throw g("Can't set "+y(O)+" as a prototype")}},function(a,c,o){var l=o(17),f=o(7),y=o(15),g=o(94),O=o(43),x=o(141),w=o(116),j=o(118),P=o(29),T=o(32),M=o(19),k=o(119),R=o(73),L=o(145);a.exports=function(Y,Q,V){var q=Y.indexOf("Map")!==-1,Z=Y.indexOf("Weak")!==-1,F=q?"set":"add",I=f[Y],z=I&&I.prototype,G=I,X={},re=function(ue){var ye=y(z[ue]);O(z,ue,ue=="add"?function(be){return ye(this,be===0?0:be),this}:ue=="delete"?function(be){return!(Z&&!T(be))&&ye(this,be===0?0:be)}:ue=="get"?function(be){return Z&&!T(be)?void 0:ye(this,be===0?0:be)}:ue=="has"?function(be){return!(Z&&!T(be))&&ye(this,be===0?0:be)}:function(be,je){return ye(this,be===0?0:be,je),this})};if(g(Y,!P(I)||!(Z||z.forEach&&!M(function(){new I().entries().next()}))))G=V.getConstructor(Q,Y,q,F),x.enable();else if(g(Y,!0)){var de=new G,le=de[F](Z?{}:-0,1)!=de,ve=M(function(){de.has(1)}),Se=k(function(ue){new I(ue)}),ge=!Z&&M(function(){for(var ue=new I,ye=5;ye--;)ue[F](ye,ye);return!ue.has(-0)});Se||((G=Q(function(ue,ye){j(ue,z);var be=L(new I,ue,G);return ye!=null&&w(ye,be[F],{that:be,AS_ENTRIES:q}),be})).prototype=z,z.constructor=G),(ve||ge)&&(re("delete"),re("has"),q&&re("get")),(ge||le)&&re(F),Z&&z.clear&&delete z.clear}return X[Y]=G,l({global:!0,forced:G!=I},X),R(G,Y),Z||V.setStrong(G,Y,q),G}},function(a,c,o){var l=o(19),f=o(32),y=o(51),g=o(179),O=Object.isExtensible,x=l(function(){});a.exports=x||g?function(w){return!!f(w)&&(!g||y(w)!="ArrayBuffer")&&(!O||O(w))}:O},function(a,c,o){var l=o(19);a.exports=l(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(a,c,o){var l=o(19);a.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(a,c,o){var l=o(37).f,f=o(57),y=o(146),g=o(61),O=o(118),x=o(116),w=o(115),j=o(147),P=o(36),T=o(141).fastKey,M=o(56),k=M.set,R=M.getterFor;a.exports={getConstructor:function(L,Y,Q,V){var q=L(function(G,X){O(G,Z),k(G,{type:Y,index:f(null),first:void 0,last:void 0,size:0}),P||(G.size=0),X!=null&&x(X,G[V],{that:G,AS_ENTRIES:Q})}),Z=q.prototype,F=R(Y),I=function(G,X,re){var de,le,ve=F(G),Se=z(G,X);return Se?Se.value=re:(ve.last=Se={index:le=T(X,!0),key:X,value:re,previous:de=ve.last,next:void 0,removed:!1},ve.first||(ve.first=Se),de&&(de.next=Se),P?ve.size++:G.size++,le!=="F"&&(ve.index[le]=Se)),G},z=function(G,X){var re,de=F(G),le=T(X);if(le!=="F")return de.index[le];for(re=de.first;re;re=re.next)if(re.key==X)return re};return y(Z,{clear:function(){for(var G=F(this),X=G.index,re=G.first;re;)re.removed=!0,re.previous&&(re.previous=re.previous.next=void 0),delete X[re.index],re=re.next;G.first=G.last=void 0,P?G.size=0:this.size=0},delete:function(G){var X=this,re=F(X),de=z(X,G);if(de){var le=de.next,ve=de.previous;delete re.index[de.index],de.removed=!0,ve&&(ve.next=le),le&&(le.previous=ve),re.first==de&&(re.first=le),re.last==de&&(re.last=ve),P?re.size--:X.size--}return!!de},forEach:function(G){for(var X,re=F(this),de=g(G,arguments.length>1?arguments[1]:void 0);X=X?X.next:re.first;)for(de(X.value,X.key,this);X&&X.removed;)X=X.previous},has:function(G){return!!z(this,G)}}),y(Z,Q?{get:function(G){var X=z(this,G);return X&&X.value},set:function(G,X){return I(this,G===0?0:G,X)}}:{add:function(G){return I(this,G=G===0?0:G,G)}}),P&&l(Z,"size",{get:function(){return F(this).size}}),q},setStrong:function(L,Y,Q){var V=Y+" Iterator",q=R(Y),Z=R(V);w(L,Y,function(F,I){k(this,{type:V,target:F,state:q(F),kind:I,last:void 0})},function(){for(var F=Z(this),I=F.kind,z=F.last;z&&z.removed;)z=z.previous;return F.target&&(F.last=z=z?z.next:F.state.first)?I=="keys"?{value:z.key,done:!1}:I=="values"?{value:z.value,done:!1}:{value:[z.key,z.value],done:!1}:(F.target=void 0,{value:void 0,done:!0})},Q?"entries":"values",!Q,!0),j(Y)}}},function(a,c,o){var l=o(74).forEach,f=o(120)("forEach");a.exports=f?[].forEach:function(y){return l(this,y,arguments.length>1?arguments[1]:void 0)}},function(a,c,o){var l=o(7),f=o(61),y=o(34),g=o(39),O=o(184),x=o(142),w=o(98),j=o(44),P=o(60),T=o(143),M=o(117),k=l.Array;a.exports=function(R){var L=g(R),Y=w(this),Q=arguments.length,V=Q>1?arguments[1]:void 0,q=V!==void 0;q&&(V=f(V,Q>2?arguments[2]:void 0));var Z,F,I,z,G,X,re=M(L),de=0;if(!re||this==k&&x(re))for(Z=j(L),F=Y?new this(Z):k(Z);Z>de;de++)X=q?V(L[de],de):L[de],P(F,de,X);else for(G=(z=T(L,re)).next,F=Y?new this:[];!(I=y(G,z)).done;de++)X=q?O(z,V,[I.value,de],!0):I.value,P(F,de,X);return F.length=de,F}},function(a,c,o){var l=o(33),f=o(144);a.exports=function(y,g,O,x){try{return x?g(l(O)[0],O[1]):g(O)}catch(w){f(y,"throw",w)}}},function(a,c,o){var l=o(33);a.exports=function(){var f=l(this),y="";return f.global&&(y+="g"),f.ignoreCase&&(y+="i"),f.multiline&&(y+="m"),f.dotAll&&(y+="s"),f.unicode&&(y+="u"),f.sticky&&(y+="y"),y}},function(a,c,o){var l=o(19),f=o(7).RegExp;a.exports=l(function(){var y=f(".","s");return!(y.dotAll&&y.exec(`
`)&&y.flags==="s")})},function(a,c,o){var l=o(19),f=o(7).RegExp;a.exports=l(function(){var y=f("(?<a>b)","g");return y.exec("b").groups.a!=="b"||"b".replace(y,"$<a>c")!=="bc"})},function(a,c,o){var l=o(17),f=o(15),y=o(54),g=o(39),O=o(44),x=o(41),w=o(19),j=o(189),P=o(120),T=o(190),M=o(191),k=o(65),R=o(192),L=[],Y=f(L.sort),Q=f(L.push),V=w(function(){L.sort(void 0)}),q=w(function(){L.sort(null)}),Z=P("sort"),F=!w(function(){if(k)return k<70;if(!(T&&T>3)){if(M)return!0;if(R)return R<603;var I,z,G,X,re="";for(I=65;I<76;I++){switch(z=String.fromCharCode(I),I){case 66:case 69:case 70:case 72:G=3;break;case 68:case 71:G=4;break;default:G=2}for(X=0;X<47;X++)L.push({k:z+X,v:G})}for(L.sort(function(de,le){return le.v-de.v}),X=0;X<L.length;X++)z=L[X].k.charAt(0),re.charAt(re.length-1)!==z&&(re+=z);return re!=="DGBEFHACIJK"}});l({target:"Array",proto:!0,forced:V||!q||!Z||!F},{sort:function(I){I!==void 0&&y(I);var z=g(this);if(F)return I===void 0?Y(z):Y(z,I);var G,X,re=[],de=O(z);for(X=0;X<de;X++)X in z&&Q(re,z[X]);for(j(re,function(le){return function(ve,Se){return Se===void 0?-1:ve===void 0?1:le!==void 0?+le(ve,Se)||0:x(ve)>x(Se)?1:-1}}(I)),G=re.length,X=0;X<G;)z[X]=re[X++];for(;X<de;)delete z[X++];return z}})},function(a,c,o){var l=o(113),f=Math.floor,y=function(x,w){var j=x.length,P=f(j/2);return j<8?g(x,w):O(x,y(l(x,0,P),w),y(l(x,P),w),w)},g=function(x,w){for(var j,P,T=x.length,M=1;M<T;){for(P=M,j=x[M];P&&w(x[P-1],j)>0;)x[P]=x[--P];P!==M++&&(x[P]=j)}return x},O=function(x,w,j,P){for(var T=w.length,M=j.length,k=0,R=0;k<T||R<M;)x[k+R]=k<T&&R<M?P(w[k],j[R])<=0?w[k++]:j[R++]:k<T?w[k++]:j[R++];return x};a.exports=y},function(a,c,o){var l=o(53).match(/firefox\/(\d+)/i);a.exports=!!l&&+l[1]},function(a,c,o){var l=o(53);a.exports=/MSIE|Trident/.test(l)},function(a,c,o){var l=o(53).match(/AppleWebKit\/(\d+)\./);a.exports=!!l&&+l[1]},function(a,c,o){var l=o(17),f=o(74).find,y=o(99),g="find",O=!0;g in[]&&Array(1).find(function(){O=!1}),l({target:"Array",proto:!0,forced:O},{find:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}}),y(g)},function(a,c,o){var l=o(7),f=o(154),y=l.TypeError;a.exports=function(g){if(f(g))throw y("The method doesn't accept regular expressions");return g}},function(a,c,o){var l=o(27)("match");a.exports=function(f){var y=/./;try{"/./"[f](y)}catch{try{return y[l]=!1,"/./"[f](y)}catch{}}return!1}},function(a,c,o){var l=o(92).PROPER,f=o(19),y=o(160);a.exports=function(g){return f(function(){return!!y[g]()||"​᠎"[g]()!=="​᠎"||l&&y[g].name!==g})}},function(a,c,o){var l=o(15);a.exports=l(1 .valueOf)},function(a,c,o){var l=o(15),f=o(39),y=Math.floor,g=l("".charAt),O=l("".replace),x=l("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,j=/\$([$&'`]|\d{1,2})/g;a.exports=function(P,T,M,k,R,L){var Y=M+P.length,Q=k.length,V=j;return R!==void 0&&(R=f(R),V=w),O(L,V,function(q,Z){var F;switch(g(Z,0)){case"$":return"$";case"&":return P;case"`":return x(T,0,M);case"'":return x(T,Y);case"<":F=R[x(Z,1,-1)];break;default:var I=+Z;if(I===0)return q;if(I>Q){var z=y(I/10);return z===0?q:z<=Q?k[z-1]===void 0?g(Z,1):k[z-1]+g(Z,1):q}F=k[I-1]}return F===void 0?"":F})}},function(a,c,o){var l=o(36),f=o(15),y=o(34),g=o(19),O=o(72),x=o(111),w=o(82),j=o(39),P=o(83),T=Object.assign,M=Object.defineProperty,k=f([].concat);a.exports=!T||g(function(){if(l&&T({b:1},T(M({},"a",{enumerable:!0,get:function(){M(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var R={},L={},Y=Symbol(),Q="abcdefghijklmnopqrst";return R[Y]=7,Q.split("").forEach(function(V){L[V]=V}),T({},R)[Y]!=7||O(T({},L)).join("")!=Q})?function(R,L){for(var Y=j(R),Q=arguments.length,V=1,q=x.f,Z=w.f;Q>V;)for(var F,I=P(arguments[V++]),z=q?k(O(I),q(I)):O(I),G=z.length,X=0;G>X;)F=z[X++],l&&!y(Z,I,F)||(Y[F]=I[F]);return Y}:T},function(a,c,o){var l=o(7),f=o(15),y=o(54),g=o(32),O=o(35),x=o(97),w=l.Function,j=f([].concat),P=f([].join),T={},M=function(k,R,L){if(!O(T,R)){for(var Y=[],Q=0;Q<R;Q++)Y[Q]="a["+Q+"]";T[R]=w("C,a","return new C("+P(Y,",")+")")}return T[R](k,L)};a.exports=w.bind||function(k){var R=y(this),L=R.prototype,Y=x(arguments,1),Q=function(){var V=j(Y,x(arguments));return this instanceof Q?M(R,V.length,V):R.apply(k,V)};return g(L)&&(Q.prototype=L),Q}},function(a,c,o){var l=o(35);a.exports=function(f){return f!==void 0&&(l(f,"value")||l(f,"writable"))}},function(a,c,o){var l=o(15),f=o(45),y=o(41),g=/"/g,O=l("".replace);a.exports=function(x,w,j,P){var T=y(f(x)),M="<"+w;return j!==""&&(M+=" "+j+'="'+O(y(P),g,"&quot;")+'"'),M+">"+T+"</"+w+">"}},function(a,c,o){var l=o(19);a.exports=function(f){return l(function(){var y=""[f]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(a,c,o){var l,f,y,g,O=o(17),x=o(66),w=o(7),j=o(46),P=o(34),T=o(205),M=o(43),k=o(146),R=o(101),L=o(73),Y=o(147),Q=o(54),V=o(29),q=o(32),Z=o(118),F=o(90),I=o(116),z=o(119),G=o(156),X=o(163).set,re=o(206),de=o(209),le=o(210),ve=o(165),Se=o(211),ge=o(56),ue=o(94),ye=o(27),be=o(212),je=o(126),Be=o(65),qe=ye("species"),Me="Promise",De=ge.getterFor(Me),Ze=ge.set,ee=ge.getterFor(Me),J=T&&T.prototype,ie=T,we=J,Te=w.TypeError,xe=w.document,Je=w.process,it=ve.f,tt=it,Ye=!!(xe&&xe.createEvent&&w.dispatchEvent),me=V(w.PromiseRejectionEvent),He="unhandledrejection",ne=!1,ze=ue(Me,function(){var $=F(ie),ce=$!==String(ie);if(!ce&&Be===66||x&&!we.finally)return!0;if(Be>=51&&/native code/.test($))return!1;var Ae=new ie(function(We){We(1)}),ke=function(We){We(function(){},function(){})};return(Ae.constructor={})[qe]=ke,!(ne=Ae.then(function(){})instanceof ke)||!ce&&be&&!me}),lt=ze||!z(function($){ie.all($).catch(function(){})}),Ot=function($){var ce;return!(!q($)||!V(ce=$.then))&&ce},st=function($,ce){if(!$.notified){$.notified=!0;var Ae=$.reactions;re(function(){for(var ke=$.value,We=$.state==1,ht=0;Ae.length>ht;){var qt,rn,Xt,Ut=Ae[ht++],Fe=We?Ut.ok:Ut.fail,Ve=Ut.resolve,rt=Ut.reject,at=Ut.domain;try{Fe?(We||($.rejection===2&&ct($),$.rejection=1),Fe===!0?qt=ke:(at&&at.enter(),qt=Fe(ke),at&&(at.exit(),Xt=!0)),qt===Ut.promise?rt(Te("Promise-chain cycle")):(rn=Ot(qt))?P(rn,qt,Ve,rt):Ve(qt)):rt(ke)}catch(Pt){at&&!Xt&&at.exit(),rt(Pt)}}$.reactions=[],$.notified=!1,ce&&!$.rejection&&kt($)})}},mt=function($,ce,Ae){var ke,We;Ye?((ke=xe.createEvent("Event")).promise=ce,ke.reason=Ae,ke.initEvent($,!1,!0),w.dispatchEvent(ke)):ke={promise:ce,reason:Ae},!me&&(We=w["on"+$])?We(ke):$===He&&le("Unhandled promise rejection",Ae)},kt=function($){P(X,w,function(){var ce,Ae=$.facade,ke=$.value;if(Ct($)&&(ce=Se(function(){je?Je.emit("unhandledRejection",ke,Ae):mt(He,Ae,ke)}),$.rejection=je||Ct($)?2:1,ce.error))throw ce.value})},Ct=function($){return $.rejection!==1&&!$.parent},ct=function($){P(X,w,function(){var ce=$.facade;je?Je.emit("rejectionHandled",ce):mt("rejectionhandled",ce,$.value)})},Ht=function($,ce,Ae){return function(ke){$(ce,ke,Ae)}},W=function($,ce,Ae){$.done||($.done=!0,Ae&&($=Ae),$.value=ce,$.state=2,st($,!0))},oe=function($,ce,Ae){if(!$.done){$.done=!0,Ae&&($=Ae);try{if($.facade===ce)throw Te("Promise can't be resolved itself");var ke=Ot(ce);ke?re(function(){var We={done:!1};try{P(ke,ce,Ht(oe,We,$),Ht(W,We,$))}catch(ht){W(We,ht,$)}}):($.value=ce,$.state=1,st($,!1))}catch(We){W({done:!1},We,$)}}};if(ze&&(we=(ie=function($){Z(this,we),Q($),P(l,this);var ce=De(this);try{$(Ht(oe,ce),Ht(W,ce))}catch(Ae){W(ce,Ae)}}).prototype,(l=function($){Ze(this,{type:Me,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=k(we,{then:function($,ce){var Ae=ee(this),ke=Ae.reactions,We=it(G(this,ie));return We.ok=!V($)||$,We.fail=V(ce)&&ce,We.domain=je?Je.domain:void 0,Ae.parent=!0,ke[ke.length]=We,Ae.state!=0&&st(Ae,!1),We.promise},catch:function($){return this.then(void 0,$)}}),f=function(){var $=new l,ce=De($);this.promise=$,this.resolve=Ht(oe,ce),this.reject=Ht(W,ce)},ve.f=it=function($){return $===ie||$===y?new f($):tt($)},!x&&V(T)&&J!==Object.prototype)){g=J.then,ne||(M(J,"then",function($,ce){var Ae=this;return new ie(function(ke,We){P(g,Ae,ke,We)}).then($,ce)},{unsafe:!0}),M(J,"catch",we.catch,{unsafe:!0}));try{delete J.constructor}catch{}R&&R(J,we)}O({global:!0,wrap:!0,forced:ze},{Promise:ie}),L(ie,Me,!1,!0),Y(Me),y=j(Me),O({target:Me,stat:!0,forced:ze},{reject:function($){var ce=it(this);return P(ce.reject,void 0,$),ce.promise}}),O({target:Me,stat:!0,forced:x||ze},{resolve:function($){return de(x&&this===y?ie:this,$)}}),O({target:Me,stat:!0,forced:lt},{all:function($){var ce=this,Ae=it(ce),ke=Ae.resolve,We=Ae.reject,ht=Se(function(){var qt=Q(ce.resolve),rn=[],Xt=0,Ut=1;I($,function(Fe){var Ve=Xt++,rt=!1;Ut++,P(qt,ce,Fe).then(function(at){rt||(rt=!0,rn[Ve]=at,--Ut||ke(rn))},We)}),--Ut||ke(rn)});return ht.error&&We(ht.value),Ae.promise},race:function($){var ce=this,Ae=it(ce),ke=Ae.reject,We=Se(function(){var ht=Q(ce.resolve);I($,function(qt){P(ht,ce,qt).then(Ae.resolve,ke)})});return We.error&&ke(We.value),Ae.promise}})},function(a,c,o){var l=o(7);a.exports=l.Promise},function(a,c,o){var l,f,y,g,O,x,w,j,P=o(7),T=o(61),M=o(50).f,k=o(163).set,R=o(164),L=o(207),Y=o(208),Q=o(126),V=P.MutationObserver||P.WebKitMutationObserver,q=P.document,Z=P.process,F=P.Promise,I=M(P,"queueMicrotask"),z=I&&I.value;z||(l=function(){var G,X;for(Q&&(G=Z.domain)&&G.exit();f;){X=f.fn,f=f.next;try{X()}catch(re){throw f?g():y=void 0,re}}y=void 0,G&&G.enter()},R||Q||Y||!V||!q?!L&&F&&F.resolve?((w=F.resolve(void 0)).constructor=F,j=T(w.then,w),g=function(){j(l)}):Q?g=function(){Z.nextTick(l)}:(k=T(k,P),g=function(){k(l)}):(O=!0,x=q.createTextNode(""),new V(l).observe(x,{characterData:!0}),g=function(){x.data=O=!O})),a.exports=z||function(G){var X={fn:G,next:void 0};y&&(y.next=X),f||(f=X,g()),y=X}},function(a,c,o){var l=o(53),f=o(7);a.exports=/ipad|iphone|ipod/i.test(l)&&f.Pebble!==void 0},function(a,c,o){var l=o(53);a.exports=/web0s(?!.*chrome)/i.test(l)},function(a,c,o){var l=o(33),f=o(32),y=o(165);a.exports=function(g,O){if(l(g),f(O)&&O.constructor===g)return O;var x=y.f(g);return(0,x.resolve)(O),x.promise}},function(a,c,o){var l=o(7);a.exports=function(f,y){var g=l.console;g&&g.error&&(arguments.length==1?g.error(f):g.error(f,y))}},function(a,c){a.exports=function(o){try{return{error:!1,value:o()}}catch(l){return{error:!0,value:l}}}},function(a,c){a.exports=typeof window=="object"},function(a,c,o){var l=o(36),f=o(15),y=o(72),g=o(40),O=f(o(82).f),x=f([].push),w=function(j){return function(P){for(var T,M=g(P),k=y(M),R=k.length,L=0,Y=[];R>L;)T=k[L++],l&&!O(M,T)||x(Y,j?[T,M[T]]:M[T]);return Y}};a.exports={entries:w(!0),values:w(!1)}},function(a,c,o){var l=o(39),f=o(69),y=o(44);a.exports=function(g){for(var O=l(this),x=y(O),w=arguments.length,j=f(w>1?arguments[1]:void 0,x),P=w>2?arguments[2]:void 0,T=P===void 0?x:f(P,x);T>j;)O[j++]=g;return O}},function(a,c,o){o.r(c),o.d(c,"observer",function(){return nr}),o.d(c,"LogicFlow",function(){return $f}),o.d(c,"h",function(){return ne.g}),o.d(c,"LogicFlowUtil",function(){return l}),o.d(c,"BaseNode",function(){return Dr}),o.d(c,"RectNode",function(){return zl}),o.d(c,"CircleNode",function(){return Xl}),o.d(c,"PolygonNode",function(){return $l}),o.d(c,"DiamondNode",function(){return Jl}),o.d(c,"EllipseNode",function(){return rf}),o.d(c,"TextNode",function(){return uf}),o.d(c,"HtmlNode",function(){return ff}),o.d(c,"BaseEdge",function(){return Ui}),o.d(c,"LineEdge",function(){return Sf}),o.d(c,"PolylineEdge",function(){return Af}),o.d(c,"BezierEdge",function(){return Cf}),o.d(c,"Arrow",function(){return fw}),o.d(c,"BaseEdgeModel",function(){return Ks}),o.d(c,"BezierEdgeModel",function(){return $c}),o.d(c,"LineEdgeModel",function(){return Xa}),o.d(c,"PolylineEdgeModel",function(){return Wa}),o.d(c,"BaseNodeModel",function(){return Nr}),o.d(c,"CircleNodeModel",function(){return el}),o.d(c,"DiamondNodeModel",function(){return il}),o.d(c,"EllipseNodeModel",function(){return cl}),o.d(c,"PolygonNodeModel",function(){return yl}),o.d(c,"RectNodeModel",function(){return bl}),o.d(c,"TextNodeModel",function(){return xl}),o.d(c,"HtmlNodeModel",function(){return jl}),o.d(c,"EditConfigModel",function(){return qp}),o.d(c,"GraphModel",function(){return Wh}),o.d(c,"SnaplineModel",function(){return Ev}),o.d(c,"Keyboard",function(){return lg}),o.d(c,"get",function(){return hy}),o.d(c,"defaults",function(){return vy}),o.d(c,"ElementState",function(){return St}),o.d(c,"ModelType",function(){return gt}),o.d(c,"ElementType",function(){return Zt}),o.d(c,"EventType",function(){return ot}),o.d(c,"formateAnchorConnectValidateData",function(){return ji});var l={};o.r(l),o.d(l,"createUuid",function(){return Ur}),o.d(l,"refreshGraphId",function(){return v0}),o.d(l,"createDrag",function(){return H0}),o.d(l,"StepDrag",function(){return Mr}),o.d(l,"setupEdgeModel",function(){return B0}),o.d(l,"isBboxOverLapping",function(){return fh}),o.d(l,"filterRepeatPoints",function(){return Ai}),o.d(l,"getSimplePolyline",function(){return z0}),o.d(l,"getExpandedBBox",function(){return ki}),o.d(l,"pointDirection",function(){return ph}),o.d(l,"getExpandedBBoxPoint",function(){return Ni}),o.d(l,"mergeBBox",function(){return ic}),o.d(l,"getBBoxOfPoints",function(){return Co}),o.d(l,"getPointsFromBBox",function(){return Di}),o.d(l,"isPointOutsideBBox",function(){return Ci}),o.d(l,"getBBoxXCrossPoints",function(){return dh}),o.d(l,"getBBoxYCrossPoints",function(){return hh}),o.d(l,"getBBoxCrossPointsByPoint",function(){return yh}),o.d(l,"estimateDistance",function(){return Va}),o.d(l,"costByPoints",function(){return vh}),o.d(l,"heuristicCostEstimate",function(){return ac}),o.d(l,"rebuildPath",function(){return gh}),o.d(l,"removeClosePointFromOpenList",function(){return mh}),o.d(l,"isSegmentsIntersected",function(){return Io}),o.d(l,"isSegmentCrossingBBox",function(){return uc}),o.d(l,"getNextNeighborPoints",function(){return bh}),o.d(l,"pathFinder",function(){return _h}),o.d(l,"getBoxByOriginNode",function(){return sc}),o.d(l,"pointFilter",function(){return cc}),o.d(l,"getPolylinePoints",function(){return lc}),o.d(l,"getLongestEdge",function(){return Oh}),o.d(l,"isSegmentsInNode",function(){return fc}),o.d(l,"isSegmentsCrossNode",function(){return pc}),o.d(l,"getCrossPointInRect",function(){return dc}),o.d(l,"segmentDirection",function(){return Ii}),o.d(l,"points2PointsList",function(){return $r}),o.d(l,"getSimplePoints",function(){return wh}),o.d(l,"getBytesLength",function(){return hc}),o.d(l,"getTextWidth",function(){return F0}),o.d(l,"getAppendAttributes",function(){return Eh}),o.d(l,"getBezierControlPoints",function(){return vc}),o.d(l,"getBezierPoints",function(){return $a}),o.d(l,"getEndTangent",function(){return gc}),o.d(l,"getClosestPointOfPolyline",function(){return mc}),o.d(l,"pickEdgeConfig",function(){return Sh}),o.d(l,"twoPointDistance",function(){return bc}),o.d(l,"createEdgeGenerator",function(){return jh}),o.d(l,"snapToGrid",function(){return Pr}),o.d(l,"getGridOffset",function(){return Bs}),o.d(l,"sampleCubic",function(){return ih}),o.d(l,"getThetaOfVector",function(){return uh}),o.d(l,"degrees",function(){return sh});var f=o(1),y=o(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(42),O=Object(g.b)("observerBatching");function x(e){e()}var w=!1;function j(){return w}function P(e){return Object(f.t)(e)}var T,M=1e4,k=new Set;function R(){T===void 0&&(T=setTimeout(L,1e4))}function L(){T=void 0;var e=Date.now();k.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,k.delete(t))}),k.size>0&&R()}var Y=!1,Q=[],V={};function q(e){return"observer"+e}function Z(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=V),j();var r,u=function(_){return function(){Y?Q.push(_):_()}}((n.useForceUpdate||g.d)()),i=y.d.useRef(null);if(!i.current){var s=new f.c(q(t),function(){h.mounted?u():(s.dispose(),i.current=null)}),h=function(_){return{cleanAt:Date.now()+M,reaction:_}}(s);i.current=h,r=i,k.add(r),R()}var v=i.current.reaction;return y.d.useDebugValue(v,P),y.d.useEffect(function(){var _;return _=i,k.delete(_),i.current?i.current.mounted=!0:(i.current={reaction:new f.c(q(t),function(){u()}),cleanAt:1/0},u()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(_){Y=!0,Q=[];try{var E=_();Y=!1;var A=Q.length>0?Q:void 0;return y.d.useLayoutEffect(function(){A&&A.forEach(function(N){return N()})},[A]),E}finally{Y=!1}}(function(){var _,E;if(v.track(function(){try{_=e()}catch(A){E=A}}),E)throw E;return _})}var F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e},F.apply(this,arguments)};function I(e,t){var n,r,u,i=F({forwardRef:!1},t),s=e.displayName||e.name,h=function(v,_){return Z(function(){return e(v,_)},s)};return h.displayName=s,n=i.forwardRef?Object(y.f)(Object(y.e)(h)):Object(y.f)(h),r=e,u=n,Object.keys(r).forEach(function(v){z[v]||Object.defineProperty(u,v,Object.getOwnPropertyDescriptor(r,v))}),n.displayName=s,n}var z={$$typeof:!0,render:!0,compare:!0,type:!0};function G(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:Z(r)}function X(e,t,n,r,u){var i=t==="children"?"render":"children",s=typeof e[t]=="function",h=typeof e[i]=="function";return s&&h?new Error("MobX Observer: Do not use children and render in the same time in`"+n):s||h?null:new Error("Invalid prop `"+u+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}G.propTypes={children:X,render:X},G.displayName="Observer";var re;(re=y.g)||(re=x),Object(f.n)({reactionScheduler:re}),Object(g.a)()[O]=!0;var de=0,le={};function ve(e){return le[e]||(le[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+de+")";return de++,n}(e)),le[e]}function Se(e,t){if(ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var u=0;u<n.length;u++)if(!Object.hasOwnProperty.call(t,n[u])||!ge(e[n[u]],t[n[u]]))return!1;return!0}function ge(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ue(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var ye=ve("patchMixins"),be=ve("patchedDefinition");function je(e,t){for(var n=this,r=arguments.length,u=new Array(r>2?r-2:0),i=2;i<r;i++)u[i-2]=arguments[i];t.locks++;try{var s;return e!=null&&(s=e.apply(this,u)),s}finally{t.locks--,t.locks===0&&t.methods.forEach(function(h){h.apply(n,u)})}}function Be(e,t){return function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];je.call.apply(je,[this,e,t].concat(r))}}function qe(e,t,n){var r=function(h,v){var _=h[ye]=h[ye]||{},E=_[v]=_[v]||{};return E.locks=E.locks||0,E.methods=E.methods||[],E}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var u=Object.getOwnPropertyDescriptor(e,t);if(!u||!u[be]){var i=e[t],s=Me(e,t,u?u.enumerable:void 0,r,i);Object.defineProperty(e,t,s)}}function Me(e,t,n,r,u){var i,s=Be(u,r);return(i={})[be]=!0,i.get=function(){return s},i.set=function(h){if(this===e)s=Be(h,r);else{var v=Me(this,t,n,r,h);Object.defineProperty(this,t,v)}},i.configurable=!0,i.enumerable=n,i}var De=f.a||"$mobx",Ze=ve("isMobXReactObserver"),ee=ve("isUnmounted"),J=ve("skipRender"),ie=ve("isForcingUpdate");function we(e){var t=e.prototype;if(e[Ze]?Te(t):e[Ze]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==Je)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=Je;it(t,"props"),it(t,"state");var n=t.render;return t.render=function(){return xe.call(this,n)},qe(t,"componentWillUnmount",function(){var r;(r=this.render[De])===null||r===void 0||r.dispose(),this[ee]=!0,!this.render[De]&&Te(this)}),e}function Te(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function xe(e){var t=this;ue(this,J,!1),ue(this,ie,!1);var n=Te(this),r=e.bind(this),u=!1,i=new f.c(n+".render()",function(){if(!u&&(u=!0,t[ee]!==!0)){var h=!0;try{ue(t,ie,!0),t[J]||y.a.prototype.forceUpdate.call(t),h=!1}finally{ue(t,ie,!1),h&&i.dispose()}}});function s(){u=!1;var h=void 0,v=void 0;if(i.track(function(){try{v=Object(f.d)(!1,r)}catch(_){h=_}}),h)throw h;return v}return i.reactComponent=this,s[De]=i,this.render=s,s.call(this)}function Je(e,t){return this.state!==t||!Se(this.props,e)}function it(e,t){var n=ve("reactProp_"+t+"_valueHolder"),r=ve("reactProp_"+t+"_atomHolder");function u(){return this[r]||ue(this,r,Object(f.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var i=!1;return f.f&&f.e&&(i=Object(f.f)(!0)),u.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(i),this[n]},set:function(i){this[ie]||Se(this[n],i)?ue(this,n,i):(ue(this,n,i),ue(this,J,!0),u.call(this).reportChanged(),ue(this,J,!1))}})}var tt=typeof Symbol=="function"&&Symbol.for,Ye=tt?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,me=tt?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function He(e){if(e.isMobxInjector,me&&e.$$typeof===me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Ye&&e.$$typeof===Ye){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(G,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(y.a,e)?we(e):I(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var ne=o(0);o(4),o(8),o(2),o(3),o(62),o(6),o(5),o(11),o(38),o(28),o(22),o(20),o(23),o(21),o(25),o(9),o(16),o(24),o(18),o(188),o(193),o(103),o(152),o(153);var ze=function(e,t){for(var n=-1,r=e==null?0:e.length,u=Array(r);++n<r;)u[n]=t(e[n],n,e);return u},lt=function(){this.__data__=[],this.size=0},Ot=function(e,t){return e===t||e!=e&&t!=t},st=function(e,t){for(var n=e.length;n--;)if(Ot(e[n][0],t))return n;return-1},mt=Array.prototype.splice,kt=function(e){var t=this.__data__,n=st(t,e);return!(n<0)&&(n==t.length-1?t.pop():mt.call(t,n,1),--this.size,!0)},Ct=function(e){var t=this.__data__,n=st(t,e);return n<0?void 0:t[n][1]},ct=function(e){return st(this.__data__,e)>-1},Ht=function(e,t){var n=this.__data__,r=st(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function W(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}W.prototype.clear=lt,W.prototype.delete=kt,W.prototype.get=Ct,W.prototype.has=ct,W.prototype.set=Ht;var oe=W,$=function(){this.__data__=new oe,this.size=0},ce=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ae=function(e){return this.__data__.get(e)},ke=function(e){return this.__data__.has(e)},We=o(31),ht=We.a.Symbol,qt=Object.prototype,rn=qt.hasOwnProperty,Xt=qt.toString,Ut=ht?ht.toStringTag:void 0,Fe=function(e){var t=rn.call(e,Ut),n=e[Ut];try{e[Ut]=void 0;var r=!0}catch{}var u=Xt.call(e);return r&&(t?e[Ut]=n:delete e[Ut]),u},Ve=Object.prototype.toString,rt=function(e){return Ve.call(e)},at=ht?ht.toStringTag:void 0,Pt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":at&&at in Object(e)?Fe(e):rt(e)},zt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Or,rr=function(e){if(!zt(e))return!1;var t=Pt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},or=We.a["__core-js_shared__"],io=(Or=/[^.]+$/.exec(or&&or.keys&&or.keys.IE_PROTO||""))?"Symbol(src)_1."+Or:"",ds=function(e){return!!io&&io in e},fi=Function.prototype.toString,Fn=function(e){if(e!=null){try{return fi.call(e)}catch{}try{return e+""}catch{}}return""},ua=/^\[object .+?Constructor\]$/,Xe=Function.prototype,hs=Object.prototype,sa=Xe.toString,ca=hs.hasOwnProperty,An=RegExp("^"+sa.call(ca).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kn=function(e){return!(!zt(e)||ds(e))&&(rr(e)?An:ua).test(Fn(e))},la=function(e,t){return e==null?void 0:e[t]},ir=function(e,t){var n=la(e,t);return kn(n)?n:void 0},zr=ir(We.a,"Map"),qn=ir(Object,"create"),pi=function(){this.__data__=qn?qn(null):{},this.size=0},fa=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ys=Object.prototype.hasOwnProperty,wo=function(e){var t=this.__data__;if(qn){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return ys.call(t,e)?t[e]:void 0},vs=Object.prototype.hasOwnProperty,pa=function(e){var t=this.__data__;return qn?t[e]!==void 0:vs.call(t,e)},gs=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=qn&&t===void 0?"__lodash_hash_undefined__":t,this};function wr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wr.prototype.clear=pi,wr.prototype.delete=fa,wr.prototype.get=wo,wr.prototype.has=pa,wr.prototype.set=gs;var da=wr,ar=function(){this.size=0,this.__data__={hash:new da,map:new(zr||oe),string:new da}},ms=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},xo=function(e,t){var n=e.__data__;return ms(t)?n[typeof t=="string"?"string":"hash"]:n.map},di=function(e){var t=xo(this,e).delete(e);return this.size-=t?1:0,t},hi=function(e){return xo(this,e).get(e)},bs=function(e){return xo(this,e).has(e)},ha=function(e,t){var n=xo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Fr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fr.prototype.clear=ar,Fr.prototype.delete=di,Fr.prototype.get=hi,Fr.prototype.has=bs,Fr.prototype.set=ha;var Gr=Fr,ya=function(e,t){var n=this.__data__;if(n instanceof oe){var r=n.__data__;if(!zr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gr(r)}return n.set(e,t),this.size=n.size,this};function Hr(e){var t=this.__data__=new oe(e);this.size=t.size}Hr.prototype.clear=$,Hr.prototype.delete=ce,Hr.prototype.get=Ae,Hr.prototype.has=ke,Hr.prototype.set=ya;var ur=Hr,va=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ga=function(e){return this.__data__.has(e)};function ao(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Gr;++t<n;)this.add(e[t])}ao.prototype.add=ao.prototype.push=va,ao.prototype.has=ga;var ma=ao,_s=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},ba=function(e,t){return e.has(t)},_a=function(e,t,n,r,u,i){var s=1&n,h=e.length,v=t.length;if(h!=v&&!(s&&v>h))return!1;var _=i.get(e),E=i.get(t);if(_&&E)return _==t&&E==e;var A=-1,N=!0,B=2&n?new ma:void 0;for(i.set(e,t),i.set(t,e);++A<h;){var U=e[A],K=t[A];if(r)var ae=s?r(K,U,A,t,e,i):r(U,K,A,e,t,i);if(ae!==void 0){if(ae)continue;N=!1;break}if(B){if(!_s(t,function(se,fe){if(!ba(B,fe)&&(U===se||u(U,se,n,r,i)))return B.push(fe)})){N=!1;break}}else if(U!==K&&!u(U,K,n,r,i)){N=!1;break}}return i.delete(e),i.delete(t),N},uo=We.a.Uint8Array,Oa=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,u){n[++t]=[u,r]}),n},Os=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},wa=ht?ht.prototype:void 0,yi=wa?wa.valueOf:void 0,so=function(e,t,n,r,u,i,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new uo(e),new uo(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ot(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=Oa;case"[object Set]":var v=1&r;if(h||(h=Os),e.size!=t.size&&!v)return!1;var _=s.get(e);if(_)return _==t;r|=2,s.set(e,t);var E=_a(h(e),h(t),r,u,i,s);return s.delete(e),E;case"[object Symbol]":if(yi)return yi.call(e)==yi.call(t)}return!1},sr=function(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e},un=Array.isArray,xa=function(e,t,n){var r=t(e);return un(e)?r:sr(r,n(e))},Ea=function(e,t){for(var n=-1,r=e==null?0:e.length,u=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[u++]=s)}return i},Sa=function(){return[]},ws=Object.prototype.propertyIsEnumerable,xr=Object.getOwnPropertySymbols,Gn=xr?function(e){return e==null?[]:(e=Object(e),Ea(xr(e),function(t){return ws.call(e,t)}))}:Sa,xs=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Hn=function(e){return e!=null&&typeof e=="object"},Nn=function(e){return Hn(e)&&Pt(e)=="[object Arguments]"},ja=Object.prototype,Pa=ja.hasOwnProperty,Es=ja.propertyIsEnumerable,Eo=Nn(function(){return arguments}())?Nn:function(e){return Hn(e)&&Pa.call(e,"callee")&&!Es.call(e,"callee")},cr=Eo,co=o(48),Ss=/^(?:0|[1-9]\d*)$/,dn=function(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&(n=="number"||n!="symbol"&&Ss.test(e))&&e>-1&&e%1==0&&e<t},Er=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},bt={};bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt["[object Arguments]"]=bt["[object Array]"]=bt["[object ArrayBuffer]"]=bt["[object Boolean]"]=bt["[object DataView]"]=bt["[object Date]"]=bt["[object Error]"]=bt["[object Function]"]=bt["[object Map]"]=bt["[object Number]"]=bt["[object Object]"]=bt["[object RegExp]"]=bt["[object Set]"]=bt["[object String]"]=bt["[object WeakMap]"]=!1;var Dn=function(e){return Hn(e)&&Er(e.length)&&!!bt[Pt(e)]},Sr=function(e){return function(t){return e(t)}},on=o(49),Ma=on.a&&on.a.isTypedArray,vi=Ma?Sr(Ma):Dn,Ta=Object.prototype.hasOwnProperty,Xn=function(e,t){var n=un(e),r=!n&&cr(e),u=!n&&!r&&Object(co.a)(e),i=!n&&!r&&!u&&vi(e),s=n||r||u||i,h=s?xs(e.length,String):[],v=h.length;for(var _ in e)!t&&!Ta.call(e,_)||s&&(_=="length"||u&&(_=="offset"||_=="parent")||i&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||dn(_,v))||h.push(_);return h},Aa=Object.prototype,So=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Aa)},Wn=function(e,t){return function(n){return e(t(n))}},ka=Wn(Object.keys,Object),js=Object.prototype.hasOwnProperty,gi=function(e){if(!So(e))return ka(e);var t=[];for(var n in Object(e))js.call(e,n)&&n!="constructor"&&t.push(n);return t},Yt=function(e){return e!=null&&Er(e.length)&&!rr(e)},Xr=function(e){return Yt(e)?Xn(e):gi(e)},jo=function(e){return xa(e,Xr,Gn)},Sn=Object.prototype.hasOwnProperty,Na=function(e,t,n,r,u,i){var s=1&n,h=jo(e),v=h.length;if(v!=jo(t).length&&!s)return!1;for(var _=v;_--;){var E=h[_];if(!(s?E in t:Sn.call(t,E)))return!1}var A=i.get(e),N=i.get(t);if(A&&N)return A==t&&N==e;var B=!0;i.set(e,t),i.set(t,e);for(var U=s;++_<v;){var K=e[E=h[_]],ae=t[E];if(r)var se=s?r(ae,K,E,t,e,i):r(K,ae,E,e,t,i);if(!(se===void 0?K===ae||u(K,ae,n,r,i):se)){B=!1;break}U||(U=E=="constructor")}if(B&&!U){var fe=e.constructor,_e=t.constructor;fe==_e||!("constructor"in e)||!("constructor"in t)||typeof fe=="function"&&fe instanceof fe&&typeof _e=="function"&&_e instanceof _e||(B=!1)}return i.delete(e),i.delete(t),B},lo=ir(We.a,"DataView"),Po=ir(We.a,"Promise"),Mo=ir(We.a,"Set"),To=ir(We.a,"WeakMap"),Da="[object Map]",jn="[object Promise]",Cn="[object Set]",Wr="[object WeakMap]",mi="[object DataView]",bi=Fn(lo),_i=Fn(zr),Ca=Fn(Po),Ps=Fn(Mo),Ao=Fn(To),jr=Pt;(lo&&jr(new lo(new ArrayBuffer(1)))!=mi||zr&&jr(new zr)!=Da||Po&&jr(Po.resolve())!=jn||Mo&&jr(new Mo)!=Cn||To&&jr(new To)!=Wr)&&(jr=function(e){var t=Pt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Fn(n):"";if(r)switch(r){case bi:return mi;case _i:return Da;case Ca:return jn;case Ps:return Cn;case Ao:return Wr}return t});var m=jr,b="[object Arguments]",S="[object Array]",D="[object Object]",H=Object.prototype.hasOwnProperty,te=function(e,t,n,r,u,i){var s=un(e),h=un(t),v=s?S:m(e),_=h?S:m(t),E=(v=v==b?D:v)==D,A=(_=_==b?D:_)==D,N=v==_;if(N&&Object(co.a)(e)){if(!Object(co.a)(t))return!1;s=!0,E=!1}if(N&&!E)return i||(i=new ur),s||vi(e)?_a(e,t,n,r,u,i):so(e,t,v,n,r,u,i);if(!(1&n)){var B=E&&H.call(e,"__wrapped__"),U=A&&H.call(t,"__wrapped__");if(B||U){var K=B?e.value():e,ae=U?t.value():t;return i||(i=new ur),u(K,ae,n,r,i)}}return!!N&&(i||(i=new ur),Na(e,t,n,r,u,i))},he=function e(t,n,r,u,i){return t===n||(t==null||n==null||!Hn(t)&&!Hn(n)?t!=t&&n!=n:te(t,n,r,u,e,i))},Pe=function(e,t,n,r){var u=n.length,i=u,s=!r;if(e==null)return!i;for(e=Object(e);u--;){var h=n[u];if(s&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++u<i;){var v=(h=n[u])[0],_=e[v],E=h[1];if(s&&h[2]){if(_===void 0&&!(v in e))return!1}else{var A=new ur;if(r)var N=r(_,E,v,e,t,A);if(!(N===void 0?he(E,_,3,r,A):N))return!1}}return!0},Ge=function(e){return e==e&&!zt(e)},vt=function(e){for(var t=Xr(e),n=t.length;n--;){var r=t[n],u=e[r];t[n]=[r,u,Ge(u)]}return t},ut=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},Mt=function(e){var t=vt(e);return t.length==1&&t[0][2]?ut(t[0][0],t[0][1]):function(n){return n===e||Pe(n,e,t)}},dt=function(e){return typeof e=="symbol"||Hn(e)&&Pt(e)=="[object Symbol]"},Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,In=/^\w*$/,Lt=function(e,t){if(un(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!dt(e))||In.test(e)||!Et.test(e)||t!=null&&e in Object(t)};function hn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,u=t?t.apply(this,r):r[0],i=n.cache;if(i.has(u))return i.get(u);var s=e.apply(this,r);return n.cache=i.set(u,s)||i,s};return n.cache=new(hn.Cache||Gr),n}hn.Cache=Gr;var fo=hn,Ms=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ia=/\\(\\)?/g,Ra=function(e){var t=fo(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ms,function(n,r,u,i){t.push(u?i.replace(Ia,"$1"):r||n)}),t}),ko=ht?ht.prototype:void 0,Oi=ko?ko.toString:void 0,yn=function e(t){if(typeof t=="string")return t;if(un(t))return ze(t,e)+"";if(dt(t))return Oi?Oi.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},La=function(e){return e==null?"":yn(e)},po=function(e,t){return un(e)?e:Lt(e,t)?[e]:Ra(La(e))},wi=function(e){if(typeof e=="string"||dt(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Ts=function(e,t){for(var n=0,r=(t=po(t,e)).length;e!=null&&n<r;)e=e[wi(t[n++])];return n&&n==r?e:void 0},xp=function(e,t,n){var r=e==null?void 0:Ts(e,t);return r===void 0?n:r},nb=function(e,t){return e!=null&&t in Object(e)},rb=function(e,t,n){for(var r=-1,u=(t=po(t,e)).length,i=!1;++r<u;){var s=wi(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=u?i:!!(u=e==null?0:e.length)&&Er(u)&&dn(s,u)&&(un(e)||cr(e))},Ep=function(e,t){return e!=null&&rb(e,t,nb)},ob=function(e,t){return Lt(e)&&Ge(t)?ut(wi(e),t):function(n){var r=xp(n,e);return r===void 0&&r===t?Ep(n,e):he(t,r,3)}},As=function(e){return e},ib=function(e){return function(t){return t==null?void 0:t[e]}},ab=function(e){return function(t){return Ts(t,e)}},ub=function(e){return Lt(e)?ib(wi(e)):ab(e)},sb=function(e){return typeof e=="function"?e:e==null?As:typeof e=="object"?un(e)?ob(e[0],e[1]):Mt(e):ub(e)},Sp=function(e){return function(t,n,r){for(var u=-1,i=Object(t),s=r(t),h=s.length;h--;){var v=s[e?h:++u];if(n(i[v],v,i)===!1)break}return t}}(),cb=function(e,t){return function(n,r){if(n==null)return n;if(!Yt(n))return e(n,r);for(var u=n.length,i=t?u:-1,s=Object(n);(t?i--:++i<u)&&r(s[i],i,s)!==!1;);return n}}(function(e,t){return e&&Sp(e,t,Xr)}),lb=function(e,t){var n=-1,r=Yt(e)?Array(e.length):[];return cb(e,function(u,i,s){r[++n]=t(u,i,s)}),r},Ba=function(e,t){return(un(e)?ze:lb)(e,sb(t))};Object(f.n)({isolateGlobalState:!0});var za=function(){try{var e=ir(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ks=function(e,t,n){t=="__proto__"&&za?za(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},fb=Object.prototype.hasOwnProperty,Fa=function(e,t,n){var r=e[t];fb.call(e,t)&&Ot(r,n)&&(n!==void 0||t in e)||ks(e,t,n)},No=function(e,t,n,r){var u=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var h=t[i],v=r?r(n[h],e[h],h,n,e):void 0;v===void 0&&(v=e[h]),u?ks(n,h,v):Fa(n,h,v)}return n},pb=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},jp=Math.max,Pp=function(e,t,n){return t=jp(t===void 0?e.length-1:t,0),function(){for(var r=arguments,u=-1,i=jp(r.length-t,0),s=Array(i);++u<i;)s[u]=r[t+u];u=-1;for(var h=Array(t+1);++u<t;)h[u]=r[u];return h[t]=n(s),pb(e,this,h)}},db=function(e){return function(){return e}},hb=za?function(e,t){return za(e,"toString",{configurable:!0,enumerable:!1,value:db(t),writable:!0})}:As,yb=Date.now,vb=function(e){var t=0,n=0;return function(){var r=yb(),u=16-(r-n);if(n=r,u>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Mp=vb(hb),gb=function(e,t){return Mp(Pp(e,t,As),e+"")},mb=function(e,t,n){if(!zt(n))return!1;var r=typeof t;return!!(r=="number"?Yt(n)&&dn(t,n.length):r=="string"&&t in n)&&Ot(n[t],e)},Tp=function(e){return gb(function(t,n){var r=-1,u=n.length,i=u>1?n[u-1]:void 0,s=u>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(u--,i):void 0,s&&mb(n[0],n[1],s)&&(i=u<3?void 0:i,u=1),t=Object(t);++r<u;){var h=n[r];h&&e(t,h,r,i)}return t})},bb=Object.prototype.hasOwnProperty,vn=Tp(function(e,t){if(So(t)||Yt(t))No(t,Xr(t),e);else for(var n in t)bb.call(t,n)&&Fa(e,n,t[n])}),_b=function(e,t,n,r){if(!zt(e))return e;for(var u=-1,i=(t=po(t,e)).length,s=i-1,h=e;h!=null&&++u<i;){var v=wi(t[u]),_=n;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(u!=s){var E=h[v];(_=r?r(E,v,h):void 0)===void 0&&(_=zt(E)?E:dn(t[u+1])?[]:{})}Fa(h,v,_),h=h[v]}return e},Ob=function(e,t,n){for(var r=-1,u=t.length,i={};++r<u;){var s=t[r],h=Ts(e,s);n(h,s)&&_b(i,po(s,e),h)}return i},wb=function(e,t){return Ob(e,t,function(n,r){return Ep(e,r)})},Ap=ht?ht.isConcatSpreadable:void 0,xb=function(e){return un(e)||cr(e)||!!(Ap&&e&&e[Ap])},Eb=function e(t,n,r,u,i){var s=-1,h=t.length;for(r||(r=xb),i||(i=[]);++s<h;){var v=t[s];n>0&&r(v)?n>1?e(v,n-1,r,u,i):sr(i,v):u||(i[i.length]=v)}return i},Sb=function(e){return e!=null&&e.length?Eb(e,1):[]},Vt,kp,Np,Dp,Cp,Ip,Rp,Lp,Bp,zp,Fp,Gp,Hp,Xp,Wp,Up,Yp,Vp,xi=function(e){return Mp(Pp(e,void 0,Sb),e+"")}(function(e,t){return e==null?{}:wb(e,t)});function sn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var St,Kp,gt,Zt,ot,Bt,Pb={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ns=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],qp=(kp=an((Vt=function(){function e(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),sn(this,"isSilentMode",kp,this),sn(this,"stopZoomGraph",Np,this),sn(this,"stopScrollGraph",Dp,this),sn(this,"stopMoveGraph",Cp,this),sn(this,"adjustEdge",Ip,this),sn(this,"adjustEdgeMiddle",Rp,this),sn(this,"adjustEdgeStartAndEnd",Lp,this),sn(this,"adjustNodePosition",Bp,this),sn(this,"hideAnchors",zp,this),sn(this,"hoverOutline",Fp,this),sn(this,"nodeSelectedOutline",Gp,this),sn(this,"edgeSelectedOutline",Hp,this),sn(this,"nodeTextEdit",Xp,this),sn(this,"edgeTextEdit",Wp,this),sn(this,"nodeTextDraggable",Up,this),sn(this,"edgeTextDraggable",Yp,this),sn(this,"autoExpand",Vp,this),$p(this,"multipleSelectKey",""),$p(this,"defaultConfig",{}),vn(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var u=this.getConfigDetail(r);vn(this,u)}},{key:"getConfigDetail",value:function(r){var u=r.isSilentMode,i=r.textEdit,s={};if(u===!1&&vn(s,this.defaultConfig),u===!0&&u!==this.isSilentMode){var h=xi(Pb,Ns);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},vn(s,h)}i===!1&&vn(s,{nodeTextEdit:!1,edgeTextEdit:!1});var v=xi(r,Ns);return vn(s,v)}},{key:"getConfig",value:function(){return xi(this,Ns)}}])&&jb(t.prototype,n),e}()).prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Np=an(Vt.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dp=an(Vt.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cp=an(Vt.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ip=an(Vt.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rp=an(Vt.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lp=an(Vt.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bp=an(Vt.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zp=an(Vt.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fp=an(Vt.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gp=an(Vt.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hp=an(Vt.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xp=an(Vt.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wp=an(Vt.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Up=an(Vt.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yp=an(Vt.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vp=an(Vt.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),an(Vt.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(Vt.prototype,"updateEditConfig"),Vt.prototype),Vt);o(63),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(St||(St={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Kp||(Kp={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(gt||(gt={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Zt||(Zt={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(ot||(ot={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Bt||(Bt={}));var Rn,$t,Zp,Jp,Qp,ed,td,nd,rd;function Ga(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return od(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return od(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function od(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ho(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(Rn||(Rn={}));var Tb=($t=function(){function e(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),Ds(this,"MINI_SCALE_SIZE",.2),Ds(this,"MAX_SCALE_SIZE",16),ho(this,"SCALE_X",Zp,this),ho(this,"SKEW_Y",Jp,this),ho(this,"SKEW_X",Qp,this),ho(this,"SCALE_Y",ed,this),ho(this,"TRANSLATE_X",td,this),ho(this,"TRANSLATE_Y",nd,this),ho(this,"ZOOM_SIZE",rd,this),Ds(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var u=Ga(r,2),i=u[0],s=u[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(s-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var u=Ga(r,2),i=u[0],s=u[1];return[i*this.SCALE_X+this.TRANSLATE_X,s*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,u,i){var s=Ga(r,2),h=s[0],v=s[1];return[h+u/this.SCALE_X,v+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,u){return[r/this.SCALE_X,u/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],u=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,s=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,s+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,s-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,s=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(u&&(this.TRANSLATE_X-=(i-this.SCALE_X)*u[0],this.TRANSLATE_Y-=(s-this.SCALE_Y)*u[1]),this.SCALE_X=i,this.SCALE_Y=s,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(ot.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,u){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=u,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,u,i,s){var h=Ga(this.CanvasPointToHtmlPoint([r,u]),2),v=i/2-h[0],_=s/2-h[1];this.TRANSLATE_X+=v,this.TRANSLATE_Y+=_,this.emitGraphTransform("focusOn")}}],n&&Mb(t.prototype,n),e}(),Zp=Zn($t.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Jp=Zn($t.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qp=Zn($t.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ed=Zn($t.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),td=Zn($t.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nd=Zn($t.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rd=Zn($t.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Zn($t.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor($t.prototype,"zoom"),$t.prototype),Zn($t.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor($t.prototype,"resetZoom"),$t.prototype),Zn($t.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor($t.prototype,"translate"),$t.prototype),Zn($t.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor($t.prototype,"focusOn"),$t.prototype),$t),Ab=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},kb=function(e,t){return e&&No(t,Xr(t),e)},Nb=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},Db=Object.prototype.hasOwnProperty,Cb=function(e){if(!zt(e))return Nb(e);var t=So(e),n=[];for(var r in e)(r!="constructor"||!t&&Db.call(e,r))&&n.push(r);return n},Ei=function(e){return Yt(e)?Xn(e,!0):Cb(e)},Ib=function(e,t){return e&&No(t,Ei(t),e)},id=o(106),ad=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Rb=function(e,t){return No(e,Gn(e),t)},Cs=Wn(Object.getPrototypeOf,Object),ud=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)sr(t,Gn(e)),e=Cs(e);return t}:Sa,Lb=function(e,t){return No(e,ud(e),t)},Bb=function(e){return xa(e,Ei,ud)},zb=Object.prototype.hasOwnProperty,Fb=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&zb.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Is=function(e){var t=new e.constructor(e.byteLength);return new uo(t).set(new uo(e)),t},Gb=function(e,t){var n=t?Is(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Hb=/\w*$/,Xb=function(e){var t=new e.constructor(e.source,Hb.exec(e));return t.lastIndex=e.lastIndex,t},sd=ht?ht.prototype:void 0,cd=sd?sd.valueOf:void 0,Wb=function(e){return cd?Object(cd.call(e)):{}},ld=function(e,t){var n=t?Is(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Ub=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Is(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Gb(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ld(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Xb(e);case"[object Symbol]":return Wb(e)}},fd=Object.create,Yb=function(){function e(){}return function(t){if(!zt(t))return{};if(fd)return fd(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),pd=function(e){return typeof e.constructor!="function"||So(e)?{}:Yb(Cs(e))},Vb=function(e){return Hn(e)&&m(e)=="[object Map]"},dd=on.a&&on.a.isMap,$b=dd?Sr(dd):Vb,Kb=function(e){return Hn(e)&&m(e)=="[object Set]"},hd=on.a&&on.a.isSet,qb=hd?Sr(hd):Kb,yd="[object Arguments]",vd="[object Function]",Zb="[object Object]",It={};It[yd]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object DataView]"]=It["[object Boolean]"]=It["[object Date]"]=It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object Symbol]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Error]"]=It[vd]=It["[object WeakMap]"]=!1;var Jb=function e(t,n,r,u,i,s){var h,v=1&n,_=2&n,E=4&n;if(r&&(h=i?r(t,u,i,s):r(t)),h!==void 0)return h;if(!zt(t))return t;var A=un(t);if(A){if(h=Fb(t),!v)return ad(t,h)}else{var N=m(t),B=N==vd||N=="[object GeneratorFunction]";if(Object(co.a)(t))return Object(id.a)(t,v);if(N==Zb||N==yd||B&&!i){if(h=_||B?{}:pd(t),!v)return _?Lb(t,Ib(h,t)):Rb(t,kb(h,t))}else{if(!It[N])return i?t:{};h=Ub(t,N,v)}}s||(s=new ur);var U=s.get(t);if(U)return U;s.set(t,h),qb(t)?t.forEach(function(ae){h.add(e(ae,n,r,ae,t,s))}):$b(t)&&t.forEach(function(ae,se){h.set(se,e(ae,n,r,se,t,s))});var K=A?void 0:(E?_?Bb:jo:_?Ei:Xr)(t);return Ab(K||t,function(ae,se){K&&(ae=t[se=ae]),Fa(h,se,e(ae,n,r,se,t,s))}),h},Gt=function(e){return Jb(e,5)},Rs=function(e,t,n){(n!==void 0&&!Ot(e[t],n)||n===void 0&&!(t in e))&&ks(e,t,n)},Qb=function(e){return Hn(e)&&Yt(e)},e0=Function.prototype,t0=Object.prototype,gd=e0.toString,n0=t0.hasOwnProperty,r0=gd.call(Object),o0=function(e){if(!Hn(e)||Pt(e)!="[object Object]")return!1;var t=Cs(e);if(t===null)return!0;var n=n0.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&gd.call(n)==r0},Ls=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},i0=function(e){return No(e,Ei(e))},a0=function(e,t,n,r,u,i,s){var h=Ls(e,n),v=Ls(t,n),_=s.get(v);if(_)Rs(e,n,_);else{var E=i?i(h,v,n+"",e,t,s):void 0,A=E===void 0;if(A){var N=un(v),B=!N&&Object(co.a)(v),U=!N&&!B&&vi(v);E=v,N||B||U?un(h)?E=h:Qb(h)?E=ad(h):B?(A=!1,E=Object(id.a)(v,!0)):U?(A=!1,E=ld(v,!0)):E=[]:o0(v)||cr(v)?(E=h,cr(h)?E=i0(h):zt(h)&&!rr(h)||(E=pd(v))):A=!1}A&&(s.set(v,E),u(E,v,r,i,s),s.delete(v)),Rs(e,n,E)}},u0=function e(t,n,r,u,i){t!==n&&Sp(n,function(s,h){if(i||(i=new ur),zt(s))a0(t,n,h,r,e,u,i);else{var v=u?u(Ls(t,h),s,h+"",t,n,i):void 0;v===void 0&&(v=s),Rs(t,h,v)}},Ei)},md=Tp(function(e,t,n){u0(e,t,n)}),s0={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},bd=function(e){var t=Gt(s0);return e&&(t=md(t,e)),t};o(77),o(158);function c0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l0=function(){function e(){var r,u,i;(function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),i={},(u="_events")in(r=this)?Object.defineProperty(r,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[u]=i}var t,n;return t=e,(n=[{key:"on",value:function(r,u,i){var s=this;return r==null||r.split(",").forEach(function(h){h=h.trim(),s._events[h]||(s._events[h]=[]),s._events[h].push({callback:u,once:!!i})}),this}},{key:"once",value:function(r,u){var i=this;r==null||r.split(",").forEach(function(s){return s=s.trim(),i.on(s,u,!0)})}},{key:"emit",value:function(r,u){var i=this;r==null||r.split(",").forEach(function(s){var h=i._events[s]||[],v=i._events["*"]||[],_=function(E){for(var A=E.length,N=0;N<A;N++)if(E[N]){var B=E[N],U=B.callback;B.once&&(E.splice(N,1),E.length===0&&delete i._events[s],A--,N--),U.apply(i,[u])}};_(h),_(v)})}},{key:"off",value:function(r,u){var i=this;return r||(this._events={}),r.split(",").forEach(function(s){if(u){for(var h=i._events[s]||[],v=h.length,_=0;_<v;_++)h[_].callback===u&&(h.splice(_,1),v--,_--);h.length===0&&delete i._events[s]}else delete i._events[s]}),this}},{key:"getEvents",value:function(){return this._events}}])&&c0(t.prototype,n),e}();function Pr(e,t){return t*Math.round(e/t)||e}function Bs(e,t){return e%t}function zs(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return _d(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _d(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _d(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fs,Gs=function(e,t,n){var r=zs(e,2),u=r[0],i=r[1],s=zs(t,2),h=s[0],v=s[1],_=zs(n,2),E=_[0],A=_[1];return u>h&&u<E&&i>v&&i<A},Od=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;case"ctrl":n=e.ctrlKey;break;default:n=!1}return n},f0=(o(78),o(161),o(125),o(79),o(30),o(12),o(13),o(14),o(47),new Uint8Array(16));function p0(){if(!Fs&&!(Fs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fs(f0)}for(var d0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,h0=function(e){return typeof e=="string"&&d0.test(e)},cn=[],Hs=0;Hs<256;++Hs)cn.push((Hs+256).toString(16).substr(1));var y0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(cn[e[t+0]]+cn[e[t+1]]+cn[e[t+2]]+cn[e[t+3]]+"-"+cn[e[t+4]]+cn[e[t+5]]+"-"+cn[e[t+6]]+cn[e[t+7]]+"-"+cn[e[t+8]]+cn[e[t+9]]+"-"+cn[e[t+10]]+cn[e[t+11]]+cn[e[t+12]]+cn[e[t+13]]+cn[e[t+14]]+cn[e[t+15]]).toLowerCase();if(!h0(n))throw TypeError("Stringified UUID is invalid");return n},Xs=function(e,t,n){var r=(e=e||{}).random||(e.rng||p0)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var u=0;u<16;++u)t[n+u]=r[u];return t}return y0(r)},Ur=function(){return Xs()},v0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,u){return r[u.id]=t+Xs(),u.id=r[u.id],r},{});return e.edges.forEach(function(r){r.id=t+Xs(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},Si=(o(104),o(162),function(e,t,n){var r=e.x,u=e.y;return(r-t.x)*(r-n.x)<=0&&(u-t.y)*(u-n.y)<=0});function Ws(e){return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wd(Object(n),!0).forEach(function(r){g0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe,Ed,Sd,jd,Pd,Md,Td,Ad,kd,Nd,Dd,Cd,Id,Rd,Ld,Bd,zd,Fd,Gd,Hd,Xd,Us=function(e){return e.anchors},Ha=function(e,t){for(var n,r=t.nodes,u=r.length-1;u>=0;u--){var i=r[u];if(b0(e,i)){var s=i.getTargetAnchor(e);if(s){var h={node:i,anchorIndex:s.index,anchor:s.anchor};n&&!m0(i,n.node,t)||(n=h)}}}return n},m0=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},Jn=function(e,t,n,r){return Math.hypot(e-n,t-r)},Yr=function(e,t){var n=!1,r=Ln(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},b0=function(e,t){var n=!1,r=Ln(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},Ln=function(e){var t=e.x,n=e.y,r=e.width,u=e.height;return{minX:t-r/2,minY:n-u/2,maxX:t+r/2,maxY:n+u/2,x:t,y:n,width:r,height:u,centerX:t,centerY:n}},Wd=function(e,t,n){var r,u=function(s){var h=s,v=h.x,_=h.y,E=h.width,A=h.height,N=h.radius;return[{x:v-E/2+N,y:_-A/2+N,r:N},{x:v+E/2-N,y:_-A/2+N,r:N},{x:v-E/2+N,y:_+A/2-N,r:N},{x:v+E/2-N,y:_+A/2-N,r:N}]}(n),i=Number.MAX_SAFE_INTEGER;return u.forEach(function(s){var h=Jn(e.x,e.y,s.x,s.y);h<i&&(i=h,r=s)}),Ys(e,t,r)},Ys=function(e,t,n){var r,u=n,i=u.x,s=u.y,h=u.r;if(t===Bt.HORIZONTAL){var v=i-Math.sqrt(h*h-(e.y-s)*(e.y-s)),_=i+Math.sqrt(h*h-(e.y-s)*(e.y-s));r={x:Math.abs(v-e.x)<Math.abs(_-e.x)?v:_,y:e.y}}else if(t===Bt.VERTICAL){var E=s-Math.sqrt(h*h-(e.x-i)*(e.x-i)),A=s+Math.sqrt(h*h-(e.x-i)*(e.x-i)),N=Math.abs(E-e.y)<Math.abs(A-e.y)?E:A;r={x:e.x,y:N}}return r},Ud=function(e,t){var n=t,r=!1,u=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,s=n.y-n.height/2+n.radius,h=n.y+n.height/2-n.radius,v=n.x,_=n.y,E=n.width,A=n.height;return e.y===_+A/2||e.y===_-A/2?r=e.x>u&&e.x<i:e.x!==v+E/2&&e.x!==v-E/2||(r=e.y>s&&e.y<h),r},Yd=function(e,t,n){var r,u=n,i=u.x,s=u.y,h=u.rx,v=u.ry;if(t===Bt.HORIZONTAL){var _=i-Math.sqrt(h*h-(e.y-s)*(e.y-s)*h*h/(v*v)),E=i+Math.sqrt(h*h-(e.y-s)*(e.y-s)*h*h/(v*v));r={x:Math.abs(_-e.x)<Math.abs(E-e.x)?_:E,y:e.y}}else if(t===Bt.VERTICAL){var A=s-Math.sqrt(v*v-(e.x-i)*(e.x-i)*v*v/(h*h)),N=s+Math.sqrt(v*v-(e.x-i)*(e.x-i)*v*v/(h*h)),B=Math.abs(A-e.y)<Math.abs(N-e.y)?A:N;r={x:e.x,y:B}}return r},Vd=function(e,t,n){for(var r,u=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,s=[],h=0;h<u.length;h++)s.push({start:u[h],end:u[(h+1)%u.length]});return s.forEach(function(v){var _=v.start,E=v.end,A=_,N=E;_.x>E.x&&(A=E,N=_);var B={x:e.x,y:e.y};if(A.x===N.x&&t===Bt.HORIZONTAL&&(B={x:A.x,y:e.y}),A.y===N.y&&t===Bt.VERTICAL&&(B={x:e.x,y:A.y}),A.x!==N.x&&A.y!==N.y){var U=(N.y-A.y)/(N.x-A.x),K=(A.x*N.y-N.x*A.y)/(A.x-N.x);t===Bt.HORIZONTAL?B={x:(e.y-K)/U,y:e.y}:t===Bt.VERTICAL&&(B={x:e.x,y:U*e.x+K})}if(Si(B,_,E)){var ae=Jn(B.x,B.y,e.x,e.y);ae<i&&(i=ae,r=B)}}),r},$d=function(e,t,n,r){var u=e.x,i=e.y;return t.x>e.x?u=e.x+n/2:t.x<e.x&&(u=e.x-n/2),t.y>e.y?i=e.y+r/2:t.y<e.y&&(i=e.y-r/2),{x:u,y:i}},Kd=function(e){var t=e.rows,n=e.style,r=e.rowsLength,u=e.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=u,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?t.forEach(function(h){var v=document.createElement("div");v.textContent=h,i.appendChild(v)}):i.textContent=t,document.body.appendChild(i);var s=i.clientHeight;return document.body.removeChild(i),s},Vs=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,u=0;return t&&t.forEach(function(i){var s=hc(i);u=s>u?s:u}),{width:Math.ceil(u/2)*r+r/4,height:n*(r+2)+r/4}},ji=function(e){return Ws(e)!=="object"?{isAllPass:!!e,msg:e?"":"不允许连接"}:e},ln=function(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}},_0=1e3,O0=999,$s=function(){return++_0};function qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qd(Object(n),!0).forEach(function(r){Un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Ks=(Oe=function(){function e(r,u){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Un(this,"id",""),Jt(this,"type",Ed,this),Jt(this,"sourceNodeId",Sd,this),Jt(this,"targetNodeId",jd,this),Jt(this,"startPoint",Pd,this),Jt(this,"endPoint",Md,this),Jt(this,"text",Td,this),Jt(this,"properties",Ad,this),Jt(this,"points",kd,this),Jt(this,"pointsList",Nd,this),Jt(this,"isSelected",Dd,this),Jt(this,"isHovered",Cd,this),Jt(this,"isHitable",Id,this),Jt(this,"draggable",Rd,this),Jt(this,"visible",Ld,this),Un(this,"virtual",!1),Jt(this,"isAnimation",Bd,this),Jt(this,"isShowAdjustPoint",zd,this),Un(this,"graphModel",void 0),Jt(this,"zIndex",Fd,this),Un(this,"BaseType",Zt.EDGE),Un(this,"modelType",gt.EDGE),Jt(this,"state",Gd,this),Un(this,"additionStateData",void 0),Un(this,"sourceAnchorId",""),Un(this,"targetAnchorId",""),Un(this,"menu",void 0),Un(this,"customTextPosition",!1),Jt(this,"style",Hd,this),Jt(this,"arrowConfig",Xd,this),this.graphModel=u,this.initEdgeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var u=this.graphModel.idGenerator,i=u&&u(r.type),s=this.createId();r.id=s||i||Ur()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var h=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=h,vn(this,Sh(r)),this.graphModel.overlapMode===Rn.INCREASE&&(this.zIndex=r.zIndex||$s()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Pn(Pn({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Pn({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Gt(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Gt(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),u=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,s=this.isAnimation?u.stroke:r.stroke;return Pn(Pn({},r),{},{fill:s,stroke:s},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Gt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,u;return(r=this.graphModel)===null||r===void 0||(u=r.nodesMap[this.sourceNodeId])===null||u===void 0?void 0:u.model}},{key:"targetNode",get:function(){var r,u;return(r=this.graphModel)===null||r===void 0||(u=r.nodesMap[this.targetNodeId])===null||u===void 0?void 0:u.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,u){var i,s;return Us(r).forEach(function(h){var v=bc(h,u);(s===void 0||v<s)&&(s=v,i=h)}),i}},{key:"getEndAnchor",value:function(r){var u,i,s=this;return Us(r).forEach(function(h){var v=bc(h,s.startPoint);(i===void 0||v<i)&&(i=v,u=h)}),u}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,u=r.x,i=r.y,s=r.value,h={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return s&&(h.text={x:u,y:i,value:s}),this.graphModel.overlapMode===Rn.INCREASE&&(h.zIndex=this.zIndex),h}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,u){this.properties[r]=ln(u),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Pn(Pn({},Object(f.I)(this.properties)),ln(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var u=this.arrowConfig,i=u.markerEnd,s=u.markerStart;s&&s==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,u){this.style=Pn(Pn({},this.style),{},Un({},r,ln(u)))}},{key:"setStyles",value:function(r){this.style=Pn(Pn({},this.style),ln(r))}},{key:"updateStyles",value:function(r){this.style=Pn({},ln(r))}},{key:"formatText",value:function(r){var u=this.textPosition,i=u.x,s=u.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||s,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:s,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,u=r.x,i=r.y;this.text.x=u,this.text.y=i}},{key:"moveText",value:function(r,u){if(this.text){var i=this.text,s=i.x,h=i.y,v=i.value,_=i.draggable,E=i.editable;this.text={value:v,draggable:_,x:s+r,y:h+u,editable:E}}}},{key:"setText",value:function(r){r&&vn(this.text,r)}},{key:"updateText",value:function(r){this.text=Pn(Pn({},Object(f.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var u=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:u.x,y:u.y}),this.targetAnchorId||(this.targetAnchorId=u.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,u){this.state=r,this.additionStateData=u}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,u){this.startPoint.x+=r,this.startPoint.y+=u}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,u){this.endPoint.x+=r,this.endPoint.y+=u}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){vn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var u=r.startPoint,i=r.endPoint;this.updateStartPoint({x:u.x,y:u.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&w0(t.prototype,n),e}(),Ed=nt(Oe.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sd=nt(Oe.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jd=nt(Oe.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pd=nt(Oe.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Md=nt(Oe.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Td=nt(Oe.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Ad=nt(Oe.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kd=nt(Oe.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Nd=nt(Oe.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dd=nt(Oe.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cd=nt(Oe.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Id=nt(Oe.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rd=nt(Oe.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ld=nt(Oe.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bd=nt(Oe.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zd=nt(Oe.prototype,"isShowAdjustPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fd=nt(Oe.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gd=nt(Oe.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hd=nt(Oe.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Xd=nt(Oe.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),nt(Oe.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(Oe.prototype,"sourceNode"),Oe.prototype),nt(Oe.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(Oe.prototype,"targetNode"),Oe.prototype),nt(Oe.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(Oe.prototype,"textPosition"),Oe.prototype),nt(Oe.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperty"),Oe.prototype),nt(Oe.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"deleteProperty"),Oe.prototype),nt(Oe.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperties"),Oe.prototype),nt(Oe.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"changeEdgeId"),Oe.prototype),nt(Oe.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyle"),Oe.prototype),nt(Oe.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyles"),Oe.prototype),nt(Oe.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStyles"),Oe.prototype),nt(Oe.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"formatText"),Oe.prototype),nt(Oe.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"resetTextPosition"),Oe.prototype),nt(Oe.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveText"),Oe.prototype),nt(Oe.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setText"),Oe.prototype),nt(Oe.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateText"),Oe.prototype),nt(Oe.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setAnchors"),Oe.prototype),nt(Oe.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setSelected"),Oe.prototype),nt(Oe.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHovered"),Oe.prototype),nt(Oe.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHitable"),Oe.prototype),nt(Oe.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"openEdgeAnimation"),Oe.prototype),nt(Oe.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"closeEdgeAnimation"),Oe.prototype),nt(Oe.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setElementState"),Oe.prototype),nt(Oe.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStartPoint"),Oe.prototype),nt(Oe.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveStartPoint"),Oe.prototype),nt(Oe.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateEndPoint"),Oe.prototype),nt(Oe.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveEndPoint"),Oe.prototype),nt(Oe.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setZIndex"),Oe.prototype),nt(Oe.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"initPoints"),Oe.prototype),nt(Oe.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAttributes"),Oe.prototype),nt(Oe.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustStart"),Oe.prototype),nt(Oe.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustEnd"),Oe.prototype),nt(Oe.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAfterAdjustStartAndEnd"),Oe.prototype),Oe),qs=Ks;function Zs(e){return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function Zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zd(Object(n),!0).forEach(function(r){eh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Js(){return Js=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=S0(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Js.apply(this,arguments)}function S0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Do(e))!==null;);return e}function Qs(e,t){return Qs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qs(e,t)}function j0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Do(e);if(t){var u=Do(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return P0(this,n)}}function P0(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qd(e)}function Qd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(e)}function eh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt,th,Xa=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Qs(i,s)})(u,e);var t,n,r=j0(u);function u(){var i;x0(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return eh(Qd(i=r.call.apply(r,[this].concat(h))),"modelType",gt.LINE_EDGE),i}return t=u,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return Jd(Jd({},Js(Do(u.prototype),"getEdgeStyle",this).call(this)),Gt(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&E0(t.prototype,n),u}(qs);function ec(e){return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function M0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return nh(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return nh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function oh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rh(Object(n),!0).forEach(function(r){nc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pi(){return Pi=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=N0(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Pi.apply(this,arguments)}function N0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Vr(e))!==null;);return e}function tc(e,t){return tc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},tc(e,t)}function D0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vr(e);if(t){var u=Vr(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return C0(this,n)}}function C0(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mi(e)}function Mi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){return Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vr(e)}function nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Wa=(pt=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&tc(i,s)})(u,e);var t,n,r=D0(u);function u(){var i;A0(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return nc(Mi(i=r.call.apply(r,[this].concat(h))),"modelType",gt.POLYLINE_EDGE),nc(Mi(i),"draggingPointList",void 0),T0(Mi(i),"dbClickPosition",th,Mi(i)),i}return t=u,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Pi(Vr(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return oh(oh({},Pi(Vr(u.prototype),"getEdgeStyle",this).call(this)),Gt(i))}},{key:"getTextPosition",value:function(){var i,s=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!s){var h=this.dbClickPosition;return{x:h.x,y:h.y}}var v=$r(this.points),_=M0(Oh(v),2),E=_[0],A=_[1];return{x:(E.x+A.x)/2,y:(E.y+A.y)/2}}},{key:"getAfterAnchor",value:function(i,s,h){var v,_;return h.forEach(function(E){var A;i===Bt.HORIZONTAL?A=Math.abs(s.y-E.y):i===Bt.VERTICAL&&(A=Math.abs(s.x-E.x)),(!_||_>A)&&(_=A,v=E)}),v}},{key:"getCrossPoint",value:function(i,s,h){var v;return i===Bt.HORIZONTAL?v={x:h.x,y:s.y}:i===Bt.VERTICAL&&(v={x:s.x,y:h.y}),v}},{key:"removeCrossPoints",value:function(i,s,h){var v=h.map(function(se){return se});if(i===1){var _=v[i],E=v[s],A=v[i-1];if(fc(A,_,this.sourceNode)){if(pc(_,E,this.sourceNode)){var N=dc(_,E,this.sourceNode);N&&(v[i]=N,v.splice(i-1,1),i--,s--)}}else this.sourceNode.anchors.forEach(function(se){(se.x===A.x&&se.x===_.x||se.y===A.y&&se.y===_.y)&&Jn(se.x,se.y,_.x,_.y)<Jn(A.x,A.y,_.x,_.y)&&(v[i-1]=se)})}if(s===h.length-2){var B=v[i],U=v[s],K=v[s+1];if(fc(U,K,this.targetNode)){if(pc(B,U,this.targetNode)){var ae=dc(B,U,this.targetNode);ae&&(v[s]=ae,v.splice(s+1,1))}}else this.targetNode.anchors.forEach(function(se){(se.x===K.x&&se.x===U.x||se.y===K.y&&se.y===U.y)&&Jn(se.x,se.y,U.x,U.y)<Jn(K.x,K.y,U.x,U.y)&&(v[s+1]=se)})}return v}},{key:"getDraggingPoints",value:function(i,s,h,v,_){var E=_.map(function(B){return B}),A=this.getAfterAnchor(i,h,v),N=this.getCrossPoint(i,h,A);return s==="start"?(E.unshift(N),E.unshift(A)):(E.push(N),E.push(A)),E}},{key:"updateCrossPoints",value:function(i){var s=i.map(function(_e){return _e}),h=i[0],v=i[1],_=i[s.length-2],E=i[s.length-1],A=this.sourceNode,N=this.targetNode,B=A.modelType,U=N.modelType,K=Ii(h,v),ae=s[0];switch(B){case gt.RECT_NODE:A.radius!==0&&(Ud(h,A)||(ae=Wd(h,K,A)));break;case gt.CIRCLE_NODE:ae=Ys(h,K,A);break;case gt.ELLIPSE_NODE:ae=Yd(h,K,A);break;case gt.DIAMOND_NODE:case gt.POLYGON_NODE:ae=Vd(h,K,A)}s[0]=ae;var se=Ii(_,E),fe=s[s.length-1];switch(U){case gt.RECT_NODE:N.radius!==0&&(Ud(E,N)||(fe=Wd(E,se,N)));break;case gt.CIRCLE_NODE:fe=Ys(E,se,N);break;case gt.ELLIPSE_NODE:fe=Yd(E,se,N);break;case gt.DIAMOND_NODE:case gt.POLYGON_NODE:fe=Vd(E,se,N)}return s[s.length-1]=fe,s}},{key:"getData",value:function(){var i=Pi(Vr(u.prototype),"getData",this).call(this),s=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Object.assign({},i,{pointsList:s})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=lc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,s){this.startPoint.x+=i,this.startPoint.y+=s,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,s){this.endPoint.x+=i,this.endPoint.y+=s,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,s){this.isDragging=!0;var h=i.start,v=i.end,_=i.startIndex,E=i.endIndex,A=i.direction,N=this.pointsList,B=N;return A===Bt.HORIZONTAL?(N[_]={x:h.x,y:h.y+s.y},N[E]={x:v.x,y:v.y+s.y},B=this.pointsList.map(function(U){return U})):A===Bt.VERTICAL&&(N[_]={x:h.x+s.x,y:h.y},N[E]={x:v.x+s.x,y:v.y},B=this.pointsList.map(function(U){return U})),this.updatePointsAfterDrag(B),this.draggingPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[_]),end:Object.assign({},N[E]),startIndex:_,endIndex:E,direction:A}}},{key:"dragAppend",value:function(i,s){this.isDragging=!0;var h=i.start,v=i.end,_=i.startIndex,E=i.endIndex,A=i.direction,N=this.pointsList;if(A===Bt.HORIZONTAL){N[_]={x:h.x,y:h.y+s.y},N[E]={x:v.x,y:v.y+s.y};var B=this.pointsList.map(function(Re){return Re});if(_!==0&&E!==this.pointsList.length-1&&(B=this.removeCrossPoints(_,E,B)),_===0){var U={x:h.x,y:h.y+s.y};if(!Yr(U,this.sourceNode)){var K=this.sourceNode.anchors;B=this.getDraggingPoints(A,"start",U,K,B)}}if(E===this.pointsList.length-1){var ae={x:v.x,y:v.y+s.y};if(!Yr(ae,this.targetNode)){var se=this.targetNode.anchors;B=this.getDraggingPoints(A,"end",ae,se,B)}}this.updatePointsAfterDrag(B),this.draggingPointList=B}else if(A===Bt.VERTICAL){N[_]={x:h.x+s.x,y:h.y},N[E]={x:v.x+s.x,y:v.y};var fe=this.pointsList.map(function(Re){return Re});if(_!==0&&E!==this.pointsList.length-1&&(fe=this.removeCrossPoints(_,E,fe)),_===0){var _e={x:h.x+s.x,y:h.y};if(!Yr(_e,this.sourceNode)){var Ce=this.sourceNode.anchors;fe=this.getDraggingPoints(A,"start",_e,Ce,fe)}}if(E===this.pointsList.length-1){var Ie={x:v.x+s.x,y:v.y};if(!Yr(Ie,this.targetNode)){var Qe=this.targetNode.anchors;fe=this.getDraggingPoints(A,"end",Ie,Qe,fe)}}this.updatePointsAfterDrag(fe),this.draggingPointList=fe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[_]),end:Object.assign({},N[E]),startIndex:_,endIndex:E,direction:A}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=cc($r(this.points));this.pointsList=i.map(function(v){return v}),this.draggingPointList=[];var s=i[0];this.startPoint=Object.assign({},s);var h=i[i.length-1];this.endPoint=Object.assign({},h)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var s=this.updateCrossPoints(i);this.points=s.map(function(h){return"".concat(h.x,",").concat(h.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var s=i.startPoint,h=i.endPoint,v=i.sourceNode,_=i.targetNode,E=lc({x:s.x,y:s.y},{x:h.x,y:h.y},v,_,this.offset||0);this.pointsList=E,this.initPoints()}}])&&k0(t.prototype,n),u}(qs),th=gn(pt.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn(pt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"initPoints"),pt.prototype),gn(pt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"updatePoints"),pt.prototype),gn(pt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateStartPoint"),pt.prototype),gn(pt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"moveStartPoint"),pt.prototype),gn(pt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateEndPoint"),pt.prototype),gn(pt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"moveEndPoint"),pt.prototype),gn(pt.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppendStart"),pt.prototype),gn(pt.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppendSimple"),pt.prototype),gn(pt.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppend"),pt.prototype),gn(pt.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppendEnd"),pt.prototype),gn(pt.prototype,"updatePointsAfterDrag",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"updatePointsAfterDrag"),pt.prototype),gn(pt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"getAdjustStart"),pt.prototype),gn(pt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"getAdjustEnd"),pt.prototype),gn(pt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateAfterAdjustStartAndEnd"),pt.prototype),pt),Ti=function(e){var t=e.start,n=e.end,r=e.offset,u=e.verticalLength,i=e.type,s={leftX:0,leftY:0,rightX:0,rightY:0},h=Math.atan((n.y-t.y)/(n.x-t.x)),v=Math.atan(r/u),_=Math.sqrt(u*u+r*r);return i==="start"?n.x>=t.x?(s.leftX=t.x+_*Math.sin(h+v),s.leftY=t.y-_*Math.cos(h+v),s.rightX=t.x-_*Math.sin(h-v),s.rightY=t.y+_*Math.cos(h-v)):(s.leftX=t.x-_*Math.sin(h+v),s.leftY=t.y+_*Math.cos(h+v),s.rightX=t.x+_*Math.sin(h-v),s.rightY=t.y-_*Math.cos(h-v)):i==="end"&&(n.x>=t.x?(s.leftX=n.x+_*Math.sin(h-v),s.leftY=n.y-_*Math.cos(h-v),s.rightX=n.x-_*Math.sin(h+v),s.rightY=n.y+_*Math.cos(h+v)):(s.leftX=n.x-_*Math.sin(h-v),s.leftY=n.y+_*Math.cos(h-v),s.rightX=n.x+_*Math.sin(h+v),s.rightY=n.y-_*Math.cos(h+v))),s},I0={x:1,y:0,z:0};function ih(e,t,n,r,u){for(var i=function(U){if(U<0||U>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:e.x*Math.pow(1-U,3)+3*t.x*U*Math.pow(1-U,2)+3*n.x*Math.pow(U,2)*(1-U)+r.x*Math.pow(U,3),y:e.y*Math.pow(1-U,3)+3*t.y*U*Math.pow(1-U,2)+3*n.y*Math.pow(U,2)*(1-U)+r.y*Math.pow(U,3)}},s=0,h=2,v=r.x,_=r.y,E=r;s<u&&h<50;){var A=E=i(1-h/100),N=A.x,B=A.y;s=Jn(v,_,N,B),h++}return E}function ah(e){var t=Math.hypot(e.x,e.y);return{x:e.x/t,y:e.y/t,z:0}}function uh(e){return r=function(i,s){return i.x*s.y-i.y*s.x}(t=I0,n=e),u=Math.acos(function(i,s){var h=[i.x,i.y,i.z];return[s.x,s.y,s.z].reduce(function(v,_,E){return v+_*h[E]})}(ah(t),ah(n))),r>=0?u:-u;var t,n,r,u}function sh(e){return e*(180/Math.PI)}function ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ch(Object(n),!0).forEach(function(r){R0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ch(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0(e){return function(t){if(Array.isArray(t))return oc(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||lh(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rc(e){return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Ya(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||lh(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lh(e,t){if(e){if(typeof e=="string")return oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oc(e,t):void 0}}function oc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B0=function(e,t){var n;switch(e.type){case"line":default:n=new Xa(e,t);break;case"polyline":n=new Wa(e,t)}return n},fh=function(e,t){return 2*Math.abs(e.centerX-t.centerX)<e.width+t.width&&2*Math.abs(e.centerY-t.centerY)<e.height+t.height},Ai=function(e){var t=[],n={};return e.forEach(function(r){var u="".concat(r.x,"-").concat(r.y);r.id=u,n[u]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},z0=function(e,t){var n=[e,{x:e.x,y:t.y},t];return Ai(n)},ki=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},ph=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height?Bt.HORIZONTAL:Bt.VERTICAL},Ni=function(e,t,n){return ph(n,t)===Bt.HORIZONTAL?{x:n.x>e.centerX?e.maxX:e.minX,y:n.y}:{x:n.x,y:n.y>e.centerY?e.maxY:e.minY}},ic=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),u=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+u)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:u,maxY:i,height:i-r,width:u-n}},Co=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(E){n.push(E.x),r.push(E.y)});var u=Math.min.apply(Math,n),i=Math.max.apply(Math,n),s=Math.min.apply(Math,r),h=Math.max.apply(Math,r),v=i-u,_=h-s;return t&&(v+=t,_+=t),{centerX:(u+i)/2,centerY:(s+h)/2,maxX:i,maxY:h,minX:u,minY:s,x:(u+i)/2,y:(s+h)/2,height:_,width:v}},Di=function(e){var t=e.minX,n=e.minY,r=e.maxX,u=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:u},{x:t,y:u}]},Ci=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},dh=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},hh=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},yh=function(e,t){return dh(e,t.x).concat(hh(e,t.y))},Va=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},vh=function(e,t){var n=0;return t.forEach(function(r){r&&(e.x===r.x&&(n+=-2),e.y===r.y&&(n+=-2))}),n},ac=function(e,t,n,r,u){return Va(e,t)+Va(e,n)+vh(e,[t,n,r,u])},gh=function e(t,n,r,u,i){i||(i=0),t.unshift(n[u]),r[u]&&r[u]!==u&&i<=100&&e(t,n,r,r[u],i+1)},mh=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},Io=function(e,t,n,r){var u=t.x-e.x,i=t.y-e.y,s=r.x-n.x,h=r.y-n.y,v=(-i*(e.x-n.x)+u*(e.y-n.y))/(-s*i+u*h),_=(s*(e.y-n.y)-h*(e.x-n.x))/(-s*i+u*h);return v>=0&&v<=1&&_>=0&&_<=1},uc=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=Ya(Di(n),4),u=r[0],i=r[1],s=r[2],h=r[3];return Io(e,t,u,i)||Io(e,t,u,h)||Io(e,t,i,s)||Io(e,t,s,h)},bh=function(e,t,n,r){var u=[];return e.forEach(function(i){i!==t&&(i.x!==t.x&&i.y!==t.y||uc(i,t,n)||uc(i,t,r)||u.push(i))}),Ai(u)},_h=function(e,t,n,r,u,i,s){var h=[],v=[t],_={},E={},A={};E[t.id]=0,A[t.id]=ac(t,n,t);var N={};e.forEach(function(K){N[K.id]=K});for(var B=function(){var K=void 0,ae=1/0;if(v.forEach(function(fe){A[fe.id]<ae&&(ae=A[fe.id],K=fe)}),K===n){var se=[];return gh(se,N,_,n.id),{v:se}}mh(v,K),h.push(K),bh(e,K,r,u).forEach(function(fe){if(h.indexOf(fe)===-1){v.indexOf(fe)===-1&&v.push(fe);var _e=A[K.id]+Va(K,fe);E[fe.id]&&_e>=E[fe.id]||(_[fe.id]=K.id,E[fe.id]=_e,A[fe.id]=E[fe.id]+ac(fe,n,t,i,s))}})};v.length;){var U=B();if(rc(U)==="object")return U.v}return[t,n]},sc=function(e){return Ln(e)},cc=function(e){for(var t=1;t<e.length-1;){var n=e[t-1],r=e[t],u=e[t+1];n.x===r.x&&r.x===u.x||n.y===r.y&&r.y===u.y?e.splice(t,1):t++}return e},lc=function(e,t,n,r,u){var i=sc(n),s=sc(r),h=ki(i,u),v=ki(s,u),_=Ni(h,i,e),E=Ni(v,s,t);if(fh(h,v)){var A=wh(e,t,_,E);return[e,_].concat(L0(A),[E,t])}var N=Co([_,E]),B=ic(h,N),U=ic(v,N),K=[];K=(K=K.concat(Di(B))).concat(Di(U));var ae={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[N,B,U].forEach(function(fe){K=K.concat(yh(fe,ae).filter(function(_e){return Ci(_e,h)&&Ci(_e,v)}))}),[{x:_.x,y:E.y},{x:E.x,y:_.y}].forEach(function(fe){Ci(fe,h)&&Ci(fe,v)&&K.push(fe)}),K.unshift(_),K.push(E),K=Ai(K);var se=_h(K,_,E,i,s,e,t);return se.unshift(e),se.push(t),se.length>2&&(se=cc(se)),Ai(se)},Oh=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],u=Jn(n.x,n.y,r.x,r.y),i=1;i<e.length-1;i++){var s=e[i],h=e[i+1],v=Jn(s.x,s.y,h.x,h.y);v>u&&(u=v,n=s,r=h)}t=[n,r]}return t},fc=function(e,t,n){var r=Yr(e,n),u=Yr(t,n);return r&&u},pc=function(e,t,n){var r=Yr(e,n),u=Yr(t,n);return!(r&&u)&&(r||u)},dc=function(e,t,n){for(var r,u,i=Ln(n),s=Di(i),h=0;h<s.length;h++)Io(e,t,s[h],s[(h+1)%s.length])&&(u=[s[h],s[(h+1)%s.length]]);return u&&(r=function(v,_,E,A){var N=(_.y-v.y)*(A.x-E.x)-(v.x-_.x)*(E.y-A.y);if(N===0)return!1;var B=((_.x-v.x)*(A.x-E.x)*(E.y-v.y)+(_.y-v.y)*(A.x-E.x)*v.x-(A.y-E.y)*(_.x-v.x)*E.x)/N,U=-((_.y-v.y)*(A.y-E.y)*(E.x-v.x)+(_.x-v.x)*(A.y-E.y)*v.y-(A.x-E.x)*(_.y-v.y)*E.y)/N;return(B-v.x)*(B-_.x)<=0&&(U-v.y)*(U-_.y)<=0&&(B-E.x)*(B-A.x)<=0&&(U-E.y)*(U-A.y)<=0&&{x:B,y:U}}(e,t,u[0],u[1])),r},Ii=function(e,t){var n;return e.x===t.x?n=Bt.VERTICAL:e.y===t.y&&(n=Bt.HORIZONTAL),n},$r=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var u=Ya(r.split(","),2),i=u[0],s=u[1];n.push({x:Number(i),y:Number(s)})}),n},wh=function(e,t,n,r){var u=[];if(Ii(e,n)===Ii(t,r))e.y===n.y?(u.push({x:n.x,y:(n.y+r.y)/2}),u.push({x:r.x,y:(n.y+r.y)/2})):(u.push({x:(n.x+r.x)/2,y:n.y}),u.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},s=Si(i,e,n),h=Si(i,t,r);if(s||h)i={x:r.x,y:n.y};else{var v=xh(i,e,n),_=xh(i,t,r);v&&_&&(i={x:r.x,y:n.y})}u.push(i)}return u},xh=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},hc=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},yc=null,F0=function(e,t){yc||(yc=document.createElement("canvas"));var n=yc.getContext("2d");return n.font=t,n.measureText(e).width},Eh=function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var u={start:n,end:r,offset:10,verticalLength:5},i=Ti(Ua(Ua({},u),{},{type:"start"})),s=Ti(Ua(Ua({},u),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY,` 
    L`).concat(i.rightX," ").concat(i.rightY,` 
    L`).concat(s.rightX," ").concat(s.rightY,`
    L`).concat(s.leftX," ").concat(s.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},vc=function(e){var t=e.start,n=e.end,r=e.sourceNode,u=e.targetNode,i=e.offset,s=Ln(r),h=Ln(u),v=ki(s,i),_=ki(h,i);return{sNext:Ni(v,s,t),ePre:Ni(_,h,n)}},$a=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[Ka(t[0]),Ka(t[1]),Ka(t[2]),Ka(t[3])]},Ka=function(e){var t=Ya(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},gc=function(e,t){var n=Ya(e,4);return[ih(n[0],n[1],n[2],n[3],t),e[3]]},mc=function(e,t){for(var n,r=e.x,u=e.y,i=$r(t),s=Number.MAX_SAFE_INTEGER,h=[],v=0;v<i.length;v++)h.push({start:i[v],end:i[(v+1)%i.length]});if(h.forEach(function(N){var B=N.start,U=N.end;if(B.x===U.x){var K={x:B.x,y:u};if(Si(K,B,U)){var ae=Math.abs(B.x-r);ae<s&&(s=ae,n=K)}}else if(B.y===U.y){var se={x:r,y:B.y};if(Si(se,B,U)){var fe=Math.abs(B.y-u);fe<s&&(s=fe,n=se)}}}),!n){var _=h[0],E=_.start,A=_.end;n={x:E.x+(A.x-E.x)/2,y:E.y+(A.y-E.y)/2}}return n},Sh=function(e){return xi(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},bc=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};function jh(e,t){return typeof t!="function"?function(n,r,u){return Object.assign({type:e.edgeType},u)}:function(n,r,u){var i=t(n,r,u);return i?typeof i=="string"?Object.assign({},u,{type:i}):Object.assign({type:i},u):{type:e.edgeType}}}o(204);var Ro=function(){};function G0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lr=window.document;function H0(e){var t=e.onDragStart,n=t===void 0?Ro:t,r=e.onDragging,u=r===void 0?Ro:r,i=e.onDragEnd,s=i===void 0?Ro:i,h=e.step,v=h===void 0?1:h,_=e.isStopPropagation,E=_===void 0||_,A=!1,N=!1,B=0,U=0,K=0,ae=0;function se(_e){if(E&&_e.stopPropagation(),N&&(A=!0,K+=_e.clientX-B,ae+=_e.clientY-U,B=_e.clientX,U=_e.clientY,Math.abs(K)>v||Math.abs(ae)>v)){var Ce=K%v,Ie=ae%v,Qe=K-Ce,Re=ae-Ie;K=Ce,ae=Ie,u({deltaX:Qe,deltaY:Re,event:_e})}}function fe(_e){if(E&&_e.stopPropagation(),N=!1,lr.removeEventListener("mousemove",se,!1),lr.removeEventListener("mouseup",fe,!1),A)return A=!1,s({event:_e})}return function(_e){if(_e.button===0)return E&&_e.stopPropagation(),N=!0,B=_e.clientX,U=_e.clientY,lr.addEventListener("mousemove",se,!1),lr.addEventListener("mouseup",fe,!1),n({event:_e})}}var pe,Ph,Mh,Th,Ah,kh,Nh,Dh,Ch,Ih,Rh,Lh,Bh,Mr=function(){function e(r){var u=this,i=r.onDragStart,s=i===void 0?Ro:i,h=r.onDragging,v=h===void 0?Ro:h,_=r.onDragEnd,E=_===void 0?Ro:_,A=r.eventType,N=A===void 0?"":A,B=r.eventCenter,U=B===void 0?null:B,K=r.step,ae=K===void 0?1:K,se=r.isStopPropagation,fe=se===void 0||se,_e=r.model,Ce=_e===void 0?null:_e,Ie=r.data,Qe=Ie===void 0?null:Ie;(function(Re,Ke){if(!(Re instanceof Ke))throw new TypeError("Cannot call a class as a function")})(this,e),Qt(this,"onDragStart",void 0),Qt(this,"onDragging",void 0),Qt(this,"onDragEnd",void 0),Qt(this,"step",void 0),Qt(this,"isStopPropagation",void 0),Qt(this,"isDragging",!1),Qt(this,"isStartDragging",!1),Qt(this,"startX",0),Qt(this,"startY",0),Qt(this,"sumDeltaX",0),Qt(this,"sumDeltaY",0),Qt(this,"eventType",void 0),Qt(this,"eventCenter",void 0),Qt(this,"model",void 0),Qt(this,"data",void 0),Qt(this,"startTime",void 0),Qt(this,"handleMouseDown",function(Re){var Ke,Le;if(Re.button===0){u.isStopPropagation&&Re.stopPropagation(),u.isStartDragging=!0,u.startX=Re.clientX,u.startY=Re.clientY,lr.addEventListener("mousemove",u.handleMouseMove,!1),lr.addEventListener("mouseup",u.handleMouseUp,!1);var _t=(Ke=u.model)===null||Ke===void 0?void 0:Ke.getData();(Le=u.eventCenter)===null||Le===void 0||Le.emit(ot["".concat(u.eventType,"_MOUSEDOWN")],{e:Re,data:u.data||_t}),u.startTime=new Date().getTime()}}),Qt(this,"handleMouseMove",function(Re){if(u.isStopPropagation&&Re.stopPropagation(),u.isStartDragging&&(u.sumDeltaX+=Re.clientX-u.startX,u.sumDeltaY+=Re.clientY-u.startY,u.startX=Re.clientX,u.startY=Re.clientY,u.step<=1||Math.abs(u.sumDeltaX)>u.step||Math.abs(u.sumDeltaY)>u.step)){var Ke,Le=u.sumDeltaX%u.step,_t=u.sumDeltaY%u.step,Tt=u.sumDeltaX-Le,xt=u.sumDeltaY-_t;u.sumDeltaX=Le,u.sumDeltaY=_t;var Nt,Kt=(Ke=u.model)===null||Ke===void 0?void 0:Ke.getData();u.isDragging||((Nt=u.eventCenter)===null||Nt===void 0||Nt.emit(ot["".concat(u.eventType,"_DRAGSTART")],{e:Re,data:u.data||Kt}),u.onDragStart({event:Re})),u.isDragging=!0,Promise.resolve().then(function(){var nn,_n;u.onDragging({deltaX:Tt,deltaY:xt,event:Re}),(nn=u.eventCenter)===null||nn===void 0||nn.emit(ot["".concat(u.eventType,"_MOUSEMOVE")],{e:Re,data:u.data||Kt}),(_n=u.eventCenter)===null||_n===void 0||_n.emit(ot["".concat(u.eventType,"_DRAG")],{e:Re,data:u.data||Kt})})}}),Qt(this,"handleMouseUp",function(Re){u.isStartDragging=!1,u.isStopPropagation&&Re.stopPropagation(),Promise.resolve().then(function(){var Ke,Le,_t;lr.removeEventListener("mousemove",u.handleMouseMove,!1),lr.removeEventListener("mouseup",u.handleMouseUp,!1);var Tt=(Ke=u.model)===null||Ke===void 0?void 0:Ke.getData();(Le=u.eventCenter)===null||Le===void 0||Le.emit(ot["".concat(u.eventType,"_MOUSEUP")],{e:Re,data:u.data||Tt}),u.isDragging&&(u.isDragging=!1,u.onDragEnd({event:Re}),(_t=u.eventCenter)===null||_t===void 0||_t.emit(ot["".concat(u.eventType,"_DROP")],{e:Re,data:u.data||Tt}))})}),Qt(this,"cancelDrag",function(){lr.removeEventListener("mousemove",u.handleMouseMove,!1),lr.removeEventListener("mouseup",u.handleMouseUp,!1),u.onDragEnd({event:null}),u.isDragging=!1}),this.onDragStart=s,this.onDragging=v,this.onDragEnd=E,this.step=ae,this.isStopPropagation=fe,this.eventType=N,this.eventCenter=U,this.model=Ce,this.data=Qe}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&G0(t.prototype,n),e}(),zh={node:!1,edge:!1},X0={node:!0,edge:!0};function Fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fh(Object(n),!0).forEach(function(r){fr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ri(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||Gh(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lo(e){return function(t){if(Array.isArray(t))return _c(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Gh(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gh(e,t){if(e){if(typeof e=="string")return _c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_c(e,t):void 0}}function _c(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Za(e){return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function Yn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function W0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Hh,Xh=200,Wh=(pe=function(){function e(r){(function(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")})(this,e),fr(this,"rootEl",void 0),Yn(this,"width",Ph,this),Yn(this,"height",Mh,this),fr(this,"theme",void 0),fr(this,"eventCenter",void 0),fr(this,"modelMap",new Map),fr(this,"topElement",void 0),fr(this,"animation",void 0),fr(this,"idGenerator",void 0),fr(this,"edgeGenerator",void 0),fr(this,"nodeMoveRules",[]),Yn(this,"edgeType",Th,this),Yn(this,"nodes",Ah,this),Yn(this,"edges",kh,this),Yn(this,"overlapMode",Nh,this),Yn(this,"background",Dh,this),Yn(this,"transformModel",Ch,this),Yn(this,"editConfigModel",Ih,this),Yn(this,"gridSize",Rh,this),Yn(this,"partial",Lh,this),Yn(this,"fakerNode",Bh,this);var u,i=r.container,s=r.background,h=s===void 0?{}:s,v=r.grid,_=r.idGenerator,E=r.edgeGenerator,A=r.animation;this.background=h,Za(v)==="object"&&(this.gridSize=v.size),this.rootEl=i,this.editConfigModel=new qp(r),this.eventCenter=new l0,this.transformModel=new Tb(this.eventCenter),this.theme=bd(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(u=A)&&typeof u!="boolean"?md(Gt(zh),u):Gt(u===!0?X0:zh),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=_,this.edgeGenerator=jh(this,E),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=Ur()}var t,n;return t=e,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,u,i){return r[u.id]={index:i,model:u},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,u,i){return r[u.id]={index:i,model:u},r},{})}},{key:"modelsMap",get:function(){return[].concat(Lo(this.nodes),Lo(this.edges)).reduce(function(r,u){return r[u.id]=u,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(_){return r.push(_)}),this.edges.forEach(function(_){return r.push(_)}),r=r.sort(function(_,E){return _.zIndex-E.zIndex});for(var u=[],i=[-200,-200],s=[this.width+Xh,this.height+Xh],h=0;h<r.length;h++){var v=r[h];v.visible&&(!this.partial||v.isSelected||this.isElementInArea(v,i,s,!1,!1))&&u.push(v)}return u}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===St.TEXT_EDIT}),u=this.edges.find(function(i){return i.state===St.TEXT_EDIT});return r||u}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(u){u.isSelected&&r.set(u.id,u)}),this.edges.forEach(function(u){u.isSelected&&r.set(u.id,u)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(u){u.isSelected&&r.push(u)}),r}},{key:"getAreaElement",value:function(r,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=arguments.length>4&&arguments[4]!==void 0&&arguments[4],v=[],_=[];this.nodes.forEach(function(N){return _.push(N)}),this.edges.forEach(function(N){return _.push(N)});for(var E=0;E<_.length;E++){var A=_[E];h&&!A.visible||!this.isElementInArea(A,r,u,i,s)||v.push(A)}return v}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var u;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(u=this.nodesMap[r])===null||u===void 0?void 0:u.model}},{key:"getPointByClient",value:function(r){var u=r.x,i=r.y,s=this.rootEl.getBoundingClientRect(),h={x:u-s.left,y:i-s.top},v=Ri(this.transformModel.HtmlPointToCanvasPoint([h.x,h.y]),2);return{domOverlayPosition:h,canvasOverlayPosition:{x:v[0],y:v[1]}}}},{key:"isElementInArea",value:function(r,u,i){var s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Zt.NODE){for(var v=Ln(r=r),_=v.minX,E=v.minY,A=v.maxX,N=v.maxY,B=[{x:_,y:E},{x:A,y:E},{x:A,y:N},{x:_,y:N}],U=h,K=0;K<B.length;K++){var ae=B[K],se=ae.x,fe=ae.y,_e=this.transformModel.CanvasPointToHtmlPoint([se,fe]),Ce=Ri(_e,2);if(se=Ce[0],fe=Ce[1],Gs([se,fe],u,i)!==h){U=!h;break}}return U}if(r.BaseType===Zt.EDGE){var Ie=r=r,Qe=Ie.startPoint,Re=Ie.endPoint,Ke=this.transformModel.CanvasPointToHtmlPoint([Qe.x,Qe.y]),Le=this.transformModel.CanvasPointToHtmlPoint([Re.x,Re.y]),_t=Gs(Ke,u,i),Tt=Gs(Le,u,i);return s?_t&&Tt:_t||Tt}return!1}},{key:"graphDataToModel",value:function(r){var u=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=Ba(r.nodes,function(i){var s=u.getModel(i.type);if(!s)throw new Error("找不到".concat(i.type,"对应的节点。"));var h=i.x,v=i.y;return h&&v&&(i.x=Pr(h,u.gridSize),i.y=Pr(v,u.gridSize),Za(i.text)==="object"&&(i.text.x-=Bs(h,u.gridSize),i.text.y-=Bs(v,u.gridSize))),new s(i,u)}):this.nodes=[],r.edges?this.edges=Ba(r.edges,function(i){var s=u.getModel(i.type);if(!s)throw new Error("找不到".concat(i.type,"对应的边。"));return new s(i,u)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var s=i.getData();s&&!i.virtual&&r.push(s)});var u=[];return this.nodes.forEach(function(i){var s=i.getData();s&&!i.virtual&&u.push(s)}),{nodes:u,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,u=[],i=0;i<this.nodes.length;i++){var s=this.nodes[i];if(s.isDragging){r=!0;break}u.push(s.getHistoryData())}if(r)return!1;for(var h=!1,v=[],_=0;_<this.edges.length;_++){var E=this.edges[_];if(E.isDragging){h=!0;break}v.push(E.getHistoryData())}return!h&&{nodes:u,edges:v}}},{key:"getEdgeModelById",value:function(r){var u;return(u=this.edgesMap[r])===null||u===void 0?void 0:u.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var u=[],i=0;i<this.edges.length;i++){var s=this.edges[i],h=this.edges[i].sourceNodeId===r,v=this.edges[i].targetNodeId===r;(h||v)&&u.push(s)}return u}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],u=this.selectElements,i={nodes:[],edges:[]};return u.forEach(function(s){if(s.BaseType===Zt.NODE&&i.nodes.push(s.getData()),s.BaseType===Zt.EDGE){var h=s.getData(),v=u.get(h.sourceNodeId)&&u.get(h.targetNodeId);(r||v)&&i.edges.push(h)}}),i}},{key:"updateAttributes",value:function(r,u){this.getElement(r).updateAttributes(u)}},{key:"changeNodeId",value:function(r,u){return u||(u=Ur()),this.nodesMap[u]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=u),i.targetNodeId===r&&(i.targetNodeId=u)}),this.nodesMap[r].model.id=u,this.nodesMap[u]=this.nodesMap[r],u):""}},{key:"changeEdgeId",value:function(r,u){return u||(u=Ur()),this.edgesMap[u]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(u)}),u):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,u){return this.modelMap.set(r,u)}},{key:"toFront",value:function(r){var u,i,s,h=((u=this.nodesMap[r])===null||u===void 0?void 0:u.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);h&&(this.overlapMode===Rn.DEFAULT&&((s=this.topElement)===null||s===void 0||s.setZIndex(),h.setZIndex(9999),this.topElement=h),this.overlapMode===Rn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,u){var i,s,h,v=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((s=this.edgesMap[r])===null||s===void 0?void 0:s.model);v&&(typeof u=="number"&&(h=u),u==="top"&&(h=$s()),u==="bottom"&&(h=--O0),v.setZIndex(h))}},{key:"deleteNode",value:function(r){var u=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(ot.NODE_DELETE,{data:u})}},{key:"addNode",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,s=ln(r);s.id&&this.nodesMap[r.id]&&delete s.id;var h=this.getModel(s.type);if(!h)throw new Error("找不到".concat(s.type,"对应的节点，请确认是否已注册此类型节点。"));s.x=Pr(s.x,this.gridSize),s.y=Pr(s.y,this.gridSize);var v=new h(s,this);this.nodes.push(v);var _=v.getData(),E={data:_};return i&&(E.e=i),this.eventCenter.emit(u,E),v}},{key:"cloneNode",value:function(r){var u=this.getNodeModelById(r),i=u.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var s=this.addNode(i);return s.setSelected(!0),u.setSelected(!1),s.getData()}},{key:"moveNode",value:function(r,u,i){var s=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var v=h.model,_=v.getMoveDistance(u,i,s),E=Ri(_,2);u=E[0],i=E[1],this.moveEdge(r,u,i)}}},{key:"moveNode2Coordinate",value:function(r,u,i){var s=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var v=h.model,_=v.x,E=v.y,A=u-_,N=i-E;this.moveNode(r,A,N,s)}}},{key:"editText",value:function(r){this.setElementStateById(r,St.TEXT_EDIT)}},{key:"addEdge",value:function(r){var u=ln(r),i=u.type;i||(i=this.edgeType),u.id&&this.edgesMap[u.id]&&delete u.id;var s=this.getModel(i);if(!s)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var h=new s(qa(qa({},u),{},{type:i}),this),v=h.getData();return this.edges.push(h),this.eventCenter.emit(ot.EDGE_ADD,{data:v}),h}},{key:"moveEdge",value:function(r,u,i){for(var s=0;s<this.edges.length;s++){var h=this.edges[s],v=h.textPosition,_=v.x,E=v.y,A=this.edges[s].sourceNodeId===r,N=this.edges[s].targetNodeId===r;A&&h.moveStartPoint(u,i),N&&h.moveEndPoint(u,i),(A||N)&&this.handleEdgeTextMove(h,_,E)}}},{key:"handleEdgeTextMove",value:function(r,u,i){var s;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===gt.POLYLINE_EDGE&&(s=r.text)!==null&&s!==void 0&&s.value){var h=r.text,v=mc(h,r.points);r.moveText(v.x-h.x,v.y-h.y)}else{var _=r.textPosition,E=_.x,A=_.y;r.moveText(E-u,A-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,u){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===u){var s=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(ot.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var u=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(u,1),this.eventCenter.emit(ot.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var u=0;u<this.edges.length;u++)if(this.edges[u].sourceNodeId===r){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(ot.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var u=0;u<this.edges.length;u++)if(this.edges[u].targetNodeId===r){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(ot.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,u,i){this.nodes.forEach(function(s){s.id===r?s.setElementState(u,i):s.setElementState(St.DEFAULT)}),this.edges.forEach(function(s){s.id===r?s.setElementState(u,i):s.setElementState(St.DEFAULT)})}},{key:"updateText",value:function(r,u){this.nodes.forEach(function(i){i.id===r&&i.updateText(u)}),this.edges.forEach(function(i){i.id===r&&i.updateText(u)})}},{key:"selectNodeById",value:function(r){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var s=(u=this.nodesMap[r])===null||u===void 0?void 0:u.model;s==null||s.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var s=(u=this.edgesMap[r])===null||u===void 0?void 0:u.model;s==null||s.setSelected(!0)}},{key:"selectElementById",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(u){u==null||u.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Rn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,u,i){for(var s=this,h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=r.reduce(function(Ce,Ie){var Qe=s.nodesMap[Ie].model.getMoveDistance(u,i,h);return Ce[Ie]=Qe,Ce},{}),_=0;_<this.edges.length;_++){var E=this.edges[_],A=E.textPosition,N=A.x,B=A.y,U=v[E.sourceNodeId],K=void 0,ae=void 0;if(U){var se=Ri(U,2);K=se[0],ae=se[1],E.moveStartPoint(K,ae)}var fe=v[E.targetNodeId];if(fe){var _e=Ri(fe,2);K=_e[0],ae=_e[1],E.moveEndPoint(K,ae)}(U||fe)&&this.handleEdgeTextMove(E,N,B)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,u){var i=this.getNodeModelById(r);if(i){var s=i.getData();s.type=u;var h=this.getModel(u);if(!h)throw new Error("找不到".concat(u,"对应的节点，请确认是否已注册此类型节点。"));var v=new h(s,this);this.nodes.splice(this.nodesMap[r].index,1,v),this.getNodeEdges(r).forEach(function(_){if(_.sourceNodeId===r){var E=$d(v,_.startPoint,v.width,v.height);_.updateStartPoint(E)}if(_.targetNodeId===r){var A=$d(v,_.endPoint,v.width,v.height);_.updateEndPoint(A)}})}}},{key:"changeEdgeType",value:function(r,u){var i=this.getEdgeModelById(r);if(i&&i.type!==u){var s=i.getData();s.type=u;var h=this.getModel(u);if(!h)throw new Error("找不到".concat(u,"对应的节点，请确认是否已注册此类型节点。"));delete s.pointsList;var v=new h(s,this);this.edges.splice(this.edgesMap[r].index,1,v)}}},{key:"getNodeIncomingEdge",value:function(r){var u=[];return this.edges.forEach(function(i){i.targetNodeId===r&&u.push(i)}),u}},{key:"getNodeOutgoingEdge",value:function(r){var u=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&u.push(i)}),u}},{key:"getNodeIncomingNode",value:function(r){var u=this,i=[];return this.edges.forEach(function(s){s.targetNodeId===r&&i.push(u.nodesMap[s.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var u=this,i=[];return this.edges.forEach(function(s){s.sourceNodeId===r&&i.push(u.nodesMap[s.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=bd(qa(qa({},this.theme),r))}},{key:"resize",value:function(r,u){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=u||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,u=[],i=[];r.forEach(function(A){var N=A.x,B=A.y,U=A.width,K=A.height,ae=A.getNodeStyle().strokeWidth,se=ae===void 0?0:ae;u=u.concat([N+U/2+se,N-U/2-se]),i=i.concat([B+K/2+se,B-K/2-se])});var s=Math.min.apply(Math,Lo(u)),h=Math.max.apply(Math,Lo(u)),v=Math.min.apply(Math,Lo(i)),_=h-s||0,E=Math.max.apply(Math,Lo(i))-v||0;return{virtualRectWidth:_,virtualRectHeight:E,virtualRectCenterPositionX:s+_/2,virtualRectCenterPositionY:v+E/2}}},{key:"translateCenter",value:function(){var r=this.nodes,u=this.width,i=this.height,s=this.rootEl,h=this.transformModel;if(r.length){var v=u||s.clientWidth,_=i||s.clientHeight,E=this.getVirtualRectSize(),A=E.virtualRectCenterPositionX,N=E.virtualRectCenterPositionY;h.focusOn(A,N,v,_)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,s=this.width,h=this.height,v=this.rootEl,_=this.transformModel;if(i.length){var E=s||v.clientWidth,A=h||v.clientHeight,N=this.getVirtualRectSize(),B=N.virtualRectWidth,U=N.virtualRectHeight,K=N.virtualRectCenterPositionX,ae=N.virtualRectCenterPositionY,se=(B+u)/E,fe=(U+r)/A,_e=0;_e=1/Math.max(se,fe);var Ce=[E/2,A/2];_.zoom(_e,Ce),_.focusOn(K,ae,E,A)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&W0(t.prototype,n),e}(),Ph=$e(pe.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mh=$e(pe.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Th=$e(pe.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ah=$e(pe.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kh=$e(pe.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nh=$e(pe.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rn.DEFAULT}}),Dh=$e(pe.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ch=$e(pe.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ih=$e(pe.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rh=$e(pe.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Lh=$e(pe.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bh=$e(pe.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e(pe.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(pe.prototype,"nodesMap"),pe.prototype),$e(pe.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(pe.prototype,"edgesMap"),pe.prototype),$e(pe.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(pe.prototype,"modelsMap"),pe.prototype),$e(pe.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(pe.prototype,"sortElements"),pe.prototype),$e(pe.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(pe.prototype,"textEditElement"),pe.prototype),$e(pe.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(pe.prototype,"selectElements"),pe.prototype),$e(pe.prototype,"selectNodes",[f.m],Object.getOwnPropertyDescriptor(pe.prototype,"selectNodes"),pe.prototype),$e(pe.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"setFakerNode"),pe.prototype),$e(pe.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"removeFakerNode"),pe.prototype),$e(pe.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"setModel"),pe.prototype),$e(pe.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"toFront"),pe.prototype),$e(pe.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"setElementZIndex"),pe.prototype),$e(pe.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteNode"),pe.prototype),$e(pe.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"addNode"),pe.prototype),$e(pe.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"cloneNode"),pe.prototype),$e(pe.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"moveNode"),pe.prototype),$e(pe.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"moveNode2Coordinate"),pe.prototype),$e(pe.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"editText"),pe.prototype),$e(pe.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"addEdge"),pe.prototype),$e(pe.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"moveEdge"),pe.prototype),$e(pe.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteEdgeBySourceAndTarget"),pe.prototype),$e(pe.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteEdgeById"),pe.prototype),$e(pe.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteEdgeBySource"),pe.prototype),$e(pe.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteEdgeByTarget"),pe.prototype),$e(pe.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"setElementStateById"),pe.prototype),$e(pe.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"updateText"),pe.prototype),$e(pe.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"selectNodeById"),pe.prototype),$e(pe.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"selectEdgeById"),pe.prototype),$e(pe.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"selectElementById"),pe.prototype),$e(pe.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"clearSelectElements"),pe.prototype),$e(pe.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"moveNodes"),pe.prototype),$e(pe.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"setDefaultEdgeType"),pe.prototype),$e(pe.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"changeNodeType"),pe.prototype),$e(pe.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"changeEdgeType"),pe.prototype),$e(pe.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"getNodeIncomingEdge"),pe.prototype),$e(pe.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"getNodeOutgoingEdge"),pe.prototype),$e(pe.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"getNodeIncomingNode"),pe.prototype),$e(pe.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"getNodeOutgoingNode"),pe.prototype),$e(pe.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"setTheme"),pe.prototype),$e(pe.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"resize"),pe.prototype),$e(pe.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"clearData"),pe.prototype),$e(pe.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"translateCenter"),pe.prototype),$e(pe.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"fitView"),pe.prototype),$e(pe.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"openEdgeAnimation"),pe.prototype),$e(pe.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(pe.prototype,"closeEdgeAnimation"),pe.prototype),pe),U0=Wh;function Oc(e){return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function wc(){return wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(this,arguments)}function Y0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xc(e,t){return xc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xc(e,t)}function V0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ja(e);if(t){var u=Ja(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return $0(this,n)}}function $0(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pr(e)}function pr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uh,K0=nr(Hh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&xc(i,s)})(u,e);var t,n,r=V0(u);function u(i){var s;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,u),Tr(pr(s=r.call(this)),"stepDrag",void 0),Tr(pr(s),"stepScrollX",0),Tr(pr(s),"stepScrollY",0),Tr(pr(s),"onDragging",function(E){var A=E.deltaX,N=E.deltaY;s.setState({isDragging:!0});var B=s.props.graphModel,U=B.transformModel;B.editConfigModel.stopMoveGraph||U.translate(A,N)}),Tr(pr(s),"onDragEnd",function(){s.setState({isDragging:!1})}),Tr(pr(s),"zoomHandler",function(E){var A=s.props,N=A.graphModel,B=N.editConfigModel,U=N.transformModel,K=N.gridSize,ae=A.graphModel,se=E.deltaX,fe=E.deltaY;if(B.stopScrollGraph||E.ctrlKey===!0){if(!B.stopZoomGraph){E.preventDefault();var _e=ae.getPointByClient({x:E.clientX,y:E.clientY}).canvasOverlayPosition,Ce=_e.x,Ie=_e.y;U.zoom(E.deltaY<0,[Ce,Ie])}}else{if(E.preventDefault(),s.stepScrollX+=se,s.stepScrollY+=fe,Math.abs(s.stepScrollX)>=K){var Qe=s.stepScrollX%K,Re=s.stepScrollX-Qe;U.translate(-Re*U.SCALE_X,0),s.stepScrollX=Qe}if(Math.abs(s.stepScrollY)>=K){var Ke=s.stepScrollY%K,Le=s.stepScrollY-Ke;U.translate(0,-Le*U.SCALE_Y),s.stepScrollY=Ke}}}),Tr(pr(s),"clickHandler",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){var A=s.props.graphModel;A.selectElements.size>0&&A.clearSelectElements(),A.eventCenter.emit(ot.BLANK_CLICK,{e:E})}}),Tr(pr(s),"handleContextMenu",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){E.preventDefault();var A=s.props.graphModel,N=A.getPointByClient({x:E.clientX,y:E.clientY});A.eventCenter.emit(ot.BLANK_CONTEXTMENU,{e:E,position:N})}}),Tr(pr(s),"mouseDownHandler",function(E){var A=s.props.graphModel,N=A.eventCenter,B=A.editConfigModel,U=A.transformModel.SCALE_X,K=A.gridSize,ae=E.target,se=!B.adjustEdge&&!B.adjustNodePosition;(ae.getAttribute("name")==="canvas-overlay"||se)&&(B.stopMoveGraph?N.emit(ot.BLANK_MOUSEDOWN,{e:E}):(s.stepDrag.setStep(K*U),s.stepDrag.handleMouseDown(E)),s.clickHandler(E))});var h=i.graphModel,v=h.gridSize,_=h.eventCenter;return s.stepDrag=new Mr({onDragging:s.onDragging,onDragEnd:s.onDragEnd,step:v,eventType:"BLANK",isStopPropagation:!1,eventCenter:_,model:null}),s.state={isDragging:!1},s}return t=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,s=this.props,h=s.children,v=s.dnd,_=this.state.isDragging;return Object(ne.g)("svg",wc({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:_?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},v.eventMap()),Object(ne.g)("g",{transform:i},h))}}])&&Y0(t.prototype,n),u}(ne.a))||Hh;function Ec(e){return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function q0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sc(e,t){return Sc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sc(e,t)}function J0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qa(e);if(t){var u=Qa(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Q0(this,n)}}function Q0(e,t){if(t&&(Ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}var e1=nr(Uh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Sc(i,s)})(u,e);var t,n,r=J0(u);function u(){return q0(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,s=i.tool,h=i.graphModel,v=s.getTools().map(function(_){return Object(ne.g)(_,{graphModel:h,logicFlow:s.instance})});return s.components=v,v}},{key:"triggerToolRender",value:function(){var i=this.props,s=i.tool,h=i.graphModel,v=document.querySelector("#ToolOverlay_".concat(h.flowId)),_=s.getInstance();_.components.forEach(function(E){return E(_,v)}),_.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(ne.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&Z0(t.prototype,n),u}(ne.a))||Uh;function jc(e){return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function t1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pc(e,t){return Pc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pc(e,t)}function r1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=eu(e);if(t){var u=eu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return o1(this,n)}}function o1(e,t){if(t&&(jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}var Yh,i1=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Pc(i,s)})(u,e);var t,n,r=r1(u);function u(){return t1(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var i=this.props.background;return Object(ne.g)("div",{className:"lf-background"},Object(ne.g)("div",{style:i,className:"lf-background-area"}))}}])&&n1(t.prototype,n),u}(ne.a);function Mc(e){return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function a1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t){return Tc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tc(e,t)}function s1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=tu(e);if(t){var u=tu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return c1(this,n)}}function c1(e,t){if(t&&(Mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vh(e)}function Vh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}function l1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $h=nr(Yh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Tc(i,s)})(u,e);var t,n,r=s1(u);function u(){var i;a1(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return l1(Vh(i=r.call.apply(r,[this].concat(h))),"id",Ur()),i}return t=u,(n=[{key:"renderDot",value:function(){var i=this.props,s=i.config,h=s.color,v=s.thickness,_=v===void 0?2:v,E=i.size,A=i.visible,N=Math.min(Math.max(2,_),E/2),B=1;return A||(B=0),Object(ne.g)("rect",{width:N,height:N,rx:N/2,ry:N/2,fill:h,opacity:B})}},{key:"renderMesh",value:function(){var i=this.props,s=i.config,h=s.color,v=s.thickness,_=v===void 0?1:v,E=i.size,A=i.visible,N=Math.min(Math.max(1,_),E/2),B="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),U=1;return A||(U=0),Object(ne.g)("path",{d:B,stroke:h,strokeWidth:N,opacity:U})}},{key:"render",value:function(){var i=this.props,s=i.type,h=i.size,v=i.graphModel.transformModel,_=[v.SCALE_X,v.SKEW_Y,v.SKEW_X,v.SCALE_Y,v.TRANSLATE_X,v.TRANSLATE_Y].join(","),E="matrix(".concat(_,")");return Object(ne.g)("div",{className:"lf-grid"},Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ne.g)("defs",null,Object(ne.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:E,x:"0",y:"0",width:h,height:h},s==="dot"&&this.renderDot(),s==="mesh"&&this.renderMesh())),Object(ne.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&u1(t.prototype,n),u}(ne.a))||Yh;$h.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(52);function Ac(e){return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function f1(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Kh(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Kh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qh,Bo=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=f1(n,2),u=r[0],i=r[1];(u==="style"||Ac(i)!=="object")&&(t[u]=i)}),Object(ne.g)("line",t)};function kc(e){return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zh(Object(n),!0).forEach(function(r){p1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nc(e,t){return Nc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nc(e,t)}function y1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ru(e);if(t){var u=ru(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return v1(this,n)}}function v1(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(e)}var Jh,g1=nr(qh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Nc(i,s)})(u,e);var t,n,r=y1(u);function u(){return d1(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,s=i.position,h=i.isShowHorizontal,v=i.isShowVertical,_=i.getStyle(),E=s.x,A=E===void 0?0:E,N=s.y,B=N===void 0?0:N,U=nu(nu({x1:-1e5,y1:B,x2:1e5,y2:B},_),{},{stroke:h?_.stroke:"none"}),K=nu(nu({x1:A,y1:-1e5,x2:A,y2:1e5},_),{},{stroke:v?_.stroke:"none"});return Object(ne.g)("g",{className:"lf-snapline"},Object(ne.g)(Bo,U),Object(ne.g)(Bo,K))}}])&&h1(t.prototype,n),u}(ne.a))||qh;function Dc(e){return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function m1(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Qh(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Qh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e){var t=e.x,n=e.y,r=e.width,u=e.height,i=e.className,s=e.radius,h=t-r/2,v=n-u/2,_={};return Object.entries(e).forEach(function(E){var A=m1(E,2),N=A[0],B=A[1];Dc(B)!=="object"&&(_[N]=B)}),_.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",s&&(_.rx=s,_.ry=s),_.x=h,_.y=v,Object(ne.g)("rect",_)}function Cc(e){return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function zo(){return zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zo.apply(this,arguments)}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(r){b1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e,t){return Ic=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ic(e,t)}function w1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ou(e);if(t){var u=ou(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return x1(this,n)}}function x1(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(e)}Kr.defaultProps={className:"",radius:""};var ny,E1=nr(Jh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Ic(i,s)})(u,e);var t,n,r=w1(u);function u(){return _1(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,s=i.nodes,h=i.editConfigModel,v=h.hoverOutline,_=h.nodeSelectedOutline,E=[];return s.forEach(function(A){if(A.isHovered||A.isSelected){var N=A.isHovered,B=A.isSelected,U=A.x,K=A.y,ae=A.width,se=A.height;if(_&&B||v&&N){var fe=A.getOutlineStyle(),_e={};if(Object.keys(fe).forEach(function(Ie){Ie!=="hover"&&(_e[Ie]=fe[Ie])}),N){var Ce=fe.hover;_e=ty(ty({},_e),Ce)}E.push(Object(ne.g)(Kr,zo({className:"lf-outline-node",x:U,y:K,width:ae+10,height:se+10},_e)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,s=i.edges,h=i.editConfigModel,v=h.edgeSelectedOutline,_=h.hoverOutline,E=[],A=0;A<s.length;A++){var N=s[A];(v&&N.isSelected||_&&N.isHovered)&&(N.modelType===gt.LINE_EDGE?E.push(this.getLineOutline(N)):N.modelType===gt.POLYLINE_EDGE?E.push(this.getPolylineOutline(N)):N.modelType===gt.BEZIER_EDGE&&E.push(this.getBezierOutline(N)))}return E}},{key:"getLineOutline",value:function(i){var s=i.startPoint,h=i.endPoint,v=(s.x+h.x)/2,_=(s.y+h.y)/2,E=Math.abs(s.x-h.x)+10,A=Math.abs(s.y-h.y)+10,N=i.getOutlineStyle();return Object(ne.g)(Kr,zo({className:"lf-outline-edge",x:v,y:_,width:E,height:A},N))}},{key:"getPolylineOutline",value:function(i){var s=i.points,h=$r(s),v=Co(h,8),_=v.x,E=v.y,A=v.width,N=v.height,B=i.getOutlineStyle();return Object(ne.g)(Kr,zo({className:"lf-outline",x:_,y:E,width:A,height:N},B))}},{key:"getBezierOutline",value:function(i){var s=i.path,h=$a(s),v=Co(h,8),_=v.x,E=v.y,A=v.width,N=v.height,B=i.getOutlineStyle();return Object(ne.g)(Kr,zo({className:"lf-outline",x:_,y:E,width:A,height:N},B))}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&O1(t.prototype,n),u}(ne.a))||Jh;function Rc(e){return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function S1(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return ry(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return ry(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ry(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Li(e){var t=e.x,n=t===void 0?0:t,r=e.y,u=r===void 0?0:r,i=e.r,s=i===void 0?4:i,h=e.className,v={cx:n,cy:u,r:s,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(_){var E=S1(_,2),A=E[0],N=E[1];Rc(N)!=="object"&&(v[A]=N)}),v.className=h?"lf-basic-shape ".concat(h):"lf-basic-shape",Object(ne.g)("circle",v)}function Lc(e){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function j1(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return oy(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return oy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bi(){return Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi.apply(this,arguments)}function iy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uy(e,t,n){return t&&ay(e.prototype,t),n&&ay(e,n),e}function sy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bc(e,t)}function Bc(e,t){return Bc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bc(e,t)}function cy(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=au(e);if(t){var u=au(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return P1(this,n)}}function P1(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iu(e)}function iu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},au(e)}function zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ly,fy=function(e){sy(n,e);var t=cy(n);function n(){var r;return iy(this,n),zc(iu(r=t.call(this)),"dragHandler",void 0),zc(iu(r),"onDragging",function(u){var i=u.event,s=r.props,h=s.graphModel,v=s.bezierModel,_=s.type,E=h.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,A=E.x,N=E.y;v.updateAdjustAnchor({x:A,y:N},_)}),zc(iu(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Mr({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return uy(n,[{key:"render",value:function(){var r=this,u=this.props.position,i=u.x,s=u.y,h=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ne.g)(Li,Bi({className:"lf-bezier-adjust-anchor",x:i,y:s},h,{onMouseDown:function(v){r.dragHandler.handleMouseDown(v)}}))}}]),n}(ne.a),M1=nr(ny=function(e){sy(n,e);var t=cy(n);function n(){return iy(this,n),t.apply(this,arguments)}return uy(n,[{key:"getBezierAdjust",value:function(r,u){var i=r.path,s=r.id,h=j1($a(i),4),v=h[0],_=h[1],E=h[2],A=h[3],N=r.getEdgeStyle().adjustLine,B=[];return B.push(Object(ne.g)(Bo,Bi({x1:v.x,y1:v.y,x2:_.x,y2:_.y},N))),B.push(Object(ne.g)(fy,{position:_,bezierModel:r,graphModel:u,key:"".concat(s,"_ePre"),type:"sNext"})),B.push(Object(ne.g)(Bo,Bi({x1:A.x,y1:A.y,x2:E.x,y2:E.y},N))),B.push(Object(ne.g)(fy,{position:E,bezierModel:r,graphModel:u,key:"".concat(s,"_sNext"),type:"ePre"})),B}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,u=r.edges,i=[],s=0;s<u.length;s++){var h=u[s];h.isSelected&&h.modelType===gt.BEZIER_EDGE&&h.draggable&&i.push(this.getBezierAdjust(h,r))}return i}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ne.a))||ny;function Fc(e){return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function T1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gc(e,t){return Gc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gc(e,t)}function k1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uu(e);if(t){var u=uu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return N1(this,n)}}function N1(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(e)}var py,D1=nr(ly=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Gc(i,s)})(u,e);var t,n,r=k1(u);function u(){return T1(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,s=this.props.children;return Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ne.g)("g",{transform:i},s))}}])&&A1(t.prototype,n),u}(ne.a))||ly;function Hc(e){return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Xc(){return Xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc.apply(this,arguments)}function C1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t){return Wc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wc(e,t)}function R1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=su(e);if(t){var u=su(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return L1(this,n)}}function L1(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},su(e)}var B1=nr(py=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Wc(i,s)})(u,e);var t,n,r=R1(u);function u(){return C1(this,u),r.apply(this,arguments)}return t=u,n=[{key:"getComponent",value:function(i,s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",v=this.props.getView,_=v(i.type);return Object(ne.g)(_,{key:i.id,model:i,graphModel:s,overlay:h})}},{key:"render",value:function(){var i=this,s=this.props,h=s.graphModel,v=s.tool,_=s.options,E=s.dnd,A=s.snaplineModel,N={};_.width&&(N.width="".concat(h.width,"px")),_.height&&(N.height="".concat(h.height,"px"));var B=_.grid,U=h.fakerNode,K=h.editConfigModel.adjustEdge;return Object(ne.g)("div",{className:"lf-graph","flow-id":h.flowId,style:N},Object(ne.g)(K0,{graphModel:h,dnd:E},Object(ne.g)("g",{className:"lf-base"},Ba(h.sortElements,function(ae){return i.getComponent(ae,h)})),U?this.getComponent(U,h):""),Object(ne.g)(D1,{graphModel:h},Object(ne.g)(E1,{graphModel:h}),K?Object(ne.g)(M1,{graphModel:h}):"",_.snapline!==!1?Object(ne.g)(g1,{snaplineModel:A}):""),Object(ne.g)(e1,{graphModel:h,tool:v}),_.background&&Object(ne.g)(i1,{background:_.background}),_.grid&&Object(ne.g)($h,Xc({},B,{graphModel:h})))}}],n&&I1(t.prototype,n),u}(ne.a))||py,z1=B1;function dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dy(Object(n),!0).forEach(function(r){Ar(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G1=function(){function e(r){var u=this;(function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),Ar(this,"nodeConfig",void 0),Ar(this,"lf",void 0),Ar(this,"fakerNode",void 0),Ar(this,"stopDrag",function(){u.nodeConfig=null,window.document.removeEventListener("mouseup",u.stopDrag)}),Ar(this,"dragEnter",function(s){u.nodeConfig&&!u.fakerNode&&(u.fakerNode=u.lf.createFakerNode(cu(cu({},u.nodeConfig),u.clientToLocalPoint({x:s.clientX,y:s.clientY}))))}),Ar(this,"onDragOver",function(s){if(s.preventDefault(),u.fakerNode){var h=u.clientToLocalPoint({x:s.clientX,y:s.clientY}),v=h.x,_=h.y;u.fakerNode.moveTo(v,_);var E=u.fakerNode.getData();u.lf.setNodeSnapLine(E),u.lf.graphModel.eventCenter.emit(ot.NODE_DND_DRAG,{data:E})}return!1}),Ar(this,"onDragLeave",function(){u.fakerNode&&(u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)}),Ar(this,"onDrop",function(s){u.lf.graphModel&&s&&u.nodeConfig&&(u.lf.addNode(cu(cu({},u.nodeConfig),u.clientToLocalPoint({x:s.clientX,y:s.clientY})),ot.NODE_DND_ADD,s),s.preventDefault(),s.stopPropagation(),u.nodeConfig=null,u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)});var i=r.lf;this.lf=i}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var u=r.x,i=r.y,s=xp(this.lf.options,["grid","size"]),h=this.lf.graphModel.getPointByClient({x:u,y:i}).canvasOverlayPosition,v=h.x,_=h.y;return{x:Pr(v,s),y:Pr(_,s)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&F1(t.prototype,n),e}();function hy(e){var t=e.container,n=e.grid,r=e.width,u=e.height;if(!t)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof u=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(e.grid=vn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),vn({},vy,e)}var wt,yy,vy={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Uc(e){return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Yc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return gy(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return gy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function my(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?my(Object(n),!0).forEach(function(r){by(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H1(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function X1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(){return zi=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=U1(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},zi.apply(this,arguments)}function U1(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qr(e))!==null;);return e}function Vc(e,t){return Vc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vc(e,t)}function Y1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qr(e);if(t){var u=qr(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return V1(this,n)}}function V1(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fu(e)}function fu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e){return qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qr(e)}function by(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qn(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var $c=(wt=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Vc(i,s)})(u,e);var t,n,r=Y1(u);function u(){var i;X1(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return by(fu(i=r.call.apply(r,[this].concat(h))),"modelType",gt.BEZIER_EDGE),H1(fu(i),"path",yy,fu(i)),i}return t=u,(n=[{key:"initEdgeData",value:function(i){this.offset=100,zi(qr(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return lu(lu({},zi(qr(u.prototype),"getEdgeStyle",this).call(this)),Gt(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,s=0;return this.pointsList.forEach(function(h){var v=h.x,_=h.y;i+=v,s+=_}),{x:i/this.pointsList.length,y:s/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=zi(qr(u.prototype),"getData",this).call(this),s=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return lu(lu({},i),{},{pointsList:s})}},{key:"getControls",value:function(){var i=this.startPoint,s=this.endPoint;return vc({start:i,end:s,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var s=Yc(i,4),h=s[0],v=s[1],_=s[2],E=s[3];return"M ".concat(h.x," ").concat(h.y,`
    C `).concat(v.x," ").concat(v.y,`,
    `).concat(_.x," ").concat(_.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),s=i.sNext,h=i.ePre;this.updatePath(s,h)}},{key:"updatePath",value:function(i,s){i=Gt(i),s=Gt(s);var h={x:this.startPoint.x,y:this.startPoint.y},v={x:this.endPoint.x,y:this.endPoint.y};if(!i||!s){var _=this.getControls();i=_.sNext,s=_.ePre}this.pointsList=[h,i,s,v],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,s){this.startPoint.x+=i,this.startPoint.y+=s;var h=Yc(this.pointsList,3),v=h[1],_=h[2];v.x+=i,v.y+=s,this.updatePath(v,_)}},{key:"moveEndPoint",value:function(i,s){this.endPoint.x+=i,this.endPoint.y+=s;var h=Yc(this.pointsList,3),v=h[1],_=h[2];_.x+=i,_.y+=s,this.updatePath(v,_)}},{key:"updateAdjustAnchor",value:function(i,s){s==="sNext"?this.pointsList[1]=i:s==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var s=i.startPoint,h=i.endPoint,v=i.sourceNode,_=i.targetNode,E=vc({start:s,end:h,sourceNode:v,targetNode:_,offset:this.offset}),A=E.sNext,N=E.ePre;this.pointsList=[s,A,N,h],this.initPoints()}}])&&W1(t.prototype,n),u}(qs),yy=Qn(wt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qn(wt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"initPoints"),wt.prototype),Qn(wt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"updatePoints"),wt.prototype),Qn(wt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"updateStartPoint"),wt.prototype),Qn(wt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"updateEndPoint"),wt.prototype),Qn(wt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"moveStartPoint"),wt.prototype),Qn(wt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"moveEndPoint"),wt.prototype),Qn(wt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"updateAdjustAnchor"),wt.prototype),Qn(wt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"getAdjustStart"),wt.prototype),Qn(wt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"getAdjustEnd"),wt.prototype),Qn(wt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(wt.prototype,"updateAfterAdjustStartAndEnd"),wt.prototype),wt),Ne,_y,Oy,wy,xy,Ey,Sy,jy,Py,My,Ty,Ay,ky,Ny,Dy,Cy,Iy,Ry,Ly,By,$1=function(e){return e==null};function Kc(e){return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function K1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(v,_){if(v){if(typeof v=="string")return zy(v,_);var E=Object.prototype.toString.call(v).slice(8,-1);if(E==="Object"&&v.constructor&&(E=v.constructor.name),E==="Map"||E==="Set")return Array.from(v);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return zy(v,_)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,u=function(){};return{s:u,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(v){throw v},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var v=n.next();return s=v.done,v},e:function(v){h=!0,i=v},f:function(){try{s||n.return==null||n.return()}finally{if(h)throw i}}}}function zy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(n),!0).forEach(function(r){Mn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function q1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var kr,Gy,Nr=(Ne=function(){function e(r,u){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Mn(this,"id",""),tn(this,"type",_y,this),tn(this,"x",Oy,this),tn(this,"y",wy,this),tn(this,"text",xy,this),tn(this,"properties",Ey,this),tn(this,"_width",Sy,this),tn(this,"_height",jy,this),tn(this,"anchorsOffset",Py,this),tn(this,"isSelected",My,this),tn(this,"isHovered",Ty,this),tn(this,"isShowAnchor",Ay,this),tn(this,"isDragging",ky,this),tn(this,"isHitable",Ny,this),tn(this,"draggable",Dy,this),tn(this,"visible",Cy,this),Mn(this,"virtual",!1),Mn(this,"graphModel",void 0),tn(this,"zIndex",Iy,this),tn(this,"state",Ry,this),tn(this,"autoToFront",Ly,this),tn(this,"style",By,this),Mn(this,"BaseType",Zt.NODE),Mn(this,"modelType",gt.NODE),Mn(this,"additionStateData",void 0),Mn(this,"targetRules",[]),Mn(this,"sourceRules",[]),Mn(this,"moveRules",[]),Mn(this,"hasSetTargetRules",!1),Mn(this,"hasSetSourceRules",!1),this.graphModel=u,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var u=this.graphModel.idGenerator,i=u&&u(r.type),s=this.createId();r.id=s||i||Ur()}this.formatText(r),vn(this,function(h){return xi(h,["id","type","x","y","text","properties","virtual"])}(r)),this.graphModel.overlapMode===Rn.INCREASE&&(this.zIndex=r.zIndex||$s())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,u=r.x,i=r.y,s=r.value,h=this.properties;Object(f.x)(h)&&(h=Object(f.I)(h));var v={id:this.id,type:this.type,x:this.x,y:this.y,properties:h};return this.graphModel.overlapMode===Rn.INCREASE&&(v.zIndex=this.zIndex),s&&(v.text={x:u,y:i,value:s}),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return mn(mn({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Gt(r)}},{key:"getAnchorStyle",value:function(r){var u=this.graphModel.theme.anchor;return Gt(u)}},{key:"getAnchorLineStyle",value:function(r){var u=this.graphModel.theme.anchorLine;return Gt(u)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Gt(r)}},{key:"isAllowConnectedAsSource",value:function(r,u,i,s){var h=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var v,_=!0,E=0;E<h.length;E++){var A=h[E];if(!A.validate.call(this,this,r,u,i,s)){_=!1,v=A.message;break}}return{isAllPass:_,msg:v}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,u,i,s){var h=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var v,_=!0,E=0;E<h.length;E++){var A=h[E];if(!A.validate.call(this,r,this,u,i,s)){_=!1,v=A.message;break}}return{isAllPass:_,msg:v}}},{key:"isAllowMoveNode",value:function(r,u){var i,s=!0,h=!0,v=K1(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(v.s();!(i=v.n()).done;){var _=(0,i.value)(this,r,u);if(!_)return!1;if(Kc(_)==="object"){var E=_;if(E.x===!1&&E.y===!1)return!1;s=s&&E.x,h=h&&E.y}}}catch(A){v.e(A)}finally{v.f()}return{x:s,y:h}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,u=this.id,i=this.x,s=this.y;return r&&r.length>0?r.map(function(h,v){return h.length?(h=h,{id:"".concat(u,"_").concat(v),x:i+h[0],y:s+h[1]}):mn(mn({},h=h),{},{x:i+h.x,y:s+h.y,id:h.id||"".concat(u,"_").concat(v)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(u,i){for(var s,h=Us(i),v=Number.MAX_SAFE_INTEGER,_=0;_<h.length;_++){var E=Jn(u.x,u.y,h[_].x,h[_].y);E<v&&(v=E,s={index:_,anchor:xd(xd({},h[_]),{},{x:h[_].x,y:h[_].y,id:h[_].id})})}return s}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!$1(r))for(var u=0;u<this.anchors.length;u++){var i=this.anchors[u];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,h=!1;if(i)s=!0,h=!0;else{var v=this.isAllowMoveNode(r,u);typeof v=="boolean"?(s=v,h=v):(s=v.x,h=v.y)}if(s){var _=this.x+r;this.x=_,this.text&&this.moveText(r,0)}if(h){var E=this.y+u;this.y=E,this.text&&this.moveText(0,u)}return s||h}},{key:"getMoveDistance",value:function(r,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,h=!1,v=0,_=0;if(i)s=!0,h=!0;else{var E=this.isAllowMoveNode(r,u);typeof E=="boolean"?(s=E,h=E):(s=E.x,h=E.y)}if(s&&r){var A=this.x+r;this.x=A,this.text&&this.moveText(r,0),v=r}if(h&&u){var N=this.y+u;this.y=N,this.text&&this.moveText(0,u),_=u}return[v,_]}},{key:"moveTo",value:function(r,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=r-this.x,h=u-this.y;return!(!i&&!this.isAllowMoveNode(s,h)||(this.text&&this.text&&this.moveText(s,h),this.x=r,this.y=u,0))}},{key:"moveText",value:function(r,u){var i=this.text,s=i.x,h=i.y,v=i.value,_=i.draggable,E=i.editable;this.text={value:v,editable:E,draggable:_,x:s+r,y:h+u}}},{key:"updateText",value:function(r){this.text=mn(mn({},Object(f.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,u){this.state=r,this.additionStateData=u}},{key:"setProperty",value:function(r,u){this.properties=mn(mn({},Object(f.I)(this.properties)),{},Mn({},r,ln(u))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=mn(mn({},Object(f.I)(this.properties)),ln(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,u){this.style=mn(mn({},this.style),{},Mn({},r,ln(u)))}},{key:"setStyles",value:function(r){this.style=mn(mn({},this.style),ln(r))}},{key:"updateStyles",value:function(r){this.style=mn({},ln(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){vn(this,r)}}],n&&q1(t.prototype,n),e}(),_y=yt(Ne.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Oy=yt(Ne.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wy=yt(Ne.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xy=yt(Ne.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Ey=yt(Ne.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Sy=yt(Ne.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),jy=yt(Ne.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Py=yt(Ne.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),My=yt(Ne.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ty=yt(Ne.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ay=yt(Ne.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ky=yt(Ne.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ny=yt(Ne.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dy=yt(Ne.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cy=yt(Ne.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Iy=yt(Ne.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ry=yt(Ne.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ly=yt(Ne.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),By=yt(Ne.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yt(Ne.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ne.prototype,"incoming"),Ne.prototype),yt(Ne.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ne.prototype,"outgoing"),Ne.prototype),yt(Ne.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"addNodeMoveRules"),Ne.prototype),yt(Ne.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"move"),Ne.prototype),yt(Ne.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getMoveDistance"),Ne.prototype),yt(Ne.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveTo"),Ne.prototype),yt(Ne.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveText"),Ne.prototype),yt(Ne.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateText"),Ne.prototype),yt(Ne.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setSelected"),Ne.prototype),yt(Ne.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHovered"),Ne.prototype),yt(Ne.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setIsShowAnchor"),Ne.prototype),yt(Ne.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHitable"),Ne.prototype),yt(Ne.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setElementState"),Ne.prototype),yt(Ne.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperty"),Ne.prototype),yt(Ne.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperties"),Ne.prototype),yt(Ne.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteProperty"),Ne.prototype),yt(Ne.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyle"),Ne.prototype),yt(Ne.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyles"),Ne.prototype),yt(Ne.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateStyles"),Ne.prototype),yt(Ne.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setZIndex"),Ne.prototype),yt(Ne.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateAttributes"),Ne.prototype),Ne);function qc(e){return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(n),!0).forEach(function(r){Wy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z1(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function J1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zc(){return Zc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=e_(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Zc.apply(this,arguments)}function e_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Fo(e))!==null;);return e}function Jc(e,t){return Jc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jc(e,t)}function t_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fo(e);if(t){var u=Fo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return n_(this,n)}}function n_(e,t){if(t&&(qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pu(e)}function pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Wy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qc(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var fn,Uy,Yy,el=(kr=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Jc(i,s)})(u,e);var t,n,r=t_(u);function u(){var i;J1(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Wy(pu(i=r.call.apply(r,[this].concat(h))),"modelType",gt.CIRCLE_NODE),Z1(pu(i),"r",Gy,pu(i)),i}return t=u,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Zc(Fo(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.circle;return Xy(Xy({},i),Gt(s))}},{key:"getDefaultAnchor",value:function(){var i=this.x,s=this.y,h=this.r;return[{x:i,y:s-h,id:"".concat(this.id,"_0")},{x:i+h,y:s,id:"".concat(this.id,"_1")},{x:i,y:s+h,id:"".concat(this.id,"_2")},{x:i-h,y:s,id:"".concat(this.id,"_3")}]}}])&&Q1(t.prototype,n),u}(Nr),Gy=Qc(kr.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Qc(kr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(kr.prototype,"width"),kr.prototype),Qc(kr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(kr.prototype,"height"),kr.prototype),kr);o(127);function tl(e){return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function nl(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Vy(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Vy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Ky(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$y(Object(n),!0).forEach(function(r){Zy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$y(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qy(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function r_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rl(){return rl=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=i_(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},rl.apply(this,arguments)}function i_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ho(e))!==null;);return e}function ol(e,t){return ol=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ol(e,t)}function a_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ho(e);if(t){var u=Ho(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return u_(this,n)}}function u_(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Go(e)}function Go(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function Zy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xo(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var dr,Jy,Qy,il=(fn=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&ol(i,s)})(u,e);var t,n,r=a_(u);function u(){var i;r_(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Zy(Go(i=r.call.apply(r,[this].concat(h))),"modelType",gt.DIAMOND_NODE),qy(Go(i),"rx",Uy,Go(i)),qy(Go(i),"ry",Yy,Go(i)),i}return t=u,(n=[{key:"getNodeStyle",value:function(){var i=rl(Ho(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.diamond;return Ky(Ky({},i),Gt(s))}},{key:"points",get:function(){var i=this.x,s=this.y,h=this.rx,v=this.ry;return[[i,s-v],[i+h,s],[i,s+v],[i-h,s]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var v=nl(h,1)[0];v<i&&(i=v),v>s&&(s=v)}),s-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var v=nl(h,2)[1];v<i&&(i=v),v>s&&(s=v)}),s-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(s,h){var v=nl(s,2);return{x:v[0],y:v[1],id:"".concat(i.id,"_").concat(h)}})}}])&&o_(t.prototype,n),u}(Nr),Uy=Xo(fn.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Yy=Xo(fn.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Xo(fn.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(fn.prototype,"points"),fn.prototype),Xo(fn.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(fn.prototype,"pointsPosition"),fn.prototype),Xo(fn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(fn.prototype,"width"),fn.prototype),Xo(fn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(fn.prototype,"height"),fn.prototype),fn);function al(e){return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ev(Object(n),!0).forEach(function(r){rv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nv(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ul(){return ul=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=l_(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},ul.apply(this,arguments)}function l_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Uo(e))!==null;);return e}function sl(e,t){return sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sl(e,t)}function f_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Uo(e);if(t){var u=Uo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return p_(this,n)}}function p_(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wo(e)}function Wo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(e){return Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uo(e)}function rv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function du(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Vn,ov,cl=(dr=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&sl(i,s)})(u,e);var t,n,r=f_(u);function u(){var i;s_(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return rv(Wo(i=r.call.apply(r,[this].concat(h))),"modelType",gt.ELLIPSE_NODE),nv(Wo(i),"rx",Jy,Wo(i)),nv(Wo(i),"ry",Qy,Wo(i)),i}return t=u,(n=[{key:"getNodeStyle",value:function(){var i=ul(Uo(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.ellipse;return tv(tv({},i),Gt(s))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,s=this.y,h=this.rx,v=this.ry;return[{x:i,y:s-v,id:"".concat(this.id,"_0")},{x:i+h,y:s,id:"".concat(this.id,"_1")},{x:i,y:s+v,id:"".concat(this.id,"_2")},{x:i-h,y:s,id:"".concat(this.id,"_3")}]}}])&&c_(t.prototype,n),u}(Nr),Jy=du(dr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Qy=du(dr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),du(dr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(dr.prototype,"width"),dr.prototype),du(dr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(dr.prototype,"height"),dr.prototype),dr);function ll(e){return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function fl(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return iv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return iv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?av(Object(n),!0).forEach(function(r){sv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d_(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pl(){return pl=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=v_(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},pl.apply(this,arguments)}function v_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Yo(e))!==null;);return e}function dl(e,t){return dl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dl(e,t)}function g_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yo(e);if(t){var u=Yo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return m_(this,n)}}function m_(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hu(e)}function hu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yo(e)}function sv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yu(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var hl,cv,yl=(Vn=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&dl(i,s)})(u,e);var t,n,r=g_(u);function u(){var i;h_(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return sv(hu(i=r.call.apply(r,[this].concat(h))),"modelType",gt.POLYGON_NODE),d_(hu(i),"points",ov,hu(i)),i}return t=u,(n=[{key:"getNodeStyle",value:function(){var i=pl(Yo(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.polygon;return uv(uv({},i),Gt(s))}},{key:"pointsPosition",get:function(){var i=this.x,s=this.y,h=this.width,v=this.height;return this.points.map(function(_){return{x:_[0]+i-h/2,y:_[1]+s-v/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var v=fl(h,1)[0];v<i&&(i=v),v>s&&(s=v)}),s-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var v=fl(h,2)[1];v<i&&(i=v),v>s&&(s=v)}),s-i}},{key:"getDefaultAnchor",value:function(){var i=this,s=this.x,h=this.y,v=this.width,_=this.height;return this.points.map(function(E,A){var N=fl(E,2),B=N[0],U=N[1];return{x:s+B-v/2,y:h+U-_/2,id:"".concat(i.id,"_").concat(A)}})}}])&&y_(t.prototype,n),u}(Nr),ov=yu(Vn.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),yu(Vn.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Vn.prototype,"pointsPosition"),Vn.prototype),yu(Vn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Vn.prototype,"width"),Vn.prototype),yu(Vn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Vn.prototype,"height"),Vn.prototype),Vn);function vl(e){return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lv(Object(n),!0).forEach(function(r){pv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b_(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function __(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gl(){return gl=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=w_(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},gl.apply(this,arguments)}function w_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Vo(e))!==null;);return e}function ml(e,t){return ml=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ml(e,t)}function x_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vo(e);if(t){var u=Vo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return E_(this,n)}}function E_(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vu(e)}function vu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vo(e){return Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vo(e)}function pv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zr,bl=(hl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&ml(i,s)})(u,e);var t,n,r=x_(u);function u(){var i;__(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return pv(vu(i=r.call.apply(r,[this].concat(h))),"modelType",gt.RECT_NODE),b_(vu(i),"radius",cv,vu(i)),i}return t=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,s=this.y,h=this.width,v=this.height;return[{x:i,y:s-v/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:s,id:"".concat(this.id,"_1")},{x:i,y:s+v/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:s,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=gl(Vo(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.rect;return fv(fv({},i),Gt(s))}}])&&O_(t.prototype,n),u}(Nr),cv=function(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}(hl.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hl);function _l(e){return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dv(Object(n),!0).forEach(function(r){vv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ol(){return Ol=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=P_(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Ol.apply(this,arguments)}function P_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=$o(e))!==null;);return e}function wl(e,t){return wl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wl(e,t)}function M_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$o(e);if(t){var u=$o(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return T_(this,n)}}function T_(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yv(e)}function yv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$o(e)}function vv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gv(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var xl=(Zr=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&wl(i,s)})(u,e);var t,n,r=M_(u);function u(){var i;S_(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return vv(yv(i=r.call.apply(r,[this].concat(h))),"modelType",gt.TEXT_NODE),i}return t=u,(n=[{key:"getTextStyle",value:function(){var i=Ol($o(u.prototype),"getTextStyle",this).call(this),s=this.graphModel.theme.text;return hv(hv({},i),Gt(s))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),s=this.getTextStyle().fontSize;return Vs({rows:i,fontSize:s,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),s=this.getTextStyle().fontSize;return Vs({rows:i,fontSize:s,rowsLength:i.length}).height}}])&&j_(t.prototype,n),u}(Nr),gv(Zr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"width"),Zr.prototype),gv(Zr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"height"),Zr.prototype),Zr);function El(e){return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function A_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sl(e,t){return Sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sl(e,t)}function N_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gu(e);if(t){var u=gu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return D_(this,n)}}function D_(e,t){if(t&&(El(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mv(e)}function mv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gu(e){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(e)}function C_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er,bv,_v,Ov,jl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Sl(i,s)})(u,e);var t,n,r=N_(u);function u(){var i;A_(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return C_(mv(i=r.call.apply(r,[this].concat(h))),"modelType",gt.HTML_NODE),i}return t=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,s=this.y,h=this.width,v=this.height;return[{x:i,y:s-v/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:s,id:"".concat(this.id,"_1")},{x:i,y:s+v/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:s,id:"".concat(this.id,"_3")}]}}])&&k_(t.prototype,n),u}(Nr);function wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Pl(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function I_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fi(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Ev=(er=function(){function e(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),xv(this,"graphModel",void 0),Pl(this,"isShowHorizontal",bv,this),Pl(this,"isShowVertical",_v,this),Pl(this,"position",Ov,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,n=[{key:"getStyle",value:function(){return function(r){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?wv(Object(i),!0).forEach(function(s){xv(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):wv(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,u){for(var i=r.x,s=r.y,h=!1,v=!1,_=0;_<u.length;_++){var E=u[_];if(E.id!==r.id&&(i===E.x&&(h=!0),s===E.y&&(v=!0),h&&v))break}return{isShowVertical:h,isShowHorizontal:v,position:{x:i,y:s}}}},{key:"getHorizontalSnapline",value:function(r,u){var i,s,h=!1,v=r.id;if(v){var _=this.graphModel.fakerNode;if(_&&_.id===v)s=Ln(_);else{var E=this.graphModel.getNodeModelById(v);s=Ln(E)}}for(var A=0;A<u.length;A++){var N=u[A];if(N.id!==r.id){var B=Ln(N);if(B.minY===s.minY||B.maxY===s.minY){h=!0,i=s.minY;break}if(B.minY===s.maxY||B.maxY===s.maxY){h=!0,i=s.maxY;break}}}return vn({isShowHorizontal:h,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,u){var i,s,h=!1,v=r.id;if(v){var _=this.graphModel.fakerNode;if(_&&_.id===v)s=Ln(_);else{var E=this.graphModel.getNodeModelById(v);s=Ln(E)}}for(var A=0;A<u.length;A++){var N=u[A];if(N.id!==r.id){var B=Ln(N);if(B.minX===s.minX||B.maxX===s.minX){h=!0,i=s.minX;break}if(B.minX===s.maxX||B.maxX===s.maxX){h=!0,i=s.maxX;break}}}return vn({isShowVertical:h,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,u){var i=this.getCenterSnapLine(r,u),s=i.isShowHorizontal,h=i.isShowVertical;if(!s){var v=this.getHorizontalSnapline(r,u);v.isShowHorizontal&&(i.isShowHorizontal=v.isShowHorizontal,i.position.y=v.position.y)}if(!h){var _=this.getVerticalSnapline(r,u);_.isShowVertical&&(i.isShowVertical=_.isShowVertical,i.position.x=_.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var u=r.isShowHorizontal,i=r.isShowVertical,s=r.position;this.position=s,this.isShowHorizontal=u,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var u=this.graphModel.nodes,i=this.getSnapLinePosition(r,u);this.setSnaplineInfo(i)}}],n&&I_(t.prototype,n),e}(),bv=Fi(er.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_v=Fi(er.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ov=Fi(er.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi(er.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(er.prototype,"clearSnapline"),er.prototype),Fi(er.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(er.prototype,"setNodeSnapLine"),er.prototype),er),Gi=new Map,Sv=function(e){var t=Ur(),n=window.requestAnimationFrame(function r(){if(e(),Gi.get(t)){var u=window.requestAnimationFrame(r);Gi.set(t,u)}});return Gi.set(t,n),t},mu=function(e){var t=Gi.get(e);t&&(window.cancelAnimationFrame(t),Gi.delete(e))};function Ml(e){return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function Hi(){return Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi.apply(this,arguments)}function jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jv(Object(n),!0).forEach(function(r){yr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Pv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Pv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tl(e,t){return Tl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tl(e,t)}function B_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_u(e);if(t){var u=_u(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return z_(this,n)}}function z_(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hr(e)}function hr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _u(e){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_u(e)}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F_=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Tl(i,s)})(u,e);var t,n,r=B_(u);function u(){var i;return function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}(this,u),yr(hr(i=r.call(this)),"preTargetNode",void 0),yr(hr(i),"sourceRuleResults",void 0),yr(hr(i),"targetRuleResults",void 0),yr(hr(i),"dragHandler",void 0),yr(hr(i),"t",void 0),yr(hr(i),"onDragStart",function(s){var h=s.event,v=i.props,_=v.anchorData,E=v.nodeModel,A=v.graphModel,N=A.overlapMode;A.selectNodeById(E.id),N!==Rn.INCREASE&&E.autoToFront&&A.toFront(E.id),A.eventCenter.emit(ot.ANCHOR_DRAGSTART,{data:_,e:h,nodeModel:E}),i.setState({startX:_.x,startY:_.y,endX:_.x,endY:_.y})}),yr(hr(i),"onDragging",function(s){var h=s.event,v=i.props,_=v.graphModel,E=v.nodeModel,A=v.anchorData,N=_.transformModel,B=_.eventCenter,U=_.width,K=_.height,ae=_.editConfigModel,se=ae.autoExpand,fe=ae.stopMoveGraph,_e=h.clientX,Ce=h.clientY,Ie=_.getPointByClient({x:_e,y:Ce}),Qe=Ie.domOverlayPosition,Re=Qe.x,Ke=Qe.y,Le=Ie.canvasOverlayPosition,_t=Le.x,Tt=Le.y;i.t&&mu(i.t);var xt=[];Re<10?xt=[10,0]:Re+10>U?xt=[-10,0]:Ke<10?xt=[0,10]:Ke+10>K&&(xt=[0,-10]),i.setState({endX:_t,endY:Tt,dragging:!0}),i.moveAnchorEnd(_t,Tt),xt.length>0&&!fe&&se&&(i.t=Sv(function(){var Nt=R_(xt,2),Kt=Nt[0],nn=Nt[1];N.translate(Kt,nn);var _n=i.state,mr=_n.endX,$n=_n.endY;i.setState({endX:mr-Kt,endY:$n-nn}),i.moveAnchorEnd(mr-Kt,$n-nn)})),B.emit(ot.ANCHOR_DRAG,{data:A,e:h,nodeModel:E})}),yr(hr(i),"onDragEnd",function(s){var h=s.event;i.t&&mu(i.t),i.checkEnd(h),i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var v=i.props,_=v.graphModel,E=v.nodeModel,A=v.anchorData;_.eventCenter.emit(ot.ANCHOR_DRAGEND,{data:A,e:h,nodeModel:E})}),yr(hr(i),"checkEnd",function(s){var h=i.props,v=h.graphModel,_=h.nodeModel,E=h.anchorData,A=E.x,N=E.y,B=E.id,U=(v.edgeType,i.state),K=U.endX,ae=U.endY,se=U.dragging,fe=Ha({x:K,y:ae},v);if(i.preTargetNode&&i.preTargetNode.state!==St.DEFAULT&&i.preTargetNode.setElementState(St.DEFAULT),se&&fe&&fe.node){var _e=fe.node,Ce=fe.anchor.id,Ie="".concat(_.id,"_").concat(_e.id,"_").concat(Ce,"_").concat(B),Qe=i.sourceRuleResults.get(Ie)||{},Re=Qe.isAllPass,Ke=Qe.msg,Le=i.targetRuleResults.get(Ie)||{},_t=Le.isAllPass,Tt=Le.msg;if(Re&&_t){_e.setElementState(St.DEFAULT);var xt=v.edgeGenerator(_.getData(),v.getNodeModelById(fe.node.id).getData()),Nt=v.addEdge(bu(bu({},xt),{},{sourceNodeId:_.id,sourceAnchorId:B,startPoint:{x:A,y:N},targetNodeId:fe.node.id,targetAnchorId:fe.anchor.id,endPoint:{x:fe.anchor.x,y:fe.anchor.y}})),Kt=i.props.anchorData;v.eventCenter.emit(ot.ANCHOR_DROP,{data:Kt,e:s,nodeModel:_,edgeModel:Nt})}else{var nn=_e.getData();v.eventCenter.emit(ot.CONNECTION_NOT_ALLOWED,{data:nn,msg:Tt||Ke})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new Mr({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return t=u,(n=[{key:"getAnchorShape",value:function(){var i=this.props,s=i.anchorData,h=i.style,v=i.node.getAnchorShape(s);if(v)return v;var _=s.x,E=s.y,A=bu(bu({},h),h.hover);return Object(ne.g)("g",null,Object(ne.g)(Li,Hi({className:"lf-node-anchor-hover"},A,{x:_,y:E})),Object(ne.g)(Li,Hi({className:"lf-node-anchor"},h,{x:_,y:E})))}},{key:"moveAnchorEnd",value:function(i,s){var h=this.props,v=h.graphModel,_=h.nodeModel,E=h.anchorData,A=Ha({x:i,y:s},v);if(A){var N=A.node,B=A.anchor.id;if(this.preTargetNode&&this.preTargetNode!==A.node&&this.preTargetNode.setElementState(St.DEFAULT),E.id===B)return;this.preTargetNode=N;var U="".concat(_.id,"_").concat(N.id,"_").concat(B,"_").concat(E.id);if(!this.targetRuleResults.has(U)){var K=A.anchor,ae=_.isAllowConnectedAsSource(N,E,K),se=N.isAllowConnectedAsTarget(_,E,K);this.sourceRuleResults.set(U,ji(ae)),this.targetRuleResults.set(U,ji(se))}var fe=this.sourceRuleResults.get(U).isAllPass,_e=this.targetRuleResults.get(U).isAllPass;fe&&_e?N.setElementState(St.ALLOW_CONNECT):N.setElementState(St.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==St.DEFAULT&&this.preTargetNode.setElementState(St.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,s=i.startX,h=i.startY,v=i.endX,_=i.endY;return Jn(s,h,v,_)>10}},{key:"render",value:function(){var i=this,s=this.state,h=s.startX,v=s.startY,_=s.endX,E=s.endY,A=this.props,N=A.anchorData.edgeAddable,B=A.edgeStyle;return Object(ne.g)("g",{className:"lf-anchor"},Object(ne.g)("g",{onMouseDown:function(U){N!==!1&&i.dragHandler.handleMouseDown(U)}},this.getAnchorShape()),this.isShowLine()&&Object(ne.g)(Bo,Hi({x1:h,y1:v,x2:_,y2:E},B,{"pointer-events":"none"})))}}])&&L_(t.prototype,n),u}(ne.a);o(80);function Mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function G_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mv(Object(n),!0).forEach(function(r){H_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Al(e){return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function X_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Tv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Tv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Av(e){var t=e.x,n=t===void 0?0:t,r=e.y,u=r===void 0?0:r,i=e.value,s=e.fontSize,h=e.fill,v=h===void 0?"currentColor":h,_=e.overflowMode,E=_===void 0?"default":_,A=e.textWidth,N=A===void 0?"":A,B=e.model,U={textAnchor:"middle","dominant-baseline":"middle",x:n,y:u,fill:v};if(Object.entries(e).forEach(function(Ce){var Ie=X_(Ce,2),Qe=Ie[0],Re=Ie[1];Al(Re)!=="object"&&(U[Qe]=Re)}),i){var K=String(i).split(/[\r\n]/g),ae=K.length;if(E!=="default"){var se=B.BaseType,fe=B.modelType;if(se===Zt.NODE&&fe!==gt.TEXT_NODE||se===Zt.EDGE&&N)return function(Ce){var Ie=Ce.value,Qe=Ce.fontSize,Re=Ce.model,Ke=Ce.fontFamily,Le=Ke===void 0?"":Ke,_t=Ce.lineHeight,Tt=Ce.wrapPadding,xt=Tt===void 0?"0, 0":Tt,Nt=Ce.overflowMode,Kt=Ce.x,nn=Ce.y,_n=Re.width,mr=Re.textHeight,$n=Ce.textWidth||_n,Zo=String(Ie).split(/[\r\n]/g),Wu=Zo.length,Uu=Kd({rows:Zo,style:{fontSize:"".concat(Qe,"px"),width:"".concat($n,"px"),fontFamily:Le,lineHeight:_t,padding:xt},rowsLength:Wu,className:"lf-get-text-height"}),mo=Re.height>Uu?Re.height:Uu;mr&&(mo=mr);var eo=Nt==="ellipsis";return eo&&(mo=Qe+2),Object(ne.g)("g",null,Object(ne.g)("foreignObject",{width:$n,height:mo,x:Kt-$n/2,y:nn-mo/2},Object(ne.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:mo,width:$n,padding:xt}},Object(ne.g)("div",{className:eo?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:eo?Zo.join(""):"",style:G_({},Ce)},Zo.map(function(to){return Object(ne.g)("div",{className:"lf-node-text--auto-wrap-inner"},to)})))))}(e)}if(ae>1){var _e=K.map(function(Ce,Ie){var Qe=(Ie-(ae-1)/2)*(s+2);return Object(ne.g)("tspan",{className:"lf-text-tspan",x:n,y:u+Qe},Ce)});return Object(ne.g)("text",U,_e)}return Object(ne.g)("text",U,i)}}function kl(e){return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function Nl(){return Nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl.apply(this,arguments)}function W_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return kv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return kv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dl(e,t){return Dl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dl(e,t)}function Y_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ou(e);if(t){var u=Ou(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return V_(this,n)}}function V_(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ou(e){return Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ou(e)}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nv=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Dl(i,s)})(u,e);var t,n,r=Y_(u);function u(i){var s;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,u),yo(Jr(s=r.call(this)),"dragHandler",void 0),yo(Jr(s),"sumDeltaX",0),yo(Jr(s),"sumDeltaY",0),yo(Jr(s),"stepDrag",void 0),yo(Jr(s),"onDragging",function(v){var _=v.deltaX,E=v.deltaY,A=s.props,N=A.model,B=W_(A.graphModel.transformModel.fixDeltaXY(_,E),2),U=B[0],K=B[1];N.moveText(U,K)}),yo(Jr(s),"dblClickHandler",function(){s.props.editable&&s.props.model.setElementState(St.TEXT_EDIT)}),yo(Jr(s),"mouseDownHandle",function(v){var _=s.props,E=_.draggable,A=_.model,N=_.graphModel.editConfigModel.nodeTextDraggable;(E||N)&&(s.stepDrag.model=A,s.stepDrag.handleMouseDown(v))}),i.model;var h=i.draggable;return s.stepDrag=new Mr({onDragging:s.onDragging,step:1,isStopPropagation:h}),s}return t=u,(n=[{key:"getShape",value:function(){var i=this.props,s=i.model,h=i.graphModel,v=s.text,_=h.editConfigModel,E=v.value,A=v.x,N=v.y,B=v.editable,U=v.draggable,K={x:A,y:N,className:"",value:E};B?K.className="lf-element-text":U||_.nodeTextDraggable?K.className="lf-text-draggable":K.className="lf-text-disabled";var ae=s.getTextStyle();return Object(ne.g)(Av,Nl({},K,ae,{model:s}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ne.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&U_(t.prototype,n),u}(ne.a),$_=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Cl(e){return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}var K_=["className"];function wu(){return wu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(this,arguments)}function q_(e,t){if(e==null)return{};var n,r,u=function(s,h){if(s==null)return{};var v,_,E={},A=Object.keys(s);for(_=0;_<A.length;_++)v=A[_],h.indexOf(v)>=0||(E[v]=s[v]);return E}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}function xu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Dv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Dv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Il(e,t){return Il=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Il(e,t)}function Z_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Eu(e);if(t){var u=Eu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return J_(this,n)}}function J_(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pn(e)}function pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(e){return Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eu(e)}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dr=function(e){(function(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Il(s,h)})(i,e);var t,n,r,u=Z_(i);function i(s){var h;(function(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")})(this,i),bn(pn(h=u.call(this)),"t",void 0),bn(pn(h),"moveOffset",void 0),bn(pn(h),"stepDrag",void 0),bn(pn(h),"contextMenuTime",void 0),bn(pn(h),"startTime",void 0),bn(pn(h),"clickTimer",void 0),bn(pn(h),"onDragStart",function(N){var B=N.event,U=B.clientX,K=B.clientY,ae=h.props,se=ae.model,fe=ae.graphModel.getPointByClient({x:U,y:K}).canvasOverlayPosition,_e=fe.x,Ce=fe.y;h.moveOffset={x:se.x-_e,y:se.y-Ce}}),bn(pn(h),"onDragging",function(N){var B=N.event,U=h.props,K=U.model,ae=U.graphModel,se=ae.editConfigModel,fe=se.stopMoveGraph,_e=se.autoExpand,Ce=ae.transformModel,Ie=ae.selectNodes,Qe=ae.width,Re=ae.height,Ke=ae.gridSize;K.isDragging=!0;var Le=B.clientX,_t=B.clientY,Tt=ae.getPointByClient({x:Le,y:_t}).canvasOverlayPosition,xt=Tt.x,Nt=Tt.y,Kt=xu(Ce.CanvasPointToHtmlPoint([xt,Nt]),2),nn=Kt[0],_n=Kt[1];if(xt+=h.moveOffset.x,Nt+=h.moveOffset.y,xt=Pr(xt,Ke),Nt=Pr(Nt,Ke),Qe&&Re){if(!_e||fe||!(nn<0||_n<0||nn>Qe||_n>Re)){var mr=xu(Ce.CanvasPointToHtmlPoint([xt-K.width/2,Nt-K.height/2]),2),$n=mr[0],Zo=mr[1],Wu=xu(Ce.CanvasPointToHtmlPoint([xt+K.width/2,Nt+K.height/2]),2),Uu=Wu[0],mo=Wu[1],eo=Math.max(Ke,20),to=[];$n<0?to=[eo,0]:Uu>ae.width?to=[-eo,0]:Zo<0?to=[0,eo]:mo>ae.height&&(to=[0,-eo]),h.t&&mu(h.t);var Yu=Ie.map(function(Vu){return Vu.id});Yu.indexOf(K.id)===-1&&(Yu=[K.id]),to.length>0&&!fe&&_e?h.t=Sv(function(){var Vu=xu(to,2),yg=Vu[0],vg=Vu[1];Ce.translate(yg,vg);var Gw=-yg/Ce.SCALE_X,Hw=-vg/Ce.SCALE_X;ae.moveNodes(Yu,Gw,Hw)}):ae.moveNodes(Yu,xt-K.x,Nt-K.y)}}else ae.moveNode2Coordinate(K.id,xt,Nt)}),bn(pn(h),"onDragEnd",function(){h.t&&mu(h.t),h.props.model.isDragging=!1}),bn(pn(h),"handleClick",function(N){if(h.startTime&&!(new Date().getTime()-h.startTime>200)){var B=h.props,U=B.model,K=B.graphModel,ae={data:U.getData(),e:N,position:K.getPointByClient({x:N.clientX,y:N.clientY}),isSelected:!1,isMultiple:!1},se=N.button===2,fe=N.detail===2;if(!se){var _e=K.editConfigModel,Ce=Od(N,_e);ae.isMultiple=Ce,U.isSelected&&!fe&&Ce?(ae.isSelected=!1,U.setSelected(!1)):(K.selectNodeById(U.id,Ce),ae.isSelected=!0,h.toFront()),fe?(_e.nodeTextEdit&&U.text.editable&&(U.setSelected(!1),K.setElementStateById(U.id,St.TEXT_EDIT)),K.eventCenter.emit(ot.NODE_DBCLICK,ae)):(K.eventCenter.emit(ot.ELEMENT_CLICK,ae),K.eventCenter.emit(ot.NODE_CLICK,ae))}}}),bn(pn(h),"handleContextMenu",function(N){N.preventDefault();var B=h.props,U=B.model,K=B.graphModel,ae=U.getData(),se=K.getPointByClient({x:N.clientX,y:N.clientY});K.setElementStateById(U.id,St.SHOW_MENU,se.domOverlayPosition),U.isSelected||K.selectNodeById(U.id),K.eventCenter.emit(ot.NODE_CONTEXTMENU,{data:ae,e:N,position:se}),h.toFront()}),bn(pn(h),"handleMouseDown",function(N){var B=h.props,U=B.model,K=B.graphModel;h.startTime=new Date().getTime(),K.editConfigModel.adjustNodePosition&&U.draggable&&h.stepDrag&&h.stepDrag.handleMouseDown(N)}),bn(pn(h),"setHoverON",function(N){var B=h.props,U=B.model,K=B.graphModel;if(!U.isHovered){var ae=U.getData();U.setHovered(!0),K.eventCenter.emit(ot.NODE_MOUSEENTER,{data:ae,e:N})}}),bn(pn(h),"setHoverOFF",function(N){var B=h.props,U=B.model,K=B.graphModel,ae=U.getData();U.isHovered&&(U.setHovered(!1),K.eventCenter.emit(ot.NODE_MOUSELEAVE,{data:ae,e:N}))}),bn(pn(h),"onMouseOut",function(N){$_&&h.setHoverOFF(N)});var v=s.graphModel,_=v.gridSize,E=v.eventCenter,A=s.model;return h.stepDrag=new Mr({onDragStart:h.onDragStart,onDragging:h.onDragging,onDragEnd:h.onDragEnd,step:_,eventType:"NODE",isStopPropagation:!1,eventCenter:E,model:A}),h}return t=i,r=[{key:"getModel",value:function(s){return s}}],(n=[{key:"getAnchorShape",value:function(s){return null}},{key:"getAnchors",value:function(){var s=this,h=this.props,v=h.model,_=h.graphModel,E=v.isSelected,A=v.isHitable,N=v.isDragging,B=v.isShowAnchor;return A&&(E||B)&&!N?Ba(v.anchors,function(U,K){var ae=v.getAnchorLineStyle(U),se=v.getAnchorStyle(U);return Object(ne.g)(F_,{anchorData:U,node:s,style:se,edgeStyle:ae,anchorIndex:K,nodeModel:v,graphModel:_,setHoverOFF:s.setHoverOFF})}):[]}},{key:"getText",value:function(){var s=this.props,h=s.model,v=s.graphModel;if(h.state===St.TEXT_EDIT)return"";if(h.text){var _=v.editConfigModel,E=!1;return(h.text.draggable||_.nodeTextDraggable)&&(E=!0),Object(ne.g)(Nv,{editable:_.nodeTextEdit&&h.text.editable,model:h,graphModel:v,draggable:E})}}},{key:"getStateClassName",value:function(){var s=this.props.model,h=s.state,v=s.isDragging,_=s.isSelected,E="lf-node";switch(h){case St.ALLOW_CONNECT:E+=" lf-node-allow";break;case St.NOT_ALLOW_CONNECT:E+=" lf-node-not-allow";break;default:E+=" lf-node-default"}return v&&(E+=" lf-isDragging"),_&&(E+=" lf-node-selected"),E}},{key:"toFront",value:function(){var s=this.props,h=s.model,v=s.graphModel;v.overlapMode!==Rn.INCREASE&&h.autoToFront&&v.toFront(h.id)}},{key:"render",value:function(){var s,h=this.props,v=h.model,_=h.graphModel,E=_.editConfigModel,A=E.hideAnchors,N=E.adjustNodePosition,B=_.gridSize,U=_.transformModel.SCALE_X,K=v.isHitable,ae=v.draggable,se=v.getOuterGAttributes(),fe=se.className,_e=fe===void 0?"":fe,Ce=q_(se,K_),Ie=Object(ne.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),A?null:this.getAnchors());return K?(N&&ae&&this.stepDrag.setStep(B*U),s=Object(ne.g)("g",wu({className:"".concat(this.getStateClassName()," ").concat(_e,"}"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Ce),Ie)):s=Object(ne.g)("g",wu({className:"".concat(this.getStateClassName()," ").concat(_e)},Ce),Ie),s}}])&&Cv(t.prototype,n),r&&Cv(t,r),i}(ne.a);function Rl(e){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function Ll(){return Ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ll.apply(this,arguments)}function Q_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t){return Bl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bl(e,t)}function tO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Su(e);if(t){var u=Su(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return nO(this,n)}}function nO(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Su(e){return Su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Su(e)}var zl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Bl(i,s)})(u,e);var t,n,r=tO(u);function u(){return Q_(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.getNodeStyle();return Object(ne.g)(Kr,Ll({},s,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&eO(t.prototype,n),u}(Dr);function Fl(e){return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function Gl(){return Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(this,arguments)}function rO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hl(e,t){return Hl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hl(e,t)}function iO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ju(e);if(t){var u=ju(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return aO(this,n)}}function aO(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ju(e){return ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ju(e)}var Xl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Hl(i,s)})(u,e);var t,n,r=iO(u);function u(){return rO(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.x,h=i.y,v=i.r,_=i.getNodeStyle();return Object(ne.g)(Li,Gl({},_,{x:s,y:h,r:v}))}}])&&oO(t.prototype,n),u}(Dr);function Wl(e){return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function uO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Iv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Iv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rv(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(u){var i=uO(u,2),s=i[0],h=i[1];Wl(h)!=="object"&&(r[s]=h)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(u){return u.join(",")}).join(" "),Object(ne.g)("polygon",r)}function Ul(e){return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function Yl(){return Yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yl.apply(this,arguments)}function sO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vl(e,t){return Vl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vl(e,t)}function lO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pu(e);if(t){var u=Pu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pu(e)}var $l=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Vl(i,s)})(u,e);var t,n,r=lO(u);function u(){return sO(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.x,h=i.y,v=i.width,_=i.height,E=i.points,A=i.getNodeStyle(),N={transform:"matrix(1 0 0 1 ".concat(s-v/2," ").concat(h-_/2,")")};return Object(ne.g)("g",N,Object(ne.g)(Rv,Yl({},A,{points:E,x:s,y:h})))}}])&&cO(t.prototype,n),u}(Dr);function Kl(e){return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function ql(){return ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ql.apply(this,arguments)}function pO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zl(e,t){return Zl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zl(e,t)}function hO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mu(e);if(t){var u=Mu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return yO(this,n)}}function yO(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Mu(e){return Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mu(e)}var Jl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Zl(i,s)})(u,e);var t,n,r=hO(u);function u(){return pO(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.getNodeStyle();return Object(ne.g)("g",null,Object(ne.g)(Rv,ql({},s,{points:i.points,x:i.x,y:i.y})))}}])&&dO(t.prototype,n),u}(Dr);function Ql(e){return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function vO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Lv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Lv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gO(e){var t=e.x,n=t===void 0?0:t,r=e.y,u=r===void 0?0:r,i=e.rx,s=i===void 0?4:i,h=e.ry,v=h===void 0?4:h,_=e.className,E={cx:n,cy:u,rx:s,ry:v,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(A){var N=vO(A,2),B=N[0],U=N[1];Ql(U)!=="object"&&(E[B]=U)}),E.className=_?"lf-basic-shape ".concat(_):"lf-basic-shape",Object(ne.g)("ellipse",E)}function ef(e){return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function tf(){return tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tf.apply(this,arguments)}function mO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nf(e,t){return nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nf(e,t)}function _O(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Tu(e);if(t){var u=Tu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Tu(e){return Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tu(e)}var rf=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&nf(i,s)})(u,e);var t,n,r=_O(u);function u(){return mO(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.getNodeStyle();return Object(ne.g)(gO,tf({},s,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&bO(t.prototype,n),u}(Dr);function of(e){return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function Bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function zv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bv(Object(n),!0).forEach(function(r){wO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function af(e,t){return af=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},af(e,t)}function SO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Au(e);if(t){var u=Au(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Au(e){return Au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Au(e)}var uf=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&af(i,s)})(u,e);var t,n,r=SO(u);function u(){return xO(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getBackground",value:function(){var i=this.props.model,s=i.getTextStyle(),h=i.width,v=i.height,_=i.x,E=i.y,A=zv(zv({},s.background),{},{x:_,y:E-1,width:h,height:v});return Object(ne.g)(Kr,A)}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getBackground())}}])&&EO(t.prototype,n),u}(Dr);function sf(e){return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function cf(){return cf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(this,arguments)}function PO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lf(e,t){return lf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lf(e,t)}function TO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ku(e);if(t){var u=ku(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return AO(this,n)}}function AO(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xi(e)}function Xi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(e)}function Nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ff=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&lf(i,s)})(u,e);var t,n,r=TO(u);function u(){var i;PO(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Nu(Xi(i=r.call.apply(r,[this].concat(h))),"ref",void 0),Nu(Xi(i),"currentProperties",void 0),Nu(Xi(i),"preProperties",void 0),Nu(Xi(i),"setRef",function(_){i.ref=_}),i}return t=u,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,s=i.x,h=i.y,v=i.height,_=i.width,E=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(ne.g)("foreignObject",cf({},E,{x:s-_/2,y:h-v/2,width:_,height:v,ref:this.setRef}))}}])&&MO(t.prototype,n),u}(Dr);function pf(e){return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function df(){return df=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},df.apply(this,arguments)}function Fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fv(Object(n),!0).forEach(function(r){vf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hf(e,t){return hf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hf(e,t)}function NO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Du(e);if(t){var u=Du(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return DO(this,n)}}function DO(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yf(e)}function yf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Du(e){return Du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Du(e)}function vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vr,CO=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&hf(i,s)})(u,e);var t,n,r=NO(u);function u(i){var s;return function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),vf(yf(s=r.call(this,i)),"setHoverON",function(){s.setState({isHovered:!0})}),vf(yf(s),"setHoverOFF",function(){s.setState({isHovered:!1})}),s.state={isHovered:!1},s}return t=u,(n=[{key:"getBackground",value:function(){var i=this.props.model,s=i.getTextStyle(),h=i.text,v=i.width,_=s.background||{};if(this.state.isHovered&&s.hover&&s.hover.background&&(_=vo(vo({},_),s.hover.background)),h&&h.value&&_.fill!=="transparent"){var E,A=s.fontSize,N=s.overflowMode,B=s.lineHeight,U=s.wrapPadding,K=s.textWidth,ae=h.value,se=h.x,fe=h.y,_e=String(ae).split(/[\r\n]/g),Ce=_e.length;if(N==="autoWrap"&&K){var Ie=Kd({rows:_e,style:{fontSize:"".concat(A,"px"),width:"".concat(K,"px"),lineHeight:B,padding:U},rowsLength:Ce,className:"lf-get-text-height"});E=vo(vo({},_),{},{x:se-1,y:fe-1,width:K,height:Ie})}else{_e&&_e.forEach(function(_t){hc(_t)});var Qe=Vs({rows:_e,fontSize:A,rowsLength:Ce}),Re=Qe.width,Ke=Qe.height;if(N==="ellipsis"&&(Re=K||v,Ke=A+2),typeof _.wrapPadding=="string"){var Le=_.wrapPadding.split(",").filter(function(_t){return _t.trim()}).map(function(_t){return parseFloat(_t.trim())});Le.length>0&&Le.length<=4&&(Le.length===1?Le=[Le[0],Le[0],Le[0],Le[0]]:Le.length===2?Le=[Le[0],Le[1],Le[0],Le[1]]:Le.length===3&&(Le=[Le[0],Le[1],Le[2],Le[1]]),Re+=Le[1]+Le[3],Ke+=Le[0]+Le[2],se+=(Le[1]-Le[3])/2,fe+=(Le[2]-Le[0])/2)}E=vo(vo({},_),{},{x:se-1,y:fe-1,width:Re,height:Ke})}return Object(ne.g)(Kr,E)}}},{key:"getShape",value:function(){var i=this.props.model,s=i.text,h=s.value,v=s.x,_=s.y;if(h){var E=vo({x:v,y:_,className:"lf-element-text",value:h},i.getTextStyle());return Object(ne.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ne.g)(Av,df({},E,{model:i})))}}}])&&kO(t.prototype,n),u}(Nv);function gf(e){return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function Gv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(n),!0).forEach(function(r){zn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Hv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Hv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mf(e,t){return mf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mf(e,t)}function LO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Cu(e);if(t){var u=Cu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return BO(this,n)}}function BO(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bn(e)}function Bn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cu(e){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(e)}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(vr||(vr={}));var Xv=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&mf(i,s)})(u,e);var t,n,r=LO(u);function u(i){var s;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,u),zn(Bn(s=r.call(this)),"stepDragData",void 0),zn(Bn(s),"stepDrag",void 0),zn(Bn(s),"oldEdge",void 0),zn(Bn(s),"preTargetNode",void 0),zn(Bn(s),"targetRuleResults",void 0),zn(Bn(s),"sourceRuleResults",void 0),zn(Bn(s),"handleMouseDown",function(E){s.stepDrag&&s.stepDrag.handleMouseDown(E)}),zn(Bn(s),"onDragStart",function(){var E=s.props,A=E.x,N=E.y,B=E.edgeModel,U=B.startPoint,K=B.endPoint,ae=B.pointsList;s.oldEdge={startPoint:U,endPoint:K,pointsList:ae},s.setState({endX:A,endY:N,dragging:!0})}),zn(Bn(s),"onDragging",function(E){var A=E.deltaX,N=E.deltaY,B=s.state,U=B.endX,K=B.endY,ae=s.props,se=ae.graphModel,fe=ae.type,_e=se.transformModel,Ce=se.editConfigModel,Ie=IO(_e.moveCanvasPointByHtml([U,K],A,N),2),Qe=Ie[0],Re=Ie[1];s.setState({endX:Qe,endY:Re,dragging:!0});var Ke=s.props.edgeModel,Le=Ha({x:U,y:K},se);if(Le&&Le.node&&s.isAllowAdjust(Le).pass){var _t,Tt=Ke.startPoint,xt=Ke.endPoint,Nt=Ke.sourceNode,Kt=Ke.targetNode;fe===vr.SOURCE?_t={startPoint:{x:Le.anchor.x,y:Le.anchor.y},endPoint:{x:xt.x,y:xt.y},sourceNode:Le.node,targetNode:Kt}:fe===vr.TARGET&&(_t={startPoint:{x:Tt.x,y:Tt.y},endPoint:{x:Le.anchor.x,y:Le.anchor.y},sourceNode:Nt,targetNode:Le.node}),Ke.updateAfterAdjustStartAndEnd(_t)}else fe===vr.SOURCE?Ke.updateStartPoint({x:Qe,y:Re}):fe===vr.TARGET&&Ke.updateEndPoint({x:Qe,y:Re});Ke.text.value&&Ce.adjustEdge&&Ke.setText(Object.assign({},Ke.text,Ke.textPosition))}),zn(Bn(s),"onDragEnd",function(E){var A=E.event;try{var N;s.setState({dragging:!1});var B=s.props,U=B.graphModel,K=B.edgeModel,ae=B.type,se=s.state,fe=se.endX,_e=se.endY,Ce=se.dragging,Ie=Ha({x:fe,y:_e},U);if(!Ce)return;var Qe,Re=!1;if(Ie&&Ie.node){var Ke=s.isAllowAdjust(Ie),Le=Ke.pass,_t=Ke.msg,Tt=Ke.newTargetNode;if(Le){var xt,Nt=K.getData();Qe=Cr(Cr({},Nt),{},{sourceAnchorId:"",targetAnchorId:"",text:(Nt==null||(xt=Nt.text)===null||xt===void 0?void 0:xt.value)||""}),ae===vr.SOURCE?(Qe=Cr(Cr({},U.edgeGenerator(U.getNodeModelById(Ie.node.id).getData(),U.getNodeModelById(K.targetNodeId).getData(),Qe)),{},{sourceNodeId:Ie.node.id,sourceAnchorId:Ie.anchor.id,startPoint:{x:Ie.anchor.x,y:Ie.anchor.y},targetNodeId:K.targetNodeId,endPoint:Cr({},K.endPoint)}),K.sourceNodeId===Ie.node.id&&K.sourceAnchorId===Ie.anchor.id&&(Re=!0)):ae===vr.TARGET&&(Qe=Cr(Cr({},U.edgeGenerator(U.getNodeModelById(K.sourceNodeId).getData(),U.getNodeModelById(Ie.node.id).getData(),Qe)),{},{sourceNodeId:K.sourceNodeId,startPoint:Cr({},K.startPoint),targetNodeId:Ie.node.id,targetAnchorId:Ie.anchor.id,endPoint:{x:Ie.anchor.x,y:Ie.anchor.y}}),K.targetNodeId===Ie.node.id&&K.targetAnchorId===Ie.anchor.id&&(Re=!0))}else{Re=!0;var Kt=Tt.getData();U.eventCenter.emit(ot.CONNECTION_NOT_ALLOWED,{data:Kt,msg:_t})}}else Re=!0;if(Re)s.recoveryEdge();else{var nn=K.getData();U.deleteEdgeById(K.id);var _n=U.addEdge(Cr({},Qe));U.eventCenter.emit(ot.EDGE_EXCHANGE_NODE,{data:{newEdge:_n.getData(),oldEdge:nn}})}(N=s.preTargetNode)===null||N===void 0||N.setElementState(St.DEFAULT)}finally{s.props.graphModel.eventCenter.emit(ot.ADJUST_POINT_DRAGEND,{e:A,data:s.stepDragData})}}),zn(Bn(s),"recoveryEdge",function(){var E=s.props.edgeModel,A=s.oldEdge,N=A.startPoint,B=A.endPoint,U=A.pointsList;E.updateStartPoint(N),E.updateEndPoint(B),E.modelType!==gt.LINE_EDGE&&(E.pointsList=U,E.initPoints())}),zn(Bn(s),"getAdjustPointStyle",function(){var E=s.props,A=E.graphModel.theme;return E.edgeModel,A.edgeAdjust}),s.state={dragging:!1,endX:0,endY:0},s.targetRuleResults=new Map,s.sourceRuleResults=new Map;var h=i.type,v=i.edgeModel,_=i.graphModel.eventCenter;return s.stepDragData={type:h,edgeData:v.getData()},s.stepDrag=new Mr({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:_,data:s.stepDragData}),s}return t=u,(n=[{key:"isAllowAdjust",value:function(i){var s=this.props,h=s.edgeModel,v=h.id,_=h.sourceNode,E=h.targetNode,A=h.sourceAnchorId,N=h.targetAnchorId,B=s.type,U=null,K=null,ae=null,se=null;if(B===vr.SOURCE?(U=i.node,K=E,ae=i.anchor,se=E.getAnchorInfo(N)):(U=_,K=i.node,se=i.anchor,ae=_.getAnchorInfo(A)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(St.DEFAULT),this.preTargetNode=i.node,se.id===ae.id)return{pass:!1,msg:"",newTargetNode:K};var fe="".concat(U.id,"_").concat(K.id,"_").concat(ae.id,"_").concat(se.id);if(!this.targetRuleResults.has(fe)){var _e=U.isAllowConnectedAsSource(K,ae,se,v),Ce=K.isAllowConnectedAsTarget(U,ae,se,v);this.sourceRuleResults.set(fe,ji(_e)),this.targetRuleResults.set(fe,ji(Ce))}var Ie=this.sourceRuleResults.get(fe),Qe=Ie.isAllPass,Re=Ie.msg,Ke=this.targetRuleResults.get(fe),Le=Ke.isAllPass,_t=Ke.msg,Tt=Qe&&Le?St.ALLOW_CONNECT:St.NOT_ALLOW_CONNECT;return B===vr.SOURCE?U.setElementState(Tt):K.setElementState(Tt),{pass:Qe&&Le,msg:_t||Re,newTargetNode:K}}},{key:"render",value:function(){var i=this.props,s=i.x,h=i.y,v=i.getAdjustPointShape,_=i.edgeModel,E=this.state.dragging;return Object(ne.g)("g",{pointerEvents:E?"none":"",onMouseDown:this.handleMouseDown},E?"":v(s,h,_))}}])&&RO(t.prototype,n),u}(ne.a);function bf(e){return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function Wi(){return Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wi.apply(this,arguments)}function zO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Wv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Wv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _f(e,t){return _f=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_f(e,t)}function HO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Iu(e);if(t){var u=Iu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function tr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iu(e){return Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Iu(e)}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ui=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&_f(i,s)})(u,e);var t,n,r=HO(u);function u(){var i;FO(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return gr(tr(i=r.call.apply(r,[this].concat(h))),"startTime",void 0),gr(tr(i),"contextMenuTime",void 0),gr(tr(i),"clickTimer",void 0),gr(tr(i),"textRef",Object(ne.f)()),gr(tr(i),"handleHover",function(_,E){var A=i.props,N=A.model,B=A.graphModel.eventCenter;N.setHovered(_);var U=_?ot.EDGE_MOUSEENTER:ot.EDGE_MOUSELEAVE,K=N.getData();B.emit(U,{data:K,e:E})}),gr(tr(i),"setHoverON",function(_){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,_))}),gr(tr(i),"setHoverOFF",function(_){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,_))}),gr(tr(i),"handleContextMenu",function(_){_.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var E=i.props,A=E.model,N=E.graphModel,B=N.getPointByClient({x:_.clientX,y:_.clientY});N.setElementStateById(A.id,St.SHOW_MENU,B.domOverlayPosition),i.toFront(),A.isSelected||N.selectEdgeById(A.id);var U=A==null?void 0:A.getData();N.eventCenter.emit(ot.EDGE_CONTEXTMENU,{data:U,e:_,position:B})}),gr(tr(i),"handleMouseDown",function(_){_.stopPropagation(),i.startTime=new Date().getTime()}),gr(tr(i),"handleMouseUp",function(_){if(i.startTime&&!(new Date().getTime()-i.startTime>200||_.button===2)){var E=_.detail===2,A=i.props,N=A.model,B=A.graphModel,U=N==null?void 0:N.getData(),K=B.getPointByClient({x:_.clientX,y:_.clientY});if(E){var ae=B.editConfigModel,se=B.textEditElement;if(se&&se.id===N.id&&B.setElementStateById(N.id,St.DEFAULT),ae.edgeTextEdit&&N.text.editable&&B.setElementStateById(N.id,St.TEXT_EDIT),N.modelType===gt.POLYLINE_EDGE){var fe=N,_e=B.getPointByClient({x:_.x,y:_.y}).canvasOverlayPosition,Ce=_e.x,Ie=_e.y,Qe=mc({x:Ce,y:Ie},fe.points);fe.dbClickPosition=Qe}B.eventCenter.emit(ot.EDGE_DBCLICK,{data:U,e:_,position:K})}else B.eventCenter.emit(ot.ELEMENT_CLICK,{data:U,e:_,position:K}),B.eventCenter.emit(ot.EDGE_CLICK,{data:U,e:_,position:K});var Re=B.editConfigModel;B.selectEdgeById(N.id,Od(_,Re)),i.toFront()}}),i}return t=u,(n=[{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,s=i.model,h=i.graphModel;if(s.state===St.TEXT_EDIT)return null;var v=!1,_=h.editConfigModel;return(s.text.draggable||_.edgeTextDraggable)&&(v=!0),Object(ne.g)(CO,{ref:this.textRef,editable:_.edgeTextEdit&&s.text.editable,model:s,graphModel:h,draggable:v})}},{key:"getArrowInfo",value:function(){var i=this.props.model,s=i.startPoint,h=i.endPoint,v=i.isSelected;return{start:s,end:h,hover:this.state.hover,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,s=i.id,h=i.getArrowStyle(),v=h.refY,_=v===void 0?0:v,E=h.refX,A=E===void 0?2:E,N=zO(this.getLastTwoPoints(),2),B=N[0],U=N[1],K="auto";return B!==null&&U!==null&&(K=sh(uh({x:U.x-B.x,y:U.y-B.y,z:0}))),Object(ne.g)("g",null,Object(ne.g)("defs",null,Object(ne.g)("marker",{id:"marker-start-".concat(s),refX:-A,refY:_,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ne.g)("marker",{id:"marker-end-".concat(s),refX:A,refY:_,overflow:"visible",orient:K,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(ne.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),s=i.stroke,h=i.strokeWidth,v=i.offset,_=i.verticalLength;return Object(ne.g)("path",{stroke:s,fill:s,strokeWidth:h,transform:"rotate(180)",d:"M 0 0 L ".concat(v," -").concat(_," L ").concat(v," ").concat(_," Z")})}},{key:"getAdjustPointShape",value:function(i,s,h){var v=h.getAdjustPointStyle();return Object(ne.g)(Li,Wi({className:"lf-edge-adjust-point"},v,{x:i,y:s}))}},{key:"getAdjustPoints",value:function(){var i=this.props,s=i.model,h=i.graphModel,v=s.getAdjustStart(),_=s.getAdjustEnd();return Object(ne.g)("g",null,Object(ne.g)(Xv,Wi({type:"SOURCE"},v,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:s,graphModel:h})),Object(ne.g)(Xv,Wi({type:"TARGET"},_,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:s,graphModel:h})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ne.g)("g",null)}},{key:"getAppend",value:function(){return Object(ne.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,s=i.graphModel,h=i.model;s.overlapMode!==Rn.INCREASE&&s.toFront(h.id)}},{key:"render",value:function(){var i=this.props,s=i.model,h=s.isSelected,v=s.isHitable,_=s.isShowAdjustPoint;return i.graphModel.animation,Object(ne.g)("g",null,Object(ne.g)("g",{className:["lf-edge",!v&&"pointer-none",h&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),_&&h?this.getAdjustPoints():"")}}])&&GO(t.prototype,n),u}(ne.a);function Of(e){return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function WO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Uv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Uv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yi=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=WO(n,2),u=r[0],i=r[1],s=Of(i);u!=="style"&&s==="object"||(t[u]=i)}),Object(ne.g)("path",t)};function wf(e){return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function xf(){return xf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xf.apply(this,arguments)}function UO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ef(e,t){return Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ef(e,t)}function VO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ru(e);if(t){var u=Ru(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return $O(this,n)}}function $O(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ru(e){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ru(e)}var Sf=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Ef(i,s)})(u,e);var t,n,r=VO(u);function u(){return UO(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,s=i.startPoint,h=i.endPoint,v=i.isAnimation,_=i.arrowConfig,E=i.getEdgeStyle(),A=i.getEdgeAnimationStyle(),N=A.strokeDasharray,B=A.stroke,U=A.strokeDashoffset,K=A.animationName,ae=A.animationDuration,se=A.animationIterationCount,fe=A.animationTimingFunction,_e=A.animationDirection;return Object(ne.g)(Bo,xf({},E,{x1:s.x,y1:s.y,x2:h.x,y2:h.y},_,v?{strokeDasharray:N,stroke:B,style:{strokeDashoffset:U,animationName:K,animationDuration:ae,animationIterationCount:se,animationTimingFunction:fe,animationDirection:_e}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,s=i.startPoint,h=i.endPoint,v=Eh({start:s,end:h}),_=v.d,E=v.strokeWidth,A=v.fill,N=v.strokeDasharray,B=v.stroke;return Object(ne.g)(Yi,{d:_,fill:A,strokeWidth:E,stroke:B,strokeDasharray:N})}}])&&YO(t.prototype,n),u}(Ui);function jf(e){return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function KO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Yv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Yv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qO=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=KO(n,2),u=r[0],i=r[1];(u==="style"||jf(i)!=="object")&&(t[u]=i)}),Object(ne.g)("polyline",t)};function Pf(e){return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function Vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(n),!0).forEach(function(r){Rr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mf(){return Mf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mf.apply(this,arguments)}function ZO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return $v(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return $v(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $v(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tf(e,t){return Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tf(e,t)}function QO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bu(e);if(t){var u=Bu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return ew(this,n)}}function ew(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Ir(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bu(e){return Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bu(e)}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Af=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Tf(i,s)})(u,e);var t,n,r=QO(u);function u(){var i;return function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}(this,u),Rr(Ir(i=r.call(this)),"drag",void 0),Rr(Ir(i),"isDragging",void 0),Rr(Ir(i),"isShowAdjustPointTemp",void 0),Rr(Ir(i),"appendInfo",void 0),Rr(Ir(i),"onDragStart",function(){var s=i.props.model;s.dragAppendStart(),i.isShowAdjustPointTemp=s.isShowAdjustPoint,s.isShowAdjustPoint=!1}),Rr(Ir(i),"onDragging",function(s){var h=s.deltaX,v=s.deltaY,_=i.props,E=_.model,A=_.graphModel;i.isDragging=!0;var N=A.transformModel,B=A.editConfigModel,U=ZO(N.fixDeltaXY(h,v),2),K=U[0],ae=U[1],se=E,fe=B.adjustEdgeMiddle;i.appendInfo=fe?se.dragAppendSimple(i.appendInfo,{x:K,y:ae}):se.dragAppend(i.appendInfo,{x:K,y:ae})}),Rr(Ir(i),"onDragEnd",function(){var s=i.props,h=s.model,v=s.graphModel.eventCenter,_=h;_.dragAppendEnd(),i.isDragging=!1,_.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,v.emit(ot.EDGE_ADJUST,{data:_.getData()})}),Rr(Ir(i),"beforeDragStart",function(s,h){h.dragAble&&i.drag.handleMouseDown(s),i.appendInfo=h}),i.drag=new Mr({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return t=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,s=i.points,h=i.isAnimation,v=i.arrowConfig,_=i.getEdgeStyle(),E=i.getEdgeAnimationStyle(),A=E.strokeDasharray,N=E.stroke,B=E.strokeDashoffset,U=E.animationName,K=E.animationDuration,ae=E.animationIterationCount,se=E.animationTimingFunction,fe=E.animationDirection;return Object(ne.g)(qO,Mf({points:s},_,v,h?{strokeDasharray:A,stroke:N,style:{strokeDashoffset:B,animationName:U,animationDuration:K,animationIterationCount:ae,animationTimingFunction:se,animationDirection:fe}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,s=i.points,h=i.isSelected,v={start:null,end:null,hover:this.state.hover,isSelected:h},_=$r(s);return _.length>=2&&(v.start=_[_.length-2],v.end=_[_.length-1]),v}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,s=$r(i);return s.length>=2?[s[s.length-2],s[s.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var s,h=i.start,v=i.end;if(h.x===v.x&&h.y===v.y)s="";else{var _={start:h,end:v,offset:10,verticalLength:5},E=Ti(Lu(Lu({},_),{},{type:"start"})),A=Ti(Lu(Lu({},_),{},{type:"end"}));s="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(A.rightX," ").concat(A.rightY,`
      L`).concat(A.leftX," ").concat(A.leftY," z")}return{d:s,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var s=this.getAppendAttributes(i),h=s.d,v=s.strokeWidth,_=s.fill,E=s.strokeDasharray,A=s.stroke;return Object(ne.g)(Yi,{d:h,fill:_,strokeWidth:v,stroke:A,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var i=this,s=this.props,h=s.model,v=s.graphModel,_=h.pointsList,E=h.draggable,A=[],N=_.length,B=function(K){var ae="lf-polyline-append",se={start:{x:_[K].x,y:_[K].y},end:{x:_[K+1].x,y:_[K+1].y},startIndex:K,endIndex:K+1,direction:"",dragAble:!0},fe=Object(ne.g)("g",{className:ae},i.getAppendShape(se)),_e=v.editConfigModel,Ce=_e.adjustEdge,Ie=_e.adjustEdgeMiddle;if(Ce&&E){var Qe=se.startIndex,Re=se.endIndex,Ke=Ie&&(Qe===0||Re===N-1);se.dragAble=!Ke,se.start.x===se.end.x?(se.dragAble&&(ae+="-ew-resize"),se.direction=Bt.VERTICAL):se.start.y===se.end.y&&(se.dragAble&&(ae+="-ns-resize"),se.direction=Bt.HORIZONTAL),fe=Object(ne.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(Le){return i.beforeDragStart(Le,se)}},Object(ne.g)("g",{className:ae},i.getAppendShape(se)))}A.push(fe)},U=0;U<N-1;U++)B(U);return Object(ne.g)("g",null,A)}}])&&JO(t.prototype,n),u}(Ui);function kf(e){return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function tw(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Kv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Kv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nf(){return Nf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(this,arguments)}function nw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Df(e,t){return Df=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Df(e,t)}function ow(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zu(e);if(t){var u=zu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return iw(this,n)}}function iw(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zu(e)}var Cf=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Df(i,s)})(u,e);var t,n,r=ow(u);function u(){return nw(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,s=i.getEdgeStyle(),h=i.path,v=i.isAnimation,_=i.arrowConfig,E=i.getEdgeAnimationStyle(),A=E.strokeDasharray,N=E.stroke,B=E.strokeDashoffset,U=E.animationName,K=E.animationDuration,ae=E.animationIterationCount,se=E.animationTimingFunction,fe=E.animationDirection;return Object(ne.g)(Yi,Nf({d:h},s,_,v?{strokeDasharray:A,stroke:N,style:{strokeDashoffset:B,animationName:U,animationDuration:K,animationIterationCount:ae,animationTimingFunction:se,animationDirection:fe}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(ne.g)(Yi,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,s=this.state.hover,h=i.isSelected,v=i.getArrowStyle().offset,_=i.pointsList.map(function(A){return{x:A.x,y:A.y}}),E=tw(gc(_,v),2);return{start:E[0],end:E[1],hover:s,isSelected:h}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,s=i.getArrowStyle().offset,h=i.pointsList.map(function(v){return{x:v.x,y:v.y}});return gc(h,s)}}])&&rw(t.prototype,n),u}(Ui);function If(e){return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function aw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rf(e,t){return Rf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rf(e,t)}function cw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fu(e);if(t){var u=Fu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return lw(this,n)}}function lw(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Fu(e){return Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(e)}var fw=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Rf(i,s)})(u,e);var t,n,r=cw(u);function u(){return uw(this,u),r.apply(this,arguments)}return t=u,n=[{key:"getArrowAttributes",value:function(){var i=this.props,s=i.arrowInfo,h=i.style,v=s.start,_=s.end,E={start:v,end:_,offset:h.offset,verticalLength:h.verticalLength,type:"end"},A=Ti(E),N=A.leftX,B=A.leftY,U=A.rightX,K=A.rightY;return function(ae){for(var se=1;se<arguments.length;se++){var fe=arguments[se]!=null?arguments[se]:{};se%2?qv(Object(fe),!0).forEach(function(_e){aw(ae,_e,fe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(fe)):qv(Object(fe)).forEach(function(_e){Object.defineProperty(ae,_e,Object.getOwnPropertyDescriptor(fe,_e))})}return ae}({d:"M".concat(N," ").concat(B," L").concat(_.x," ").concat(_.y," L").concat(U," ").concat(K," z")},h)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),s=i.d,h=i.strokeWidth,v=i.stroke,_=i.fill;return Object(ne.g)(Yi,{d:s,fill:_,strokeWidth:h,stroke:v})}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&sw(t.prototype,n),u}(ne.a),Zv=function(e,t){return he(e,t)},pw=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Lf=function(){return We.a.Date.now()},dw=/\s/,hw=function(e){for(var t=e.length;t--&&dw.test(e.charAt(t)););return t},yw=/^\s+/,vw=function(e){return e&&e.slice(0,hw(e)+1).replace(yw,"")},gw=/^[-+]0x[0-9a-f]+$/i,mw=/^0b[01]+$/i,bw=/^0o[0-7]+$/i,_w=parseInt,Jv=function(e){if(typeof e=="number")return e;if(dt(e))return NaN;if(zt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vw(e);var n=mw.test(e);return n||bw.test(e)?_w(e.slice(2),n?2:8):gw.test(e)?NaN:+e},Ow=Math.max,ww=Math.min,xw=function(e,t,n){var r,u,i,s,h,v,_=0,E=!1,A=!1,N=!0;if(typeof e!="function")throw new TypeError("Expected a function");function B(_e){var Ce=r,Ie=u;return r=u=void 0,_=_e,s=e.apply(Ie,Ce)}function U(_e){return _=_e,h=setTimeout(ae,t),E?B(_e):s}function K(_e){var Ce=_e-v;return v===void 0||Ce>=t||Ce<0||A&&_e-_>=i}function ae(){var _e=Lf();if(K(_e))return se(_e);h=setTimeout(ae,function(Ce){var Ie=t-(Ce-v);return A?ww(Ie,i-(Ce-_)):Ie}(_e))}function se(_e){return h=void 0,N&&r?B(_e):(r=u=void 0,s)}function fe(){var _e=Lf(),Ce=K(_e);if(r=arguments,u=this,v=_e,Ce){if(h===void 0)return U(v);if(A)return clearTimeout(h),h=setTimeout(ae,t),B(v)}return h===void 0&&(h=setTimeout(ae,t)),s}return t=Jv(t)||0,zt(n)&&(E=!!n.leading,i=(A="maxWait"in n)?Ow(Jv(n.maxWait)||0,t):i,N="trailing"in n?!!n.trailing:N),fe.cancel=function(){h!==void 0&&clearTimeout(h),_=0,r=v=u=h=void 0},fe.flush=function(){return h===void 0?s:se(Lf())},fe},Ew=o(167);function Sw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qv,eg,tg,jw=function(){function e(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),Qr(this,"undos",[]),Qr(this,"redos",[]),Qr(this,"callbacks",[]),Qr(this,"stopWatch",null),Qr(this,"curData",null),Qr(this,"maxSize",50),Qr(this,"waitTime",100),Qr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){Zv(pw(this.undos),r)||(this.undos.push(r),Zv(this.curData,r)||(this.redos=[]),this.eventCenter.emit(ot.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var u=this.undos.pop();return this.curData=Gt(u),u}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Gt(r),r}}},{key:"watch",value:function(r){var u=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Ew.a)(r,xw(function(){var i=r.modelToHistoryData();i&&u.add(i)},this.waitTime))}}])&&Sw(t.prototype,n),e}();function Bf(e){return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function Pw(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return ng(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return ng(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rg(Object(n),!0).forEach(function(r){go(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zf(e,t){return zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zf(e,t)}function Mw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gu(e);if(t){var u=Gu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Tw(this,n)}}function Tw(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qo(e)}function qo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gu(e)}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ig,ag,ug,Ff=nr((tg=eg=function(e){(function(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&zf(s,h)})(i,e);var t,n,r,u=Mw(i);function i(){var s;return function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,i),go(qo(s=u.call(this)),"ref",Object(ne.f)()),go(qo(s),"__prevText",{type:"",text:"",id:""}),go(qo(s),"keyupHandler",function(h){var v=s.props.graphModel.textEditElement;h.key==="Enter"&&h.altKey&&v.setElementState(0)}),go(qo(s),"inputHandler",function(h){var v=h.target.innerText,_=s.props.graphModel.textEditElement;s.__prevText={type:_.type,text:v.replace(/(\r\n)+$|(\n)+$/,""),id:_.id}}),go(qo(s),"keydownHandler",function(h){h.stopPropagation()}),s.state={style:{left:0,top:0}},s}return t=i,r=[{key:"getDerivedStateFromProps",value:function(s){var h,v=s.graphModel,_=v.transformModel,E=v.theme,A=v.textEditElement;if(A){var N;if((N=A.text)===null||N===void 0||!N.value)if(A.BaseType===Zt.EDGE){var B=(A=A).text,U=A.textPosition,K=U.x,ae=U.y;B.x=K,B.y=ae,A.setText(B)}else A=A;var se={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(A.BaseType===Zt.EDGE){var fe=E.edgeText,_e=fe.overflowMode,Ce=fe.lineHeight,Ie=fe.wrapPadding,Qe=fe.textWidth;Qe&&_e==="autoWrap"&&(h=Ko(Ko({},se),{},{width:Qe,minWidth:Qe,lineHeight:Ce,padding:Ie}))}else if(A.BaseType===Zt.NODE){var Re=E.nodeText,Ke=Re.overflowMode,Le=Re.lineHeight,_t=Re.wrapPadding,Tt=Re.textWidth,xt=A,Nt=xt.width,Kt=xt.modelType;(Kt!==gt.TEXT_NODE&&Ke==="autoWrap"||Kt===gt.TEXT_NODE&&Tt)&&(h=Ko(Ko({},se),{},{width:Tt||Nt,minWidth:Tt||Nt,lineHeight:Le,padding:_t}))}var nn=A.text,_n=nn.x,mr=nn.y,$n=Pw(_.CanvasPointToHtmlPoint([_n,mr]),2);return{style:Ko({left:$n[0],top:$n[1]},h)}}}}],(n=[{key:"componentDidUpdate",value:function(){var s=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var h=this.__prevText,v=h.text,_=h.id;s.updateText(_,v),s.eventCenter.emit(ot.TEXT_UPDATE,Ko({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(s){if(window.getSelection!==void 0&&document.createRange!==void 0){var h=document.createRange();h.selectNodeContents(s),h.collapse(!1);var v=window.getSelection();v.removeAllRanges(),v.addRange(h)}}},{key:"render",value:function(){var s,h=this.props.graphModel.textEditElement,v=this.state.style;return h?Object(ne.g)("div",{contentEditable:!0,className:"lf-text-input",style:v,ref:this.ref,key:h.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(s=h.text)===null||s===void 0?void 0:s.value):null}}])&&og(t.prototype,n),r&&og(t,r),i}(ne.a),go(eg,"toolName","textEdit"),Qv=tg))||Qv,Aw=function(e){return e.modelType===gt.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,u=(n.x+r.x)/2,i=(n.y+r.y)/2,s=Math.abs(n.x-r.x)+10,h=Math.abs(n.y-r.y)+10;return{x:u-s/2,y:i-h/2,x1:u+s/2,y1:i+h/2}}(e):e.modelType===gt.POLYLINE_EDGE?function(t){var n=t.points,r=$r(n),u=Co(r,8),i=u.x,s=u.y,h=u.width,v=u.height;return{x:i-h/2,y:s-v/2,x1:i+h/2,y1:s+v/2}}(e):e.modelType===gt.BEZIER_EDGE?function(t){var n=t.path,r=$a(n),u=Co(r,8),i=u.x,s=u.y,h=u.width,v=u.height;return{x:i-h/2,y:s-v/2,x1:i+h/2,y1:s+v/2}}(e):void 0};function Gf(e){return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function sg(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||cg(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kw(e){return function(t){if(Array.isArray(t))return Hf(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||cg(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cg(e,t){if(e){if(typeof e=="string")return Hf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hf(e,t):void 0}}function Hf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t){return Xf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xf(e,t)}function Dw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hu(e);if(t){var u=Hu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Cw(this,n)}}function Cw(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vi(e)}function Vi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(e)}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wf=nr((ug=ag=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Xf(i,s)})(u,e);var t,n,r=Dw(u);function u(i){var s;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,u),$i(Vi(s=r.call(this)),"stepDrag",void 0),$i(Vi(s),"handleMouseDown",function(E){s.stepDrag.handleMouseDown(E)}),$i(Vi(s),"onDragging",function(E){var A=E.deltaX,N=E.deltaY,B=s.props.graphModel,U=B.getSelectElements(!0);B.moveNodes(U.nodes.map(function(K){return K.id}),A,N)}),$i(Vi(s),"handleContextMenu",function(E){E.preventDefault();var A=s.props,N=A.graphModel,B=A.graphModel,U=B.eventCenter,K=B.selectElements,ae=N.getPointByClient({x:E.clientX,y:E.clientY}),se={nodes:[],edges:[]};kw(K.values()).forEach(function(fe){fe.BaseType===Zt.NODE&&se.nodes.push(fe.getData()),fe.BaseType===Zt.EDGE&&se.edges.push(fe.getData())}),U.emit(ot.SELECTION_CONTEXTMENU,{data:se,e:E,position:ae})});var h=i.graphModel,v=h.gridSize,_=h.eventCenter;return s.stepDrag=new Mr({onDragging:s.onDragging,step:v,eventType:"SELECTION",eventCenter:_}),s}return t=u,(n=[{key:"render",value:function(){var i=this.props.graphModel,s=i.selectElements,h=i.transformModel;if(!(s.size<=1)){var v=Number.MAX_SAFE_INTEGER,_=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;s.forEach(function(K){var ae={x:0,y:0,x1:0,y1:0};K.BaseType===Zt.NODE&&(ae=function(se){var fe=se.x,_e=se.y,Ce=se.width,Ie=se.height;return{x:fe-Ce/2,y:_e-Ie/2,x1:fe+Ce/2,y1:_e+Ie/2}}(K)),K.BaseType===Zt.EDGE&&(ae=Aw(K)),v=Math.min(v,ae.x),_=Math.min(_,ae.y),E=Math.max(E,ae.x1),A=Math.max(A,ae.y1)});var N=sg(h.CanvasPointToHtmlPoint([v,_]),2);v=N[0],_=N[1];var B=sg(h.CanvasPointToHtmlPoint([E,A]),2);E=B[0],A=B[1];var U={left:"".concat(v-10,"px"),top:"".concat(_-10,"px"),width:"".concat(E-v+20,"px"),height:"".concat(A-_+20,"px")};return Object(ne.g)("div",{className:"lf-multiple-select",style:U,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Nw(t.prototype,n),u}(ne.a),$i(ag,"toolName","multipleSelect"),ig=ug))||ig;function Iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rw=function(){function e(r){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Xu(this,"tools",void 0),Xu(this,"components",void 0),Xu(this,"toolMap",new Map),Xu(this,"instance",void 0),this.instance=r,this.isDisabledTool(Ff.toolName)||this.registerTool(Ff.toolName,Ff),this.isDisabledTool(Wf.toolName)||this.registerTool(Wf.toolName,Wf);var u=r.graphModel;u.eventCenter.on("".concat(ot.GRAPH_TRANSFORM,",").concat(ot.NODE_CLICK,",").concat(ot.BLANK_CLICK," "),function(){var i=u.textEditElement,s=u.editConfigModel,h=s.edgeTextEdit,v=s.nodeTextEdit;(h||v)&&i&&u.textEditElement.setElementState(St.DEFAULT)})}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,u){this.toolMap.set(r,u)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Iw(t.prototype,n),e}(),Lw=o(168),Bw=o.n(Lw);function zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lg=function(){function e(r){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Uf(this,"mousetrap",void 0),Uf(this,"options",void 0),Uf(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var u=r.lf;this.target=u.container,this.mousetrap=new Bw.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,u=this.options.keyboard.shortcuts;if(u)if(un(u))u.forEach(function(v){var _=v.keys,E=v.callback,A=v.action;return r.on(_,E,A)});else{var i=u.keys,s=u.callback,h=u.action;this.on(i,s,h)}}},{key:"on",value:function(r,u,i){this.mousetrap.bind(this.getKeys(r),u,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,u){this.mousetrap.unbind(this.getKeys(r),u)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var u=this;return(Array.isArray(r)?r:[r]).map(function(i){return u.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&zw(t.prototype,n),e}(),Fw=lg,Lr=null;function fg(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function pg(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Yf(e){return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dg(Object(n),!0).forEach(function(r){Ft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vf=Symbol("plugin register by Logicflow.use"),$f=function(){function e(u){var i,s,h=this;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,e),Ft(this,"container",void 0),Ft(this,"width",void 0),Ft(this,"height",void 0),Ft(this,"graphModel",void 0),Ft(this,"history",void 0),Ft(this,"viewMap",new Map),Ft(this,"tool",void 0),Ft(this,"keyboard",void 0),Ft(this,"dnd",void 0),Ft(this,"options",void 0),Ft(this,"snaplineModel",void 0),Ft(this,"components",[]),Ft(this,"plugins",void 0),Ft(this,"extension",{}),Ft(this,"adapterIn",void 0),Ft(this,"adapterOut",void 0),Ft(this,"getView",function(v){return h.viewMap.get(v)}),u=hy(u),this.options=u,this.container=this.initContainer(u.container),this.plugins=u.plugins,this.graphModel=new U0(Ki({},u)),this.tool=new Rw(this),this.history=new jw(this.graphModel.eventCenter),this.dnd=new G1({lf:this}),this.keyboard=new Fw({lf:this,keyboard:u.keyboard}),u.snapline!==!1&&(this.snaplineModel=new Ev(this.graphModel),i=this.graphModel.eventCenter,s=this.snaplineModel,i.on("node:mousemove",function(v){var _=v.data;s.setNodeSnapLine(_)}),i.on("node:mouseup",function(){s.clearSnapline()})),function(v,_){var E=v.keyboard,A=E.options.keyboard;E.on(["cmd + c","ctrl + c"],function(){if(!A.enabled||_.textEditElement)return!0;var N=v.options.guards,B=_.getSelectElements(!1);return N&&N.beforeClone&&!N.beforeClone(B)||B.nodes.length===0&&B.edges.length===0?(Lr=null,!0):((Lr=B).nodes.forEach(function(U){return fg(U,40)}),Lr.edges.forEach(function(U){return pg(U,40)}),!1)}),E.on(["cmd + v","ctrl + v"],function(){if(!A.enabled||_.textEditElement)return!0;if(Lr&&(Lr.nodes||Lr.edges)){v.clearSelectElements();var N=v.addElements(Lr);if(!N)return!0;N.nodes.forEach(function(B){return v.selectElementById(B.id,!0)}),N.edges.forEach(function(B){return v.selectElementById(B.id,!0)}),Lr.nodes.forEach(function(B){return fg(B,40)}),Lr.edges.forEach(function(B){return pg(B,40)})}return!1}),E.on(["cmd + z","ctrl + z"],function(){return!A.enabled||!!_.textEditElement||(v.undo(),!1)}),E.on(["cmd + y","ctrl + y"],function(){return!A.enabled||!!_.textEditElement||(v.redo(),!1)}),E.on(["backspace"],function(){if(!A.enabled||_.textEditElement)return!0;var N=_.getSelectElements(!0);return v.clearSelectElements(),N.edges.forEach(function(B){return v.deleteEdge(B.id)}),N.nodes.forEach(function(B){return v.deleteNode(B.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(u.disabledPlugins)}var t,n,r;return t=e,n=[{key:"register",value:function(u,i){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof u=="string"){var h={BaseEdge:Ui,BaseEdgeModel:Ks,BaseNode:Dr,BaseNodeModel:Nr,RectNode:zl,RectNodeModel:bl,CircleNode:Xl,CircleNodeModel:el,PolygonNode:$l,PolygonNodeModel:yl,TextNode:uf,TextNodeModel:xl,LineEdge:Sf,LineEdgeModel:Xa,DiamondNode:Jl,DiamondNodeModel:il,PolylineEdge:Af,PolylineEdgeModel:Wa,BezierEdge:Cf,BezierEdgeModel:$c,EllipseNode:rf,EllipseNodeModel:cl,HtmlNode:ff,HtmlNodeModel:jl,h:ne.g,type:u};this.viewMap.forEach(function(N){var B=N.extendKey;B&&(h[B]=N)}),this.graphModel.modelMap.forEach(function(N){var B=N.extendKey;B&&(h[B]=N)});var v=i(h),_=v.view,E=v.model,A=_;s&&!A.isObervered&&(A.isObervered=!0,A=He(A)),this.setView(u,A),this.graphModel.setModel(u,E)}else this.registerElement(u)}},{key:"registerElement",value:function(u){var i=u.view;u.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=He(i)),this.setView(u.type,i),this.graphModel.setModel(u.type,u.model)}},{key:"batchRegister",value:function(){var u=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(s){u.registerElement(s)})}},{key:"defaultRegister",value:function(){this.registerElement({view:zl,model:bl,type:"rect"}),this.registerElement({type:"circle",view:Xl,model:el}),this.registerElement({type:"polygon",view:$l,model:yl}),this.registerElement({type:"line",view:Sf,model:Xa}),this.registerElement({type:"polyline",view:Af,model:Wa}),this.registerElement({type:"bezier",view:Cf,model:$c}),this.registerElement({type:"text",view:uf,model:xl}),this.registerElement({type:"ellipse",view:rf,model:cl}),this.registerElement({type:"diamond",view:Jl,model:il}),this.registerElement({type:"html",view:ff,model:jl})}},{key:"selectElementById",value:function(u){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(u,i),!i&&s&&this.graphModel.toFront(u)}},{key:"focusOn",value:function(u){var i=this.graphModel.transformModel,s=u.coordinate,h=u.id;if(!s){var v=this.getNodeModelById(h);v&&(s=v.getData());var _=this.getEdgeModelById(h);_&&(s=_.textPosition)}var E=s,A=E.x,N=E.y;i.focusOn(A,N,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(u){this.graphModel.setTheme(u)}},{key:"resize",value:function(u,i){this.graphModel.resize(u,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(u){this.graphModel.setDefaultEdgeType(u)}},{key:"updateText",value:function(u,i){this.graphModel.updateText(u,i)}},{key:"deleteElement",value:function(u){var i,s,h,v=this.getModelById(u);return!!v&&(s=(h=(Ft(i={},Zt.NODE,this.deleteNode),Ft(i,Zt.EDGE,this.deleteEdge),i)[v.BaseType])===null||h===void 0?void 0:h.call(this,u))!==null&&s!==void 0&&s}},{key:"getModelById",value:function(u){return this.graphModel.getElement(u)}},{key:"getDataById",value:function(u){var i;return(i=this.graphModel.getElement(u))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(u,i){this.graphModel.changeNodeType(u,i)}},{key:"changeEdgeType",value:function(u,i){this.graphModel.changeEdgeType(u,i)}},{key:"getNodeEdges",value:function(u){return this.graphModel.getNodeEdges(u)}},{key:"addNode",value:function(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot.NODE_ADD,s=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(u,i,s)}},{key:"deleteNode",value:function(u){var i=this.graphModel.getNodeModelById(u);if(!i)return!1;var s=i.getData(),h=this.options.guards,v=!h||!h.beforeDelete||h.beforeDelete(s);return v&&this.graphModel.deleteNode(u),v}},{key:"cloneNode",value:function(u){var i=this.graphModel.getNodeModelById(u).getData(),s=this.options.guards;if(!s||!s.beforeClone||s.beforeClone(i))return this.graphModel.cloneNode(u)}},{key:"changeNodeId",value:function(u,i){return this.graphModel.changeNodeId(u,i)}},{key:"getNodeModelById",value:function(u){return this.graphModel.getNodeModelById(u)}},{key:"getNodeDataById",value:function(u){var i;return(i=this.graphModel.getNodeModelById(u))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(u){return this.graphModel.addEdge(u)}},{key:"deleteEdge",value:function(u){var i=this.options.guards,s=this.graphModel.edgesMap[u];if(!s)return!1;var h=s.model.getData(),v=!i||!i.beforeDelete||i.beforeDelete(h);return v&&this.graphModel.deleteEdgeById(u),v}},{key:"deleteEdgeByNodeId",value:function(u){var i=u.sourceNodeId,s=u.targetNodeId;i&&s?this.graphModel.deleteEdgeBySourceAndTarget(i,s):i?this.graphModel.deleteEdgeBySource(i):s&&this.graphModel.deleteEdgeByTarget(s)}},{key:"changeEdgeId",value:function(u,i){return this.graphModel.changeEdgeId(u,i)}},{key:"getEdgeModelById",value:function(u){var i;return(i=this.graphModel.edgesMap[u])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(u){var i=this.graphModel.edges,s=u.sourceNodeId,h=u.targetNodeId;if(s&&h){var v=[];return i.forEach(function(A){A.sourceNodeId===s&&A.targetNodeId===h&&v.push(A)}),v}if(s){var _=[];return i.forEach(function(A){A.sourceNodeId===s&&_.push(A)}),_}if(h){var E=[];return i.forEach(function(A){A.targetNodeId===h&&E.push(A)}),E}return[]}},{key:"getEdgeDataById",value:function(u){var i;return(i=this.getEdgeModelById(u))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(u){return this.graphModel.getNodeIncomingEdge(u)}},{key:"getNodeOutgoingEdge",value:function(u){return this.graphModel.getNodeOutgoingEdge(u)}},{key:"getNodeIncomingNode",value:function(u){return this.graphModel.getNodeIncomingNode(u)}},{key:"getNodeOutgoingNode",value:function(u){return this.graphModel.getNodeOutgoingNode(u)}},{key:"editText",value:function(u){this.graphModel.editText(u)}},{key:"setProperties",value:function(u,i){var s;(s=this.graphModel.getElement(u))===null||s===void 0||s.setProperties(ln(i))}},{key:"deleteProperty",value:function(u,i){var s;(s=this.graphModel.getElement(u))===null||s===void 0||s.deleteProperty(i)}},{key:"getProperties",value:function(u){var i;return(i=this.graphModel.getElement(u))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(u){this.graphModel.toFront(u)}},{key:"setElementZIndex",value:function(u,i){return this.graphModel.setElementZIndex(u,i)}},{key:"addElements",value:function(u){for(var i=this,s=u.nodes,h=u.edges,v={},_={nodes:[],edges:[]},E=0;E<s.length;E++){var A=s[E],N=A.id,B=this.addNode(A);if(!B)return;N&&(v[N]=B.id),_.nodes.push(B)}return h.forEach(function(U){var K=U.sourceNodeId,ae=U.targetNodeId;v[K]&&(K=v[K]),v[ae]&&(ae=v[ae]);var se=i.graphModel.addEdge(Ki(Ki({},U),{},{sourceNodeId:K,targetNodeId:ae}));_.edges.push(se)}),_}},{key:"getAreaElement",value:function(u,i){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(u,i,s,h,v).map(function(_){return _.getData()})}},{key:"getSelectElements",value:function(){var u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(u)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var u=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return this.adapterOut.apply(this,[u].concat(s))}return u}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(u){this.graphModel.editConfigModel.updateEditConfig(u)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(u,i){return this.graphModel.getPointByClient({x:u,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var u=ln(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(u)}}},{key:"redo",value:function(){if(this.history.redoAble()){var u=ln(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(u)}}},{key:"zoom",value:function(u,i){return this.graphModel.transformModel.zoom(u,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(u){this.graphModel.transformModel.setZoomMiniSize(u)}},{key:"setZoomMaxSize",value:function(u){this.graphModel.transformModel.setZoomMaxSize(u)}},{key:"getTransform",value:function(){var u=this.graphModel.transformModel;return{SCALE_X:u.SCALE_X,SCALE_Y:u.SCALE_Y,TRANSLATE_X:u.TRANSLATE_X,TRANSLATE_Y:u.TRANSLATE_Y}}},{key:"translate",value:function(u,i){this.graphModel.transformModel.translate(u,i)}},{key:"resetTranslate",value:function(){var u=this.graphModel.transformModel,i=u.TRANSLATE_X,s=u.TRANSLATE_Y;this.translate(-i,-s)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(u,i){i===void 0&&(i=u),this.graphModel.fitView(u,i)}},{key:"openEdgeAnimation",value:function(u){this.graphModel.openEdgeAnimation(u)}},{key:"closeEdgeAnimation",value:function(u){this.graphModel.closeEdgeAnimation(u)}},{key:"on",value:function(u,i){this.graphModel.eventCenter.on(u,i)}},{key:"off",value:function(u,i){this.graphModel.eventCenter.off(u,i)}},{key:"once",value:function(u,i){this.graphModel.eventCenter.once(u,i)}},{key:"emit",value:function(u,i){this.graphModel.eventCenter.emit(u,i)}},{key:"initContainer",value:function(u){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",u.innerHTML="",u.appendChild(i),i}},{key:"installPlugins",value:function(){var u,i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=(u=this.plugins)!==null&&u!==void 0?u:e.extensions;h.forEach(function(v){var _=null,E=null;v[Vf]?(_=v.extension,E=v.props):_=v;var A=_.pluginName||_.name;s.indexOf(A)===-1&&i.installPlugin(_,E)})}},{key:"installPlugin",value:function(u,i){if(Yf(u)==="object"){var s=u.install,h=u.render;return s&&s.call(u,this,e),h&&this.components.push(h.bind(u)),void(this.extension[u.pluginName]=u)}var v=u,_=new v({lf:this,LogicFlow:e,options:this.options.pluginsOptions,props:i});_.render&&this.components.push(_.render.bind(_)),this.extension[v.pluginName]=_}},{key:"updateAttributes",value:function(u,i){this.graphModel.updateAttributes(u,i)}},{key:"createFakerNode",value:function(u){var i=this.graphModel.modelMap.get(u.type);if(i){var s=new i(Ki(Ki({},u),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(s),s}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(u){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(u)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(u,i){this.viewMap.set(u,i)}},{key:"renderRawData",value:function(u){this.graphModel.graphDataToModel(ln(u)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ne.j)(Object(ne.g)(z1,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(ot.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(u=this.adapterIn(u)),this.renderRawData(u)}}],r=[{key:"use",value:function(u,i){var s,h,v=u.pluginName;v||(v=u.name);var _=(s=this.extensions.get(v))===null||s===void 0?void 0:s.extension;_&&_.destroy&&_.destroy(),this.extensions.set(v,(Ft(h={},Vf,Vf),Ft(h,"extension",u),Ft(h,"props",i),h))}}],n&&hg(t.prototype,n),r&&hg(t,r),e}();function nr(e){return He(e)}Ft($f,"extensions",new Map),c.default=$f}])})})(Qf,Qf.exports);var Ee=Qf.exports,T2=function(){function d(){globalThis._ids=this,this._ids=new Set}return d.prototype.generateId=function(){var p="xxxxxxx".replace(/[x]/g,function(a){var c=Math.random()*16|0,o=a==="x"?c:c&3|8;return o.toString(16)});return p},d.prototype.next=function(){for(var p=this.generateId();this._ids.has(p);)p=this.generateId();return this._ids.add(p),p},d}(),A2=(globalThis==null?void 0:globalThis._ids)||new T2;function ci(){return A2.next()}var Pm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();(function(d){Pm(p,d);function p(a,c){var o=this;return a.id||(a.id="Event_"+ci()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=d.call(this,a,c)||this,o}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedTargetRules=function(){var a=d.prototype.getConnectedTargetRules.call(this),c={message:"起始节点不能作为边的终点",validate:function(){return!1}};return a.push(c),a},p.extendKey="StartEventModel",p})(Ee.CircleNodeModel);(function(d){Pm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.extendKey="StartEventNode",p})(Ee.CircleNode);var Mm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Qu=globalThis&&globalThis.__assign||function(){return Qu=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Qu.apply(this,arguments)};(function(d){Mm(p,d);function p(a,c){var o=this;return a.id||(a.id="Event_"+ci()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=d.call(this,a,c)||this,o}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedSourceRules=function(){var a=d.prototype.getConnectedSourceRules.call(this),c={message:"结束节点不能作为边的起点",validate:function(){return!1}};return a.push(c),a},p.extendKey="EndEventModel",p})(Ee.CircleNodeModel);(function(d){Mm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},p.prototype.getShape=function(){var a=this.props.model,c=a.getNodeStyle(),o=a.x,l=a.y,f=a.r,y=d.prototype.getShape.call(this);return Ee.h("g",{},y,Ee.h("circle",Qu(Qu({},c),{cx:o,cy:l,r:f-5})))},p.extendKey="EndEventView",p})(Ee.CircleNode);var Tm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),ea=globalThis&&globalThis.__assign||function(){return ea=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},ea.apply(this,arguments)};(function(d){Tm(p,d);function p(a,c){var o=this;return a.id||(a.id="Gateway_"+ci()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=d.call(this,a,c)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return p.extendKey="ExclusiveGatewayModel",p})(Ee.PolygonNodeModel);(function(d){Tm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getShape=function(){var a=this.props.model,c=a.x,o=a.y,l=a.width,f=a.height,y=a.points,g=a.getNodeStyle();return Ee.h("g",{transform:"matrix(1 0 0 1 "+(c-l/2)+" "+(o-f/2)+")"},Ee.h("polygon",ea(ea({},g),{x:c,y:o,points:y})),Ee.h("path",ea({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},p.extendKey="ExclusiveGatewayNode",p})(Ee.PolygonNode);var Am=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},es.apply(this,arguments)};(function(d){Am(p,d);function p(a,c){var o=this;return a.id||(a.id="Activity_"+ci()),o=d.call(this,a,c)||this,o}return p.extendKey="UserTaskModel",p})(Ee.RectNodeModel);(function(d){Am(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getLabelShape=function(){var a=this.props.model,c=a.x,o=a.y,l=a.width,f=a.height,y=a.getNodeStyle();return Ee.h("svg",{x:c-l/2+5,y:o-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ee.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},p.prototype.getShape=function(){var a=this.props.model,c=a.x,o=a.y,l=a.width,f=a.height,y=a.radius,g=a.getNodeStyle();return Ee.h("g",{},[Ee.h("rect",es(es({},g),{x:c-l/2,y:o-f/2,rx:y,ry:y,width:l,height:f})),this.getLabelShape()])},p.extendKey="UserTaskNode",p})(Ee.RectNode);var km=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),ep=globalThis&&globalThis.__assign||function(){return ep=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},ep.apply(this,arguments)};(function(d){km(p,d);function p(a,c){var o=this;return a.id||(a.id="Activity_"+ci()),o=d.call(this,a,c)||this,o}return p.extendKey="ServiceTaskModel",p})(Ee.RectNodeModel);(function(d){km(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getLabelShape=function(){var a=this.props.model,c=a.x,o=a.y,l=a.width,f=a.height,y=a.getNodeStyle();return Ee.h("svg",{x:c-l/2+5,y:o-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ee.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},p.prototype.getShape=function(){var a=this.props.model,c=a.x,o=a.y,l=a.width,f=a.height,y=a.radius,g=a.getNodeStyle();return Ee.h("g",{},[Ee.h("rect",ep({x:c-l/2,y:o-f/2,rx:y,ry:y,width:l,height:f},g)),this.getLabelShape()])},p.extendKey="ServiceTaskNode",p})(Ee.RectNode);var Nm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();(function(d){Nm(p,d);function p(a,c){var o=this;return a.id||(a.id="Flow_"+ci()),o=d.call(this,a,c)||this,o}return p.extendKey="SequenceFlowModel",p})(Ee.PolylineEdgeModel);(function(d){Nm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.extendKey="SequenceFlowEdge",p})(Ee.PolylineEdge);var Pg={width:40,height:40},Mg={width:40,height:40},Tg={width:40,height:40},Ag={width:100,height:80},kg={width:100,height:80},k2=function(){function d(){globalThis._ids=this,this._ids=new Set}return d.prototype.generateId=function(){var p="xxxxxxx".replace(/[x]/g,function(a){var c=Math.random()*16|0,o=a==="x"?c:c&3|8;return o.toString(16)});return p},d.prototype.next=function(){for(var p=this.generateId();this._ids.has(p);)p=this.generateId();return this._ids.add(p),p},d}(),N2=(globalThis==null?void 0:globalThis._ids)||new k2;function Ng(){return N2.next()}function Dm(d){return Object.prototype.toString.call(d)}function D2(d){return"  ".repeat(d)}function ts(d){var p=d;return Dm(d)==="[object Object]"?(p={},Object.keys(d).forEach(function(a){var c=a;a.charAt(0)==="-"&&(c=a.substring(1)),p[c]=ts(d[a])})):Array.isArray(d)&&(p=[],d.forEach(function(a,c){p[c]=ts(a)})),p}function C2(d){var p=d;try{typeof p!="string"&&(p=JSON.parse(d))}catch{p=JSON.stringify(ts(d)).replace(/"/g,"'")}return p}var Jo=`	
`;function Ku(d,p,a){var c=D2(a),o="";if(p==="#text")return Jo+c+d;if(p==="#cdata-section")return Jo+c+"<![CDATA["+d+"]]>";if(p==="#comment")return Jo+c+"<!--"+d+"-->";if((""+p).charAt(0)==="-")return" "+p.substring(1)+'="'+C2(d)+'"';if(Array.isArray(d))d.forEach(function(g){o+=Ku(g,p,a+1)});else if(Dm(d)==="[object Object]"){var l=Object.keys(d),f="",y="";o+=(a===0?"":Jo+c)+"<"+p,l.forEach(function(g){g.charAt(0)==="-"?f+=Ku(d[g],g,a+1):y+=Ku(d[g],g,a+1)}),o+=f+(y!==""?">"+y+(Jo+c)+"</"+p+">":" />")}else o+=Jo+c+("<"+p+">"+d.toString()+"</"+p+">");return o}function I2(d){var p="";for(var a in d)p+=Ku(d[a],a,0);return p}var xn=function(){};xn.ObjTree=function(){return this};xn.ObjTree.VERSION="0.23";xn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;xn.ObjTree.prototype.attr_prefix="-";xn.ObjTree.prototype.parseXML=function(d){var p;if(window.DOMParser){var a=new DOMParser,c=a.parseFromString(d,"application/xml");if(!c)return;p=c.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(d),p=a.documentElement);if(p)return this.parseDOM(p)};xn.ObjTree.prototype.parseHTTP=function(d,p,a){var c={};for(var o in p)c[o]=p[o];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),a){c.asynchronous=!0;var l=this,f=a,y=c.onComplete;c.onComplete=function(x){var w;x&&x.responseXML&&x.responseXML.documentElement&&(w=l.parseDOM(x.responseXML.documentElement)),f(w,x),y&&y(x)}}else c.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){c.uri=d;var O=new HTTP.Request(c);O&&(g=O.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var O=new Ajax.Request(d,c);O&&(g=O.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};xn.ObjTree.prototype.parseDOM=function(d){if(d){if(this.__force_array={},this.force_array)for(var p=0;p<this.force_array.length;p++)this.__force_array[this.force_array[p]]=1;var a=this.parseElement(d);if(this.__force_array[d.nodeName]&&(a=[a]),d.nodeType!=11){var c={};c[d.nodeName]=a,a=c}return a}};xn.ObjTree.prototype.parseElement=function(d){if(d.nodeType!=7){if(d.nodeType==3||d.nodeType==4||d.nodeType==8){var p=d.nodeValue.match(/[^\x00-\x20]/);return p==null?void 0:d.nodeValue}var a=null,c={};if(d.attributes&&d.attributes.length){a={};for(var o=0;o<d.attributes.length;o++){var l=d.attributes[o].nodeName;if(typeof l=="string"){var f=d.attributes[o].nodeValue;try{f=JSON.parse(d.attributes[o].nodeValue.replace(/'/g,'"'))}catch{f=d.attributes[o].nodeValue}f&&(l=this.attr_prefix+l,typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(a,l,c[l],f))}}}if(d.childNodes&&d.childNodes.length){var y=!0;a&&(y=!1);for(var o=0;o<d.childNodes.length&&y;o++){var g=d.childNodes[o].nodeType;g==3||g==4||g==8||(y=!1)}if(y){a||(a="");for(var o=0;o<d.childNodes.length;o++)a+=d.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<d.childNodes.length;o++){var l=d.childNodes[o].nodeName;if(typeof l=="string"){var f=this.parseElement(d.childNodes[o]);f&&(typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(a,l,c[l],f))}}}}else a===null&&(a={});return a}};xn.ObjTree.prototype.addNode=function(d,p,a,c){this.__force_array[p]?(a==1&&(d[p]=[]),d[p][d[p].length]=c):a==1?d[p]=c:a==2?d[p]=[d[p],c]:d[p][d[p].length]=c};xn.ObjTree.prototype.writeXML=function(d){var p=this.hash_to_xml(null,d);return this.xmlDecl+p};xn.ObjTree.prototype.hash_to_xml=function(d,p){var a=[],c=[];for(var o in p)if(p.hasOwnProperty(o)){var l=p[o];o.charAt(0)!=this.attr_prefix?typeof l>"u"||l==null?a[a.length]="<"+o+" />":typeof l=="object"&&l.constructor==Array?a[a.length]=this.array_to_xml(o,l):typeof l=="object"?a[a.length]=this.hash_to_xml(o,l):a[a.length]=this.scalar_to_xml(o,l):c[c.length]=" "+o.substring(1)+'="'+this.xml_escape(l)+'"'}var f=c.join(""),y=a.join("");return typeof d>"u"||d==null||(a.length>0?y.match(/\n/)?y="<"+d+f+`>
`+y+"</"+d+`>
`:y="<"+d+f+">"+y+"</"+d+`>
`:y="<"+d+f+` />
`),y};xn.ObjTree.prototype.array_to_xml=function(d,p){for(var a=[],c=0;c<p.length;c++){var o=p[c];typeof o>"u"||o==null?a[a.length]="<"+d+" />":typeof o=="object"&&o.constructor==Array?a[a.length]=this.array_to_xml(d,o):typeof o=="object"?a[a.length]=this.hash_to_xml(d,o):a[a.length]=this.scalar_to_xml(d,o)}return a.join("")};xn.ObjTree.prototype.scalar_to_xml=function(d,p){return d=="#text"?this.xml_escape(p):"<"+d+">"+this.xml_escape(p)+"</"+d+`>
`};xn.ObjTree.prototype.xml_escape=function(d){return d.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var R2=function(d){return new xn.ObjTree().parseXML(d)},L2=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),tp=globalThis&&globalThis.__assign||function(){return tp=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},tp.apply(this,arguments)},fs=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},br;(function(d){d.START="bpmn:startEvent",d.END="bpmn:endEvent",d.GATEWAY="bpmn:exclusiveGateway",d.USER="bpmn:userTask",d.SYSTEM="bpmn:serviceTask",d.FLOW="bpmn:sequenceFlow"})(br||(br={}));var Cm=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],Dg=["properties","startPoint","endPoint","pointsList"];function Cg(d){var p=d?Dg.concat(d):Dg;return function(a){function c(o){var l={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(f){return c(f)}):(Object.entries(o).forEach(function(f){var y=fs(f,2),g=y[0],O=y[1];typeof O!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?l[g]=O:l["-"+g]=O:p.includes(g)?l["-"+g]=c(O):l[g]=c(O)}),l)}return c(a)}}function ns(d){var p={};return Object.entries(d).forEach(function(a){var c=fs(a,2),o=c[0],l=c[1];o.indexOf("-")===0?p[o.substring(1)]=ts(l):typeof l=="string"?p[o]=l:Object.prototype.toString.call(l)==="[object Object]"?p[o]=ns(l):Array.isArray(l)?p[o]=l.map(function(f){return ns(f)}):p[o]=l}),p}function B2(d,p,a){var c=new Map;p.nodes.forEach(function(l){var f,y={"-id":l.id};if(!((f=l.text)===null||f===void 0)&&f.value&&(y["-name"]=l.text.value),l.properties){var g=Cg(a)(l.properties);Object.assign(y,g)}c.set(l.id,y),d[l.type]?Array.isArray(d[l.type])?d[l.type].push(y):d[l.type]=[d[l.type],y]:d[l.type]=y});var o=p.edges.map(function(l){var f,y,g=c.get(l.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(l.id):g["bpmn:incoming"]=[g["bpmn:incoming"],l.id]:g["bpmn:incoming"]=l.id;var O={"-id":l.id,"-sourceRef":l.sourceNodeId,"-targetRef":l.targetNodeId};if(!((f=l.text)===null||f===void 0)&&f.value&&(O["-name"]=(y=l.text)===null||y===void 0?void 0:y.value),l.properties){var x=Cg(a)(l.properties);Object.assign(O,x)}return O});p.edges.forEach(function(l){var f=c.get(l.sourceNodeId);f["bpmn:outgoing"]?Array.isArray(f["bpmn:outgoing"])?f["bpmn:outgoing"].push(l.id):f["bpmn:outgoing"]=[f["bpmn:outgoing"],l.id]:f["bpmn:outgoing"]=l.id}),d[br.FLOW]=o}function z2(d,p){d["bpmndi:BPMNEdge"]=p.edges.map(function(a){var c,o=a.id,l=a.pointsList.map(function(y){var g=y.x,O=y.y;return{"-x":g,"-y":O}}),f={"-id":o+"_di","-bpmnElement":o,"di:waypoint":l};return!((c=a.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),f}),d["bpmndi:BPMNShape"]=p.nodes.map(function(a){var c,o=a.id,l=100,f=80,y=a.x,g=a.y,O=oo.shapeConfigMap.get(a.type);O&&(l=O.width,f=O.height),y-=l/2,g-=f/2;var x={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":y,"-y":g,"-width":l,"-height":f}};return!((c=a.text)===null||c===void 0)&&c.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),x})}function F2(d){var p=[],a=[],c=d["bpmn:definitions"];if(c){var o=c["bpmn:process"];Object.keys(o).forEach(function(l){if(l.indexOf("bpmn:")===0){var f=o[l];if(l===br.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];a=H2(f,y)}else{var g=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];p=p.concat(G2(f,g,l))}}})}return{nodes:p,edges:a}}function G2(d,p,a){var c=[];if(Array.isArray(d))d.forEach(function(f){var y;Array.isArray(p)?y=p.find(function(O){return O["-bpmnElement"]===f["-id"]}):y=p;var g=Ig(y,a,f);c.push(g)});else{var o=void 0;Array.isArray(p)?o=p.find(function(f){return f["-bpmnElement"]===d["-id"]}):o=p;var l=Ig(o,a,d);c.push(l)}return c}function Ig(d,p,a){var c=Number(d["dc:Bounds"]["-x"]),o=Number(d["dc:Bounds"]["-y"]),l=a["-name"],f=oo.shapeConfigMap.get(p);f&&(c+=f.width/2,o+=f.height/2);var y;Object.entries(a).forEach(function(w){var j=fs(w,2),P=j[0],T=j[1];Cm.indexOf(P)===-1&&(y||(y={}),y[P]=T)}),y&&(y=ns(y));var g;if(l&&(g={x:c,y:o,value:l},d["bpmndi:BPMNLabel"]&&d["bpmndi:BPMNLabel"]["dc:Bounds"])){var O=d["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(O["-x"])+Number(O["-width"])/2,g.y=Number(O["-y"])+Number(O["-height"])/2}var x={id:d["-bpmnElement"],type:p,x:c,y:o,properties:y};return g&&(x.text=g),x}function H2(d,p){var a=[];if(Array.isArray(d))d.forEach(function(o){var l;Array.isArray(p)?l=p.find(function(f){return f["-bpmnElement"]===o["-id"]}):l=p,a.push(Rg(l,o))});else{var c=void 0;Array.isArray(p)?c=p.find(function(o){return o["-bpmnElement"]===d["-id"]}):c=p,a.push(Rg(c,d))}return a}function Rg(d,p){var a,c=p["-name"];if(c){var o=d["bpmndi:BPMNLabel"]["dc:Bounds"],l=0;c.split(`
`).forEach(function(g){l<g.length&&(l=g.length)}),a={value:c,x:Number(o["-x"])+l*10/2,y:Number(o["-y"])+7}}var f;Object.entries(p).forEach(function(g){var O=fs(g,2),x=O[0],w=O[1];Cm.indexOf(x)===-1&&(f||(f={}),f[x]=w)}),f&&(f=ns(f));var y={id:p["-id"],type:br.FLOW,pointsList:d["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:p["-sourceRef"],targetNodeId:p["-targetRef"],properties:f};return a&&(y.text=a),y}var oo=function(){function d(p){var a=this,c=p.lf;this.adapterOut=function(o,l){var f=tp({},a.processAttributes);B2(f,o,l);var y={"-id":"BPMNPlane_1","-bpmnElement":f["-id"]};z2(y,o);var g=a.definitionAttributes;g["bpmn:process"]=f,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":y};var O={"bpmn:definitions":g};return O},this.adapterIn=function(o){if(o)return F2(o)},c.adapterIn=function(o){return a.adapterIn(o)},c.adapterOut=function(o,l){return a.adapterOut(o,l)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+Ng()},this.definitionAttributes={"-id":"Definitions_"+Ng(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return d.prototype.setCustomShape=function(p,a){d.shapeConfigMap.set(p,a)},d.pluginName="bpmn-adapter",d.shapeConfigMap=new Map,d}();oo.shapeConfigMap.set(br.START,{width:Pg.width,height:Pg.height});oo.shapeConfigMap.set(br.END,{width:Mg.width,height:Mg.height});oo.shapeConfigMap.set(br.GATEWAY,{width:Tg.width,height:Tg.height});oo.shapeConfigMap.set(br.SYSTEM,{width:Ag.width,height:Ag.height});oo.shapeConfigMap.set(br.USER,{width:kg.width,height:kg.height});(function(d){L2(p,d);function p(a){var c=d.call(this,a)||this;c.adapterXmlIn=function(l){var f=R2(l);return c.adapterIn(f)},c.adapterXmlOut=function(l,f){var y=c.adapterOut(l,f);return I2(y)};var o=a.lf;return o.adapterIn=c.adapterXmlIn,o.adapterOut=c.adapterXmlOut,c}return p.pluginName="bpmnXmlAdapter",p})(oo);function vp(){var d={message:"分组外的节点不允许连接分组内的",validate:function(p,a,c,o){var l=!!p.properties.parent,f=!!a.properties.parent;return!(!l&&f)}};this.targetRules.push(d)}var X2=function(){function d(){globalThis._ids=this,this._ids=new Set}return d.prototype.generateId=function(){var p="xxxxxxx".replace(/[x]/g,function(a){var c=Math.random()*16|0,o=a==="x"?c:c&3|8;return o.toString(16)});return p},d.prototype.next=function(){for(var p=this.generateId();this._ids.has(p);)p=this.generateId();return this._ids.add(p),p},d}(),W2=(globalThis==null?void 0:globalThis._ids)||new X2;function Oo(){return W2.next()}var Lg=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Qo=globalThis&&globalThis.__assign||function(){return Qo=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Qo.apply(this,arguments)},Im=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},U2=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(Im(arguments[p]));return d};function bT(d){var p=Im(d.useDefinition(),1),a=p[0],c=function(l){Lg(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},f.prototype.getShape=function(){var y,g=this.props.model,O=g.getNodeStyle(),x=g.x,w=g.y,j=g.r,P=g.width,T=g.height,M=g.properties,k=l.prototype.getShape.call(this),R=M.definitionType,L=(((y=a.endEvent)===null||y===void 0?void 0:y.get(R))||{}).icon,Y=Array.isArray(L)?Ee.h.apply(void 0,U2(["g",{transform:"matrix(1 0 0 1 "+(x-P/2)+" "+(w-T/2)+")"}],L)):Ee.h("path",{transform:"matrix(1 0 0 1 "+(x-P/2)+" "+(w-T/2)+")",d:L,style:"fill: black; stroke-linecap: round; stroke-linejoin: round; stroke: white; stroke-width: 1px;"});return Ee.h("g",{},k,Ee.h("circle",Qo(Qo({},O),{strokeWidth:2,cx:x,cy:w,r:j-2})),Y)},f}(Ee.CircleNode),o=function(l){Lg(f,l);function f(y,g){var O,x,w,j=this;y.id||(y.id="Event_"+Oo()),y.text||(y.text=""),y.text&&typeof y.text=="string"&&(y.text={value:y.text,x:y.x,y:y.y+40});var P=(((O=a.endEvent)===null||O===void 0?void 0:O.get((x=y.properties)===null||x===void 0?void 0:x.definitionType))||{}).properties,T=P===void 0?{}:P;return y.properties=Qo(Qo({},T),y.properties),!((w=y.properties)===null||w===void 0)&&w.definitionType&&(y.properties.definitionId="Definition_"+Oo()),j=l.call(this,y,g)||this,vp.call(j),j}return f.prototype.setAttributes=function(){this.r=18},f.prototype.getConnectedSourceRules=function(){var y=this,g=l.prototype.getConnectedSourceRules.call(this),O={message:"结束节点不能作为边的起点",validate:function(x,w){return x!==y}};return g.push(O),g},f}(Ee.CircleNodeModel);return{type:"bpmn:endEvent",view:c,model:o}}globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();var Bg=globalThis&&globalThis.__assign||function(){return Bg=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Bg.apply(this,arguments)},Y2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var zg=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),ei=globalThis&&globalThis.__assign||function(){return ei=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},ei.apply(this,arguments)},Rm=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},V2=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(Rm(arguments[p]));return d};function _T(d){var p=Rm(d.useDefinition(),1),a=p[0],c=function(l){zg(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},f.prototype.getShape=function(){var y,g=this.props.model,O=g.getNodeStyle(),x=g.x,w=g.y,j=g.r,P=g.width,T=g.height,M=g.properties,k=M.definitionType,R=M.isInterrupting,L=(((y=a.startEvent)===null||y===void 0?void 0:y.get(k))||{}).icon,Y=Array.isArray(L)?Ee.h.apply(void 0,V2(["g",{transform:"matrix(1 0 0 1 "+(x-P/2)+" "+(w-T/2)+")"}],L)):Ee.h("path",{transform:"matrix(1 0 0 1 "+(x-P/2)+" "+(w-T/2)+")",d:L,style:"fill: white; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});return Ee.h("g",{},Ee.h("circle",ei(ei({},O),{cx:x,cy:w,r:j,strokeDasharray:R?"5,5":"",strokeWidth:2})),Y)},f}(Ee.CircleNode),o=function(l){zg(f,l);function f(y,g){var O,x,w,j=this;y.id||(y.id="Event_"+Oo()),y.text||(y.text=""),y.text&&typeof y.text=="string"&&(y.text={value:y.text,x:y.x,y:y.y+40});var P=(((O=a.startEvent)===null||O===void 0?void 0:O.get((x=y.properties)===null||x===void 0?void 0:x.definitionType))||{}).properties,T=P===void 0?{}:P;return y.properties=ei(ei({},T),y.properties),!((w=y.properties)===null||w===void 0)&&w.definitionType&&(y.properties.definitionId="Definition_"+Oo()),j=l.call(this,y,g)||this,j}return f.prototype.setAttributes=function(){this.r=18},f.prototype.getConnectedTargetRules=function(){var y=this,g=l.prototype.getConnectedTargetRules.call(this),O={message:"起始节点不能作为边的终点",validate:function(x,w){return w!==y}};return g.push(O),g},f}(Ee.CircleNodeModel);return{type:"bpmn:startEvent",view:c,model:o}}globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();var Fg=globalThis&&globalThis.__assign||function(){return Fg=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Fg.apply(this,arguments)},$2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();var Gg=globalThis&&globalThis.__assign||function(){return Gg=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Gg.apply(this,arguments)},K2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;Ee.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Ee.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Ee.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});var OT="m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z",wT="m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z";Ee.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var xT="M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z",ET="M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z",ST="M0.5,3.751L4.583,0.5009999999999999C4.583,0.5009999999999999,15.749,0.5839999999999999,16.666,0.5839999999999999S14.249,3.5009999999999994,15.166,3.5009999999999994S26.833,3.5009999999999994,27.75,3.5009999999999994C28.916,5.209,27.582,6.667999999999999,26.916,7.167999999999999S27.791,9.084999999999999,25.916,11.584999999999999C25.166,11.834999999999999,26.666,13.459999999999999,24.583000000000002,14.918C23.416,15.501,25.166,16.46,23.333000000000002,17.750999999999998C22.166,17.750999999999998,2.5000000000000036,17.833999999999996,2.5000000000000036,17.833999999999996L0.5000000000000036,16.500999999999998V3.751ZM13.5,7L27,7M13.5,11L26,11M14,14.5L25,14.5M8.2,3.1L15,3.1",q2="m44,60 m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",Z2="m47,61 m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",J2="m 50,73 c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",Hg=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),no=globalThis&&globalThis.__assign||function(){return no=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},no.apply(this,arguments)};function jT(d,p,a){var c=function(l){Hg(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.prototype.getShape=function(){var y=this.props.model,g=y.x,O=y.y,x=y.width,w=y.height,j=y.points,P=y.getNodeStyle();return Ee.h("g",{transform:"matrix(1 0 0 1 "+(g-x/2)+" "+(O-w/2)+")"},Ee.h("polygon",no(no({},P),{x:g,y:O,points:j})),typeof p=="string"?Ee.h("path",no(no({d:p},P),{fill:"rgb(34, 36, 42)",strokeWidth:1})):p)},f}(Ee.PolygonNode),o=function(l){Hg(f,l);function f(y,g){var O=this;return y.id||(y.id="Gateway_"+Oo()),y.text||(y.text=""),y.text&&typeof y.text=="string"&&(y.text={value:y.text,x:y.x,y:y.y+40}),y.properties=no(no({},a||{}),y.properties),O=l.call(this,y,g)||this,O.points=[[25,0],[50,25],[25,50],[0,25]],vp.call(O),O}return f}(Ee.PolygonNodeModel);return{type:d,view:c,model:o}}var Xg=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),ti=globalThis&&globalThis.__assign||function(){return ti=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},ti.apply(this,arguments)},Q2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},eM=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(Q2(arguments[p]));return d},tM={parallel:q2,sequential:Z2,loop:J2};function PT(d,p,a){var c=function(l){Xg(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.prototype.getLabelShape=function(){var y=this.props.model,g=y.x,O=y.y,x=y.width,w=y.height,j=y.getNodeStyle(),P=Array.isArray(p)?Ee.h.apply(void 0,eM(["g",{transform:"matrix(1 0 0 1 "+(g-x/2)+" "+(O-w/2)+")"}],p)):Ee.h("path",{fill:j.stroke,d:p});return Ee.h("svg",{x:g-x/2+5,y:O-w/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},P)},f.prototype.getShape=function(){var y=this.props.model,g=y.x,O=y.y,x=y.width,w=y.height,j=y.radius,P=y.properties,T=y.getNodeStyle();return Ee.h("g",{},[Ee.h("rect",ti(ti({},T),{x:g-x/2,y:O-w/2,rx:j,ry:j,width:x,height:w,opacity:.95})),this.getLabelShape(),Ee.h("g",{transform:"matrix(1 0 0 1 "+(g-x/2)+" "+(O-w/2)+")"},Ee.h("path",{fill:"white",strokeLinecap:"round",strokeLinejoin:"round",stroke:"rgb(34, 36, 42)",strokeWidth:"2",d:tM[P.multiInstanceType]||""}))])},f}(Ee.RectNode),o=function(l){Xg(f,l);function f(y,g){var O,x=this;y.id||(y.id="Activity_"+Oo());var w=ti(ti({},a||{}),y.properties);return y.properties=w,x=l.call(this,y,g)||this,(O=w==null?void 0:w.boundaryEvents)===null||O===void 0||O.forEach(function(j){x.addBoundaryEvent(j)}),x.deleteProperty("boundaryEvents"),vp.call(x),x}return f.prototype.initNodeData=function(y){l.prototype.initNodeData.call(this,y),this.isTaskNode=!0,this.boundaryEvents=[]},f.prototype.getNodeStyle=function(){var y=l.prototype.getNodeStyle.call(this),g=this.properties.isBoundaryEventTouchingTask;return g&&(y.stroke="#00acff",y.strokeWidth=2),y},f.prototype.getOutlineStyle=function(){var y=l.prototype.getOutlineStyle.call(this);return y.stroke="transparent",!y.hover&&(y.hover={}),y.hover.stroke="transparent",y},f.prototype.setTouching=function(y){this.setProperty("isBoundaryEventTouchingTask",y)},f.prototype.addBoundaryEvent=function(y){if(this.setTouching(!1),this.boundaryEvents.find(function(O){return O===y}))return!1;var g=this.graphModel.getNodeModelById(y);return g==null||g.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(y),!0},f.prototype.deleteBoundaryEvent=function(y){this.boundaryEvents=this.boundaryEvents.filter(function(g){return g!==y})},f}(Ee.RectNodeModel);return{type:d,view:c,model:o}}var gp,en,Lm,bo,Wg,Bm,np,qu={},zm=[],nM=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,mp=Array.isArray;function ro(d,p){for(var a in p)d[a]=p[a];return d}function Fm(d){var p=d.parentNode;p&&p.removeChild(d)}function ta(d,p,a){var c,o,l,f={};for(l in p)l=="key"?c=p[l]:l=="ref"?o=p[l]:f[l]=p[l];if(arguments.length>2&&(f.children=arguments.length>3?gp.call(arguments,2):a),typeof d=="function"&&d.defaultProps!=null)for(l in d.defaultProps)f[l]===void 0&&(f[l]=d.defaultProps[l]);return Zu(d,f,c,o,null)}function Zu(d,p,a,c,o){var l={type:d,props:p,key:a,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++Lm};return o==null&&en.vnode!=null&&en.vnode(l),l}function bp(d){return d.children}function oi(d,p){this.props=d,this.context=p}function aa(d,p){if(p==null)return d.__?aa(d.__,d.__.__k.indexOf(d)+1):null;for(var a;p<d.__k.length;p++)if((a=d.__k[p])!=null&&a.__e!=null)return a.__e;return typeof d.type=="function"?aa(d):null}function Gm(d){var p,a;if((d=d.__)!=null&&d.__c!=null){for(d.__e=d.__c.base=null,p=0;p<d.__k.length;p++)if((a=d.__k[p])!=null&&a.__e!=null){d.__e=d.__c.base=a.__e;break}return Gm(d)}}function Ug(d){(!d.__d&&(d.__d=!0)&&bo.push(d)&&!rs.__r++||Wg!==en.debounceRendering)&&((Wg=en.debounceRendering)||Bm)(rs)}function rs(){var d,p,a,c,o,l,f,y,g;for(bo.sort(np);d=bo.shift();)d.__d&&(p=bo.length,c=void 0,o=void 0,l=void 0,y=(f=(a=d).__v).__e,(g=a.__P)&&(c=[],o=[],(l=ro({},f)).__v=f.__v+1,Um(g,f,l,a.__n,g.ownerSVGElement!==void 0,f.__h!=null?[y]:null,c,y??aa(f),f.__h,o),iM(c,f,o),f.__e!=y&&Gm(f)),bo.length>p&&bo.sort(np));rs.__r=0}function Hm(d,p,a,c,o,l,f,y,g,O,x){var w,j,P,T,M,k,R,L,Y,Q=0,V=c&&c.__k||zm,q=V.length,Z=q,F=p.length;for(a.__k=[],w=0;w<F;w++)(T=a.__k[w]=(T=p[w])==null||typeof T=="boolean"||typeof T=="function"?null:typeof T=="string"||typeof T=="number"||typeof T=="bigint"?Zu(null,T,null,null,T):mp(T)?Zu(bp,{children:T},null,null,null):T.__b>0?Zu(T.type,T.props,T.key,T.ref?T.ref:null,T.__v):T)!=null?(T.__=a,T.__b=a.__b+1,(L=rM(T,V,R=w+Q,Z))===-1?P=qu:(P=V[L]||qu,V[L]=void 0,Z--),Um(d,T,P,o,l,f,y,g,O,x),M=T.__e,(j=T.ref)&&P.ref!=j&&(P.ref&&_p(P.ref,null,T),x.push(j,T.__c||M,T)),M!=null&&(k==null&&(k=M),(Y=P===qu||P.__v===null)?L==-1&&Q--:L!==R&&(L===R+1?Q++:L>R?Z>F-R?Q+=L-R:Q--:Q=L<R&&L==R-1?L-R:0),R=w+Q,typeof T.type!="function"||L===R&&P.__k!==T.__k?typeof T.type=="function"||L===R&&!Y?T.__d!==void 0?(g=T.__d,T.__d=void 0):g=M.nextSibling:g=Wm(d,M,g):g=Xm(T,g,d),typeof a.type=="function"&&(a.__d=g))):(P=V[w])&&P.key==null&&P.__e&&(P.__e==g&&(g=aa(P)),rp(P,P,!1),V[w]=null);for(a.__e=k,w=q;w--;)V[w]!=null&&(typeof a.type=="function"&&V[w].__e!=null&&V[w].__e==a.__d&&(a.__d=V[w].__e.nextSibling),rp(V[w],V[w]))}function Xm(d,p,a){for(var c,o=d.__k,l=0;o&&l<o.length;l++)(c=o[l])&&(c.__=d,p=typeof c.type=="function"?Xm(c,p,a):Wm(a,c.__e,p));return p}function Wm(d,p,a){return a==null||a.parentNode!==d?d.insertBefore(p,null):p==a&&p.parentNode!=null||d.insertBefore(p,a),p.nextSibling}function rM(d,p,a,c){var o=d.key,l=d.type,f=a-1,y=a+1,g=p[a];if(g===null||g&&o==g.key&&l===g.type)return a;if(c>(g!=null?1:0))for(;f>=0||y<p.length;){if(f>=0){if((g=p[f])&&o==g.key&&l===g.type)return f;f--}if(y<p.length){if((g=p[y])&&o==g.key&&l===g.type)return y;y++}}return-1}function oM(d,p,a,c,o){var l;for(l in a)l==="children"||l==="key"||l in p||os(d,l,null,a[l],c);for(l in p)o&&typeof p[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||a[l]===p[l]||os(d,l,p[l],a[l],c)}function Yg(d,p,a){p[0]==="-"?d.setProperty(p,a??""):d[p]=a==null?"":typeof a!="number"||nM.test(p)?a:a+"px"}function os(d,p,a,c,o){var l;e:if(p==="style")if(typeof a=="string")d.style.cssText=a;else{if(typeof c=="string"&&(d.style.cssText=c=""),c)for(p in c)a&&p in a||Yg(d.style,p,"");if(a)for(p in a)c&&a[p]===c[p]||Yg(d.style,p,a[p])}else if(p[0]==="o"&&p[1]==="n")l=p!==(p=p.replace(/(PointerCapture)$|Capture$/,"$1")),p=p.toLowerCase()in d?p.toLowerCase().slice(2):p.slice(2),d.l||(d.l={}),d.l[p+l]=a,a?c||d.addEventListener(p,l?$g:Vg,l):d.removeEventListener(p,l?$g:Vg,l);else if(p!=="dangerouslySetInnerHTML"){if(o)p=p.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(p!=="width"&&p!=="height"&&p!=="href"&&p!=="list"&&p!=="form"&&p!=="tabIndex"&&p!=="download"&&p!=="rowSpan"&&p!=="colSpan"&&p in d)try{d[p]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&p[4]!=="-"?d.removeAttribute(p):d.setAttribute(p,a))}}function Vg(d){return this.l[d.type+!1](en.event?en.event(d):d)}function $g(d){return this.l[d.type+!0](en.event?en.event(d):d)}function Um(d,p,a,c,o,l,f,y,g,O){var x,w,j,P,T,M,k,R,L,Y,Q,V,q,Z,F,I=p.type;if(p.constructor!==void 0)return null;a.__h!=null&&(g=a.__h,y=p.__e=a.__e,p.__h=null,l=[y]),(x=en.__b)&&x(p);e:if(typeof I=="function")try{if(R=p.props,L=(x=I.contextType)&&c[x.__c],Y=x?L?L.props.value:x.__:c,a.__c?k=(w=p.__c=a.__c).__=w.__E:("prototype"in I&&I.prototype.render?p.__c=w=new I(R,Y):(p.__c=w=new oi(R,Y),w.constructor=I,w.render=uM),L&&L.sub(w),w.props=R,w.state||(w.state={}),w.context=Y,w.__n=c,j=w.__d=!0,w.__h=[],w._sb=[]),w.__s==null&&(w.__s=w.state),I.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=ro({},w.__s)),ro(w.__s,I.getDerivedStateFromProps(R,w.__s))),P=w.props,T=w.state,w.__v=p,j)I.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(I.getDerivedStateFromProps==null&&R!==P&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(R,Y),!w.__e&&(w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(R,w.__s,Y)===!1||p.__v===a.__v)){for(p.__v!==a.__v&&(w.props=R,w.state=w.__s,w.__d=!1),p.__e=a.__e,p.__k=a.__k,p.__k.forEach(function(z){z&&(z.__=p)}),Q=0;Q<w._sb.length;Q++)w.__h.push(w._sb[Q]);w._sb=[],w.__h.length&&f.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(R,w.__s,Y),w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(P,T,M)})}if(w.context=Y,w.props=R,w.__P=d,w.__e=!1,V=en.__r,q=0,"prototype"in I&&I.prototype.render){for(w.state=w.__s,w.__d=!1,V&&V(p),x=w.render(w.props,w.state,w.context),Z=0;Z<w._sb.length;Z++)w.__h.push(w._sb[Z]);w._sb=[]}else do w.__d=!1,V&&V(p),x=w.render(w.props,w.state,w.context),w.state=w.__s;while(w.__d&&++q<25);w.state=w.__s,w.getChildContext!=null&&(c=ro(ro({},c),w.getChildContext())),j||w.getSnapshotBeforeUpdate==null||(M=w.getSnapshotBeforeUpdate(P,T)),Hm(d,mp(F=x!=null&&x.type===bp&&x.key==null?x.props.children:x)?F:[F],p,a,c,o,l,f,y,g,O),w.base=p.__e,p.__h=null,w.__h.length&&f.push(w),k&&(w.__E=w.__=null)}catch(z){p.__v=null,(g||l!=null)&&(p.__e=y,p.__h=!!g,l[l.indexOf(y)]=null),en.__e(z,p,a)}else l==null&&p.__v===a.__v?(p.__k=a.__k,p.__e=a.__e):p.__e=aM(a.__e,p,a,c,o,l,f,g,O);(x=en.diffed)&&x(p)}function iM(d,p,a){for(var c=0;c<a.length;c++)_p(a[c],a[++c],a[++c]);en.__c&&en.__c(p,d),d.some(function(o){try{d=o.__h,o.__h=[],d.some(function(l){l.call(o)})}catch(l){en.__e(l,o.__v)}})}function aM(d,p,a,c,o,l,f,y,g){var O,x,w,j=a.props,P=p.props,T=p.type,M=0;if(T==="svg"&&(o=!0),l!=null){for(;M<l.length;M++)if((O=l[M])&&"setAttribute"in O==!!T&&(T?O.localName===T:O.nodeType===3)){d=O,l[M]=null;break}}if(d==null){if(T===null)return document.createTextNode(P);d=o?document.createElementNS("http://www.w3.org/2000/svg",T):document.createElement(T,P.is&&P),l=null,y=!1}if(T===null)j===P||y&&d.data===P||(d.data=P);else{if(l=l&&gp.call(d.childNodes),x=(j=a.props||qu).dangerouslySetInnerHTML,w=P.dangerouslySetInnerHTML,!y){if(l!=null)for(j={},M=0;M<d.attributes.length;M++)j[d.attributes[M].name]=d.attributes[M].value;(w||x)&&(w&&(x&&w.__html==x.__html||w.__html===d.innerHTML)||(d.innerHTML=w&&w.__html||""))}if(oM(d,P,j,o,y),w)p.__k=[];else if(Hm(d,mp(M=p.props.children)?M:[M],p,a,c,o&&T!=="foreignObject",l,f,l?l[0]:a.__k&&aa(a,0),y,g),l!=null)for(M=l.length;M--;)l[M]!=null&&Fm(l[M]);y||("value"in P&&(M=P.value)!==void 0&&(M!==d.value||T==="progress"&&!M||T==="option"&&M!==j.value)&&os(d,"value",M,j.value,!1),"checked"in P&&(M=P.checked)!==void 0&&M!==d.checked&&os(d,"checked",M,j.checked,!1))}return d}function _p(d,p,a){try{typeof d=="function"?d(p):d.current=p}catch(c){en.__e(c,a)}}function rp(d,p,a){var c,o;if(en.unmount&&en.unmount(d),(c=d.ref)&&(c.current&&c.current!==d.__e||_p(c,null,p)),(c=d.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(l){en.__e(l,p)}c.base=c.__P=null,d.__c=void 0}if(c=d.__k)for(o=0;o<c.length;o++)c[o]&&rp(c[o],p,a||typeof d.type!="function");a||d.__e==null||Fm(d.__e),d.__=d.__e=d.__d=void 0}function uM(d,p,a){return this.constructor(d,a)}gp=zm.slice,en={__e:function(d,p,a,c){for(var o,l,f;p=p.__;)if((o=p.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(d)),f=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(d,c||{}),f=o.__d),f)return o.__E=o}catch(y){d=y}throw d}},Lm=0,oi.prototype.setState=function(d,p){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ro({},this.state),typeof d=="function"&&(d=d(ro({},a),this.props)),d&&ro(a,d),d!=null&&this.__v&&(p&&this._sb.push(p),Ug(this))},oi.prototype.forceUpdate=function(d){this.__v&&(this.__e=!0,d&&this.__h.push(d),Ug(this))},oi.prototype.render=bp,bo=[],Bm=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,np=function(d,p){return d.__v.__b-p.__v.__b},rs.__r=0;var na=globalThis&&globalThis.__assign||function(){return na=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},na.apply(this,arguments)};function Op(d){var p=d.x,a=d.y,c=d.width,o=d.height,l=d.radius,f=d.className,y=p-c/2,g=a-o/2,O=na(na({width:10,height:10,cx:0,cy:0,rx:l||0,ry:l||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},d),{x:y,y:g});return Ee.h("rect",na({},O))}Op.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ni;(function(d){d.NODE="node",d.CIRCLE_NODE="circle-node",d.POLYGON_NODE="polygon-node",d.RECT_NODE="rect-node",d.HTML_NODE="html-node",d.TEXT_NODE="text-node",d.ELLIPSE_NODE="ellipse-node",d.DIAMOND_NODE="diamond-node",d.EDGE="edge",d.LINE_EDGE="line-edge",d.POLYLINE_EDGE="polyline-edge",d.BEZIER_EDGE="bezier-edge",d.GRAPH="graph"})(ni||(ni={}));var sM=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),_o=globalThis&&globalThis.__assign||function(){return _o=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},_o.apply(this,arguments)},cM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},lM=Ee.LogicFlowUtil.StepDrag,fM=function(d){sM(p,d);function p(a){var c=d.call(this)||this;return c.updatePosition=function(o){var l=o.deltaX,f=o.deltaY,y=c.nodeModel,g=y.x,O=y.y;c.nodeModel.x=g+l/2,c.nodeModel.y=O+f/2,c.nodeModel.moveText(l/2,f/2)},c.getResize=function(o){var l=o.index,f=o.deltaX,y=o.deltaY,g=o.width,O=o.height,x=o.PCTResizeInfo,w=o.pct,j=w===void 0?1:w,P={width:g,height:O,deltaX:f,deltaY:y};if(x){var T=4,M=0,k=0;switch(l){case 0:k=(f*-1-y)/T;break;case 1:k=(f-y)/T;break;case 2:k=(f+y)/T;break;case 3:k=(f*-1+y)/T;break}k!==0&&(M=Math.round(k/x.ResizeBasis.basisHeight*1e5)/1e3),x.ResizePCT.widthPCT=Math.max(Math.min(x.ResizePCT.widthPCT+M,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit),x.ResizePCT.hightPCT=Math.max(Math.min(x.ResizePCT.hightPCT+M,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit);var R=Math.round(x.ResizePCT.widthPCT*x.ResizeBasis.basisWidth/100),L=Math.round(x.ResizePCT.hightPCT*x.ResizeBasis.basisHeight/100);switch(l){case 0:f=g-R,y=O-L;break;case 1:f=R-g,y=O-L;break;case 2:f=R-g,y=L-O;break;case 3:f=g-R,y=L-O;break}return P.width=R,P.height=L,P.deltaX=f/j,P.deltaY=y/j,P}switch(l){case 0:P.width=g-f*j,P.height=O-y*j;break;case 1:P.width=g+f*j,P.height=O-y*j;break;case 2:P.width=g+f*j,P.height=O+y*j;break;case 3:P.width=g-f*j,P.height=O+y*j;break}return P},c.updateEdgePointByAnchors=function(){var o=c.nodeModel,l=o.id,f=o.anchors,y=c.getNodeEdges(l);y.sourceEdges.forEach(function(g){var O=f.find(function(x){return x.id===g.sourceAnchorId});g.updateStartPoint({x:O.x,y:O.y})}),y.targetEdges.forEach(function(g){var O=f.find(function(x){return x.id===g.targetAnchorId});g.updateEndPoint({x:O.x,y:O.y})})},c.updateRect=function(o){var l=o.deltaX,f=o.deltaY,y=c.nodeModel,g=y.id,O=y.x,x=y.y,w=y.width,j=y.height,P=y.radius,T=y.PCTResizeInfo,M=c.index,k=c.getResize({index:M,deltaX:l,deltaY:f,width:w,height:j,PCTResizeInfo:T,pct:1}),R=c.nodeModel,L=R.minWidth,Y=R.minHeight,Q=R.maxWidth,V=R.maxHeight;if(k.width<L||k.width>Q||k.height<Y||k.height>V){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:k.deltaX,deltaY:k.deltaY}),c.nodeModel.width=k.width,c.nodeModel.height=k.height,c.nodeModel.setProperties({nodeSize:{width:k.width,height:k.height}}),c.getNodeEdges(g);var q={x:O,y:x,width:w,height:j,radius:P},Z={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:P};c.updateEdgePointByAnchors(),c.eventEmit({beforeNode:q,afterNode:Z})},c.updateEllipse=function(o){var l=o.deltaX,f=o.deltaY,y=c.nodeModel,g=y.id,O=y.rx,x=y.ry,w=y.x,j=y.y,P=y.PCTResizeInfo,T=c.index,M=O,k=x,R=c.getResize({index:T,deltaX:l,deltaY:f,width:M,height:k,PCTResizeInfo:P,pct:1/2}),L=c.nodeModel,Y=L.minWidth,Q=L.minHeight,V=L.maxWidth,q=L.maxHeight;if(R.width<Y/2||R.width>V/2||R.height<Q/2||R.height>q/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),c.nodeModel.rx=R.width,c.nodeModel.ry=R.height,c.nodeModel.setProperties({nodeSize:{rx:R.width,ry:R.height}}),c.getNodeEdges(g);var Z={x:w,y:j},F={rx:R.width,ry:R.height,x:c.nodeModel.x,y:c.nodeModel.y};c.updateEdgePointByAnchors(),c.eventEmit({beforeNode:_o(_o({},Z),{rx:O,ry:x}),afterNode:F})},c.updateDiamond=function(o){var l=o.deltaX,f=o.deltaY,y=c.nodeModel;y.id;var g=y.rx,O=y.ry,x=y.x,w=y.y,j=y.PCTResizeInfo,P=c.index,T=g,M=O,k=c.getResize({index:P,deltaX:l,deltaY:f,width:T,height:M,PCTResizeInfo:j,pct:1/2}),R=c.nodeModel,L=R.minWidth,Y=R.minHeight,Q=R.maxWidth,V=R.maxHeight;if(k.width<L/2||k.width>Q/2||k.height<Y/2||k.height>V/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:k.deltaX,deltaY:k.deltaY}),c.nodeModel.rx=k.width,c.nodeModel.ry=k.height,c.nodeModel.setProperties({nodeSize:{rx:k.width,ry:k.height}});var q={x,y:w,rx:g,ry:O},Z={rx:k.width,ry:k.height,x:c.nodeModel.x,y:c.nodeModel.y};c.updateEdgePointByAnchors(),c.eventEmit({beforeNode:q,afterNode:Z})},c.eventEmit=function(o){var l=o.beforeNode,f=o.afterNode,y=c.nodeModel,g=y.id,O=y.modelType,x=y.type,w=_o({id:g,modelType:O,type:x},l),j=_o({id:g,modelType:O,type:x},f);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:w,newNodeSize:j})},c.onDragging=function(o){var l,f=o.deltaX,y=o.deltaY,g=c.graphModel.transformModel,O=c.nodeModel.modelType;l=cM(g.fixDeltaXY(f,y),2),f=l[0],y=l[1],O===ni.RECT_NODE||O===ni.HTML_NODE?c.updateRect({deltaX:f,deltaY:y}):O===ni.ELLIPSE_NODE?c.updateEllipse({deltaX:f,deltaY:y}):O===ni.DIAMOND_NODE&&c.updateDiamond({deltaX:f,deltaY:y})},c.onDragEnd=function(){c.updateEdgePointByAnchors();var o=c.graphModel.gridSize,l=o===void 0?1:o,f=l*Math.round(c.nodeModel.x/l),y=l*Math.round(c.nodeModel.y/l);c.nodeModel.moveTo(f,y)},c.index=a.index,c.nodeModel=a.model,c.graphModel=a.graphModel,c.state={},c.dragHandler=new lM({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:1}),c}return p.prototype.getNodeEdges=function(a){for(var c=this.graphModel,o=c.edges,l=[],f=[],y=0;y<o.length;y++){var g=o[y];g.sourceNodeId===a?l.push(g):o[y].targetNodeId===a&&f.push(g)}return{sourceEdges:l,targetEdges:f}},p.prototype.render=function(){var a=this.props,c=a.x,o=a.y,l=a.index,f=a.model,y=f.getControlPointStyle();return ta("g",{className:"lf-resize-control-"+l},ta(Op,_o({className:"lf-node-control"},{x:c,y:o},y,{onMouseDown:this.dragHandler.handleMouseDown})))},p}(oi),pM=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),is=globalThis&&globalThis.__assign||function(){return is=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},is.apply(this,arguments)},ps=function(d){pM(p,d);function p(){var a=d.call(this)||this;return a.state={},a}return p.prototype.getResizeControl=function(){var a=this.props,c=a.model,o=a.graphModel,l=c.x,f=c.y,y=c.width,g=c.height,O={minX:l-y/2,minY:f-g/2,maxX:l+y/2,maxY:f+g/2},x=O.minX,w=O.minY,j=O.maxX,P=O.maxY,T=[{x,y:w},{x:j,y:w},{x:j,y:P},{x,y:P}];return T.map(function(M,k){return ta(fM,is({index:k},M,{model:c,graphModel:o}))})},p.prototype.getGroupSolid=function(){var a=this.props.model,c=a.x,o=a.y,l=a.width,f=a.height,y=a.getResizeOutlineStyle();return ta(Op,is({fill:"none"},y,{x:c,y:o,width:l,height:f}))},p.prototype.render=function(){return ta("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},p}(oi),Ym=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),dM=function(d){Ym(p,d);function p(a,c){var o=d.call(this,a,c)||this,l=o.properties.nodeSize;return l&&(o.width=l.width,o.height=l.height),o}return p.prototype.initNodeData=function(a){d.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},p.prototype.getOutlineStyle=function(){var a=d.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},p.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},p.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},p.prototype.resize=function(a,c){console.log(a,c)},p.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},l={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:l}}else delete this.PCTResizeInfo},p}(Ee.RectNodeModel),hM=function(d){Ym(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props,c=a.model,o=a.graphModel;return Ee.h(ps,{model:c,graphModel:o})},p.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},p.prototype.getShape=function(){var a=this.props,c=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return Ee.h("g",null,this.getResizeShape(),c&&!o?this.getControlGroup():"")},p}(Ee.RectNode),Vm={type:"rect",view:hM,model:dM},$m=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();(function(d){$m(p,d);function p(a,c){var o=d.call(this,a,c)||this,l=o.properties.nodeSize;return l&&(o.rx=l.rx,o.ry=l.ry),o}return p.prototype.initNodeData=function(a){d.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},p.prototype.getOutlineStyle=function(){var a=d.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},p.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},p.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},p.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},l={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:l}}else delete this.PCTResizeInfo},p})(Ee.EllipseNodeModel);(function(d){$m(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props,c=a.model,o=a.graphModel;return Ee.h(ps,{model:c,graphModel:o})},p.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},p.prototype.getShape=function(){var a=this.props,c=a.model,o=a.graphModel.editConfigModel.isSilentMode;return Ee.h("g",null,this.getResizeShape(),c.isSelected&&!o?this.getControlGroup():"")},p})(Ee.EllipseNode);var op=globalThis&&globalThis.__assign||function(){return op=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},op.apply(this,arguments)};function yM(d){var p=d.fillOpacity,a=p===void 0?1:p,c=d.strokeWidth,o=c===void 0?1:c,l=d.strokeOpacity,f=l===void 0?1:l,y=d.fill,g=y===void 0?"transparent":y,O=d.stroke,x=O===void 0?"#000":O,w=d.points,j=d.className,P=j===void 0?"lf-basic-shape":j,T={fill:g,fillOpacity:a,strokeWidth:o,stroke:x,strokeOpacity:f,points:"",className:P};return T.points=w.map(function(M){return M.join(",")}).join(" "),Ee.h("polygon",op({},T))}var Km=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),ip=globalThis&&globalThis.__assign||function(){return ip=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},ip.apply(this,arguments)};(function(d){Km(p,d);function p(a,c){var o=d.call(this,a,c)||this,l=o.properties.nodeSize;return l&&(o.rx=l.rx,o.ry=l.ry),o}return p.prototype.initNodeData=function(a){d.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},p.prototype.getOutlineStyle=function(){var a=d.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},p.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},p.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},p.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},l={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:l}}else delete this.PCTResizeInfo},p})(Ee.DiamondNodeModel);(function(d){Km(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props,c=a.model,o=a.graphModel;return Ee.h(ps,{model:c,graphModel:o})},p.prototype.getResizeShape=function(){var a=this.props.model,c=a.points,o=a.getNodeStyle();return Ee.h("g",null,Ee.h(yM,ip({},o,{points:c})))},p.prototype.getShape=function(){var a=this.props,c=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return Ee.h("g",null,this.getResizeShape(),c&&!o?this.getControlGroup():"")},p})(Ee.DiamondNode);var qm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();(function(d){qm(p,d);function p(a,c){var o=d.call(this,a,c)||this,l=o.properties.nodeSize;return l&&(o.width=l.width,o.height=l.height),o}return p.prototype.initNodeData=function(a){d.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},p.prototype.getOutlineStyle=function(){var a=d.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},p.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},p.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},p.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},l={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:l}}else delete this.PCTResizeInfo},p})(Ee.HtmlNodeModel);(function(d){qm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props,c=a.model,o=a.graphModel;return Ee.h(ps,{model:c,graphModel:o})},p.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},p.prototype.getShape=function(){var a=this.props,c=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return Ee.h("g",null,this.getResizeShape(),c&&!o?this.getControlGroup():"")},p})(Ee.HtmlNode);var Zm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),as=globalThis&&globalThis.__assign||function(){return as=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},as.apply(this,arguments)},vM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},gM=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(vM(arguments[p]));return d},Kg=500,qg=300,mM=-1e4,bM=function(d){Zm(p,d);function p(){var a=d!==null&&d.apply(this,arguments)||this;return a.isGroup=!0,a.unfoldedWidth=Kg,a.unfoldedHight=qg,a.childrenLastFoldStatus={},a}return p.prototype.initNodeData=function(a){var c=this;d.prototype.initNodeData.call(this,a);var o=[];Array.isArray(a.children)&&(o=a.children),this.children=new Set(o),this.width=Kg,this.height=qg,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=mM,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},p.prototype.getResizeOutlineStyle=function(){var a=d.prototype.getResizeOutlineStyle.call(this);return a.stroke="none",a},p.prototype.foldGroup=function(a){var c=this;if(a!==this.isFolded){this.setProperty("isFolded",a),this.isFolded=a,a?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(l){var f=c.graphModel.getElement(l),y=f.isFolded;if(f.isGroup&&!f.isFolded&&f.foldGroup(a),f.isGroup&&!a){var g=c.childrenLastFoldStatus[l];g!==void 0&&g!==f.isFolded&&f.foldGroup(g)}c.childrenLastFoldStatus[l]=y,f.visible=!a,o=o.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(a,o)}},p.prototype.getAnchorStyle=function(a){var c=d.prototype.getAnchorStyle.call(this,a);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},p.prototype.foldEdge=function(a,c){var o=this;c.forEach(function(l,f){var y=l.id,g=l.sourceNodeId,O=l.targetNodeId,x=l.startPoint,w=l.endPoint,j=l.type,P=l.text,T=l.getProperties(),M={id:y+"__"+f,sourceNodeId:g,targetNodeId:O,startPoint:x,endPoint:w,type:j,properties:T,text:P==null?void 0:P.value};l.virtual&&o.graphModel.deleteEdgeById(l.id);var k=o.graphModel.group.getNodeGroup(O);k||(k=o.graphModel.getNodeModelById(O));var R=o.graphModel.group.getNodeGroup(g);R||(R=o.graphModel.getNodeModelById(g)),a&&l.visible!==!1&&(o.children.has(g)||o.id===g?(M.startPoint=void 0,M.sourceNodeId=o.id):(M.endPoint=void 0,M.targetNodeId=o.id),(k.id!==o.id||R.id!==o.id)&&o.createVirtualEdge(M),l.visible=!1),!a&&l.visible===!1&&(k&&k.isGroup&&k.isFolded?(M.targetNodeId=k.id,M.endPoint=void 0,o.createVirtualEdge(M)):R&&R.isGroup&&R.isFolded?(M.sourceNodeId=R.id,M.startPoint=void 0,o.createVirtualEdge(M)):l.visible=!0)})},p.prototype.createVirtualEdge=function(a){a.pointsList=void 0;var c=this.graphModel.addEdge(a);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},p.prototype.isInRange=function(a){var c=a.x1,o=a.y1,l=a.x2,f=a.y2;return c>=this.x-this.width/2&&l<=this.x+this.width/2&&o>=this.y-this.height/2&&f<=this.y+this.height/2},p.prototype.isAllowMoveTo=function(a){var c=a.x1,o=a.y1,l=a.x2,f=a.y2;return{x:c>=this.x-this.width/2&&l<=this.x+this.width/2,y:o>=this.y-this.height/2&&f<=this.y+this.height/2}},p.prototype.setAllowAppendChild=function(a){this.setProperty("groupAddable",a)},p.prototype.addChild=function(a){this.children.add(a)},p.prototype.removeChild=function(a){this.children.delete(a)},p.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},p.prototype.getData=function(){var a=this,c=d.prototype.getData.call(this);c.children=[],this.children.forEach(function(l){var f=a.graphModel.getNodeModelById(l);f&&!f.virtual&&c.children.push(l)});var o=c.properties;return delete o.groupAddable,delete o.isFolded,c},p.prototype.getHistoryData=function(){var a=d.prototype.getData.call(this);a.children=gM(this.children),a.isGroup=!0;var c=a.properties;return delete c.groupAddable,c.isFolded&&(a.x=a.x+this.unfoldedWidth/2-this.foldedWidth/2,a.y=a.y+this.unfoldedHight/2-this.foldedHeight/2),a},p.prototype.isAllowAppendIn=function(a){return!0},p.prototype.toBack=function(){this.zIndex--},p}(Vm.model),_M=function(d){Zm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props.model,c=a.resizable,o=a.properties;return c&&!o.isFolded?d.prototype.getControlGroup.call(this):null},p.prototype.getAddableShape=function(){var a=this.props.model,c=a.width,o=a.height,l=a.x,f=a.y,y=a.radius,g=a.properties;if(!g.groupAddable)return null;var O=this.props.model.getNodeStyle().strokeWidth,x=this.props.model.getAddableOutlineStyle(),w=c+O+8,j=o+O+8;return Ee.h("rect",as(as({},x),{width:w,height:j,x:l-w/2,y:f-j/2,rx:y,ry:y}))},p.prototype.getFoldIcon=function(){var a=this.props.model,c=a.x-a.width/2+5,o=a.y-a.height/2+5;if(!a.foldable)return null;var l=Ee.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:a.properties.isFolded?"M "+(c+3)+","+(o+6)+" "+(c+11)+","+(o+6)+" M"+(c+7)+","+(o+2)+" "+(c+7)+","+(o+10):"M "+(c+3)+","+(o+6)+" "+(c+11)+","+(o+6)+" "});return Ee.h("g",{},[Ee.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:a.x-a.width/2+5,y:a.y-a.height/2+5,onClick:function(){a.foldGroup(!a.properties.isFolded)}}),l])},p.prototype.getResizeShape=function(){return Ee.h("g",{},[this.getAddableShape(),d.prototype.getResizeShape.call(this),this.getFoldIcon()])},p}(Vm.view);const ap={type:"group",view:_M,model:bM};var OM=-1e3,Zg=-1e4,MT=function(){function d(p){var a=this,c=p.lf;this.topGroupZIndex=Zg,this.nodeGroupMap=new Map,this.graphRendered=function(o){o&&o.nodes&&o.nodes.forEach(function(l){l.children&&l.children.forEach(function(f){a.nodeGroupMap.set(f,l.id)})})},this.appendNodeToGroup=function(o){var l=o.data,f=a.nodeGroupMap.get(l.id);if(f){var y=a.lf.getNodeModelById(f);y.removeChild(l.id),a.nodeGroupMap.delete(l.id),y.setAllowAppendChild(!1)}var g=a.lf.getNodeModelById(l.id),O=g.getBounds(),x=a.getGroup(O,l);if(g.isGroup&&(l.children.forEach(function(j){a.nodeGroupMap.set(j,l.id)}),a.nodeSelected({data:l,isSelected:!1,isMultiple:!1})),!!x){var w=x.isAllowAppendIn(l);if(!w){a.lf.emit("group:not-allowed",{group:x.getData(),node:l});return}x.addChild(l.id),a.nodeGroupMap.set(l.id,x.id),x.setAllowAppendChild(!1)}},this.deleteGroupChild=function(o){var l=o.data;l.children&&l.children.forEach(function(g){a.nodeGroupMap.delete(g),a.lf.deleteNode(g)});var f=a.nodeGroupMap.get(l.id);if(f){var y=a.lf.getNodeModelById(f);y.removeChild(l.id),a.nodeGroupMap.delete(l.id)}},this.setActiveGroup=function(o){var l=o.data,f=a.lf.getNodeModelById(l.id),y=f.getBounds(),g=a.getGroup(y,l);if(a.activeGroup&&a.activeGroup.setAllowAppendChild(!1),!(!g||f.isGroup&&g.id===l.id)){var O=g.isAllowAppendIn(l);O&&(a.activeGroup=g,a.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(o){var l=o.data,f=o.isMultiple,y=o.isSelected,g=a.lf.getNodeModelById(l.id);if(a.toFrontGroup(g),a.topGroupZIndex>OM){a.topGroupZIndex=Zg;for(var O=a.lf.graphModel.nodes.filter(function(M){return M.isGroup}).sort(function(M,k){return M.zIndex-k.zIndex}),x=0,w=0;w<O.length;w++){var j=O[w];j.zIndex!==x&&(a.topGroupZIndex++,x=j.zIndex),j.setZIndex(a.topGroupZIndex)}}if(f&&y)if(g.isGroup)g.children.forEach(function(M){var k=a.lf.graphModel.getElement(M);k.setSelected(!1)});else{var P=a.nodeGroupMap.get(l.id);if(P){var T=a.lf.getNodeModelById(P);T.isSelected&&g.setSelected(!1)}}},this.toFrontGroup=function(o){!o||!o.isGroup||(a.topGroupZIndex++,o.setZIndex(a.topGroupZIndex),o.children&&o.children.forEach(function(l){var f=a.lf.getNodeModelById(l);a.toFrontGroup(f)}))},c.register(ap),this.lf=c,c.graphModel.addNodeMoveRules(function(o,l,f){if(o.isGroup){var y=a.getNodeAllChild(o);return c.graphModel.moveNodes(y,l,f,!0),!0}var g=c.getNodeModelById(a.nodeGroupMap.get(o.id));if(g&&g.isRestrict){var O=o.getBounds(),x=O.x1,w=O.y1,j=O.x2,P=O.y2,T=g.isAllowMoveTo({x1:x+l,y1:w+f,x2:j+l,y2:P+f});return T}return!0}),c.graphModel.group=this,c.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),c.on("node:delete",this.deleteGroupChild),c.on("node:dnd-drag,node:drag",this.setActiveGroup),c.on("node:click",this.nodeSelected),c.on("graph:rendered",this.graphRendered)}return d.prototype.getNodeAllChild=function(p){var a=this,c=[];return p.children&&p.children.forEach(function(o){c.push(o);var l=a.lf.getNodeModelById(o);l.isGroup&&(c=c.concat(a.getNodeAllChild(l)))}),c},d.prototype.getGroup=function(p,a){var c=this.lf.graphModel.nodes,o=c.filter(function(y){return y.isGroup&&y.isInRange(p)&&y.id!==a.id});if(o.length!==0){if(o.length===1)return o[0];for(var l=o[o.length-1],f=o.length-2;f>=0;f--)o[f].zIndex>l.zIndex&&(l=o[f]);return l}},d.prototype.getNodeGroup=function(p){var a=this.nodeGroupMap.get(p);if(a)return this.lf.getNodeModelById(a)},d.pluginName="group",d}(),Jg=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),ra=globalThis&&globalThis.__assign||function(){return ra=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},ra.apply(this,arguments)};function TT(){var d=function(a){Jg(c,a);function c(){return a!==null&&a.apply(this,arguments)||this}return c.prototype.getFoldIcon=function(){var o=this.props.model,l=o.x,f=o.y,y=o.width,g=o.height,O=o.properties,x=o.foldable,w=o.x-o.width/2+5,j=o.y-o.height/2+5;if(!x)return null;var P=Ee.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:O.isFolded?"M "+(w+3)+","+(j+6)+" "+(w+11)+","+(j+6)+" M"+(w+7)+","+(j+2)+" "+(w+7)+","+(j+10):"M "+(w+3)+","+(j+6)+" "+(w+11)+","+(j+6)+" "});return Ee.h("g",{},[Ee.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:l-y/2+5,y:f-g/2+5,onClick:function(T){T.stopPropagation(),o.foldGroup(!O.isFolded)}}),P])},c.prototype.getResizeShape=function(){var o=this.props.model,l=o.x,f=o.y,y=o.width,g=o.height,O=o.getNodeStyle(),x=ra(ra({},O),{x:l-y/2,y:f-g/2,width:y,height:g,stroke:"black",strokeWidth:2,strokeDasharray:"0 0"});return Ee.h("g",{},[Ee.h("rect",ra({},x)),this.getFoldIcon()])},c}(ap.view),p=function(a){Jg(c,a);function c(){return a!==null&&a.apply(this,arguments)||this}return c.prototype.initNodeData=function(o){a.prototype.initNodeData.call(this,o),this.foldable=!0,this.resizable=!0,this.width=400,this.height=200,this.resetWidthHeight(),this.isTaskNode=!0,this.boundaryEvents=[]},c.prototype.resetWidthHeight=function(){var o,l,f=(o=this.properties.iniProp)===null||o===void 0?void 0:o.width,y=(l=this.properties.iniProp)===null||l===void 0?void 0:l.height;f&&(this.width=f),y&&(this.height=y)},c.prototype.getNodeStyle=function(){var o=a.prototype.getNodeStyle.call(this);o.stroke="#989891",o.strokeWidth=1,o.strokeDasharray="3 3",this.isSelected&&(o.stroke="rgb(124, 15, 255)");var l=this.properties.isBoundaryEventTouchingTask;return l&&(o.stroke="#00acff",o.strokeWidth=2),o},c.prototype.addChild=function(o){var l=this.graphModel.getElement(o);l.setProperties({parent:this.id}),a.prototype.addChild.call(this,o)},c.prototype.getAnchorStyle=function(){var o=a.prototype.getAnchorStyle.call(this,{});return o.stroke="#000",o.fill="#fff",o.hover.stroke="transparent",o},c.prototype.getOutlineStyle=function(){var o=a.prototype.getOutlineStyle.call(this);return o.stroke="transparent",!o.hover&&(o.hover={}),o.hover.stroke="transparent",o},c.prototype.setTouching=function(o){this.setProperty("isBoundaryEventTouchingTask",o)},c.prototype.addBoundaryEvent=function(o){if(this.setTouching(!1),this.boundaryEvents.find(function(f){return f===o}))return!1;var l=this.graphModel.getNodeModelById(o);return l==null||l.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(o),!0},c.prototype.deleteBoundaryEvent=function(o){this.boundaryEvents=this.boundaryEvents.filter(function(l){return l!==o})},c}(ap.model);return{type:"bpmn:subProcess",view:d,model:p}}globalThis&&globalThis.__values;var Qg=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),oa=globalThis&&globalThis.__assign||function(){return oa=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},oa.apply(this,arguments)};function wM(d){var p=function(c){Qg(o,c);function o(l,f){var y=this;l.id||(l.id="Flow_"+Oo());var g=oa(oa(oa({},d||{}),l.properties),{isDefaultFlow:!1});return l.properties=g,y=c.call(this,l,f)||this,y}return o.extendKey="SequenceFlowModel",o}(Ee.PolylineEdgeModel),a=function(c){Qg(o,c);function o(){return c!==null&&c.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var l=this.props.model,f=l.properties.isDefaultFlow;return f?Ee.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Ee.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(Ee.PolylineEdge);return{type:"bpmn:sequenceFlow",view:a,model:p}}wM();globalThis&&globalThis.__read;function AT(d){function p(a){function c(o,l){return o.forEach(function(f){d!=null&&d[f]||(d[f]=new Map);var y=d==null?void 0:d[f];l.forEach(function(g){y.set(g.type,g)})}),d}a.forEach(function(o){c(o.nodes,o.definition)})}return function(){return[d,p]}}var em={width:40,height:40},tm={width:40,height:40},nm={width:100,height:80},us={width:100,height:80},rm={width:100,height:80},om={width:100,height:80},im={width:100,height:80},am={width:100,height:80},um={width:100,height:80},sm={width:100,height:80},En=function(){};En.ObjTree=function(){return this};En.ObjTree.VERSION="0.23";En.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;En.ObjTree.prototype.attr_prefix="-";En.ObjTree.prototype.parseXML=function(d){var p;if(window.DOMParser){var a=new DOMParser,c=a.parseFromString(d,"application/xml");if(!c)return;p=c.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(d),p=a.documentElement);if(p){var o=this.parseDOM(p);return o}};En.ObjTree.prototype.parseHTTP=function(d,p,a){var c={};for(var o in p)c[o]=p[o];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),a){c.asynchronous=!0;var l=this,f=a,y=c.onComplete;c.onComplete=function(x){var w;x&&x.responseXML&&x.responseXML.documentElement&&(w=l.parseDOM(x.responseXML.documentElement)),f(w,x),y&&y(x)}}else c.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){c.uri=d;var O=new HTTP.Request(c);O&&(g=O.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var O=new Ajax.Request(d,c);O&&(g=O.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};En.ObjTree.prototype.parseDOM=function(d){if(d){if(this.__force_array={},this.force_array)for(var p=0;p<this.force_array.length;p++)this.__force_array[this.force_array[p]]=1;var a=this.parseElement(d);if(this.__force_array[d.nodeName]&&(a=[a]),d.nodeType!==11){var c={};c[d.nodeName]=a,a=c}return a}};En.ObjTree.prototype.parseElement=function(d){if(d.nodeType!==7){if(d.nodeType===3||d.nodeType===4||d.nodeType===8){var p=d.nodeValue.match(/[^\x00-\x20]/);return p==null?void 0:d.nodeValue}var a=null,c={};if(d.attributes&&d.attributes.length){a={};for(var o=0;o<d.attributes.length;o++){var l=d.attributes[o].nodeName;if(typeof l=="string"){var f=d.attributes[o].nodeValue;try{f=JSON.parse(d.attributes[o].nodeValue.replace(/'/g,'"'))}catch{f=d.attributes[o].nodeValue}f!=null&&(l=this.attr_prefix+l,typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(a,l,c[l],f))}}}if(d.childNodes&&d.childNodes.length){var y=!0;a&&(y=!1);for(var o=0;o<d.childNodes.length&&y;o++){var g=d.childNodes[o].nodeType;g===3||g===4||g===8||(y=!1)}if(y){a||(a="");for(var o=0;o<d.childNodes.length;o++)a+=d.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<d.childNodes.length;o++){var l=d.childNodes[o].nodeName;if(typeof l=="string"){var f=this.parseElement(d.childNodes[o]);f&&(typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(a,l,c[l],f))}}}}else a===null&&(a={});return a}};En.ObjTree.prototype.addNode=function(d,p,a,c){this.__force_array[p]?(a===1&&(d[p]=[]),d[p][d[p].length]=c):a===1?d[p]=c:a===2?d[p]=[d[p],c]:d[p][d[p].length]=c};En.ObjTree.prototype.writeXML=function(d){var p=this.hash_to_xml(null,d);return this.xmlDecl+p};En.ObjTree.prototype.hash_to_xml=function(d,p){var a=[],c=[];for(var o in p)if(p!=null&&p.hasOwnProperty(o)){var l=p[o];o.charAt(0)!==this.attr_prefix?typeof l>"u"||l==null?a[a.length]="<"+o+" />":typeof l=="object"&&l.constructor===Array?a[a.length]=this.array_to_xml(o,l):typeof l=="object"?a[a.length]=this.hash_to_xml(o,l):a[a.length]=this.scalar_to_xml(o,l):c[c.length]=" "+o.substring(1)+'="'+this.xml_escape(l)+'"'}var f=c.join(""),y=a.join("");return typeof d>"u"||d==null||(a.length>0?y.match(/\n/)?y="<"+d+f+`>
`+y+"</"+d+`>
`:y="<"+d+f+">"+y+"</"+d+`>
`:y="<"+d+f+` />
`),y};En.ObjTree.prototype.array_to_xml=function(d,p){for(var a=[],c=0;c<p.length;c++){var o=p[c];typeof o>"u"||o==null?a[a.length]="<"+d+" />":typeof o=="object"&&o.constructor===Array?a[a.length]=this.array_to_xml(d,o):typeof o=="object"?a[a.length]=this.hash_to_xml(d,o):a[a.length]=this.scalar_to_xml(d,o)}return a.join("")};En.ObjTree.prototype.scalar_to_xml=function(d,p){return d==="#text"?this.xml_escape(p):"<"+d+">"+this.xml_escape(p)+"</"+d+`>
`};En.ObjTree.prototype.xml_escape=function(d){return d.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var xM=function(d){return new En.ObjTree().parseXML(d)};function Jm(d){return Object.prototype.toString.call(d)}function cm(d){return"  ".repeat(d)}function ss(d){return Jm(d)==="[object Object]"?Object.keys(d).reduce(function(p,a){var c=a;return a.charAt(0)==="-"&&(c=a.substring(1)),p[c]=ss(d[a]),p},{}):Array.isArray(d)?d.map(function(p){return ss(p)}):d}function EM(d){var p=d;try{typeof p!="string"&&(p=JSON.parse(d))}catch{p=JSON.stringify(ss(d)).replace(/"/g,"'")}return p}var lm=`	
`;function Ju(d,p,a){var c=cm(a),o="",l=lm+c;if(p==="-json")return"";if(p==="#text")return l+d;if(p==="#cdata-section")return l+"<![CDATA["+d+"]]>";if(p==="#comment")return l+"<!--"+d+"-->";if((""+p).charAt(0)==="-")return" "+p.substring(1)+'="'+EM(d)+'"';if(Array.isArray(d))o+=d.map(function(O){return Ju(O,p,a+1)}).join("");else if(Jm(d)==="[object Object]"){var f=Object.keys(d),y="",g=d["-json"]?lm+cm(a+1)+d["-json"]:"";o+=(a===0?"":l)+"<"+p,f.forEach(function(O){O.charAt(0)==="-"?y+=Ju(d[O],O,a+1):g+=Ju(d[O],O,a+1)}),o+=y+(g!==""?">"+g+l+"</"+p+">":" />")}else o+=l+"<"+p+">"+d.toString()+"</"+p+">";return o}function SM(d){var p="";for(var a in d)p+=Ju(d[a],a,0);return p}var jM=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),up=globalThis&&globalThis.__assign||function(){return up=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},up.apply(this,arguments)},fm=globalThis&&globalThis.__rest||function(d,p){var a={};for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&p.indexOf(c)<0&&(a[c]=d[c]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,c=Object.getOwnPropertySymbols(d);o<c.length;o++)p.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(d,c[o])&&(a[c[o]]=d[c[o]]);return a},wp=globalThis&&globalThis.__values||function(d){var p=typeof Symbol=="function"&&Symbol.iterator,a=p&&d[p],c=0;if(a)return a.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&c>=d.length&&(d=void 0),{value:d&&d[c++],done:!d}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},li=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},ii=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(li(arguments[p]));return d},On;(function(d){d.START="bpmn:startEvent",d.END="bpmn:endEvent",d.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",d.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",d.BOUNDARY="bpmn:boundaryEvent",d.PARALLEL_GATEWAY="bpmn:parallelGateway",d.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",d.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",d.USER="bpmn:userTask",d.SYSTEM="bpmn:serviceTask",d.FLOW="bpmn:sequenceFlow",d.SUBPROCESS="bpmn:subProcess"})(On||(On={}));var Qm=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],PM=["properties","startPoint","endPoint","pointsList"],cs={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},eb=function(d,p){var a=Object.keys(p||{});return a.forEach(function(c){if(d[c]){var o=p[c],l=o.in,f=o.out;l&&(d[c].in=l),f&&(d[c].out=f)}else d[c]=p[c]}),d},Kn={"bpmn:startEvent":{out:function(d){var p,a,c=d.properties;return((a=(p=Kn[c.definitionType])===null||p===void 0?void 0:p.out)===null||a===void 0?void 0:a.call(p,d))||{}}},"bpmn:intermediateCatchEvent":{out:function(d){var p,a,c=d.properties;return((a=(p=Kn[c.definitionType])===null||p===void 0?void 0:p.out)===null||a===void 0?void 0:a.call(p,d))||{}}},"bpmn:intermediateThrowEvent":{out:function(d){var p,a,c=d.properties;return((a=(p=Kn[c.definitionType])===null||p===void 0?void 0:p.out)===null||a===void 0?void 0:a.call(p,d))||{}}},"bpmn:boundaryEvent":{out:function(d){var p,a,c=d.properties;return((a=(p=Kn[c.definitionType])===null||p===void 0?void 0:p.out)===null||a===void 0?void 0:a.call(p,d))||{}}},"bpmn:sequenceFlow":{out:function(d){var p=d.properties,a=p.expressionType,c=p.condition;return c?a==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+c+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+c+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(d){var p=d.properties,a=p.timerType,c=p.timerValue,o=p.definitionId,l=function(){return"<bpmn:"+a+' xsi:type="bpmn:tFormalExpression">'+c+"</bpmn:"+a+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(a&&c?">"+l()+"</bpmn:timerEventDefinition>":"/>")}},in:function(d,p){var a,c,o,l,f=d,y=p["-id"],g="",O="";try{for(var x=wp(Object.keys(p)),w=x.next();!w.done;w=x.next()){var j=w.value;j.includes("bpmn:")&&(o=li(j.split(":"),2),g=o[1],O=(l=p[j])===null||l===void 0?void 0:l["#text"])}}catch(P){a={error:P}}finally{try{w&&!w.done&&(c=x.return)&&c.call(x)}finally{if(a)throw a.error}}return{"-definitionId":y,"-definitionType":f,"-timerType":g,"-timerValue":O}}},"bpmn:conditionExpression":{in:function(d,p){var a,c="",o="";return p["#cdata-section"]?(o="cdata",c=((a=/^\$\{(.*)\}$/g.exec(p["#cdata-section"]))===null||a===void 0?void 0:a[1])||""):p["#text"]&&(o="normal",c=p["#text"]),{"-condition":c,"-expressionType":o}}}};function MM(d){var p=d??{},a=p.retainedAttrsFields,c=p.excludeFields,o=p.transformer,l=new Set(ii(PM,a||[])),f={in:new Set(ii(cs.in,(c==null?void 0:c.in)||[])),out:new Set(ii(cs.out,(c==null?void 0:c.out)||[]))};return Kn=eb(Kn,o),function(y){var g=y.nodes,O=y.edges;function x(w,j){var P,T,M;if((w==null?void 0:w.flag)!==1){var k;if((k=Kn[w.type])&&k.out){var R=k.out(w),L=Object.keys(R);L.length>0&&L.forEach(function(z){w[z]=R[z]})}w!=null&&w.children&&(w.children=w.children.map(function(z){var G=g.find(function(X){return X.id===z})||O.find(function(X){return X.id===z});return G||{}}));var Y={};if(typeof w=="string")return w;if(Array.isArray(w))return w.map(function(z){return x(z,"")}).filter(function(z){return z!=null});try{for(var Q=wp(Object.entries(w)),V=Q.next();!V.done;V=Q.next()){var q=li(V.value,2),Z=q[0],F=q[1];if(((M=F)===null||M===void 0?void 0:M.flag)===1)return;var I=[j,Z].filter(function(z){return z}).join(".");f.out.has(I)||(typeof F!="object"?Z.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Z)?Y[Z]=F:Y["-"+Z]=F:l.has(I)?Y["-"+Z]=x(F,I):Y[Z]=x(F,I))}}catch(z){P={error:z}}finally{try{V&&!V.done&&(T=Q.return)&&T.call(Q)}finally{if(P)throw P.error}}return Y}}return x(y,"")}}function ls(d){var p,a,c={};try{for(var o=wp(Object.entries(d)),l=o.next();!l.done;l=o.next()){var f=li(l.value,2),y=f[0],g=f[1];y.indexOf("-")===0?c[y.substring(1)]=ss(g):typeof g=="string"?c[y]=g:Object.prototype.toString.call(g)==="[object Object]"?c[y]=ls(g):Array.isArray(g)?c[y]=g.map(function(O){return ls(O)}):c[y]=g}}catch(O){p={error:O}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(p)throw p.error}}return c}function TM(d,p,a){var c,o=new Map,l=MM(a)(p);l.nodes.forEach(function(y){var g=y["-id"],O=y["-type"],x=y.text,w=y.children,j=fm(y,["-id","-type","text","children"]),P={"-id":g};x!=null&&x["-value"]&&(P["-name"]=x["-value"]),j["-json"]&&(P["-json"]=j["-json"]),j["-properties"]&&Object.assign(P,j["-properties"]),w&&(P.children=w),d[O]||(d[O]=[]),d[O].push(P),o.set(g,P)});var f=l.edges.map(function(y){var g=y["-id"];y["-type"];var O=y["-sourceNodeId"],x=y["-targetNodeId"],w=y.text,j=fm(y,["-id","-type","-sourceNodeId","-targetNodeId","text"]),P=o.get(x);P["bpmn:incoming"]||(P["bpmn:incoming"]=[]),P["bpmn:incoming"].push(g);var T={"-id":g,"-sourceRef":O,"-targetRef":x};return w!=null&&w["-value"]&&(T["-name"]=w["-value"]),j["-json"]&&(T["-json"]=j["-json"]),j["-properties"]&&Object.assign(T,j["-properties"]),T});return p.edges.forEach(function(y){var g=y.sourceNodeId,O=y.id,x=o.get(g);x["bpmn:outgoing"]||(x["bpmn:outgoing"]=[]),x["bpmn:outgoing"].push(O)}),(c=d["bpmn:subProcess"])===null||c===void 0||c.forEach(function(y){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},O=[];y.children.forEach(function(M){var k,R=o.get(M["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(Y){R[Y]&&R[Y].forEach(function(Q){g[Y].add(Q)})});var L=(k=d[M["-type"]])===null||k===void 0?void 0:k.findIndex(function(Y){return Y["-id"]===M["-id"]});L>=0&&d[M["-type"]].splice(L,1),o.delete(M["-id"]),y[M["-type"]]||(y[M["-type"]]=[]),y[M["-type"]].push(R)});var x=g["bpmn:incoming"],w=g["bpmn:outgoing"];w.forEach(function(M){x.has(M)&&O.push(M)});for(var j=function(M){var k=f.findIndex(function(R){return R["-id"]===O[M]});k>=0?(y["bpmn:sequenceFlow"]||(y["bpmn:sequenceFlow"]=[]),y["bpmn:sequenceFlow"].push(f[k]),f.splice(k,1)):M++,P=M},P,T=0;T<O.length;)j(T),T=P;delete y.children}),d[On.FLOW]=f,d}function AM(d,p){d["bpmndi:BPMNEdge"]=p.edges.map(function(a){var c,o=a.id,l=a.pointsList.map(function(y){var g=y.x,O=y.y;return{"-x":g,"-y":O}}),f={"-id":o+"_di","-bpmnElement":o,"di:waypoint":l};return!((c=a.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),f}),d["bpmndi:BPMNShape"]=p.nodes.map(function(a){var c,o=a.id,l=100,f=80,y=a.x,g=a.y,O=Tn.shapeConfigMap.get(a.type);O&&(l=O.width,f=O.height),y-=l/2,g-=f/2;var x={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":y,"-y":g,"-width":l,"-height":f}};return!((c=a.text)===null||c===void 0)&&c.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),x})}var kM=["bpmn:incoming","bpmn:outgoing"];function NM(d,p){var a=[],c=[],o=new Map,l=p??{},f=l.transformer,y=l.excludeFields,g={in:new Set(ii(cs.in,(y==null?void 0:y.in)||[])),out:new Set(ii(cs.out,(y==null?void 0:y.out)||[]))};Kn=eb(Kn,f);var O=d["bpmn:definitions"];if(O){var x=O["bpmn:process"];(function(j,P){P.forEach(function(T){try{Object.keys(j).forEach(function(M){try{T(M)}catch(k){console.error(k)}})}catch(M){console.error(M)}})})(x,[function(j){function P(M){M["-children"]||(M["-children"]=[]),Object.keys(M).forEach(function(k){var R;k.indexOf("bpmn:")===0&&!kM.includes(k)&&(x[k]||(x[k]=[]),!Array.isArray(x[k])&&(x[k]=[x[k]]),Array.isArray(M[k])?(R=x[k]).push.apply(R,ii(M[k])):x[k].push(M[k]),Array.isArray(M[k])?M[k].forEach(function(L){!k.includes("Flow")&&M["-children"].push(L["-id"])}):!k.includes("Flow")&&M["-children"].push(M[k]["-id"]),delete M[k])})}if(j==="bpmn:subProcess"){var T=x[j];Array.isArray(T)?T.forEach(function(M){j==="bpmn:subProcess"&&P(M)}):P(T)}},function(j){var P=function(M){Object.keys(M).forEach(function(k){var R,L;if(k.includes("bpmn:")){var Y={};Kn[k]&&Kn[k].in?(Y=(L=(R=Kn[k]).in)===null||L===void 0?void 0:L.call(R,k,C.cloneDeep(M[k])),delete M[k]):T(M[k]);var Q=void 0;(Q=Reflect.ownKeys(Y)).length>0&&Q.forEach(function(V){Reflect.set(M,V,Y[V])})}})};function T(M){o.set(M["-id"],M),Array.isArray(M)?M.forEach(function(k){T(k)}):typeof M=="object"&&P(M)}T(x[j])},function(j){if(j.indexOf("bpmn:")===0){var P=x[j];if(j==="bpmn:sequenceFlow"){var T=O["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=CM(P,T)}else{var M=O["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(j==="bpmn:boundaryEvent"){var k=x[j],R=function(L){var Y=L["-attachedToRef"],Q=o.get(Y);Q["-boundaryEvents"]||(Q["-boundaryEvents"]=[]),Q["-boundaryEvents"].push(L["-id"])};Array.isArray(k)?k.forEach(function(L){R(L)}):R(k)}a=a.concat(DM(P,M,j))}}}])}var w=function(j,P,T){Object.keys(j).forEach(function(M){var k=T?T+"."+M:M;P.has(k)?delete j[M]:typeof j[M]=="object"&&w(j[M],P,k)})};return a.forEach(function(j){var P,T;if(!((P=p==null?void 0:p.mapping)===null||P===void 0)&&P.in){var M=(T=p==null?void 0:p.mapping)===null||T===void 0?void 0:T.in,k=j.type;M[k]&&(j.type=M[k])}w(j,g.in,"")}),c.forEach(function(j){var P,T;if(!((P=p==null?void 0:p.mapping)===null||P===void 0)&&P.in){var M=(T=p==null?void 0:p.mapping)===null||T===void 0?void 0:T.in,k=j.type;M[k]&&(j.type=M[k])}w(j,g.in,"")}),{nodes:a,edges:c}}function DM(d,p,a){var c=[];if(Array.isArray(d))d.forEach(function(f){var y;Array.isArray(p)?y=p.find(function(O){return O["-bpmnElement"]===f["-id"]}):y=p;var g=pm(y,a,f);c.push(g)});else{var o=void 0;Array.isArray(p)?o=p.find(function(f){return f["-bpmnElement"]===d["-id"]}):o=p;var l=pm(o,a,d);c.push(l)}return c}function pm(d,p,a){var c=Number(d["dc:Bounds"]["-x"]),o=Number(d["dc:Bounds"]["-y"]),l=a["-children"],f=a["-name"],y=Tn.shapeConfigMap.get(p);y&&(c+=y.width/2,o+=y.height/2);var g={};Object.entries(a).forEach(function(j){var P=li(j,2),T=P[0],M=P[1];Qm.includes(T)||(g[T]=M)}),g=ls(g);var O;if(f&&(O={x:c,y:o,value:f},d["bpmndi:BPMNLabel"]&&d["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=d["bpmndi:BPMNLabel"]["dc:Bounds"];O.x=Number(x["-x"])+Number(x["-width"])/2,O.y=Number(x["-y"])+Number(x["-height"])/2}var w={id:d["-bpmnElement"],type:p,x:c,y:o,properties:g};return l&&(w.children=l),O&&(w.text=O),w}function CM(d,p){var a=[];if(Array.isArray(d))d.forEach(function(o){var l;Array.isArray(p)?l=p.find(function(f){return f["-bpmnElement"]===o["-id"]}):l=p,a.push(dm(l,o))});else{var c=void 0;Array.isArray(p)?c=p.find(function(o){return o["-bpmnElement"]===d["-id"]}):c=p,a.push(dm(c,d))}return a}function dm(d,p){var a,c=p["-name"];if(c){var o=d["bpmndi:BPMNLabel"]["dc:Bounds"],l=0;c.split(`
`).forEach(function(O){l<O.length&&(l=O.length)}),a={value:c,x:Number(o["-x"])+l*10/2,y:Number(o["-y"])+7}}var f={};Object.entries(p).forEach(function(O){var x=li(O,2),w=x[0],j=x[1];Qm.includes(w)||(f[w]=j)}),f=ls(f);var y=d["di:waypoint"].map(function(O){return{x:Number(O["-x"]),y:Number(O["-y"])}}),g={id:p["-id"],type:On.FLOW,pointsList:y,sourceNodeId:p["-sourceRef"],targetNodeId:p["-targetRef"],properties:f};return a&&(g.text=a),g}var Tn=function(){function d(p){var a=this,c=p.lf;this.adapterOut=function(o,l){var f,y,g=up({},a.processAttributes);TM(g,o,l);var O={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};AM(O,o);var x=a.definitionAttributes;x["bpmn:process"]=g,x["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":O};var w={"bpmn:definitions":x};if(!((f=l==null?void 0:l.mapping)===null||f===void 0)&&f.out){var j=(y=l==null?void 0:l.mapping)===null||y===void 0?void 0:y.out,P=function(T){Array.isArray(T)&&T.forEach(function(M){return P(M)}),typeof T=="object"&&Object.keys(T).forEach(function(M){var k;(k=j[M])?(T[k]=C.cloneDeep(T[M]),delete T[M],P(T[k])):P(T[M])})};P(w)}return w},this.adapterIn=function(o,l){if(o)return NM(o,l)},c.adapterIn=this.adapterIn,c.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return d.prototype.setCustomShape=function(p,a){d.shapeConfigMap.set(p,a)},d.pluginName="bpmn-adapter",d.shapeConfigMap=new Map,d}();Tn.shapeConfigMap.set(On.START,{width:em.width,height:em.height});Tn.shapeConfigMap.set(On.END,{width:tm.width,height:tm.height});Tn.shapeConfigMap.set(On.INTERMEDIATE_CATCH,{width:us.width,height:us.height});Tn.shapeConfigMap.set(On.INTERMEDIATE_THROW,{width:us.width,height:us.height});Tn.shapeConfigMap.set(On.BOUNDARY,{width:nm.width,height:nm.height});Tn.shapeConfigMap.set(On.PARALLEL_GATEWAY,{width:rm.width,height:rm.height});Tn.shapeConfigMap.set(On.INCLUSIVE_GATEWAY,{width:om.width,height:om.height});Tn.shapeConfigMap.set(On.EXCLUSIVE_GATEWAY,{width:im.width,height:im.height});Tn.shapeConfigMap.set(On.SYSTEM,{width:am.width,height:am.height});Tn.shapeConfigMap.set(On.USER,{width:um.width,height:um.height});Tn.shapeConfigMap.set(On.SUBPROCESS,{width:sm.width,height:sm.height});(function(d){jM(p,d);function p(a){var c=d.call(this,a)||this;c.adapterXmlIn=function(f){var y=xM(f);return c.adapterIn(y,c.props)},c.adapterXmlOut=function(f){var y=c.adapterOut(f,c.props);return SM(y)};var o=a.lf,l=a.props;return o.adapterIn=c.adapterXmlIn,o.adapterOut=c.adapterXmlOut,c.props=l,c}return p.pluginName="BPMNAdapter",p})(Tn);var hm=globalThis&&globalThis.__assign||function(){return hm=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},hm.apply(this,arguments)};globalThis&&globalThis.__read;var ui;(function(d){d.HORIZONTAL="horizontal",d.VERTICAL="vertical"})(ui||(ui={}));var IM=function(d,p,a,c){c===void 0&&(c=0);var o=LM(d,p,a);return o<=c};function ym(d){return d*d}function Zf(d,p){return ym(d.x-p.x)+ym(d.y-p.y)}var RM=function(d,p,a){var c=Zf(p,a);if(c===0)return Zf(d,p);var o=((d.x-p.x)*(a.x-p.x)+(d.y-p.y)*(a.y-p.y))/c;return o=Math.max(0,Math.min(1,o)),Zf(d,{x:p.x+o*(a.x-p.x),y:p.y+o*(a.y-p.y)})},LM=function(d,p,a){return Math.sqrt(RM(d,p,a))},BM=function(d){var p=d.x,a=d.y,c=d.width,o=d.height,l={minX:p-c/2,minY:a-o/2,maxX:p+c/2,maxY:a+o/2,x:p,y:a,width:c,height:o,centerX:p,centerY:a};return l},zM=function(d,p){var a;return d.x===p.x?a=ui.VERTICAL:d.y===p.y&&(a=ui.HORIZONTAL),a},FM=function(d,p,a){var c=BM(d),o=zM(p,a),l=Math.max(p.x,a.x),f=Math.min(p.x,a.x),y=Math.max(p.y,a.y),g=Math.min(p.y,a.y),O=d.x,x=d.y,w=d.width,j=d.height;if(o===ui.HORIZONTAL){if(l>=c.maxX&&f<=c.minX)return{startCrossPoint:{x:p.x>a.x?O+w/2:O-w/2,y:p.y},endCrossPoint:{x:p.x>a.x?O-w/2:O+w/2,y:p.y}}}else if(o===ui.VERTICAL&&y>=c.maxY&&g<=c.minY)return{startCrossPoint:{x:p.x,y:p.y>a.y?x+j/2:x-j/2},endCrossPoint:{x:p.x,y:p.y>a.y?x-j/2:x+j/2}}},GM=function(d,p,a){a===void 0&&(a=0);for(var c=d.x,o=d.y,l=p.pointsList,f=0;f<l.length-1;f++)if(IM({x:c,y:o},l[f],l[f+1],a)){var y=FM(d,l[f],l[f+1]);if(y)return{crossIndex:f+1,crossPoints:y}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},HM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},vm=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(HM(arguments[p]));return d},kT=function(){function d(p){var a=p.lf;this._lf=a,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return d.prototype.eventHandler=function(){var p=this;this.dndAdd&&this._lf.on("node:dnd-add",function(a){var c=a.data;p.insetNode(c)}),this.dropAdd&&this._lf.on("node:drop",function(a){for(var c=a.data,o=p._lf.graphModel.edges,l=c.id,f=!0,y=0;y<o.length;y++)if(o[y].sourceNodeId===l||o[y].targetNodeId===l){f=!1;break}f&&p.insetNode(c)})},d.prototype.checkRuleBeforeInsetNode=function(p,a,c,o,l){var f=this._lf.getNodeModelById(p),y=this._lf.getNodeModelById(a),g=f.getAnchorInfo(c),O=y.getAnchorInfo(o),x=f.isAllowConnectedAsSource(l,g,O),w=y.isAllowConnectedAsTarget(l,g,O),j=Ee.formateAnchorConnectValidateData(x),P=j.isAllPass,T=j.msg,M=Ee.formateAnchorConnectValidateData(w),k=M.isAllPass,R=M.msg;return{isPass:P&&k,sourceMsg:T,targetMsg:R}},d.prototype.insetNode=function(p){for(var a=this,c=this._lf.graphModel.edges,o=this._lf.getNodeModelById(p.id),l=0;l<c.length;l++){var f=GM(o,c[l],this.deviation),y=f.crossIndex,g=f.crossPoints;if(y>=0){var O=c[l],x=O.sourceNodeId,w=O.targetNodeId,j=O.id,P=O.type,T=O.pointsList,M=O.sourceAnchorId,k=O.targetAnchorId,R=Qi(T[0]),L=Qi(g.startCrossPoint);this._lf.deleteEdge(j);var Y=this.checkRuleBeforeInsetNode(x,w,M,k,p);if(this._lf.addEdge({type:P,sourceNodeId:x,targetNodeId:p.id,startPoint:R,endPoint:L,pointsList:vm(T.slice(0,y),[g.startCrossPoint])}),this._lf.addEdge({type:P,sourceNodeId:p.id,targetNodeId:w,startPoint:Qi(g.endCrossPoint),endPoint:Qi(T[T.length-1]),pointsList:vm([g.endCrossPoint],T.slice(y))}),Y.isPass)break;this._lf.graphModel.eventCenter.emit(Ee.EventType.CONNECTION_NOT_ALLOWED,{data:p,msg:Y.targetMsg||Y.sourceMsg}),setTimeout(function(){a._lf.undo()},200);break}}},d.pluginName="insertNodeInPolyline",d}(),XM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},WM=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(XM(arguments[p]));return d},NT=function(){function d(p){var a=this,c=p.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){a.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){a.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){a.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){a.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){a.lf.redo()}}],this.lf=c}return d.prototype.render=function(p,a){this.destroy();var c=this.getControlTool();this.toolEl=c,a.appendChild(c),this.domContainer=a},d.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},d.prototype.addItem=function(p){this.controlItems.push(p)},d.prototype.removeItem=function(p){var a=this.controlItems.findIndex(function(c){return c.key===p});return a==-1?null:this.controlItems.splice(a,1)[0]},d.prototype.getControlTool=function(){var p=this,a="lf-control-item",c="lf-control-item disabled",o=document.createElement("div"),l=[];return o.className="lf-control",this.controlItems.forEach(function(f){var y=document.createElement("div"),g=document.createElement("i"),O=document.createElement("span");switch(y.className=c,f.onClick&&(y.onclick=f.onClick.bind(null,p.lf)),f.onMouseEnter&&(y.onmouseenter=f.onMouseEnter.bind(null,p.lf)),f.onMouseLeave&&(y.onmouseleave=f.onMouseLeave.bind(null,p.lf)),g.className=f.iconClass,O.className="lf-control-text",O.title=f.title,O.innerText=f.text,y.append(g,O),f.text){case"上一步":p.lf.on("history:change",function(x){var w=x.data.undoAble;y.className=w?a:c});break;case"下一步":p.lf.on("history:change",function(x){var w=x.data.redoAble;y.className=w?a:c});break;default:y.className=a;break}l.push(y)}),o.append.apply(o,WM(l)),o},d.pluginName="control",d}(),UM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},YM=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(UM(arguments[p]));return d},qi="lf:defaultNodeMenu",Zi="lf:defaultEdgeMenu",Ji="lf:defaultGraphMenu",gm="lf:defaultSelectionMenu",DT=function(){function d(p){var a=this,c=p.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(o){a.setMenuConfig(o)},this.lf.addMenuConfig=function(o){a.addMenuConfig(o)},this.lf.setMenuByType=function(o){a.setMenuByType(o)}}return d.prototype.init=function(){var p=this,a=[{text:"删除",callback:function(l){p.lf.deleteNode(l.id)}},{text:"编辑文本",callback:function(l){p.lf.graphModel.editText(l.id)}},{text:"复制",callback:function(l){p.lf.cloneNode(l.id)}}];this.menuTypeMap.set(qi,a);var c=[{text:"删除",callback:function(l){p.lf.deleteEdge(l.id)}},{text:"编辑文本",callback:function(l){p.lf.graphModel.editText(l.id)}}];this.menuTypeMap.set(Zi,c),this.menuTypeMap.set(Ji,[]);var o=[{text:"删除",callback:function(l){p.lf.clearSelectElements(),l.edges.forEach(function(f){return p.lf.deleteEdge(f.id)}),l.nodes.forEach(function(f){return p.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(gm,o)},d.prototype.render=function(p,a){var c=this;this.__container=a,this.__currentData=null,this.__menuDOM.className="lf-menu",a.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var l=o.target;Array.from(l.classList).indexOf("lf-menu-item")===-1&&Array.from(l.classList).indexOf("lf-menu")===-1;)l=l.parentElement;Array.from(l.classList).indexOf("lf-menu-item")>-1?(l.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var l=o.data,f=o.position,y=o.e,g=f.domOverlayPosition,O=g.x,x=g.y,w=l.id,j=c.lf.graphModel.getNodeModelById(w),P=[],T=c.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?P=j.menu:T?P=T:P=c.menuTypeMap.get(qi),c.__currentData=l,c.showMenu(O,x,P,{width:j.width,height:j.height,clientX:y.clientX,clientY:y.clientY})}),this.lf.on("edge:contextmenu",function(o){var l=o.data,f=o.position,y=o.e,g=f.domOverlayPosition,O=g.x,x=g.y,w=l.id,j=c.lf.graphModel.getEdgeModelById(w),P=[],T=c.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?P=j.menu:T?P=T:P=c.menuTypeMap.get(Zi),c.__currentData=l,c.showMenu(O,x,P,{width:j.width,height:j.height,clientX:y.clientX,clientY:y.clientY})}),this.lf.on("blank:contextmenu",function(o){var l=o.position,f=c.menuTypeMap.get(Ji),y=l.domOverlayPosition,g=y.x,O=y.y;c.showMenu(g,O,f)}),this.lf.on("selection:contextmenu",function(o){var l=o.data,f=o.position,y=c.menuTypeMap.get(gm),g=f.domOverlayPosition,O=g.x,x=g.y;c.__currentData=l,c.showMenu(O,x,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},d.prototype.destroy=function(){var p;(p=this===null||this===void 0?void 0:this.__container)===null||p===void 0||p.removeChild(this.__menuDOM),this.__menuDOM=null},d.prototype.showMenu=function(p,a,c,o){if(!(!c||!c.length)){var l=this.__menuDOM;if(l.innerHTML="",l.append.apply(l,YM(this.__getMenuDom(c))),!!l.children.length){if(l.style.display="block",!o){l.style.top=a+"px",l.style.left=p+"px";return}var f=o.width,y=o.height,g=o.clientX,O=o.clientY,x=this.lf.graphModel,w=l.offsetWidth,j=!0,P=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,T=P-g,M=x.rootEl.getBoundingClientRect(),k=M.left+M.width;k<P&&(T=k-g),T<w&&(j=!1),j?l.style.left=p+"px":l.style.left=p-f+"px";var R=l.offsetHeight,L=!0,Y=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,Q=Y-O,V=M.top+M.height;V<Y&&(Q=V-O),Q<R&&(L=!1),L?l.style.top=a+"px":l.style.top=a-y+"px"}}},d.prototype.setMenuByType=function(p){!p.type||!p.menu||this.menuTypeMap.set(p.type,p.menu)},d.prototype.__getMenuDom=function(p){var a=[];return p&&p.length>0&&p.forEach(function(c){var o=document.createElement("li");if(c.className?o.className="lf-menu-item "+c.className:o.className="lf-menu-item",c.icon===!0){var l=document.createElement("span");l.className="lf-menu-item-icon",o.appendChild(l)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),o.appendChild(f),o.onclickCallback=c.callback,a.push(o)}),a},d.prototype.setMenuConfig=function(p){p&&(p.nodeMenu!==void 0&&this.menuTypeMap.set(qi,p.nodeMenu?p.nodeMenu:[]),p.edgeMenu!==void 0&&this.menuTypeMap.set(Zi,p.edgeMenu?p.edgeMenu:[]),p.graphMenu!==void 0&&this.menuTypeMap.set(Ji,p.graphMenu?p.graphMenu:[]))},d.prototype.addMenuConfig=function(p){if(p){if(Array.isArray(p.nodeMenu)){var a=this.menuTypeMap.get(qi);this.menuTypeMap.set(qi,a.concat(p.nodeMenu))}if(Array.isArray(p.edgeMenu)){var a=this.menuTypeMap.get(Zi);this.menuTypeMap.set(Zi,a.concat(p.edgeMenu))}if(Array.isArray(p.graphMenu)){var a=this.menuTypeMap.get(Ji);this.menuTypeMap.set(Ji,a.concat(p.graphMenu))}}},d.prototype.changeMenuItem=function(p,a){if(p==="add")this.addMenuConfig(a);else if(p==="reset")this.setMenuConfig(a);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},d.pluginName="menu",d}(),VM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l},Jf="menu-common",mm=200,$M=100,CT=function(){function d(p){var a=this,c=p.lf;this.menuTypeMap=new Map,this.listenDelete=function(){a.hideContextMenu()},this.lf=c,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(Jf,[]),this.lf.setContextMenuByType=function(o,l){a.setContextMenuByType(o,l)},this.lf.setContextMenuItems=function(o){a.setContextMenuItems(o)},this.lf.showContextMenu=function(o){a.showContextMenu(o)},this.lf.hideContextMenu=function(){a.hideContextMenu()}}return d.prototype.render=function(p,a){var c=this;this.container=a,p.on("node:click",function(o){var l=o.data;c._activeData=l,c.createContextMenu()}),p.on("edge:click",function(o){var l=o.data;c._activeData=l,c.createContextMenu()}),p.on("blank:click",function(){c.hideContextMenu()})},d.prototype.setContextMenuByType=function(p,a){this.menuTypeMap.set(p,a)},d.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},d.prototype.showContextMenu=function(p){if(!p||!p.id){console.warn("请检查传入的参数");return}this._activeData=p,this.createContextMenu()},d.prototype.setContextMenuItems=function(p){this.menuTypeMap.set(Jf,p)},d.prototype.getContextMenuPosition=function(){var p=this._activeData,a=this.lf.graphModel.getElement(p.id);if(!a){console.warn("找不到元素"+p.id);return}var c,o;if(a.BaseType==="edge"){c=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;var l=a.getData();c=Math.max(l.startPoint.x,c),o=Math.min(l.startPoint.y,o),c=Math.max(l.endPoint.x,c),o=Math.min(l.endPoint.y,o),l.pointsList&&l.pointsList.forEach(function(f){c=Math.max(f.x,c),o=Math.min(f.y,o)})}return a.BaseType==="node"&&(c=p.x+a.width/2,o=p.y-a.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([c,o])},d.prototype.createContextMenu=function(){var p=this,a=this.lf.options.isSilentMode;if(!a){var c=this.menuTypeMap.get(this._activeData.type)||[];c=c.concat(this.menuTypeMap.get(Jf));var o=document.createDocumentFragment();c.forEach(function(l){var f=document.createElement("div");f.className="lf-context-item";var y=document.createElement("img");y.src=l.icon,y.className="lf-context-img",l.className&&(f.className=f.className+" "+l.className),y.addEventListener("click",function(){p.hideContextMenu(),l.callback?l.callback(p._activeData):p.addNode({sourceId:p._activeData.id,x:p._activeData.x,y:p._activeData.y,properties:l.properties,type:l.type})}),f.appendChild(y),o.appendChild(f)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(o),this.showMenu()}},d.prototype.addNode=function(p,a){var c=a!==void 0;a===void 0&&(a=p.y);var o=this.lf.getNodeModelById(p.sourceId),l=p.x-o.width+mm,f=a-p.y/2-20,y=p.x+o.width+mm,g=a+p.y/2+20,O=this.lf.getAreaElement([l,f],[y,g]);if(O.length){a=a+$M,this.addNode(p,a);return}var x=this.lf.addNode({type:p.type,x:p.x+200,y:a,properties:p.properties}),w,j;c&&(w={x:p.x,y:p.y+o.height/2},j={x:x.x-x.width/2,y:x.y}),this.lf.addEdge({sourceNodeId:p.sourceId,targetNodeId:x.id,startPoint:w,endPoint:j})},d.prototype.showMenu=function(){var p=VM(this.getContextMenuPosition(),2),a=p[0],c=p[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=c+"px",this.__menuDOM.style.left=a+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},d.pluginName="contextMenu",d}(),IT=function(){function d(p){var a=this,c=p.lf;this.lf=c,this.lf.setPatternItems=function(o){a.setPatternItems(o)}}return d.prototype.render=function(p,a){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=a;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){c.panelEl.appendChild(c.createDndItem(o))}),a.appendChild(this.panelEl),this.domContainer=a},d.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},d.prototype.setPatternItems=function(p){this.shapeList=p,this.domContainer&&this.render(this.lf,this.domContainer)},d.prototype.createDndItem=function(p){var a=this,c=document.createElement("div");c.className=p.className?"lf-dnd-item "+p.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",p.icon&&(o.style.backgroundImage="url("+p.icon+")"),c.appendChild(o),p.label){var l=document.createElement("div");l.innerText=p.label,l.className="lf-dnd-text",c.appendChild(l)}return c.onmousedown=function(){p.type&&a.lf.dnd.startDrag({type:p.type,properties:p.properties,text:p.text}),p.callback&&p.callback(a.lf,a.domContainer)},c.ondblclick=function(f){a.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:f,data:p})},c.onclick=function(f){a.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:f,data:p})},c.oncontextmenu=function(f){a.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:f,data:p})},c},d.pluginName="dndPanel",d}(),RT=function(){function d(p){var a=this,c=p.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(l){var f=a.lf.getPointByClient(l.clientX,l.clientY).domOverlayPosition,y=f.x,g=f.y;a.endPoint={x:y,y:g};var O=a.startPoint,x=O.x,w=O.y,j=a.wrapper.style,P=x,T=w,M=y-x,k=g-w;y<x&&(P=y,M=x-y),g<w&&(T=g,k=w-g),j.left=P+"px",j.top=T+"px",j.width=M+"px",j.height=k+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",a.__draw),document.removeEventListener("mouseup",a.__drawOff),a.wrapper.oncontextmenu=null,a.__domContainer.removeChild(a.wrapper);var l=a.startPoint,f=l.x,y=l.y,g=a.endPoint,O=g.x,x=g.y;if(!(Math.abs(O-f)<10&&Math.abs(x-y)<10)){var w=[Math.min(f,O),Math.min(y,x)],j=[Math.max(f,O),Math.max(y,x)],P=a.lf.graphModel.getAreaElement(w,j,a.isWholeEdge,a.isWholeNode,!0),T=a.lf.graphModel.group;P.forEach(function(M){(!T||!T.getNodeGroup(M.id))&&a.lf.selectElementById(M.id,!0)}),a.lf.emit("selection:selected",P)}},this.lf=c;var o=c.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,c.openSelectionSelect=function(){a.openSelectionSelect()},c.closeSelectionSelect=function(){a.closeSelectionSelect()}}return d.prototype.render=function(p,a){var c=this;this.__domContainer=a,p.on("blank:mousedown",function(o){var l=o.e,f=p.getEditConfig();if(!(!f.stopMoveGraph||c.__disabled)){var y=l.button===2;if(!y){var g=p.getPointByClient(l.clientX,l.clientY).domOverlayPosition,O=g.x,x=g.y;c.startPoint={x:O,y:x},c.endPoint={x:O,y:x};var w=document.createElement("div");w.className="lf-selection-select",w.oncontextmenu=function(P){P.preventDefault()},w.style.top=c.startPoint.y+"px",w.style.left=c.startPoint.x+"px",a.appendChild(w),c.wrapper=w,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}}})},d.prototype.setSelectionSense=function(p,a){p===void 0&&(p=!0),a===void 0&&(a=!0),this.isWholeEdge=p,this.isWholeNode=a},d.prototype.openSelectionSelect=function(){var p=this.lf.getEditConfig().stopMoveGraph;p||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},d.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},d.prototype.open=function(){this.__disabled=!1},d.prototype.close=function(){this.__disabled=!0},d.pluginName="selectionSelect",d}(),KM=globalThis&&globalThis.__values||function(d){var p=typeof Symbol=="function"&&Symbol.iterator,a=p&&d[p],c=0;if(a)return a.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&c>=d.length&&(d=void 0),{value:d&&d[c++],done:!d}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},LT=function(){function d(p){var a=this,c=p.lf,o=p.LogicFlow,l=p.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(f,y){a.setView(),a.isShow||a.createMiniMap(f,y),a.isShow=!0},this.hide=function(){a.isShow&&a.removeMiniMap(),a.isShow=!1},this.reset=function(){a.lf.resetTranslate(),a.lf.resetZoom(),a.hide(),a.show()},this.startDrag=function(f){document.addEventListener("mousemove",a.drag),document.addEventListener("mouseup",a.drop),a.startPosition={x:f.x,y:f.y}},this.moveViewport=function(f,y){var g=a.viewport.style;a.viewPortTop=f,a.viewPortLeft=y,g.top=a.viewPortTop+"px",g.left=a.viewPortLeft+"px"},this.drag=function(f){a.dragging=!0;var y=a.viewPortTop+f.y-a.startPosition.y,g=a.viewPortLeft+f.x-a.startPosition.x;a.moveViewport(y,g),a.startPosition={x:f.x,y:f.y};var O=(a.viewPortLeft+a.viewPortWidth/2)/a.viewPortScale,x=(a.viewPortTop+a.viewPortHeight/2)/a.viewPortScale;a.lf.focusOn({coordinate:{x:O+a.resetDataX,y:x+a.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",a.drag),document.removeEventListener("mouseup",a.drop);var f=a.viewPortTop,y=a.viewPortLeft;a.viewPortLeft>a.width&&(y=a.width-a.viewPortWidth),a.viewPortTop>a.height&&(f=a.height-a.viewPortHeight),a.viewPortLeft<-a.width&&(y=0),a.viewPortTop<-a.height&&(f=0),a.moveViewport(f,y)},this.mapClick=function(f){if(a.dragging)a.dragging=!1;else{var y=f.layerX,g=f.layerY,O=y,x=g,w=a.lf.getGraphRawData(),j=a.getBounds(w),P=j.left,T=j.top,M=P+O/a.viewPortScale,k=T+x/a.viewPortScale;a.lf.focusOn({coordinate:{x:M,y:k}})}},this.lf=c,l&&l.MiniMap&&this.setOption(l),this.miniMapWidth=c.graphModel.width,this.miniMapHeight=c.graphModel.width*this.height/this.width,this.LogicFlow=o,this.initMiniMap()}return d.prototype.render=function(p,a){var c=this;this.container=a,this.lf.on("history:change",function(){c.isShow&&c.setView()}),this.lf.on("graph:transform",Em(function(){c.isShow&&!c.dragging&&c.setView()},300))},d.prototype.init=function(p){this.disabledPlugins=this.disabledPlugins.concat(p.disabledPlugins||[])},d.prototype.setOption=function(p){var a=p.MiniMap,c=a.width,o=c===void 0?150:c,l=a.height,f=l===void 0?220:l,y=a.isShowHeader,g=y===void 0?!0:y,O=a.isShowCloseIcon,x=O===void 0?!0:O,w=a.leftPosition,j=w===void 0?0:w,P=a.topPosition,T=P===void 0?0:P,M=a.rightPosition,k=a.bottomPosition;this.width=o,this.height=f,this.isShowHeader=g,this.isShowCloseIcon=x,this.viewPortWidth=o,this.leftPosition=j,this.topPosition=T,this.rightPosition=M,this.bottomPosition=k},d.prototype.initMiniMap=function(){var p=document.createElement("div");p.className="lf-mini-map-graph",p.style.width=this.width+4+"px",p.style.height=this.height+"px",this.lfMap=new this.LogicFlow({container:p,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(a){return a},this.lfMap.adapterOut=function(a){return a},this.miniMapWrap=p,this.createViewPort(),p.addEventListener("click",this.mapClick)},d.prototype.createMiniMap=function(p,a){var c=document.createElement("div");c.appendChild(this.miniMapWrap),typeof p<"u"||typeof a<"u"?(c.style.left=(p||0)+"px",c.style.top=(a||0)+"px"):(typeof this.rightPosition<"u"?c.style.right=this.rightPosition+"px":typeof this.leftPosition<"u"&&(c.style.left=this.leftPosition+"px"),typeof this.bottomPosition<"u"?c.style.bottom=this.bottomPosition+"px":typeof this.topPosition<"u"&&(c.style.top=this.topPosition+"px")),c.style.position="absolute",c.className="lf-mini-map",this.isShowCloseIcon||c.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||c.classList.add("lf-mini-map-no-header"),this.container.appendChild(c),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=d.headerTitle,c.appendChild(o);var l=document.createElement("span");l.className="lf-mini-map-close",l.addEventListener("click",this.hide),c.appendChild(l),this.miniMapContainer=c},d.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},d.prototype.getBounds=function(p){var a=0,c=this.miniMapWidth,o=0,l=this.miniMapHeight,f=p.nodes;return f&&f.length>0&&f.forEach(function(y){var g=y.x,O=y.y,x=y.width,w=x===void 0?200:x,j=y.height,P=j===void 0?200:j,T=g-w/2,M=g+w/2,k=O-P/2,R=O+P/2;a=T<a?T:a,c=M>c?M:c,o=k<o?k:o,l=R>l?R:l}),{left:a,top:o,bottom:l,right:c}},d.prototype.resetData=function(p){var a=p.nodes,c=p.edges,o=0,l=0;return a&&a.length>0&&(a.forEach(function(f){var y=f.x,g=f.y,O=f.width,x=O===void 0?200:O,w=f.height,j=w===void 0?200:w,P=y-x/2,T=g-j/2;o=P<o?P:o,l=T<l?T:l}),(o<0||l<0)&&(this.resetDataX=o,this.resetDataY=l,a.forEach(function(f){f.x=f.x-o,f.y=f.y-l,f.text&&(f.text.x=f.text.x-o,f.text.y=f.text.y-l)}),c.forEach(function(f){f.startPoint&&(f.startPoint.x=f.startPoint.x-o,f.startPoint.y=f.startPoint.y-l),f.endPoint&&(f.endPoint.x=f.endPoint.x-o,f.endPoint.y=f.endPoint.y-l),f.text&&(f.text.x=f.text.x-o,f.text.y=f.text.y-l),f.pointsList&&f.pointsList.forEach(function(y){y.x=y.x-o,y.y=y.y-l})}))),p},d.prototype.setView=function(){var p,a,c=this.lf.getGraphRawData(),o=this.resetData(c),l=this.lf.viewMap,f=this.lf.graphModel.modelMap,y=this.lfMap.viewMap;try{for(var g=KM(l.keys()),O=g.next();!O.done;O=g.next()){var x=O.value;y.has(x)||(this.lfMap.setView(x,l.get(x)),this.lfMap.graphModel.modelMap.set(x,f.get(x)))}}catch(Q){p={error:Q}}finally{try{O&&!O.done&&(a=g.return)&&a.call(g)}finally{if(p)throw p.error}}this.lfMap.render(o);var w=this.getBounds(o),j=w.left,P=w.top,T=w.right,M=w.bottom,k=this.width/(T-j),R=this.height/(M-P),L=this.miniMapWrap.firstChild.style,Y=Math.min(k,R);L.transform="matrix("+Y+", 0, 0, "+Y+", 0, 0)",L.transformOrigin="left top",L.height=M-Math.min(P,0)+"px",L.width=T-Math.min(j,0)+"px",this.viewPortScale=Y,this.setViewPort(Y,{left:j,top:P,right:T,bottom:M})},d.prototype.setViewPort=function(p,a){var c=a.left,o=a.right;a.top,a.bottom;var l=this.viewport.style;l.width=this.viewPortWidth+"px",l.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var f=this.lf.getTransform(),y=f.TRANSLATE_X,g=f.TRANSLATE_Y,O=f.SCALE_X,x=f.SCALE_Y,w=o-c,j=this.width/(w/this.lf.graphModel.width),P=this.width*(j/this.width),T=this.lf.graphModel.width/this.lf.graphModel.height,M=P/T,k=this.lf.getGraphRawData(),R=this.getBounds(k),L=R.left,Y=R.top,Q=L,V=Y;Q+=y/O,V+=g/x,this.viewPortTop=V>0?0:-V*p,this.viewPortLeft=Q>0?0:-Q*p,this.viewPortWidth=P,this.viewPortHeight=M,l.top=this.viewPortTop+"px",l.left=this.viewPortLeft+"px",l.width=P/O+"px",l.height=M/x+"px"},d.prototype.createViewPort=function(){var p=document.createElement("div");p.className="lf-minimap-viewport",p.addEventListener("mousedown",this.startDrag),this.viewport=p},d.pluginName="miniMap",d.width=150,d.height=220,d.viewPortWidth=150,d.viewPortHeight=75,d.isShowHeader=!0,d.isShowCloseIcon=!0,d.leftPosition=0,d.topPosition=0,d.rightPosition=null,d.bottomPosition=null,d.headerTitle="导航",d}();function qM(d){if(d.length<=1)return!1;for(var p=0,a=d.length-1;p!==a&&p+1!==a&&a-1!==p;)p++,a--;return p===a?[--p,a]:[p,a]}var tb=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),ri=globalThis&&globalThis.__assign||function(){return ri=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},ri.apply(this,arguments)},Br=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l};(function(d){tb(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.pointFilter=function(a){for(var c=a,o=1;o<c.length-1;){var l=Br(c[o-1],2),f=l[0],y=l[1],g=Br(c[o],2),O=g[0],x=g[1],w=Br(c[o+1],2),j=w[0],P=w[1];f===O&&O===j||y===x&&x===P?c.splice(o,1):o++}return c},p.prototype.getEdge=function(){var a=this.props.model,c=a.points,o=a.isAnimation,l=a.arrowConfig,f=a.radius,y=f===void 0?5:f,g=a.getEdgeStyle(),O=a.getEdgeAnimationStyle(),x=this.pointFilter(c.split(" ").map(function(Me){return Me.split(",").map(function(De){return Number(De)})})),w=qM(x);if(w){var j=Br(w,2),P=j[0],T=j[1],M=x[P],k=x[T],R=M.some(function(Me,De){return Me===k[De]});if(!R){var L=(k[1]-M[1])/2,Y=[k[0],k[1]-L],Q=[M[0],M[1]+L];x.splice(P+1,0,Q,Y)}}for(var V=Br(x[0],2),q=V[0],Z=V[1],F="M"+q+" "+Z,I=1;I<x.length-1;I++){var z=Br(x[I-1],2),G=z[0],X=z[1],re=Br(x[I],2),de=re[0],le=re[1],ve=Br(x[I+1],2),Se=ve[0],ge=ve[1];if(de===G&&le!==X){var ue=le>X?le-y:le+y;F=F+" L "+de+" "+ue}if(le===X&&de!==G){var ye=de>G?de-y:de+y;F=F+" L "+ye+" "+le}if(F=F+" Q "+de+" "+le,de===Se&&le!==ge){var ue=le>ge?le-y:le+y;F=F+" "+de+" "+ue}if(le===ge&&de!==Se){var ye=de>Se?de-y:de+y;F=F+" "+ye+" "+le}}var be=Br(x[x.length-1],2),je=be[0],Be=be[1];F=F+" L "+je+" "+Be;var qe=ri(ri(ri({d:F,style:o?O:{}},g),l),{fill:"none"});return Ee.h("path",ri({d:F},qe))},p})(Ee.PolylineEdge);(function(d){tb(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p})(Ee.PolylineEdgeModel);var ZM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var bm=globalThis&&globalThis.__assign||function(){return bm=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},bm.apply(this,arguments)},_m=globalThis&&globalThis.__assign||function(){return _m=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},_m.apply(this,arguments)},JM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,l=[],f;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;const BT={display:!0,disabled:!1,detail:!1,readonly:!1,required:!1,validate:!1};export{CT as C,IT as D,bT as E,MT as G,kT as I,DT as M,Vm as R,TT as S,PT as T,_T as a,jT as b,ET as c,BT as d,OT as e,xT as f,Oo as g,NT as h,RT as i,LT as j,Ee as l,ST as m,wT as p,wM as s,AT as u};
