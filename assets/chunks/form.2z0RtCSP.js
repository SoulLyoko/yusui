import{c as Ux,b as Yx,e as Vx,f as $x,d as Kx,g as qx,h as Zx,j as Jx,k as Qx,l as eE,m as tE,n as nE,o as sb,p as rE,q as oE,r as iE,s as aE,t as uE,v as sE,w as cE,x as lE,y as fE,z as pE,A as dE,B as hE,C as yE,D as vE,E as gE,F as mE,G as bE,H as _E,I as OE,J as wE,K as xE,L as EE,M as SE,N as jE,O as PE,P as ME,Q as AE,R as kE,S as TE,T as NE,U as DE,V as CE,W as IE,a as RE,X as LE,Y as zE,Z as BE,_ as FE,$ as WE,a0 as GE,a1 as XE,a2 as HE,a3 as UE,a4 as YE,a5 as VE,a6 as $E,a7 as cb,a8 as lb,a9 as KE,aa as qE,ab as ZE,ac as JE,ad as QE,ae as eS,af as tS,ag as nS,ah as rS,ai as oS,aj as iS,ak as aS,al as uS,am as sS,an as cS,ao as lS,ap as fS,aq as pS,ar as dS,as as hS,at as yS,au as vS,av as gS,aw as mS,ax as bS,ay as _S,az as OS,aA as wS,aB as xS,aC as ES,aD as SS,aE as jS,aF as PS,aG as MS,aH as AS,aI as kS,aJ as TS,aK as NS,aL as DS,aM as CS,aN as IS,aO as RS,aP as LS,aQ as zS,aR as BS,aS as FS,aT as WS,aU as GS,aV as XS,aW as HS,aX as US,aY as YS,aZ as VS,a_ as $S,a$ as KS,b0 as qS,b1 as ZS,b2 as JS,b3 as QS,b4 as ej,b5 as tj,i as nj,b6 as rj,b7 as oj,b8 as ij,b9 as aj,ba as uj,bb as sj,bc as cj,bd as lj,be as fj,bf as pj,bg as dj,bh as hj,bi as yj,bj as vj,bk as gj,bl as mj,bm as bj,bn as _j,bo as Oj,bp as wj,bq as xj,br as Ej,bs as Sj,bt as jj,bu as Pj,bv as Mj,bw as fb,bx as pb,by as Aj,bz as kj,bA as Tj,bB as Nj,bC as Dj,bD as db,bE as hb,bF as Cj,bG as Ij,bH as Rj,bI as Lj,bJ as zj,bK as Bj,bL as Fj,bM as Wj,bN as Gj,bO as Xj,bP as Hj,bQ as Uj,bR as Yj,bS as Vj,bT as $j,bU as Kj,bV as qj,bW as Zj,bX as Jj,bY as Qj,bZ as eP,b_ as tP,b$ as nP,c0 as rP,c1 as oP,c2 as iP,c3 as W,c4 as aP,c5 as uP,c6 as sP,c7 as cP,c8 as vg,c9 as lP,ca as tg,cb as fP,cc as pP,cd as dP,ce as hP,cf as yP,cg as vP,ch as gP,ci as mP,cj as bP,ck as _P,cl as OP,cm as wP,cn as xP,co as EP,cp as SP,cq as jP,cr as PP,cs as MP,ct as AP,cu as kP,cv as TP,cw as NP,cx as DP,cy as CP,cz as IP,cA as RP,cB as LP,cC as zP,cD as BP,cE as FP,cF as WP,cG as GP,cH as XP,cI as HP,cJ as UP,cK as YP,cL as VP,cM as $P,cN as KP,cO as qP,cP as u_,cQ as ZP,cR as JP,cS as QP,cT as e2,cU as t2,cV as n2,cW as r2,cX as o2,cY as i2,cZ as a2,c_ as u2,u as s2,c$ as Ln,d0 as c2,d1 as l2,d2 as Ld,d3 as f2,d4 as p2,d5 as d2}from"./zipWith.cDKToSoU.js";import{q as h2,e as y2,j as Mc,l as v2,c as gg,i as g2,f as m2,k as b2,S as yb}from"./baseGet.aXQPWsrt.js";import{c as Ef,i as _2,a as O2,d as Tc}from"./cloneDeep.r1x5-OIa.js";import{i as w2,b as x2,a as E2}from"./arrayPush.9gUpYHDz.js";import{l as s_,o as S2,a as mg}from"./omit.pAQ7TWyz.js";import{p as j2,e as P2,a as c_}from"./pickBy.firGk55j.js";import{c as M2,i as A2,t as k2,m as T2,b as N2}from"./merge.etFcUWJt.js";import{d as D2,h as C2,e as I2,i as bg}from"./basePickBy.r2fGlmFx.js";import{k as _g,s as R2}from"./getTag.9nUBxPXw.js";import{a as ng}from"./initCloneObject.MjDVq9Sj.js";import{n as Og,o as L2}from"./omitBy.5Vl3Jw6n.js";import{f as z2,a as B2,u as F2,b as W2,m as G2,n as X2,d as H2,t as l_,c as U2,e as Y2,i as V2,g as $2,h as Tf,j as K2,k as q2}from"./union.yiA3EQr_.js";import{g as Z2}from"./get.ibBWnMyK.js";import{a as J2,c as Q2,d as eM,k as tM,s as nM}from"./Uint8Array.fNwniHUy.js";import{p as rM}from"./pick.hwSZBMEn.js";import{s as oM}from"./set.trCNu2cT.js";import{o as iM,s as aM,a as uM}from"./snakeCase.a9RyInPp.js";import{i as sM}from"./isEqual.GBRS_oe3.js";import{i as cM}from"./isNil.-q_uwI5T.js";import{f as lM}from"./fromPairs.E3iD47Fd.js";import{d as fM,w as pM}from"./createCompounder.UcKAPtLe.js";import{k as dM}from"./kebabCase.e_ZWS89_.js";const ht={chunk:Ux,compact:Yx,concat:Vx,difference:$x,differenceBy:Kx,differenceWith:qx,drop:Zx,dropRight:Jx,dropRightWhile:Qx,dropWhile:eE,fill:tE,findIndex:nE,findLastIndex:z2,first:sb,flatten:D2,flattenDeep:B2,flattenDepth:rE,fromPairs:lM,head:sb,indexOf:oE,initial:iE,intersection:aE,intersectionBy:uE,intersectionWith:sE,join:cE,last:s_,lastIndexOf:lE,nth:fE,pull:pE,pullAll:dE,pullAllBy:hE,pullAllWith:yE,pullAt:vE,remove:gE,reverse:mE,slice:bE,sortedIndex:_E,sortedIndexBy:OE,sortedIndexOf:wE,sortedLastIndex:xE,sortedLastIndexBy:EE,sortedLastIndexOf:SE,sortedUniq:jE,sortedUniqBy:PE,tail:ME,take:AE,takeRight:kE,takeRightWhile:TE,takeWhile:NE,union:F2,unionBy:DE,unionWith:CE,uniq:IE,uniqBy:RE,uniqWith:LE,unzip:zE,unzipWith:BE,without:FE,xor:WE,xorBy:GE,xorWith:XE,zip:HE,zipObject:UE,zipObjectDeep:YE,zipWith:VE},jn={countBy:$E,each:cb,eachRight:lb,every:KE,filter:qE,find:ZE,findLast:JE,flatMap:W2,flatMapDeep:QE,flatMapDepth:eS,forEach:cb,forEachRight:lb,groupBy:tS,includes:nS,invokeMap:rS,keyBy:oS,map:G2,orderBy:iM,partition:iS,reduce:aS,reduceRight:uS,reject:sS,sample:cS,sampleSize:lS,shuffle:fS,size:pS,some:dS,sortBy:hS},hM={now:X2},ir={after:yS,ary:vS,before:gS,bind:mS,bindKey:bS,curry:_S,curryRight:OS,debounce:H2,defer:wS,delay:xS,flip:ES,memoize:h2,negate:Og,once:SS,overArgs:jS,partial:PS,partialRight:MS,rearg:AS,rest:kS,spread:TS,throttle:l_,unary:NS,wrap:DS},kt={castArray:U2,clone:Y2,cloneDeep:Ef,cloneDeepWith:CS,cloneWith:IS,conformsTo:RS,eq:y2,gt:LS,gte:zS,isArguments:w2,isArray:Mc,isArrayBuffer:BS,isArrayLike:J2,isArrayLikeObject:M2,isBoolean:FS,isBuffer:Q2,isDate:WS,isElement:GS,isEmpty:XS,isEqual:sM,isEqualWith:HS,isError:US,isFinite:YS,isFunction:v2,isInteger:VS,isLength:x2,isMap:_2,isMatch:$S,isMatchWith:KS,isNaN:qS,isNative:ZS,isNil:cM,isNull:JS,isNumber:QS,isObject:gg,isObjectLike:g2,isPlainObject:A2,isRegExp:ej,isSafeInteger:tj,isSet:O2,isString:nj,isSymbol:m2,isTypedArray:eM,isUndefined:V2,isWeakMap:rj,isWeakSet:oj,lt:ij,lte:aj,toArray:uj,toFinite:$2,toInteger:Tf,toLength:sj,toNumber:K2,toPlainObject:k2,toSafeInteger:cj,toString:b2},no={add:lj,ceil:fj,divide:pj,floor:dj,max:hj,maxBy:yj,mean:vj,meanBy:gj,min:mj,minBy:bj,multiply:_j,round:Oj,subtract:wj,sum:xj,sumBy:Ej},wg={clamp:Sj,inRange:jj,random:Pj},Ht={assign:Mj,assignIn:fb,assignInWith:pb,assignWith:Aj,at:kj,create:Tj,defaults:Nj,defaultsDeep:Dj,entries:db,entriesIn:hb,extend:fb,extendWith:pb,findKey:Cj,findLastKey:Ij,forIn:Rj,forInRight:Lj,forOwn:zj,forOwnRight:Bj,functions:Fj,functionsIn:Wj,get:Z2,has:Gj,hasIn:C2,invert:Xj,invertBy:Hj,invoke:Uj,keys:_g,keysIn:tM,mapKeys:Yj,mapValues:Vj,merge:T2,mergeWith:$j,omit:S2,omitBy:L2,pick:rM,pickBy:j2,result:Kj,set:oM,setWith:qj,toPairs:db,toPairsIn:hb,transform:Zj,unset:Jj,update:Qj,updateWith:eP,values:tP,valuesIn:nP},Fi={at:rP,chain:oP,commit:iP,lodash:W,next:aP,plant:uP,reverse:sP,tap:cP,thru:vg,toIterator:lP,toJSON:tg,value:tg,valueOf:tg,wrapperChain:fP},bn={camelCase:pP,capitalize:dP,deburr:fM,endsWith:hP,escape:yP,escapeRegExp:vP,kebabCase:dM,lowerCase:gP,lowerFirst:mP,pad:bP,padEnd:_P,padStart:OP,parseInt:wP,repeat:xP,replace:EP,snakeCase:aM,split:SP,startCase:jP,startsWith:PP,template:MP,templateSettings:AP,toLower:kP,toUpper:TP,trim:NP,trimEnd:DP,trimStart:CP,truncate:IP,unescape:RP,upperCase:LP,upperFirst:zP,words:pM},_n={attempt:BP,bindAll:FP,cond:WP,conforms:GP,constant:I2,defaultTo:XP,flow:HP,flowRight:UP,identity:bg,iteratee:YP,matches:VP,matchesProperty:$P,method:KP,methodOf:qP,mixin:u_,noop:q2,nthArg:ZP,over:JP,overEvery:QP,overSome:uM,property:P2,propertyOf:e2,range:t2,rangeRight:n2,stubArray:R2,stubFalse:nM,stubObject:r2,stubString:o2,stubTrue:i2,times:a2,toPath:u2,uniqueId:s2};function yM(){var y=new Ln(this.__wrapped__);return y.__actions__=ng(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=ng(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=ng(this.__views__),y}function vM(){if(this.__filtered__){var y=new Ln(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}var gM=Math.max,mM=Math.min;function bM(y,h,u){for(var l=-1,o=u.length;++l<o;){var f=u[l],p=f.size;switch(f.type){case"drop":y+=p;break;case"dropRight":h-=p;break;case"take":h=mM(h,y+p);break;case"takeRight":y=gM(y,h-p);break}}return{start:y,end:h}}var _M=1,OM=2,wM=Math.min;function xM(){var y=this.__wrapped__.value(),h=this.__dir__,u=Mc(y),l=h<0,o=u?y.length:0,f=bM(0,o,this.__views__),p=f.start,m=f.end,g=m-p,x=l?m:p-1,j=this.__iteratees__,S=j.length,T=0,k=wM(g,this.__takeCount__);if(!u||!l&&o==g&&k==g)return c2(y,this.__actions__);var I=[];e:for(;g--&&T<k;){x+=h;for(var D=-1,R=y[x];++D<S;){var G=j[D],H=G.iteratee,ee=G.type,ue=H(R);if(ee==OM)R=ue;else if(!ue){if(ee==_M)continue e;break e}}I[T++]=R}return I}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var EM="4.17.21",SM=2,jM=1,PM=3,f_=4294967295,MM=Array.prototype,AM=Object.prototype,p_=AM.hasOwnProperty,vb=yb?yb.iterator:void 0,kM=Math.max,gb=Math.min,xg=function(y){return function(h,u,l){if(l==null){var o=gg(u),f=o&&_g(u),p=f&&f.length&&p2(u,f);(p?p.length:o)||(l=u,u=h,h=this)}return y(h,u,l)}}(u_);W.after=ir.after;W.ary=ir.ary;W.assign=Ht.assign;W.assignIn=Ht.assignIn;W.assignInWith=Ht.assignInWith;W.assignWith=Ht.assignWith;W.at=Ht.at;W.before=ir.before;W.bind=ir.bind;W.bindAll=_n.bindAll;W.bindKey=ir.bindKey;W.castArray=kt.castArray;W.chain=Fi.chain;W.chunk=ht.chunk;W.compact=ht.compact;W.concat=ht.concat;W.cond=_n.cond;W.conforms=_n.conforms;W.constant=_n.constant;W.countBy=jn.countBy;W.create=Ht.create;W.curry=ir.curry;W.curryRight=ir.curryRight;W.debounce=ir.debounce;W.defaults=Ht.defaults;W.defaultsDeep=Ht.defaultsDeep;W.defer=ir.defer;W.delay=ir.delay;W.difference=ht.difference;W.differenceBy=ht.differenceBy;W.differenceWith=ht.differenceWith;W.drop=ht.drop;W.dropRight=ht.dropRight;W.dropRightWhile=ht.dropRightWhile;W.dropWhile=ht.dropWhile;W.fill=ht.fill;W.filter=jn.filter;W.flatMap=jn.flatMap;W.flatMapDeep=jn.flatMapDeep;W.flatMapDepth=jn.flatMapDepth;W.flatten=ht.flatten;W.flattenDeep=ht.flattenDeep;W.flattenDepth=ht.flattenDepth;W.flip=ir.flip;W.flow=_n.flow;W.flowRight=_n.flowRight;W.fromPairs=ht.fromPairs;W.functions=Ht.functions;W.functionsIn=Ht.functionsIn;W.groupBy=jn.groupBy;W.initial=ht.initial;W.intersection=ht.intersection;W.intersectionBy=ht.intersectionBy;W.intersectionWith=ht.intersectionWith;W.invert=Ht.invert;W.invertBy=Ht.invertBy;W.invokeMap=jn.invokeMap;W.iteratee=_n.iteratee;W.keyBy=jn.keyBy;W.keys=_g;W.keysIn=Ht.keysIn;W.map=jn.map;W.mapKeys=Ht.mapKeys;W.mapValues=Ht.mapValues;W.matches=_n.matches;W.matchesProperty=_n.matchesProperty;W.memoize=ir.memoize;W.merge=Ht.merge;W.mergeWith=Ht.mergeWith;W.method=_n.method;W.methodOf=_n.methodOf;W.mixin=xg;W.negate=Og;W.nthArg=_n.nthArg;W.omit=Ht.omit;W.omitBy=Ht.omitBy;W.once=ir.once;W.orderBy=jn.orderBy;W.over=_n.over;W.overArgs=ir.overArgs;W.overEvery=_n.overEvery;W.overSome=_n.overSome;W.partial=ir.partial;W.partialRight=ir.partialRight;W.partition=jn.partition;W.pick=Ht.pick;W.pickBy=Ht.pickBy;W.property=_n.property;W.propertyOf=_n.propertyOf;W.pull=ht.pull;W.pullAll=ht.pullAll;W.pullAllBy=ht.pullAllBy;W.pullAllWith=ht.pullAllWith;W.pullAt=ht.pullAt;W.range=_n.range;W.rangeRight=_n.rangeRight;W.rearg=ir.rearg;W.reject=jn.reject;W.remove=ht.remove;W.rest=ir.rest;W.reverse=ht.reverse;W.sampleSize=jn.sampleSize;W.set=Ht.set;W.setWith=Ht.setWith;W.shuffle=jn.shuffle;W.slice=ht.slice;W.sortBy=jn.sortBy;W.sortedUniq=ht.sortedUniq;W.sortedUniqBy=ht.sortedUniqBy;W.split=bn.split;W.spread=ir.spread;W.tail=ht.tail;W.take=ht.take;W.takeRight=ht.takeRight;W.takeRightWhile=ht.takeRightWhile;W.takeWhile=ht.takeWhile;W.tap=Fi.tap;W.throttle=ir.throttle;W.thru=vg;W.toArray=kt.toArray;W.toPairs=Ht.toPairs;W.toPairsIn=Ht.toPairsIn;W.toPath=_n.toPath;W.toPlainObject=kt.toPlainObject;W.transform=Ht.transform;W.unary=ir.unary;W.union=ht.union;W.unionBy=ht.unionBy;W.unionWith=ht.unionWith;W.uniq=ht.uniq;W.uniqBy=ht.uniqBy;W.uniqWith=ht.uniqWith;W.unset=Ht.unset;W.unzip=ht.unzip;W.unzipWith=ht.unzipWith;W.update=Ht.update;W.updateWith=Ht.updateWith;W.values=Ht.values;W.valuesIn=Ht.valuesIn;W.without=ht.without;W.words=bn.words;W.wrap=ir.wrap;W.xor=ht.xor;W.xorBy=ht.xorBy;W.xorWith=ht.xorWith;W.zip=ht.zip;W.zipObject=ht.zipObject;W.zipObjectDeep=ht.zipObjectDeep;W.zipWith=ht.zipWith;W.entries=Ht.toPairs;W.entriesIn=Ht.toPairsIn;W.extend=Ht.assignIn;W.extendWith=Ht.assignInWith;xg(W,W);W.add=no.add;W.attempt=_n.attempt;W.camelCase=bn.camelCase;W.capitalize=bn.capitalize;W.ceil=no.ceil;W.clamp=wg.clamp;W.clone=kt.clone;W.cloneDeep=kt.cloneDeep;W.cloneDeepWith=kt.cloneDeepWith;W.cloneWith=kt.cloneWith;W.conformsTo=kt.conformsTo;W.deburr=bn.deburr;W.defaultTo=_n.defaultTo;W.divide=no.divide;W.endsWith=bn.endsWith;W.eq=kt.eq;W.escape=bn.escape;W.escapeRegExp=bn.escapeRegExp;W.every=jn.every;W.find=jn.find;W.findIndex=ht.findIndex;W.findKey=Ht.findKey;W.findLast=jn.findLast;W.findLastIndex=ht.findLastIndex;W.findLastKey=Ht.findLastKey;W.floor=no.floor;W.forEach=jn.forEach;W.forEachRight=jn.forEachRight;W.forIn=Ht.forIn;W.forInRight=Ht.forInRight;W.forOwn=Ht.forOwn;W.forOwnRight=Ht.forOwnRight;W.get=Ht.get;W.gt=kt.gt;W.gte=kt.gte;W.has=Ht.has;W.hasIn=Ht.hasIn;W.head=ht.head;W.identity=bg;W.includes=jn.includes;W.indexOf=ht.indexOf;W.inRange=wg.inRange;W.invoke=Ht.invoke;W.isArguments=kt.isArguments;W.isArray=Mc;W.isArrayBuffer=kt.isArrayBuffer;W.isArrayLike=kt.isArrayLike;W.isArrayLikeObject=kt.isArrayLikeObject;W.isBoolean=kt.isBoolean;W.isBuffer=kt.isBuffer;W.isDate=kt.isDate;W.isElement=kt.isElement;W.isEmpty=kt.isEmpty;W.isEqual=kt.isEqual;W.isEqualWith=kt.isEqualWith;W.isError=kt.isError;W.isFinite=kt.isFinite;W.isFunction=kt.isFunction;W.isInteger=kt.isInteger;W.isLength=kt.isLength;W.isMap=kt.isMap;W.isMatch=kt.isMatch;W.isMatchWith=kt.isMatchWith;W.isNaN=kt.isNaN;W.isNative=kt.isNative;W.isNil=kt.isNil;W.isNull=kt.isNull;W.isNumber=kt.isNumber;W.isObject=gg;W.isObjectLike=kt.isObjectLike;W.isPlainObject=kt.isPlainObject;W.isRegExp=kt.isRegExp;W.isSafeInteger=kt.isSafeInteger;W.isSet=kt.isSet;W.isString=kt.isString;W.isSymbol=kt.isSymbol;W.isTypedArray=kt.isTypedArray;W.isUndefined=kt.isUndefined;W.isWeakMap=kt.isWeakMap;W.isWeakSet=kt.isWeakSet;W.join=ht.join;W.kebabCase=bn.kebabCase;W.last=s_;W.lastIndexOf=ht.lastIndexOf;W.lowerCase=bn.lowerCase;W.lowerFirst=bn.lowerFirst;W.lt=kt.lt;W.lte=kt.lte;W.max=no.max;W.maxBy=no.maxBy;W.mean=no.mean;W.meanBy=no.meanBy;W.min=no.min;W.minBy=no.minBy;W.stubArray=_n.stubArray;W.stubFalse=_n.stubFalse;W.stubObject=_n.stubObject;W.stubString=_n.stubString;W.stubTrue=_n.stubTrue;W.multiply=no.multiply;W.nth=ht.nth;W.noop=_n.noop;W.now=hM.now;W.pad=bn.pad;W.padEnd=bn.padEnd;W.padStart=bn.padStart;W.parseInt=bn.parseInt;W.random=wg.random;W.reduce=jn.reduce;W.reduceRight=jn.reduceRight;W.repeat=bn.repeat;W.replace=bn.replace;W.result=Ht.result;W.round=no.round;W.sample=jn.sample;W.size=jn.size;W.snakeCase=bn.snakeCase;W.some=jn.some;W.sortedIndex=ht.sortedIndex;W.sortedIndexBy=ht.sortedIndexBy;W.sortedIndexOf=ht.sortedIndexOf;W.sortedLastIndex=ht.sortedLastIndex;W.sortedLastIndexBy=ht.sortedLastIndexBy;W.sortedLastIndexOf=ht.sortedLastIndexOf;W.startCase=bn.startCase;W.startsWith=bn.startsWith;W.subtract=no.subtract;W.sum=no.sum;W.sumBy=no.sumBy;W.template=bn.template;W.times=_n.times;W.toFinite=kt.toFinite;W.toInteger=Tf;W.toLength=kt.toLength;W.toLower=bn.toLower;W.toNumber=kt.toNumber;W.toSafeInteger=kt.toSafeInteger;W.toString=kt.toString;W.toUpper=bn.toUpper;W.trim=bn.trim;W.trimEnd=bn.trimEnd;W.trimStart=bn.trimStart;W.truncate=bn.truncate;W.unescape=bn.unescape;W.uniqueId=_n.uniqueId;W.upperCase=bn.upperCase;W.upperFirst=bn.upperFirst;W.each=jn.forEach;W.eachRight=jn.forEachRight;W.first=ht.head;xg(W,function(){var y={};return mg(W,function(h,u){p_.call(W.prototype,u)||(y[u]=h)}),y}(),{chain:!1});W.VERSION=EM;(W.templateSettings=bn.templateSettings).imports._=W;Tc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){W[y].placeholder=W});Tc(["drop","take"],function(y,h){Ln.prototype[y]=function(u){u=u===void 0?1:kM(Tf(u),0);var l=this.__filtered__&&!h?new Ln(this):this.clone();return l.__filtered__?l.__takeCount__=gb(u,l.__takeCount__):l.__views__.push({size:gb(u,f_),type:y+(l.__dir__<0?"Right":"")}),l},Ln.prototype[y+"Right"]=function(u){return this.reverse()[y](u).reverse()}});Tc(["filter","map","takeWhile"],function(y,h){var u=h+1,l=u==jM||u==PM;Ln.prototype[y]=function(o){var f=this.clone();return f.__iteratees__.push({iteratee:c_(o),type:u}),f.__filtered__=f.__filtered__||l,f}});Tc(["head","last"],function(y,h){var u="take"+(h?"Right":"");Ln.prototype[y]=function(){return this[u](1).value()[0]}});Tc(["initial","tail"],function(y,h){var u="drop"+(h?"":"Right");Ln.prototype[y]=function(){return this.__filtered__?new Ln(this):this[u](1)}});Ln.prototype.compact=function(){return this.filter(bg)};Ln.prototype.find=function(y){return this.filter(y).head()};Ln.prototype.findLast=function(y){return this.reverse().find(y)};Ln.prototype.invokeMap=N2(function(y,h){return typeof y=="function"?new Ln(this):this.map(function(u){return l2(u,y,h)})});Ln.prototype.reject=function(y){return this.filter(Og(c_(y)))};Ln.prototype.slice=function(y,h){y=Tf(y);var u=this;return u.__filtered__&&(y>0||h<0)?new Ln(u):(y<0?u=u.takeRight(-y):y&&(u=u.drop(y)),h!==void 0&&(h=Tf(h),u=h<0?u.dropRight(-h):u.take(h-y)),u)};Ln.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()};Ln.prototype.toArray=function(){return this.take(f_)};mg(Ln.prototype,function(y,h){var u=/^(?:filter|find|map|reject)|While$/.test(h),l=/^(?:head|last)$/.test(h),o=W[l?"take"+(h=="last"?"Right":""):h],f=l||/^find/.test(h);o&&(W.prototype[h]=function(){var p=this.__wrapped__,m=l?[1]:arguments,g=p instanceof Ln,x=m[0],j=g||Mc(p),S=function(G){var H=o.apply(W,E2([G],m));return l&&T?H[0]:H};j&&u&&typeof x=="function"&&x.length!=1&&(g=j=!1);var T=this.__chain__,k=!!this.__actions__.length,I=f&&!T,D=g&&!k;if(!f&&j){p=D?p:new Ln(this);var R=y.apply(p,m);return R.__actions__.push({func:vg,args:[S],thisArg:void 0}),new d2(R,T)}return I&&D?y.apply(this,m):(R=this.thru(S),I?l?R.value()[0]:R.value():R)})});Tc(["pop","push","shift","sort","splice","unshift"],function(y){var h=MM[y],u=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",l=/^(?:pop|shift)$/.test(y);W.prototype[y]=function(){var o=arguments;if(l&&!this.__chain__){var f=this.value();return h.apply(Mc(f)?f:[],o)}return this[u](function(p){return h.apply(Mc(p)?p:[],o)})}});mg(Ln.prototype,function(y,h){var u=W[h];if(u){var l=u.name+"";p_.call(Ld,l)||(Ld[l]=[]),Ld[l].push({name:h,func:u})}});Ld[f2(void 0,SM).name]=[{name:"wrapper",func:void 0}];Ln.prototype.clone=yM;Ln.prototype.reverse=vM;Ln.prototype.value=xM;W.prototype.at=Fi.at;W.prototype.chain=Fi.wrapperChain;W.prototype.commit=Fi.commit;W.prototype.next=Fi.next;W.prototype.plant=Fi.plant;W.prototype.reverse=Fi.reverse;W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Fi.value;W.prototype.first=W.prototype.head;vb&&(W.prototype[vb]=Fi.toIterator);var ag={exports:{}};(function(y,h){(function(u,l){y.exports=l()})(window,function(){return function(u){var l={};function o(f){if(l[f])return l[f].exports;var p=l[f]={i:f,l:!1,exports:{}};return u[f].call(p.exports,p,p.exports,o),p.l=!0,p.exports}return o.m=u,o.c=l,o.d=function(f,p,m){o.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:m})},o.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},o.t=function(f,p){if(1&p&&(f=o(f)),8&p||4&p&&typeof f=="object"&&f&&f.__esModule)return f;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:f}),2&p&&typeof f!="string")for(var g in f)o.d(m,g,(function(x){return f[x]}).bind(null,g));return m},o.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return o.d(p,"a",p),p},o.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},o.p="",o(o.s=221)}([function(u,l,o){o.d(l,"a",function(){return ie}),o.d(l,"b",function(){return ue}),o.d(l,"c",function(){return Ze}),o.d(l,"d",function(){return bt}),o.d(l,"e",function(){return G}),o.d(l,"f",function(){return ee}),o.d(l,"g",function(){return G}),o.d(l,"h",function(){return Ve}),o.d(l,"i",function(){return p}),o.d(l,"j",function(){return wt}),o.d(l,"k",function(){return q});var f,p,m,g,x,j,S,T={},k=[],I=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function D(fe,se){for(var ye in se)fe[ye]=se[ye];return fe}function R(fe){var se=fe.parentNode;se&&se.removeChild(fe)}function G(fe,se,ye){var Ne,He,Le,xt={};for(Le in se)Le=="key"?Ne=se[Le]:Le=="ref"?He=se[Le]:xt[Le]=se[Le];if(arguments.length>2&&(xt.children=arguments.length>3?f.call(arguments,2):ye),typeof fe=="function"&&fe.defaultProps!=null)for(Le in fe.defaultProps)xt[Le]===void 0&&(xt[Le]=fe.defaultProps[Le]);return H(fe,xt,Ne,He,null)}function H(fe,se,ye,Ne,He){var Le={type:fe,props:se,key:ye,ref:Ne,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:He??++m};return He==null&&p.vnode!=null&&p.vnode(Le),Le}function ee(){return{current:null}}function ue(fe){return fe.children}function ie(fe,se){this.props=fe,this.context=se}function te(fe,se){if(se==null)return fe.__?te(fe.__,fe.__.__k.indexOf(fe)+1):null;for(var ye;se<fe.__k.length;se++)if((ye=fe.__k[se])!=null&&ye.__e!=null)return ye.__e;return typeof fe.type=="function"?te(fe):null}function ne(fe){var se,ye;if((fe=fe.__)!=null&&fe.__c!=null){for(fe.__e=fe.__c.base=null,se=0;se<fe.__k.length;se++)if((ye=fe.__k[se])!=null&&ye.__e!=null){fe.__e=fe.__c.base=ye.__e;break}return ne(fe)}}function $(fe){(!fe.__d&&(fe.__d=!0)&&g.push(fe)&&!B.__r++||j!==p.debounceRendering)&&((j=p.debounceRendering)||x)(B)}function B(){for(var fe;B.__r=g.length;)fe=g.sort(function(se,ye){return se.__v.__b-ye.__v.__b}),g=[],fe.some(function(se){var ye,Ne,He,Le,xt,Tt;se.__d&&(xt=(Le=(ye=se).__v).__e,(Tt=ye.__P)&&(Ne=[],(He=D({},Le)).__v=Le.__v+1,je(Tt,Le,He,ye.__n,Tt.ownerSVGElement!==void 0,Le.__h!=null?[xt]:null,Ne,xt??te(Le),Le.__h),ve(Ne,Le),Le.__e!=xt&&ne(Le)))})}function Y(fe,se,ye,Ne,He,Le,xt,Tt,jt,vt){var ke,st,pe,ot,zt,sn,Bt,en=Ne&&Ne.__k||k,yn=en.length;for(ye.__k=[],ke=0;ke<se.length;ke++)if((ot=ye.__k[ke]=(ot=se[ke])==null||typeof ot=="boolean"?null:typeof ot=="string"||typeof ot=="number"||typeof ot=="bigint"?H(null,ot,null,null,ot):Array.isArray(ot)?H(ue,{children:ot},null,null,null):ot.__b>0?H(ot.type,ot.props,ot.key,null,ot.__v):ot)!=null){if(ot.__=ye,ot.__b=ye.__b+1,(pe=en[ke])===null||pe&&ot.key==pe.key&&ot.type===pe.type)en[ke]=void 0;else for(st=0;st<yn;st++){if((pe=en[st])&&ot.key==pe.key&&ot.type===pe.type){en[st]=void 0;break}pe=null}je(fe,ot,pe=pe||T,He,Le,xt,Tt,jt,vt),zt=ot.__e,(st=ot.ref)&&pe.ref!=st&&(Bt||(Bt=[]),pe.ref&&Bt.push(pe.ref,null,ot),Bt.push(st,ot.__c||zt,ot)),zt!=null?(sn==null&&(sn=zt),typeof ot.type=="function"&&ot.__k===pe.__k?ot.__d=jt=V(ot,jt,fe):jt=ce(fe,ot,pe,en,zt,jt),typeof ye.type=="function"&&(ye.__d=jt)):jt&&pe.__e==jt&&jt.parentNode!=fe&&(jt=te(pe))}for(ye.__e=sn,ke=yn;ke--;)en[ke]!=null&&(typeof ye.type=="function"&&en[ke].__e!=null&&en[ke].__e==ye.__d&&(ye.__d=te(Ne,ke+1)),Ge(en[ke],en[ke]));if(Bt)for(ke=0;ke<Bt.length;ke++)Ae(Bt[ke],Bt[++ke],Bt[++ke])}function V(fe,se,ye){for(var Ne,He=fe.__k,Le=0;He&&Le<He.length;Le++)(Ne=He[Le])&&(Ne.__=fe,se=typeof Ne.type=="function"?V(Ne,se,ye):ce(ye,Ne,Ne,He,Ne.__e,se));return se}function q(fe,se){return se=se||[],fe==null||typeof fe=="boolean"||(Array.isArray(fe)?fe.some(function(ye){q(ye,se)}):se.push(fe)),se}function ce(fe,se,ye,Ne,He,Le){var xt,Tt,jt;if(se.__d!==void 0)xt=se.__d,se.__d=void 0;else if(ye==null||He!=Le||He.parentNode==null)e:if(Le==null||Le.parentNode!==fe)fe.appendChild(He),xt=null;else{for(Tt=Le,jt=0;(Tt=Tt.nextSibling)&&jt<Ne.length;jt+=2)if(Tt==He)break e;fe.insertBefore(He,Le),xt=Le}return xt!==void 0?xt:He.nextSibling}function Se(fe,se,ye){se[0]==="-"?fe.setProperty(se,ye):fe[se]=ye==null?"":typeof ye!="number"||I.test(se)?ye:ye+"px"}function Oe(fe,se,ye,Ne,He){var Le;e:if(se==="style")if(typeof ye=="string")fe.style.cssText=ye;else{if(typeof Ne=="string"&&(fe.style.cssText=Ne=""),Ne)for(se in Ne)ye&&se in ye||Se(fe.style,se,"");if(ye)for(se in ye)Ne&&ye[se]===Ne[se]||Se(fe.style,se,ye[se])}else if(se[0]==="o"&&se[1]==="n")Le=se!==(se=se.replace(/Capture$/,"")),se=se.toLowerCase()in fe?se.toLowerCase().slice(2):se.slice(2),fe.l||(fe.l={}),fe.l[se+Le]=ye,ye?Ne||fe.addEventListener(se,Le?Fe:Me,Le):fe.removeEventListener(se,Le?Fe:Me,Le);else if(se!=="dangerouslySetInnerHTML"){if(He)se=se.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(se!=="href"&&se!=="list"&&se!=="form"&&se!=="tabIndex"&&se!=="download"&&se in fe)try{fe[se]=ye??"";break e}catch{}typeof ye=="function"||(ye!=null&&(ye!==!1||se[0]==="a"&&se[1]==="r")?fe.setAttribute(se,ye):fe.removeAttribute(se))}}function Me(fe){this.l[fe.type+!1](p.event?p.event(fe):fe)}function Fe(fe){this.l[fe.type+!0](p.event?p.event(fe):fe)}function je(fe,se,ye,Ne,He,Le,xt,Tt,jt){var vt,ke,st,pe,ot,zt,sn,Bt,en,yn,Sn,It=se.type;if(se.constructor!==void 0)return null;ye.__h!=null&&(jt=ye.__h,Tt=se.__e=ye.__e,se.__h=null,Le=[Tt]),(vt=p.__b)&&vt(se);try{e:if(typeof It=="function"){if(Bt=se.props,en=(vt=It.contextType)&&Ne[vt.__c],yn=vt?en?en.props.value:vt.__:Ne,ye.__c?sn=(ke=se.__c=ye.__c).__=ke.__E:("prototype"in It&&It.prototype.render?se.__c=ke=new It(Bt,yn):(se.__c=ke=new ie(Bt,yn),ke.constructor=It,ke.render=rt),en&&en.sub(ke),ke.props=Bt,ke.state||(ke.state={}),ke.context=yn,ke.__n=Ne,st=ke.__d=!0,ke.__h=[]),ke.__s==null&&(ke.__s=ke.state),It.getDerivedStateFromProps!=null&&(ke.__s==ke.state&&(ke.__s=D({},ke.__s)),D(ke.__s,It.getDerivedStateFromProps(Bt,ke.__s))),pe=ke.props,ot=ke.state,st)It.getDerivedStateFromProps==null&&ke.componentWillMount!=null&&ke.componentWillMount(),ke.componentDidMount!=null&&ke.__h.push(ke.componentDidMount);else{if(It.getDerivedStateFromProps==null&&Bt!==pe&&ke.componentWillReceiveProps!=null&&ke.componentWillReceiveProps(Bt,yn),!ke.__e&&ke.shouldComponentUpdate!=null&&ke.shouldComponentUpdate(Bt,ke.__s,yn)===!1||se.__v===ye.__v){ke.props=Bt,ke.state=ke.__s,se.__v!==ye.__v&&(ke.__d=!1),ke.__v=se,se.__e=ye.__e,se.__k=ye.__k,se.__k.forEach(function(Fn){Fn&&(Fn.__=se)}),ke.__h.length&&xt.push(ke);break e}ke.componentWillUpdate!=null&&ke.componentWillUpdate(Bt,ke.__s,yn),ke.componentDidUpdate!=null&&ke.__h.push(function(){ke.componentDidUpdate(pe,ot,zt)})}ke.context=yn,ke.props=Bt,ke.state=ke.__s,(vt=p.__r)&&vt(se),ke.__d=!1,ke.__v=se,ke.__P=fe,vt=ke.render(ke.props,ke.state,ke.context),ke.state=ke.__s,ke.getChildContext!=null&&(Ne=D(D({},Ne),ke.getChildContext())),st||ke.getSnapshotBeforeUpdate==null||(zt=ke.getSnapshotBeforeUpdate(pe,ot)),Sn=vt!=null&&vt.type===ue&&vt.key==null?vt.props.children:vt,Y(fe,Array.isArray(Sn)?Sn:[Sn],se,ye,Ne,He,Le,xt,Tt,jt),ke.base=se.__e,se.__h=null,ke.__h.length&&xt.push(ke),sn&&(ke.__E=ke.__=null),ke.__e=!1}else Le==null&&se.__v===ye.__v?(se.__k=ye.__k,se.__e=ye.__e):se.__e=Pe(ye.__e,se,ye,Ne,He,Le,xt,jt);(vt=p.diffed)&&vt(se)}catch(Fn){se.__v=null,(jt||Le!=null)&&(se.__e=Tt,se.__h=!!jt,Le[Le.indexOf(Tt)]=null),p.__e(Fn,se,ye)}}function ve(fe,se){p.__c&&p.__c(se,fe),fe.some(function(ye){try{fe=ye.__h,ye.__h=[],fe.some(function(Ne){Ne.call(ye)})}catch(Ne){p.__e(Ne,ye.__v)}})}function Pe(fe,se,ye,Ne,He,Le,xt,Tt){var jt,vt,ke,st=ye.props,pe=se.props,ot=se.type,zt=0;if(ot==="svg"&&(He=!0),Le!=null){for(;zt<Le.length;zt++)if((jt=Le[zt])&&"setAttribute"in jt==!!ot&&(ot?jt.localName===ot:jt.nodeType===3)){fe=jt,Le[zt]=null;break}}if(fe==null){if(ot===null)return document.createTextNode(pe);fe=He?document.createElementNS("http://www.w3.org/2000/svg",ot):document.createElement(ot,pe.is&&pe),Le=null,Tt=!1}if(ot===null)st===pe||Tt&&fe.data===pe||(fe.data=pe);else{if(Le=Le&&f.call(fe.childNodes),vt=(st=ye.props||T).dangerouslySetInnerHTML,ke=pe.dangerouslySetInnerHTML,!Tt){if(Le!=null)for(st={},zt=0;zt<fe.attributes.length;zt++)st[fe.attributes[zt].name]=fe.attributes[zt].value;(ke||vt)&&(ke&&(vt&&ke.__html==vt.__html||ke.__html===fe.innerHTML)||(fe.innerHTML=ke&&ke.__html||""))}if(function(sn,Bt,en,yn,Sn){var It;for(It in en)It==="children"||It==="key"||It in Bt||Oe(sn,It,null,en[It],yn);for(It in Bt)Sn&&typeof Bt[It]!="function"||It==="children"||It==="key"||It==="value"||It==="checked"||en[It]===Bt[It]||Oe(sn,It,Bt[It],en[It],yn)}(fe,pe,st,He,Tt),ke)se.__k=[];else if(zt=se.props.children,Y(fe,Array.isArray(zt)?zt:[zt],se,ye,Ne,He&&ot!=="foreignObject",Le,xt,Le?Le[0]:ye.__k&&te(ye,0),Tt),Le!=null)for(zt=Le.length;zt--;)Le[zt]!=null&&R(Le[zt]);Tt||("value"in pe&&(zt=pe.value)!==void 0&&(zt!==st.value||zt!==fe.value||ot==="progress"&&!zt)&&Oe(fe,"value",zt,st.value,!1),"checked"in pe&&(zt=pe.checked)!==void 0&&zt!==fe.checked&&Oe(fe,"checked",zt,st.checked,!1))}return fe}function Ae(fe,se,ye){try{typeof fe=="function"?fe(se):fe.current=se}catch(Ne){p.__e(Ne,ye)}}function Ge(fe,se,ye){var Ne,He;if(p.unmount&&p.unmount(fe),(Ne=fe.ref)&&(Ne.current&&Ne.current!==fe.__e||Ae(Ne,null,se)),(Ne=fe.__c)!=null){if(Ne.componentWillUnmount)try{Ne.componentWillUnmount()}catch(Le){p.__e(Le,se)}Ne.base=Ne.__P=null}if(Ne=fe.__k)for(He=0;He<Ne.length;He++)Ne[He]&&Ge(Ne[He],se,typeof fe.type!="function");ye||fe.__e==null||R(fe.__e),fe.__e=fe.__d=void 0}function rt(fe,se,ye){return this.constructor(fe,ye)}function wt(fe,se,ye){var Ne,He,Le;p.__&&p.__(fe,se),He=(Ne=typeof ye=="function")?null:ye&&ye.__k||se.__k,Le=[],je(se,fe=(!Ne&&ye||se).__k=G(ue,null,[fe]),He||T,T,se.ownerSVGElement!==void 0,!Ne&&ye?[ye]:He?null:se.firstChild?f.call(se.childNodes):null,Le,!Ne&&ye?ye:He?He.__e:se.firstChild,Ne),ve(Le,fe)}function Ve(fe,se){wt(fe,se,Ve)}function Ze(fe,se,ye){var Ne,He,Le,xt=D({},fe.props);for(Le in se)Le=="key"?Ne=se[Le]:Le=="ref"?He=se[Le]:xt[Le]=se[Le];return arguments.length>2&&(xt.children=arguments.length>3?f.call(arguments,2):ye),H(fe.type,xt,Ne||fe.key,He||fe.ref,null)}function bt(fe,se){var ye={__c:se="__cC"+S++,__:fe,Consumer:function(Ne,He){return Ne.children(He)},Provider:function(Ne){var He,Le;return this.getChildContext||(He=[],(Le={})[se]=this,this.getChildContext=function(){return Le},this.shouldComponentUpdate=function(xt){this.props.value!==xt.value&&He.some($)},this.sub=function(xt){He.push(xt);var Tt=xt.componentWillUnmount;xt.componentWillUnmount=function(){He.splice(He.indexOf(xt),1),Tt&&Tt.call(xt)}}),Ne.children}};return ye.Provider.__=ye.Consumer.contextType=ye}f=k.slice,p={__e:function(fe,se){for(var ye,Ne,He;se=se.__;)if((ye=se.__c)&&!ye.__)try{if((Ne=ye.constructor)&&Ne.getDerivedStateFromError!=null&&(ye.setState(Ne.getDerivedStateFromError(fe)),He=ye.__d),ye.componentDidCatch!=null&&(ye.componentDidCatch(fe),He=ye.__d),He)return ye.__E=ye}catch(Le){fe=Le}throw fe}},m=0,ie.prototype.setState=function(fe,se){var ye;ye=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=D({},this.state),typeof fe=="function"&&(fe=fe(D({},ye),this.props)),fe&&D(ye,fe),fe!=null&&this.__v&&(se&&this.__h.push(se),$(this))},ie.prototype.forceUpdate=function(fe){this.__v&&(this.__e=!0,fe&&this.__h.push(fe),$(this))},ie.prototype.render=ue,g=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B.__r=0,S=0},function(u,l,o){(function(f,p){o.d(l,"a",function(){return $}),o.d(l,"b",function(){return _u}),o.d(l,"c",function(){return ao}),o.d(l,"d",function(){return St}),o.d(l,"e",function(){return Ke}),o.d(l,"f",function(){return $e}),o.d(l,"g",function(){return _t}),o.d(l,"h",function(){return _o}),o.d(l,"i",function(){return Sn}),o.d(l,"j",function(){return it}),o.d(l,"k",function(){return To}),o.d(l,"l",function(){return lu}),o.d(l,"m",function(){return sn}),o.d(l,"n",function(){return gi}),o.d(l,"o",function(){return V}),o.d(l,"p",function(){return fs}),o.d(l,"q",function(){return No}),o.d(l,"r",function(){return ya}),o.d(l,"s",function(){return $r}),o.d(l,"t",function(){return zn}),o.d(l,"u",function(){return ha}),o.d(l,"v",function(){return ls}),o.d(l,"w",function(){return yu}),o.d(l,"x",function(){return mi}),o.d(l,"y",function(){return Vr}),o.d(l,"z",function(){return Vn}),o.d(l,"A",function(){return Ar}),o.d(l,"B",function(){return yo}),o.d(l,"C",function(){return vt}),o.d(l,"D",function(){return ps}),o.d(l,"E",function(){return cn}),o.d(l,"F",function(){return ln}),o.d(l,"G",function(){return su}),o.d(l,"H",function(){return uu}),o.d(l,"I",function(){return vu}),o.d(l,"J",function(){return Jn}),o.d(l,"K",function(){return he}),o.d(l,"L",function(){return mn}),o.d(l,"M",function(){return ga});var m=[];Object.freeze(m);var g={};function x(){return++ct.mobxGuid}function j(O){throw S(!1,O),"X"}function S(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function T(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var k=function(){};function I(O){return O!==null&&typeof O=="object"}function D(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function R(O,w,A){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:A})}function G(O,w){var A="isMobX"+O;return w.prototype[A]=!0,function(z){return I(z)&&z[A]===!0}}function H(O){return O instanceof Map}function ee(O){return O instanceof Set}function ue(O){var w=new Set;for(var A in O)w.add(A);return Object.getOwnPropertySymbols(O).forEach(function(z){Object.getOwnPropertyDescriptor(O,z).enumerable&&w.add(z)}),Array.from(w)}function ie(O){return O&&O.toString?O.toString():new String(O).toString()}function te(O){return O===null?null:typeof O=="object"?""+O:O}var ne=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,$=Symbol("mobx administration"),B=function(){function O(w){w===void 0&&(w="Atom@"+x()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=st.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return da(this)},O.prototype.reportChanged=function(){Er(),function(w){w.lowestObserverState!==st.STALE&&(w.lowestObserverState=st.STALE,w.observers.forEach(function(A){A.dependenciesState===st.UP_TO_DATE&&(A.isTracing!==pe.NONE&&io(A,w),A.onBecomeStale()),A.dependenciesState=st.STALE}))}(this),Ir()},O.prototype.toString=function(){return this.name},O}(),Y=G("Atom",B);function V(O,w,A){w===void 0&&(w=k),A===void 0&&(A=k);var z,K=new B(O);return w!==k&&ss("onBecomeObserved",K,w,z),A!==k&&cn(K,A),K}var q={identity:function(O,w){return O===w},structural:function(O,w){return De(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return De(O,w,1)}},ce=function(O,w){return ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,z){A.__proto__=z}||function(A,z){for(var K in z)z.hasOwnProperty(K)&&(A[K]=z[K])},ce(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Se=function(){return Se=Object.assign||function(O){for(var w,A=1,z=arguments.length;A<z;A++)for(var K in w=arguments[A])Object.prototype.hasOwnProperty.call(w,K)&&(O[K]=w[K]);return O},Se.apply(this,arguments)};function Oe(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],A=0;return w?w.call(O):{next:function(){return O&&A>=O.length&&(O=void 0),{value:O&&O[A++],done:!O}}}}function Me(O,w){var A=typeof Symbol=="function"&&O[Symbol.iterator];if(!A)return O;var z,K,de=A.call(O),Ee=[];try{for(;(w===void 0||w-- >0)&&!(z=de.next()).done;)Ee.push(z.value)}catch(We){K={error:We}}finally{try{z&&!z.done&&(A=de.return)&&A.call(de)}finally{if(K)throw K.error}}return Ee}function Fe(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Me(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Pe={},Ae={};function Ge(O,w){var A=w?Pe:Ae;return A[O]||(A[O]={configurable:!0,enumerable:w,get:function(){return rt(this),this[O]},set:function(z){rt(this),this[O]=z}})}function rt(O){var w,A;if(O[je]!==!0){var z=O[ve];if(z){R(O,je,!0);var K=Fe(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var de=Oe(K),Ee=de.next();!Ee.done;Ee=de.next()){var We=z[Ee.value];We.propertyCreator(O,We.prop,We.descriptor,We.decoratorTarget,We.decoratorArguments)}}catch(at){w={error:at}}finally{try{Ee&&!Ee.done&&(A=de.return)&&A.call(de)}finally{if(w)throw w.error}}}}}function wt(O,w){return function(){var A,z=function(K,de,Ee,We){if(We===!0)return w(K,de,Ee,K,A),null;if(!Object.prototype.hasOwnProperty.call(K,ve)){var at=K[ve];R(K,ve,Se({},at))}return K[ve][de]={prop:de,propertyCreator:w,descriptor:Ee,decoratorTarget:K,decoratorArguments:A},Ge(de,O)};return Ve(arguments)?(A=m,z.apply(null,arguments)):(A=Array.prototype.slice.call(arguments),z)}}function Ve(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function Ze(O,w,A){return mi(O)?O:Array.isArray(O)?vt.array(O,{name:A}):D(O)?vt.object(O,void 0,{name:A}):H(O)?vt.map(O,{name:A}):ee(O)?vt.set(O,{name:A}):O}function bt(O){return O}function fe(O){S(O);var w=wt(!0,function(z,K,de,Ee,We){var at=de?de.initializer?de.initializer.call(z):de.value:void 0;Rr(z).addObservableProp(K,at,O)}),A=(f!==void 0&&f.env,w);return A.enhancer=O,A}var se={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ye(O){return O==null?se:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(se);var Ne=fe(Ze),He=fe(function(O,w,A){return O==null||Ar(O)||Vr(O)||Vn(O)||br(O)?O:Array.isArray(O)?vt.array(O,{name:A,deep:!1}):D(O)?vt.object(O,void 0,{name:A,deep:!1}):H(O)?vt.map(O,{name:A,deep:!1}):ee(O)?vt.set(O,{name:A,deep:!1}):j(!1)}),Le=fe(bt),xt=fe(function(O,w,A){return De(O,w)?w:O});function Tt(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?bt:Ze}var jt={box:function(O,w){arguments.length>2&&ke("box");var A=ye(w);return new Nn(O,Tt(A),A.name,!0,A.equals)},array:function(O,w){arguments.length>2&&ke("array");var A=ye(w);return Hi(O,Tt(A),A.name)},map:function(O,w){arguments.length>2&&ke("map");var A=ye(w);return new _u(O,Tt(A),A.name)},set:function(O,w){arguments.length>2&&ke("set");var A=ye(w);return new mo(O,Tt(A),A.name)},object:function(O,w,A){typeof arguments[1]=="string"&&ke("object");var z=ye(A);if(z.proxy===!1)return No({},O,w,z);var K=fu(z),de=No({},void 0,void 0,z),Ee=bi(de);return cs(Ee,O,w,K),Ee},ref:Le,shallow:He,deep:Ne,struct:xt},vt=function(O,w,A){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ne.apply(null,arguments);if(mi(O))return O;var z=D(O)?vt.object(O,w,A):Array.isArray(O)?vt.array(O,w):H(O)?vt.map(O,w):ee(O)?vt.set(O,w):O;if(z!==O)return z;j(!1)};function ke(O){j("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(jt).forEach(function(O){return vt[O]=jt[O]});var st,pe,ot=wt(!1,function(O,w,A,z,K){var de=A.get,Ee=A.set,We=K[0]||{};Rr(O).addComputedProp(O,w,Se({get:de,set:Ee,context:O},We))}),zt=ot({equals:q.structural}),sn=function(O,w,A){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return ot.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=O,z.set=typeof w=="function"?w:z.set,z.name=z.name||O.name||"",new ho(z)};sn.struct=zt,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(st||(st={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(pe||(pe={}));var Bt=function(O){this.cause=O};function en(O){return O instanceof Bt}function yn(O){switch(O.dependenciesState){case st.UP_TO_DATE:return!1;case st.NOT_TRACKING:case st.STALE:return!0;case st.POSSIBLY_STALE:for(var w=$e(!0),A=ae(),z=O.observing,K=z.length,de=0;de<K;de++){var Ee=z[de];if(ko(Ee)){if(ct.disableErrorBoundaries)Ee.get();else try{Ee.get()}catch{return be(A),Ke(w),!0}if(O.dependenciesState===st.STALE)return be(A),Ke(w),!0}}return ft(O),be(A),Ke(w),!1}}function Sn(){return ct.trackingDerivation!==null}function It(O){var w=O.observers.size>0;ct.computationDepth>0&&w&&j(!1),ct.allowStateChanges||!w&&ct.enforceActions!=="strict"||j(!1)}function Fn(O,w,A){var z=$e(!0);ft(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ct.runId;var K,de=ct.trackingDerivation;if(ct.trackingDerivation=O,ct.disableErrorBoundaries===!0)K=w.call(A);else try{K=w.call(A)}catch(Ee){K=new Bt(Ee)}return ct.trackingDerivation=de,function(Ee){for(var We=Ee.observing,at=Ee.observing=Ee.newObserving,$t=st.UP_TO_DATE,et=0,vn=Ee.unboundDepsCount,Wt=0;Wt<vn;Wt++)(an=at[Wt]).diffValue===0&&(an.diffValue=1,et!==Wt&&(at[et]=an),et++),an.dependenciesState>$t&&($t=an.dependenciesState);for(at.length=et,Ee.newObserving=null,vn=We.length;vn--;)(an=We[vn]).diffValue===0&&ru(an,Ee),an.diffValue=0;for(;et--;){var an;(an=at[et]).diffValue===1&&(an.diffValue=0,Ic(an,Ee))}$t!==st.UP_TO_DATE&&(Ee.dependenciesState=$t,Ee.onBecomeStale())}(O),Ke(z),K}function Q(O){var w=O.observing;O.observing=[];for(var A=w.length;A--;)ru(w[A],O);O.dependenciesState=st.NOT_TRACKING}function he(O){var w=ae();try{return O()}finally{be(w)}}function ae(){var O=ct.trackingDerivation;return ct.trackingDerivation=null,O}function be(O){ct.trackingDerivation=O}function $e(O){var w=ct.allowStateReads;return ct.allowStateReads=O,w}function Ke(O){ct.allowStateReads=O}function ft(O){if(O.dependenciesState!==st.UP_TO_DATE){O.dependenciesState=st.UP_TO_DATE;for(var w=O.observing,A=w.length;A--;)w[A].lowestObserverState=st.UP_TO_DATE}}var Ut=0,Zn=1,lr=Object.getOwnPropertyDescriptor(function(){},"name");lr&&lr.configurable;function Wn(O,w,A){var z=function(){return Yn(O,w,A||this,arguments)};return z.isMobxAction=!0,z}function Yn(O,w,A,z){var K=it();try{return w.apply(A,z)}catch(de){throw K.error=de,de}finally{_t(K)}}function it(O,w,A){var z=0,K=ae();Er();var de={prevDerivation:K,prevAllowStateChanges:Rt(!0),prevAllowStateReads:$e(!0),notifySpy:!1,startTime:z,actionId:Zn++,parentActionId:Ut};return Ut=de.actionId,de}function _t(O){Ut!==O.actionId&&j("invalid action stack. did you forget to finish an action?"),Ut=O.parentActionId,O.error!==void 0&&(ct.suppressReactionErrors=!0),dn(O.prevAllowStateChanges),Ke(O.prevAllowStateReads),Ir(),be(O.prevDerivation),O.notifySpy,ct.suppressReactionErrors=!1}function St(O,w){var A,z=Rt(O);try{A=w()}finally{dn(z)}return A}function Rt(O){var w=ct.allowStateChanges;return ct.allowStateChanges=O,w}function dn(O){ct.allowStateChanges=O}var Nn=function(O){function w(A,z,K,de,Ee){K===void 0&&(K="ObservableValue@"+x()),Ee===void 0&&(Ee=q.default);var We=O.call(this,K)||this;return We.enhancer=z,We.name=K,We.equals=Ee,We.hasUnreportedChange=!1,We.value=z(A,void 0,K),We}return function(A,z){function K(){this.constructor=A}ce(A,z),A.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)}(w,O),w.prototype.dehanceValue=function(A){return this.dehancer!==void 0?this.dehancer(A):A},w.prototype.set=function(A){this.value,(A=this.prepareNewValue(A))!==ct.UNCHANGED&&this.setNewValue(A)},w.prototype.prepareNewValue=function(A){if(It(this),Pr(this)){var z=tn(this,{object:this,type:"update",newValue:A});if(!z)return ct.UNCHANGED;A=z.newValue}return A=this.enhancer(A,this.value,this.name),this.equals(this.value,A)?ct.UNCHANGED:A},w.prototype.setNewValue=function(A){var z=this.value;this.value=A,this.reportChanged(),Mr(this)&&ar(this,{type:"update",object:this,newValue:A,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(A){return Co(this,A)},w.prototype.observe=function(A,z){return z&&A({object:this,type:"update",newValue:this.value,oldValue:void 0}),go(this,A)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return te(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(B),Ao=G("ObservableValue",Nn),ho=function(){function O(w){this.dependenciesState=st.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=st.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+x(),this.value=new Bt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=pe.NONE,S(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+x(),w.set&&(this.setter=Wn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?q.structural:q.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===st.UP_TO_DATE&&(w.lowestObserverState=st.POSSIBLY_STALE,w.observers.forEach(function(A){A.dependenciesState===st.UP_TO_DATE&&(A.dependenciesState=st.POSSIBLY_STALE,A.isTracing!==pe.NONE&&io(A,w),A.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),ct.inBatch!==0||this.observers.size!==0||this.keepAlive?(da(this),yn(this)&&this.trackAndCompute()&&function(A){A.lowestObserverState!==st.STALE&&(A.lowestObserverState=st.STALE,A.observers.forEach(function(z){z.dependenciesState===st.POSSIBLY_STALE?z.dependenciesState=st.STALE:z.dependenciesState===st.UP_TO_DATE&&(A.lowestObserverState=st.UP_TO_DATE)}))}(this)):yn(this)&&(this.warnAboutUntrackedRead(),Er(),this.value=this.computeValue(!1),Ir());var w=this.value;if(en(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(en(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){S(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else S(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,A=this.dependenciesState===st.NOT_TRACKING,z=this.computeValue(!0),K=A||en(w)||en(z)||!this.equals(w,z);return K&&(this.value=z),K},O.prototype.computeValue=function(w){var A;if(this.isComputing=!0,ct.computationDepth++,w)A=Fn(this,this.derivation,this.scope);else if(ct.disableErrorBoundaries===!0)A=this.derivation.call(this.scope);else try{A=this.derivation.call(this.scope)}catch(z){A=new Bt(z)}return ct.computationDepth--,this.isComputing=!1,A},O.prototype.suspend=function(){this.keepAlive||(Q(this),this.value=void 0)},O.prototype.observe=function(w,A){var z=this,K=!0,de=void 0;return lu(function(){var Ee=z.get();if(!K||A){var We=ae();w({type:"update",object:z,newValue:Ee,oldValue:de}),be(We)}K=!1,de=Ee})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return te(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),ko=G("ComputedValue",ho),vi=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Cc={};function nu(){return typeof window<"u"?window:p!==void 0?p:typeof self<"u"?self:Cc}var Ur=!0,Wi=!1,ct=function(){var O=nu();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(Ur=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new vi().version&&(Ur=!1),Ur?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new vi):(setTimeout(function(){Wi||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new vi)}();function Ic(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function ru(O,w){O.observers.delete(w),O.observers.size===0&&ou(O)}function ou(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ct.pendingUnobservations.push(O))}function Er(){ct.inBatch++}function Ir(){if(--ct.inBatch==0){au();for(var O=ct.pendingUnobservations,w=0;w<O.length;w++){var A=O[w];A.isPendingUnobservation=!1,A.observers.size===0&&(A.isBeingObserved&&(A.isBeingObserved=!1,A.onBecomeUnobserved()),A instanceof ho&&A.suspend())}ct.pendingUnobservations=[]}}function da(O){var w=ct.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ct.inBatch>0&&ou(O),!1)}function io(O,w){if(O.isTracing===pe.BREAK){var A=[];Yr(zn(O),A,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof ho?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+A.join(`
`)+`
*/
    `)()}}function Yr(O,w,A){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(A).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(z){return Yr(z,w,A+1)}))}var ao=function(){function O(w,A,z,K){w===void 0&&(w="Reaction@"+x()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=A,this.errorHandler=z,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=st.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+x(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=pe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ct.pendingReactions.push(this),au())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(Er(),this._isScheduled=!1,yn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Ir()}},O.prototype.track=function(w){if(!this.isDisposed){Er(),this._isRunning=!0;var A=Fn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Q(this),en(A)&&this.reportExceptionInDerivation(A.cause),Ir()}},O.prototype.reportExceptionInDerivation=function(w){var A=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ct.disableErrorBoundaries)throw w;ct.suppressReactionErrors,ct.globalReactionErrorHandlers.forEach(function(z){return z(w,A)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Er(),Q(this),Ir()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[$]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var A=[],z=0;z<arguments.length;z++)A[z]=arguments[z];var K=!1;typeof A[A.length-1]=="boolean"&&(K=A.pop());var de=on(A);if(!de)return j(!1);de.isTracing,pe.NONE,de.isTracing=K?pe.BREAK:pe.LOG}(this,w)},O}(),iu=function(O){return O()};function au(){ct.inBatch>0||ct.isRunningReactions||iu(os)}function os(){ct.isRunningReactions=!0;for(var O=ct.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var A=O.splice(0),z=0,K=A.length;z<K;z++)A[z].runReaction()}ct.isRunningReactions=!1}var Gi=G("Reaction",ao);function is(O){var w=iu;iu=function(A){return O(function(){return w(A)})}}function uu(O){return function(){}}function Rc(){j(!1)}function Ko(O){return function(w,A,z){if(z){if(z.value)return{value:Wn(O,z.value),enumerable:!1,configurable:!0,writable:!0};var K=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Wn(O,K.call(this))}}}return as(O).apply(this,arguments)}}function as(O){return function(w,A,z){Object.defineProperty(w,A,{configurable:!0,enumerable:!1,get:function(){},set:function(K){R(this,A,To(O,K))}})}}var To=function(O,w,A,z){return arguments.length===1&&typeof O=="function"?Wn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Wn(O,w):arguments.length===1&&typeof O=="string"?Ko(O):z!==!0?Ko(w).apply(null,arguments):void R(O,w,Wn(O.name||w,A.value,this))};function su(O,w){return Yn(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function ha(O){return typeof O=="function"&&O.isMobxAction===!0}function cu(O,w,A){R(O,w,Wn(w,A.bind(O)))}function lu(O,w){w===void 0&&(w=g);var A,z=w&&w.name||O.name||"Autorun@"+x();if(!w.scheduler&&!w.delay)A=new ao(z,function(){this.track(Ee)},w.onError,w.requiresObservable);else{var K=us(w),de=!1;A=new ao(z,function(){de||(de=!0,K(function(){de=!1,A.isDisposed||A.track(Ee)}))},w.onError,w.requiresObservable)}function Ee(){O(A)}return A.schedule(),A.getDisposer()}To.bound=function(O,w,A,z){return z===!0?(cu(O,w,A.value),null):A?{configurable:!0,enumerable:!1,get:function(){return cu(this,w,A.value||A.initializer.call(this)),this[w]},set:Rc}:{enumerable:!1,configurable:!0,set:function(K){cu(this,w,K)},get:function(){}}};var Lc=function(O){return O()};function us(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Lc}function ln(O,w,A){A===void 0&&(A=g);var z,K,de,Ee=A.name||"Reaction@"+x(),We=To(Ee,A.onError?(z=A.onError,K=w,function(){try{return K.apply(this,arguments)}catch(Pn){z.call(this,Pn)}}):w),at=!A.scheduler&&!A.delay,$t=us(A),et=!0,vn=!1,Wt=A.compareStructural?q.structural:A.equals||q.default,an=new ao(Ee,function(){et||at?Kr():vn||(vn=!0,$t(Kr))},A.onError,A.requiresObservable);function Kr(){if(vn=!1,!an.isDisposed){var Pn=!1;an.track(function(){var kr=O(an);Pn=et||!Wt(de,kr),de=kr}),et&&A.fireImmediately&&We(de,an),et||Pn!==!0||We(de,an),et&&(et=!1)}}return an.schedule(),an.getDisposer()}function cn(O,w,A){return ss("onBecomeUnobserved",O,w,A)}function ss(O,w,A,z){var K=typeof z=="function"?$r(w,A):$r(w),de=typeof z=="function"?z:A,Ee=O+"Listeners";return K[Ee]?K[Ee].add(de):K[Ee]=new Set([de]),typeof K[O]!="function"?j(!1):function(){var We=K[Ee];We&&(We.delete(de),We.size===0&&delete K[Ee])}}function gi(O){var w=O.enforceActions,A=O.computedRequiresReaction,z=O.computedConfigurable,K=O.disableErrorBoundaries,de=O.reactionScheduler,Ee=O.reactionRequiresObservable,We=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ct.pendingReactions.length||ct.inBatch||ct.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),Wi=!0,Ur&&(--nu().__mobxInstanceCount==0&&(nu().__mobxGlobals=void 0),ct=new vi)),w!==void 0){var at=void 0;switch(w){case!0:case"observed":at=!0;break;case!1:case"never":at=!1;break;case"strict":case"always":at="strict";break;default:j("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ct.enforceActions=at,ct.allowStateChanges=at!==!0&&at!=="strict"}A!==void 0&&(ct.computedRequiresReaction=!!A),Ee!==void 0&&(ct.reactionRequiresObservable=!!Ee),We!==void 0&&(ct.observableRequiresReaction=!!We,ct.allowStateReads=!ct.observableRequiresReaction),z!==void 0&&(ct.computedConfigurable=!!z),K!==void 0&&(ct.disableErrorBoundaries=!!K),de&&is(de)}function No(O,w,A,z){var K=fu(z=ye(z));return rt(O),Rr(O,z.name,K.enhancer),w&&cs(O,w,A,K),O}function fu(O){return O.defaultDecorator||(O.deep===!1?Le:Ne)}function cs(O,w,A,z){var K,de;Er();try{var Ee=ne(w);try{for(var We=Oe(Ee),at=We.next();!at.done;at=We.next()){var $t=at.value,et=Object.getOwnPropertyDescriptor(w,$t),vn=(A&&$t in A?A[$t]:et.get?ot:z)(O,$t,et,!0);vn&&Object.defineProperty(O,$t,vn)}}catch(Wt){K={error:Wt}}finally{try{at&&!at.done&&(de=We.return)&&de.call(We)}finally{if(K)throw K.error}}}finally{Ir()}}function zn(O,w){return pu($r(O,w))}function pu(O){var w,A,z={name:O.name};return O.observing&&O.observing.length>0&&(z.dependencies=(w=O.observing,A=[],w.forEach(function(K){A.indexOf(K)===-1&&A.push(K)}),A).map(pu)),z}var Xi=0;function du(){this.message="FLOW_CANCELLED"}function ya(O){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var A,z=this,K=arguments,de=++Xi,Ee=To(w+" - runid: "+de+" - init",O).apply(z,K),We=void 0,at=new Promise(function($t,et){var vn=0;function Wt(Pn){var kr;We=void 0;try{kr=To(w+" - runid: "+de+" - yield "+vn++,Ee.next).call(Ee,Pn)}catch(Ro){return et(Ro)}Kr(kr)}function an(Pn){var kr;We=void 0;try{kr=To(w+" - runid: "+de+" - yield "+vn++,Ee.throw).call(Ee,Pn)}catch(Ro){return et(Ro)}Kr(kr)}function Kr(Pn){if(!Pn||typeof Pn.then!="function")return Pn.done?$t(Pn.value):(We=Promise.resolve(Pn.value)).then(Wt,an);Pn.then(Kr,et)}A=et,Wt(void 0)});return at.cancel=To(w+" - runid: "+de+" - cancel",function(){try{We&&fr(We);var $t=Ee.return(void 0),et=Promise.resolve($t.value);et.then(k,k),fr(et),A(new du)}catch(vn){A(vn)}}),at}}function fr(O){typeof O.cancel=="function"&&O.cancel()}function hu(O,w){if(O==null)return!1;if(w!==void 0){if(Ar(O)===!1||!O[$].values.has(w))return!1;var A=$r(O,w);return ko(A)}return ko(O)}function ls(O){return arguments.length>1?j(!1):hu(O)}function yu(O,w){return typeof w!="string"?j(!1):hu(O,w)}function va(O,w){return O!=null&&(w!==void 0?!!Ar(O)&&O[$].values.has(w):Ar(O)||!!O[$]||Y(O)||Gi(O)||ko(O))}function mi(O){return arguments.length!==1&&j(!1),va(O)}function yo(O){return Ar(O)?O[$].getKeys():Vn(O)||br(O)?Array.from(O.keys()):Vr(O)?O.map(function(w,A){return A}):j(!1)}function mn(O){return Ar(O)?yo(O).map(function(w){return O[w]}):Vn(O)?yo(O).map(function(w){return O.get(w)}):br(O)?Array.from(O.values()):Vr(O)?O.slice():j(!1)}function fs(O){return Ar(O)?yo(O).map(function(w){return[w,O[w]]}):Vn(O)?yo(O).map(function(w){return[w,O.get(w)]}):br(O)?Array.from(O.entries()):Vr(O)?O.map(function(w,A){return[A,w]}):j(!1)}function Sr(O,w,A){if(arguments.length!==2||br(O))if(Ar(O)){var z=O[$],K=z.values.get(w);K?z.write(w,A):z.addObservableProp(w,A,z.defaultEnhancer)}else if(Vn(O))O.set(w,A);else if(br(O))O.add(w);else{if(!Vr(O))return j(!1);typeof w!="number"&&(w=parseInt(w,10)),S(w>=0,"Not a valid index: '"+w+"'"),Er(),w>=O.length&&(O.length=w+1),O[w]=A,Ir()}else{Er();var de=w;try{for(var Ee in de)Sr(O,Ee,de[Ee])}finally{Ir()}}}function ps(O,w,A,z){return typeof A=="function"?function(K,de,Ee,We){return _o(K,de).observe(Ee,We)}(O,w,A,z):function(K,de,Ee){return _o(K).observe(de,Ee)}(O,w,A)}du.prototype=Object.create(Error.prototype);var ds={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function mr(O,w,A,z){return z.detectCycles&&O.set(w,A),A}function jr(O,w,A){if(!w.recurseEverything&&!mi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(Ao(O))return jr(O.get(),w,A);if(mi(O)&&yo(O),w.detectCycles===!0&&O!==null&&A.has(O))return A.get(O);if(Vr(O)||Array.isArray(O)){var z=mr(A,O,[],w),K=O.map(function(Wt){return jr(Wt,w,A)});z.length=K.length;for(var de=0,Ee=K.length;de<Ee;de++)z[de]=K[de];return z}if(br(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var We=mr(A,O,new Set,w);return O.forEach(function(Wt){We.add(jr(Wt,w,A))}),We}var at=mr(A,O,[],w);return O.forEach(function(Wt){at.push(jr(Wt,w,A))}),at}if(Vn(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var $t=mr(A,O,new Map,w);return O.forEach(function(Wt,an){$t.set(an,jr(Wt,w,A))}),$t}var et=mr(A,O,{},w);return O.forEach(function(Wt,an){et[an]=jr(Wt,w,A)}),et}var vn=mr(A,O,{},w);return ue(O).forEach(function(Wt){vn[Wt]=jr(O[Wt],w,A)}),vn}function vu(O,w){var A;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=ds),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(A=new Map),jr(O,w,A)}function on(O){switch(O.length){case 0:return ct.trackingDerivation;case 1:return $r(O[0]);case 2:return $r(O[0],O[1])}}function Jn(O,w){w===void 0&&(w=void 0),Er();try{return O.apply(w)}finally{Ir()}}function ga(O,w,A){return arguments.length===1||w&&typeof w=="object"?gu(O,w):hs(O,w,A||{})}function hs(O,w,A){var z;typeof A.timeout=="number"&&(z=setTimeout(function(){if(!de[$].isDisposed){de();var Ee=new Error("WHEN_TIMEOUT");if(!A.onError)throw Ee;A.onError(Ee)}},A.timeout)),A.name=A.name||"When@"+x();var K=Wn(A.name+"-effect",w),de=lu(function(Ee){O()&&(Ee.dispose(),z&&clearTimeout(z),K())},A);return de}function gu(O,w){var A,z=new Promise(function(K,de){var Ee=hs(O,K,Se(Se({},w),{onError:de}));A=function(){Ee(),de("WHEN_CANCELLED")}});return z.cancel=A,z}function ma(O){return O[$]}function vo(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var Do={has:function(O,w){if(w===$||w==="constructor"||w===je)return!0;var A=ma(O);return vo(w)?A.has(w):w in O},get:function(O,w){if(w===$||w==="constructor"||w===je)return O[w];var A=ma(O),z=A.values.get(w);if(z instanceof B){var K=z.get();return K===void 0&&A.has(w),K}return vo(w)&&A.has(w),O[w]},set:function(O,w,A){return!!vo(w)&&(Sr(O,w,A),!0)},deleteProperty:function(O,w){return!!vo(w)&&(ma(O).remove(w),!0)},ownKeys:function(O){return ma(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return j("Dynamic observable objects cannot be frozen"),!1}};function bi(O){var w=new Proxy(O,Do);return O[$].proxy=w,w}function Pr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function Co(O,w){var A=O.interceptors||(O.interceptors=[]);return A.push(w),T(function(){var z=A.indexOf(w);z!==-1&&A.splice(z,1)})}function tn(O,w){var A=ae();try{for(var z=Fe(O.interceptors||[]),K=0,de=z.length;K<de&&(S(!(w=z[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{be(A)}}function Mr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function go(O,w){var A=O.changeListeners||(O.changeListeners=[]);return A.push(w),T(function(){var z=A.indexOf(w);z!==-1&&A.splice(z,1)})}function ar(O,w){var A=ae(),z=O.changeListeners;if(z){for(var K=0,de=(z=z.slice()).length;K<de;K++)z[K](w);be(A)}}var ba={get:function(O,w){return w===$?O[$]:w==="length"?O[$].getArrayLength():typeof w=="number"?Dn.get.call(O,w):typeof w!="string"||isNaN(w)?Dn.hasOwnProperty(w)?Dn[w]:O[w]:Dn.get.call(O,parseInt(w))},set:function(O,w,A){return w==="length"&&O[$].setArrayLength(A),typeof w=="number"&&Dn.set.call(O,w,A),typeof w=="symbol"||isNaN(w)?O[w]=A:Dn.set.call(O,parseInt(w),A),!0},preventExtensions:function(O){return j("Observable arrays cannot be frozen"),!1}};function Hi(O,w,A,z){A===void 0&&(A="ObservableArray@"+x()),z===void 0&&(z=!1);var K,de,Ee,We=new mu(A,w,z);K=We.values,de=$,Ee=We,Object.defineProperty(K,de,{enumerable:!1,writable:!1,configurable:!0,value:Ee});var at=new Proxy(We.values,ba);if(We.proxy=at,O&&O.length){var $t=Rt(!0);We.spliceWithArray(0,0,O),dn($t)}return at}var mu=function(){function O(w,A,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B(w||"ObservableArray@"+x()),this.enhancer=function(K,de){return A(K,de,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return Co(this,w)},O.prototype.observe=function(w,A){return A===void 0&&(A=!1),A&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),go(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var A=this.values.length;if(w!==A)if(w>A){for(var z=new Array(w-A),K=0;K<w-A;K++)z[K]=void 0;this.spliceWithArray(A,0,z)}else this.spliceWithArray(w,A-w)},O.prototype.updateArrayLength=function(w,A){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=A},O.prototype.spliceWithArray=function(w,A,z){var K=this;It(this.atom);var de=this.values.length;if(w===void 0?w=0:w>de?w=de:w<0&&(w=Math.max(0,de+w)),A=arguments.length===1?de-w:A==null?0:Math.max(0,Math.min(A,de-w)),z===void 0&&(z=m),Pr(this)){var Ee=tn(this,{object:this.proxy,type:"splice",index:w,removedCount:A,added:z});if(!Ee)return m;A=Ee.removedCount,z=Ee.added}z=z.length===0?z:z.map(function(at){return K.enhancer(at,void 0)});var We=this.spliceItemsIntoValues(w,A,z);return A===0&&z.length===0||this.notifyArraySplice(w,z,We),this.dehanceValues(We)},O.prototype.spliceItemsIntoValues=function(w,A,z){var K;if(z.length<1e4)return(K=this.values).splice.apply(K,Fe([w,A],z));var de=this.values.slice(w,w+A);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+A)),de},O.prototype.notifyArrayChildUpdate=function(w,A,z){var K=!this.owned&&!1,de=Mr(this),Ee=de||K?{object:this.proxy,type:"update",index:w,newValue:A,oldValue:z}:null;this.atom.reportChanged(),de&&ar(this,Ee)},O.prototype.notifyArraySplice=function(w,A,z){var K=!this.owned&&!1,de=Mr(this),Ee=de||K?{object:this.proxy,type:"splice",index:w,removed:z,added:A,removedCount:z.length,addedCount:A.length}:null;this.atom.reportChanged(),de&&ar(this,Ee)},O}(),Dn={intercept:function(O){return this[$].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[$].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[$];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var A=[],z=2;z<arguments.length;z++)A[z-2]=arguments[z];var K=this[$];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(O);case 2:return K.spliceWithArray(O,w)}return K.spliceWithArray(O,w,A)},spliceWithArray:function(O,w,A){return this[$].spliceWithArray(O,w,A)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var A=this[$];return A.spliceWithArray(A.values.length,0,O),A.values.length},pop:function(){return this.splice(Math.max(this[$].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var A=this[$];return A.spliceWithArray(0,0,O),A.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[$],A=w.dehanceValues(w.values).indexOf(O);return A>-1&&(this.splice(A,1),!0)},get:function(O){var w=this[$];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var A=this[$],z=A.values;if(O<z.length){It(A.atom);var K=z[O];if(Pr(A)){var de=tn(A,{type:"update",object:A.proxy,index:O,newValue:w});if(!de)return;w=de.newValue}(w=A.enhancer(w,K))!==K&&(z[O]=w,A.notifyArrayChildUpdate(O,w,K))}else{if(O!==z.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+z.length);A.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Dn[O]=function(){var w=this[$];w.atom.reportObserved();var A=w.dehanceValues(w.values);return A[O].apply(A,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Dn[O]=function(w,A){var z=this,K=this[$];return K.atom.reportObserved(),K.dehanceValues(K.values)[O](function(de,Ee){return w.call(A,de,Ee,z)},A)})}),["reduce","reduceRight"].forEach(function(O){Dn[O]=function(){var w=this,A=this[$];A.atom.reportObserved();var z=arguments[0];return arguments[0]=function(K,de,Ee){return de=A.dehanceValue(de),z(K,de,Ee,w)},A.values[O].apply(A.values,arguments)}});var _a,Io=G("ObservableArrayAdministration",mu);function Vr(O){return I(O)&&Io(O[$])}var bu,zc={},_u=function(){function O(w,A,z){if(A===void 0&&(A=Ze),z===void 0&&(z="ObservableMap@"+x()),this.enhancer=A,this.name=z,this[_a]=zc,this._keysAtom=V(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var A=this;if(!ct.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var K=z=new Nn(this._has(w),bt,this.name+"."+ie(w)+"?",!1);this._hasMap.set(w,K),cn(K,function(){return A._hasMap.delete(w)})}return z.get()},O.prototype.set=function(w,A){var z=this._has(w);if(Pr(this)){var K=tn(this,{type:z?"update":"add",object:this,newValue:A,name:w});if(!K)return this;A=K.newValue}return z?this._updateValue(w,A):this._addValue(w,A),this},O.prototype.delete=function(w){var A=this;if(It(this._keysAtom),Pr(this)&&!(K=tn(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=Mr(this),K=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return Jn(function(){A._keysAtom.reportChanged(),A._updateHasMapEntry(w,!1),A._data.get(w).setNewValue(void 0),A._data.delete(w)}),z&&ar(this,K),!0}return!1},O.prototype._updateHasMapEntry=function(w,A){var z=this._hasMap.get(w);z&&z.setNewValue(A)},O.prototype._updateValue=function(w,A){var z=this._data.get(w);if((A=z.prepareNewValue(A))!==ct.UNCHANGED){var K=Mr(this),de=K?{type:"update",object:this,oldValue:z.value,name:w,newValue:A}:null;z.setNewValue(A),K&&ar(this,de)}},O.prototype._addValue=function(w,A){var z=this;It(this._keysAtom),Jn(function(){var Ee=new Nn(A,z.enhancer,z.name+"."+ie(w),!1);z._data.set(w,Ee),A=Ee.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var K=Mr(this),de=K?{type:"add",object:this,name:w,newValue:A}:null;K&&ar(this,de)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,A=this.keys();return Zt({next:function(){var z=A.next(),K=z.done,de=z.value;return{done:K,value:K?void 0:w.get(de)}}})},O.prototype.entries=function(){var w=this,A=this.keys();return Zt({next:function(){var z=A.next(),K=z.done,de=z.value;return{done:K,value:K?void 0:[de,w.get(de)]}}})},O.prototype[_a=$,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,A){var z,K;try{for(var de=Oe(this),Ee=de.next();!Ee.done;Ee=de.next()){var We=Me(Ee.value,2),at=We[0],$t=We[1];w.call(A,$t,at,this)}}catch(et){z={error:et}}finally{try{Ee&&!Ee.done&&(K=de.return)&&K.call(de)}finally{if(z)throw z.error}}},O.prototype.merge=function(w){var A=this;return Vn(w)&&(w=w.toJS()),Jn(function(){var z=Rt(!0);try{D(w)?ue(w).forEach(function(K){return A.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var de=Me(K,2),Ee=de[0],We=de[1];return A.set(Ee,We)}):H(w)?(w.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,de){return A.set(de,K)})):w!=null&&j("Cannot initialize map from "+w)}finally{dn(z)}}),this},O.prototype.clear=function(){var w=this;Jn(function(){he(function(){var A,z;try{for(var K=Oe(w.keys()),de=K.next();!de.done;de=K.next()){var Ee=de.value;w.delete(Ee)}}catch(We){A={error:We}}finally{try{de&&!de.done&&(z=K.return)&&z.call(K)}finally{if(A)throw A.error}}})})},O.prototype.replace=function(w){var A=this;return Jn(function(){var z,K,de,Ee,We=function(_r){if(H(_r)||Vn(_r))return _r;if(Array.isArray(_r))return new Map(_r);if(D(_r)){var Yi=new Map;for(var Oi in _r)Yi.set(Oi,_r[Oi]);return Yi}return j("Cannot convert to map from '"+_r+"'")}(w),at=new Map,$t=!1;try{for(var et=Oe(A._data.keys()),vn=et.next();!vn.done;vn=et.next()){var Wt=vn.value;if(!We.has(Wt))if(A.delete(Wt))$t=!0;else{var an=A._data.get(Wt);at.set(Wt,an)}}}catch(_r){z={error:_r}}finally{try{vn&&!vn.done&&(K=et.return)&&K.call(et)}finally{if(z)throw z.error}}try{for(var Kr=Oe(We.entries()),Pn=Kr.next();!Pn.done;Pn=Kr.next()){var kr=Me(Pn.value,2),Ro=(Wt=kr[0],an=kr[1],A._data.has(Wt));if(A.set(Wt,an),A._data.has(Wt)){var Lo=A._data.get(Wt);at.set(Wt,Lo),Ro||($t=!0)}}}catch(_r){de={error:_r}}finally{try{Pn&&!Pn.done&&(Ee=Kr.return)&&Ee.call(Kr)}finally{if(de)throw de.error}}if(!$t)if(A._data.size!==at.size)A._keysAtom.reportChanged();else for(var Ui=A._data.keys(),wu=at.keys(),Zo=Ui.next(),wa=wu.next();!Zo.done;){if(Zo.value!==wa.value){A._keysAtom.reportChanged();break}Zo=Ui.next(),wa=wu.next()}A._data=at}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,A,z={};try{for(var K=Oe(this),de=K.next();!de.done;de=K.next()){var Ee=Me(de.value,2),We=Ee[0],at=Ee[1];z[typeof We=="symbol"?We:ie(We)]=at}}catch($t){w={error:$t}}finally{try{de&&!de.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return z},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(A){return ie(A)+": "+w.get(A)}).join(", ")+" }]"},O.prototype.observe=function(w,A){return go(this,w)},O.prototype.intercept=function(w){return Co(this,w)},O}(),Vn=G("ObservableMap",_u),_i={},mo=function(){function O(w,A,z){if(A===void 0&&(A=Ze),z===void 0&&(z="ObservableSet@"+x()),this.name=z,this[bu]=_i,this._data=new Set,this._atom=V(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,de){return A(K,de,z)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;Jn(function(){he(function(){var A,z;try{for(var K=Oe(w._data.values()),de=K.next();!de.done;de=K.next()){var Ee=de.value;w.delete(Ee)}}catch(We){A={error:We}}finally{try{de&&!de.done&&(z=K.return)&&z.call(K)}finally{if(A)throw A.error}}})})},O.prototype.forEach=function(w,A){var z,K;try{for(var de=Oe(this),Ee=de.next();!Ee.done;Ee=de.next()){var We=Ee.value;w.call(A,We,We,this)}}catch(at){z={error:at}}finally{try{Ee&&!Ee.done&&(K=de.return)&&K.call(de)}finally{if(z)throw z.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var A=this;if(It(this._atom),Pr(this)&&!(K=tn(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){Jn(function(){A._data.add(A.enhancer(w,void 0)),A._atom.reportChanged()});var z=Mr(this),K=z?{type:"add",object:this,newValue:w}:null;z&&ar(this,K)}return this},O.prototype.delete=function(w){var A=this;if(Pr(this)&&!(K=tn(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=Mr(this),K=z?{type:"delete",object:this,oldValue:w}:null;return Jn(function(){A._atom.reportChanged(),A._data.delete(w)}),z&&ar(this,K),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,A=Array.from(this.keys()),z=Array.from(this.values());return Zt({next:function(){var K=w;return w+=1,K<z.length?{value:[A[K],z[K]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,A=0,z=Array.from(this._data.values());return Zt({next:function(){return A<z.length?{value:w.dehanceValue(z[A++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var A=this;return br(w)&&(w=w.toJS()),Jn(function(){var z=Rt(!0);try{Array.isArray(w)||ee(w)?(A.clear(),w.forEach(function(K){return A.add(K)})):w!=null&&j("Cannot initialize set from "+w)}finally{dn(z)}}),this},O.prototype.observe=function(w,A){return go(this,w)},O.prototype.intercept=function(w){return Co(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[bu=$,Symbol.iterator]=function(){return this.values()},O}(),br=G("ObservableSet",mo),Ou=function(){function O(w,A,z,K){A===void 0&&(A=new Map),this.target=w,this.values=A,this.name=z,this.defaultEnhancer=K,this.keysAtom=new B(z+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,A){var z=this.target,K=this.values.get(w);if(K instanceof ho)K.set(A);else{if(Pr(this)){if(!(Ee=tn(this,{type:"update",object:this.proxy||z,name:w,newValue:A})))return;A=Ee.newValue}if((A=K.prepareNewValue(A))!==ct.UNCHANGED){var de=Mr(this),Ee=de?{type:"update",object:this.proxy||z,oldValue:K.value,name:w,newValue:A}:null;K.setNewValue(A),de&&ar(this,Ee)}}},O.prototype.has=function(w){var A=this.pendingKeys||(this.pendingKeys=new Map),z=A.get(w);if(z)return z.get();var K=!!this.values.get(w);return z=new Nn(K,bt,this.name+"."+ie(w)+"?",!1),A.set(w,z),z.get()},O.prototype.addObservableProp=function(w,A,z){z===void 0&&(z=this.defaultEnhancer);var K=this.target;if(Pr(this)){var de=tn(this,{object:this.proxy||K,name:w,type:"add",newValue:A});if(!de)return;A=de.newValue}var Ee=new Nn(A,z,this.name+"."+ie(w),!1);this.values.set(w,Ee),A=Ee.value,Object.defineProperty(K,w,function(We){return qo[We]||(qo[We]={configurable:!0,enumerable:!0,get:function(){return this[$].read(We)},set:function(at){this[$].write(We,at)}})}(w)),this.notifyPropertyAddition(w,A)},O.prototype.addComputedProp=function(w,A,z){var K,de,Ee,We=this.target;z.name=z.name||this.name+"."+ie(A),this.values.set(A,new ho(z)),(w===We||(K=w,de=A,!(Ee=Object.getOwnPropertyDescriptor(K,de))||Ee.configurable!==!1&&Ee.writable!==!1))&&Object.defineProperty(w,A,function(at){return Oa[at]||(Oa[at]={configurable:ct.computedConfigurable,enumerable:!1,get:function(){return bo(this).read(at)},set:function($t){bo(this).write(at,$t)}})}(A))},O.prototype.remove=function(w){if(this.values.has(w)){var A=this.target;if(Pr(this)&&!(at=tn(this,{object:this.proxy||A,name:w,type:"remove"})))return;try{Er();var z=Mr(this),K=!1,de=this.values.get(w),Ee=de&&de.get();if(de&&de.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var We=this.pendingKeys.get(w);We&&We.set(!1)}delete this.target[w];var at=z?{type:"remove",object:this.proxy||A,oldValue:Ee,name:w}:null;z&&ar(this,at)}finally{Ir()}}},O.prototype.illegalAccess=function(w,A){},O.prototype.observe=function(w,A){return go(this,w)},O.prototype.intercept=function(w){return Co(this,w)},O.prototype.notifyPropertyAddition=function(w,A){var z=Mr(this),K=z?{type:"add",object:this.proxy||this.target,name:w,newValue:A}:null;if(z&&ar(this,K),this.pendingKeys){var de=this.pendingKeys.get(w);de&&de.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,A;this.keysAtom.reportObserved();var z=[];try{for(var K=Oe(this.values),de=K.next();!de.done;de=K.next()){var Ee=Me(de.value,2),We=Ee[0];Ee[1]instanceof Nn&&z.push(We)}}catch(at){w={error:at}}finally{try{de&&!de.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return z},O}();function Rr(O,w,A){if(w===void 0&&(w=""),A===void 0&&(A=Ze),Object.prototype.hasOwnProperty.call(O,$))return O[$];D(O)||(w=(O.constructor.name||"ObservableObject")+"@"+x()),w||(w="ObservableObject@"+x());var z=new Ou(O,new Map,ie(w),A);return R(O,$,z),z}var qo=Object.create(null),Oa=Object.create(null);function bo(O){var w=O[$];return w||(rt(O),O[$])}var Lr=G("ObservableObjectAdministration",Ou);function Ar(O){return!!I(O)&&(rt(O),Lr(O[$]))}function $r(O,w){if(typeof O=="object"&&O!==null){if(Vr(O))return w!==void 0&&j(!1),O[$].atom;if(br(O))return O[$];if(Vn(O)){var A=O;return w===void 0?A._keysAtom:((z=A._data.get(w)||A._hasMap.get(w))||j(!1),z)}var z;if(rt(O),w&&!O[$]&&O[w],Ar(O))return w?((z=O[$].values.get(w))||j(!1),z):j(!1);if(Y(O)||ko(O)||Gi(O))return O}else if(typeof O=="function"&&Gi(O[$]))return O[$];return j(!1)}function _o(O,w){return O||j("Expecting some object"),w!==void 0?_o($r(O,w)):Y(O)||ko(O)||Gi(O)||Vn(O)||br(O)?O:(rt(O),O[$]?O[$]:void j(!1))}var we=Object.prototype.toString;function De(O,w,A){return A===void 0&&(A=-1),Re(O,w,A)}function Re(O,w,A,z,K){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var de=typeof O;if(de!=="function"&&de!=="object"&&typeof w!="object")return!1;var Ee=we.call(O);if(Ee!==we.call(w))return!1;switch(Ee){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":A>=0&&A++}O=Qe(O),w=Qe(w);var We=Ee==="[object Array]";if(!We){if(typeof O!="object"||typeof w!="object")return!1;var at=O.constructor,$t=w.constructor;if(at!==$t&&!(typeof at=="function"&&at instanceof at&&typeof $t=="function"&&$t instanceof $t)&&"constructor"in O&&"constructor"in w)return!1}if(A===0)return!1;A<0&&(A=-1),K=K||[];for(var et=(z=z||[]).length;et--;)if(z[et]===O)return K[et]===w;if(z.push(O),K.push(w),We){if((et=O.length)!==w.length)return!1;for(;et--;)if(!Re(O[et],w[et],A-1,z,K))return!1}else{var vn=Object.keys(O),Wt=void 0;if(et=vn.length,Object.keys(w).length!==et)return!1;for(;et--;)if(!Ft(w,Wt=vn[et])||!Re(O[Wt],w[Wt],A-1,z,K))return!1}return z.pop(),K.pop(),!0}function Qe(O){return Vr(O)?O.slice():H(O)||Vn(O)||ee(O)||br(O)?Array.from(O.entries()):O}function Ft(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function Zt(O){return O[Symbol.iterator]=On,O}function On(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:uu,extras:{getDebugName:function(O,w){return(w!==void 0?$r(O,w):Ar(O)||Vn(O)||br(O)?_o(O):$r(O)).name}},$mobx:$})}).call(this,o(163),o(68))},function(u,l,o){var f=o(113),p=o(42),m=o(179);f||p(Object.prototype,"toString",m,{unsafe:!0})},function(u,l,o){var f=o(41),p=o(100),m=o(80),g=o(58),x=o(116),j="Array Iterator",S=g.set,T=g.getterFor(j);u.exports=x(Array,"Array",function(k,I){S(this,{type:j,target:f(k),index:0,kind:I})},function(){var k=T(this),I=k.target,D=k.kind,R=k.index++;return!I||R>=I.length?(k.target=void 0,{value:void 0,done:!0}):D=="keys"?{value:R,done:!1}:D=="values"?{value:I[R],done:!1}:{value:[R,I[R]],done:!1}},"values"),m.Arguments=m.Array,p("keys"),p("values"),p("entries")},function(u,l,o){var f=o(16),p=o(7),m=o(46),g=o(76),x=o(34),j=o(15),S=o(71),T=o(36),k=o(108),I=o(18),D=o(35),R=o(96),G=o(30),H=o(33),ee=o(54),ue=o(87),ie=o(32),te=o(40),ne=o(41),$=o(86),B=o(39),Y=o(69),V=o(60),q=o(77),ce=o(74),Se=o(139),Oe=o(112),Me=o(50),Fe=o(38),je=o(84),ve=o(98),Pe=o(42),Ae=o(89),Ge=o(93),rt=o(72),wt=o(90),Ve=o(28),Ze=o(140),bt=o(141),fe=o(78),se=o(58),ye=o(79).forEach,Ne=Ge("hidden"),He="Symbol",Le=Ve("toPrimitive"),xt=se.set,Tt=se.getterFor(He),jt=Object.prototype,vt=p.Symbol,ke=vt&&vt.prototype,st=p.TypeError,pe=p.QObject,ot=m("JSON","stringify"),zt=Me.f,sn=Fe.f,Bt=Se.f,en=je.f,yn=j([].push),Sn=Ae("symbols"),It=Ae("op-symbols"),Fn=Ae("string-to-symbol-registry"),Q=Ae("symbol-to-string-registry"),he=Ae("wks"),ae=!pe||!pe.prototype||!pe.prototype.findChild,be=T&&I(function(){return V(sn({},"a",{get:function(){return sn(this,"a",{value:7}).a}})).a!=7})?function(it,_t,St){var Rt=zt(jt,_t);Rt&&delete jt[_t],sn(it,_t,St),Rt&&it!==jt&&sn(jt,_t,Rt)}:sn,$e=function(it,_t){var St=Sn[it]=V(ke);return xt(St,{type:He,tag:it,description:_t}),T||(St.description=_t),St},Ke=function(it,_t,St){it===jt&&Ke(It,_t,St),ie(it);var Rt=$(_t);return ie(St),D(Sn,Rt)?(St.enumerable?(D(it,Ne)&&it[Ne][Rt]&&(it[Ne][Rt]=!1),St=V(St,{enumerable:Y(0,!1)})):(D(it,Ne)||sn(it,Ne,Y(1,{})),it[Ne][Rt]=!0),be(it,Rt,St)):sn(it,Rt,St)},ft=function(it,_t){ie(it);var St=ne(_t),Rt=q(St).concat(Wn(St));return ye(Rt,function(dn){T&&!x(Ut,St,dn)||Ke(it,dn,St[dn])}),it},Ut=function(it){var _t=$(it),St=x(en,this,_t);return!(this===jt&&D(Sn,_t)&&!D(It,_t))&&(!(St||!D(this,_t)||!D(Sn,_t)||D(this,Ne)&&this[Ne][_t])||St)},Zn=function(it,_t){var St=ne(it),Rt=$(_t);if(St!==jt||!D(Sn,Rt)||D(It,Rt)){var dn=zt(St,Rt);return!dn||!D(Sn,Rt)||D(St,Ne)&&St[Ne][Rt]||(dn.enumerable=!0),dn}},lr=function(it){var _t=Bt(ne(it)),St=[];return ye(_t,function(Rt){D(Sn,Rt)||D(rt,Rt)||yn(St,Rt)}),St},Wn=function(it){var _t=it===jt,St=Bt(_t?It:ne(it)),Rt=[];return ye(St,function(dn){!D(Sn,dn)||_t&&!D(jt,dn)||yn(Rt,Sn[dn])}),Rt};if(k||(vt=function(){if(ee(ke,this))throw st("Symbol is not a constructor");var it=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,_t=wt(it),St=function(Rt){this===jt&&x(St,It,Rt),D(this,Ne)&&D(this[Ne],_t)&&(this[Ne][_t]=!1),be(this,_t,Y(1,Rt))};return T&&ae&&be(jt,_t,{configurable:!0,set:St}),$e(_t,it)},Pe(ke=vt.prototype,"toString",function(){return Tt(this).tag}),Pe(vt,"withoutSetter",function(it){return $e(wt(it),it)}),je.f=Ut,Fe.f=Ke,Me.f=Zn,ce.f=Se.f=lr,Oe.f=Wn,Ze.f=function(it){return $e(Ve(it),it)},T&&(sn(ke,"description",{configurable:!0,get:function(){return Tt(this).description}}),S||Pe(jt,"propertyIsEnumerable",Ut,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:vt}),ye(q(he),function(it){bt(it)}),f({target:He,stat:!0,forced:!k},{for:function(it){var _t=B(it);if(D(Fn,_t))return Fn[_t];var St=vt(_t);return Fn[_t]=St,Q[St]=_t,St},keyFor:function(it){if(!ue(it))throw st(it+" is not a symbol");if(D(Q,it))return Q[it]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),f({target:"Object",stat:!0,forced:!k,sham:!T},{create:function(it,_t){return _t===void 0?V(it):ft(V(it),_t)},defineProperty:Ke,defineProperties:ft,getOwnPropertyDescriptor:Zn}),f({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:lr,getOwnPropertySymbols:Wn}),f({target:"Object",stat:!0,forced:I(function(){Oe.f(1)})},{getOwnPropertySymbols:function(it){return Oe.f(te(it))}}),ot&&f({target:"JSON",stat:!0,forced:!k||I(function(){var it=vt();return ot([it])!="[null]"||ot({a:it})!="{}"||ot(Object(it))!="{}"})},{stringify:function(it,_t,St){var Rt=ve(arguments),dn=_t;if((H(_t)||it!==void 0)&&!ue(it))return R(_t)||(_t=function(Nn,Ao){if(G(dn)&&(Ao=x(dn,this,Nn,Ao)),!ue(Ao))return Ao}),Rt[1]=_t,g(ot,null,Rt)}}),!ke[Le]){var Yn=ke.valueOf;Pe(ke,Le,function(it){return x(Yn,this)})}fe(vt,He),rt[Ne]=!0},function(u,l,o){var f=o(7),p=o(152),m=o(153),g=o(3),x=o(57),j=o(28),S=j("iterator"),T=j("toStringTag"),k=g.values,I=function(R,G){if(R){if(R[S]!==k)try{x(R,S,k)}catch{R[S]=k}if(R[T]||x(R,T,G),p[G]){for(var H in g)if(R[H]!==g[H])try{x(R,H,g[H])}catch{R[H]=g[H]}}}};for(var D in p)I(f[D]&&f[D].prototype,D);I(m,"DOMTokenList")},function(u,l,o){var f=o(151).charAt,p=o(39),m=o(58),g=o(116),x="String Iterator",j=m.set,S=m.getterFor(x);g(String,"String",function(T){j(this,{type:x,string:p(T),index:0})},function(){var T,k=S(this),I=k.string,D=k.index;return D>=I.length?{value:void 0,done:!0}:(T=f(I,D),k.index+=T.length,{value:T,done:!1})})},function(u,l,o){(function(f){var p=function(m){return m&&m.Math==Math&&m};u.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(u,l,o){var f=o(16),p=o(36),m=o(7),g=o(15),x=o(35),j=o(30),S=o(54),T=o(39),k=o(38).f,I=o(134),D=m.Symbol,R=D&&D.prototype;if(p&&j(D)&&(!("description"in R)||D().description!==void 0)){var G={},H=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:T(arguments[0]),Y=S(R,this)?new D(B):B===void 0?D():D(B);return B===""&&(G[Y]=!0),Y};I(H,D),H.prototype=R,R.constructor=H;var ee=String(D("test"))=="Symbol(test)",ue=g(R.toString),ie=g(R.valueOf),te=/^Symbol\((.*)\)[^)]+$/,ne=g("".replace),$=g("".slice);k(R,"description",{configurable:!0,get:function(){var B=ie(this),Y=ue(B);if(x(G,B))return"";var V=ee?$(Y,7,-1):ne(Y,te,"$1");return V===""?void 0:V}}),f({global:!0,forced:!0},{Symbol:H})}},function(u,l,o){o(141)("iterator")},function(u,l,o){o.d(l,"a",function(){return g.a}),o.d(l,"c",function(){return g.e}),o.d(l,"h",function(){return te}),o.d(l,"i",function(){return ee}),o.d(l,"j",function(){return G}),o.d(l,"b",function(){return Me}),o.d(l,"e",function(){return Pe}),o.d(l,"f",function(){return Fe}),o.d(l,"g",function(){return Sn});var f,p,m,g=o(0),x=0,j=[],S=g.i.__b,T=g.i.__r,k=g.i.diffed,I=g.i.__c,D=g.i.unmount;function R(Q,he){g.i.__h&&g.i.__h(p,Q,x||he),x=0;var ae=p.__H||(p.__H={__:[],__h:[]});return Q>=ae.__.length&&ae.__.push({}),ae.__[Q]}function G(Q){return x=1,H(ce,Q)}function H(Q,he,ae){var be=R(f++,2);return be.t=Q,be.__c||(be.__=[ae?ae(he):ce(void 0,he),function($e){var Ke=be.t(be.__[0],$e);be.__[0]!==Ke&&(be.__=[Ke,be.__[1]],be.__c.setState({}))}],be.__c=p),be.__}function ee(Q,he){var ae=R(f++,3);!g.i.__s&&q(ae.__H,he)&&(ae.__=Q,ae.__H=he,p.__H.__h.push(ae))}function ue(Q,he){var ae=R(f++,4);!g.i.__s&&q(ae.__H,he)&&(ae.__=Q,ae.__H=he,p.__h.push(ae))}function ie(Q,he){var ae=R(f++,7);return q(ae.__H,he)&&(ae.__=Q(),ae.__H=he,ae.__h=Q),ae.__}function te(Q,he){return x=8,ie(function(){return Q},he)}function ne(){var Q;for(j.sort(function(he,ae){return he.__v.__b-ae.__v.__b});Q=j.pop();)if(Q.__P)try{Q.__H.__h.forEach(Y),Q.__H.__h.forEach(V),Q.__H.__h=[]}catch(he){Q.__H.__h=[],g.i.__e(he,Q.__v)}}g.i.__b=function(Q){p=null,S&&S(Q)},g.i.__r=function(Q){T&&T(Q),f=0;var he=(p=Q.__c).__H;he&&(he.__h.forEach(Y),he.__h.forEach(V),he.__h=[])},g.i.diffed=function(Q){k&&k(Q);var he=Q.__c;he&&he.__H&&he.__H.__h.length&&(j.push(he)!==1&&m===g.i.requestAnimationFrame||((m=g.i.requestAnimationFrame)||B)(ne)),p=null},g.i.__c=function(Q,he){he.some(function(ae){try{ae.__h.forEach(Y),ae.__h=ae.__h.filter(function(be){return!be.__||V(be)})}catch(be){he.some(function($e){$e.__h&&($e.__h=[])}),he=[],g.i.__e(be,ae.__v)}}),I&&I(Q,he)},g.i.unmount=function(Q){D&&D(Q);var he,ae=Q.__c;ae&&ae.__H&&(ae.__H.__.forEach(function(be){try{Y(be)}catch($e){he=$e}}),he&&g.i.__e(he,ae.__v))};var $=typeof requestAnimationFrame=="function";function B(Q){var he,ae=function(){clearTimeout(be),$&&cancelAnimationFrame(he),setTimeout(Q)},be=setTimeout(ae,100);$&&(he=requestAnimationFrame(ae))}function Y(Q){var he=p,ae=Q.__c;typeof ae=="function"&&(Q.__c=void 0,ae()),p=he}function V(Q){var he=p;Q.__c=Q.__(),p=he}function q(Q,he){return!Q||Q.length!==he.length||he.some(function(ae,be){return ae!==Q[be]})}function ce(Q,he){return typeof he=="function"?he(Q):he}function Se(Q,he){for(var ae in he)Q[ae]=he[ae];return Q}function Oe(Q,he){for(var ae in Q)if(ae!=="__source"&&!(ae in he))return!0;for(var be in he)if(be!=="__source"&&Q[be]!==he[be])return!0;return!1}function Me(Q){this.props=Q}function Fe(Q,he){function ae($e){var Ke=this.props.ref,ft=Ke==$e.ref;return!ft&&Ke&&(Ke.call?Ke(null):Ke.current=null),he?!he(this.props,$e)||!ft:Oe(this.props,$e)}function be($e){return this.shouldComponentUpdate=ae,Object(g.e)(Q,$e)}return be.displayName="Memo("+(Q.displayName||Q.name)+")",be.prototype.isReactComponent=!0,be.__f=!0,be}(Me.prototype=new g.a).isPureReactComponent=!0,Me.prototype.shouldComponentUpdate=function(Q,he){return Oe(this.props,Q)||Oe(this.state,he)};var je=g.i.__b;g.i.__b=function(Q){Q.type&&Q.type.__f&&Q.ref&&(Q.props.ref=Q.ref,Q.ref=null),je&&je(Q)};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(Q){function he(ae,be){var $e=Se({},ae);return delete $e.ref,Q($e,!(be=ae.ref||be)||typeof be=="object"&&!("current"in be)?null:be)}return he.$$typeof=ve,he.render=he,he.prototype.isReactComponent=he.__f=!0,he.displayName="ForwardRef("+(Q.displayName||Q.name)+")",he}var Ae=function(Q,he){return Q==null?null:Object(g.k)(Object(g.k)(Q).map(he))},Ge={map:Ae,forEach:Ae,count:function(Q){return Q?Object(g.k)(Q).length:0},only:function(Q){var he=Object(g.k)(Q);if(he.length!==1)throw"Children.only";return he[0]},toArray:g.k},rt=g.i.__e;g.i.__e=function(Q,he,ae){if(Q.then){for(var be,$e=he;$e=$e.__;)if((be=$e.__c)&&be.__c)return he.__e==null&&(he.__e=ae.__e,he.__k=ae.__k),be.__c(Q,he)}rt(Q,he,ae)};var wt=g.i.unmount;function Ve(Q,he,ae){return Q&&(Q.__c&&Q.__c.__H&&(Q.__c.__H.__.forEach(function(be){typeof be.__c=="function"&&be.__c()}),Q.__c.__H=null),(Q=Se({},Q)).__c!=null&&(Q.__c.__P===ae&&(Q.__c.__P=he),Q.__c=null),Q.__k=Q.__k&&Q.__k.map(function(be){return Ve(be,he,ae)})),Q}function Ze(Q,he,ae){return Q&&(Q.__v=null,Q.__k=Q.__k&&Q.__k.map(function(be){return Ze(be,he,ae)}),Q.__c&&Q.__c.__P===he&&(Q.__e&&ae.insertBefore(Q.__e,Q.__d),Q.__c.__e=!0,Q.__c.__P=ae)),Q}function bt(){this.__u=0,this.t=null,this.__b=null}function fe(Q){var he=Q.__.__c;return he&&he.__e&&he.__e(Q)}function se(){this.u=null,this.o=null}g.i.unmount=function(Q){var he=Q.__c;he&&he.__R&&he.__R(),he&&Q.__h===!0&&(Q.type=null),wt&&wt(Q)},(bt.prototype=new g.a).__c=function(Q,he){var ae=he.__c,be=this;be.t==null&&(be.t=[]),be.t.push(ae);var $e=fe(be.__v),Ke=!1,ft=function(){Ke||(Ke=!0,ae.__R=null,$e?$e(Ut):Ut())};ae.__R=ft;var Ut=function(){if(!--be.__u){if(be.state.__e){var lr=be.state.__e;be.__v.__k[0]=Ze(lr,lr.__c.__P,lr.__c.__O)}var Wn;for(be.setState({__e:be.__b=null});Wn=be.t.pop();)Wn.forceUpdate()}},Zn=he.__h===!0;be.__u++||Zn||be.setState({__e:be.__b=be.__v.__k[0]}),Q.then(ft,ft)},bt.prototype.componentWillUnmount=function(){this.t=[]},bt.prototype.render=function(Q,he){if(this.__b){if(this.__v.__k){var ae=document.createElement("div"),be=this.__v.__k[0].__c;this.__v.__k[0]=Ve(this.__b,ae,be.__O=be.__P)}this.__b=null}var $e=he.__e&&Object(g.e)(g.b,null,Q.fallback);return $e&&($e.__h=null),[Object(g.e)(g.b,null,he.__e?null:Q.children),$e]};var ye=function(Q,he,ae){if(++ae[1]===ae[0]&&Q.o.delete(he),Q.props.revealOrder&&(Q.props.revealOrder[0]!=="t"||!Q.o.size))for(ae=Q.u;ae;){for(;ae.length>3;)ae.pop()();if(ae[1]<ae[0])break;Q.u=ae=ae[2]}};function Ne(Q){return this.getChildContext=function(){return Q.context},Q.children}function He(Q){var he=this,ae=Q.i;he.componentWillUnmount=function(){Object(g.j)(null,he.l),he.l=null,he.i=null},he.i&&he.i!==ae&&he.componentWillUnmount(),Q.__v?(he.l||(he.i=ae,he.l={nodeType:1,parentNode:ae,childNodes:[],appendChild:function(be){this.childNodes.push(be),he.i.appendChild(be)},insertBefore:function(be,$e){this.childNodes.push(be),he.i.appendChild(be)},removeChild:function(be){this.childNodes.splice(this.childNodes.indexOf(be)>>>1,1),he.i.removeChild(be)}}),Object(g.j)(Object(g.e)(Ne,{context:he.context},Q.__v),he.l)):he.l&&he.componentWillUnmount()}(se.prototype=new g.a).__e=function(Q){var he=this,ae=fe(he.__v),be=he.o.get(Q);return be[0]++,function($e){var Ke=function(){he.props.revealOrder?(be.push($e),ye(he,Q,be)):$e()};ae?ae(Ke):Ke()}},se.prototype.render=function(Q){this.u=null,this.o=new Map;var he=Object(g.k)(Q.children);Q.revealOrder&&Q.revealOrder[0]==="b"&&he.reverse();for(var ae=he.length;ae--;)this.o.set(he[ae],this.u=[1,0,this.u]);return Q.children},se.prototype.componentDidUpdate=se.prototype.componentDidMount=function(){var Q=this;this.o.forEach(function(he,ae){ye(Q,ae,he)})};var Le=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,xt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Tt=typeof document<"u",jt=function(Q){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(Q)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Q){Object.defineProperty(g.a.prototype,Q,{configurable:!0,get:function(){return this["UNSAFE_"+Q]},set:function(he){Object.defineProperty(this,Q,{configurable:!0,writable:!0,value:he})}})});var vt=g.i.event;function ke(){}function st(){return this.cancelBubble}function pe(){return this.defaultPrevented}g.i.event=function(Q){return vt&&(Q=vt(Q)),Q.persist=ke,Q.isPropagationStopped=st,Q.isDefaultPrevented=pe,Q.nativeEvent=Q};var ot,zt={configurable:!0,get:function(){return this.class}},sn=g.i.vnode;g.i.vnode=function(Q){var he=Q.type,ae=Q.props,be=ae;if(typeof he=="string"){var $e=he.indexOf("-")===-1;for(var Ke in be={},ae){var ft=ae[Ke];Tt&&Ke==="children"&&he==="noscript"||Ke==="value"&&"defaultValue"in ae&&ft==null||(Ke==="defaultValue"&&"value"in ae&&ae.value==null?Ke="value":Ke==="download"&&ft===!0?ft="":/ondoubleclick/i.test(Ke)?Ke="ondblclick":/^onchange(textarea|input)/i.test(Ke+he)&&!jt(ae.type)?Ke="oninput":/^onfocus$/i.test(Ke)?Ke="onfocusin":/^onblur$/i.test(Ke)?Ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ke)?Ke=Ke.toLowerCase():$e&&xt.test(Ke)?Ke=Ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():ft===null&&(ft=void 0),be[Ke]=ft)}he=="select"&&be.multiple&&Array.isArray(be.value)&&(be.value=Object(g.k)(ae.children).forEach(function(Ut){Ut.props.selected=be.value.indexOf(Ut.props.value)!=-1})),he=="select"&&be.defaultValue!=null&&(be.value=Object(g.k)(ae.children).forEach(function(Ut){Ut.props.selected=be.multiple?be.defaultValue.indexOf(Ut.props.value)!=-1:be.defaultValue==Ut.props.value})),Q.props=be,ae.class!=ae.className&&(zt.enumerable="className"in ae,ae.className!=null&&(be.class=ae.className),Object.defineProperty(be,"className",zt))}Q.$$typeof=Le,sn&&sn(Q)};var Bt=g.i.__r;g.i.__r=function(Q){Bt&&Bt(Q),ot=Q.__c};var en={ReactCurrentDispatcher:{current:{readContext:function(Q){return ot.__n[Q.__c].props.value}}}};function yn(Q){return!!Q&&Q.$$typeof===Le}var Sn=function(Q,he){return Q(he)},It=g.b,Fn={useState:G,useReducer:H,useEffect:ee,useLayoutEffect:ue,useRef:function(Q){return x=5,ie(function(){return{current:Q}},[])},useImperativeHandle:function(Q,he,ae){x=6,ue(function(){typeof Q=="function"?Q(he()):Q&&(Q.current=he())},ae==null?ae:ae.concat(Q))},useMemo:ie,useCallback:te,useContext:function(Q){var he=p.context[Q.__c],ae=R(f++,9);return ae.c=Q,he?(ae.__==null&&(ae.__=!0,he.sub(p)),he.props.value):Q.__},useDebugValue:function(Q,he){g.i.useDebugValue&&g.i.useDebugValue(he?he(Q):Q)},version:"17.0.2",Children:Ge,render:function(Q,he,ae){return he.__k==null&&(he.textContent=""),Object(g.j)(Q,he),typeof ae=="function"&&ae(),Q?Q.__c:null},hydrate:function(Q,he,ae){return Object(g.h)(Q,he),typeof ae=="function"&&ae(),Q?Q.__c:null},unmountComponentAtNode:function(Q){return!!Q.__k&&(Object(g.j)(null,Q),!0)},createPortal:function(Q,he){return Object(g.e)(He,{__v:Q,i:he})},createElement:g.e,createContext:g.d,createFactory:function(Q){return g.e.bind(null,Q)},cloneElement:function(Q){return yn(Q)?g.c.apply(null,arguments):Q},createRef:g.f,Fragment:g.b,isValidElement:yn,findDOMNode:function(Q){return Q&&(Q.base||Q.nodeType===1&&Q)||null},Component:g.a,PureComponent:Me,memo:Fe,forwardRef:Pe,flushSync:function(Q,he){return Q(he)},unstable_batchedUpdates:Sn,StrictMode:It,Suspense:bt,SuspenseList:se,lazy:function(Q){var he,ae,be;function $e(Ke){if(he||(he=Q()).then(function(ft){ae=ft.default||ft},function(ft){be=ft}),be)throw be;if(!ae)throw he;return Object(g.e)(ae,Ke)}return $e.displayName="Lazy",$e.__f=!0,$e},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:en};l.d=Fn},function(u,l,o){var f=o(7),p=o(152),m=o(153),g=o(187),x=o(57),j=function(T){if(T&&T.forEach!==g)try{x(T,"forEach",g)}catch{T.forEach=g}};for(var S in p)p[S]&&j(f[S]&&f[S].prototype);j(m)},function(u,l,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(u,l,o){var f=o(16),p=o(18),m=o(40),g=o(101),x=o(143);f({target:"Object",stat:!0,forced:p(function(){g(1)}),sham:!x},{getPrototypeOf:function(j){return g(m(j))}})},function(u,l,o){var f=o(16),p=o(46),m=o(76),g=o(203),x=o(165),j=o(32),S=o(33),T=o(60),k=o(18),I=p("Reflect","construct"),D=Object.prototype,R=[].push,G=k(function(){function ue(){}return!(I(function(){},[],ue)instanceof ue)}),H=!k(function(){I(function(){})}),ee=G||H;f({target:"Reflect",stat:!0,forced:ee,sham:ee},{construct:function(ue,ie){x(ue),j(ie);var te=arguments.length<3?ue:x(arguments[2]);if(H&&!G)return I(ue,ie,te);if(ue==te){switch(ie.length){case 0:return new ue;case 1:return new ue(ie[0]);case 2:return new ue(ie[0],ie[1]);case 3:return new ue(ie[0],ie[1],ie[2]);case 4:return new ue(ie[0],ie[1],ie[2],ie[3])}var ne=[null];return m(R,ne,ie),new(m(g,ue,ne))}var $=te.prototype,B=T(S($)?$:D),Y=m(ue,B,ie);return S(Y)?Y:B}})},function(u,l){var o=Function.prototype,f=o.bind,p=o.call,m=f&&f.bind(p);u.exports=f?function(g){return g&&m(p,g)}:function(g){return g&&function(){return p.apply(g,arguments)}}},function(u,l,o){var f=o(7),p=o(50).f,m=o(57),g=o(42),x=o(110),j=o(134),S=o(95);u.exports=function(T,k){var I,D,R,G,H,ee=T.target,ue=T.global,ie=T.stat;if(I=ue?f:ie?f[ee]||x(ee,{}):(f[ee]||{}).prototype)for(D in k){if(G=k[D],R=T.noTargetGet?(H=p(I,D))&&H.value:I[D],!S(ue?D:ee+(ie?".":"#")+D,T.forced)&&R!==void 0){if(typeof G==typeof R)continue;j(G,R)}(T.sham||R&&R.sham)&&m(G,"sham",!0),g(I,D,G,T)}}},function(u,l,o){var f=o(16),p=o(7),m=o(96),g=o(99),x=o(33),j=o(75),S=o(45),T=o(41),k=o(62),I=o(28),D=o(81),R=o(98),G=D("slice"),H=I("species"),ee=p.Array,ue=Math.max;f({target:"Array",proto:!0,forced:!G},{slice:function(ie,te){var ne,$,B,Y=T(this),V=S(Y),q=j(ie,V),ce=j(te===void 0?V:te,V);if(m(Y)&&(ne=Y.constructor,(g(ne)&&(ne===ee||m(ne.prototype))||x(ne)&&(ne=ne[H])===null)&&(ne=void 0),ne===ee||ne===void 0))return R(Y,q,ce);for($=new(ne===void 0?ee:ne)(ue(ce-q,0)),B=0;q<ce;q++,B++)q in Y&&k($,B,Y[q]);return $.length=B,$}})},function(u,l){u.exports=function(o){try{return!!o()}catch{return!0}}},function(u,l,o){var f=o(16),p=o(103);f({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},function(u,l,o){var f=o(16),p=o(40),m=o(77);f({target:"Object",stat:!0,forced:o(18)(function(){m(1)})},{keys:function(g){return m(p(g))}})},function(u,l,o){var f=o(36),p=o(73).EXISTS,m=o(15),g=o(38).f,x=Function.prototype,j=m(x.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,T=m(S.exec);f&&!p&&g(x,"name",{configurable:!0,get:function(){try{return T(S,j(this))[1]}catch{return""}}})},function(u,l,o){var f=o(16),p=o(18),m=o(41),g=o(50).f,x=o(36),j=p(function(){g(1)});f({target:"Object",stat:!0,forced:!x||j,sham:!x},{getOwnPropertyDescriptor:function(S,T){return g(m(S),T)}})},function(u,l,o){var f=o(16),p=o(188);f({target:"Array",stat:!0,forced:!o(120)(function(m){Array.from(m)})},{from:p})},function(u,l,o){var f=o(16),p=o(79).filter;f({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(m){return p(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var f=o(16),p=o(36),m=o(135),g=o(41),x=o(50),j=o(62);f({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(S){for(var T,k,I=g(S),D=x.f,R=m(I),G={},H=0;R.length>H;)(k=D(I,T=R[H++]))!==void 0&&j(G,T,k);return G}})},function(u,l,o){var f=o(16),p=o(7),m=o(18),g=o(96),x=o(33),j=o(40),S=o(45),T=o(62),k=o(115),I=o(81),D=o(28),R=o(70),G=D("isConcatSpreadable"),H=9007199254740991,ee="Maximum allowed index exceeded",ue=p.TypeError,ie=R>=51||!m(function(){var $=[];return $[G]=!1,$.concat()[0]!==$}),te=I("concat"),ne=function($){if(!x($))return!1;var B=$[G];return B!==void 0?!!B:g($)};f({target:"Array",proto:!0,forced:!ie||!te},{concat:function($){var B,Y,V,q,ce,Se=j(this),Oe=k(Se,0),Me=0;for(B=-1,V=arguments.length;B<V;B++)if(ne(ce=B===-1?Se:arguments[B])){if(Me+(q=S(ce))>H)throw ue(ee);for(Y=0;Y<q;Y++,Me++)Y in ce&&T(Oe,Me,ce[Y])}else{if(Me>=H)throw ue(ee);T(Oe,Me++,ce)}return Oe.length=Me,Oe}})},,function(u,l,o){var f=o(7),p=o(89),m=o(35),g=o(90),x=o(108),j=o(132),S=p("wks"),T=f.Symbol,k=T&&T.for,I=j?T:T&&T.withoutSetter||g;u.exports=function(D){if(!m(S,D)||!x&&typeof S[D]!="string"){var R="Symbol."+D;x&&m(T,D)?S[D]=T[D]:S[D]=j&&k?k(R):I(R)}return S[D]}},function(u,l,o){var f=o(16),p=o(202);f({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},function(u,l){u.exports=function(o){return typeof o=="function"}},function(u,l,o){var f=o(106),p=typeof self=="object"&&self&&self.Object===Object&&self,m=f.a||p||Function("return this")();l.a=m},function(u,l,o){var f=o(7),p=o(33),m=f.String,g=f.TypeError;u.exports=function(x){if(p(x))return x;throw g(m(x)+" is not an object")}},function(u,l,o){var f=o(30);u.exports=function(p){return typeof p=="object"?p!==null:f(p)}},function(u,l){var o=Function.prototype.call;u.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(u,l,o){var f=o(15),p=o(40),m=f({}.hasOwnProperty);u.exports=Object.hasOwn||function(g,x){return m(p(g),x)}},function(u,l,o){var f=o(18);u.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,l,o){var f=o(16),p=o(79).map;f({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(m){return p(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var f=o(7),p=o(36),m=o(133),g=o(32),x=o(86),j=f.TypeError,S=Object.defineProperty;l.f=p?S:function(T,k,I){if(g(T),k=x(k),g(I),m)try{return S(T,k,I)}catch{}if("get"in I||"set"in I)throw j("Accessors not supported");return"value"in I&&(T[k]=I.value),T}},function(u,l,o){var f=o(7),p=o(97),m=f.String;u.exports=function(g){if(p(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(g)}},function(u,l,o){var f=o(7),p=o(44),m=f.Object;u.exports=function(g){return m(p(g))}},function(u,l,o){var f=o(85),p=o(44);u.exports=function(m){return f(p(m))}},function(u,l,o){var f=o(7),p=o(30),m=o(35),g=o(57),x=o(110),j=o(92),S=o(58),T=o(73).CONFIGURABLE,k=S.get,I=S.enforce,D=String(String).split("String");(u.exports=function(R,G,H,ee){var ue,ie=!!ee&&!!ee.unsafe,te=!!ee&&!!ee.enumerable,ne=!!ee&&!!ee.noTargetGet,$=ee&&ee.name!==void 0?ee.name:G;p(H)&&(String($).slice(0,7)==="Symbol("&&($="["+String($).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(H,"name")||T&&H.name!==$)&&g(H,"name",$),(ue=I(H)).source||(ue.source=D.join(typeof $=="string"?$:""))),R!==f?(ie?!ne&&R[G]&&(te=!0):delete R[G],te?R[G]=H:g(R,G,H)):te?R[G]=H:x(G,H)})(Function.prototype,"toString",function(){return p(this)&&k(this).source||j(this)})},function(u,l,o){(function(f){o.d(l,"d",function(){return g}),o.d(l,"c",function(){return x}),o.d(l,"b",function(){return j}),o.d(l,"a",function(){return T});var p=o(10),m=function(k,I){var D=typeof Symbol=="function"&&k[Symbol.iterator];if(!D)return k;var R,G,H=D.call(k),ee=[];try{for(;(I===void 0||I-- >0)&&!(R=H.next()).done;)ee.push(R.value)}catch(ue){G={error:ue}}finally{try{R&&!R.done&&(D=H.return)&&D.call(H)}finally{if(G)throw G.error}}return ee};function g(){var k=m(Object(p.j)(0),2)[1];return Object(p.h)(function(){k(function(I){return I+1})},[])}function x(k){if(!k||typeof k!="object")return!1;var I=Object.getPrototypeOf(k);return!I||I===Object.prototype}function j(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var S={};function T(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:S}}).call(this,o(68))},function(u,l,o){var f=o(7).TypeError;u.exports=function(p){if(p==null)throw f("Can't call method on "+p);return p}},function(u,l,o){var f=o(94);u.exports=function(p){return f(p.length)}},function(u,l,o){var f=o(7),p=o(30),m=function(g){return p(g)?g:void 0};u.exports=function(g,x){return arguments.length<2?m(f[g]):f[g]&&f[g][x]}},function(u,l,o){var f=o(16),p=o(34),m=o(33),g=o(32),x=o(204),j=o(50),S=o(101);f({target:"Reflect",stat:!0},{get:function T(k,I){var D,R,G=arguments.length<3?k:arguments[2];return g(k)===G?k[I]:(D=j.f(k,I))?x(D)?D.value:D.get===void 0?void 0:p(D.get,G):m(R=S(k))?T(R,I,G):void 0}})},function(u,l,o){(function(f){var p=o(31),m=o(171),g=h&&!h.nodeType&&h,x=g&&typeof f=="object"&&f&&!f.nodeType&&f,j=x&&x.exports===g?p.a.Buffer:void 0,S=(j?j.isBuffer:void 0)||m.a;l.a=S}).call(this,o(122)(u))},function(u,l,o){(function(f){var p=o(106),m=h&&!h.nodeType&&h,g=m&&typeof f=="object"&&f&&!f.nodeType&&f,x=g&&g.exports===m&&p.a.process,j=function(){try{var S=g&&g.require&&g.require("util").types;return S||x&&x.binding&&x.binding("util")}catch{}}();l.a=j}).call(this,o(122)(u))},function(u,l,o){var f=o(36),p=o(34),m=o(84),g=o(69),x=o(41),j=o(86),S=o(35),T=o(133),k=Object.getOwnPropertyDescriptor;l.f=f?k:function(I,D){if(I=x(I),D=j(D),T)try{return k(I,D)}catch{}if(S(I,D))return g(!p(m.f,I,D),I[D])}},function(u,l,o){var f=o(15),p=f({}.toString),m=f("".slice);u.exports=function(g){return m(p(g),8,-1)}},function(u,l,o){o(182)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},o(186))},function(u,l,o){var f=o(16),p=o(219).entries;f({target:"Object",stat:!0},{entries:function(m){return p(m)}})},function(u,l,o){var f=o(15);u.exports=f({}.isPrototypeOf)},function(u,l,o){var f=o(46);u.exports=f("navigator","userAgent")||""},function(u,l,o){var f=o(7),p=o(30),m=o(88),g=f.TypeError;u.exports=function(x){if(p(x))return x;throw g(m(x)+" is not a function")}},function(u,l,o){var f=o(36),p=o(38),m=o(69);u.exports=f?function(g,x,j){return p.f(g,x,m(1,j))}:function(g,x,j){return g[x]=j,g}},function(u,l,o){var f,p,m,g=o(175),x=o(7),j=o(15),S=o(33),T=o(57),k=o(35),I=o(109),D=o(93),R=o(72),G="Object already initialized",H=x.TypeError,ee=x.WeakMap;if(g||I.state){var ue=I.state||(I.state=new ee),ie=j(ue.get),te=j(ue.has),ne=j(ue.set);f=function(B,Y){if(te(ue,B))throw new H(G);return Y.facade=B,ne(ue,B,Y),Y},p=function(B){return ie(ue,B)||{}},m=function(B){return te(ue,B)}}else{var $=D("state");R[$]=!0,f=function(B,Y){if(k(B,$))throw new H(G);return Y.facade=B,T(B,$,Y),Y},p=function(B){return k(B,$)?B[$]:{}},m=function(B){return k(B,$)}}u.exports={set:f,get:p,has:m,enforce:function(B){return m(B)?p(B):f(B,{})},getterFor:function(B){return function(Y){var V;if(!S(Y)||(V=p(Y)).type!==B)throw H("Incompatible receiver, "+B+" required");return V}}}},function(u,l){var o=Math.ceil,f=Math.floor;u.exports=function(p){var m=+p;return m!=m||m===0?0:(m>0?f:o)(m)}},function(u,l,o){var f,p=o(32),m=o(176),g=o(111),x=o(72),j=o(138),S=o(91),T=o(93),k=T("IE_PROTO"),I=function(){},D=function(H){return"<script>"+H+"<\/script>"},R=function(H){H.write(D("")),H.close();var ee=H.parentWindow.Object;return H=null,ee},G=function(){try{f=new ActiveXObject("htmlfile")}catch{}var H,ee;G=typeof document<"u"?document.domain&&f?R(f):((ee=S("iframe")).style.display="none",j.appendChild(ee),ee.src="javascript:",(H=ee.contentWindow.document).open(),H.write(D("document.F=Object")),H.close(),H.F):R(f);for(var ue=g.length;ue--;)delete G.prototype[g[ue]];return G()};x[k]=!0,u.exports=Object.create||function(H,ee){var ue;return H!==null?(I.prototype=p(H),ue=new I,I.prototype=null,ue[k]=H):ue=G(),ee===void 0?ue:m(ue,ee)}},function(u,l,o){var f=o(56);u.exports=function(p,m){var g=p[m];return g==null?void 0:f(g)}},function(u,l,o){var f=o(86),p=o(38),m=o(69);u.exports=function(g,x,j){var S=f(x);S in g?p.f(g,S,m(0,j)):g[S]=j}},function(u,l,o){var f=o(15),p=o(56),m=f(f.bind);u.exports=function(g,x){return p(g),x===void 0?g:m?m(g,x):function(){return g.apply(x,arguments)}}},function(u,l,o){var f=o(36),p=o(7),m=o(15),g=o(95),x=o(42),j=o(35),S=o(148),T=o(54),k=o(87),I=o(131),D=o(18),R=o(74).f,G=o(50).f,H=o(38).f,ee=o(160),ue=o(161).trim,ie="Number",te=p.Number,ne=te.prototype,$=p.TypeError,B=m("".slice),Y=m("".charCodeAt),V=function(Fe){var je=I(Fe,"number");return typeof je=="bigint"?je:q(je)},q=function(Fe){var je,ve,Pe,Ae,Ge,rt,wt,Ve,Ze=I(Fe,"number");if(k(Ze))throw $("Cannot convert a Symbol value to a number");if(typeof Ze=="string"&&Ze.length>2){if(Ze=ue(Ze),(je=Y(Ze,0))===43||je===45){if((ve=Y(Ze,2))===88||ve===120)return NaN}else if(je===48){switch(Y(Ze,1)){case 66:case 98:Pe=2,Ae=49;break;case 79:case 111:Pe=8,Ae=55;break;default:return+Ze}for(rt=(Ge=B(Ze,2)).length,wt=0;wt<rt;wt++)if((Ve=Y(Ge,wt))<48||Ve>Ae)return NaN;return parseInt(Ge,Pe)}}return+Ze};if(g(ie,!te(" 0o1")||!te("0b1")||te("+0x1"))){for(var ce,Se=function(Fe){var je=arguments.length<1?0:te(V(Fe)),ve=this;return T(ne,ve)&&D(function(){ee(ve)})?S(Object(je),ve,Se):je},Oe=f?R(te):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Me=0;Oe.length>Me;Me++)j(te,ce=Oe[Me])&&!j(Se,ce)&&H(Se,ce,G(te,ce));Se.prototype=ne,ne.constructor=Se,x(p,ie,Se)}},function(u,l,o){var f=o(16),p=o(15),m=o(85),g=o(41),x=o(121),j=p([].join),S=m!=Object,T=x("join",",");f({target:"Array",proto:!0,forced:S||!T},{join:function(k){return j(g(this),k===void 0?",":k)}})},function(u,l,o){var f=o(15),p=o(73).PROPER,m=o(42),g=o(32),x=o(54),j=o(39),S=o(18),T=o(154),k="toString",I=RegExp.prototype,D=I.toString,R=f(T),G=S(function(){return D.call({source:"a",flags:"b"})!="/a/b"}),H=p&&D.name!=k;(G||H)&&m(RegExp.prototype,k,function(){var ee=g(this),ue=j(ee.source),ie=ee.flags;return"/"+ue+"/"+j(ie===void 0&&x(I,ee)&&!("flags"in I)?R(ee):ie)},{unsafe:!0})},function(u,l,o){var f=o(16),p=o(216),m=o(100);f({target:"Array",proto:!0},{fill:p}),m("fill")},function(u,l){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}u.exports=o},function(u,l){u.exports=function(o,f){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:f}}},function(u,l,o){var f,p,m=o(7),g=o(55),x=m.process,j=m.Deno,S=x&&x.versions||j&&j.version,T=S&&S.v8;T&&(p=(f=T.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!p&&g&&(!(f=g.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=g.match(/Chrome\/(\d+)/))&&(p=+f[1]),u.exports=p},function(u,l){u.exports=!1},function(u,l){u.exports={}},function(u,l,o){var f=o(36),p=o(35),m=Function.prototype,g=f&&Object.getOwnPropertyDescriptor,x=p(m,"name"),j=x&&(function(){}).name==="something",S=x&&(!f||f&&g(m,"name").configurable);u.exports={EXISTS:x,PROPER:j,CONFIGURABLE:S}},function(u,l,o){var f=o(136),p=o(111).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(m){return f(m,p)}},function(u,l,o){var f=o(59),p=Math.max,m=Math.min;u.exports=function(g,x){var j=f(g);return j<0?p(j+x,0):m(j,x)}},function(u,l){var o=Function.prototype,f=o.apply,p=o.bind,m=o.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(p?m.bind(f):function(){return m.apply(f,arguments)})},function(u,l,o){var f=o(136),p=o(111);u.exports=Object.keys||function(m){return f(m,p)}},function(u,l,o){var f=o(38).f,p=o(35),m=o(28)("toStringTag");u.exports=function(g,x,j){g&&!p(g=j?g:g.prototype,m)&&f(g,m,{configurable:!0,value:x})}},function(u,l,o){var f=o(63),p=o(15),m=o(85),g=o(40),x=o(45),j=o(115),S=p([].push),T=function(k){var I=k==1,D=k==2,R=k==3,G=k==4,H=k==6,ee=k==7,ue=k==5||H;return function(ie,te,ne,$){for(var B,Y,V=g(ie),q=m(V),ce=f(te,ne),Se=x(q),Oe=0,Me=$||j,Fe=I?Me(ie,Se):D||ee?Me(ie,0):void 0;Se>Oe;Oe++)if((ue||Oe in q)&&(Y=ce(B=q[Oe],Oe,V),k))if(I)Fe[Oe]=Y;else if(Y)switch(k){case 3:return!0;case 5:return B;case 6:return Oe;case 2:S(Fe,B)}else switch(k){case 4:return!1;case 7:S(Fe,B)}return H?-1:R||G?G:Fe}};u.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6),filterReject:T(7)}},function(u,l){u.exports={}},function(u,l,o){var f=o(18),p=o(28),m=o(70),g=p("species");u.exports=function(x){return m>=51||!f(function(){var j=[];return(j.constructor={})[g]=function(){return{foo:1}},j[x](Boolean).foo!==1})}},function(u,l,o){var f=o(76),p=o(34),m=o(15),g=o(123),x=o(159),j=o(32),S=o(44),T=o(164),k=o(124),I=o(94),D=o(39),R=o(61),G=o(114),H=o(125),ee=o(103),ue=o(155),ie=o(18),te=ue.UNSUPPORTED_Y,ne=4294967295,$=Math.min,B=[].push,Y=m(/./.exec),V=m(B),q=m("".slice),ce=!ie(function(){var Se=/(?:)/,Oe=Se.exec;Se.exec=function(){return Oe.apply(this,arguments)};var Me="ab".split(Se);return Me.length!==2||Me[0]!=="a"||Me[1]!=="b"});g("split",function(Se,Oe,Me){var Fe;return Fe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Pe=D(S(this)),Ae=ve===void 0?ne:ve>>>0;if(Ae===0)return[];if(je===void 0)return[Pe];if(!x(je))return p(Oe,Pe,je,Ae);for(var Ge,rt,wt,Ve=[],Ze=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),bt=0,fe=new RegExp(je.source,Ze+"g");(Ge=p(ee,fe,Pe))&&!((rt=fe.lastIndex)>bt&&(V(Ve,q(Pe,bt,Ge.index)),Ge.length>1&&Ge.index<Pe.length&&f(B,Ve,G(Ge,1)),wt=Ge[0].length,bt=rt,Ve.length>=Ae));)fe.lastIndex===Ge.index&&fe.lastIndex++;return bt===Pe.length?!wt&&Y(fe,"")||V(Ve,""):V(Ve,q(Pe,bt)),Ve.length>Ae?G(Ve,0,Ae):Ve}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:p(Oe,this,je,ve)}:Oe,[function(je,ve){var Pe=S(this),Ae=je==null?void 0:R(je,Se);return Ae?p(Ae,je,Pe,ve):p(Fe,D(Pe),je,ve)},function(je,ve){var Pe=j(this),Ae=D(je),Ge=Me(Fe,Pe,Ae,ve,Fe!==Oe);if(Ge.done)return Ge.value;var rt=T(Pe,RegExp),wt=Pe.unicode,Ve=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(te?"g":"y"),Ze=new rt(te?"^(?:"+Pe.source+")":Pe,Ve),bt=ve===void 0?ne:ve>>>0;if(bt===0)return[];if(Ae.length===0)return H(Ze,Ae)===null?[Ae]:[];for(var fe=0,se=0,ye=[];se<Ae.length;){Ze.lastIndex=te?0:se;var Ne,He=H(Ze,te?q(Ae,se):Ae);if(He===null||(Ne=$(I(Ze.lastIndex+(te?se:0)),Ae.length))===fe)se=k(Ae,se,wt);else{if(V(ye,q(Ae,fe,se)),ye.length===bt)return ye;for(var Le=1;Le<=He.length-1;Le++)if(V(ye,He[Le]),ye.length===bt)return ye;se=fe=Ne}}return V(ye,q(Ae,fe)),ye}]},!ce,te)},function(u,l,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,l,o){var f={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,m=p&&!f.call({1:2},1);l.f=m?function(g){var x=p(this,g);return!!x&&x.enumerable}:f},function(u,l,o){var f=o(7),p=o(15),m=o(18),g=o(51),x=f.Object,j=p("".split);u.exports=m(function(){return!x("z").propertyIsEnumerable(0)})?function(S){return g(S)=="String"?j(S,""):x(S)}:x},function(u,l,o){var f=o(131),p=o(87);u.exports=function(m){var g=f(m,"string");return p(g)?g:g+""}},function(u,l,o){var f=o(7),p=o(46),m=o(30),g=o(54),x=o(132),j=f.Object;u.exports=x?function(S){return typeof S=="symbol"}:function(S){var T=p("Symbol");return m(T)&&g(T.prototype,j(S))}},function(u,l,o){var f=o(7).String;u.exports=function(p){try{return f(p)}catch{return"Object"}}},function(u,l,o){var f=o(71),p=o(109);(u.exports=function(m,g){return p[m]||(p[m]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(u,l,o){var f=o(15),p=0,m=Math.random(),g=f(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+g(++p+m,36)}},function(u,l,o){var f=o(7),p=o(33),m=f.document,g=p(m)&&p(m.createElement);u.exports=function(x){return g?m.createElement(x):{}}},function(u,l,o){var f=o(15),p=o(30),m=o(109),g=f(Function.toString);p(m.inspectSource)||(m.inspectSource=function(x){return g(x)}),u.exports=m.inspectSource},function(u,l,o){var f=o(89),p=o(90),m=f("keys");u.exports=function(g){return m[g]||(m[g]=p(g))}},function(u,l,o){var f=o(59),p=Math.min;u.exports=function(m){return m>0?p(f(m),9007199254740991):0}},function(u,l,o){var f=o(18),p=o(30),m=/#|\.prototype\./,g=function(k,I){var D=j[x(k)];return D==T||D!=S&&(p(I)?f(I):!!I)},x=g.normalize=function(k){return String(k).replace(m,".").toLowerCase()},j=g.data={},S=g.NATIVE="N",T=g.POLYFILL="P";u.exports=g},function(u,l,o){var f=o(51);u.exports=Array.isArray||function(p){return f(p)=="Array"}},function(u,l,o){var f=o(7),p=o(113),m=o(30),g=o(51),x=o(28)("toStringTag"),j=f.Object,S=g(function(){return arguments}())=="Arguments";u.exports=p?g:function(T){var k,I,D;return T===void 0?"Undefined":T===null?"Null":typeof(I=function(R,G){try{return R[G]}catch{}}(k=j(T),x))=="string"?I:S?g(k):(D=g(k))=="Object"&&m(k.callee)?"Arguments":D}},function(u,l,o){var f=o(15);u.exports=f([].slice)},function(u,l,o){var f=o(15),p=o(18),m=o(30),g=o(97),x=o(46),j=o(92),S=function(){},T=[],k=x("Reflect","construct"),I=/^\s*(?:class|function)\b/,D=f(I.exec),R=!I.exec(S),G=function(H){if(!m(H))return!1;try{return k(S,T,H),!0}catch{return!1}};u.exports=!k||p(function(){var H;return G(G.call)||!G(Object)||!G(function(){H=!0})||H})?function(H){if(!m(H))return!1;switch(g(H)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return R||!!D(I,j(H))}:G},function(u,l,o){var f=o(28),p=o(60),m=o(38),g=f("unscopables"),x=Array.prototype;x[g]==null&&m.f(x,g,{configurable:!0,value:p(null)}),u.exports=function(j){x[g][j]=!0}},function(u,l,o){var f=o(7),p=o(35),m=o(30),g=o(40),x=o(93),j=o(143),S=x("IE_PROTO"),T=f.Object,k=T.prototype;u.exports=j?T.getPrototypeOf:function(I){var D=g(I);if(p(D,S))return D[S];var R=D.constructor;return m(R)&&D instanceof R?R.prototype:D instanceof T?k:null}},function(u,l,o){var f=o(15),p=o(32),m=o(181);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,x=!1,j={};try{(g=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(j,[]),x=j instanceof Array}catch{}return function(S,T){return p(S),m(T),x?g(S,T):S.__proto__=T,S}}():void 0)},function(u,l,o){var f,p,m=o(34),g=o(15),x=o(39),j=o(154),S=o(155),T=o(89),k=o(60),I=o(58).get,D=o(190),R=o(191),G=T("native-string-replace",String.prototype.replace),H=RegExp.prototype.exec,ee=H,ue=g("".charAt),ie=g("".indexOf),te=g("".replace),ne=g("".slice),$=(p=/b*/g,m(H,f=/a/,"a"),m(H,p,"a"),f.lastIndex!==0||p.lastIndex!==0),B=S.BROKEN_CARET,Y=/()??/.exec("")[1]!==void 0;($||Y||B||D||R)&&(ee=function(V){var q,ce,Se,Oe,Me,Fe,je,ve=this,Pe=I(ve),Ae=x(V),Ge=Pe.raw;if(Ge)return Ge.lastIndex=ve.lastIndex,q=m(ee,Ge,Ae),ve.lastIndex=Ge.lastIndex,q;var rt=Pe.groups,wt=B&&ve.sticky,Ve=m(j,ve),Ze=ve.source,bt=0,fe=Ae;if(wt&&(Ve=te(Ve,"y",""),ie(Ve,"g")===-1&&(Ve+="g"),fe=ne(Ae,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&ue(Ae,ve.lastIndex-1)!==`
`)&&(Ze="(?: "+Ze+")",fe=" "+fe,bt++),ce=new RegExp("^(?:"+Ze+")",Ve)),Y&&(ce=new RegExp("^"+Ze+"$(?!\\s)",Ve)),$&&(Se=ve.lastIndex),Oe=m(H,wt?ce:ve,fe),wt?Oe?(Oe.input=ne(Oe.input,bt),Oe[0]=ne(Oe[0],bt),Oe.index=ve.lastIndex,ve.lastIndex+=Oe[0].length):ve.lastIndex=0:$&&Oe&&(ve.lastIndex=ve.global?Oe.index+Oe[0].length:Se),Y&&Oe&&Oe.length>1&&m(G,Oe[0],ce,function(){for(Me=1;Me<arguments.length-2;Me++)arguments[Me]===void 0&&(Oe[Me]=void 0)}),Oe&&rt)for(Oe.groups=Fe=k(null),Me=0;Me<rt.length;Me++)Fe[(je=rt[Me])[0]]=Oe[je[1]];return Oe}),u.exports=ee},function(u,l,o){var f=o(16),p=o(7),m=o(75),g=o(59),x=o(45),j=o(40),S=o(115),T=o(62),k=o(81)("splice"),I=p.TypeError,D=Math.max,R=Math.min,G=9007199254740991,H="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!k},{splice:function(ee,ue){var ie,te,ne,$,B,Y,V=j(this),q=x(V),ce=m(ee,q),Se=arguments.length;if(Se===0?ie=te=0:Se===1?(ie=0,te=q-ce):(ie=Se-2,te=R(D(g(ue),0),q-ce)),q+ie-te>G)throw I(H);for(ne=S(V,te),$=0;$<te;$++)(B=ce+$)in V&&T(ne,$,V[B]);if(ne.length=te,ie<te){for($=ce;$<q-te;$++)Y=$+ie,(B=$+te)in V?V[Y]=V[B]:delete V[Y];for($=q;$>q-te+ie;$--)delete V[$-1]}else if(ie>te)for($=q-te;$>ce;$--)Y=$+ie-1,(B=$+te-1)in V?V[Y]=V[B]:delete V[Y];for($=0;$<ie;$++)V[$+ce]=arguments[$+2];return V.length=q-te+ie,ne}})},function(u,l,o){var f=o(16),p=o(205);f({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(m){return p(this,"a","name",m)}})},function(u,l,o){(function(f){var p=typeof f=="object"&&f&&f.Object===Object&&f;l.a=p}).call(this,o(68))},function(u,l,o){(function(f){var p=o(31),m=h&&!h.nodeType&&h,g=m&&typeof f=="object"&&f&&!f.nodeType&&f,x=g&&g.exports===m?p.a.Buffer:void 0,j=x?x.allocUnsafe:void 0;l.a=function(S,T){if(T)return S.slice();var k=S.length,I=j?j(k):new S.constructor(k);return S.copy(I),I}}).call(this,o(122)(u))},function(u,l,o){var f=o(70),p=o(18);u.exports=!!Object.getOwnPropertySymbols&&!p(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(u,l,o){var f=o(7),p=o(110),m="__core-js_shared__",g=f[m]||p(m,{});u.exports=g},function(u,l,o){var f=o(7),p=Object.defineProperty;u.exports=function(m,g){try{p(f,m,{value:g,configurable:!0,writable:!0})}catch{f[m]=g}return g}},function(u,l){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,l){l.f=Object.getOwnPropertySymbols},function(u,l,o){var f={};f[o(28)("toStringTag")]="z",u.exports=String(f)==="[object z]"},function(u,l,o){var f=o(7),p=o(75),m=o(45),g=o(62),x=f.Array,j=Math.max;u.exports=function(S,T,k){for(var I=m(S),D=p(T,I),R=p(k===void 0?I:k,I),G=x(j(R-D,0)),H=0;D<R;D++,H++)g(G,H,S[D]);return G.length=H,G}},function(u,l,o){var f=o(178);u.exports=function(p,m){return new(f(p))(m===0?0:m)}},function(u,l,o){var f=o(16),p=o(34),m=o(71),g=o(73),x=o(30),j=o(180),S=o(101),T=o(102),k=o(78),I=o(57),D=o(42),R=o(28),G=o(80),H=o(142),ee=g.PROPER,ue=g.CONFIGURABLE,ie=H.IteratorPrototype,te=H.BUGGY_SAFARI_ITERATORS,ne=R("iterator"),$="keys",B="values",Y="entries",V=function(){return this};u.exports=function(q,ce,Se,Oe,Me,Fe,je){j(Se,ce,Oe);var ve,Pe,Ae,Ge=function(se){if(se===Me&&bt)return bt;if(!te&&se in Ve)return Ve[se];switch(se){case $:case B:case Y:return function(){return new Se(this,se)}}return function(){return new Se(this)}},rt=ce+" Iterator",wt=!1,Ve=q.prototype,Ze=Ve[ne]||Ve["@@iterator"]||Me&&Ve[Me],bt=!te&&Ze||Ge(Me),fe=ce=="Array"&&Ve.entries||Ze;if(fe&&(ve=S(fe.call(new q)))!==Object.prototype&&ve.next&&(m||S(ve)===ie||(T?T(ve,ie):x(ve[ne])||D(ve,ne,V)),k(ve,rt,!0,!0),m&&(G[rt]=V)),ee&&Me==B&&Ze&&Ze.name!==B&&(!m&&ue?I(Ve,"name",B):(wt=!0,bt=function(){return p(Ze,this)})),Me)if(Pe={values:Ge(B),keys:Fe?bt:Ge($),entries:Ge(Y)},je)for(Ae in Pe)(te||wt||!(Ae in Ve))&&D(Ve,Ae,Pe[Ae]);else f({target:ce,proto:!0,forced:te||wt},Pe);return m&&!je||Ve[ne]===bt||D(Ve,ne,bt,{name:Me}),G[ce]=bt,Pe}},function(u,l,o){var f=o(7),p=o(63),m=o(34),g=o(32),x=o(88),j=o(145),S=o(45),T=o(54),k=o(146),I=o(118),D=o(147),R=f.TypeError,G=function(ee,ue){this.stopped=ee,this.result=ue},H=G.prototype;u.exports=function(ee,ue,ie){var te,ne,$,B,Y,V,q,ce=ie&&ie.that,Se=!(!ie||!ie.AS_ENTRIES),Oe=!(!ie||!ie.IS_ITERATOR),Me=!(!ie||!ie.INTERRUPTED),Fe=p(ue,ce),je=function(Pe){return te&&D(te,"normal",Pe),new G(!0,Pe)},ve=function(Pe){return Se?(g(Pe),Me?Fe(Pe[0],Pe[1],je):Fe(Pe[0],Pe[1])):Me?Fe(Pe,je):Fe(Pe)};if(Oe)te=ee;else{if(!(ne=I(ee)))throw R(x(ee)+" is not iterable");if(j(ne)){for($=0,B=S(ee);B>$;$++)if((Y=ve(ee[$]))&&T(H,Y))return Y;return new G(!1)}te=k(ee,ne)}for(V=te.next;!(q=m(V,te)).done;){try{Y=ve(q.value)}catch(Pe){D(te,"throw",Pe)}if(typeof Y=="object"&&Y&&T(H,Y))return Y}return new G(!1)}},function(u,l,o){var f=o(97),p=o(61),m=o(80),g=o(28)("iterator");u.exports=function(x){if(x!=null)return p(x,g)||p(x,"@@iterator")||m[f(x)]}},function(u,l,o){var f=o(7),p=o(54),m=f.TypeError;u.exports=function(g,x){if(p(x,g))return g;throw m("Incorrect invocation")}},function(u,l,o){var f=o(28)("iterator"),p=!1;try{var m=0,g={next:function(){return{done:!!m++}},return:function(){p=!0}};g[f]=function(){return this},Array.from(g,function(){throw 2})}catch{}u.exports=function(x,j){if(!j&&!p)return!1;var S=!1;try{var T={};T[f]=function(){return{next:function(){return{done:S=!0}}}},x(T)}catch{}return S}},function(u,l,o){var f=o(18);u.exports=function(p,m){var g=[][p];return!!g&&f(function(){g.call(null,m||function(){throw 1},1)})}},function(u,l){u.exports=function(o){if(!o.webpackPolyfill){var f=Object.create(o);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(u,l,o){o(19);var f=o(15),p=o(42),m=o(103),g=o(18),x=o(28),j=o(57),S=x("species"),T=RegExp.prototype;u.exports=function(k,I,D,R){var G=x(k),H=!g(function(){var te={};return te[G]=function(){return 7},""[k](te)!=7}),ee=H&&!g(function(){var te=!1,ne=/a/;return k==="split"&&((ne={}).constructor={},ne.constructor[S]=function(){return ne},ne.flags="",ne[G]=/./[G]),ne.exec=function(){return te=!0,null},ne[G](""),!te});if(!H||!ee||D){var ue=f(/./[G]),ie=I(G,""[k],function(te,ne,$,B,Y){var V=f(te),q=ne.exec;return q===m||q===T.exec?H&&!Y?{done:!0,value:ue(ne,$,B)}:{done:!0,value:V($,ne,B)}:{done:!1}});p(String.prototype,k,ie[0]),p(T,G,ie[1])}R&&j(T[G],"sham",!0)}},function(u,l,o){var f=o(151).charAt;u.exports=function(p,m,g){return m+(g?f(p,m).length:1)}},function(u,l,o){var f=o(7),p=o(34),m=o(32),g=o(30),x=o(51),j=o(103),S=f.TypeError;u.exports=function(T,k){var I=T.exec;if(g(I)){var D=p(I,T,k);return D!==null&&m(D),D}if(x(T)==="RegExp")return p(j,T,k);throw S("RegExp#exec called on incompatible receiver")}},function(u,l,o){var f=o(76),p=o(34),m=o(15),g=o(123),x=o(18),j=o(32),S=o(30),T=o(59),k=o(94),I=o(39),D=o(44),R=o(124),G=o(61),H=o(201),ee=o(125),ue=o(28)("replace"),ie=Math.max,te=Math.min,ne=m([].concat),$=m([].push),B=m("".indexOf),Y=m("".slice),V="a".replace(/./,"$0")==="$0",q=!!/./[ue]&&/./[ue]("a","$0")==="";g("replace",function(ce,Se,Oe){var Me=q?"$":"$0";return[function(Fe,je){var ve=D(this),Pe=Fe==null?void 0:G(Fe,ue);return Pe?p(Pe,Fe,ve,je):p(Se,I(ve),Fe,je)},function(Fe,je){var ve=j(this),Pe=I(Fe);if(typeof je=="string"&&B(je,Me)===-1&&B(je,"$<")===-1){var Ae=Oe(Se,ve,Pe,je);if(Ae.done)return Ae.value}var Ge=S(je);Ge||(je=I(je));var rt=ve.global;if(rt){var wt=ve.unicode;ve.lastIndex=0}for(var Ve=[];;){var Ze=ee(ve,Pe);if(Ze===null||($(Ve,Ze),!rt))break;I(Ze[0])===""&&(ve.lastIndex=R(Pe,k(ve.lastIndex),wt))}for(var bt,fe="",se=0,ye=0;ye<Ve.length;ye++){for(var Ne=I((Ze=Ve[ye])[0]),He=ie(te(T(Ze.index),Pe.length),0),Le=[],xt=1;xt<Ze.length;xt++)$(Le,(bt=Ze[xt])===void 0?bt:String(bt));var Tt=Ze.groups;if(Ge){var jt=ne([Ne],Le,He,Pe);Tt!==void 0&&$(jt,Tt);var vt=I(f(je,void 0,jt))}else vt=H(Ne,Pe,He,Le,Tt,je);He>=se&&(fe+=Y(Pe,se,He)+vt,se=He+Ne.length)}return fe+Y(Pe,se)}]},!!x(function(){var ce=/./;return ce.exec=function(){var Se=[];return Se.groups={a:"7"},Se},"".replace(ce,"$<a>")!=="7"})||!V||q)},function(u,l,o){var f=o(16),p=Math.hypot,m=Math.abs,g=Math.sqrt;f({target:"Math",stat:!0,forced:!!p&&p(1/0,NaN)!==1/0},{hypot:function(x,j){for(var S,T,k=0,I=0,D=arguments.length,R=0;I<D;)R<(S=m(arguments[I++]))?(k=k*(T=R/S)*T+1,R=S):k+=S>0?(T=S/R)*T:S;return R===1/0?1/0:R*g(k)}})},function(u,l,o){var f=o(51),p=o(7);u.exports=f(p.process)=="process"},function(u,l,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,l,o){(function(f,p){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,x="Expected a function",j="__lodash_hash_undefined__",S="__lodash_placeholder__",T=16,k=32,I=64,D=128,R=256,G=1/0,H=9007199254740991,ee=NaN,ue=4294967295,ie=[["ary",D],["bind",1],["bindKey",2],["curry",8],["curryRight",T],["flip",512],["partial",k],["partialRight",I],["rearg",R]],te="[object Arguments]",ne="[object Array]",$="[object Boolean]",B="[object Date]",Y="[object Error]",V="[object Function]",q="[object GeneratorFunction]",ce="[object Map]",Se="[object Number]",Oe="[object Object]",Me="[object Promise]",Fe="[object RegExp]",je="[object Set]",ve="[object String]",Pe="[object Symbol]",Ae="[object WeakMap]",Ge="[object ArrayBuffer]",rt="[object DataView]",wt="[object Float32Array]",Ve="[object Float64Array]",Ze="[object Int8Array]",bt="[object Int16Array]",fe="[object Int32Array]",se="[object Uint8Array]",ye="[object Uint8ClampedArray]",Ne="[object Uint16Array]",He="[object Uint32Array]",Le=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,Tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jt=/&(?:amp|lt|gt|quot|#39);/g,vt=/[&<>"']/g,ke=RegExp(jt.source),st=RegExp(vt.source),pe=/<%-([\s\S]+?)%>/g,ot=/<%([\s\S]+?)%>/g,zt=/<%=([\s\S]+?)%>/g,sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bt=/^\w*$/,en=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yn=/[\\^$.*+?()[\]{}|]/g,Sn=RegExp(yn.source),It=/^\s+/,Fn=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,he=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$e=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,Zn=/^[-+]0x[0-9a-f]+$/i,lr=/^0b[01]+$/i,Wn=/^\[object .+?Constructor\]$/,Yn=/^0o[0-7]+$/i,it=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,Rt=/['\n\r\u2028\u2029\\]/g,dn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Nn="\\u2700-\\u27bf",Ao="a-z\\xdf-\\xf6\\xf8-\\xff",ho="A-Z\\xc0-\\xd6\\xd8-\\xde",ko="\\ufe0e\\ufe0f",vi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cc="['’]",nu="[\\ud800-\\udfff]",Ur="["+vi+"]",Wi="["+dn+"]",ct="\\d+",Ic="[\\u2700-\\u27bf]",ru="["+Ao+"]",ou="[^\\ud800-\\udfff"+vi+ct+Nn+Ao+ho+"]",Er="\\ud83c[\\udffb-\\udfff]",Ir="[^\\ud800-\\udfff]",da="(?:\\ud83c[\\udde6-\\uddff]){2}",io="[\\ud800-\\udbff][\\udc00-\\udfff]",Yr="["+ho+"]",ao="(?:"+ru+"|"+ou+")",iu="(?:"+Yr+"|"+ou+")",au="(?:['’](?:d|ll|m|re|s|t|ve))?",os="(?:['’](?:D|LL|M|RE|S|T|VE))?",Gi="(?:"+Wi+"|"+Er+")?",is="[\\ufe0e\\ufe0f]?",uu=is+Gi+("(?:\\u200d(?:"+[Ir,da,io].join("|")+")"+is+Gi+")*"),Rc="(?:"+[Ic,da,io].join("|")+")"+uu,Ko="(?:"+[Ir+Wi+"?",Wi,da,io,nu].join("|")+")",as=RegExp(Cc,"g"),To=RegExp(Wi,"g"),su=RegExp(Er+"(?="+Er+")|"+Ko+uu,"g"),ha=RegExp([Yr+"?"+ru+"+"+au+"(?="+[Ur,Yr,"$"].join("|")+")",iu+"+"+os+"(?="+[Ur,Yr+ao,"$"].join("|")+")",Yr+"?"+ao+"+"+au,Yr+"+"+os,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ct,Rc].join("|"),"g"),cu=RegExp("[\\u200d\\ud800-\\udfff"+dn+ko+"]"),lu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],us=-1,ln={};ln[wt]=ln[Ve]=ln[Ze]=ln[bt]=ln[fe]=ln[se]=ln[ye]=ln[Ne]=ln[He]=!0,ln[te]=ln[ne]=ln[Ge]=ln[$]=ln[rt]=ln[B]=ln[Y]=ln[V]=ln[ce]=ln[Se]=ln[Oe]=ln[Fe]=ln[je]=ln[ve]=ln[Ae]=!1;var cn={};cn[te]=cn[ne]=cn[Ge]=cn[rt]=cn[$]=cn[B]=cn[wt]=cn[Ve]=cn[Ze]=cn[bt]=cn[fe]=cn[ce]=cn[Se]=cn[Oe]=cn[Fe]=cn[je]=cn[ve]=cn[Pe]=cn[se]=cn[ye]=cn[Ne]=cn[He]=!0,cn[Y]=cn[V]=cn[Ae]=!1;var ss={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gi=parseFloat,No=parseInt,fu=typeof f=="object"&&f&&f.Object===Object&&f,cs=typeof self=="object"&&self&&self.Object===Object&&self,zn=fu||cs||Function("return this")(),pu=l&&!l.nodeType&&l,Xi=pu&&typeof p=="object"&&p&&!p.nodeType&&p,du=Xi&&Xi.exports===pu,ya=du&&fu.process,fr=function(){try{var we=Xi&&Xi.require&&Xi.require("util").types;return we||ya&&ya.binding&&ya.binding("util")}catch{}}(),hu=fr&&fr.isArrayBuffer,ls=fr&&fr.isDate,yu=fr&&fr.isMap,va=fr&&fr.isRegExp,mi=fr&&fr.isSet,yo=fr&&fr.isTypedArray;function mn(we,De,Re){switch(Re.length){case 0:return we.call(De);case 1:return we.call(De,Re[0]);case 2:return we.call(De,Re[0],Re[1]);case 3:return we.call(De,Re[0],Re[1],Re[2])}return we.apply(De,Re)}function fs(we,De,Re,Qe){for(var Ft=-1,Zt=we==null?0:we.length;++Ft<Zt;){var On=we[Ft];De(Qe,On,Re(On),we)}return Qe}function Sr(we,De){for(var Re=-1,Qe=we==null?0:we.length;++Re<Qe&&De(we[Re],Re,we)!==!1;);return we}function ps(we,De){for(var Re=we==null?0:we.length;Re--&&De(we[Re],Re,we)!==!1;);return we}function ds(we,De){for(var Re=-1,Qe=we==null?0:we.length;++Re<Qe;)if(!De(we[Re],Re,we))return!1;return!0}function mr(we,De){for(var Re=-1,Qe=we==null?0:we.length,Ft=0,Zt=[];++Re<Qe;){var On=we[Re];De(On,Re,we)&&(Zt[Ft++]=On)}return Zt}function jr(we,De){return!!(we!=null&&we.length)&&bi(we,De,0)>-1}function vu(we,De,Re){for(var Qe=-1,Ft=we==null?0:we.length;++Qe<Ft;)if(Re(De,we[Qe]))return!0;return!1}function on(we,De){for(var Re=-1,Qe=we==null?0:we.length,Ft=Array(Qe);++Re<Qe;)Ft[Re]=De(we[Re],Re,we);return Ft}function Jn(we,De){for(var Re=-1,Qe=De.length,Ft=we.length;++Re<Qe;)we[Ft+Re]=De[Re];return we}function ga(we,De,Re,Qe){var Ft=-1,Zt=we==null?0:we.length;for(Qe&&Zt&&(Re=we[++Ft]);++Ft<Zt;)Re=De(Re,we[Ft],Ft,we);return Re}function hs(we,De,Re,Qe){var Ft=we==null?0:we.length;for(Qe&&Ft&&(Re=we[--Ft]);Ft--;)Re=De(Re,we[Ft],Ft,we);return Re}function gu(we,De){for(var Re=-1,Qe=we==null?0:we.length;++Re<Qe;)if(De(we[Re],Re,we))return!0;return!1}var ma=Mr("length");function vo(we,De,Re){var Qe;return Re(we,function(Ft,Zt,On){if(De(Ft,Zt,On))return Qe=Zt,!1}),Qe}function Do(we,De,Re,Qe){for(var Ft=we.length,Zt=Re+(Qe?1:-1);Qe?Zt--:++Zt<Ft;)if(De(we[Zt],Zt,we))return Zt;return-1}function bi(we,De,Re){return De==De?function(Qe,Ft,Zt){for(var On=Zt-1,O=Qe.length;++On<O;)if(Qe[On]===Ft)return On;return-1}(we,De,Re):Do(we,Co,Re)}function Pr(we,De,Re,Qe){for(var Ft=Re-1,Zt=we.length;++Ft<Zt;)if(Qe(we[Ft],De))return Ft;return-1}function Co(we){return we!=we}function tn(we,De){var Re=we==null?0:we.length;return Re?ba(we,De)/Re:ee}function Mr(we){return function(De){return De==null?g:De[we]}}function go(we){return function(De){return we==null?g:we[De]}}function ar(we,De,Re,Qe,Ft){return Ft(we,function(Zt,On,O){Re=Qe?(Qe=!1,Zt):De(Re,Zt,On,O)}),Re}function ba(we,De){for(var Re,Qe=-1,Ft=we.length;++Qe<Ft;){var Zt=De(we[Qe]);Zt!==g&&(Re=Re===g?Zt:Re+Zt)}return Re}function Hi(we,De){for(var Re=-1,Qe=Array(we);++Re<we;)Qe[Re]=De(Re);return Qe}function mu(we){return we&&we.slice(0,Ar(we)+1).replace(It,"")}function Dn(we){return function(De){return we(De)}}function _a(we,De){return on(De,function(Re){return we[Re]})}function Io(we,De){return we.has(De)}function Vr(we,De){for(var Re=-1,Qe=we.length;++Re<Qe&&bi(De,we[Re],0)>-1;);return Re}function bu(we,De){for(var Re=we.length;Re--&&bi(De,we[Re],0)>-1;);return Re}function zc(we,De){for(var Re=we.length,Qe=0;Re--;)we[Re]===De&&++Qe;return Qe}var _u=go({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Vn=go({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function _i(we){return"\\"+ss[we]}function mo(we){return cu.test(we)}function br(we){var De=-1,Re=Array(we.size);return we.forEach(function(Qe,Ft){Re[++De]=[Ft,Qe]}),Re}function Ou(we,De){return function(Re){return we(De(Re))}}function Rr(we,De){for(var Re=-1,Qe=we.length,Ft=0,Zt=[];++Re<Qe;){var On=we[Re];On!==De&&On!==S||(we[Re]=S,Zt[Ft++]=Re)}return Zt}function qo(we){var De=-1,Re=Array(we.size);return we.forEach(function(Qe){Re[++De]=Qe}),Re}function Oa(we){var De=-1,Re=Array(we.size);return we.forEach(function(Qe){Re[++De]=[Qe,Qe]}),Re}function bo(we){return mo(we)?function(De){for(var Re=su.lastIndex=0;su.test(De);)++Re;return Re}(we):ma(we)}function Lr(we){return mo(we)?function(De){return De.match(su)||[]}(we):function(De){return De.split("")}(we)}function Ar(we){for(var De=we.length;De--&&Fn.test(we.charAt(De)););return De}var $r=go({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),_o=function we(De){var Re,Qe=(De=De==null?zn:_o.defaults(zn.Object(),De,_o.pick(zn,Lc))).Array,Ft=De.Date,Zt=De.Error,On=De.Function,O=De.Math,w=De.Object,A=De.RegExp,z=De.String,K=De.TypeError,de=Qe.prototype,Ee=On.prototype,We=w.prototype,at=De["__core-js_shared__"],$t=Ee.toString,et=We.hasOwnProperty,vn=0,Wt=(Re=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",an=We.toString,Kr=$t.call(w),Pn=zn._,kr=A("^"+$t.call(et).replace(yn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ro=du?De.Buffer:g,Lo=De.Symbol,Ui=De.Uint8Array,wu=Ro?Ro.allocUnsafe:g,Zo=Ou(w.getPrototypeOf,w),wa=w.create,_r=We.propertyIsEnumerable,Yi=de.splice,Oi=Lo?Lo.isConcatSpreadable:g,Jo=Lo?Lo.iterator:g,Qo=Lo?Lo.toStringTag:g,xu=function(){try{var s=Mi(w,"defineProperty");return s({},"",{}),s}catch{}}(),th=De.clearTimeout!==zn.clearTimeout&&De.clearTimeout,nh=Ft&&Ft.now!==zn.Date.now&&Ft.now,Nf=De.setTimeout!==zn.setTimeout&&De.setTimeout,ys=O.ceil,xa=O.floor,Bc=w.getOwnPropertySymbols,rh=Ro?Ro.isBuffer:g,Df=De.isFinite,oh=de.join,Cf=Ou(w.keys,w),ur=O.max,Or=O.min,vs=Ft.now,gs=De.parseInt,ms=O.random,ih=de.reverse,Ea=Mi(De,"DataView"),zo=Mi(De,"Map"),Fc=Mi(De,"Promise"),Vi=Mi(De,"Set"),Sa=Mi(De,"WeakMap"),Eu=Mi(w,"create"),bs=Sa&&new Sa,ja={},ah=Fr(Ea),If=Fr(zo),uh=Fr(Fc),sh=Fr(Vi),Rf=Fr(Sa),_s=Lo?Lo.prototype:g,sr=_s?_s.valueOf:g,Lf=_s?_s.toString:g;function F(s){if(Rn(s)&&!Xt(s)&&!(s instanceof rn)){if(s instanceof uo)return s;if(et.call(s,"__wrapped__"))return vp(s)}return new uo(s)}var Pa=function(){function s(){}return function(d){if(!In(d))return{};if(wa)return wa(d);s.prototype=d;var _=new s;return s.prototype=g,_}}();function Su(){}function uo(s,d){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=g}function rn(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function $i(s){var d=-1,_=s==null?0:s.length;for(this.clear();++d<_;){var M=s[d];this.set(M[0],M[1])}}function gn(s){var d=-1,_=s==null?0:s.length;for(this.clear();++d<_;){var M=s[d];this.set(M[0],M[1])}}function Bo(s){var d=-1,_=s==null?0:s.length;for(this.clear();++d<_;){var M=s[d];this.set(M[0],M[1])}}function wi(s){var d=-1,_=s==null?0:s.length;for(this.__data__=new Bo;++d<_;)this.add(s[d])}function so(s){var d=this.__data__=new gn(s);this.size=d.size}function Wc(s,d){var _=Xt(s),M=!_&&ea(s),C=!_&&!M&&ii(s),X=!_&&!M&&!C&&Ai(s),re=_||M||C||X,le=re?Hi(s.length,z):[],_e=le.length;for(var Z in s)!d&&!et.call(s,Z)||re&&(Z=="length"||C&&(Z=="offset"||Z=="parent")||X&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||Ho(Z,_e))||le.push(Z);return le}function Gc(s){var d=s.length;return d?s[qc(0,d-1)]:g}function zf(s,d){return qi(Br(s),xi(d,0,s.length))}function Bf(s){return qi(Br(s))}function Os(s,d,_){(_!==g&&!Tn(s[d],_)||_===g&&!(d in s))&&Fo(s,d,_)}function Ma(s,d,_){var M=s[d];et.call(s,d)&&Tn(M,_)&&(_!==g||d in s)||Fo(s,d,_)}function ju(s,d){for(var _=s.length;_--;)if(Tn(s[_][0],d))return _;return-1}function Ff(s,d,_,M){return Mn(s,function(C,X,re){d(M,C,_(C),re)}),M}function Xc(s,d){return s&&Wo(d,tr(d),s)}function Fo(s,d,_){d=="__proto__"&&xu?xu(s,d,{configurable:!0,enumerable:!0,value:_,writable:!0}):s[d]=_}function ws(s,d){for(var _=-1,M=d.length,C=Qe(M),X=s==null;++_<M;)C[_]=X?g:Bu(s,d[_]);return C}function xi(s,d,_){return s==s&&(_!==g&&(s=s<=_?s:_),d!==g&&(s=s>=d?s:d)),s}function qr(s,d,_,M,C,X){var re,le=1&d,_e=2&d,Z=4&d;if(_&&(re=C?_(s,M,C,X):_(s)),re!==g)return re;if(!In(s))return s;var Ce=Xt(s);if(Ce){if(re=function(ze){var Ue=ze.length,Nt=new ze.constructor(Ue);return Ue&&typeof ze[0]=="string"&&et.call(ze,"index")&&(Nt.index=ze.index,Nt.input=ze.input),Nt}(s),!le)return Br(s,re)}else{var Xe=yr(s),lt=Xe==V||Xe==q;if(ii(s))return rl(s,le);if(Xe==Oe||Xe==te||lt&&!C){if(re=_e||lt?{}:ll(s),!le)return _e?function(ze,Ue){return Wo(ze,Te(ze),Ue)}(s,function(ze,Ue){return ze&&Wo(Ue,dr(Ue),ze)}(re,s)):function(ze,Ue){return Wo(ze,sl(ze),Ue)}(s,Xc(re,s))}else{if(!cn[Xe])return C?s:{};re=function(ze,Ue,Nt){var ut=ze.constructor;switch(Ue){case Ge:return ol(ze);case $:case B:return new ut(+ze);case rt:return function(Lt,Qt){var gt=Qt?ol(Lt.buffer):Lt.buffer;return new Lt.constructor(gt,Lt.byteOffset,Lt.byteLength)}(ze,Nt);case wt:case Ve:case Ze:case bt:case fe:case se:case ye:case Ne:case He:return xn(ze,Nt);case ce:return new ut;case Se:case ve:return new ut(ze);case Fe:return function(Lt){var Qt=new Lt.constructor(Lt.source,Ut.exec(Lt));return Qt.lastIndex=Lt.lastIndex,Qt}(ze);case je:return new ut;case Pe:return Dt=ze,sr?w(sr.call(Dt)):{}}var Dt}(s,Xe,le)}}X||(X=new so);var yt=X.get(s);if(yt)return yt;X.set(s,re),Wa(s)?s.forEach(function(ze){re.add(qr(ze,d,_,ze,s,X))}):Mp(s)&&s.forEach(function(ze,Ue){re.set(Ue,qr(ze,d,_,Ue,s,X))});var Mt=Ce?g:(Z?_e?ul:Tu:_e?dr:tr)(s);return Sr(Mt||s,function(ze,Ue){Mt&&(ze=s[Ue=ze]),Ma(re,Ue,qr(ze,d,_,Ue,s,X))}),re}function Hc(s,d,_){var M=_.length;if(s==null)return!M;for(s=w(s);M--;){var C=_[M],X=d[C],re=s[C];if(re===g&&!(C in s)||!X(re))return!1}return!0}function Uc(s,d,_){if(typeof s!="function")throw new K(x);return za(function(){s.apply(g,_)},d)}function ei(s,d,_,M){var C=-1,X=jr,re=!0,le=s.length,_e=[],Z=d.length;if(!le)return _e;_&&(d=on(d,Dn(_))),M?(X=vu,re=!1):d.length>=200&&(X=Io,re=!1,d=new wi(d));e:for(;++C<le;){var Ce=s[C],Xe=_==null?Ce:_(Ce);if(Ce=M||Ce!==0?Ce:0,re&&Xe==Xe){for(var lt=Z;lt--;)if(d[lt]===Xe)continue e;_e.push(Ce)}else X(d,Xe,M)||_e.push(Ce)}return _e}F.templateSettings={escape:pe,evaluate:ot,interpolate:zt,variable:"",imports:{_:F}},F.prototype=Su.prototype,F.prototype.constructor=F,uo.prototype=Pa(Su.prototype),uo.prototype.constructor=uo,rn.prototype=Pa(Su.prototype),rn.prototype.constructor=rn,$i.prototype.clear=function(){this.__data__=Eu?Eu(null):{},this.size=0},$i.prototype.delete=function(s){var d=this.has(s)&&delete this.__data__[s];return this.size-=d?1:0,d},$i.prototype.get=function(s){var d=this.__data__;if(Eu){var _=d[s];return _===j?g:_}return et.call(d,s)?d[s]:g},$i.prototype.has=function(s){var d=this.__data__;return Eu?d[s]!==g:et.call(d,s)},$i.prototype.set=function(s,d){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=Eu&&d===g?j:d,this},gn.prototype.clear=function(){this.__data__=[],this.size=0},gn.prototype.delete=function(s){var d=this.__data__,_=ju(d,s);return!(_<0)&&(_==d.length-1?d.pop():Yi.call(d,_,1),--this.size,!0)},gn.prototype.get=function(s){var d=this.__data__,_=ju(d,s);return _<0?g:d[_][1]},gn.prototype.has=function(s){return ju(this.__data__,s)>-1},gn.prototype.set=function(s,d){var _=this.__data__,M=ju(_,s);return M<0?(++this.size,_.push([s,d])):_[M][1]=d,this},Bo.prototype.clear=function(){this.size=0,this.__data__={hash:new $i,map:new(zo||gn),string:new $i}},Bo.prototype.delete=function(s){var d=Ra(this,s).delete(s);return this.size-=d?1:0,d},Bo.prototype.get=function(s){return Ra(this,s).get(s)},Bo.prototype.has=function(s){return Ra(this,s).has(s)},Bo.prototype.set=function(s,d){var _=Ra(this,s),M=_.size;return _.set(s,d),this.size+=_.size==M?0:1,this},wi.prototype.add=wi.prototype.push=function(s){return this.__data__.set(s,j),this},wi.prototype.has=function(s){return this.__data__.has(s)},so.prototype.clear=function(){this.__data__=new gn,this.size=0},so.prototype.delete=function(s){var d=this.__data__,_=d.delete(s);return this.size=d.size,_},so.prototype.get=function(s){return this.__data__.get(s)},so.prototype.has=function(s){return this.__data__.has(s)},so.prototype.set=function(s,d){var _=this.__data__;if(_ instanceof gn){var M=_.__data__;if(!zo||M.length<199)return M.push([s,d]),this.size=++_.size,this;_=this.__data__=new Bo(M)}return _.set(s,d),this.size=_.size,this};var Mn=rp(pt),Wf=rp(wn,!0);function Gf(s,d){var _=!0;return Mn(s,function(M,C,X){return _=!!d(M,C,X)}),_}function Gn(s,d,_){for(var M=-1,C=s.length;++M<C;){var X=s[M],re=d(X);if(re!=null&&(le===g?re==re&&!vr(re):_(re,le)))var le=re,_e=X}return _e}function fn(s,d){var _=[];return Mn(s,function(M,C,X){d(M,C,X)&&_.push(M)}),_}function pr(s,d,_,M,C){var X=-1,re=s.length;for(_||(_=pp),C||(C=[]);++X<re;){var le=s[X];d>0&&_(le)?d>1?pr(le,d-1,_,M,C):Jn(C,le):M||(C[C.length]=le)}return C}var Kt=op(),$n=op(!0);function pt(s,d){return s&&Kt(s,d,tr)}function wn(s,d){return s&&$n(s,d,tr)}function xs(s,d){return mr(d,function(_){return ai(s[_])})}function ti(s,d){for(var _=0,M=(d=Si(d,s)).length;s!=null&&_<M;)s=s[Qn(d[_++])];return _&&_==M?s:g}function Yc(s,d,_){var M=d(s);return Xt(s)?M:Jn(M,_(s))}function Cn(s){return s==null?s===g?"[object Undefined]":"[object Null]":Qo&&Qo in w(s)?function(d){var _=et.call(d,Qo),M=d[Qo];try{d[Qo]=g;var C=!0}catch{}var X=an.call(d);return C&&(_?d[Qo]=M:delete d[Qo]),X}(s):function(d){return an.call(d)}(s)}function Bn(s,d){return s>d}function Xf(s,d){return s!=null&&et.call(s,d)}function Hf(s,d){return s!=null&&d in w(s)}function Es(s,d,_){for(var M=_?vu:jr,C=s[0].length,X=s.length,re=X,le=Qe(X),_e=1/0,Z=[];re--;){var Ce=s[re];re&&d&&(Ce=on(Ce,Dn(d))),_e=Or(Ce.length,_e),le[re]=!_&&(d||C>=120&&Ce.length>=120)?new wi(re&&Ce):g}Ce=s[0];var Xe=-1,lt=le[0];e:for(;++Xe<C&&Z.length<_e;){var yt=Ce[Xe],Mt=d?d(yt):yt;if(yt=_||yt!==0?yt:0,!(lt?Io(lt,Mt):M(Z,Mt,_))){for(re=X;--re;){var ze=le[re];if(!(ze?Io(ze,Mt):M(s[re],Mt,_)))continue e}lt&&lt.push(Mt),Z.push(yt)}}return Z}function Aa(s,d,_){var M=(s=hl(s,d=Si(d,s)))==null?s:s[Qn(En(d))];return M==null?g:mn(M,s,_)}function Vc(s){return Rn(s)&&Cn(s)==te}function ka(s,d,_,M,C){return s===d||(s==null||d==null||!Rn(s)&&!Rn(d)?s!=s&&d!=d:function(X,re,le,_e,Z,Ce){var Xe=Xt(X),lt=Xt(re),yt=Xe?ne:yr(X),Mt=lt?ne:yr(re),ze=(yt=yt==te?Oe:yt)==Oe,Ue=(Mt=Mt==te?Oe:Mt)==Oe,Nt=yt==Mt;if(Nt&&ii(X)){if(!ii(re))return!1;Xe=!0,ze=!1}if(Nt&&!ze)return Ce||(Ce=new so),Xe||Ai(X)?fp(X,re,le,_e,Z,Ce):function(gt,At,nr,gr,xo,cr,Yo){switch(nr){case rt:if(gt.byteLength!=At.byteLength||gt.byteOffset!=At.byteOffset)return!1;gt=gt.buffer,At=At.buffer;case Ge:return!(gt.byteLength!=At.byteLength||!cr(new Ui(gt),new Ui(At)));case $:case B:case Se:return Tn(+gt,+At);case Y:return gt.name==At.name&&gt.message==At.message;case Fe:case ve:return gt==At+"";case ce:var Eo=br;case je:var ci=1&gr;if(Eo||(Eo=qo),gt.size!=At.size&&!ci)return!1;var li=Yo.get(gt);if(li)return li==At;gr|=2,Yo.set(gt,At);var ra=fp(Eo(gt),Eo(At),gr,xo,cr,Yo);return Yo.delete(gt),ra;case Pe:if(sr)return sr.call(gt)==sr.call(At)}return!1}(X,re,yt,le,_e,Z,Ce);if(!(1&le)){var ut=ze&&et.call(X,"__wrapped__"),Dt=Ue&&et.call(re,"__wrapped__");if(ut||Dt){var Lt=ut?X.value():X,Qt=Dt?re.value():re;return Ce||(Ce=new so),Z(Lt,Qt,le,_e,Ce)}}return Nt?(Ce||(Ce=new so),function(gt,At,nr,gr,xo,cr){var Yo=1&nr,Eo=Tu(gt),ci=Eo.length,li=Tu(At).length;if(ci!=li&&!Yo)return!1;for(var ra=ci;ra--;){var fi=Eo[ra];if(!(Yo?fi in At:et.call(At,fi)))return!1}var Yu=cr.get(gt),Jr=cr.get(At);if(Yu&&Jr)return Yu==At&&Jr==gt;var rc=!0;cr.set(gt,At),cr.set(At,gt);for(var Qr=Yo;++ra<ci;){var mt=gt[fi=Eo[ra]],Vu=At[fi];if(gr)var af=Yo?gr(Vu,mt,fi,At,gt,cr):gr(mt,Vu,fi,gt,At,cr);if(!(af===g?mt===Vu||xo(mt,Vu,nr,gr,cr):af)){rc=!1;break}Qr||(Qr=fi=="constructor")}if(rc&&!Qr){var $u=gt.constructor,oc=At.constructor;$u==oc||!("constructor"in gt)||!("constructor"in At)||typeof $u=="function"&&$u instanceof $u&&typeof oc=="function"&&oc instanceof oc||(rc=!1)}return cr.delete(gt),cr.delete(At),rc}(X,re,le,_e,Z,Ce)):!1}(s,d,_,M,ka,C))}function Ss(s,d,_,M){var C=_.length,X=C,re=!M;if(s==null)return!X;for(s=w(s);C--;){var le=_[C];if(re&&le[2]?le[1]!==s[le[0]]:!(le[0]in s))return!1}for(;++C<X;){var _e=(le=_[C])[0],Z=s[_e],Ce=le[1];if(re&&le[2]){if(Z===g&&!(_e in s))return!1}else{var Xe=new so;if(M)var lt=M(Z,Ce,_e,s,d,Xe);if(!(lt===g?ka(Ce,Z,3,M,Xe):lt))return!1}}return!0}function Ta(s){return!(!In(s)||(d=s,Wt&&Wt in d))&&(ai(s)?kr:Wn).test(Fr(s));var d}function $c(s){return typeof s=="function"?s:s==null?xr:typeof s=="object"?Xt(s)?Yf(s[0],s[1]):Uf(s):nf(s)}function ni(s){if(!La(s))return Cf(s);var d=[];for(var _ in w(s))et.call(s,_)&&_!="constructor"&&d.push(_);return d}function ch(s){if(!In(s))return function(C){var X=[];if(C!=null)for(var re in w(C))X.push(re);return X}(s);var d=La(s),_=[];for(var M in s)(M!="constructor"||!d&&et.call(s,M))&&_.push(M);return _}function ri(s,d){return s<d}function co(s,d){var _=-1,M=Tr(s)?Qe(s.length):[];return Mn(s,function(C,X,re){M[++_]=d(C,X,re)}),M}function Uf(s){var d=zs(s);return d.length==1&&d[0][2]?pl(d[0][0],d[0][1]):function(_){return _===s||Ss(_,s,d)}}function Yf(s,d){return Bs(s)&&fl(d)?pl(Qn(s),d):function(_){var M=Bu(_,s);return M===g&&M===d?Fu(_,s):ka(d,M,3)}}function js(s,d,_,M,C){s!==d&&Kt(d,function(X,re){if(C||(C=new so),In(X))(function(_e,Z,Ce,Xe,lt,yt,Mt){var ze=Ws(_e,Ce),Ue=Ws(Z,Ce),Nt=Mt.get(Ue);if(Nt)return void Os(_e,Ce,Nt);var ut=yt?yt(ze,Ue,Ce+"",_e,Z,Mt):g,Dt=ut===g;if(Dt){var Lt=Xt(Ue),Qt=!Lt&&ii(Ue),gt=!Lt&&!Qt&&Ai(Ue);ut=Ue,Lt||Qt||gt?Xt(ze)?ut=ze:Xn(ze)?ut=Br(ze):Qt?(Dt=!1,ut=rl(Ue,!0)):gt?(Dt=!1,ut=xn(Ue,!0)):ut=[]:ui(Ue)||ea(Ue)?(ut=ze,ea(ze)?ut=zl(ze):In(ze)&&!ai(ze)||(ut=ll(Ue))):Dt=!1}Dt&&(Mt.set(Ue,ut),lt(ut,Ue,Xe,yt,Mt),Mt.delete(Ue)),Os(_e,Ce,ut)})(s,d,re,_,js,M,C);else{var le=M?M(Ws(s,re),X,re+"",s,d,C):g;le===g&&(le=X),Os(s,re,le)}},dr)}function Vf(s,d){var _=s.length;if(_)return Ho(d+=d<0?_:0,_)?s[d]:g}function $f(s,d,_){d=d.length?on(d,function(X){return Xt(X)?function(re){return ti(re,X.length===1?X[0]:X)}:X}):[xr];var M=-1;d=on(d,Dn(Et()));var C=co(s,function(X,re,le){var _e=on(d,function(Z){return Z(X)});return{criteria:_e,index:++M,value:X}});return function(X,re){var le=X.length;for(X.sort(re);le--;)X[le]=X[le].value;return X}(C,function(X,re){return function(le,_e,Z){for(var Ce=-1,Xe=le.criteria,lt=_e.criteria,yt=Xe.length,Mt=Z.length;++Ce<yt;){var ze=np(Xe[Ce],lt[Ce]);if(ze)return Ce>=Mt?ze:ze*(Z[Ce]=="desc"?-1:1)}return le.index-_e.index}(X,re,_)})}function Kf(s,d,_){for(var M=-1,C=d.length,X={};++M<C;){var re=d[M],le=ti(s,re);_(le,re)&&Da(X,Si(re,s),le)}return X}function Kc(s,d,_,M){var C=M?Pr:bi,X=-1,re=d.length,le=s;for(s===d&&(d=Br(d)),_&&(le=on(s,Dn(_)));++X<re;)for(var _e=0,Z=d[X],Ce=_?_(Z):Z;(_e=C(le,Ce,_e,M))>-1;)le!==s&&Yi.call(le,_e,1),Yi.call(s,_e,1);return s}function Na(s,d){for(var _=s?d.length:0,M=_-1;_--;){var C=d[_];if(_==M||C!==X){var X=C;Ho(C)?Yi.call(s,C,1):As(s,C)}}return s}function qc(s,d){return s+xa(ms()*(d-s+1))}function Ps(s,d){var _="";if(!s||d<1||d>H)return _;do d%2&&(_+=s),(d=xa(d/2))&&(s+=s);while(d);return _}function qt(s,d){return Gs(dl(s,d,xr),s+"")}function lh(s){return Gc(Ti(s))}function Zc(s,d){var _=Ti(s);return qi(_,xi(d,0,_.length))}function Da(s,d,_,M){if(!In(s))return s;for(var C=-1,X=(d=Si(d,s)).length,re=X-1,le=s;le!=null&&++C<X;){var _e=Qn(d[C]),Z=_;if(_e==="__proto__"||_e==="constructor"||_e==="prototype")return s;if(C!=re){var Ce=le[_e];(Z=M?M(Ce,_e,le):g)===g&&(Z=In(Ce)?Ce:Ho(d[C+1])?[]:{})}Ma(le,_e,Z),le=le[_e]}return s}var qf=bs?function(s,d){return bs.set(s,d),s}:xr,fh=xu?function(s,d){return xu(s,"toString",{configurable:!0,enumerable:!1,value:Qs(d),writable:!0})}:xr;function ph(s){return qi(Ti(s))}function lo(s,d,_){var M=-1,C=s.length;d<0&&(d=-d>C?0:C+d),(_=_>C?C:_)<0&&(_+=C),C=d>_?0:_-d>>>0,d>>>=0;for(var X=Qe(C);++M<C;)X[M]=s[M+d];return X}function Jc(s,d){var _;return Mn(s,function(M,C,X){return!(_=d(M,C,X))}),!!_}function Ms(s,d,_){var M=0,C=s==null?M:s.length;if(typeof d=="number"&&d==d&&C<=2147483647){for(;M<C;){var X=M+C>>>1,re=s[X];re!==null&&!vr(re)&&(_?re<=d:re<d)?M=X+1:C=X}return C}return Qc(s,d,xr,_)}function Qc(s,d,_,M){var C=0,X=s==null?0:s.length;if(X===0)return 0;for(var re=(d=_(d))!=d,le=d===null,_e=vr(d),Z=d===g;C<X;){var Ce=xa((C+X)/2),Xe=_(s[Ce]),lt=Xe!==g,yt=Xe===null,Mt=Xe==Xe,ze=vr(Xe);if(re)var Ue=M||Mt;else Ue=Z?Mt&&(M||lt):le?Mt&&lt&&(M||!yt):_e?Mt&&lt&&!yt&&(M||!ze):!yt&&!ze&&(M?Xe<=d:Xe<d);Ue?C=Ce+1:X=Ce}return Or(X,4294967294)}function Zf(s,d){for(var _=-1,M=s.length,C=0,X=[];++_<M;){var re=s[_],le=d?d(re):re;if(!_||!Tn(le,_e)){var _e=le;X[C++]=re===0?0:re}}return X}function el(s){return typeof s=="number"?s:vr(s)?ee:+s}function zr(s){if(typeof s=="string")return s;if(Xt(s))return on(s,zr)+"";if(vr(s))return Lf?Lf.call(s):"";var d=s+"";return d=="0"&&1/s==-1/0?"-0":d}function Ei(s,d,_){var M=-1,C=jr,X=s.length,re=!0,le=[],_e=le;if(_)re=!1,C=vu;else if(X>=200){var Z=d?null:al(s);if(Z)return qo(Z);re=!1,C=Io,_e=new wi}else _e=d?[]:le;e:for(;++M<X;){var Ce=s[M],Xe=d?d(Ce):Ce;if(Ce=_||Ce!==0?Ce:0,re&&Xe==Xe){for(var lt=_e.length;lt--;)if(_e[lt]===Xe)continue e;d&&_e.push(Xe),le.push(Ce)}else C(_e,Xe,_)||(_e!==le&&_e.push(Xe),le.push(Ce))}return le}function As(s,d){return(s=hl(s,d=Si(d,s)))==null||delete s[Qn(En(d))]}function Jf(s,d,_,M){return Da(s,d,_(ti(s,d)),M)}function Pu(s,d,_,M){for(var C=s.length,X=M?C:-1;(M?X--:++X<C)&&d(s[X],X,s););return _?lo(s,M?0:X,M?X+1:C):lo(s,M?X+1:0,M?C:X)}function Qf(s,d){var _=s;return _ instanceof rn&&(_=_.value()),ga(d,function(M,C){return C.func.apply(C.thisArg,Jn([M],C.args))},_)}function ks(s,d,_){var M=s.length;if(M<2)return M?Ei(s[0]):[];for(var C=-1,X=Qe(M);++C<M;)for(var re=s[C],le=-1;++le<M;)le!=C&&(X[C]=ei(X[C]||re,s[le],d,_));return Ei(pr(X,1),d,_)}function ep(s,d,_){for(var M=-1,C=s.length,X=d.length,re={};++M<C;){var le=M<X?d[M]:g;_(re,s[M],le)}return re}function Ts(s){return Xn(s)?s:[]}function tl(s){return typeof s=="function"?s:xr}function Si(s,d){return Xt(s)?s:Bs(s,d)?[s]:yp(pn(s))}var tp=qt;function ji(s,d,_){var M=s.length;return _=_===g?M:_,!d&&_>=M?s:lo(s,d,_)}var nl=th||function(s){return zn.clearTimeout(s)};function rl(s,d){if(d)return s.slice();var _=s.length,M=wu?wu(_):new s.constructor(_);return s.copy(M),M}function ol(s){var d=new s.constructor(s.byteLength);return new Ui(d).set(new Ui(s)),d}function xn(s,d){var _=d?ol(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.length)}function np(s,d){if(s!==d){var _=s!==g,M=s===null,C=s==s,X=vr(s),re=d!==g,le=d===null,_e=d==d,Z=vr(d);if(!le&&!Z&&!X&&s>d||X&&re&&_e&&!le&&!Z||M&&re&&_e||!_&&_e||!C)return 1;if(!M&&!X&&!Z&&s<d||Z&&_&&C&&!M&&!X||le&&_&&C||!re&&C||!_e)return-1}return 0}function An(s,d,_,M){for(var C=-1,X=s.length,re=_.length,le=-1,_e=d.length,Z=ur(X-re,0),Ce=Qe(_e+Z),Xe=!M;++le<_e;)Ce[le]=d[le];for(;++C<re;)(Xe||C<X)&&(Ce[_[C]]=s[C]);for(;Z--;)Ce[le++]=s[C++];return Ce}function Ns(s,d,_,M){for(var C=-1,X=s.length,re=-1,le=_.length,_e=-1,Z=d.length,Ce=ur(X-le,0),Xe=Qe(Ce+Z),lt=!M;++C<Ce;)Xe[C]=s[C];for(var yt=C;++_e<Z;)Xe[yt+_e]=d[_e];for(;++re<le;)(lt||C<X)&&(Xe[yt+_[re]]=s[C++]);return Xe}function Br(s,d){var _=-1,M=s.length;for(d||(d=Qe(M));++_<M;)d[_]=s[_];return d}function Wo(s,d,_,M){var C=!_;_||(_={});for(var X=-1,re=d.length;++X<re;){var le=d[X],_e=M?M(_[le],s[le],le,_,s):g;_e===g&&(_e=s[le]),C?Fo(_,le,_e):Ma(_,le,_e)}return _}function Ds(s,d){return function(_,M){var C=Xt(_)?fs:Ff,X=d?d():{};return C(_,s,Et(M,2),X)}}function Ki(s){return qt(function(d,_){var M=-1,C=_.length,X=C>1?_[C-1]:g,re=C>2?_[2]:g;for(X=s.length>3&&typeof X=="function"?(C--,X):g,re&&wr(_[0],_[1],re)&&(X=C<3?g:X,C=1),d=w(d);++M<C;){var le=_[M];le&&s(d,le,M,X)}return d})}function rp(s,d){return function(_,M){if(_==null)return _;if(!Tr(_))return s(_,M);for(var C=_.length,X=d?C:-1,re=w(_);(d?X--:++X<C)&&M(re[X],X,re)!==!1;);return _}}function op(s){return function(d,_,M){for(var C=-1,X=w(d),re=M(d),le=re.length;le--;){var _e=re[s?le:++C];if(_(X[_e],_e,X)===!1)break}return d}}function ip(s){return function(d){var _=mo(d=pn(d))?Lr(d):g,M=_?_[0]:d.charAt(0),C=_?ji(_,1).join(""):d.slice(1);return M[s]()+C}}function Pi(s){return function(d){return ga(wo(Zs(d).replace(as,"")),s,"")}}function Mu(s){return function(){var d=arguments;switch(d.length){case 0:return new s;case 1:return new s(d[0]);case 2:return new s(d[0],d[1]);case 3:return new s(d[0],d[1],d[2]);case 4:return new s(d[0],d[1],d[2],d[3]);case 5:return new s(d[0],d[1],d[2],d[3],d[4]);case 6:return new s(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new s(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var _=Pa(s.prototype),M=s.apply(_,d);return In(M)?M:_}}function ap(s){return function(d,_,M){var C=w(d);if(!Tr(d)){var X=Et(_,3);d=tr(d),_=function(le){return X(C[le],le,C)}}var re=s(d,_,M);return re>-1?C[X?d[re]:re]:g}}function up(s){return kn(function(d){var _=d.length,M=_,C=uo.prototype.thru;for(s&&d.reverse();M--;){var X=d[M];if(typeof X!="function")throw new K(x);if(C&&!re&&Oo(X)=="wrapper")var re=new uo([],!0)}for(M=re?M:_;++M<_;){var le=Oo(X=d[M]),_e=le=="wrapper"?Nu(X):g;re=_e&&Fs(_e[0])&&_e[1]==424&&!_e[4].length&&_e[9]==1?re[Oo(_e[0])].apply(re,_e[3]):X.length==1&&Fs(X)?re[le]():re.thru(X)}return function(){var Z=arguments,Ce=Z[0];if(re&&Z.length==1&&Xt(Ce))return re.plant(Ce).value();for(var Xe=0,lt=_?d[Xe].apply(this,Z):Ce;++Xe<_;)lt=d[Xe].call(this,lt);return lt}})}function Au(s,d,_,M,C,X,re,le,_e,Z){var Ce=d&D,Xe=1&d,lt=2&d,yt=24&d,Mt=512&d,ze=lt?g:Mu(s);return function Ue(){for(var Nt=arguments.length,ut=Qe(Nt),Dt=Nt;Dt--;)ut[Dt]=arguments[Dt];if(yt)var Lt=Ia(Ue),Qt=zc(ut,Lt);if(M&&(ut=An(ut,M,C,yt)),X&&(ut=Ns(ut,X,re,yt)),Nt-=Qt,yt&&Nt<Z){var gt=Rr(ut,Lt);return Is(s,d,Au,Ue.placeholder,_,ut,gt,le,_e,Z-Nt)}var At=Xe?_:this,nr=lt?At[s]:s;return Nt=ut.length,le?ut=hp(ut,le):Mt&&Nt>1&&ut.reverse(),Ce&&_e<Nt&&(ut.length=_e),this&&this!==zn&&this instanceof Ue&&(nr=ze||Mu(nr)),nr.apply(At,ut)}}function sp(s,d){return function(_,M){return function(C,X,re,le){return pt(C,function(_e,Z,Ce){X(le,re(_e),Z,Ce)}),le}(_,s,d(M),{})}}function ku(s,d){return function(_,M){var C;if(_===g&&M===g)return d;if(_!==g&&(C=_),M!==g){if(C===g)return M;typeof _=="string"||typeof M=="string"?(_=zr(_),M=zr(M)):(_=el(_),M=el(M)),C=s(_,M)}return C}}function il(s){return kn(function(d){return d=on(d,Dn(Et())),qt(function(_){var M=this;return s(d,function(C){return mn(C,M,_)})})})}function Cs(s,d){var _=(d=d===g?" ":zr(d)).length;if(_<2)return _?Ps(d,s):d;var M=Ps(d,ys(s/bo(d)));return mo(d)?ji(Lr(M),0,s).join(""):M.slice(0,s)}function Go(s){return function(d,_,M){return M&&typeof M!="number"&&wr(d,_,M)&&(_=M=g),d=Uo(d),_===g?(_=d,d=0):_=Uo(_),function(C,X,re,le){for(var _e=-1,Z=ur(ys((X-C)/(re||1)),0),Ce=Qe(Z);Z--;)Ce[le?Z:++_e]=C,C+=re;return Ce}(d,_,M=M===g?d<_?1:-1:Uo(M),s)}}function Ca(s){return function(d,_){return typeof d=="string"&&typeof _=="string"||(d=Nr(d),_=Nr(_)),s(d,_)}}function Is(s,d,_,M,C,X,re,le,_e,Z){var Ce=8&d;d|=Ce?k:I,4&(d&=~(Ce?I:k))||(d&=-4);var Xe=[s,d,C,Ce?X:g,Ce?re:g,Ce?g:X,Ce?g:re,le,_e,Z],lt=_.apply(g,Xe);return Fs(s)&&yl(lt,Xe),lt.placeholder=M,vl(lt,s,d)}function Rs(s){var d=O[s];return function(_,M){if(_=Nr(_),(M=M==null?0:Or(Yt(M),292))&&Df(_)){var C=(pn(_)+"e").split("e");return+((C=(pn(d(C[0]+"e"+(+C[1]+M)))+"e").split("e"))[0]+"e"+(+C[1]-M))}return d(_)}}var al=Vi&&1/qo(new Vi([,-0]))[1]==G?function(s){return new Vi(s)}:ec;function Ls(s){return function(d){var _=yr(d);return _==ce?br(d):_==je?Oa(d):function(M,C){return on(C,function(X){return[X,M[X]]})}(d,s(d))}}function Xo(s,d,_,M,C,X,re,le){var _e=2&d;if(!_e&&typeof s!="function")throw new K(x);var Z=M?M.length:0;if(Z||(d&=-97,M=C=g),re=re===g?re:ur(Yt(re),0),le=le===g?le:Yt(le),Z-=C?C.length:0,d&I){var Ce=M,Xe=C;M=C=g}var lt=_e?g:Nu(s),yt=[s,d,_,M,C,Ce,Xe,X,re,le];if(lt&&function(ze,Ue){var Nt=ze[1],ut=Ue[1],Dt=Nt|ut,Lt=Dt<131,Qt=ut==D&&Nt==8||ut==D&&Nt==R&&ze[7].length<=Ue[8]||ut==384&&Ue[7].length<=Ue[8]&&Nt==8;if(!Lt&&!Qt)return ze;1&ut&&(ze[2]=Ue[2],Dt|=1&Nt?0:4);var gt=Ue[3];if(gt){var At=ze[3];ze[3]=At?An(At,gt,Ue[4]):gt,ze[4]=At?Rr(ze[3],S):Ue[4]}(gt=Ue[5])&&(At=ze[5],ze[5]=At?Ns(At,gt,Ue[6]):gt,ze[6]=At?Rr(ze[5],S):Ue[6]),(gt=Ue[7])&&(ze[7]=gt),ut&D&&(ze[8]=ze[8]==null?Ue[8]:Or(ze[8],Ue[8])),ze[9]==null&&(ze[9]=Ue[9]),ze[0]=Ue[0],ze[1]=Dt}(yt,lt),s=yt[0],d=yt[1],_=yt[2],M=yt[3],C=yt[4],!(le=yt[9]=yt[9]===g?_e?0:s.length:ur(yt[9]-Z,0))&&24&d&&(d&=-25),d&&d!=1)Mt=d==8||d==T?function(ze,Ue,Nt){var ut=Mu(ze);return function Dt(){for(var Lt=arguments.length,Qt=Qe(Lt),gt=Lt,At=Ia(Dt);gt--;)Qt[gt]=arguments[gt];var nr=Lt<3&&Qt[0]!==At&&Qt[Lt-1]!==At?[]:Rr(Qt,At);return(Lt-=nr.length)<Nt?Is(ze,Ue,Au,Dt.placeholder,g,Qt,nr,g,g,Nt-Lt):mn(this&&this!==zn&&this instanceof Dt?ut:ze,this,Qt)}}(s,d,le):d!=k&&d!=33||C.length?Au.apply(g,yt):function(ze,Ue,Nt,ut){var Dt=1&Ue,Lt=Mu(ze);return function Qt(){for(var gt=-1,At=arguments.length,nr=-1,gr=ut.length,xo=Qe(gr+At),cr=this&&this!==zn&&this instanceof Qt?Lt:ze;++nr<gr;)xo[nr]=ut[nr];for(;At--;)xo[nr++]=arguments[++gt];return mn(cr,Dt?Nt:this,xo)}}(s,d,_,M);else var Mt=function(ze,Ue,Nt){var ut=1&Ue,Dt=Mu(ze);return function Lt(){return(this&&this!==zn&&this instanceof Lt?Dt:ze).apply(ut?Nt:this,arguments)}}(s,d,_);return vl((lt?qf:yl)(Mt,yt),s,d)}function cp(s,d,_,M){return s===g||Tn(s,We[_])&&!et.call(M,_)?d:s}function lp(s,d,_,M,C,X){return In(s)&&In(d)&&(X.set(d,s),js(s,d,g,lp,X),X.delete(d)),s}function dh(s){return ui(s)?g:s}function fp(s,d,_,M,C,X){var re=1&_,le=s.length,_e=d.length;if(le!=_e&&!(re&&_e>le))return!1;var Z=X.get(s),Ce=X.get(d);if(Z&&Ce)return Z==d&&Ce==s;var Xe=-1,lt=!0,yt=2&_?new wi:g;for(X.set(s,d),X.set(d,s);++Xe<le;){var Mt=s[Xe],ze=d[Xe];if(M)var Ue=re?M(ze,Mt,Xe,d,s,X):M(Mt,ze,Xe,s,d,X);if(Ue!==g){if(Ue)continue;lt=!1;break}if(yt){if(!gu(d,function(Nt,ut){if(!Io(yt,ut)&&(Mt===Nt||C(Mt,Nt,_,M,X)))return yt.push(ut)})){lt=!1;break}}else if(Mt!==ze&&!C(Mt,ze,_,M,X)){lt=!1;break}}return X.delete(s),X.delete(d),lt}function kn(s){return Gs(dl(s,g,_l),s+"")}function Tu(s){return Yc(s,tr,sl)}function ul(s){return Yc(s,dr,Te)}var Nu=bs?function(s){return bs.get(s)}:ec;function Oo(s){for(var d=s.name+"",_=ja[d],M=et.call(ja,d)?_.length:0;M--;){var C=_[M],X=C.func;if(X==null||X==s)return C.name}return d}function Ia(s){return(et.call(F,"placeholder")?F:s).placeholder}function Et(){var s=F.iteratee||Ql;return s=s===Ql?$c:s,arguments.length?s(arguments[0],arguments[1]):s}function Ra(s,d){var _,M,C=s.__data__;return((M=typeof(_=d))=="string"||M=="number"||M=="symbol"||M=="boolean"?_!=="__proto__":_===null)?C[typeof d=="string"?"string":"hash"]:C.map}function zs(s){for(var d=tr(s),_=d.length;_--;){var M=d[_],C=s[M];d[_]=[M,C,fl(C)]}return d}function Mi(s,d){var _=function(M,C){return M==null?g:M[C]}(s,d);return Ta(_)?_:g}var sl=Bc?function(s){return s==null?[]:(s=w(s),mr(Bc(s),function(d){return _r.call(s,d)}))}:Ha,Te=Bc?function(s){for(var d=[];s;)Jn(d,sl(s)),s=Zo(s);return d}:Ha,yr=Cn;function cl(s,d,_){for(var M=-1,C=(d=Si(d,s)).length,X=!1;++M<C;){var re=Qn(d[M]);if(!(X=s!=null&&_(s,re)))break;s=s[re]}return X||++M!=C?X:!!(C=s==null?0:s.length)&&ta(C)&&Ho(re,C)&&(Xt(s)||ea(s))}function ll(s){return typeof s.constructor!="function"||La(s)?{}:Pa(Zo(s))}function pp(s){return Xt(s)||ea(s)||!!(Oi&&s&&s[Oi])}function Ho(s,d){var _=typeof s;return!!(d=d??H)&&(_=="number"||_!="symbol"&&it.test(s))&&s>-1&&s%1==0&&s<d}function wr(s,d,_){if(!In(_))return!1;var M=typeof d;return!!(M=="number"?Tr(_)&&Ho(d,_.length):M=="string"&&d in _)&&Tn(_[d],s)}function Bs(s,d){if(Xt(s))return!1;var _=typeof s;return!(_!="number"&&_!="symbol"&&_!="boolean"&&s!=null&&!vr(s))||Bt.test(s)||!sn.test(s)||d!=null&&s in w(d)}function Fs(s){var d=Oo(s),_=F[d];if(typeof _!="function"||!(d in rn.prototype))return!1;if(s===_)return!0;var M=Nu(_);return!!M&&s===M[0]}(Ea&&yr(new Ea(new ArrayBuffer(1)))!=rt||zo&&yr(new zo)!=ce||Fc&&yr(Fc.resolve())!=Me||Vi&&yr(new Vi)!=je||Sa&&yr(new Sa)!=Ae)&&(yr=function(s){var d=Cn(s),_=d==Oe?s.constructor:g,M=_?Fr(_):"";if(M)switch(M){case ah:return rt;case If:return ce;case uh:return Me;case sh:return je;case Rf:return Ae}return d});var dp=at?ai:Uu;function La(s){var d=s&&s.constructor;return s===(typeof d=="function"&&d.prototype||We)}function fl(s){return s==s&&!In(s)}function pl(s,d){return function(_){return _!=null&&_[s]===d&&(d!==g||s in w(_))}}function dl(s,d,_){return d=ur(d===g?s.length-1:d,0),function(){for(var M=arguments,C=-1,X=ur(M.length-d,0),re=Qe(X);++C<X;)re[C]=M[d+C];C=-1;for(var le=Qe(d+1);++C<d;)le[C]=M[C];return le[d]=_(re),mn(s,this,le)}}function hl(s,d){return d.length<2?s:ti(s,lo(d,0,-1))}function hp(s,d){for(var _=s.length,M=Or(d.length,_),C=Br(s);M--;){var X=d[M];s[M]=Ho(X,_)?C[X]:g}return s}function Ws(s,d){if((d!=="constructor"||typeof s[d]!="function")&&d!="__proto__")return s[d]}var yl=Xs(qf),za=Nf||function(s,d){return zn.setTimeout(s,d)},Gs=Xs(fh);function vl(s,d,_){var M=d+"";return Gs(s,function(C,X){var re=X.length;if(!re)return C;var le=re-1;return X[le]=(re>1?"& ":"")+X[le],X=X.join(re>2?", ":" "),C.replace(Q,`{
/* [wrapped with `+X+`] */
`)}(M,function(C,X){return Sr(ie,function(re){var le="_."+re[0];X&re[1]&&!jr(C,le)&&C.push(le)}),C.sort()}(function(C){var X=C.match(he);return X?X[1].split(ae):[]}(M),_)))}function Xs(s){var d=0,_=0;return function(){var M=vs(),C=16-(M-_);if(_=M,C>0){if(++d>=800)return arguments[0]}else d=0;return s.apply(g,arguments)}}function qi(s,d){var _=-1,M=s.length,C=M-1;for(d=d===g?M:d;++_<d;){var X=qc(_,C),re=s[X];s[X]=s[_],s[_]=re}return s.length=d,s}var yp=function(s){var d=Fa(s,function(M){return _.size===500&&_.clear(),M}),_=d.cache;return d}(function(s){var d=[];return s.charCodeAt(0)===46&&d.push(""),s.replace(en,function(_,M,C,X){d.push(C?X.replace(Ke,"$1"):M||_)}),d});function Qn(s){if(typeof s=="string"||vr(s))return s;var d=s+"";return d=="0"&&1/s==-1/0?"-0":d}function Fr(s){if(s!=null){try{return $t.call(s)}catch{}try{return s+""}catch{}}return""}function vp(s){if(s instanceof rn)return s.clone();var d=new uo(s.__wrapped__,s.__chain__);return d.__actions__=Br(s.__actions__),d.__index__=s.__index__,d.__values__=s.__values__,d}var Zr=qt(function(s,d){return Xn(s)?ei(s,pr(d,1,Xn,!0)):[]}),gp=qt(function(s,d){var _=En(d);return Xn(_)&&(_=g),Xn(s)?ei(s,pr(d,1,Xn,!0),Et(_,2)):[]}),gl=qt(function(s,d){var _=En(d);return Xn(_)&&(_=g),Xn(s)?ei(s,pr(d,1,Xn,!0),g,_):[]});function ml(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var C=_==null?0:Yt(_);return C<0&&(C=ur(M+C,0)),Do(s,Et(d,3),C)}function bl(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var C=M-1;return _!==g&&(C=Yt(_),C=_<0?ur(M+C,0):Or(C,M-1)),Do(s,Et(d,3),C,!0)}function _l(s){return s!=null&&s.length?pr(s,1):[]}function Ol(s){return s&&s.length?s[0]:g}var mp=qt(function(s){var d=on(s,Ts);return d.length&&d[0]===s[0]?Es(d):[]}),wl=qt(function(s){var d=En(s),_=on(s,Ts);return d===En(_)?d=g:_.pop(),_.length&&_[0]===s[0]?Es(_,Et(d,2)):[]}),Du=qt(function(s){var d=En(s),_=on(s,Ts);return(d=typeof d=="function"?d:g)&&_.pop(),_.length&&_[0]===s[0]?Es(_,g,d):[]});function En(s){var d=s==null?0:s.length;return d?s[d-1]:g}var hh=qt(bp);function bp(s,d){return s&&s.length&&d&&d.length?Kc(s,d):s}var xl=kn(function(s,d){var _=s==null?0:s.length,M=ws(s,d);return Na(s,on(d,function(C){return Ho(C,_)?+C:C}).sort(np)),M});function Hs(s){return s==null?s:ih.call(s)}var Wr=qt(function(s){return Ei(pr(s,1,Xn,!0))}),er=qt(function(s){var d=En(s);return Xn(d)&&(d=g),Ei(pr(s,1,Xn,!0),Et(d,2))}),yh=qt(function(s){var d=En(s);return d=typeof d=="function"?d:g,Ei(pr(s,1,Xn,!0),g,d)});function Gr(s){if(!s||!s.length)return[];var d=0;return s=mr(s,function(_){if(Xn(_))return d=ur(_.length,d),!0}),Hi(d,function(_){return on(s,Mr(_))})}function Pt(s,d){if(!s||!s.length)return[];var _=Gr(s);return d==null?_:on(_,function(M){return mn(d,g,M)})}var El=qt(function(s,d){return Xn(s)?ei(s,d):[]}),Sl=qt(function(s){return ks(mr(s,Xn))}),jl=qt(function(s){var d=En(s);return Xn(d)&&(d=g),ks(mr(s,Xn),Et(d,2))}),_p=qt(function(s){var d=En(s);return d=typeof d=="function"?d:g,ks(mr(s,Xn),g,d)}),Op=qt(Gr),vh=qt(function(s){var d=s.length,_=d>1?s[d-1]:g;return _=typeof _=="function"?(s.pop(),_):g,Pt(s,_)});function wp(s){var d=F(s);return d.__chain__=!0,d}function Ba(s,d){return d(s)}var gh=kn(function(s){var d=s.length,_=d?s[0]:0,M=this.__wrapped__,C=function(X){return ws(X,s)};return!(d>1||this.__actions__.length)&&M instanceof rn&&Ho(_)?((M=M.slice(_,+_+(d?1:0))).__actions__.push({func:Ba,args:[C],thisArg:g}),new uo(M,this.__chain__).thru(function(X){return d&&!X.length&&X.push(g),X})):this.thru(C)}),Pl=Ds(function(s,d,_){et.call(s,_)?++s[_]:Fo(s,_,1)}),mh=ap(ml),bh=ap(bl);function Ml(s,d){return(Xt(s)?Sr:Mn)(s,Et(d,3))}function Zi(s,d){return(Xt(s)?ps:Wf)(s,Et(d,3))}var xp=Ds(function(s,d,_){et.call(s,_)?s[_].push(d):Fo(s,_,[d])}),Gt=qt(function(s,d,_){var M=-1,C=typeof d=="function",X=Tr(s)?Qe(s.length):[];return Mn(s,function(re){X[++M]=C?mn(d,re,_):Aa(re,d,_)}),X}),Ep=Ds(function(s,d,_){Fo(s,_,d)});function Ji(s,d){return(Xt(s)?on:co)(s,Et(d,3))}var Al=Ds(function(s,d,_){s[_?0:1].push(d)},function(){return[[],[]]}),_h=qt(function(s,d){if(s==null)return[];var _=d.length;return _>1&&wr(s,d[0],d[1])?d=[]:_>2&&wr(d[0],d[1],d[2])&&(d=[d[0]]),$f(s,pr(d,1),[])}),Cu=nh||function(){return zn.Date.now()};function kl(s,d,_){return d=_?g:d,d=s&&d==null?s.length:d,Xo(s,D,g,g,g,g,d)}function Tl(s,d){var _;if(typeof d!="function")throw new K(x);return s=Yt(s),function(){return--s>0&&(_=d.apply(this,arguments)),s<=1&&(d=g),_}}var Nl=qt(function(s,d,_){var M=1;if(_.length){var C=Rr(_,Ia(Nl));M|=k}return Xo(s,M,d,_,C)}),Sp=qt(function(s,d,_){var M=3;if(_.length){var C=Rr(_,Ia(Sp));M|=k}return Xo(d,M,s,_,C)});function jp(s,d,_){var M,C,X,re,le,_e,Z=0,Ce=!1,Xe=!1,lt=!0;if(typeof s!="function")throw new K(x);function yt(Dt){var Lt=M,Qt=C;return M=C=g,Z=Dt,re=s.apply(Qt,Lt)}function Mt(Dt){return Z=Dt,le=za(Ue,d),Ce?yt(Dt):re}function ze(Dt){var Lt=Dt-_e;return _e===g||Lt>=d||Lt<0||Xe&&Dt-Z>=X}function Ue(){var Dt=Cu();if(ze(Dt))return Nt(Dt);le=za(Ue,function(Lt){var Qt=d-(Lt-_e);return Xe?Or(Qt,X-(Lt-Z)):Qt}(Dt))}function Nt(Dt){return le=g,lt&&M?yt(Dt):(M=C=g,re)}function ut(){var Dt=Cu(),Lt=ze(Dt);if(M=arguments,C=this,_e=Dt,Lt){if(le===g)return Mt(_e);if(Xe)return nl(le),le=za(Ue,d),yt(_e)}return le===g&&(le=za(Ue,d)),re}return d=Nr(d)||0,In(_)&&(Ce=!!_.leading,X=(Xe="maxWait"in _)?ur(Nr(_.maxWait)||0,d):X,lt="trailing"in _?!!_.trailing:lt),ut.cancel=function(){le!==g&&nl(le),Z=0,M=_e=C=le=g},ut.flush=function(){return le===g?re:Nt(Cu())},ut}var Iu=qt(function(s,d){return Uc(s,1,d)}),Oh=qt(function(s,d,_){return Uc(s,Nr(d)||0,_)});function Fa(s,d){if(typeof s!="function"||d!=null&&typeof d!="function")throw new K(x);var _=function(){var M=arguments,C=d?d.apply(this,M):M[0],X=_.cache;if(X.has(C))return X.get(C);var re=s.apply(this,M);return _.cache=X.set(C,re)||X,re};return _.cache=new(Fa.Cache||Bo),_}function Us(s){if(typeof s!="function")throw new K(x);return function(){var d=arguments;switch(d.length){case 0:return!s.call(this);case 1:return!s.call(this,d[0]);case 2:return!s.call(this,d[0],d[1]);case 3:return!s.call(this,d[0],d[1],d[2])}return!s.apply(this,d)}}Fa.Cache=Bo;var wh=tp(function(s,d){var _=(d=d.length==1&&Xt(d[0])?on(d[0],Dn(Et())):on(pr(d,1),Dn(Et()))).length;return qt(function(M){for(var C=-1,X=Or(M.length,_);++C<X;)M[C]=d[C].call(this,M[C]);return mn(s,this,M)})}),Qi=qt(function(s,d){var _=Rr(d,Ia(Qi));return Xo(s,k,g,d,_)}),oi=qt(function(s,d){var _=Rr(d,Ia(oi));return Xo(s,I,g,d,_)}),Dl=kn(function(s,d){return Xo(s,R,g,g,g,d)});function Tn(s,d){return s===d||s!=s&&d!=d}var Ys=Ca(Bn),Ru=Ca(function(s,d){return s>=d}),ea=Vc(function(){return arguments}())?Vc:function(s){return Rn(s)&&et.call(s,"callee")&&!_r.call(s,"callee")},Xt=Qe.isArray,Pp=hu?Dn(hu):function(s){return Rn(s)&&Cn(s)==Ge};function Tr(s){return s!=null&&ta(s.length)&&!ai(s)}function Xn(s){return Rn(s)&&Tr(s)}var ii=rh||Uu,Vs=ls?Dn(ls):function(s){return Rn(s)&&Cn(s)==B};function Cl(s){if(!Rn(s))return!1;var d=Cn(s);return d==Y||d=="[object DOMException]"||typeof s.message=="string"&&typeof s.name=="string"&&!ui(s)}function ai(s){if(!In(s))return!1;var d=Cn(s);return d==V||d==q||d=="[object AsyncFunction]"||d=="[object Proxy]"}function $s(s){return typeof s=="number"&&s==Yt(s)}function ta(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=H}function In(s){var d=typeof s;return s!=null&&(d=="object"||d=="function")}function Rn(s){return s!=null&&typeof s=="object"}var Mp=yu?Dn(yu):function(s){return Rn(s)&&yr(s)==ce};function Il(s){return typeof s=="number"||Rn(s)&&Cn(s)==Se}function ui(s){if(!Rn(s)||Cn(s)!=Oe)return!1;var d=Zo(s);if(d===null)return!0;var _=et.call(d,"constructor")&&d.constructor;return typeof _=="function"&&_ instanceof _&&$t.call(_)==Kr}var Rl=va?Dn(va):function(s){return Rn(s)&&Cn(s)==Fe},Wa=mi?Dn(mi):function(s){return Rn(s)&&yr(s)==je};function Lu(s){return typeof s=="string"||!Xt(s)&&Rn(s)&&Cn(s)==ve}function vr(s){return typeof s=="symbol"||Rn(s)&&Cn(s)==Pe}var Ai=yo?Dn(yo):function(s){return Rn(s)&&ta(s.length)&&!!ln[Cn(s)]},Ga=Ca(ri),zu=Ca(function(s,d){return s<=d});function Xa(s){if(!s)return[];if(Tr(s))return Lu(s)?Lr(s):Br(s);if(Jo&&s[Jo])return function(_){for(var M,C=[];!(M=_.next()).done;)C.push(M.value);return C}(s[Jo]());var d=yr(s);return(d==ce?br:d==je?qo:Ti)(s)}function Uo(s){return s?(s=Nr(s))===G||s===-1/0?17976931348623157e292*(s<0?-1:1):s==s?s:0:s===0?s:0}function Yt(s){var d=Uo(s),_=d%1;return d==d?_?d-_:d:0}function Ll(s){return s?xi(Yt(s),0,ue):0}function Nr(s){if(typeof s=="number")return s;if(vr(s))return ee;if(In(s)){var d=typeof s.valueOf=="function"?s.valueOf():s;s=In(d)?d+"":d}if(typeof s!="string")return s===0?s:+s;s=mu(s);var _=lr.test(s);return _||Yn.test(s)?No(s.slice(2),_?2:8):Zn.test(s)?ee:+s}function zl(s){return Wo(s,dr(s))}function pn(s){return s==null?"":zr(s)}var Ap=Ki(function(s,d){if(La(d)||Tr(d))Wo(d,tr(d),s);else for(var _ in d)et.call(d,_)&&Ma(s,_,d[_])}),Bl=Ki(function(s,d){Wo(d,dr(d),s)}),si=Ki(function(s,d,_,M){Wo(d,dr(d),s,M)}),Fl=Ki(function(s,d,_,M){Wo(d,tr(d),s,M)}),kp=kn(ws),Tp=qt(function(s,d){s=w(s);var _=-1,M=d.length,C=M>2?d[2]:g;for(C&&wr(d[0],d[1],C)&&(M=1);++_<M;)for(var X=d[_],re=dr(X),le=-1,_e=re.length;++le<_e;){var Z=re[le],Ce=s[Z];(Ce===g||Tn(Ce,We[Z])&&!et.call(s,Z))&&(s[Z]=X[Z])}return s}),Wl=qt(function(s){return s.push(g,lp),mn(Hl,g,s)});function Bu(s,d,_){var M=s==null?g:ti(s,d);return M===g?_:M}function Fu(s,d){return s!=null&&cl(s,d,Hf)}var Np=sp(function(s,d,_){d!=null&&typeof d.toString!="function"&&(d=an.call(d)),s[d]=_},Qs(xr)),Gl=sp(function(s,d,_){d!=null&&typeof d.toString!="function"&&(d=an.call(d)),et.call(s,d)?s[d].push(_):s[d]=[_]},Et),Xl=qt(Aa);function tr(s){return Tr(s)?Wc(s):ni(s)}function dr(s){return Tr(s)?Wc(s,!0):ch(s)}var ki=Ki(function(s,d,_){js(s,d,_)}),Hl=Ki(function(s,d,_,M){js(s,d,_,M)}),Dp=kn(function(s,d){var _={};if(s==null)return _;var M=!1;d=on(d,function(X){return X=Si(X,s),M||(M=X.length>1),X}),Wo(s,ul(s),_),M&&(_=qr(_,7,dh));for(var C=d.length;C--;)As(_,d[C]);return _}),Ul=kn(function(s,d){return s==null?{}:function(_,M){return Kf(_,M,function(C,X){return Fu(_,X)})}(s,d)});function Ks(s,d){if(s==null)return{};var _=on(ul(s),function(M){return[M]});return d=Et(d),Kf(s,_,function(M,C){return d(M,C[0])})}var Cp=Ls(tr),Yl=Ls(dr);function Ti(s){return s==null?[]:_a(s,tr(s))}var qs=Pi(function(s,d,_){return d=d.toLowerCase(),s+(_?Wu(d):d)});function Wu(s){return Hn(pn(s).toLowerCase())}function Zs(s){return(s=pn(s))&&s.replace(_t,_u).replace(To,"")}var Vl=Pi(function(s,d,_){return s+(_?"-":"")+d.toLowerCase()}),Ip=Pi(function(s,d,_){return s+(_?" ":"")+d.toLowerCase()}),$l=ip("toLowerCase"),Rp=Pi(function(s,d,_){return s+(_?"_":"")+d.toLowerCase()}),Kl=Pi(function(s,d,_){return s+(_?" ":"")+Hn(d)}),xh=Pi(function(s,d,_){return s+(_?" ":"")+d.toUpperCase()}),Hn=ip("toUpperCase");function wo(s,d,_){return s=pn(s),(d=_?g:d)===g?function(M){return lu.test(M)}(s)?function(M){return M.match(ha)||[]}(s):function(M){return M.match(be)||[]}(s):s.match(d)||[]}var Js=qt(function(s,d){try{return mn(s,g,d)}catch(_){return Cl(_)?_:new Zt(_)}}),ql=kn(function(s,d){return Sr(d,function(_){_=Qn(_),Fo(s,_,Nl(s[_],s))}),s});function Qs(s){return function(){return s}}var Zl=up(),Jl=up(!0);function xr(s){return s}function Ql(s){return $c(typeof s=="function"?s:qr(s,1))}var na=qt(function(s,d){return function(_){return Aa(_,s,d)}}),ef=qt(function(s,d){return function(_){return Aa(s,_,d)}});function Gu(s,d,_){var M=tr(d),C=xs(d,M);_!=null||In(d)&&(C.length||!M.length)||(_=d,d=s,s=this,C=xs(d,tr(d)));var X=!(In(_)&&"chain"in _&&!_.chain),re=ai(s);return Sr(C,function(le){var _e=d[le];s[le]=_e,re&&(s.prototype[le]=function(){var Z=this.__chain__;if(X||Z){var Ce=s(this.__wrapped__),Xe=Ce.__actions__=Br(this.__actions__);return Xe.push({func:_e,args:arguments,thisArg:s}),Ce.__chain__=Z,Ce}return _e.apply(s,Jn([this.value()],arguments))})}),s}function ec(){}var Xu=il(on),Hu=il(ds),tf=il(gu);function nf(s){return Bs(s)?Mr(Qn(s)):function(d){return function(_){return ti(_,d)}}(s)}var Lp=Go(),hr=Go(!0);function Ha(){return[]}function Uu(){return!1}var rf=ku(function(s,d){return s+d},0),zp=Rs("ceil"),Bp=ku(function(s,d){return s/d},1),of=Rs("floor"),Ua,Fp=ku(function(s,d){return s*d},1),tc=Rs("round"),nc=ku(function(s,d){return s-d},0);return F.after=function(s,d){if(typeof d!="function")throw new K(x);return s=Yt(s),function(){if(--s<1)return d.apply(this,arguments)}},F.ary=kl,F.assign=Ap,F.assignIn=Bl,F.assignInWith=si,F.assignWith=Fl,F.at=kp,F.before=Tl,F.bind=Nl,F.bindAll=ql,F.bindKey=Sp,F.castArray=function(){if(!arguments.length)return[];var s=arguments[0];return Xt(s)?s:[s]},F.chain=wp,F.chunk=function(s,d,_){d=(_?wr(s,d,_):d===g)?1:ur(Yt(d),0);var M=s==null?0:s.length;if(!M||d<1)return[];for(var C=0,X=0,re=Qe(ys(M/d));C<M;)re[X++]=lo(s,C,C+=d);return re},F.compact=function(s){for(var d=-1,_=s==null?0:s.length,M=0,C=[];++d<_;){var X=s[d];X&&(C[M++]=X)}return C},F.concat=function(){var s=arguments.length;if(!s)return[];for(var d=Qe(s-1),_=arguments[0],M=s;M--;)d[M-1]=arguments[M];return Jn(Xt(_)?Br(_):[_],pr(d,1))},F.cond=function(s){var d=s==null?0:s.length,_=Et();return s=d?on(s,function(M){if(typeof M[1]!="function")throw new K(x);return[_(M[0]),M[1]]}):[],qt(function(M){for(var C=-1;++C<d;){var X=s[C];if(mn(X[0],this,M))return mn(X[1],this,M)}})},F.conforms=function(s){return function(d){var _=tr(d);return function(M){return Hc(M,d,_)}}(qr(s,1))},F.constant=Qs,F.countBy=Pl,F.create=function(s,d){var _=Pa(s);return d==null?_:Xc(_,d)},F.curry=function s(d,_,M){var C=Xo(d,8,g,g,g,g,g,_=M?g:_);return C.placeholder=s.placeholder,C},F.curryRight=function s(d,_,M){var C=Xo(d,T,g,g,g,g,g,_=M?g:_);return C.placeholder=s.placeholder,C},F.debounce=jp,F.defaults=Tp,F.defaultsDeep=Wl,F.defer=Iu,F.delay=Oh,F.difference=Zr,F.differenceBy=gp,F.differenceWith=gl,F.drop=function(s,d,_){var M=s==null?0:s.length;return M?lo(s,(d=_||d===g?1:Yt(d))<0?0:d,M):[]},F.dropRight=function(s,d,_){var M=s==null?0:s.length;return M?lo(s,0,(d=M-(d=_||d===g?1:Yt(d)))<0?0:d):[]},F.dropRightWhile=function(s,d){return s&&s.length?Pu(s,Et(d,3),!0,!0):[]},F.dropWhile=function(s,d){return s&&s.length?Pu(s,Et(d,3),!0):[]},F.fill=function(s,d,_,M){var C=s==null?0:s.length;return C?(_&&typeof _!="number"&&wr(s,d,_)&&(_=0,M=C),function(X,re,le,_e){var Z=X.length;for((le=Yt(le))<0&&(le=-le>Z?0:Z+le),(_e=_e===g||_e>Z?Z:Yt(_e))<0&&(_e+=Z),_e=le>_e?0:Ll(_e);le<_e;)X[le++]=re;return X}(s,d,_,M)):[]},F.filter=function(s,d){return(Xt(s)?mr:fn)(s,Et(d,3))},F.flatMap=function(s,d){return pr(Ji(s,d),1)},F.flatMapDeep=function(s,d){return pr(Ji(s,d),G)},F.flatMapDepth=function(s,d,_){return _=_===g?1:Yt(_),pr(Ji(s,d),_)},F.flatten=_l,F.flattenDeep=function(s){return s!=null&&s.length?pr(s,G):[]},F.flattenDepth=function(s,d){return s!=null&&s.length?pr(s,d=d===g?1:Yt(d)):[]},F.flip=function(s){return Xo(s,512)},F.flow=Zl,F.flowRight=Jl,F.fromPairs=function(s){for(var d=-1,_=s==null?0:s.length,M={};++d<_;){var C=s[d];M[C[0]]=C[1]}return M},F.functions=function(s){return s==null?[]:xs(s,tr(s))},F.functionsIn=function(s){return s==null?[]:xs(s,dr(s))},F.groupBy=xp,F.initial=function(s){return s!=null&&s.length?lo(s,0,-1):[]},F.intersection=mp,F.intersectionBy=wl,F.intersectionWith=Du,F.invert=Np,F.invertBy=Gl,F.invokeMap=Gt,F.iteratee=Ql,F.keyBy=Ep,F.keys=tr,F.keysIn=dr,F.map=Ji,F.mapKeys=function(s,d){var _={};return d=Et(d,3),pt(s,function(M,C,X){Fo(_,d(M,C,X),M)}),_},F.mapValues=function(s,d){var _={};return d=Et(d,3),pt(s,function(M,C,X){Fo(_,C,d(M,C,X))}),_},F.matches=function(s){return Uf(qr(s,1))},F.matchesProperty=function(s,d){return Yf(s,qr(d,1))},F.memoize=Fa,F.merge=ki,F.mergeWith=Hl,F.method=na,F.methodOf=ef,F.mixin=Gu,F.negate=Us,F.nthArg=function(s){return s=Yt(s),qt(function(d){return Vf(d,s)})},F.omit=Dp,F.omitBy=function(s,d){return Ks(s,Us(Et(d)))},F.once=function(s){return Tl(2,s)},F.orderBy=function(s,d,_,M){return s==null?[]:(Xt(d)||(d=d==null?[]:[d]),Xt(_=M?g:_)||(_=_==null?[]:[_]),$f(s,d,_))},F.over=Xu,F.overArgs=wh,F.overEvery=Hu,F.overSome=tf,F.partial=Qi,F.partialRight=oi,F.partition=Al,F.pick=Ul,F.pickBy=Ks,F.property=nf,F.propertyOf=function(s){return function(d){return s==null?g:ti(s,d)}},F.pull=hh,F.pullAll=bp,F.pullAllBy=function(s,d,_){return s&&s.length&&d&&d.length?Kc(s,d,Et(_,2)):s},F.pullAllWith=function(s,d,_){return s&&s.length&&d&&d.length?Kc(s,d,g,_):s},F.pullAt=xl,F.range=Lp,F.rangeRight=hr,F.rearg=Dl,F.reject=function(s,d){return(Xt(s)?mr:fn)(s,Us(Et(d,3)))},F.remove=function(s,d){var _=[];if(!s||!s.length)return _;var M=-1,C=[],X=s.length;for(d=Et(d,3);++M<X;){var re=s[M];d(re,M,s)&&(_.push(re),C.push(M))}return Na(s,C),_},F.rest=function(s,d){if(typeof s!="function")throw new K(x);return qt(s,d=d===g?d:Yt(d))},F.reverse=Hs,F.sampleSize=function(s,d,_){return d=(_?wr(s,d,_):d===g)?1:Yt(d),(Xt(s)?zf:Zc)(s,d)},F.set=function(s,d,_){return s==null?s:Da(s,d,_)},F.setWith=function(s,d,_,M){return M=typeof M=="function"?M:g,s==null?s:Da(s,d,_,M)},F.shuffle=function(s){return(Xt(s)?Bf:ph)(s)},F.slice=function(s,d,_){var M=s==null?0:s.length;return M?(_&&typeof _!="number"&&wr(s,d,_)?(d=0,_=M):(d=d==null?0:Yt(d),_=_===g?M:Yt(_)),lo(s,d,_)):[]},F.sortBy=_h,F.sortedUniq=function(s){return s&&s.length?Zf(s):[]},F.sortedUniqBy=function(s,d){return s&&s.length?Zf(s,Et(d,2)):[]},F.split=function(s,d,_){return _&&typeof _!="number"&&wr(s,d,_)&&(d=_=g),(_=_===g?ue:_>>>0)?(s=pn(s))&&(typeof d=="string"||d!=null&&!Rl(d))&&!(d=zr(d))&&mo(s)?ji(Lr(s),0,_):s.split(d,_):[]},F.spread=function(s,d){if(typeof s!="function")throw new K(x);return d=d==null?0:ur(Yt(d),0),qt(function(_){var M=_[d],C=ji(_,0,d);return M&&Jn(C,M),mn(s,this,C)})},F.tail=function(s){var d=s==null?0:s.length;return d?lo(s,1,d):[]},F.take=function(s,d,_){return s&&s.length?lo(s,0,(d=_||d===g?1:Yt(d))<0?0:d):[]},F.takeRight=function(s,d,_){var M=s==null?0:s.length;return M?lo(s,(d=M-(d=_||d===g?1:Yt(d)))<0?0:d,M):[]},F.takeRightWhile=function(s,d){return s&&s.length?Pu(s,Et(d,3),!1,!0):[]},F.takeWhile=function(s,d){return s&&s.length?Pu(s,Et(d,3)):[]},F.tap=function(s,d){return d(s),s},F.throttle=function(s,d,_){var M=!0,C=!0;if(typeof s!="function")throw new K(x);return In(_)&&(M="leading"in _?!!_.leading:M,C="trailing"in _?!!_.trailing:C),jp(s,d,{leading:M,maxWait:d,trailing:C})},F.thru=Ba,F.toArray=Xa,F.toPairs=Cp,F.toPairsIn=Yl,F.toPath=function(s){return Xt(s)?on(s,Qn):vr(s)?[s]:Br(yp(pn(s)))},F.toPlainObject=zl,F.transform=function(s,d,_){var M=Xt(s),C=M||ii(s)||Ai(s);if(d=Et(d,4),_==null){var X=s&&s.constructor;_=C?M?new X:[]:In(s)&&ai(X)?Pa(Zo(s)):{}}return(C?Sr:pt)(s,function(re,le,_e){return d(_,re,le,_e)}),_},F.unary=function(s){return kl(s,1)},F.union=Wr,F.unionBy=er,F.unionWith=yh,F.uniq=function(s){return s&&s.length?Ei(s):[]},F.uniqBy=function(s,d){return s&&s.length?Ei(s,Et(d,2)):[]},F.uniqWith=function(s,d){return d=typeof d=="function"?d:g,s&&s.length?Ei(s,g,d):[]},F.unset=function(s,d){return s==null||As(s,d)},F.unzip=Gr,F.unzipWith=Pt,F.update=function(s,d,_){return s==null?s:Jf(s,d,tl(_))},F.updateWith=function(s,d,_,M){return M=typeof M=="function"?M:g,s==null?s:Jf(s,d,tl(_),M)},F.values=Ti,F.valuesIn=function(s){return s==null?[]:_a(s,dr(s))},F.without=El,F.words=wo,F.wrap=function(s,d){return Qi(tl(d),s)},F.xor=Sl,F.xorBy=jl,F.xorWith=_p,F.zip=Op,F.zipObject=function(s,d){return ep(s||[],d||[],Ma)},F.zipObjectDeep=function(s,d){return ep(s||[],d||[],Da)},F.zipWith=vh,F.entries=Cp,F.entriesIn=Yl,F.extend=Bl,F.extendWith=si,Gu(F,F),F.add=rf,F.attempt=Js,F.camelCase=qs,F.capitalize=Wu,F.ceil=zp,F.clamp=function(s,d,_){return _===g&&(_=d,d=g),_!==g&&(_=(_=Nr(_))==_?_:0),d!==g&&(d=(d=Nr(d))==d?d:0),xi(Nr(s),d,_)},F.clone=function(s){return qr(s,4)},F.cloneDeep=function(s){return qr(s,5)},F.cloneDeepWith=function(s,d){return qr(s,5,d=typeof d=="function"?d:g)},F.cloneWith=function(s,d){return qr(s,4,d=typeof d=="function"?d:g)},F.conformsTo=function(s,d){return d==null||Hc(s,d,tr(d))},F.deburr=Zs,F.defaultTo=function(s,d){return s==null||s!=s?d:s},F.divide=Bp,F.endsWith=function(s,d,_){s=pn(s),d=zr(d);var M=s.length,C=_=_===g?M:xi(Yt(_),0,M);return(_-=d.length)>=0&&s.slice(_,C)==d},F.eq=Tn,F.escape=function(s){return(s=pn(s))&&st.test(s)?s.replace(vt,Vn):s},F.escapeRegExp=function(s){return(s=pn(s))&&Sn.test(s)?s.replace(yn,"\\$&"):s},F.every=function(s,d,_){var M=Xt(s)?ds:Gf;return _&&wr(s,d,_)&&(d=g),M(s,Et(d,3))},F.find=mh,F.findIndex=ml,F.findKey=function(s,d){return vo(s,Et(d,3),pt)},F.findLast=bh,F.findLastIndex=bl,F.findLastKey=function(s,d){return vo(s,Et(d,3),wn)},F.floor=of,F.forEach=Ml,F.forEachRight=Zi,F.forIn=function(s,d){return s==null?s:Kt(s,Et(d,3),dr)},F.forInRight=function(s,d){return s==null?s:$n(s,Et(d,3),dr)},F.forOwn=function(s,d){return s&&pt(s,Et(d,3))},F.forOwnRight=function(s,d){return s&&wn(s,Et(d,3))},F.get=Bu,F.gt=Ys,F.gte=Ru,F.has=function(s,d){return s!=null&&cl(s,d,Xf)},F.hasIn=Fu,F.head=Ol,F.identity=xr,F.includes=function(s,d,_,M){s=Tr(s)?s:Ti(s),_=_&&!M?Yt(_):0;var C=s.length;return _<0&&(_=ur(C+_,0)),Lu(s)?_<=C&&s.indexOf(d,_)>-1:!!C&&bi(s,d,_)>-1},F.indexOf=function(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var C=_==null?0:Yt(_);return C<0&&(C=ur(M+C,0)),bi(s,d,C)},F.inRange=function(s,d,_){return d=Uo(d),_===g?(_=d,d=0):_=Uo(_),function(M,C,X){return M>=Or(C,X)&&M<ur(C,X)}(s=Nr(s),d,_)},F.invoke=Xl,F.isArguments=ea,F.isArray=Xt,F.isArrayBuffer=Pp,F.isArrayLike=Tr,F.isArrayLikeObject=Xn,F.isBoolean=function(s){return s===!0||s===!1||Rn(s)&&Cn(s)==$},F.isBuffer=ii,F.isDate=Vs,F.isElement=function(s){return Rn(s)&&s.nodeType===1&&!ui(s)},F.isEmpty=function(s){if(s==null)return!0;if(Tr(s)&&(Xt(s)||typeof s=="string"||typeof s.splice=="function"||ii(s)||Ai(s)||ea(s)))return!s.length;var d=yr(s);if(d==ce||d==je)return!s.size;if(La(s))return!ni(s).length;for(var _ in s)if(et.call(s,_))return!1;return!0},F.isEqual=function(s,d){return ka(s,d)},F.isEqualWith=function(s,d,_){var M=(_=typeof _=="function"?_:g)?_(s,d):g;return M===g?ka(s,d,g,_):!!M},F.isError=Cl,F.isFinite=function(s){return typeof s=="number"&&Df(s)},F.isFunction=ai,F.isInteger=$s,F.isLength=ta,F.isMap=Mp,F.isMatch=function(s,d){return s===d||Ss(s,d,zs(d))},F.isMatchWith=function(s,d,_){return _=typeof _=="function"?_:g,Ss(s,d,zs(d),_)},F.isNaN=function(s){return Il(s)&&s!=+s},F.isNative=function(s){if(dp(s))throw new Zt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ta(s)},F.isNil=function(s){return s==null},F.isNull=function(s){return s===null},F.isNumber=Il,F.isObject=In,F.isObjectLike=Rn,F.isPlainObject=ui,F.isRegExp=Rl,F.isSafeInteger=function(s){return $s(s)&&s>=-9007199254740991&&s<=H},F.isSet=Wa,F.isString=Lu,F.isSymbol=vr,F.isTypedArray=Ai,F.isUndefined=function(s){return s===g},F.isWeakMap=function(s){return Rn(s)&&yr(s)==Ae},F.isWeakSet=function(s){return Rn(s)&&Cn(s)=="[object WeakSet]"},F.join=function(s,d){return s==null?"":oh.call(s,d)},F.kebabCase=Vl,F.last=En,F.lastIndexOf=function(s,d,_){var M=s==null?0:s.length;if(!M)return-1;var C=M;return _!==g&&(C=(C=Yt(_))<0?ur(M+C,0):Or(C,M-1)),d==d?function(X,re,le){for(var _e=le+1;_e--;)if(X[_e]===re)return _e;return _e}(s,d,C):Do(s,Co,C,!0)},F.lowerCase=Ip,F.lowerFirst=$l,F.lt=Ga,F.lte=zu,F.max=function(s){return s&&s.length?Gn(s,xr,Bn):g},F.maxBy=function(s,d){return s&&s.length?Gn(s,Et(d,2),Bn):g},F.mean=function(s){return tn(s,xr)},F.meanBy=function(s,d){return tn(s,Et(d,2))},F.min=function(s){return s&&s.length?Gn(s,xr,ri):g},F.minBy=function(s,d){return s&&s.length?Gn(s,Et(d,2),ri):g},F.stubArray=Ha,F.stubFalse=Uu,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Fp,F.nth=function(s,d){return s&&s.length?Vf(s,Yt(d)):g},F.noConflict=function(){return zn._===this&&(zn._=Pn),this},F.noop=ec,F.now=Cu,F.pad=function(s,d,_){s=pn(s);var M=(d=Yt(d))?bo(s):0;if(!d||M>=d)return s;var C=(d-M)/2;return Cs(xa(C),_)+s+Cs(ys(C),_)},F.padEnd=function(s,d,_){s=pn(s);var M=(d=Yt(d))?bo(s):0;return d&&M<d?s+Cs(d-M,_):s},F.padStart=function(s,d,_){s=pn(s);var M=(d=Yt(d))?bo(s):0;return d&&M<d?Cs(d-M,_)+s:s},F.parseInt=function(s,d,_){return _||d==null?d=0:d&&(d=+d),gs(pn(s).replace(It,""),d||0)},F.random=function(s,d,_){if(_&&typeof _!="boolean"&&wr(s,d,_)&&(d=_=g),_===g&&(typeof d=="boolean"?(_=d,d=g):typeof s=="boolean"&&(_=s,s=g)),s===g&&d===g?(s=0,d=1):(s=Uo(s),d===g?(d=s,s=0):d=Uo(d)),s>d){var M=s;s=d,d=M}if(_||s%1||d%1){var C=ms();return Or(s+C*(d-s+gi("1e-"+((C+"").length-1))),d)}return qc(s,d)},F.reduce=function(s,d,_){var M=Xt(s)?ga:ar,C=arguments.length<3;return M(s,Et(d,4),_,C,Mn)},F.reduceRight=function(s,d,_){var M=Xt(s)?hs:ar,C=arguments.length<3;return M(s,Et(d,4),_,C,Wf)},F.repeat=function(s,d,_){return d=(_?wr(s,d,_):d===g)?1:Yt(d),Ps(pn(s),d)},F.replace=function(){var s=arguments,d=pn(s[0]);return s.length<3?d:d.replace(s[1],s[2])},F.result=function(s,d,_){var M=-1,C=(d=Si(d,s)).length;for(C||(C=1,s=g);++M<C;){var X=s==null?g:s[Qn(d[M])];X===g&&(M=C,X=_),s=ai(X)?X.call(s):X}return s},F.round=tc,F.runInContext=we,F.sample=function(s){return(Xt(s)?Gc:lh)(s)},F.size=function(s){if(s==null)return 0;if(Tr(s))return Lu(s)?bo(s):s.length;var d=yr(s);return d==ce||d==je?s.size:ni(s).length},F.snakeCase=Rp,F.some=function(s,d,_){var M=Xt(s)?gu:Jc;return _&&wr(s,d,_)&&(d=g),M(s,Et(d,3))},F.sortedIndex=function(s,d){return Ms(s,d)},F.sortedIndexBy=function(s,d,_){return Qc(s,d,Et(_,2))},F.sortedIndexOf=function(s,d){var _=s==null?0:s.length;if(_){var M=Ms(s,d);if(M<_&&Tn(s[M],d))return M}return-1},F.sortedLastIndex=function(s,d){return Ms(s,d,!0)},F.sortedLastIndexBy=function(s,d,_){return Qc(s,d,Et(_,2),!0)},F.sortedLastIndexOf=function(s,d){if(s!=null&&s.length){var _=Ms(s,d,!0)-1;if(Tn(s[_],d))return _}return-1},F.startCase=Kl,F.startsWith=function(s,d,_){return s=pn(s),_=_==null?0:xi(Yt(_),0,s.length),d=zr(d),s.slice(_,_+d.length)==d},F.subtract=nc,F.sum=function(s){return s&&s.length?ba(s,xr):0},F.sumBy=function(s,d){return s&&s.length?ba(s,Et(d,2)):0},F.template=function(s,d,_){var M=F.templateSettings;_&&wr(s,d,_)&&(d=g),s=pn(s),d=si({},d,M,cp);var C,X,re=si({},d.imports,M.imports,cp),le=tr(re),_e=_a(re,le),Z=0,Ce=d.interpolate||St,Xe="__p += '",lt=A((d.escape||St).source+"|"+Ce.source+"|"+(Ce===zt?ft:St).source+"|"+(d.evaluate||St).source+"|$","g"),yt="//# sourceURL="+(et.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++us+"]")+`
`;s.replace(lt,function(Ue,Nt,ut,Dt,Lt,Qt){return ut||(ut=Dt),Xe+=s.slice(Z,Qt).replace(Rt,_i),Nt&&(C=!0,Xe+=`' +
__e(`+Nt+`) +
'`),Lt&&(X=!0,Xe+=`';
`+Lt+`;
__p += '`),ut&&(Xe+=`' +
((__t = (`+ut+`)) == null ? '' : __t) +
'`),Z=Qt+Ue.length,Ue}),Xe+=`';
`;var Mt=et.call(d,"variable")&&d.variable;if(Mt){if($e.test(Mt))throw new Zt("Invalid `variable` option passed into `_.template`")}else Xe=`with (obj) {
`+Xe+`
}
`;Xe=(X?Xe.replace(Le,""):Xe).replace(xt,"$1").replace(Tt,"$1;"),Xe="function("+(Mt||"obj")+`) {
`+(Mt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Xe+`return __p
}`;var ze=Js(function(){return On(le,yt+"return "+Xe).apply(g,_e)});if(ze.source=Xe,Cl(ze))throw ze;return ze},F.times=function(s,d){if((s=Yt(s))<1||s>H)return[];var _=ue,M=Or(s,ue);d=Et(d),s-=ue;for(var C=Hi(M,d);++_<s;)d(_);return C},F.toFinite=Uo,F.toInteger=Yt,F.toLength=Ll,F.toLower=function(s){return pn(s).toLowerCase()},F.toNumber=Nr,F.toSafeInteger=function(s){return s?xi(Yt(s),-9007199254740991,H):s===0?s:0},F.toString=pn,F.toUpper=function(s){return pn(s).toUpperCase()},F.trim=function(s,d,_){if((s=pn(s))&&(_||d===g))return mu(s);if(!s||!(d=zr(d)))return s;var M=Lr(s),C=Lr(d);return ji(M,Vr(M,C),bu(M,C)+1).join("")},F.trimEnd=function(s,d,_){if((s=pn(s))&&(_||d===g))return s.slice(0,Ar(s)+1);if(!s||!(d=zr(d)))return s;var M=Lr(s);return ji(M,0,bu(M,Lr(d))+1).join("")},F.trimStart=function(s,d,_){if((s=pn(s))&&(_||d===g))return s.replace(It,"");if(!s||!(d=zr(d)))return s;var M=Lr(s);return ji(M,Vr(M,Lr(d))).join("")},F.truncate=function(s,d){var _=30,M="...";if(In(d)){var C="separator"in d?d.separator:C;_="length"in d?Yt(d.length):_,M="omission"in d?zr(d.omission):M}var X=(s=pn(s)).length;if(mo(s)){var re=Lr(s);X=re.length}if(_>=X)return s;var le=_-bo(M);if(le<1)return M;var _e=re?ji(re,0,le).join(""):s.slice(0,le);if(C===g)return _e+M;if(re&&(le+=_e.length-le),Rl(C)){if(s.slice(le).search(C)){var Z,Ce=_e;for(C.global||(C=A(C.source,pn(Ut.exec(C))+"g")),C.lastIndex=0;Z=C.exec(Ce);)var Xe=Z.index;_e=_e.slice(0,Xe===g?le:Xe)}}else if(s.indexOf(zr(C),le)!=le){var lt=_e.lastIndexOf(C);lt>-1&&(_e=_e.slice(0,lt))}return _e+M},F.unescape=function(s){return(s=pn(s))&&ke.test(s)?s.replace(jt,$r):s},F.uniqueId=function(s){var d=++vn;return pn(s)+d},F.upperCase=xh,F.upperFirst=Hn,F.each=Ml,F.eachRight=Zi,F.first=Ol,Gu(F,(Ua={},pt(F,function(s,d){et.call(F.prototype,d)||(Ua[d]=s)}),Ua),{chain:!1}),F.VERSION="4.17.21",Sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){F[s].placeholder=F}),Sr(["drop","take"],function(s,d){rn.prototype[s]=function(_){_=_===g?1:ur(Yt(_),0);var M=this.__filtered__&&!d?new rn(this):this.clone();return M.__filtered__?M.__takeCount__=Or(_,M.__takeCount__):M.__views__.push({size:Or(_,ue),type:s+(M.__dir__<0?"Right":"")}),M},rn.prototype[s+"Right"]=function(_){return this.reverse()[s](_).reverse()}}),Sr(["filter","map","takeWhile"],function(s,d){var _=d+1,M=_==1||_==3;rn.prototype[s]=function(C){var X=this.clone();return X.__iteratees__.push({iteratee:Et(C,3),type:_}),X.__filtered__=X.__filtered__||M,X}}),Sr(["head","last"],function(s,d){var _="take"+(d?"Right":"");rn.prototype[s]=function(){return this[_](1).value()[0]}}),Sr(["initial","tail"],function(s,d){var _="drop"+(d?"":"Right");rn.prototype[s]=function(){return this.__filtered__?new rn(this):this[_](1)}}),rn.prototype.compact=function(){return this.filter(xr)},rn.prototype.find=function(s){return this.filter(s).head()},rn.prototype.findLast=function(s){return this.reverse().find(s)},rn.prototype.invokeMap=qt(function(s,d){return typeof s=="function"?new rn(this):this.map(function(_){return Aa(_,s,d)})}),rn.prototype.reject=function(s){return this.filter(Us(Et(s)))},rn.prototype.slice=function(s,d){s=Yt(s);var _=this;return _.__filtered__&&(s>0||d<0)?new rn(_):(s<0?_=_.takeRight(-s):s&&(_=_.drop(s)),d!==g&&(_=(d=Yt(d))<0?_.dropRight(-d):_.take(d-s)),_)},rn.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},rn.prototype.toArray=function(){return this.take(ue)},pt(rn.prototype,function(s,d){var _=/^(?:filter|find|map|reject)|While$/.test(d),M=/^(?:head|last)$/.test(d),C=F[M?"take"+(d=="last"?"Right":""):d],X=M||/^find/.test(d);C&&(F.prototype[d]=function(){var re=this.__wrapped__,le=M?[1]:arguments,_e=re instanceof rn,Z=le[0],Ce=_e||Xt(re),Xe=function(Nt){var ut=C.apply(F,Jn([Nt],le));return M&&lt?ut[0]:ut};Ce&&_&&typeof Z=="function"&&Z.length!=1&&(_e=Ce=!1);var lt=this.__chain__,yt=!!this.__actions__.length,Mt=X&&!lt,ze=_e&&!yt;if(!X&&Ce){re=ze?re:new rn(this);var Ue=s.apply(re,le);return Ue.__actions__.push({func:Ba,args:[Xe],thisArg:g}),new uo(Ue,lt)}return Mt&&ze?s.apply(this,le):(Ue=this.thru(Xe),Mt?M?Ue.value()[0]:Ue.value():Ue)})}),Sr(["pop","push","shift","sort","splice","unshift"],function(s){var d=de[s],_=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",M=/^(?:pop|shift)$/.test(s);F.prototype[s]=function(){var C=arguments;if(M&&!this.__chain__){var X=this.value();return d.apply(Xt(X)?X:[],C)}return this[_](function(re){return d.apply(Xt(re)?re:[],C)})}}),pt(rn.prototype,function(s,d){var _=F[d];if(_){var M=_.name+"";et.call(ja,M)||(ja[M]=[]),ja[M].push({name:d,func:_})}}),ja[Au(g,2).name]=[{name:"wrapper",func:g}],rn.prototype.clone=function(){var s=new rn(this.__wrapped__);return s.__actions__=Br(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Br(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Br(this.__views__),s},rn.prototype.reverse=function(){if(this.__filtered__){var s=new rn(this);s.__dir__=-1,s.__filtered__=!0}else(s=this.clone()).__dir__*=-1;return s},rn.prototype.value=function(){var s=this.__wrapped__.value(),d=this.__dir__,_=Xt(s),M=d<0,C=_?s.length:0,X=function(Qt,gt,At){for(var nr=-1,gr=At.length;++nr<gr;){var xo=At[nr],cr=xo.size;switch(xo.type){case"drop":Qt+=cr;break;case"dropRight":gt-=cr;break;case"take":gt=Or(gt,Qt+cr);break;case"takeRight":Qt=ur(Qt,gt-cr)}}return{start:Qt,end:gt}}(0,C,this.__views__),re=X.start,le=X.end,_e=le-re,Z=M?le:re-1,Ce=this.__iteratees__,Xe=Ce.length,lt=0,yt=Or(_e,this.__takeCount__);if(!_||!M&&C==_e&&yt==_e)return Qf(s,this.__actions__);var Mt=[];e:for(;_e--&&lt<yt;){for(var ze=-1,Ue=s[Z+=d];++ze<Xe;){var Nt=Ce[ze],ut=Nt.iteratee,Dt=Nt.type,Lt=ut(Ue);if(Dt==2)Ue=Lt;else if(!Lt){if(Dt==1)continue e;break e}}Mt[lt++]=Ue}return Mt},F.prototype.at=gh,F.prototype.chain=function(){return wp(this)},F.prototype.commit=function(){return new uo(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===g&&(this.__values__=Xa(this.value()));var s=this.__index__>=this.__values__.length;return{done:s,value:s?g:this.__values__[this.__index__++]}},F.prototype.plant=function(s){for(var d,_=this;_ instanceof Su;){var M=vp(_);M.__index__=0,M.__values__=g,d?C.__wrapped__=M:d=M;var C=M;_=_.__wrapped__}return C.__wrapped__=s,d},F.prototype.reverse=function(){var s=this.__wrapped__;if(s instanceof rn){var d=s;return this.__actions__.length&&(d=new rn(this)),(d=d.reverse()).__actions__.push({func:Ba,args:[Hs],thisArg:g}),new uo(d,this.__chain__)}return this.thru(Hs)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return Qf(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,Jo&&(F.prototype[Jo]=function(){return this}),F}();zn._=_o,(m=(function(){return _o}).call(l,o,l,p))===g||(p.exports=m)}).call(this)}).call(this,o(68),o(220)(u))},function(u,l,o){var f=o(7),p=o(34),m=o(33),g=o(87),x=o(61),j=o(174),S=o(28),T=f.TypeError,k=S("toPrimitive");u.exports=function(I,D){if(!m(I)||g(I))return I;var R,G=x(I,k);if(G){if(D===void 0&&(D="default"),R=p(G,I,D),!m(R)||g(R))return R;throw T("Can't convert object to primitive value")}return D===void 0&&(D="number"),j(I,D)}},function(u,l,o){var f=o(108);u.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,l,o){var f=o(36),p=o(18),m=o(91);u.exports=!f&&!p(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(u,l,o){var f=o(35),p=o(135),m=o(50),g=o(38);u.exports=function(x,j){for(var S=p(j),T=g.f,k=m.f,I=0;I<S.length;I++){var D=S[I];f(x,D)||T(x,D,k(j,D))}}},function(u,l,o){var f=o(46),p=o(15),m=o(74),g=o(112),x=o(32),j=p([].concat);u.exports=f("Reflect","ownKeys")||function(S){var T=m.f(x(S)),k=g.f;return k?j(T,k(S)):T}},function(u,l,o){var f=o(15),p=o(35),m=o(41),g=o(137).indexOf,x=o(72),j=f([].push);u.exports=function(S,T){var k,I=m(S),D=0,R=[];for(k in I)!p(x,k)&&p(I,k)&&j(R,k);for(;T.length>D;)p(I,k=T[D++])&&(~g(R,k)||j(R,k));return R}},function(u,l,o){var f=o(41),p=o(75),m=o(45),g=function(x){return function(j,S,T){var k,I=f(j),D=m(I),R=p(T,D);if(x&&S!=S){for(;D>R;)if((k=I[R++])!=k)return!0}else for(;D>R;R++)if((x||R in I)&&I[R]===S)return x||R||0;return!x&&-1}};u.exports={includes:g(!0),indexOf:g(!1)}},function(u,l,o){var f=o(46);u.exports=f("document","documentElement")},function(u,l,o){var f=o(51),p=o(41),m=o(74).f,g=o(114),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(j){return x&&f(j)=="Window"?function(S){try{return m(S)}catch{return g(x)}}(j):m(p(j))}},function(u,l,o){var f=o(28);l.f=f},function(u,l,o){var f=o(177),p=o(35),m=o(140),g=o(38).f;u.exports=function(x){var j=f.Symbol||(f.Symbol={});p(j,x)||g(j,x,{value:m.f(x)})}},function(u,l,o){var f,p,m,g=o(18),x=o(30),j=o(60),S=o(101),T=o(42),k=o(28),I=o(71),D=k("iterator"),R=!1;[].keys&&("next"in(m=[].keys())?(p=S(S(m)))!==Object.prototype&&(f=p):R=!0),f==null||g(function(){var G={};return f[D].call(G)!==G})?f={}:I&&(f=j(f)),x(f[D])||T(f,D,function(){return this}),u.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:R}},function(u,l,o){var f=o(18);u.exports=!f(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},function(u,l,o){var f=o(16),p=o(15),m=o(72),g=o(33),x=o(35),j=o(38).f,S=o(74),T=o(139),k=o(183),I=o(90),D=o(185),R=!1,G=I("meta"),H=0,ee=function(ie){j(ie,G,{value:{objectID:"O"+H++,weakData:{}}})},ue=u.exports={enable:function(){ue.enable=function(){},R=!0;var ie=S.f,te=p([].splice),ne={};ne[G]=1,ie(ne).length&&(S.f=function($){for(var B=ie($),Y=0,V=B.length;Y<V;Y++)if(B[Y]===G){te(B,Y,1);break}return B},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},fastKey:function(ie,te){if(!g(ie))return typeof ie=="symbol"?ie:(typeof ie=="string"?"S":"P")+ie;if(!x(ie,G)){if(!k(ie))return"F";if(!te)return"E";ee(ie)}return ie[G].objectID},getWeakData:function(ie,te){if(!x(ie,G)){if(!k(ie))return!0;if(!te)return!1;ee(ie)}return ie[G].weakData},onFreeze:function(ie){return D&&R&&k(ie)&&!x(ie,G)&&ee(ie),ie}};m[G]=!0},function(u,l,o){var f=o(28),p=o(80),m=f("iterator"),g=Array.prototype;u.exports=function(x){return x!==void 0&&(p.Array===x||g[m]===x)}},function(u,l,o){var f=o(7),p=o(34),m=o(56),g=o(32),x=o(88),j=o(118),S=f.TypeError;u.exports=function(T,k){var I=arguments.length<2?j(T):k;if(m(I))return g(p(I,T));throw S(x(T)+" is not iterable")}},function(u,l,o){var f=o(34),p=o(32),m=o(61);u.exports=function(g,x,j){var S,T;p(g);try{if(!(S=m(g,"return"))){if(x==="throw")throw j;return j}S=f(S,g)}catch(k){T=!0,S=k}if(x==="throw")throw j;if(T)throw S;return p(S),j}},function(u,l,o){var f=o(30),p=o(33),m=o(102);u.exports=function(g,x,j){var S,T;return m&&f(S=x.constructor)&&S!==j&&p(T=S.prototype)&&T!==j.prototype&&m(g,T),g}},function(u,l,o){var f=o(42);u.exports=function(p,m,g){for(var x in m)f(p,x,m[x],g);return p}},function(u,l,o){var f=o(46),p=o(38),m=o(28),g=o(36),x=m("species");u.exports=function(j){var S=f(j),T=p.f;g&&S&&!S[x]&&T(S,x,{configurable:!0,get:function(){return this}})}},function(u,l,o){var f=o(15),p=o(59),m=o(39),g=o(44),x=f("".charAt),j=f("".charCodeAt),S=f("".slice),T=function(k){return function(I,D){var R,G,H=m(g(I)),ee=p(D),ue=H.length;return ee<0||ee>=ue?k?"":void 0:(R=j(H,ee))<55296||R>56319||ee+1===ue||(G=j(H,ee+1))<56320||G>57343?k?x(H,ee):R:k?S(H,ee,ee+2):G-56320+(R-55296<<10)+65536}};u.exports={codeAt:T(!1),charAt:T(!0)}},function(u,l){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,l,o){var f=o(91)("span").classList,p=f&&f.constructor&&f.constructor.prototype;u.exports=p===Object.prototype?void 0:p},function(u,l,o){var f=o(32);u.exports=function(){var p=f(this),m="";return p.global&&(m+="g"),p.ignoreCase&&(m+="i"),p.multiline&&(m+="m"),p.dotAll&&(m+="s"),p.unicode&&(m+="u"),p.sticky&&(m+="y"),m}},function(u,l,o){var f=o(18),p=o(7).RegExp,m=f(function(){var j=p("a","y");return j.lastIndex=2,j.exec("abcd")!=null}),g=m||f(function(){return!p("a","y").sticky}),x=m||f(function(){var j=p("^r","gy");return j.lastIndex=2,j.exec("str")!=null});u.exports={BROKEN_CARET:x,MISSED_STICKY:g,UNSUPPORTED_Y:m}},function(u,l,o){var f=o(16),p=o(79).find,m=o(100),g="find",x=!0;g in[]&&Array(1).find(function(){x=!1}),f({target:"Array",proto:!0,forced:x},{find:function(j){return p(this,j,arguments.length>1?arguments[1]:void 0)}}),m(g)},function(u,l,o){var f=o(16),p=o(137).includes,m=o(100);f({target:"Array",proto:!0},{includes:function(g){return p(this,g,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(u,l,o){var f=o(16),p=o(15),m=o(197),g=o(44),x=o(39),j=o(198),S=p("".indexOf);f({target:"String",proto:!0,forced:!j("includes")},{includes:function(T){return!!~S(x(g(this)),x(m(T)),arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var f=o(33),p=o(51),m=o(28)("match");u.exports=function(g){var x;return f(g)&&((x=g[m])!==void 0?!!x:p(g)=="RegExp")}},function(u,l,o){var f=o(15);u.exports=f(1 .valueOf)},function(u,l,o){var f=o(15),p=o(44),m=o(39),g=o(162),x=f("".replace),j="["+g+"]",S=RegExp("^"+j+j+"*"),T=RegExp(j+j+"*$"),k=function(I){return function(D){var R=m(p(D));return 1&I&&(R=x(R,S,"")),2&I&&(R=x(R,T,"")),R}};u.exports={start:k(1),end:k(2),trim:k(3)}},function(u,l){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(u,l){var o,f,p=u.exports={};function m(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function x(H){if(o===setTimeout)return setTimeout(H,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(H,0);try{return o(H,0)}catch{try{return o.call(null,H,0)}catch{return o.call(this,H,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch{o=m}try{f=typeof clearTimeout=="function"?clearTimeout:g}catch{f=g}})();var j,S=[],T=!1,k=-1;function I(){T&&j&&(T=!1,j.length?S=j.concat(S):k=-1,S.length&&D())}function D(){if(!T){var H=x(I);T=!0;for(var ee=S.length;ee;){for(j=S,S=[];++k<ee;)j&&j[k].run();k=-1,ee=S.length}j=null,T=!1,function(ue){if(f===clearTimeout)return clearTimeout(ue);if((f===g||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(ue);try{f(ue)}catch{try{return f.call(null,ue)}catch{return f.call(this,ue)}}}(H)}}function R(H,ee){this.fun=H,this.array=ee}function G(){}p.nextTick=function(H){var ee=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)ee[ue-1]=arguments[ue];S.push(new R(H,ee)),S.length!==1||T||x(D)},R.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=G,p.addListener=G,p.once=G,p.off=G,p.removeListener=G,p.removeAllListeners=G,p.emit=G,p.prependListener=G,p.prependOnceListener=G,p.listeners=function(H){return[]},p.binding=function(H){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(H){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(u,l,o){var f=o(32),p=o(165),m=o(28)("species");u.exports=function(g,x){var j,S=f(g).constructor;return S===void 0||(j=f(S)[m])==null?x:p(j)}},function(u,l,o){var f=o(7),p=o(99),m=o(88),g=f.TypeError;u.exports=function(x){if(p(x))return x;throw g(m(x)+" is not a constructor")}},function(u,l,o){var f=o(16),p=o(161).trim;f({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return p(this)}})},function(u,l,o){var f=o(34),p=o(123),m=o(32),g=o(94),x=o(39),j=o(44),S=o(61),T=o(124),k=o(125);p("match",function(I,D,R){return[function(G){var H=j(this),ee=G==null?void 0:S(G,I);return ee?f(ee,G,H):new RegExp(G)[I](x(H))},function(G){var H=m(this),ee=x(G),ue=R(D,H,ee);if(ue.done)return ue.value;if(!H.global)return k(H,ee);var ie=H.unicode;H.lastIndex=0;for(var te,ne=[],$=0;(te=k(H,ee))!==null;){var B=x(te[0]);ne[$]=B,B===""&&(H.lastIndex=T(ee,g(H.lastIndex),ie)),$++}return $===0?null:ne}]})},function(u,l,o){var f,p,m,g,x=o(7),j=o(76),S=o(63),T=o(30),k=o(35),I=o(18),D=o(138),R=o(98),G=o(91),H=o(169),ee=o(128),ue=x.setImmediate,ie=x.clearImmediate,te=x.process,ne=x.Dispatch,$=x.Function,B=x.MessageChannel,Y=x.String,V=0,q={},ce="onreadystatechange";try{f=x.location}catch{}var Se=function(je){if(k(q,je)){var ve=q[je];delete q[je],ve()}},Oe=function(je){return function(){Se(je)}},Me=function(je){Se(je.data)},Fe=function(je){x.postMessage(Y(je),f.protocol+"//"+f.host)};ue&&ie||(ue=function(je){var ve=R(arguments,1);return q[++V]=function(){j(T(je)?je:$(je),void 0,ve)},p(V),V},ie=function(je){delete q[je]},ee?p=function(je){te.nextTick(Oe(je))}:ne&&ne.now?p=function(je){ne.now(Oe(je))}:B&&!H?(g=(m=new B).port2,m.port1.onmessage=Me,p=S(g.postMessage,g)):x.addEventListener&&T(x.postMessage)&&!x.importScripts&&f&&f.protocol!=="file:"&&!I(Fe)?(p=Fe,x.addEventListener("message",Me,!1)):p=ce in G("script")?function(je){D.appendChild(G("script")).onreadystatechange=function(){D.removeChild(this),Se(je)}}:function(je){setTimeout(Oe(je),0)}),u.exports={set:ue,clear:ie}},function(u,l,o){var f=o(55);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(u,l,o){var f=o(56),p=function(m){var g,x;this.promise=new m(function(j,S){if(g!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");g=j,x=S}),this.resolve=f(g),this.reject=f(x)};u.exports.f=function(m){return new p(m)}},function(u,l,o){l.a=function(){return!1}},function(u,l,o){(function(f){o.d(l,"a",function(){return te});var p=o(1);function m(B){throw new Error("[mobx-utils] "+B)}function g(B,Y){Y===void 0&&(Y="Illegal state"),B||m(Y)}var x=function(B){return B&&B!==Object.prototype&&Object.getOwnPropertyNames(B).concat(x(Object.getPrototypeOf(B))||[])},j=function(B){return function(Y){var V=x(Y);return V.filter(function(q,ce){return V.indexOf(q)===ce})}(B).filter(function(Y){return Y!=="constructor"&&!~Y.indexOf("__")})},S="pending",T="fulfilled",k="rejected";function I(B){switch(this.state){case S:return B.pending&&B.pending(this.value);case k:return B.rejected&&B.rejected(this.value);case T:return B.fulfilled?B.fulfilled(this.value):this.value}}function D(B,Y){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof B=="function"||typeof B=="object"&&B&&typeof B.then=="function","Please pass a promise or function to fromPromise"),B.isPromiseBasedObservable===!0)return B;typeof B=="function"&&(B=new Promise(B));var V=B;B.then(Object(p.k)("observableFromPromise-resolve",function(ce){V.value=ce,V.state=T}),Object(p.k)("observableFromPromise-reject",function(ce){V.value=ce,V.state=k})),V.isPromiseBasedObservable=!0,V.case=I;var q=Y&&Y.state===T?Y.value:void 0;return Object(p.q)(V,{value:q,state:S},{},{deep:!1}),V}(function(B){B.reject=Object(p.k)("fromPromise.reject",function(Y){var V=B(Promise.reject(Y));return V.state=k,V.value=Y,V}),B.resolve=Object(p.k)("fromPromise.resolve",function(Y){Y===void 0&&(Y=void 0);var V=B(Promise.resolve(Y));return V.state=T,V.value=Y,V})})(D||(D={}));var R=function(B,Y,V,q){var ce,Se=arguments.length,Oe=Se<3?Y:q===null?q=Object.getOwnPropertyDescriptor(Y,V):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(B,Y,V,q);else for(var Me=B.length-1;Me>=0;Me--)(ce=B[Me])&&(Oe=(Se<3?ce(Oe):Se>3?ce(Y,V,Oe):ce(Y,V))||Oe);return Se>3&&Oe&&Object.defineProperty(Y,V,Oe),Oe};(function(){function B(Y,V){var q=this;Object(p.G)(function(){q.current=V,q.subscription=Y.subscribe(q)})}B.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},B.prototype.next=function(Y){this.current=Y},B.prototype.complete=function(){this.dispose()},B.prototype.error=function(Y){this.current=Y,this.dispose()},R([p.C.ref],B.prototype,"current",void 0),R([p.k.bound],B.prototype,"next",null),R([p.k.bound],B.prototype,"complete",null),R([p.k.bound],B.prototype,"error",null)})();var G=function(){return G=Object.assign||function(B){for(var Y,V=1,q=arguments.length;V<q;V++)for(var ce in Y=arguments[V])Object.prototype.hasOwnProperty.call(Y,ce)&&(B[ce]=Y[ce]);return B},G.apply(this,arguments)},H=function(B,Y,V,q){var ce,Se=arguments.length,Oe=Se<3?Y:q===null?q=Object.getOwnPropertyDescriptor(Y,V):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(B,Y,V,q);else for(var Me=B.length-1;Me>=0;Me--)(ce=B[Me])&&(Oe=(Se<3?ce(Oe):Se>3?ce(Y,V,Oe):ce(Y,V))||Oe);return Se>3&&Oe&&Object.defineProperty(Y,V,Oe),Oe},ee=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function B(Y){var V=this;this.model=Y,this.localValues=p.C.map({}),this.localComputedValues=p.C.map({}),this.isPropertyDirty=function(q){return V.localValues.has(q)},g(Object(p.A)(Y),"createViewModel expects an observable object"),j(Y).forEach(function(q){if(q!==p.a&&q!=="__mobxDidRunLazyInitializers"){if(g(ee.indexOf(q)===-1,"The propertyname "+q+" is reserved and cannot be used with viewModels"),Object(p.w)(Y,q)){var ce=Object(p.h)(Y,q).derivation;V.localComputedValues.set(q,Object(p.m)(ce.bind(V)))}var Se=Object.getOwnPropertyDescriptor(Y,q),Oe=Se?{enumerable:Se.enumerable}:{};Object.defineProperty(V,q,G(G({},Oe),{configurable:!0,get:function(){return Object(p.w)(Y,q)?V.localComputedValues.get(q).get():V.isPropertyDirty(q)?V.localValues.get(q):V.model[q]},set:Object(p.k)(function(Me){Me!==V.model[q]?V.localValues.set(q,Me):V.localValues.delete(q)})}))}})}Object.defineProperty(B.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),B.prototype.submit=function(){var Y=this;Object(p.B)(this.localValues).forEach(function(V){var q=Y.localValues.get(V),ce=Y.model[V];Object(p.y)(ce)?ce.replace(q):Object(p.z)(ce)?(ce.clear(),ce.merge(q)):Object(p.v)(q)||(Y.model[V]=q)}),this.localValues.clear()},B.prototype.reset=function(){this.localValues.clear()},B.prototype.resetProperty=function(Y){this.localValues.delete(Y)},H([p.m],B.prototype,"isDirty",null),H([p.m],B.prototype,"changedValues",null),H([p.k.bound],B.prototype,"submit",null),H([p.k.bound],B.prototype,"reset",null),H([p.k.bound],B.prototype,"resetProperty",null)})();function ue(B){if(!B)return"ROOT";for(var Y=[];B.parent;)Y.push(B.path),B=B.parent;return Y.reverse().join("/")}function ie(B){return Object(p.A)(B)||Object(p.y)(B)||Object(p.z)(B)}function te(B,Y){var V=new WeakMap;function q(Oe){var Me=V.get(Oe.object);(function(Fe,je){switch(Fe.type){case"add":ce(Fe.newValue,je,Fe.name);break;case"update":Se(Fe.oldValue),ce(Fe.newValue,je,Fe.name||""+Fe.index);break;case"remove":case"delete":Se(Fe.oldValue);break;case"splice":Fe.removed.map(Se),Fe.added.forEach(function(Ae,Ge){return ce(Ae,je,""+(Fe.index+Ge))});for(var ve=Fe.index+Fe.addedCount;ve<Fe.object.length;ve++)if(ie(Fe.object[ve])){var Pe=V.get(Fe.object[ve]);Pe&&(Pe.path=""+ve)}}})(Oe,Me),Y(Oe,ue(Me),B)}function ce(Oe,Me,Fe){if(ie(Oe)){var je=V.get(Oe);if(je){if(je.parent!==Me||je.path!==Fe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ue(Me)+"/"+Fe+"', but it already exists at '"+ue(je.parent)+"/"+je.path+"'")}else{var ve={parent:Me,path:Fe,dispose:Object(p.D)(Oe,q)};V.set(Oe,ve),Object(p.p)(Oe).forEach(function(Pe){var Ae=Pe[0];return ce(Pe[1],ve,Ae)})}}}function Se(Oe){if(ie(Oe)){var Me=V.get(Oe);if(!Me)return;V.delete(Oe),Me.dispose(),Object(p.L)(Oe).forEach(Se)}}return ce(B,void 0,""),function(){Se(B)}}var ne,$=(ne=function(B,Y){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,q){V.__proto__=q}||function(V,q){for(var ce in q)q.hasOwnProperty(ce)&&(V[ce]=q[ce])},ne(B,Y)},function(B,Y){function V(){this.constructor=B}ne(B,Y),B.prototype=Y===null?Object.create(Y):(V.prototype=Y.prototype,new V)});(function(B){function Y(V,q,ce){var Se=ce===void 0?{}:ce,Oe=Se.name,Me=Oe===void 0?"ogm"+(1e3*Math.random()|0):Oe,Fe=Se.keyToName,je=Fe===void 0?function(Ae){return""+Ae}:Fe,ve=B.call(this)||this;ve._keyToName=je,ve._groupBy=q,ve._ogmInfoKey=Symbol("ogmInfo"+Me),ve._base=V;for(var Pe=0;Pe<V.length;Pe++)ve._addItem(V[Pe]);return ve._disposeBaseObserver=Object(p.D)(ve._base,function(Ae){if(Ae.type==="splice")Object(p.J)(function(){for(var Ge=0,rt=Ae.removed;Ge<rt.length;Ge++){var wt=rt[Ge];ve._removeItem(wt)}for(var Ve=0,Ze=Ae.added;Ve<Ze.length;Ve++){var bt=Ze[Ve];ve._addItem(bt)}});else{if(Ae.type!=="update")throw new Error("illegal state");Object(p.J)(function(){ve._removeItem(Ae.oldValue),ve._addItem(Ae.newValue)})}}),ve}$(Y,B),Y.prototype.clear=function(){throw new Error("not supported")},Y.prototype.delete=function(V){throw new Error("not supported")},Y.prototype.set=function(V,q){throw new Error("not supported")},Y.prototype.dispose=function(){this._disposeBaseObserver();for(var V=0;V<this._base.length;V++){var q=this._base[V];q[this._ogmInfoKey].reaction(),delete q[this._ogmInfoKey]}},Y.prototype._getGroupArr=function(V){var q=B.prototype.get.call(this,V);return q===void 0&&(q=Object(p.C)([],{name:"GroupArray["+this._keyToName(V)+"]",deep:!1}),B.prototype.set.call(this,V,q)),q},Y.prototype._removeFromGroupArr=function(V,q){var ce=B.prototype.get.call(this,V);ce.length===1?B.prototype.delete.call(this,V):(q===ce.length-1||(ce[q]=ce[ce.length-1],ce[q][this._ogmInfoKey].groupArrIndex=q),ce.length--)},Y.prototype._addItem=function(V){var q=this,ce=this._groupBy(V),Se=this._getGroupArr(ce),Oe={groupByValue:ce,groupArrIndex:Se.length,reaction:Object(p.F)(function(){return q._groupBy(V)},function(Me,Fe){var je=V[q._ogmInfoKey];q._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=q._getGroupArr(Me),Pe=ve.length;ve.push(V),je.groupByValue=Me,je.groupArrIndex=Pe})};Object.defineProperty(V,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Oe}),Se.push(V)},Y.prototype._removeItem=function(V){var q=V[this._ogmInfoKey];this._removeFromGroupArr(q.groupByValue,q.groupArrIndex),q.reaction(),delete V[this._ogmInfoKey]}})(p.b),function(){function B(Y,V){this.base=Y,this.args=V,this.closestIdx=0,this.isDisposed=!1;for(var q=this.closest=this.root=Y,ce=0;ce<this.args.length-1&&(q=q.get(V[ce]));ce++)this.closest=q;this.closestIdx=ce}return B.prototype.exists=function(){this.assertNotDisposed();var Y=this.args.length;return this.closestIdx>=Y-1&&this.closest.has(this.args[Y-1])},B.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},B.prototype.set=function(Y){this.assertNotDisposed();for(var V=this.args.length,q=this.closest,ce=this.closestIdx;ce<V-1;ce++){var Se=new Map;q.set(this.args[ce],Se),q=Se}this.closestIdx=V-1,this.closest=q,q.set(this.args[V-1],Y)},B.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var Y=this.args.length;this.closest.delete(this.args[Y-1]);for(var V=this.root,q=[V],ce=0;ce<Y-1;ce++)V=V.get(this.args[ce]),q.push(V);for(ce=q.length-1;ce>0;ce--)q[ce].size===0&&q[ce-1].delete(this.args[ce-1]);this.isDisposed=!0},B.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},B}(),Promise.resolve(),typeof queueMicrotask<"u"||f!==void 0&&f.nextTick}).call(this,o(163))},function(u,l,o){var f;(function(p,m,g){if(p){for(var x,j={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},I=1;I<20;++I)j[111+I]="f"+I;for(I=0;I<=9;++I)j[I+96]=I.toString();ie.prototype.bind=function(te,ne,$){var B=this;return te=te instanceof Array?te:[te],B._bindMultiple.call(B,te,ne,$),B},ie.prototype.unbind=function(te,ne){return this.bind.call(this,te,function(){},ne)},ie.prototype.trigger=function(te,ne){var $=this;return $._directMap[te+":"+ne]&&$._directMap[te+":"+ne]({},te),$},ie.prototype.reset=function(){var te=this;return te._callbacks={},te._directMap={},te},ie.prototype.stopCallback=function(te,ne){if((" "+ne.className+" ").indexOf(" mousetrap ")>-1||ue(ne,this.target))return!1;if("composedPath"in te&&typeof te.composedPath=="function"){var $=te.composedPath()[0];$!==te.target&&(ne=$)}return ne.tagName=="INPUT"||ne.tagName=="SELECT"||ne.tagName=="TEXTAREA"||ne.isContentEditable},ie.prototype.handleKey=function(){var te=this;return te._handleKey.apply(te,arguments)},ie.addKeycodes=function(te){for(var ne in te)te.hasOwnProperty(ne)&&(j[ne]=te[ne]);x=null},ie.init=function(){var te=ie(m);for(var ne in te)ne.charAt(0)!=="_"&&(ie[ne]=function($){return function(){return te[$].apply(te,arguments)}}(ne))},ie.init(),p.Mousetrap=ie,u.exports&&(u.exports=ie),(f=(function(){return ie}).call(l,o,l,u))===void 0||(u.exports=f)}function D(te,ne,$){te.addEventListener?te.addEventListener(ne,$,!1):te.attachEvent("on"+ne,$)}function R(te){if(te.type=="keypress"){var ne=String.fromCharCode(te.which);return te.shiftKey||(ne=ne.toLowerCase()),ne}return j[te.which]?j[te.which]:S[te.which]?S[te.which]:String.fromCharCode(te.which).toLowerCase()}function G(te){return te=="shift"||te=="ctrl"||te=="alt"||te=="meta"}function H(te,ne,$){return $||($=function(){if(!x)for(var B in x={},j)B>95&&B<112||j.hasOwnProperty(B)&&(x[j[B]]=B);return x}()[te]?"keydown":"keypress"),$=="keypress"&&ne.length&&($="keydown"),$}function ee(te,ne){var $,B,Y,V=[];for($=function(q){return q==="+"?["+"]:(q=q.replace(/\+{2}/g,"+plus")).split("+")}(te),Y=0;Y<$.length;++Y)B=$[Y],k[B]&&(B=k[B]),ne&&ne!="keypress"&&T[B]&&(B=T[B],V.push("shift")),G(B)&&V.push(B);return{key:B,modifiers:V,action:ne=H(B,V,ne)}}function ue(te,ne){return te!==null&&te!==m&&(te===ne||ue(te.parentNode,ne))}function ie(te){var ne=this;if(te=te||m,!(ne instanceof ie))return new ie(te);ne.target=te,ne._callbacks={},ne._directMap={};var $,B={},Y=!1,V=!1,q=!1;function ce(ve){ve=ve||{};var Pe,Ae=!1;for(Pe in B)ve[Pe]?Ae=!0:B[Pe]=0;Ae||(q=!1)}function Se(ve,Pe,Ae,Ge,rt,wt){var Ve,Ze,bt,fe,se=[],ye=Ae.type;if(!ne._callbacks[ve])return[];for(ye=="keyup"&&G(ve)&&(Pe=[ve]),Ve=0;Ve<ne._callbacks[ve].length;++Ve)if(Ze=ne._callbacks[ve][Ve],(Ge||!Ze.seq||B[Ze.seq]==Ze.level)&&ye==Ze.action&&(ye=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||(bt=Pe,fe=Ze.modifiers,bt.sort().join(",")===fe.sort().join(",")))){var Ne=!Ge&&Ze.combo==rt,He=Ge&&Ze.seq==Ge&&Ze.level==wt;(Ne||He)&&ne._callbacks[ve].splice(Ve,1),se.push(Ze)}return se}function Oe(ve,Pe,Ae,Ge){ne.stopCallback(Pe,Pe.target||Pe.srcElement,Ae,Ge)||ve(Pe,Ae)===!1&&(function(rt){rt.preventDefault?rt.preventDefault():rt.returnValue=!1}(Pe),function(rt){rt.stopPropagation?rt.stopPropagation():rt.cancelBubble=!0}(Pe))}function Me(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Pe=R(ve);Pe&&(ve.type!="keyup"||Y!==Pe?ne.handleKey(Pe,function(Ae){var Ge=[];return Ae.shiftKey&&Ge.push("shift"),Ae.altKey&&Ge.push("alt"),Ae.ctrlKey&&Ge.push("ctrl"),Ae.metaKey&&Ge.push("meta"),Ge}(ve),ve):Y=!1)}function Fe(ve,Pe,Ae,Ge){function rt(bt){return function(){q=bt,++B[ve],clearTimeout($),$=setTimeout(ce,1e3)}}function wt(bt){Oe(Ae,bt,ve),Ge!=="keyup"&&(Y=R(bt)),setTimeout(ce,10)}B[ve]=0;for(var Ve=0;Ve<Pe.length;++Ve){var Ze=Ve+1===Pe.length?wt:rt(Ge||ee(Pe[Ve+1]).action);je(Pe[Ve],Ze,Ge,ve,Ve)}}function je(ve,Pe,Ae,Ge,rt){ne._directMap[ve+":"+Ae]=Pe;var wt,Ve=(ve=ve.replace(/\s+/g," ")).split(" ");Ve.length>1?Fe(ve,Ve,Pe,Ae):(wt=ee(ve,Ae),ne._callbacks[wt.key]=ne._callbacks[wt.key]||[],Se(wt.key,wt.modifiers,{type:wt.action},Ge,ve,rt),ne._callbacks[wt.key][Ge?"unshift":"push"]({callback:Pe,modifiers:wt.modifiers,action:wt.action,seq:Ge,level:rt,combo:ve}))}ne._handleKey=function(ve,Pe,Ae){var Ge,rt=Se(ve,Pe,Ae),wt={},Ve=0,Ze=!1;for(Ge=0;Ge<rt.length;++Ge)rt[Ge].seq&&(Ve=Math.max(Ve,rt[Ge].level));for(Ge=0;Ge<rt.length;++Ge)if(rt[Ge].seq){if(rt[Ge].level!=Ve)continue;Ze=!0,wt[rt[Ge].seq]=1,Oe(rt[Ge].callback,Ae,rt[Ge].combo,rt[Ge].seq)}else Ze||Oe(rt[Ge].callback,Ae,rt[Ge].combo);var bt=Ae.type=="keypress"&&V;Ae.type!=q||G(ve)||bt||ce(wt),V=Ze&&Ae.type=="keydown"},ne._bindMultiple=function(ve,Pe,Ae){for(var Ge=0;Ge<ve.length;++Ge)je(ve[Ge],Pe,Ae)},D(te,"keypress",Me),D(te,"keydown",Me),D(te,"keyup",Me)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,l,o){var f=o(7),p=o(34),m=o(30),g=o(33),x=f.TypeError;u.exports=function(j,S){var T,k;if(S==="string"&&m(T=j.toString)&&!g(k=p(T,j))||m(T=j.valueOf)&&!g(k=p(T,j))||S!=="string"&&m(T=j.toString)&&!g(k=p(T,j)))return k;throw x("Can't convert object to primitive value")}},function(u,l,o){var f=o(7),p=o(30),m=o(92),g=f.WeakMap;u.exports=p(g)&&/native code/.test(m(g))},function(u,l,o){var f=o(36),p=o(38),m=o(32),g=o(41),x=o(77);u.exports=f?Object.defineProperties:function(j,S){m(j);for(var T,k=g(S),I=x(S),D=I.length,R=0;D>R;)p.f(j,T=I[R++],k[T]);return j}},function(u,l,o){var f=o(7);u.exports=f},function(u,l,o){var f=o(7),p=o(96),m=o(99),g=o(33),x=o(28)("species"),j=f.Array;u.exports=function(S){var T;return p(S)&&(T=S.constructor,(m(T)&&(T===j||p(T.prototype))||g(T)&&(T=T[x])===null)&&(T=void 0)),T===void 0?j:T}},function(u,l,o){var f=o(113),p=o(97);u.exports=f?{}.toString:function(){return"[object "+p(this)+"]"}},function(u,l,o){var f=o(142).IteratorPrototype,p=o(60),m=o(69),g=o(78),x=o(80),j=function(){return this};u.exports=function(S,T,k,I){var D=T+" Iterator";return S.prototype=p(f,{next:m(+!I,k)}),g(S,D,!1,!0),x[D]=j,S}},function(u,l,o){var f=o(7),p=o(30),m=f.String,g=f.TypeError;u.exports=function(x){if(typeof x=="object"||p(x))return x;throw g("Can't set "+m(x)+" as a prototype")}},function(u,l,o){var f=o(16),p=o(7),m=o(15),g=o(95),x=o(42),j=o(144),S=o(117),T=o(119),k=o(30),I=o(33),D=o(18),R=o(120),G=o(78),H=o(148);u.exports=function(ee,ue,ie){var te=ee.indexOf("Map")!==-1,ne=ee.indexOf("Weak")!==-1,$=te?"set":"add",B=p[ee],Y=B&&B.prototype,V=B,q={},ce=function(ve){var Pe=m(Y[ve]);x(Y,ve,ve=="add"?function(Ae){return Pe(this,Ae===0?0:Ae),this}:ve=="delete"?function(Ae){return!(ne&&!I(Ae))&&Pe(this,Ae===0?0:Ae)}:ve=="get"?function(Ae){return ne&&!I(Ae)?void 0:Pe(this,Ae===0?0:Ae)}:ve=="has"?function(Ae){return!(ne&&!I(Ae))&&Pe(this,Ae===0?0:Ae)}:function(Ae,Ge){return Pe(this,Ae===0?0:Ae,Ge),this})};if(g(ee,!k(B)||!(ne||Y.forEach&&!D(function(){new B().entries().next()}))))V=ie.getConstructor(ue,ee,te,$),j.enable();else if(g(ee,!0)){var Se=new V,Oe=Se[$](ne?{}:-0,1)!=Se,Me=D(function(){Se.has(1)}),Fe=R(function(ve){new B(ve)}),je=!ne&&D(function(){for(var ve=new B,Pe=5;Pe--;)ve[$](Pe,Pe);return!ve.has(-0)});Fe||((V=ue(function(ve,Pe){T(ve,Y);var Ae=H(new B,ve,V);return Pe!=null&&S(Pe,Ae[$],{that:Ae,AS_ENTRIES:te}),Ae})).prototype=Y,Y.constructor=V),(Me||je)&&(ce("delete"),ce("has"),te&&ce("get")),(je||Oe)&&ce($),ne&&Y.clear&&delete Y.clear}return q[ee]=V,f({global:!0,forced:V!=B},q),G(V,ee),ne||ie.setStrong(V,ee,te),V}},function(u,l,o){var f=o(18),p=o(33),m=o(51),g=o(184),x=Object.isExtensible,j=f(function(){});u.exports=j||g?function(S){return!!p(S)&&(!g||m(S)!="ArrayBuffer")&&(!x||x(S))}:x},function(u,l,o){var f=o(18);u.exports=f(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})},function(u,l,o){var f=o(18);u.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,l,o){var f=o(38).f,p=o(60),m=o(149),g=o(63),x=o(119),j=o(117),S=o(116),T=o(150),k=o(36),I=o(144).fastKey,D=o(58),R=D.set,G=D.getterFor;u.exports={getConstructor:function(H,ee,ue,ie){var te=H(function(V,q){x(V,ne),R(V,{type:ee,index:p(null),first:void 0,last:void 0,size:0}),k||(V.size=0),q!=null&&j(q,V[ie],{that:V,AS_ENTRIES:ue})}),ne=te.prototype,$=G(ee),B=function(V,q,ce){var Se,Oe,Me=$(V),Fe=Y(V,q);return Fe?Fe.value=ce:(Me.last=Fe={index:Oe=I(q,!0),key:q,value:ce,previous:Se=Me.last,next:void 0,removed:!1},Me.first||(Me.first=Fe),Se&&(Se.next=Fe),k?Me.size++:V.size++,Oe!=="F"&&(Me.index[Oe]=Fe)),V},Y=function(V,q){var ce,Se=$(V),Oe=I(q);if(Oe!=="F")return Se.index[Oe];for(ce=Se.first;ce;ce=ce.next)if(ce.key==q)return ce};return m(ne,{clear:function(){for(var V=$(this),q=V.index,ce=V.first;ce;)ce.removed=!0,ce.previous&&(ce.previous=ce.previous.next=void 0),delete q[ce.index],ce=ce.next;V.first=V.last=void 0,k?V.size=0:this.size=0},delete:function(V){var q=this,ce=$(q),Se=Y(q,V);if(Se){var Oe=Se.next,Me=Se.previous;delete ce.index[Se.index],Se.removed=!0,Me&&(Me.next=Oe),Oe&&(Oe.previous=Me),ce.first==Se&&(ce.first=Oe),ce.last==Se&&(ce.last=Me),k?ce.size--:q.size--}return!!Se},forEach:function(V){for(var q,ce=$(this),Se=g(V,arguments.length>1?arguments[1]:void 0);q=q?q.next:ce.first;)for(Se(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(V){return!!Y(this,V)}}),m(ne,ue?{get:function(V){var q=Y(this,V);return q&&q.value},set:function(V,q){return B(this,V===0?0:V,q)}}:{add:function(V){return B(this,V=V===0?0:V,V)}}),k&&f(ne,"size",{get:function(){return $(this).size}}),te},setStrong:function(H,ee,ue){var ie=ee+" Iterator",te=G(ee),ne=G(ie);S(H,ee,function($,B){R(this,{type:ie,target:$,state:te($),kind:B,last:void 0})},function(){for(var $=ne(this),B=$.kind,Y=$.last;Y&&Y.removed;)Y=Y.previous;return $.target&&($.last=Y=Y?Y.next:$.state.first)?B=="keys"?{value:Y.key,done:!1}:B=="values"?{value:Y.value,done:!1}:{value:[Y.key,Y.value],done:!1}:($.target=void 0,{value:void 0,done:!0})},ue?"entries":"values",!ue,!0),T(ee)}}},function(u,l,o){var f=o(79).forEach,p=o(121)("forEach");u.exports=p?[].forEach:function(m){return f(this,m,arguments.length>1?arguments[1]:void 0)}},function(u,l,o){var f=o(7),p=o(63),m=o(34),g=o(40),x=o(189),j=o(145),S=o(99),T=o(45),k=o(62),I=o(146),D=o(118),R=f.Array;u.exports=function(G){var H=g(G),ee=S(this),ue=arguments.length,ie=ue>1?arguments[1]:void 0,te=ie!==void 0;te&&(ie=p(ie,ue>2?arguments[2]:void 0));var ne,$,B,Y,V,q,ce=D(H),Se=0;if(!ce||this==R&&j(ce))for(ne=T(H),$=ee?new this(ne):R(ne);ne>Se;Se++)q=te?ie(H[Se],Se):H[Se],k($,Se,q);else for(V=(Y=I(H,ce)).next,$=ee?new this:[];!(B=m(V,Y)).done;Se++)q=te?x(Y,ie,[B.value,Se],!0):B.value,k($,Se,q);return $.length=Se,$}},function(u,l,o){var f=o(32),p=o(147);u.exports=function(m,g,x,j){try{return j?g(f(x)[0],x[1]):g(x)}catch(S){p(m,"throw",S)}}},function(u,l,o){var f=o(18),p=o(7).RegExp;u.exports=f(function(){var m=p(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(u,l,o){var f=o(18),p=o(7).RegExp;u.exports=f(function(){var m=p("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(u,l,o){var f=o(16),p=o(15),m=o(56),g=o(40),x=o(45),j=o(39),S=o(18),T=o(193),k=o(121),I=o(194),D=o(195),R=o(70),G=o(196),H=[],ee=p(H.sort),ue=p(H.push),ie=S(function(){H.sort(void 0)}),te=S(function(){H.sort(null)}),ne=k("sort"),$=!S(function(){if(R)return R<70;if(!(I&&I>3)){if(D)return!0;if(G)return G<603;var B,Y,V,q,ce="";for(B=65;B<76;B++){switch(Y=String.fromCharCode(B),B){case 66:case 69:case 70:case 72:V=3;break;case 68:case 71:V=4;break;default:V=2}for(q=0;q<47;q++)H.push({k:Y+q,v:V})}for(H.sort(function(Se,Oe){return Oe.v-Se.v}),q=0;q<H.length;q++)Y=H[q].k.charAt(0),ce.charAt(ce.length-1)!==Y&&(ce+=Y);return ce!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:ie||!te||!ne||!$},{sort:function(B){B!==void 0&&m(B);var Y=g(this);if($)return B===void 0?ee(Y):ee(Y,B);var V,q,ce=[],Se=x(Y);for(q=0;q<Se;q++)q in Y&&ue(ce,Y[q]);for(T(ce,function(Oe){return function(Me,Fe){return Fe===void 0?-1:Me===void 0?1:Oe!==void 0?+Oe(Me,Fe)||0:j(Me)>j(Fe)?1:-1}}(B)),V=ce.length,q=0;q<V;)Y[q]=ce[q++];for(;q<Se;)delete Y[q++];return Y}})},function(u,l,o){var f=o(114),p=Math.floor,m=function(j,S){var T=j.length,k=p(T/2);return T<8?g(j,S):x(j,m(f(j,0,k),S),m(f(j,k),S),S)},g=function(j,S){for(var T,k,I=j.length,D=1;D<I;){for(k=D,T=j[D];k&&S(j[k-1],T)>0;)j[k]=j[--k];k!==D++&&(j[k]=T)}return j},x=function(j,S,T,k){for(var I=S.length,D=T.length,R=0,G=0;R<I||G<D;)j[R+G]=R<I&&G<D?k(S[R],T[G])<=0?S[R++]:T[G++]:R<I?S[R++]:T[G++];return j};u.exports=m},function(u,l,o){var f=o(55).match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,l,o){var f=o(55);u.exports=/MSIE|Trident/.test(f)},function(u,l,o){var f=o(55).match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,l,o){var f=o(7),p=o(159),m=f.TypeError;u.exports=function(g){if(p(g))throw m("The method doesn't accept regular expressions");return g}},function(u,l,o){var f=o(28)("match");u.exports=function(p){var m=/./;try{"/./"[p](m)}catch{try{return m[f]=!1,"/./"[p](m)}catch{}}return!1}},function(u,l,o){o(16)({target:"Number",stat:!0},{isNaN:function(f){return f!=f}})},function(u,l,o){var f=o(73).PROPER,p=o(18),m=o(162);u.exports=function(g){return p(function(){return!!m[g]()||"​᠎"[g]()!=="​᠎"||f&&m[g].name!==g})}},function(u,l,o){var f=o(15),p=o(40),m=Math.floor,g=f("".charAt),x=f("".replace),j=f("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,T=/\$([$&'`]|\d{1,2})/g;u.exports=function(k,I,D,R,G,H){var ee=D+k.length,ue=R.length,ie=T;return G!==void 0&&(G=p(G),ie=S),x(H,ie,function(te,ne){var $;switch(g(ne,0)){case"$":return"$";case"&":return k;case"`":return j(I,0,D);case"'":return j(I,ee);case"<":$=G[j(ne,1,-1)];break;default:var B=+ne;if(B===0)return te;if(B>ue){var Y=m(B/10);return Y===0?te:Y<=ue?R[Y-1]===void 0?g(ne,1):R[Y-1]+g(ne,1):te}$=R[B-1]}return $===void 0?"":$})}},function(u,l,o){var f=o(36),p=o(15),m=o(34),g=o(18),x=o(77),j=o(112),S=o(84),T=o(40),k=o(85),I=Object.assign,D=Object.defineProperty,R=p([].concat);u.exports=!I||g(function(){if(f&&I({b:1},I(D({},"a",{enumerable:!0,get:function(){D(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},H={},ee=Symbol(),ue="abcdefghijklmnopqrst";return G[ee]=7,ue.split("").forEach(function(ie){H[ie]=ie}),I({},G)[ee]!=7||x(I({},H)).join("")!=ue})?function(G,H){for(var ee=T(G),ue=arguments.length,ie=1,te=j.f,ne=S.f;ue>ie;)for(var $,B=k(arguments[ie++]),Y=te?R(x(B),te(B)):x(B),V=Y.length,q=0;V>q;)$=Y[q++],f&&!m(ne,B,$)||(ee[$]=B[$]);return ee}:I},function(u,l,o){var f=o(7),p=o(15),m=o(56),g=o(33),x=o(35),j=o(98),S=f.Function,T=p([].concat),k=p([].join),I={},D=function(R,G,H){if(!x(I,G)){for(var ee=[],ue=0;ue<G;ue++)ee[ue]="a["+ue+"]";I[G]=S("C,a","return new C("+k(ee,",")+")")}return I[G](R,H)};u.exports=S.bind||function(R){var G=m(this),H=G.prototype,ee=j(arguments,1),ue=function(){var ie=T(ee,j(arguments));return this instanceof ue?D(G,ie.length,ie):G.apply(R,ie)};return g(H)&&(ue.prototype=H),ue}},function(u,l,o){var f=o(35);u.exports=function(p){return p!==void 0&&(f(p,"value")||f(p,"writable"))}},function(u,l,o){var f=o(15),p=o(44),m=o(39),g=/"/g,x=f("".replace);u.exports=function(j,S,T,k){var I=m(p(j)),D="<"+S;return T!==""&&(D+=" "+T+'="'+x(m(k),g,"&quot;")+'"'),D+">"+I+"</"+S+">"}},function(u,l,o){var f=o(18);u.exports=function(p){return f(function(){var m=""[p]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(u,l,o){var f,p,m,g,x=o(16),j=o(71),S=o(7),T=o(46),k=o(34),I=o(208),D=o(42),R=o(149),G=o(102),H=o(78),ee=o(150),ue=o(56),ie=o(30),te=o(33),ne=o(119),$=o(92),B=o(117),Y=o(120),V=o(164),q=o(168).set,ce=o(209),Se=o(212),Oe=o(213),Me=o(170),Fe=o(214),je=o(58),ve=o(95),Pe=o(28),Ae=o(215),Ge=o(128),rt=o(70),wt=Pe("species"),Ve="Promise",Ze=je.getterFor(Ve),bt=je.set,fe=je.getterFor(Ve),se=I&&I.prototype,ye=I,Ne=se,He=S.TypeError,Le=S.document,xt=S.process,Tt=Me.f,jt=Tt,vt=!!(Le&&Le.createEvent&&S.dispatchEvent),ke=ie(S.PromiseRejectionEvent),st="unhandledrejection",pe=!1,ot=ve(Ve,function(){var ae=$(ye),be=ae!==String(ye);if(!be&&rt===66||j&&!Ne.finally)return!0;if(rt>=51&&/native code/.test(ae))return!1;var $e=new ye(function(ft){ft(1)}),Ke=function(ft){ft(function(){},function(){})};return($e.constructor={})[wt]=Ke,!(pe=$e.then(function(){})instanceof Ke)||!be&&Ae&&!ke}),zt=ot||!Y(function(ae){ye.all(ae).catch(function(){})}),sn=function(ae){var be;return!(!te(ae)||!ie(be=ae.then))&&be},Bt=function(ae,be){if(!ae.notified){ae.notified=!0;var $e=ae.reactions;ce(function(){for(var Ke=ae.value,ft=ae.state==1,Ut=0;$e.length>Ut;){var Zn,lr,Wn,Yn=$e[Ut++],it=ft?Yn.ok:Yn.fail,_t=Yn.resolve,St=Yn.reject,Rt=Yn.domain;try{it?(ft||(ae.rejection===2&&It(ae),ae.rejection=1),it===!0?Zn=Ke:(Rt&&Rt.enter(),Zn=it(Ke),Rt&&(Rt.exit(),Wn=!0)),Zn===Yn.promise?St(He("Promise-chain cycle")):(lr=sn(Zn))?k(lr,Zn,_t,St):_t(Zn)):St(Ke)}catch(dn){Rt&&!Wn&&Rt.exit(),St(dn)}}ae.reactions=[],ae.notified=!1,be&&!ae.rejection&&yn(ae)})}},en=function(ae,be,$e){var Ke,ft;vt?((Ke=Le.createEvent("Event")).promise=be,Ke.reason=$e,Ke.initEvent(ae,!1,!0),S.dispatchEvent(Ke)):Ke={promise:be,reason:$e},!ke&&(ft=S["on"+ae])?ft(Ke):ae===st&&Oe("Unhandled promise rejection",$e)},yn=function(ae){k(q,S,function(){var be,$e=ae.facade,Ke=ae.value;if(Sn(ae)&&(be=Fe(function(){Ge?xt.emit("unhandledRejection",Ke,$e):en(st,$e,Ke)}),ae.rejection=Ge||Sn(ae)?2:1,be.error))throw be.value})},Sn=function(ae){return ae.rejection!==1&&!ae.parent},It=function(ae){k(q,S,function(){var be=ae.facade;Ge?xt.emit("rejectionHandled",be):en("rejectionhandled",be,ae.value)})},Fn=function(ae,be,$e){return function(Ke){ae(be,Ke,$e)}},Q=function(ae,be,$e){ae.done||(ae.done=!0,$e&&(ae=$e),ae.value=be,ae.state=2,Bt(ae,!0))},he=function(ae,be,$e){if(!ae.done){ae.done=!0,$e&&(ae=$e);try{if(ae.facade===be)throw He("Promise can't be resolved itself");var Ke=sn(be);Ke?ce(function(){var ft={done:!1};try{k(Ke,be,Fn(he,ft,ae),Fn(Q,ft,ae))}catch(Ut){Q(ft,Ut,ae)}}):(ae.value=be,ae.state=1,Bt(ae,!1))}catch(ft){Q({done:!1},ft,ae)}}};if(ot&&(Ne=(ye=function(ae){ne(this,Ne),ue(ae),k(f,this);var be=Ze(this);try{ae(Fn(he,be),Fn(Q,be))}catch($e){Q(be,$e)}}).prototype,(f=function(ae){bt(this,{type:Ve,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=R(Ne,{then:function(ae,be){var $e=fe(this),Ke=$e.reactions,ft=Tt(V(this,ye));return ft.ok=!ie(ae)||ae,ft.fail=ie(be)&&be,ft.domain=Ge?xt.domain:void 0,$e.parent=!0,Ke[Ke.length]=ft,$e.state!=0&&Bt($e,!1),ft.promise},catch:function(ae){return this.then(void 0,ae)}}),p=function(){var ae=new f,be=Ze(ae);this.promise=ae,this.resolve=Fn(he,be),this.reject=Fn(Q,be)},Me.f=Tt=function(ae){return ae===ye||ae===m?new p(ae):jt(ae)},!j&&ie(I)&&se!==Object.prototype)){g=se.then,pe||(D(se,"then",function(ae,be){var $e=this;return new ye(function(Ke,ft){k(g,$e,Ke,ft)}).then(ae,be)},{unsafe:!0}),D(se,"catch",Ne.catch,{unsafe:!0}));try{delete se.constructor}catch{}G&&G(se,Ne)}x({global:!0,wrap:!0,forced:ot},{Promise:ye}),H(ye,Ve,!1,!0),ee(Ve),m=T(Ve),x({target:Ve,stat:!0,forced:ot},{reject:function(ae){var be=Tt(this);return k(be.reject,void 0,ae),be.promise}}),x({target:Ve,stat:!0,forced:j||ot},{resolve:function(ae){return Se(j&&this===m?ye:this,ae)}}),x({target:Ve,stat:!0,forced:zt},{all:function(ae){var be=this,$e=Tt(be),Ke=$e.resolve,ft=$e.reject,Ut=Fe(function(){var Zn=ue(be.resolve),lr=[],Wn=0,Yn=1;B(ae,function(it){var _t=Wn++,St=!1;Yn++,k(Zn,be,it).then(function(Rt){St||(St=!0,lr[_t]=Rt,--Yn||Ke(lr))},ft)}),--Yn||Ke(lr)});return Ut.error&&ft(Ut.value),$e.promise},race:function(ae){var be=this,$e=Tt(be),Ke=$e.reject,ft=Fe(function(){var Ut=ue(be.resolve);B(ae,function(Zn){k(Ut,be,Zn).then($e.resolve,Ke)})});return ft.error&&Ke(ft.value),$e.promise}})},function(u,l,o){var f=o(7);u.exports=f.Promise},function(u,l,o){var f,p,m,g,x,j,S,T,k=o(7),I=o(63),D=o(50).f,R=o(168).set,G=o(169),H=o(210),ee=o(211),ue=o(128),ie=k.MutationObserver||k.WebKitMutationObserver,te=k.document,ne=k.process,$=k.Promise,B=D(k,"queueMicrotask"),Y=B&&B.value;Y||(f=function(){var V,q;for(ue&&(V=ne.domain)&&V.exit();p;){q=p.fn,p=p.next;try{q()}catch(ce){throw p?g():m=void 0,ce}}m=void 0,V&&V.enter()},G||ue||ee||!ie||!te?!H&&$&&$.resolve?((S=$.resolve(void 0)).constructor=$,T=I(S.then,S),g=function(){T(f)}):ue?g=function(){ne.nextTick(f)}:(R=I(R,k),g=function(){R(f)}):(x=!0,j=te.createTextNode(""),new ie(f).observe(j,{characterData:!0}),g=function(){j.data=x=!x})),u.exports=Y||function(V){var q={fn:V,next:void 0};m&&(m.next=q),p||(p=q,g()),m=q}},function(u,l,o){var f=o(55),p=o(7);u.exports=/ipad|iphone|ipod/i.test(f)&&p.Pebble!==void 0},function(u,l,o){var f=o(55);u.exports=/web0s(?!.*chrome)/i.test(f)},function(u,l,o){var f=o(32),p=o(33),m=o(170);u.exports=function(g,x){if(f(g),p(x)&&x.constructor===g)return x;var j=m.f(g);return(0,j.resolve)(x),j.promise}},function(u,l,o){var f=o(7);u.exports=function(p,m){var g=f.console;g&&g.error&&(arguments.length==1?g.error(p):g.error(p,m))}},function(u,l){u.exports=function(o){try{return{error:!1,value:o()}}catch(f){return{error:!0,value:f}}}},function(u,l){u.exports=typeof window=="object"},function(u,l,o){var f=o(40),p=o(75),m=o(45);u.exports=function(g){for(var x=f(this),j=m(x),S=arguments.length,T=p(S>1?arguments[1]:void 0,j),k=S>2?arguments[2]:void 0,I=k===void 0?j:p(k,j);I>T;)x[T++]=g;return x}},function(u,l,o){var f=o(16),p=o(7),m=o(15),g=o(59),x=o(160),j=o(218),S=o(18),T=p.RangeError,k=p.String,I=Math.floor,D=m(j),R=m("".slice),G=m(1 .toFixed),H=function(te,ne,$){return ne===0?$:ne%2==1?H(te,ne-1,$*te):H(te*te,ne/2,$)},ee=function(te,ne,$){for(var B=-1,Y=$;++B<6;)Y+=ne*te[B],te[B]=Y%1e7,Y=I(Y/1e7)},ue=function(te,ne){for(var $=6,B=0;--$>=0;)B+=te[$],te[$]=I(B/ne),B=B%ne*1e7},ie=function(te){for(var ne=6,$="";--ne>=0;)if($!==""||ne===0||te[ne]!==0){var B=k(te[ne]);$=$===""?B:$+D("0",7-B.length)+B}return $};f({target:"Number",proto:!0,forced:S(function(){return G(8e-5,3)!=="0.000"||G(.9,0)!=="1"||G(1.255,2)!=="1.25"||G(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!S(function(){G({})})},{toFixed:function(te){var ne,$,B,Y,V=x(this),q=g(te),ce=[0,0,0,0,0,0],Se="",Oe="0";if(q<0||q>20)throw T("Incorrect fraction digits");if(V!=V)return"NaN";if(V<=-1e21||V>=1e21)return k(V);if(V<0&&(Se="-",V=-V),V>1e-21)if($=(ne=function(Me){for(var Fe=0,je=Me;je>=4096;)Fe+=12,je/=4096;for(;je>=2;)Fe+=1,je/=2;return Fe}(V*H(2,69,1))-69)<0?V*H(2,-ne,1):V/H(2,ne,1),$*=4503599627370496,(ne=52-ne)>0){for(ee(ce,0,$),B=q;B>=7;)ee(ce,1e7,0),B-=7;for(ee(ce,H(10,B,1),0),B=ne-1;B>=23;)ue(ce,1<<23),B-=23;ue(ce,1<<B),ee(ce,1,1),ue(ce,2),Oe=ie(ce)}else ee(ce,0,$),ee(ce,1<<-ne,0),Oe=ie(ce)+D("0",q);return Oe=q>0?Se+((Y=Oe.length)<=q?"0."+D("0",q-Y)+Oe:R(Oe,0,Y-q)+"."+R(Oe,Y-q)):Se+Oe}})},function(u,l,o){var f=o(7),p=o(59),m=o(39),g=o(44),x=f.RangeError;u.exports=function(j){var S=m(g(this)),T="",k=p(j);if(k<0||k==1/0)throw x("Wrong number of repetitions");for(;k>0;(k>>>=1)&&(S+=S))1&k&&(T+=S);return T}},function(u,l,o){var f=o(36),p=o(15),m=o(77),g=o(41),x=p(o(84).f),j=p([].push),S=function(T){return function(k){for(var I,D=g(k),R=m(D),G=R.length,H=0,ee=[];G>H;)I=R[H++],f&&!x(D,I)||j(ee,T?[I,D[I]]:D[I]);return ee}};u.exports={entries:S(!0),values:S(!1)}},function(u,l){u.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(u,l,o){o.r(l),o.d(l,"observer",function(){return yi}),o.d(l,"LogicFlow",function(){return eg}),o.d(l,"h",function(){return pe.g}),o.d(l,"LogicFlowUtil",function(){return f}),o.d(l,"BaseNode",function(){return sa}),o.d(l,"RectNode",function(){return Uy}),o.d(l,"CircleNode",function(){return Ky}),o.d(l,"PolygonNode",function(){return ev}),o.d(l,"DiamondNode",function(){return ov}),o.d(l,"EllipseNode",function(){return cv}),o.d(l,"TextNode",function(){return pv}),o.d(l,"HtmlNode",function(){return vv}),o.d(l,"BaseEdge",function(){return vf}),o.d(l,"LineEdge",function(){return kv}),o.d(l,"PolylineEdge",function(){return Iv}),o.d(l,"BezierEdge",function(){return Bv}),o.d(l,"Arrow",function(){return px}),o.d(l,"BaseEdgeModel",function(){return El}),o.d(l,"BezierEdgeModel",function(){return Zh}),o.d(l,"LineEdgeModel",function(){return Ji}),o.d(l,"PolylineEdgeModel",function(){return Ys}),o.d(l,"BaseNodeModel",function(){return ua}),o.d(l,"CircleNodeModel",function(){return ry}),o.d(l,"DiamondNodeModel",function(){return sy}),o.d(l,"EllipseNodeModel",function(){return py}),o.d(l,"PolygonNodeModel",function(){return my}),o.d(l,"RectNodeModel",function(){return wy}),o.d(l,"TextNodeModel",function(){return jy}),o.d(l,"HtmlNodeModel",function(){return Ay}),o.d(l,"EditConfigModel",function(){return Yc}),o.d(l,"GraphModel",function(){return $u}),o.d(l,"SnaplineModel",function(){return h0}),o.d(l,"Keyboard",function(){return tb}),o.d(l,"get",function(){return em}),o.d(l,"defaults",function(){return nm}),o.d(l,"ElementState",function(){return fn}),o.d(l,"ModelType",function(){return Kt}),o.d(l,"ElementType",function(){return $n}),o.d(l,"EventType",function(){return pt}),o.d(l,"formateAnchorConnectValidateData",function(){return Du});var f={};o.r(f),o.d(f,"createUuid",function(){return Oo}),o.d(f,"refreshGraphId",function(){return Ia}),o.d(f,"StepDrag",function(){return wo}),o.d(f,"setupEdgeModel",function(){return Mp}),o.d(f,"isBboxOverLapping",function(){return Il}),o.d(f,"filterRepeatPoints",function(){return ui}),o.d(f,"getSimplePolyline",function(){return Rl}),o.d(f,"getExpandedBBox",function(){return Wa}),o.d(f,"pointDirection",function(){return Lu}),o.d(f,"getExpandedBBoxPoint",function(){return vr}),o.d(f,"mergeBBox",function(){return Ai}),o.d(f,"getBBoxOfPoints",function(){return Ga}),o.d(f,"getPointsFromBBox",function(){return zu}),o.d(f,"isPointOutsideBBox",function(){return Xa}),o.d(f,"getBBoxXCrossPoints",function(){return Uo}),o.d(f,"getBBoxYCrossPoints",function(){return Yt}),o.d(f,"getBBoxCrossPointsByPoint",function(){return Ll}),o.d(f,"estimateDistance",function(){return Nr}),o.d(f,"costByPoints",function(){return zl}),o.d(f,"heuristicCostEstimate",function(){return pn}),o.d(f,"rebuildPath",function(){return Ap}),o.d(f,"removeClosePointFromOpenList",function(){return Bl}),o.d(f,"isSegmentsIntersected",function(){return si}),o.d(f,"isSegmentCrossingBBox",function(){return Fl}),o.d(f,"getNextNeighborPoints",function(){return kp}),o.d(f,"pathFinder",function(){return Tp}),o.d(f,"getBoxByOriginNode",function(){return Wl}),o.d(f,"pointFilter",function(){return Bu}),o.d(f,"getPolylinePoints",function(){return Fu}),o.d(f,"getLongestEdge",function(){return Np}),o.d(f,"isSegmentsInNode",function(){return Gl}),o.d(f,"isSegmentsCrossNode",function(){return Xl}),o.d(f,"getCrossPointInRect",function(){return tr}),o.d(f,"segmentDirection",function(){return dr}),o.d(f,"points2PointsList",function(){return ki}),o.d(f,"getSimplePoints",function(){return Hl}),o.d(f,"getBytesLength",function(){return Ul}),o.d(f,"getTextWidth",function(){return Cp}),o.d(f,"getAppendAttributes",function(){return Yl}),o.d(f,"getBezierControlPoints",function(){return Ti}),o.d(f,"getBezierPoints",function(){return qs}),o.d(f,"getEndTangent",function(){return Zs}),o.d(f,"getClosestPointOfPolyline",function(){return Vl}),o.d(f,"pickEdgeConfig",function(){return Ip}),o.d(f,"twoPointDistance",function(){return $l}),o.d(f,"createEdgeGenerator",function(){return Rp}),o.d(f,"snapToGrid",function(){return Go}),o.d(f,"getGridOffset",function(){return Ca}),o.d(f,"sampleCubic",function(){return Xt}),o.d(f,"getThetaOfVector",function(){return Tr}),o.d(f,"degrees",function(){return Xn}),o.d(f,"Vector",function(){return hr}),o.d(f,"Point",function(){return Ha}),o.d(f,"Matrix",function(){return gt}),o.d(f,"RotateMatrix",function(){return At}),o.d(f,"ScaleMatrix",function(){return nr}),o.d(f,"TranslateMatrix",function(){return gr});var p=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!p.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(43),x=Object(g.b)("observerBatching");function j(t){t()}var S=!1;function T(){return S}function k(t){return Object(p.t)(t)}var I,D=1e4,R=new Set;function G(){I===void 0&&(I=setTimeout(H,1e4))}function H(){I=void 0;var t=Date.now();R.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,R.delete(e))}),R.size>0&&G()}var ee=!1,ue=[],ie={};function te(t){return"observer"+t}function ne(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=ie),T();var r,a=function(E){return function(){ee?ue.push(E):E()}}((n.useForceUpdate||g.d)()),i=m.d.useRef(null);if(!i.current){var c=new p.c(te(e),function(){v.mounted?a():(c.dispose(),i.current=null)}),v=function(E){return{cleanAt:Date.now()+D,reaction:E}}(c);i.current=v,r=i,R.add(r),G()}var b=i.current.reaction;return m.d.useDebugValue(b,k),m.d.useEffect(function(){var E;return E=i,R.delete(E),i.current?i.current.mounted=!0:(i.current={reaction:new p.c(te(e),function(){a()}),cleanAt:1/0},a()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(E){ee=!0,ue=[];try{var P=E();ee=!1;var N=ue.length>0?ue:void 0;return m.d.useLayoutEffect(function(){N&&N.forEach(function(L){return L()})},[N]),P}finally{ee=!1}}(function(){var E,P;if(b.track(function(){try{E=t()}catch(N){P=N}}),P)throw P;return E})}var $=function(){return $=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},$.apply(this,arguments)};function B(t,e){var n,r,a,i=$({forwardRef:!1},e),c=t.displayName||t.name,v=function(b,E){return ne(function(){return t(b,E)},c)};return v.displayName=c,n=i.forwardRef?Object(m.f)(Object(m.e)(v)):Object(m.f)(v),r=t,a=n,Object.keys(r).forEach(function(b){Y[b]||Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(r,b))}),n.displayName=c,n}var Y={$$typeof:!0,render:!0,compare:!0,type:!0};function V(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:ne(r)}function q(t,e,n,r,a){var i=e==="children"?"render":"children",c=typeof t[e]=="function",v=typeof t[i]=="function";return c&&v?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||v?null:new Error("Invalid prop `"+a+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}V.propTypes={children:q,render:q},V.displayName="Observer";var ce;(ce=m.g)||(ce=j),Object(p.n)({reactionScheduler:ce}),Object(g.a)()[x]=!0;var Se=0,Oe={};function Me(t){return Oe[t]||(Oe[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Se+")";return Se++,n}(t)),Oe[t]}function Fe(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(e,n[a])||!je(t[n[a]],e[n[a]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=Me("patchMixins"),Ae=Me("patchedDefinition");function Ge(t,e){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];e.locks++;try{var c;return t!=null&&(c=t.apply(this,a)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(v){v.apply(n,a)})}}function rt(t,e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Ge.call.apply(Ge,[this,t,e].concat(r))}}function wt(t,e,n){var r=function(v,b){var E=v[Pe]=v[Pe]||{},P=E[b]=E[b]||{};return P.locks=P.locks||0,P.methods=P.methods||[],P}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(t,e);if(!a||!a[Ae]){var i=t[e],c=Ve(t,e,a?a.enumerable:void 0,r,i);Object.defineProperty(t,e,c)}}function Ve(t,e,n,r,a){var i,c=rt(a,r);return(i={})[Ae]=!0,i.get=function(){return c},i.set=function(v){if(this===t)c=rt(v,r);else{var b=Ve(this,e,n,r,v);Object.defineProperty(this,e,b)}},i.configurable=!0,i.enumerable=n,i}var Ze=p.a||"$mobx",bt=Me("isMobXReactObserver"),fe=Me("isUnmounted"),se=Me("skipRender"),ye=Me("isForcingUpdate");function Ne(t){var e=t.prototype;if(t[bt]?He(e):t[bt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==xt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=xt;Tt(e,"props"),Tt(e,"state");var n=e.render;return e.render=function(){return Le.call(this,n)},wt(e,"componentWillUnmount",function(){var r;(r=this.render[Ze])===null||r===void 0||r.dispose(),this[fe]=!0,!this.render[Ze]&&He(this)}),t}function He(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Le(t){var e=this;ve(this,se,!1),ve(this,ye,!1);var n=He(this),r=t.bind(this),a=!1,i=new p.c(n+".render()",function(){if(!a&&(a=!0,e[fe]!==!0)){var v=!0;try{ve(e,ye,!0),e[se]||m.a.prototype.forceUpdate.call(e),v=!1}finally{ve(e,ye,!1),v&&i.dispose()}}});function c(){a=!1;var v=void 0,b=void 0;if(i.track(function(){try{b=Object(p.d)(!1,r)}catch(E){v=E}}),v)throw v;return b}return i.reactComponent=this,c[Ze]=i,this.render=c,c.call(this)}function xt(t,e){return this.state!==e||!Fe(this.props,t)}function Tt(t,e){var n=Me("reactProp_"+e+"_valueHolder"),r=Me("reactProp_"+e+"_atomHolder");function a(){return this[r]||ve(this,r,Object(p.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=!1;return p.f&&p.e&&(i=Object(p.f)(!0)),a.call(this).reportObserved(),p.f&&p.e&&Object(p.e)(i),this[n]},set:function(i){this[ye]||Fe(this[n],i)?ve(this,n,i):(ve(this,n,i),ve(this,se,!0),a.call(this).reportChanged(),ve(this,se,!1))}})}var jt=typeof Symbol=="function"&&Symbol.for,vt=jt?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,ke=jt?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function st(t){if(t.isMobxInjector,ke&&t.$$typeof===ke)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(vt&&t.$$typeof===vt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)(V,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?Ne(t):B(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!p.C)throw new Error("mobx-react requires mobx to be available");var pe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(26),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(64);var ot=function(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a},zt=function(){this.__data__=[],this.size=0},sn=function(t,e){return t===e||t!=t&&e!=e},Bt=function(t,e){for(var n=t.length;n--;)if(sn(t[n][0],e))return n;return-1},en=Array.prototype.splice,yn=function(t){var e=this.__data__,n=Bt(e,t);return!(n<0)&&(n==e.length-1?e.pop():en.call(e,n,1),--this.size,!0)},Sn=function(t){var e=this.__data__,n=Bt(e,t);return n<0?void 0:e[n][1]},It=function(t){return Bt(this.__data__,t)>-1},Fn=function(t,e){var n=this.__data__,r=Bt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Q.prototype.clear=zt,Q.prototype.delete=yn,Q.prototype.get=Sn,Q.prototype.has=It,Q.prototype.set=Fn;var he=Q,ae=function(){this.__data__=new he,this.size=0},be=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},$e=function(t){return this.__data__.get(t)},Ke=function(t){return this.__data__.has(t)},ft=o(31),Ut=ft.a.Symbol,Zn=Object.prototype,lr=Zn.hasOwnProperty,Wn=Zn.toString,Yn=Ut?Ut.toStringTag:void 0,it=function(t){var e=lr.call(t,Yn),n=t[Yn];try{t[Yn]=void 0;var r=!0}catch{}var a=Wn.call(t);return r&&(e?t[Yn]=n:delete t[Yn]),a},_t=Object.prototype.toString,St=function(t){return _t.call(t)},Rt=Ut?Ut.toStringTag:void 0,dn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Rt&&Rt in Object(t)?it(t):St(t)},Nn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Ao,ho=function(t){if(!Nn(t))return!1;var e=dn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},ko=ft.a["__core-js_shared__"],vi=(Ao=/[^.]+$/.exec(ko&&ko.keys&&ko.keys.IE_PROTO||""))?"Symbol(src)_1."+Ao:"",Cc=function(t){return!!vi&&vi in t},nu=Function.prototype.toString,Ur=function(t){if(t!=null){try{return nu.call(t)}catch{}try{return t+""}catch{}}return""},Wi=/^\[object .+?Constructor\]$/,ct=Function.prototype,Ic=Object.prototype,ru=ct.toString,ou=Ic.hasOwnProperty,Er=RegExp("^"+ru.call(ou).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ir=function(t){return!(!Nn(t)||Cc(t))&&(ho(t)?Er:Wi).test(Ur(t))},da=function(t,e){return t==null?void 0:t[e]},io=function(t,e){var n=da(t,e);return Ir(n)?n:void 0},Yr=io(ft.a,"Map"),ao=io(Object,"create"),iu=function(){this.__data__=ao?ao(null):{},this.size=0},au=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},os=Object.prototype.hasOwnProperty,Gi=function(t){var e=this.__data__;if(ao){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return os.call(e,t)?e[t]:void 0},is=Object.prototype.hasOwnProperty,uu=function(t){var e=this.__data__;return ao?e[t]!==void 0:is.call(e,t)},Rc=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ao&&e===void 0?"__lodash_hash_undefined__":e,this};function Ko(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ko.prototype.clear=iu,Ko.prototype.delete=au,Ko.prototype.get=Gi,Ko.prototype.has=uu,Ko.prototype.set=Rc;var as=Ko,To=function(){this.size=0,this.__data__={hash:new as,map:new(Yr||he),string:new as}},su=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ha=function(t,e){var n=t.__data__;return su(e)?n[typeof e=="string"?"string":"hash"]:n.map},cu=function(t){var e=ha(this,t).delete(t);return this.size-=e?1:0,e},lu=function(t){return ha(this,t).get(t)},Lc=function(t){return ha(this,t).has(t)},us=function(t,e){var n=ha(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ln(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ln.prototype.clear=To,ln.prototype.delete=cu,ln.prototype.get=lu,ln.prototype.has=Lc,ln.prototype.set=us;var cn=ln,ss=function(t,e){var n=this.__data__;if(n instanceof he){var r=n.__data__;if(!Yr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cn(r)}return n.set(t,e),this.size=n.size,this};function gi(t){var e=this.__data__=new he(t);this.size=e.size}gi.prototype.clear=ae,gi.prototype.delete=be,gi.prototype.get=$e,gi.prototype.has=Ke,gi.prototype.set=ss;var No=gi,fu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},cs=function(t){return this.__data__.has(t)};function zn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new cn;++e<n;)this.add(t[e])}zn.prototype.add=zn.prototype.push=fu,zn.prototype.has=cs;var pu=zn,Xi=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},du=function(t,e){return t.has(e)},ya=function(t,e,n,r,a,i){var c=1&n,v=t.length,b=e.length;if(v!=b&&!(c&&b>v))return!1;var E=i.get(t),P=i.get(e);if(E&&P)return E==e&&P==t;var N=-1,L=!0,U=2&n?new pu:void 0;for(i.set(t,e),i.set(e,t);++N<v;){var J=t[N],oe=e[N];if(r)var ge=c?r(oe,J,N,e,t,i):r(J,oe,N,t,e,i);if(ge!==void 0){if(ge)continue;L=!1;break}if(U){if(!Xi(e,function(me,xe){if(!du(U,xe)&&(J===me||a(J,me,n,r,i)))return U.push(xe)})){L=!1;break}}else if(J!==oe&&!a(J,oe,n,r,i)){L=!1;break}}return i.delete(t),i.delete(e),L},fr=ft.a.Uint8Array,hu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n},ls=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},yu=Ut?Ut.prototype:void 0,va=yu?yu.valueOf:void 0,mi=function(t,e,n,r,a,i,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new fr(t),new fr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return sn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=hu;case"[object Set]":var b=1&r;if(v||(v=ls),t.size!=e.size&&!b)return!1;var E=c.get(t);if(E)return E==e;r|=2,c.set(t,e);var P=ya(v(t),v(e),r,a,i,c);return c.delete(t),P;case"[object Symbol]":if(va)return va.call(t)==va.call(e)}return!1},yo=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t},mn=Array.isArray,fs=function(t,e,n){var r=e(t);return mn(t)?r:yo(r,n(t))},Sr=function(t,e){for(var n=-1,r=t==null?0:t.length,a=0,i=[];++n<r;){var c=t[n];e(c,n,t)&&(i[a++]=c)}return i},ps=function(){return[]},ds=Object.prototype.propertyIsEnumerable,mr=Object.getOwnPropertySymbols,jr=mr?function(t){return t==null?[]:(t=Object(t),Sr(mr(t),function(e){return ds.call(t,e)}))}:ps,vu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},on=function(t){return t!=null&&typeof t=="object"},Jn=function(t){return on(t)&&dn(t)=="[object Arguments]"},ga=Object.prototype,hs=ga.hasOwnProperty,gu=ga.propertyIsEnumerable,ma=Jn(function(){return arguments}())?Jn:function(t){return on(t)&&hs.call(t,"callee")&&!gu.call(t,"callee")},vo=ma,Do=o(48),bi=/^(?:0|[1-9]\d*)$/,Pr=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&bi.test(t))&&t>-1&&t%1==0&&t<e},Co=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},tn={};tn["[object Float32Array]"]=tn["[object Float64Array]"]=tn["[object Int8Array]"]=tn["[object Int16Array]"]=tn["[object Int32Array]"]=tn["[object Uint8Array]"]=tn["[object Uint8ClampedArray]"]=tn["[object Uint16Array]"]=tn["[object Uint32Array]"]=!0,tn["[object Arguments]"]=tn["[object Array]"]=tn["[object ArrayBuffer]"]=tn["[object Boolean]"]=tn["[object DataView]"]=tn["[object Date]"]=tn["[object Error]"]=tn["[object Function]"]=tn["[object Map]"]=tn["[object Number]"]=tn["[object Object]"]=tn["[object RegExp]"]=tn["[object Set]"]=tn["[object String]"]=tn["[object WeakMap]"]=!1;var Mr=function(t){return on(t)&&Co(t.length)&&!!tn[dn(t)]},go=function(t){return function(e){return t(e)}},ar=o(49),ba=ar.a&&ar.a.isTypedArray,Hi=ba?go(ba):Mr,mu=Object.prototype.hasOwnProperty,Dn=function(t,e){var n=mn(t),r=!n&&vo(t),a=!n&&!r&&Object(Do.a)(t),i=!n&&!r&&!a&&Hi(t),c=n||r||a||i,v=c?vu(t.length,String):[],b=v.length;for(var E in t)!e&&!mu.call(t,E)||c&&(E=="length"||a&&(E=="offset"||E=="parent")||i&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||Pr(E,b))||v.push(E);return v},_a=Object.prototype,Io=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||_a)},Vr=function(t,e){return function(n){return t(e(n))}},bu=Vr(Object.keys,Object),zc=Object.prototype.hasOwnProperty,_u=function(t){if(!Io(t))return bu(t);var e=[];for(var n in Object(t))zc.call(t,n)&&n!="constructor"&&e.push(n);return e},Vn=function(t){return t!=null&&Co(t.length)&&!ho(t)},_i=function(t){return Vn(t)?Dn(t):_u(t)},mo=function(t){return fs(t,_i,jr)},br=Object.prototype.hasOwnProperty,Ou=function(t,e,n,r,a,i){var c=1&n,v=mo(t),b=v.length;if(b!=mo(e).length&&!c)return!1;for(var E=b;E--;){var P=v[E];if(!(c?P in e:br.call(e,P)))return!1}var N=i.get(t),L=i.get(e);if(N&&L)return N==e&&L==t;var U=!0;i.set(t,e),i.set(e,t);for(var J=c;++E<b;){var oe=t[P=v[E]],ge=e[P];if(r)var me=c?r(ge,oe,P,e,t,i):r(oe,ge,P,t,e,i);if(!(me===void 0?oe===ge||a(oe,ge,n,r,i):me)){U=!1;break}J||(J=P=="constructor")}if(U&&!J){var xe=t.constructor,Ie=e.constructor;xe==Ie||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Ie=="function"&&Ie instanceof Ie||(U=!1)}return i.delete(t),i.delete(e),U},Rr=io(ft.a,"DataView"),qo=io(ft.a,"Promise"),Oa=io(ft.a,"Set"),bo=io(ft.a,"WeakMap"),Lr="[object Map]",Ar="[object Promise]",$r="[object Set]",_o="[object WeakMap]",we="[object DataView]",De=Ur(Rr),Re=Ur(Yr),Qe=Ur(qo),Ft=Ur(Oa),Zt=Ur(bo),On=dn;(Rr&&On(new Rr(new ArrayBuffer(1)))!=we||Yr&&On(new Yr)!=Lr||qo&&On(qo.resolve())!=Ar||Oa&&On(new Oa)!=$r||bo&&On(new bo)!=_o)&&(On=function(t){var e=dn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Ur(n):"";if(r)switch(r){case De:return we;case Re:return Lr;case Qe:return Ar;case Ft:return $r;case Zt:return _o}return e});var O=On,w="[object Arguments]",A="[object Array]",z="[object Object]",K=Object.prototype.hasOwnProperty,de=function(t,e,n,r,a,i){var c=mn(t),v=mn(e),b=c?A:O(t),E=v?A:O(e),P=(b=b==w?z:b)==z,N=(E=E==w?z:E)==z,L=b==E;if(L&&Object(Do.a)(t)){if(!Object(Do.a)(e))return!1;c=!0,P=!1}if(L&&!P)return i||(i=new No),c||Hi(t)?ya(t,e,n,r,a,i):mi(t,e,b,n,r,a,i);if(!(1&n)){var U=P&&K.call(t,"__wrapped__"),J=N&&K.call(e,"__wrapped__");if(U||J){var oe=U?t.value():t,ge=J?e.value():e;return i||(i=new No),a(oe,ge,n,r,i)}}return!!L&&(i||(i=new No),Ou(t,e,n,r,a,i))},Ee=function t(e,n,r,a,i){return e===n||(e==null||n==null||!on(e)&&!on(n)?e!=e&&n!=n:de(e,n,r,a,t,i))},We=function(t,e,n,r){var a=n.length,i=a,c=!r;if(t==null)return!i;for(t=Object(t);a--;){var v=n[a];if(c&&v[2]?v[1]!==t[v[0]]:!(v[0]in t))return!1}for(;++a<i;){var b=(v=n[a])[0],E=t[b],P=v[1];if(c&&v[2]){if(E===void 0&&!(b in t))return!1}else{var N=new No;if(r)var L=r(E,P,b,t,e,N);if(!(L===void 0?Ee(P,E,3,r,N):L))return!1}}return!0},at=function(t){return t==t&&!Nn(t)},$t=function(t){for(var e=_i(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,at(a)]}return e},et=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},vn=function(t){var e=$t(t);return e.length==1&&e[0][2]?et(e[0][0],e[0][1]):function(n){return n===t||We(n,t,e)}},Wt=function(t){return typeof t=="symbol"||on(t)&&dn(t)=="[object Symbol]"},an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kr=/^\w*$/,Pn=function(t,e){if(mn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Wt(t))||Kr.test(t)||!an.test(t)||e!=null&&t in Object(e)};function kr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var c=t.apply(this,r);return n.cache=i.set(a,c)||i,c};return n.cache=new(kr.Cache||cn),n}kr.Cache=cn;var Ro=kr,Lo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ui=/\\(\\)?/g,wu=function(t){var e=Ro(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Lo,function(n,r,a,i){e.push(a?i.replace(Ui,"$1"):r||n)}),e}),Zo=Ut?Ut.prototype:void 0,wa=Zo?Zo.toString:void 0,_r=function t(e){if(typeof e=="string")return e;if(mn(e))return ot(e,t)+"";if(Wt(e))return wa?wa.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Yi=function(t){return t==null?"":_r(t)},Oi=function(t,e){return mn(t)?t:Pn(t,e)?[t]:wu(Yi(t))},Jo=function(t){if(typeof t=="string"||Wt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Qo=function(t,e){for(var n=0,r=(e=Oi(e,t)).length;t!=null&&n<r;)t=t[Jo(e[n++])];return n&&n==r?t:void 0},xu=function(t,e,n){var r=t==null?void 0:Qo(t,e);return r===void 0?n:r},th=function(t,e){return t!=null&&e in Object(t)},nh=function(t,e,n){for(var r=-1,a=(e=Oi(e,t)).length,i=!1;++r<a;){var c=Jo(e[r]);if(!(i=t!=null&&n(t,c)))break;t=t[c]}return i||++r!=a?i:!!(a=t==null?0:t.length)&&Co(a)&&Pr(c,a)&&(mn(t)||vo(t))},Nf=function(t,e){return t!=null&&nh(t,e,th)},ys=function(t,e){return Pn(t)&&at(e)?et(Jo(t),e):function(n){var r=xu(n,t);return r===void 0&&r===e?Nf(n,t):Ee(e,r,3)}},xa=function(t){return t},Bc=function(t){return function(e){return e==null?void 0:e[t]}},rh=function(t){return function(e){return Qo(e,t)}},Df=function(t){return Pn(t)?Bc(Jo(t)):rh(t)},oh=function(t){return typeof t=="function"?t:t==null?xa:typeof t=="object"?mn(t)?ys(t[0],t[1]):vn(t):Df(t)},Cf=function(t){return function(e,n,r){for(var a=-1,i=Object(e),c=r(e),v=c.length;v--;){var b=c[t?v:++a];if(n(i[b],b,i)===!1)break}return e}}(),ur=function(t,e){return function(n,r){if(n==null)return n;if(!Vn(n))return t(n,r);for(var a=n.length,i=e?a:-1,c=Object(n);(e?i--:++i<a)&&r(c[i],i,c)!==!1;);return n}}(function(t,e){return t&&Cf(t,e,_i)}),Or=function(t,e){var n=-1,r=Vn(t)?Array(t.length):[];return ur(t,function(a,i,c){r[++n]=e(a,i,c)}),r},vs=function(t,e){return(mn(t)?ot:Or)(t,oh(e))};Object(p.n)({isolateGlobalState:!0});var gs=function(){try{var t=io(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ms=function(t,e,n){e=="__proto__"&&gs?gs(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},ih=Object.prototype.hasOwnProperty,Ea=function(t,e,n){var r=t[e];ih.call(t,e)&&sn(r,n)&&(n!==void 0||e in t)||ms(t,e,n)},zo=function(t,e,n,r){var a=!n;n||(n={});for(var i=-1,c=e.length;++i<c;){var v=e[i],b=r?r(n[v],t[v],v,n,t):void 0;b===void 0&&(b=t[v]),a?ms(n,v,b):Ea(n,v,b)}return n},Fc=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Vi=Math.max,Sa=function(t,e,n){return e=Vi(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=Vi(r.length-e,0),c=Array(i);++a<i;)c[a]=r[e+a];a=-1;for(var v=Array(e+1);++a<e;)v[a]=r[a];return v[e]=n(c),Fc(t,this,v)}},Eu=function(t){return function(){return t}},bs=gs?function(t,e){return gs(t,"toString",{configurable:!0,enumerable:!1,value:Eu(e),writable:!0})}:xa,ja=Date.now,ah=function(t){var e=0,n=0;return function(){var r=ja(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},If=ah(bs),uh=function(t,e){return If(Sa(t,e,xa),t+"")},sh=function(t,e,n){if(!Nn(n))return!1;var r=typeof e;return!!(r=="number"?Vn(n)&&Pr(e,n.length):r=="string"&&e in n)&&sn(n[e],t)},Rf=function(t){return uh(function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,c=a>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,c&&sh(n[0],n[1],c)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var v=n[r];v&&t(e,v,r,i)}return e})},_s=Object.prototype.hasOwnProperty,sr=Rf(function(t,e){if(Io(e)||Vn(e))zo(e,_i(e),t);else for(var n in e)_s.call(e,n)&&Ea(t,n,e[n])}),Lf=function(t,e,n,r){if(!Nn(t))return t;for(var a=-1,i=(e=Oi(e,t)).length,c=i-1,v=t;v!=null&&++a<i;){var b=Jo(e[a]),E=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(a!=c){var P=v[b];(E=r?r(P,b,v):void 0)===void 0&&(E=Nn(P)?P:Pr(e[a+1])?[]:{})}Ea(v,b,E),v=v[b]}return t},F=function(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var c=e[r],v=Qo(t,c);n(v,c)&&Lf(i,Oi(c,t),v)}return i},Pa=function(t,e){return F(t,e,function(n,r){return Nf(t,r)})},Su=Ut?Ut.isConcatSpreadable:void 0,uo=function(t){return mn(t)||vo(t)||!!(Su&&t&&t[Su])},rn=function t(e,n,r,a,i){var c=-1,v=e.length;for(r||(r=uo),i||(i=[]);++c<v;){var b=e[c];n>0&&r(b)?n>1?t(b,n-1,r,a,i):yo(i,b):a||(i[i.length]=b)}return i},$i=function(t){return t!=null&&t.length?rn(t,1):[]},gn,Bo,wi,so,Wc,Gc,zf,Bf,Os,Ma,ju,Ff,Xc,Fo,ws,xi,qr,Hc,Uc,ei=function(t){return If(Sa(t,void 0,$i),t+"")}(function(t,e){return t==null?{}:Pa(t,e)});function Mn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var fn,pr,Kt,$n,pt,wn,xs={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ti=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Yc=(Bo=Gn((gn=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Mn(this,"isSilentMode",Bo,this),Mn(this,"stopZoomGraph",wi,this),Mn(this,"stopScrollGraph",so,this),Mn(this,"stopMoveGraph",Wc,this),Mn(this,"adjustEdge",Gc,this),Mn(this,"adjustEdgeMiddle",zf,this),Mn(this,"adjustEdgeStartAndEnd",Bf,this),Mn(this,"adjustNodePosition",Os,this),Mn(this,"hideAnchors",Ma,this),Mn(this,"allowRotation",ju,this),Mn(this,"hoverOutline",Ff,this),Mn(this,"nodeSelectedOutline",Xc,this),Mn(this,"edgeSelectedOutline",Fo,this),Mn(this,"nodeTextEdit",ws,this),Mn(this,"edgeTextEdit",xi,this),Mn(this,"nodeTextDraggable",qr,this),Mn(this,"edgeTextDraggable",Hc,this),Mn(this,"autoExpand",Uc,this),Gf(this,"multipleSelectKey",""),Gf(this,"defaultConfig",{}),sr(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);sr(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,i=r.textEdit,c={};if(a===!1&&sr(c,this.defaultConfig),a===!0&&a!==this.isSilentMode){var v=ei(xs,ti);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},sr(c,v)}i===!1&&sr(c,{nodeTextEdit:!1,edgeTextEdit:!1});var b=ei(r,ti);return sr(c,b)}},{key:"getConfig",value:function(){return ei(this,ti)}}])&&Wf(e.prototype,n),t}()).prototype,"isSilentMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wi=Gn(gn.prototype,"stopZoomGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),so=Gn(gn.prototype,"stopScrollGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wc=Gn(gn.prototype,"stopMoveGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gc=Gn(gn.prototype,"adjustEdge",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zf=Gn(gn.prototype,"adjustEdgeMiddle",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bf=Gn(gn.prototype,"adjustEdgeStartAndEnd",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Os=Gn(gn.prototype,"adjustNodePosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ma=Gn(gn.prototype,"hideAnchors",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ju=Gn(gn.prototype,"allowRotation",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ff=Gn(gn.prototype,"hoverOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xc=Gn(gn.prototype,"nodeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fo=Gn(gn.prototype,"edgeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ws=Gn(gn.prototype,"nodeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xi=Gn(gn.prototype,"edgeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qr=Gn(gn.prototype,"nodeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hc=Gn(gn.prototype,"edgeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uc=Gn(gn.prototype,"autoExpand",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gn(gn.prototype,"updateEditConfig",[p.k],Object.getOwnPropertyDescriptor(gn.prototype,"updateEditConfig"),gn.prototype),gn);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(fn||(fn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(pr||(pr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Kt||(Kt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}($n||($n={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(pt||(pt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(wn||(wn={}));var Cn,Bn,Xf,Hf,Es,Aa,Vc,ka,Ss;function Ta(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return $c(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $c(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $c(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ni(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ri(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function co(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Cn||(Cn={}));var Uf={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Yf=(Bn=function(){function t(r,a){(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),ri(this,"MINI_SCALE_SIZE",.2),ri(this,"MAX_SCALE_SIZE",16),ni(this,"SCALE_X",Xf,this),ni(this,"SKEW_Y",Hf,this),ni(this,"SKEW_X",Es,this),ni(this,"SCALE_Y",Aa,this),ni(this,"TRANSLATE_X",Vc,this),ni(this,"TRANSLATE_Y",ka,this),ni(this,"ZOOM_SIZE",Ss,this),ri(this,"eventCenter",void 0),ri(this,"translateLimitMinX",void 0),ri(this,"translateLimitMinY",void 0),ri(this,"translateLimitMaxX",void 0),ri(this,"translateLimitMaxY",void 0),this.eventCenter=r;var i=a.stopMoveGraph,c=i!==void 0&&i;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=Ta(r,2),i=a[0],c=a[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=Ta(r,2),i=a[0],c=a[1];return[i*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,i){var c=Ta(r,2),v=c[0],b=c[1];return[v+a/this.SCALE_X,b+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,c=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,c=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(i-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*a[1]),this.SCALE_X=i,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(pt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+a<=this.translateLimitMaxY&&this.TRANSLATE_Y+a>=this.translateLimitMinY&&(this.TRANSLATE_Y+=a),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,i,c){var v=Ta(this.CanvasPointToHtmlPoint([r,a]),2),b=i/2-v[0],E=c/2-v[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=E,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var a=Ta(Array.isArray(r)&&r.length===4?r:Uf[r.toString()],4);this.translateLimitMinX=a[0],this.translateLimitMinY=a[1],this.translateLimitMaxX=a[2],this.translateLimitMaxY=a[3]}}],n&&ch(e.prototype,n),t}(),Xf=co(Bn.prototype,"SCALE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hf=co(Bn.prototype,"SKEW_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Es=co(Bn.prototype,"SKEW_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Aa=co(Bn.prototype,"SCALE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vc=co(Bn.prototype,"TRANSLATE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ka=co(Bn.prototype,"TRANSLATE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ss=co(Bn.prototype,"ZOOM_SIZE",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),co(Bn.prototype,"zoom",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"zoom"),Bn.prototype),co(Bn.prototype,"resetZoom",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"resetZoom"),Bn.prototype),co(Bn.prototype,"translate",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"translate"),Bn.prototype),co(Bn.prototype,"focusOn",[p.k],Object.getOwnPropertyDescriptor(Bn.prototype,"focusOn"),Bn.prototype),Bn),js=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Vf=function(t,e){return t&&zo(e,_i(e),t)},$f=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Kf=Object.prototype.hasOwnProperty,Kc=function(t){if(!Nn(t))return $f(t);var e=Io(t),n=[];for(var r in t)(r!="constructor"||!e&&Kf.call(t,r))&&n.push(r);return n},Na=function(t){return Vn(t)?Dn(t,!0):Kc(t)},qc=function(t,e){return t&&zo(e,Na(e),t)},Ps=o(107),qt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},lh=function(t,e){return zo(t,jr(t),e)},Zc=Vr(Object.getPrototypeOf,Object),Da=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)yo(e,jr(t)),t=Zc(t);return e}:ps,qf=function(t,e){return zo(t,Da(t),e)},fh=function(t){return fs(t,Na,Da)},ph=Object.prototype.hasOwnProperty,lo=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&ph.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Jc=function(t){var e=new t.constructor(t.byteLength);return new fr(e).set(new fr(t)),e},Ms=function(t,e){var n=e?Jc(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Qc=/\w*$/,Zf=function(t){var e=new t.constructor(t.source,Qc.exec(t));return e.lastIndex=t.lastIndex,e},el=Ut?Ut.prototype:void 0,zr=el?el.valueOf:void 0,Ei=function(t){return zr?Object(zr.call(t)):{}},As=function(t,e){var n=e?Jc(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Jf=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Jc(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Ms(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return As(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Zf(t);case"[object Symbol]":return Ei(t)}},Pu=Object.create,Qf=function(){function t(){}return function(e){if(!Nn(e))return{};if(Pu)return Pu(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ks=function(t){return typeof t.constructor!="function"||Io(t)?{}:Qf(Zc(t))},ep=function(t){return on(t)&&O(t)=="[object Map]"},Ts=ar.a&&ar.a.isMap,tl=Ts?go(Ts):ep,Si=function(t){return on(t)&&O(t)=="[object Set]"},tp=ar.a&&ar.a.isSet,ji=tp?go(tp):Si,nl="[object Arguments]",rl="[object Function]",ol="[object Object]",xn={};xn[nl]=xn["[object Array]"]=xn["[object ArrayBuffer]"]=xn["[object DataView]"]=xn["[object Boolean]"]=xn["[object Date]"]=xn["[object Float32Array]"]=xn["[object Float64Array]"]=xn["[object Int8Array]"]=xn["[object Int16Array]"]=xn["[object Int32Array]"]=xn["[object Map]"]=xn["[object Number]"]=xn["[object Object]"]=xn["[object RegExp]"]=xn["[object Set]"]=xn["[object String]"]=xn["[object Symbol]"]=xn["[object Uint8Array]"]=xn["[object Uint8ClampedArray]"]=xn["[object Uint16Array]"]=xn["[object Uint32Array]"]=!0,xn["[object Error]"]=xn[rl]=xn["[object WeakMap]"]=!1;var np=function t(e,n,r,a,i,c){var v,b=1&n,E=2&n,P=4&n;if(r&&(v=i?r(e,a,i,c):r(e)),v!==void 0)return v;if(!Nn(e))return e;var N=mn(e);if(N){if(v=lo(e),!b)return qt(e,v)}else{var L=O(e),U=L==rl||L=="[object GeneratorFunction]";if(Object(Do.a)(e))return Object(Ps.a)(e,b);if(L==ol||L==nl||U&&!i){if(v=E||U?{}:ks(e),!b)return E?qf(e,qc(v,e)):lh(e,Vf(v,e))}else{if(!xn[L])return i?e:{};v=Jf(e,L,b)}}c||(c=new No);var J=c.get(e);if(J)return J;c.set(e,v),ji(e)?e.forEach(function(ge){v.add(t(ge,n,r,ge,e,c))}):tl(e)&&e.forEach(function(ge,me){v.set(me,t(ge,n,r,me,e,c))});var oe=N?void 0:(P?E?fh:mo:E?Na:_i)(e);return js(oe||e,function(ge,me){oe&&(ge=e[me=ge]),Ea(v,me,t(ge,n,r,me,e,c))}),v},An=function(t){return np(t,5)},Ns=function(t,e,n){(n!==void 0&&!sn(t[e],n)||n===void 0&&!(e in t))&&ms(t,e,n)},Br=function(t){return on(t)&&Vn(t)},Wo=Function.prototype,Ds=Object.prototype,Ki=Wo.toString,rp=Ds.hasOwnProperty,op=Ki.call(Object),ip=function(t){if(!on(t)||dn(t)!="[object Object]")return!1;var e=Zc(t);if(e===null)return!0;var n=rp.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ki.call(n)==op},Pi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Mu=function(t){return zo(t,Na(t))},ap=function(t,e,n,r,a,i,c){var v=Pi(t,n),b=Pi(e,n),E=c.get(b);if(E)Ns(t,n,E);else{var P=i?i(v,b,n+"",t,e,c):void 0,N=P===void 0;if(N){var L=mn(b),U=!L&&Object(Do.a)(b),J=!L&&!U&&Hi(b);P=b,L||U||J?mn(v)?P=v:Br(v)?P=qt(v):U?(N=!1,P=Object(Ps.a)(b,!0)):J?(N=!1,P=As(b,!0)):P=[]:ip(b)||vo(b)?(P=v,vo(v)?P=Mu(v):Nn(v)&&!ho(v)||(P=ks(b))):N=!1}N&&(c.set(b,P),a(P,b,r,i,c),c.delete(b)),Ns(t,n,P)}},up=function t(e,n,r,a,i){e!==n&&Cf(n,function(c,v){if(i||(i=new No),Nn(c))ap(e,n,v,r,t,a,i);else{var b=a?a(Pi(e,v),c,v+"",e,n,i):void 0;b===void 0&&(b=c),Ns(e,v,b)}},Na)},Au=Rf(function(t,e,n){up(t,e,n)}),sp={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},ku=function(t){var e=An(sp);return t&&(e=Au(e,t)),e};o(82),o(166);function il(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cs=function(){function t(){var r,a,i;(function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}var e,n;return e=t,(n=[{key:"on",value:function(r,a,i){var c=this;return r==null||r.split(",").forEach(function(v){v=v.trim(),c._events[v]||(c._events[v]=[]),c._events[v].push({callback:a,once:!!i})}),this}},{key:"once",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),i.on(c,a,!0)})}},{key:"emit",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){var v=i._events[c]||[],b=i._events["*"]||[],E=function(P){for(var N=P.length,L=0;L<N;L++)if(P[L]){var U=P[L],J=U.callback;U.once&&(P.splice(L,1),P.length===0&&delete i._events[c],N--,L--),J.apply(i,[a])}};E(v),E(b)})}},{key:"off",value:function(r,a){var i=this;return r||(this._events={}),r.split(",").forEach(function(c){if(a){for(var v=i._events[c]||[],b=v.length,E=0;E<b;E++)v[E].callback===a&&(v.splice(E,1),b--,E--);v.length===0&&delete i._events[c]}else delete i._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&il(e.prototype,n),t}();function Go(t,e){return e*Math.round(t/e)||t}function Ca(t,e){return t%e}function Is(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Rs(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Rs(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var al,Ls=function(t,e,n){var r=Is(t,2),a=r[0],i=r[1],c=Is(e,2),v=c[0],b=c[1],E=Is(n,2),P=E[0],N=E[1];return a>v&&a<P&&i>b&&i<N},Xo=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n},cp=(o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47),new Uint8Array(16));function lp(){if(!al&&!(al=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return al(cp)}for(var dh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,fp=function(t){return typeof t=="string"&&dh.test(t)},kn=[],Tu=0;Tu<256;++Tu)kn.push((Tu+256).toString(16).substr(1));var ul=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(kn[t[e+0]]+kn[t[e+1]]+kn[t[e+2]]+kn[t[e+3]]+"-"+kn[t[e+4]]+kn[t[e+5]]+"-"+kn[t[e+6]]+kn[t[e+7]]+"-"+kn[t[e+8]]+kn[t[e+9]]+"-"+kn[t[e+10]]+kn[t[e+11]]+kn[t[e+12]]+kn[t[e+13]]+kn[t[e+14]]+kn[t[e+15]]).toLowerCase();if(!fp(n))throw TypeError("Stringified UUID is invalid");return n},Nu=function(t,e,n){var r=(t=t||{}).random||(t.rng||lp)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return ul(r)},Oo=function(){return Nu()},Ia=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,a){return r[a.id]=e+Nu(),a.id=r[a.id],r},{});return t.edges.forEach(function(r){r.id=e+Nu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Et=(o(105),o(127),function(t,e,n){var r=t.x,a=t.y;return(r-e.x)*(r-n.x)<=0&&(a-e.y)*(a-n.y)<=0});function Ra(t){return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function zs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zs(Object(n),!0).forEach(function(r){sl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Te,yr,cl,ll,pp,Ho,wr,Bs,Fs,dp,La,fl,pl,dl,hl,hp,Ws,yl,za,Gs,vl,Xs=function(t){return t.anchors},qi=function(t,e){for(var n,r=e.nodes,a=r.length-1;a>=0;a--){var i=r[a];if(vp(t,i)){var c=i.getTargetAnchor(t);if(c){var v={node:i,anchorIndex:c.index,anchor:c.anchor};n&&!yp(i,n.node,e)||(n=v)}}}return n},yp=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Qn=function(t,e,n,r){return Math.hypot(t-n,e-r)},Fr=function(t,e){var n=!1,r=Zr(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},vp=function(t,e){var n=!1,r=Zr(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Zr=function(t){var e=t.x,n=t.y,r=t.width,a=t.height;return{minX:e-r/2,minY:n-a/2,maxX:e+r/2,maxY:n+a/2,x:e,y:n,width:r,height:a,centerX:e,centerY:n}},gp=function(t,e,n){var r,a=function(c){var v=c,b=v.x,E=v.y,P=v.width,N=v.height,L=v.radius;return[{x:b-P/2+L,y:E-N/2+L,r:L},{x:b+P/2-L,y:E-N/2+L,r:L},{x:b-P/2+L,y:E+N/2-L,r:L},{x:b+P/2-L,y:E+N/2-L,r:L}]}(n),i=Number.MAX_SAFE_INTEGER;return a.forEach(function(c){var v=Qn(t.x,t.y,c.x,c.y);v<i&&(i=v,r=c)}),gl(t,e,r)},gl=function(t,e,n){var r,a=n,i=a.x,c=a.y,v=a.r;if(e===wn.HORIZONTAL){var b=i-Math.sqrt(v*v-(t.y-c)*(t.y-c)),E=i+Math.sqrt(v*v-(t.y-c)*(t.y-c));r={x:Math.abs(b-t.x)<Math.abs(E-t.x)?b:E,y:t.y}}else if(e===wn.VERTICAL){var P=c-Math.sqrt(v*v-(t.x-i)*(t.x-i)),N=c+Math.sqrt(v*v-(t.x-i)*(t.x-i)),L=Math.abs(P-t.y)<Math.abs(N-t.y)?P:N;r={x:t.x,y:L}}return r},ml=function(t,e){var n=e,r=!1,a=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,v=n.y+n.height/2-n.radius,b=n.x,E=n.y,P=n.width,N=n.height;return t.y===E+N/2||t.y===E-N/2?r=t.x>a&&t.x<i:t.x!==b+P/2&&t.x!==b-P/2||(r=t.y>c&&t.y<v),r},bl=function(t,e,n){var r,a=n,i=a.x,c=a.y,v=a.rx,b=a.ry;if(e===wn.HORIZONTAL){var E=i-Math.sqrt(v*v-(t.y-c)*(t.y-c)*v*v/(b*b)),P=i+Math.sqrt(v*v-(t.y-c)*(t.y-c)*v*v/(b*b));r={x:Math.abs(E-t.x)<Math.abs(P-t.x)?E:P,y:t.y}}else if(e===wn.VERTICAL){var N=c-Math.sqrt(b*b-(t.x-i)*(t.x-i)*b*b/(v*v)),L=c+Math.sqrt(b*b-(t.x-i)*(t.x-i)*b*b/(v*v)),U=Math.abs(N-t.y)<Math.abs(L-t.y)?N:L;r={x:t.x,y:U}}return r},_l=function(t,e,n){for(var r,a=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,c=[],v=0;v<a.length;v++)c.push({start:a[v],end:a[(v+1)%a.length]});return c.forEach(function(b){var E=b.start,P=b.end,N=E,L=P;E.x>P.x&&(N=P,L=E);var U={x:t.x,y:t.y};if(N.x===L.x&&e===wn.HORIZONTAL&&(U={x:N.x,y:t.y}),N.y===L.y&&e===wn.VERTICAL&&(U={x:t.x,y:N.y}),N.x!==L.x&&N.y!==L.y){var J=(L.y-N.y)/(L.x-N.x),oe=(N.x*L.y-L.x*N.y)/(N.x-L.x);e===wn.HORIZONTAL?U={x:(t.y-oe)/J,y:t.y}:e===wn.VERTICAL&&(U={x:t.x,y:J*t.x+oe})}if(Et(U,E,P)){var ge=Qn(U.x,U.y,t.x,t.y);ge<i&&(i=ge,r=U)}}),r},Ol=function(t,e,n,r){var a=t.x,i=t.y;return e.x>t.x?a=t.x+n/2:e.x<t.x&&(a=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:a,y:i}},mp=function(t){var e=t.rows,n=t.style,r=t.rowsLength,a=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=a,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach(function(v){var b=document.createElement("div");b.textContent=v,i.appendChild(b)}):i.textContent=e,document.body.appendChild(i);var c=i.clientHeight;return document.body.removeChild(i),c},wl=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,a=0;return e&&e.forEach(function(i){var c=Ul(i);a=c>a?c:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},Du=function(t){return Ra(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},En=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},hh=1e3,bp=999,xl=function(){return++hh};function Hs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hs(Object(n),!0).forEach(function(r){Gr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function er(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var El=(Te=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Gr(this,"id",""),er(this,"type",yr,this),er(this,"sourceNodeId",cl,this),er(this,"targetNodeId",ll,this),er(this,"startPoint",pp,this),er(this,"endPoint",Ho,this),er(this,"text",wr,this),er(this,"properties",Bs,this),er(this,"points",Fs,this),er(this,"pointsList",dp,this),er(this,"isSelected",La,this),er(this,"isHovered",fl,this),er(this,"isHitable",pl,this),er(this,"draggable",dl,this),er(this,"visible",hl,this),Gr(this,"virtual",!1),er(this,"isAnimation",hp,this),er(this,"isShowAdjustPoint",Ws,this),Gr(this,"graphModel",void 0),er(this,"zIndex",yl,this),Gr(this,"BaseType",$n.EDGE),Gr(this,"modelType",Kt.EDGE),er(this,"state",za,this),Gr(this,"additionStateData",void 0),Gr(this,"sourceAnchorId",""),Gr(this,"targetAnchorId",""),Gr(this,"menu",void 0),Gr(this,"customTextPosition",!1),er(this,"style",Gs,this),er(this,"arrowConfig",vl,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||Oo()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var v=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=v,sr(this,Ip(r)),this.graphModel.overlapMode===Cn.INCREASE&&(this.zIndex=r.zIndex||xl()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Wr(Wr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Wr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return An(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return An(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),a=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,c=this.isAnimation?a.stroke:r.stroke;return Wr(Wr({},r),{},{fill:c,stroke:c},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return An(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var i,c;return Xs(r).forEach(function(v){var b=$l(v,a);(c===void 0||b<c)&&(c=b,i=v)}),i}},{key:"getEndAnchor",value:function(r){var a,i,c=this;return Xs(r).forEach(function(v){var b=$l(v,c.startPoint);(i===void 0||b<i)&&(i=b,a=v)}),a}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,v={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(p.I)(this.properties)};return c&&(v.text={x:a,y:i,value:c}),this.graphModel.overlapMode===Cn.INCREASE&&(v.zIndex=this.zIndex),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=En(a),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Wr(Wr({},Object(p.I)(this.properties)),En(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var a=this.arrowConfig,i=a.markerEnd,c=a.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,a){this.style=Wr(Wr({},this.style),{},Gr({},r,En(a)))}},{key:"setStyles",value:function(r){this.style=Wr(Wr({},this.style),En(r))}},{key:"updateStyles",value:function(r){this.style=Wr({},En(r))}},{key:"formatText",value:function(r){var a=this.textPosition,i=a.x,c=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,i=r.y;this.text.x=a,this.text.y=i}},{key:"moveText",value:function(r,a){if(this.text){var i=this.text,c=i.x,v=i.y,b=i.value,E=i.draggable,P=i.editable;this.text={value:b,draggable:E,x:c+r,y:v+a,editable:P}}}},{key:"setText",value:function(r){r&&sr(this.text,r)}},{key:"updateText",value:function(r){this.text=Wr(Wr({},Object(p.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);if(!(r||this.startPoint&&this.sourceAnchorId))throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);if(!(a||this.endPoint&&this.targetAnchorId))throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){sr(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,i=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&yh(e.prototype,n),t}(),yr=Pt(Te.prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cl=Pt(Te.prototype,"sourceNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ll=Pt(Te.prototype,"targetNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pp=Pt(Te.prototype,"startPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ho=Pt(Te.prototype,"endPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wr=Pt(Te.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Bs=Pt(Te.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Fs=Pt(Te.prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),dp=Pt(Te.prototype,"pointsList",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),La=Pt(Te.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fl=Pt(Te.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pl=Pt(Te.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dl=Pt(Te.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hl=Pt(Te.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hp=Pt(Te.prototype,"isAnimation",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ws=Pt(Te.prototype,"isShowAdjustPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yl=Pt(Te.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),za=Pt(Te.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Gs=Pt(Te.prototype,"style",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vl=Pt(Te.prototype,"arrowConfig",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Pt(Te.prototype,"sourceNode",[p.m],Object.getOwnPropertyDescriptor(Te.prototype,"sourceNode"),Te.prototype),Pt(Te.prototype,"targetNode",[p.m],Object.getOwnPropertyDescriptor(Te.prototype,"targetNode"),Te.prototype),Pt(Te.prototype,"textPosition",[p.m],Object.getOwnPropertyDescriptor(Te.prototype,"textPosition"),Te.prototype),Pt(Te.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperty"),Te.prototype),Pt(Te.prototype,"deleteProperty",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"deleteProperty"),Te.prototype),Pt(Te.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperties"),Te.prototype),Pt(Te.prototype,"changeEdgeId",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"changeEdgeId"),Te.prototype),Pt(Te.prototype,"setStyle",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyle"),Te.prototype),Pt(Te.prototype,"setStyles",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyles"),Te.prototype),Pt(Te.prototype,"updateStyles",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStyles"),Te.prototype),Pt(Te.prototype,"formatText",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"formatText"),Te.prototype),Pt(Te.prototype,"resetTextPosition",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"resetTextPosition"),Te.prototype),Pt(Te.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveText"),Te.prototype),Pt(Te.prototype,"setText",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setText"),Te.prototype),Pt(Te.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateText"),Te.prototype),Pt(Te.prototype,"setAnchors",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setAnchors"),Te.prototype),Pt(Te.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setSelected"),Te.prototype),Pt(Te.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHovered"),Te.prototype),Pt(Te.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHitable"),Te.prototype),Pt(Te.prototype,"openEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"openEdgeAnimation"),Te.prototype),Pt(Te.prototype,"closeEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"closeEdgeAnimation"),Te.prototype),Pt(Te.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setElementState"),Te.prototype),Pt(Te.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStartPoint"),Te.prototype),Pt(Te.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveStartPoint"),Te.prototype),Pt(Te.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateEndPoint"),Te.prototype),Pt(Te.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveEndPoint"),Te.prototype),Pt(Te.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"setZIndex"),Te.prototype),Pt(Te.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"initPoints"),Te.prototype),Pt(Te.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAttributes"),Te.prototype),Pt(Te.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustStart"),Te.prototype),Pt(Te.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustEnd"),Te.prototype),Pt(Te.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAfterAdjustStartAndEnd"),Te.prototype),Te),Sl=El;function jl(t){return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function _p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_p(Object(n),!0).forEach(function(r){xp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ba(){return Ba=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=gh(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Ba.apply(this,arguments)}function gh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zi(t))!==null;);return t}function Pl(t,e){return Pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pl(t,e)}function mh(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zi(t);if(e){var a=Zi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bh(this,n)}}function bh(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ml(t)}function Ml(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zi(t){return Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zi(t)}function xp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gt,Ep,Ji=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Pl(i,c)})(a,t);var e,n,r=mh(a);function a(){var i;vh(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return xp(Ml(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.LINE_EDGE),i}return e=a,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return Op(Op({},Ba(Zi(a.prototype),"getEdgeStyle",this).call(this)),An(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&wp(e.prototype,n),a}(Sl);function Al(t){return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function _h(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Cu(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cu(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kl(Object(n),!0).forEach(function(r){Dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nl(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Sp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iu(){return Iu=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=Oh(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Iu.apply(this,arguments)}function Oh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=oi(t))!==null;);return t}function Fa(t,e){return Fa=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fa(t,e)}function Us(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=oi(t);if(e){var a=oi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wh(this,n)}}function wh(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qi(t)}function Qi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oi(t){return oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oi(t)}function Dl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tn(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Ys=(Gt=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Fa(i,c)})(a,t);var e,n,r=Us(a);function a(){var i;Sp(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Dl(Qi(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYLINE_EDGE),Dl(Qi(i),"draggingPointList",void 0),Nl(Qi(i),"dbClickPosition",Ep,Qi(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Iu(oi(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return Tl(Tl({},Iu(oi(a.prototype),"getEdgeStyle",this).call(this)),An(i))}},{key:"getTextPosition",value:function(){var i,c=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!c){var v=this.dbClickPosition;return{x:v.x,y:v.y}}var b=ki(this.points),E=_h(Np(b),2),P=E[0],N=E[1];return{x:(P.x+N.x)/2,y:(P.y+N.y)/2}}},{key:"getAfterAnchor",value:function(i,c,v){var b,E;return v.forEach(function(P){var N;i===wn.HORIZONTAL?N=Math.abs(c.y-P.y):i===wn.VERTICAL&&(N=Math.abs(c.x-P.x)),(!E||E>N)&&(E=N,b=P)}),b}},{key:"getCrossPoint",value:function(i,c,v){var b;return i===wn.HORIZONTAL?b={x:v.x,y:c.y}:i===wn.VERTICAL&&(b={x:c.x,y:v.y}),b}},{key:"removeCrossPoints",value:function(i,c,v){var b=v.map(function(me){return me});if(i===1){var E=b[i],P=b[c],N=b[i-1];if(Gl(N,E,this.sourceNode)){if(Xl(E,P,this.sourceNode)){var L=tr(E,P,this.sourceNode);L&&(b[i]=L,b.splice(i-1,1),i--,c--)}}else this.sourceNode.anchors.forEach(function(me){(me.x===N.x&&me.x===E.x||me.y===N.y&&me.y===E.y)&&Qn(me.x,me.y,E.x,E.y)<Qn(N.x,N.y,E.x,E.y)&&(b[i-1]=me)})}if(c===v.length-2){var U=b[i],J=b[c],oe=b[c+1];if(Gl(J,oe,this.targetNode)){if(Xl(U,J,this.targetNode)){var ge=tr(U,J,this.targetNode);ge&&(b[c]=ge,b.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(me){(me.x===oe.x&&me.x===J.x||me.y===oe.y&&me.y===J.y)&&Qn(me.x,me.y,J.x,J.y)<Qn(oe.x,oe.y,J.x,J.y)&&(b[c+1]=me)})}return b}},{key:"getDraggingPoints",value:function(i,c,v,b,E){var P=E.map(function(U){return U}),N=this.getAfterAnchor(i,v,b),L=this.getCrossPoint(i,v,N);return c==="start"?(P.unshift(L),P.unshift(N)):(P.push(L),P.push(N)),P}},{key:"updateCrossPoints",value:function(i){var c=i.map(function(Ie){return Ie}),v=i[0],b=i[1],E=i[c.length-2],P=i[c.length-1],N=this.sourceNode,L=this.targetNode,U=N.modelType,J=L.modelType,oe=dr(v,b),ge=c[0];switch(U){case Kt.RECT_NODE:N.radius!==0&&(ml(v,N)||(ge=gp(v,oe,N)));break;case Kt.CIRCLE_NODE:ge=gl(v,oe,N);break;case Kt.ELLIPSE_NODE:ge=bl(v,oe,N);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:ge=_l(v,oe,N)}c[0]=ge;var me=dr(E,P),xe=c[c.length-1];switch(J){case Kt.RECT_NODE:L.radius!==0&&(ml(P,L)||(xe=gp(P,me,L)));break;case Kt.CIRCLE_NODE:xe=gl(P,me,L);break;case Kt.ELLIPSE_NODE:xe=bl(P,me,L);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:xe=_l(P,me,L)}return c[c.length-1]=xe,c}},{key:"getData",value:function(){var i=Iu(oi(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Object.assign({},i,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Fu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,c){this.isDragging=!0;var v=i.start,b=i.end,E=i.startIndex,P=i.endIndex,N=i.direction,L=this.pointsList,U=L;return N===wn.HORIZONTAL?(L[E]={x:v.x,y:v.y+c.y},L[P]={x:b.x,y:b.y+c.y},U=this.pointsList.map(function(J){return J})):N===wn.VERTICAL&&(L[E]={x:v.x+c.x,y:v.y},L[P]={x:b.x+c.x,y:b.y},U=this.pointsList.map(function(J){return J})),this.updatePointsAfterDrag(U),this.draggingPointList=U,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[E]),end:Object.assign({},L[P]),startIndex:E,endIndex:P,direction:N}}},{key:"dragAppend",value:function(i,c){this.isDragging=!0;var v=i.start,b=i.end,E=i.startIndex,P=i.endIndex,N=i.direction,L=this.pointsList;if(N===wn.HORIZONTAL){L[E]={x:v.x,y:v.y+c.y},L[P]={x:b.x,y:b.y+c.y};var U=this.pointsList.map(function(Je){return Je});if(E!==0&&P!==this.pointsList.length-1&&(U=this.removeCrossPoints(E,P,U)),E===0){var J={x:v.x,y:v.y+c.y};if(!Fr(J,this.sourceNode)){var oe=this.sourceNode.anchors;U=this.getDraggingPoints(N,"start",J,oe,U)}}if(P===this.pointsList.length-1){var ge={x:b.x,y:b.y+c.y};if(!Fr(ge,this.targetNode)){var me=this.targetNode.anchors;U=this.getDraggingPoints(N,"end",ge,me,U)}}this.updatePointsAfterDrag(U),this.draggingPointList=U}else if(N===wn.VERTICAL){L[E]={x:v.x+c.x,y:v.y},L[P]={x:b.x+c.x,y:b.y};var xe=this.pointsList.map(function(Je){return Je});if(E!==0&&P!==this.pointsList.length-1&&(xe=this.removeCrossPoints(E,P,xe)),E===0){var Ie={x:v.x+c.x,y:v.y};if(!Fr(Ie,this.sourceNode)){var qe=this.sourceNode.anchors;xe=this.getDraggingPoints(N,"start",Ie,qe,xe)}}if(P===this.pointsList.length-1){var tt={x:b.x+c.x,y:b.y};if(!Fr(tt,this.targetNode)){var Ot=this.targetNode.anchors;xe=this.getDraggingPoints(N,"end",tt,Ot,xe)}}this.updatePointsAfterDrag(xe),this.draggingPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[E]),end:Object.assign({},L[P]),startIndex:E,endIndex:P,direction:N}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=Bu(ki(this.points));this.pointsList=i.map(function(b){return b}),this.draggingPointList=[];var c=i[0];this.startPoint=Object.assign({},c);var v=i[i.length-1];this.endPoint=Object.assign({},v)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var c=this.updateCrossPoints(i);this.points=c.map(function(v){return"".concat(v.x,",").concat(v.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,v=i.endPoint,b=i.sourceNode,E=i.targetNode,P=Fu({x:c.x,y:c.y},{x:v.x,y:v.y},b,E,this.offset||0);this.pointsList=P,this.initPoints()}}])&&jp(e.prototype,n),a}(Sl),Ep=Tn(Gt.prototype,"dbClickPosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn(Gt.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"initPoints"),Gt.prototype),Tn(Gt.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updatePoints"),Gt.prototype),Tn(Gt.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateStartPoint"),Gt.prototype),Tn(Gt.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"moveStartPoint"),Gt.prototype),Tn(Gt.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateEndPoint"),Gt.prototype),Tn(Gt.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"moveEndPoint"),Gt.prototype),Tn(Gt.prototype,"dragAppendStart",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"dragAppendStart"),Gt.prototype),Tn(Gt.prototype,"dragAppendSimple",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"dragAppendSimple"),Gt.prototype),Tn(Gt.prototype,"dragAppend",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"dragAppend"),Gt.prototype),Tn(Gt.prototype,"dragAppendEnd",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"dragAppendEnd"),Gt.prototype),Tn(Gt.prototype,"updatePointsAfterDrag",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updatePointsAfterDrag"),Gt.prototype),Tn(Gt.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"getAdjustStart"),Gt.prototype),Tn(Gt.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"getAdjustEnd"),Gt.prototype),Tn(Gt.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateAfterAdjustStartAndEnd"),Gt.prototype),Gt),Ru=function(t){var e=t.start,n=t.end,r=t.offset,a=t.verticalLength,i=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},v=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/a),E=Math.sqrt(a*a+r*r);return i==="start"?n.x>=e.x?(c.leftX=e.x+E*Math.sin(v+b),c.leftY=e.y-E*Math.cos(v+b),c.rightX=e.x-E*Math.sin(v-b),c.rightY=e.y+E*Math.cos(v-b)):(c.leftX=e.x-E*Math.sin(v+b),c.leftY=e.y+E*Math.cos(v+b),c.rightX=e.x+E*Math.sin(v-b),c.rightY=e.y-E*Math.cos(v-b)):i==="end"&&(n.x>=e.x?(c.leftX=n.x+E*Math.sin(v-b),c.leftY=n.y-E*Math.cos(v-b),c.rightX=n.x-E*Math.sin(v+b),c.rightY=n.y+E*Math.cos(v+b)):(c.leftX=n.x-E*Math.sin(v-b),c.leftY=n.y+E*Math.cos(v-b),c.rightX=n.x+E*Math.sin(v+b),c.rightY=n.y-E*Math.cos(v+b))),c},ea={x:1,y:0,z:0};function Xt(t,e,n,r,a){for(var i=function(J){if(J<0||J>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-J,3)+3*e.x*J*Math.pow(1-J,2)+3*n.x*Math.pow(J,2)*(1-J)+r.x*Math.pow(J,3),y:t.y*Math.pow(1-J,3)+3*e.y*J*Math.pow(1-J,2)+3*n.y*Math.pow(J,2)*(1-J)+r.y*Math.pow(J,3)}},c=0,v=2,b=r.x,E=r.y,P=r;c<a&&v<50;){var N=P=i(1-v/100),L=N.x,U=N.y;c=Qn(b,E,L,U),v++}return P}function Pp(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Tr(t){return r=function(i,c){return i.x*c.y-i.y*c.x}(e=ea,n=t),a=Math.acos(function(i,c){var v=[i.x,i.y,i.z];return[c.x,c.y,c.z].reduce(function(b,E,P){return b+E*v[P]})}(Pp(e),Pp(n))),r>=0?a:-a;var e,n,r,a}function Xn(t){return t*(180/Math.PI)}function ii(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ii(Object(n),!0).forEach(function(r){Cl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ai(t){return function(e){if(Array.isArray(e))return Rn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||In(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $s(t){return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function ta(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||In(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function In(t,e){if(t){if(typeof t=="string")return Rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(t,e):void 0}}function Rn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mp=function(t,e){var n;switch(t.type){case"line":default:n=new Ji(t,e);break;case"polyline":n=new Ys(t,e)}return n},Il=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},ui=function(t){var e=[],n={};return t.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Rl=function(t,e){var n=[t,{x:t.x,y:e.y},e];return ui(n)},Wa=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Lu=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?wn.HORIZONTAL:wn.VERTICAL},vr=function(t,e,n){return Lu(n,e)===wn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Ai=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),a=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+a)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:a,maxY:i,height:i-r,width:a-n}},Ga=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(P){n.push(P.x),r.push(P.y)});var a=Math.min.apply(Math,n),i=Math.max.apply(Math,n),c=Math.min.apply(Math,r),v=Math.max.apply(Math,r),b=i-a,E=v-c;return e&&(b+=e,E+=e),{centerX:(a+i)/2,centerY:(c+v)/2,maxX:i,maxY:v,minX:a,minY:c,x:(a+i)/2,y:(c+v)/2,height:E,width:b}},zu=function(t){var e=t.minX,n=t.minY,r=t.maxX,a=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:a},{x:e,y:a}]},Xa=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Uo=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Yt=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Ll=function(t,e){return Uo(t,e.x).concat(Yt(t,e.y))},Nr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},zl=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},pn=function(t,e,n,r,a){return Nr(t,e)+Nr(t,n)+zl(t,[e,n,r,a])},Ap=function t(e,n,r,a,i){i||(i=0),e.unshift(n[a]),r[a]&&r[a]!==a&&i<=100&&t(e,n,r,r[a],i+1)},Bl=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},si=function(t,e,n,r){var a=e.x-t.x,i=e.y-t.y,c=r.x-n.x,v=r.y-n.y,b=(-i*(t.x-n.x)+a*(t.y-n.y))/(-c*i+a*v),E=(c*(t.y-n.y)-v*(t.x-n.x))/(-c*i+a*v);return b>=0&&b<=1&&E>=0&&E<=1},Fl=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=ta(zu(n),4),a=r[0],i=r[1],c=r[2],v=r[3];return si(t,e,a,i)||si(t,e,a,v)||si(t,e,i,c)||si(t,e,c,v)},kp=function(t,e,n,r){var a=[];return t.forEach(function(i){i!==e&&(i.x!==e.x&&i.y!==e.y||Fl(i,e,n)||Fl(i,e,r)||a.push(i))}),ui(a)},Tp=function(t,e,n,r,a,i,c){var v=[],b=[e],E={},P={},N={};P[e.id]=0,N[e.id]=pn(e,n,e);var L={};t.forEach(function(oe){L[oe.id]=oe});for(var U=function(){var oe=void 0,ge=1/0;if(b.forEach(function(xe){N[xe.id]<ge&&(ge=N[xe.id],oe=xe)}),oe===n){var me=[];return Ap(me,L,E,n.id),{v:me}}Bl(b,oe),v.push(oe),kp(t,oe,r,a).forEach(function(xe){if(v.indexOf(xe)===-1){b.indexOf(xe)===-1&&b.push(xe);var Ie=N[oe.id]+Nr(oe,xe);P[xe.id]&&Ie>=P[xe.id]||(E[xe.id]=oe.id,P[xe.id]=Ie,N[xe.id]=P[xe.id]+pn(xe,n,e,i,c))}})};b.length;){var J=U();if($s(J)==="object")return J.v}return[e,n]},Wl=function(t){return Zr(t)},Bu=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],a=t[e+1];n.x===r.x&&r.x===a.x||n.y===r.y&&r.y===a.y?t.splice(e,1):e++}return t},Fu=function(t,e,n,r,a){var i=Wl(n),c=Wl(r),v=Wa(i,a),b=Wa(c,a),E=vr(v,i,t),P=vr(b,c,e);if(Il(v,b)){var N=Hl(t,e,E,P);return[t,E].concat(ai(N),[P,e])}var L=Ga([E,P]),U=Ai(v,L),J=Ai(b,L),oe=[];oe=(oe=oe.concat(zu(U))).concat(zu(J));var ge={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[L,U,J].forEach(function(xe){oe=oe.concat(Ll(xe,ge).filter(function(Ie){return Xa(Ie,v)&&Xa(Ie,b)}))}),[{x:E.x,y:P.y},{x:P.x,y:E.y}].forEach(function(xe){Xa(xe,v)&&Xa(xe,b)&&oe.push(xe)}),oe.unshift(E),oe.push(P),oe=ui(oe);var me=Tp(oe,E,P,i,c,t,e);return me.unshift(t),me.push(e),me.length>2&&(me=Bu(me)),ui(me)},Np=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],a=Qn(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var c=t[i],v=t[i+1],b=Qn(c.x,c.y,v.x,v.y);b>a&&(a=b,n=c,r=v)}e=[n,r]}return e},Gl=function(t,e,n){var r=Fr(t,n),a=Fr(e,n);return r&&a},Xl=function(t,e,n){var r=Fr(t,n),a=Fr(e,n);return!(r&&a)&&(r||a)},tr=function(t,e,n){for(var r,a,i=Zr(n),c=zu(i),v=0;v<c.length;v++)si(t,e,c[v],c[(v+1)%c.length])&&(a=[c[v],c[(v+1)%c.length]]);return a&&(r=function(b,E,P,N){var L=(E.y-b.y)*(N.x-P.x)-(b.x-E.x)*(P.y-N.y);if(L===0)return!1;var U=((E.x-b.x)*(N.x-P.x)*(P.y-b.y)+(E.y-b.y)*(N.x-P.x)*b.x-(N.y-P.y)*(E.x-b.x)*P.x)/L,J=-((E.y-b.y)*(N.y-P.y)*(P.x-b.x)+(E.x-b.x)*(N.y-P.y)*b.y-(N.x-P.x)*(E.y-b.y)*P.y)/L;return(U-b.x)*(U-E.x)<=0&&(J-b.y)*(J-E.y)<=0&&(U-P.x)*(U-N.x)<=0&&(J-P.y)*(J-N.y)<=0&&{x:U,y:J}}(t,e,a[0],a[1])),r},dr=function(t,e){var n;return t.x===e.x?n=wn.VERTICAL:t.y===e.y&&(n=wn.HORIZONTAL),n},ki=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var a=ta(r.split(","),2),i=a[0],c=a[1];n.push({x:Number(i),y:Number(c)})}),n},Hl=function(t,e,n,r){var a=[];if(dr(t,n)===dr(e,r))t.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},c=Et(i,t,n),v=Et(i,e,r);if(c||v)i={x:r.x,y:n.y};else{var b=Dp(i,t,n),E=Dp(i,e,r);b&&E&&(i={x:r.x,y:n.y})}a.push(i)}return a},Dp=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Ul=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Ks=null,Cp=function(t,e){Ks||(Ks=document.createElement("canvas"));var n=Ks.getContext("2d");return n.font=e,n.measureText(t).width},Yl=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var a={start:n,end:r,offset:10,verticalLength:5},i=Ru(Vs(Vs({},a),{},{type:"start"})),c=Ru(Vs(Vs({},a),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY,` 
    L`).concat(i.rightX," ").concat(i.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Ti=function(t){var e=t.start,n=t.end,r=t.sourceNode,a=t.targetNode,i=t.offset,c=Zr(r),v=Zr(a),b=Wa(c,i),E=Wa(v,i);return{sNext:vr(b,c,e),ePre:vr(E,v,n)}},qs=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Wu(e[0]),Wu(e[1]),Wu(e[2]),Wu(e[3])]},Wu=function(t){var e=ta(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Zs=function(t,e){var n=ta(t,4);return[Xt(n[0],n[1],n[2],n[3],e),t[3]]},Vl=function(t,e){for(var n,r=t.x,a=t.y,i=ki(e),c=Number.MAX_SAFE_INTEGER,v=[],b=0;b<i.length;b++)v.push({start:i[b],end:i[(b+1)%i.length]});if(v.forEach(function(L){var U=L.start,J=L.end;if(U.x===J.x){var oe={x:U.x,y:a};if(Et(oe,U,J)){var ge=Math.abs(U.x-r);ge<c&&(c=ge,n=oe)}}else if(U.y===J.y){var me={x:r,y:U.y};if(Et(me,U,J)){var xe=Math.abs(U.y-a);xe<c&&(c=xe,n=me)}}}),!n){var E=v[0],P=E.start,N=E.end;n={x:P.x+(N.x-P.x)/2,y:P.y+(N.y-P.y)/2}}return n},Ip=function(t){return ei(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},$l=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Rp(t,e){return typeof e!="function"?function(n,r,a){return Object.assign({type:t.edgeType},a)}:function(n,r,a){var i=e(n,r,a);return i?typeof i=="string"?Object.assign({},a,{type:i}):Object.assign({type:i},a):{type:t.edgeType}}}o(207);var Kl=function(){};function xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wo=function(){function t(r){var a=this,i=r.onDragStart,c=i===void 0?Kl:i,v=r.onDragging,b=v===void 0?Kl:v,E=r.onDragEnd,P=E===void 0?Kl:E,N=r.eventType,L=N===void 0?"":N,U=r.eventCenter,J=U===void 0?null:U,oe=r.step,ge=oe===void 0?1:oe,me=r.isStopPropagation,xe=me===void 0||me,Ie=r.model,qe=Ie===void 0?null:Ie,tt=r.data,Ot=tt===void 0?null:tt;(function(Je,dt){if(!(Je instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,t),Hn(this,"onDragStart",void 0),Hn(this,"onDragging",void 0),Hn(this,"onDragEnd",void 0),Hn(this,"step",void 0),Hn(this,"isStopPropagation",void 0),Hn(this,"isDragging",!1),Hn(this,"isStartDragging",!1),Hn(this,"startX",0),Hn(this,"startY",0),Hn(this,"sumDeltaX",0),Hn(this,"sumDeltaY",0),Hn(this,"eventType",void 0),Hn(this,"eventCenter",void 0),Hn(this,"model",void 0),Hn(this,"data",void 0),Hn(this,"startTime",void 0),Hn(this,"handleMouseDown",function(Je){var dt,nt,Jt,nn=(dt=window)===null||dt===void 0?void 0:dt.document;if(Je.button===0){a.isStopPropagation&&Je.stopPropagation(),a.isStartDragging=!0,a.startX=Je.clientX,a.startY=Je.clientY,nn.addEventListener("mousemove",a.handleMouseMove,!1),nn.addEventListener("mouseup",a.handleMouseUp,!1);var Ct=(nt=a.model)===null||nt===void 0?void 0:nt.getData();(Jt=a.eventCenter)===null||Jt===void 0||Jt.emit(pt["".concat(a.eventType,"_MOUSEDOWN")],{e:Je,data:a.data||Ct}),a.startTime=new Date().getTime()}}),Hn(this,"handleMouseMove",function(Je){if(a.isStopPropagation&&Je.stopPropagation(),a.isStartDragging&&(a.sumDeltaX+=Je.clientX-a.startX,a.sumDeltaY+=Je.clientY-a.startY,a.startX=Je.clientX,a.startY=Je.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var dt,nt=a.sumDeltaX%a.step,Jt=a.sumDeltaY%a.step,nn=a.sumDeltaX-nt,Ct=a.sumDeltaY-Jt;a.sumDeltaX=nt,a.sumDeltaY=Jt;var un,Kn=(dt=a.model)===null||dt===void 0?void 0:dt.getData();a.isDragging||((un=a.eventCenter)===null||un===void 0||un.emit(pt["".concat(a.eventType,"_DRAGSTART")],{e:Je,data:a.data||Kn}),a.onDragStart({event:Je})),a.isDragging=!0,Promise.resolve().then(function(){var qn,Cr;a.onDragging({deltaX:nn,deltaY:Ct,event:Je}),(qn=a.eventCenter)===null||qn===void 0||qn.emit(pt["".concat(a.eventType,"_MOUSEMOVE")],{e:Je,data:a.data||Kn}),(Cr=a.eventCenter)===null||Cr===void 0||Cr.emit(pt["".concat(a.eventType,"_DRAG")],{e:Je,data:a.data||Kn})})}}),Hn(this,"handleMouseUp",function(Je){var dt=window.document;a.isStartDragging=!1,a.isStopPropagation&&Je.stopPropagation(),Promise.resolve().then(function(){var nt,Jt,nn;dt.removeEventListener("mousemove",a.handleMouseMove,!1),dt.removeEventListener("mouseup",a.handleMouseUp,!1);var Ct=(nt=a.model)===null||nt===void 0?void 0:nt.getData();(Jt=a.eventCenter)===null||Jt===void 0||Jt.emit(pt["".concat(a.eventType,"_MOUSEUP")],{e:Je,data:a.data||Ct}),a.isDragging&&(a.isDragging=!1,a.onDragEnd({event:Je}),(nn=a.eventCenter)===null||nn===void 0||nn.emit(pt["".concat(a.eventType,"_DROP")],{e:Je,data:a.data||Ct}))})}),Hn(this,"cancelDrag",function(){var Je,dt=(Je=window)===null||Je===void 0?void 0:Je.document;dt.removeEventListener("mousemove",a.handleMouseMove,!1),dt.removeEventListener("mouseup",a.handleMouseUp,!1),a.onDragEnd({event:null}),a.isDragging=!1}),this.onDragStart=c,this.onDragging=b,this.onDragEnd=P,this.step=ge,this.isStopPropagation=xe,this.eventType=L,this.eventCenter=J,this.model=qe,this.data=Ot}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&xh(e.prototype,n),t}();function Js(t){return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zl(t,e,n){return e&&Qs(t.prototype,e),n&&Qs(t,n),t}function Jl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xu(t,e)}function xr(t){var e=ec();return function(){var n,r=Hu(t);if(e){var a=Hu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ql(this,n)}}function Ql(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return na(t)}function na(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ef(t){var e=typeof Map=="function"?new Map:void 0;return ef=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Gu(n,arguments,Hu(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Xu(a,n)},ef(t)}function Gu(t,e,n){return Gu=ec()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var v=new(Function.bind.apply(r,c));return i&&Xu(v,i.prototype),v},Gu.apply(null,arguments)}function ec(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xu(t,e){return Xu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xu(t,e)}function Hu(t){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hu(t)}function tf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nf(t,e){return t instanceof hr&&e instanceof hr}var Lp=function(t){Jl(n,t);var e=xr(n);function n(r,a,i){var c;return ql(this,n),tf(na(c=e.call(this,3)),"x",void 0),tf(na(c),"y",void 0),tf(na(c),"z",void 0),c[0]=r,c[1]=a,c[2]=i,c.x=r,c.y=a,c.z=i,Object.setPrototypeOf(na(c),n.prototype),c}return Zl(n,[{key:"add",value:function(r){if(nf(this,r))return new hr(this.x+r.x,this.y+r.y);var a=this.z+r.z;return new Ha((this.x+r.x)/a,(this.y+r.y)/a)}},{key:"subtract",value:function(r){if(nf(this,r))return new hr(this.x-r.x,this.y-r.y);var a=this.z-r.z;return a===0?new hr(this.x-r.x,this.y-r.y):new Ha((this.x-r.x)/a,(this.y-r.y)/a)}}]),n}(ef(Array)),hr=function(t){Jl(n,t);var e=xr(n);function n(r,a,i){var c;return ql(this,n),c=e.call(this,r,a,i??0),Object.setPrototypeOf(na(c),n.prototype),c}return Zl(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var a=this;return r.reduce(function(i,c,v){return i+c*a[v]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var a=this.crossZ(r),i=Math.acos(this.normalize().dot(r.normalize()));return a>=0?i:-i}}]),n}(Lp),Ha=function(t){Jl(n,t);var e=xr(n);function n(r,a){var i;return ql(this,n),i=e.call(this,r,a,1),Object.setPrototypeOf(na(i),n.prototype),i}return Zl(n,[{key:"toString",value:function(){return"Point"}}]),n}(Lp);o(67),o(217);function Uu(t){return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function rf(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||Bp(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zp(t){return function(e){if(Array.isArray(e))return of(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Bp(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bp(t,e){if(t){if(typeof t=="string")return of(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?of(t,e):void 0}}function of(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ua(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tc(t,e,n){return e&&Fp(t.prototype,e),n&&Fp(t,n),t}function nc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}function s(t){var e=X();return function(){var n,r=le(t);if(e){var a=le(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t){var e=typeof Map=="function"?new Map:void 0;return M=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return C(n,arguments,le(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),re(a,n)},M(t)}function C(t,e,n){return C=X()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var v=new(Function.bind.apply(r,c));return i&&re(v,i.prototype),v},C.apply(null,arguments)}function X(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function re(t,e){return re=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},re(t,e)}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},le(t)}function _e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z,Ce,Xe,lt,yt,Mt,ze,Ue,Nt,ut,Dt,Lt,Qt,gt=function(t){nc(n,t);var e=s(n);function n(){var r;Ua(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return _e(_(r=e.call(this,i.length)),"rows",void 0),_e(_(r),"columns",void 0),r.fill(new Array(3)),i.forEach(function(v,b){r[b]=v}),r.columns=i[0].length,r.rows=i.length,Object.setPrototypeOf(_(r),n.prototype),r}return tc(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return zp(this.map(function(a){return a[r]}))}},{key:"transpose",value:function(){for(var r=[],a=0;a<this.columns;a++)r.push(this.getColumn(a));return C(n,r)}},{key:"cross",value:function(r){var a=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var i=0;i<this.rows;i++)for(var c=this.getRow(i),v=function(E){var P=r.getColumn(E);a[i][E]=c.reduce(function(N,L,U){return N+L*P[U]},0)},b=0;b<r.columns;b++)v(b);return C(n,zp(a))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new Ha(r[0],r[1])})}},{key:"toString",value:function(){var r=rf(this[0],2),a=r[0],i=r[1],c=rf(this[1],2),v=c[0],b=c[1],E=rf(this[2],2),P=E[0],N=E[1];return"matrix(".concat(a," ").concat(i," ").concat(v," ").concat(b," ").concat(P," ").concat(N,")")}},{key:"translate",value:function(r,a){return this.cross(new gr(r,a))}},{key:"rotate",value:function(r){return this.cross(new At(r))}},{key:"scale",value:function(r,a){return this.cross(new nr(r,a))}}]),n}(M(Array)),At=function(t){nc(n,t);var e=s(n);function n(r){var a;return Ua(this,n),a=e.call(this,new hr(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new hr(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new hr(0,0,1)),Object.setPrototypeOf(_(a),n.prototype),a}return tc(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(gt),nr=function(t){nc(n,t);var e=s(n);function n(r,a){var i;return Ua(this,n),_e(_(i=e.call(this,new hr(r,0,0),new hr(0,a,0),new hr(0,0,1))),"sx",void 0),_e(_(i),"sy",void 0),i.sx=r,i.sy=a,Object.setPrototypeOf(_(i),n.prototype),i}return tc(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(gt),gr=function(t){nc(n,t);var e=s(n);function n(r,a){var i;return Ua(this,n),_e(_(i=e.call(this,new hr(1,0,0),new hr(0,1,0),new hr(r,a,1))),"tx",void 0),_e(_(i),"ty",void 0),i.tx=r,i.ty=a,Object.setPrototypeOf(_(i),n.prototype),i}return tc(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(gt),xo={node:!1,edge:!1},cr={node:!0,edge:!0};function Yo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yo(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ci(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||ra(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function li(t){return function(e){if(Array.isArray(e))return fi(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ra(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ra(t,e){if(t){if(typeof t=="string")return fi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fi(t,e):void 0}}function fi(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yu(t){return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Jr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function rc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Vu,af=200,$u=(Z=function(){function t(r){(function(U,J){if(!(U instanceof J))throw new TypeError("Cannot call a class as a function")})(this,t),Qr(this,"rootEl",void 0),Jr(this,"width",Ce,this),Jr(this,"height",Xe,this),Qr(this,"theme",void 0),Qr(this,"eventCenter",void 0),Qr(this,"modelMap",new Map),Qr(this,"topElement",void 0),Qr(this,"animation",void 0),Qr(this,"idGenerator",void 0),Qr(this,"edgeGenerator",void 0),Qr(this,"nodeMoveRules",[]),Qr(this,"customTrajectory",void 0),Jr(this,"edgeType",lt,this),Jr(this,"nodes",yt,this),Jr(this,"edges",Mt,this),Jr(this,"overlapMode",ze,this),Jr(this,"background",Ue,this),Jr(this,"transformModel",Nt,this),Jr(this,"editConfigModel",ut,this),Jr(this,"gridSize",Dt,this),Jr(this,"partial",Lt,this),Jr(this,"fakerNode",Qt,this);var a,i=r.container,c=r.background,v=c===void 0?{}:c,b=r.grid,E=r.idGenerator,P=r.edgeGenerator,N=r.animation,L=r.customTrajectory;this.background=v,Yu(b)==="object"&&(this.gridSize=b.size),this.rootEl=i,this.editConfigModel=new Yc(r),this.eventCenter=new Cs,this.transformModel=new Yf(this.eventCenter,r),this.theme=ku(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(a=N)&&typeof a!="boolean"?Au(An(xo),a):An(a===!0?cr:xo),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=E,this.customTrajectory=L,this.edgeGenerator=Rp(this,P),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=Oo()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(li(this.nodes),li(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(E){return r.push(E)}),this.edges.forEach(function(E){return r.push(E)}),r=r.sort(function(E,P){return E.zIndex-P.zIndex});for(var a=[],i=[-200,-200],c=[this.width+af,this.height+af],v=0;v<r.length;v++){var b=r[v];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,i,c,!1,!1))&&a.push(b)}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===fn.TEXT_EDIT}),a=this.edges.find(function(i){return i.state===fn.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(a){a.isSelected&&r.push(a)}),r}},{key:"getAreaElement",value:function(r,a){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],E=[];this.nodes.forEach(function(L){return E.push(L)}),this.edges.forEach(function(L){return E.push(L)});for(var P=0;P<E.length;P++){var N=E[P];v&&!N.visible||!this.isElementInArea(N,r,a,i,c)||b.push(N)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,i=r.y,c=this.rootEl.getBoundingClientRect(),v={x:a-c.left,y:i-c.top},b=ci(this.transformModel.HtmlPointToCanvasPoint([v.x,v.y]),2);return{domOverlayPosition:v,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,a,i){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===$n.NODE){for(var b=Zr(r=r),E=b.minX,P=b.minY,N=b.maxX,L=b.maxY,U=[{x:E,y:P},{x:N,y:P},{x:N,y:L},{x:E,y:L}],J=v,oe=0;oe<U.length;oe++){var ge=U[oe],me=ge.x,xe=ge.y,Ie=this.transformModel.CanvasPointToHtmlPoint([me,xe]),qe=ci(Ie,2);if(me=qe[0],xe=qe[1],Ls([me,xe],a,i)!==v){J=!v;break}}return J}if(r.BaseType===$n.EDGE){var tt=r=r,Ot=tt.startPoint,Je=tt.endPoint,dt=this.transformModel.CanvasPointToHtmlPoint([Ot.x,Ot.y]),nt=this.transformModel.CanvasPointToHtmlPoint([Je.x,Je.y]),Jt=Ls(dt,a,i),nn=Ls(nt,a,i);return c?Jt&&nn:Jt||nn}return!1}},{key:"graphDataToModel",value:function(r){var a=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=vs(r.nodes,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的节点。"));var v=i.x,b=i.y;return v&&b&&(i.x=Go(v,a.gridSize),i.y=Go(b,a.gridSize),Yu(i.text)==="object"&&(i.text.x-=Ca(v,a.gridSize),i.text.y-=Ca(b,a.gridSize))),new c(i,a)}):this.nodes=[],r.edges?this.edges=vs(r.edges,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的边。"));return new c(i,a)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var c=i.getData();c&&!i.virtual&&r.push(c)});var a=[];return this.nodes.forEach(function(i){var c=i.getData();c&&!i.virtual&&a.push(c)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],i=0;i<this.nodes.length;i++){var c=this.nodes[i];if(c.isDragging){r=!0;break}a.push(c.getHistoryData())}if(r)return!1;for(var v=!1,b=[],E=0;E<this.edges.length;E++){var P=this.edges[E];if(P.isDragging){v=!0;break}b.push(P.getHistoryData())}return!v&&{nodes:a,edges:b}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],i=0;i<this.edges.length;i++){var c=this.edges[i],v=this.edges[i].sourceNodeId===r,b=this.edges[i].targetNodeId===r;(v||b)&&a.push(c)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,i={nodes:[],edges:[]};return a.forEach(function(c){if(c.BaseType===$n.NODE&&i.nodes.push(c.getData()),c.BaseType===$n.EDGE){var v=c.getData(),b=a.get(v.sourceNodeId)&&a.get(v.targetNodeId);(r||b)&&i.edges.push(v)}}),i}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=Oo()),this.nodesMap[a]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=a),i.targetNodeId===r&&(i.targetNodeId=a)}),this.nodesMap[r].model.id=a,this.nodesMap[a]=this.nodesMap[r],a):""}},{key:"changeEdgeId",value:function(r,a){return a||(a=Oo()),this.edgesMap[a]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(a)}),a):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,i,c,v=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);v&&(this.overlapMode===Cn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),v.setZIndex(9999),this.topElement=v),this.overlapMode===Cn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var i,c,v,b=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);b&&(typeof a=="number"&&(v=a),a==="top"&&(v=xl()),a==="bottom"&&(v=--bp),b.setZIndex(v))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(pt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,c=En(r);c.id&&this.nodesMap[r.id]&&delete c.id;var v=this.getModel(c.type);if(!v)throw new Error("找不到".concat(c.type,"对应的节点，请确认是否已注册此类型节点。"));c.x=Go(c.x,this.gridSize),c.y=Go(c.y,this.gridSize);var b=new v(c,this);this.nodes.push(b);var E=b.getData(),P={data:E};return i&&(P.e=i),this.eventCenter.emit(a,P),b}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),i=a.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var c=this.addNode(i);return c.setSelected(!0),a.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,E=b.getMoveDistance(a,i,c),P=ci(E,2);a=P[0],i=P[1],this.moveEdge(r,a,i)}}},{key:"moveNode2Coordinate",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,E=b.x,P=b.y,N=a-E,L=i-P;this.moveNode(r,N,L,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,fn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=En(r),i=a.type;i||(i=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var c=this.getModel(i);if(!c)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var v=new c(Eo(Eo({},a),{},{type:i}),this),b=v.getData();return this.edges.push(v),this.eventCenter.emit(pt.EDGE_ADD,{data:b}),v}},{key:"moveEdge",value:function(r,a,i){for(var c=0;c<this.edges.length;c++){var v=this.edges[c],b=v.textPosition,E=b.x,P=b.y,N=this.edges[c].sourceNodeId===r,L=this.edges[c].targetNodeId===r;N&&v.moveStartPoint(a,i),L&&v.moveEndPoint(a,i),(N||L)&&this.handleEdgeTextMove(v,E,P)}}},{key:"handleEdgeTextMove",value:function(r,a,i){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Kt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var v=r.text,b=Vl(v,r.points);r.moveText(b.x-v.x,b.y-v.y)}else{var E=r.textPosition,P=E.x,N=E.y;r.moveText(P-a,N-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===a){var c=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(pt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,a,i){this.nodes.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(fn.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(fn.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(i){i.id===r&&i.updateText(a)}),this.edges.forEach(function(i){i.id===r&&i.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Cn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,i){for(var c=this,v=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce(function(qe,tt){var Ot=c.nodesMap[tt].model.getMoveDistance(a,i,v);return qe[tt]=Ot,qe},{}),E=0;E<this.edges.length;E++){var P=this.edges[E],N=P.textPosition,L=N.x,U=N.y,J=b[P.sourceNodeId],oe=void 0,ge=void 0;if(J){var me=ci(J,2);oe=me[0],ge=me[1],P.moveStartPoint(oe,ge)}var xe=b[P.targetNodeId];if(xe){var Ie=ci(xe,2);oe=Ie[0],ge=Ie[1],P.moveEndPoint(oe,ge)}(J||xe)&&this.handleEdgeTextMove(P,L,U)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var i=this.getNodeModelById(r);if(i){var c=i.getData();c.type=a;var v=this.getModel(a);if(!v)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));var b=new v(c,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach(function(E){if(E.sourceNodeId===r){var P=Ol(b,E.startPoint,b.width,b.height);E.updateStartPoint(P)}if(E.targetNodeId===r){var N=Ol(b,E.endPoint,b.width,b.height);E.updateEndPoint(N)}})}}},{key:"changeEdgeType",value:function(r,a){var i=this.getEdgeModelById(r);if(i&&i.type!==a){var c=i.getData();c.type=a;var v=this.getModel(a);if(!v)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var b=new v(c,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetNodeId===r&&a.push(i)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&a.push(i)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.targetNodeId===r&&i.push(a.nodesMap[c.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&i.push(a.nodesMap[c.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=ku(Eo(Eo({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=a||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],i=[];r.forEach(function(N){var L=N.x,U=N.y,J=N.width,oe=N.height,ge=N.getNodeStyle().strokeWidth,me=ge===void 0?0:ge,xe=L+J/2+me,Ie=L-J/2-me,qe=U+oe/2+me,tt=U-oe/2-me;a=a.concat([xe,Ie].filter(function(Ot){return!Number.isNaN(Ot)})),i=i.concat([qe,tt].filter(function(Ot){return!Number.isNaN(Ot)}))});var c=Math.min.apply(Math,li(a)),v=Math.max.apply(Math,li(a)),b=Math.min.apply(Math,li(i)),E=v-c||0,P=Math.max.apply(Math,li(i))-b||0;return{virtualRectWidth:E,virtualRectHeight:P,virtualRectCenterPositionX:c+E/2,virtualRectCenterPositionY:b+P/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,i=this.height,c=this.rootEl,v=this.transformModel;if(r.length){var b=a||c.clientWidth,E=i||c.clientHeight,P=this.getVirtualRectSize(),N=P.virtualRectCenterPositionX,L=P.virtualRectCenterPositionY;v.focusOn(N,L,b,E)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,c=this.width,v=this.height,b=this.rootEl,E=this.transformModel;if(i.length){var P=c||b.clientWidth,N=v||b.clientHeight,L=this.getVirtualRectSize(),U=L.virtualRectWidth,J=L.virtualRectHeight,oe=L.virtualRectCenterPositionX,ge=L.virtualRectCenterPositionY,me=(U+a)/P,xe=(J+r)/N,Ie=0;Ie=1/Math.max(me,xe);var qe=[P/2,N/2];E.zoom(Ie,qe),E.focusOn(oe,ge,P,N)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&rc(e.prototype,n),t}(),Ce=mt(Z.prototype,"width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=mt(Z.prototype,"height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=mt(Z.prototype,"edgeType",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=mt(Z.prototype,"nodes",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mt=mt(Z.prototype,"edges",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=mt(Z.prototype,"overlapMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cn.DEFAULT}}),Ue=mt(Z.prototype,"background",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=mt(Z.prototype,"transformModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=mt(Z.prototype,"editConfigModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=mt(Z.prototype,"gridSize",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Lt=mt(Z.prototype,"partial",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qt=mt(Z.prototype,"fakerNode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt(Z.prototype,"nodesMap",[p.m],Object.getOwnPropertyDescriptor(Z.prototype,"nodesMap"),Z.prototype),mt(Z.prototype,"edgesMap",[p.m],Object.getOwnPropertyDescriptor(Z.prototype,"edgesMap"),Z.prototype),mt(Z.prototype,"modelsMap",[p.m],Object.getOwnPropertyDescriptor(Z.prototype,"modelsMap"),Z.prototype),mt(Z.prototype,"sortElements",[p.m],Object.getOwnPropertyDescriptor(Z.prototype,"sortElements"),Z.prototype),mt(Z.prototype,"textEditElement",[p.m],Object.getOwnPropertyDescriptor(Z.prototype,"textEditElement"),Z.prototype),mt(Z.prototype,"selectElements",[p.m],Object.getOwnPropertyDescriptor(Z.prototype,"selectElements"),Z.prototype),mt(Z.prototype,"selectNodes",[p.m],Object.getOwnPropertyDescriptor(Z.prototype,"selectNodes"),Z.prototype),mt(Z.prototype,"setFakerNode",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"setFakerNode"),Z.prototype),mt(Z.prototype,"removeFakerNode",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"removeFakerNode"),Z.prototype),mt(Z.prototype,"setModel",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"setModel"),Z.prototype),mt(Z.prototype,"toFront",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"toFront"),Z.prototype),mt(Z.prototype,"setElementZIndex",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"setElementZIndex"),Z.prototype),mt(Z.prototype,"deleteNode",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteNode"),Z.prototype),mt(Z.prototype,"addNode",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"addNode"),Z.prototype),mt(Z.prototype,"cloneNode",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"cloneNode"),Z.prototype),mt(Z.prototype,"moveNode",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveNode"),Z.prototype),mt(Z.prototype,"moveNode2Coordinate",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveNode2Coordinate"),Z.prototype),mt(Z.prototype,"editText",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"editText"),Z.prototype),mt(Z.prototype,"addEdge",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"addEdge"),Z.prototype),mt(Z.prototype,"moveEdge",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveEdge"),Z.prototype),mt(Z.prototype,"deleteEdgeBySourceAndTarget",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeBySourceAndTarget"),Z.prototype),mt(Z.prototype,"deleteEdgeById",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeById"),Z.prototype),mt(Z.prototype,"deleteEdgeBySource",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeBySource"),Z.prototype),mt(Z.prototype,"deleteEdgeByTarget",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeByTarget"),Z.prototype),mt(Z.prototype,"setElementStateById",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"setElementStateById"),Z.prototype),mt(Z.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"updateText"),Z.prototype),mt(Z.prototype,"selectNodeById",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"selectNodeById"),Z.prototype),mt(Z.prototype,"selectEdgeById",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"selectEdgeById"),Z.prototype),mt(Z.prototype,"selectElementById",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"selectElementById"),Z.prototype),mt(Z.prototype,"clearSelectElements",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"clearSelectElements"),Z.prototype),mt(Z.prototype,"moveNodes",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveNodes"),Z.prototype),mt(Z.prototype,"setDefaultEdgeType",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"setDefaultEdgeType"),Z.prototype),mt(Z.prototype,"changeNodeType",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"changeNodeType"),Z.prototype),mt(Z.prototype,"changeEdgeType",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"changeEdgeType"),Z.prototype),mt(Z.prototype,"getNodeIncomingEdge",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeIncomingEdge"),Z.prototype),mt(Z.prototype,"getNodeOutgoingEdge",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeOutgoingEdge"),Z.prototype),mt(Z.prototype,"getNodeIncomingNode",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeIncomingNode"),Z.prototype),mt(Z.prototype,"getNodeOutgoingNode",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeOutgoingNode"),Z.prototype),mt(Z.prototype,"setTheme",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"setTheme"),Z.prototype),mt(Z.prototype,"resize",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"resize"),Z.prototype),mt(Z.prototype,"clearData",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"clearData"),Z.prototype),mt(Z.prototype,"translateCenter",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"translateCenter"),Z.prototype),mt(Z.prototype,"fitView",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"fitView"),Z.prototype),mt(Z.prototype,"openEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"openEdgeAnimation"),Z.prototype),mt(Z.prototype,"closeEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(Z.prototype,"closeEdgeAnimation"),Z.prototype),Z),oc=$u;function Eh(t){return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function Sh(){return Sh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(this,arguments)}function W_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jh(t,e)}function G_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wp(t);if(e){var a=Wp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X_(this,n)}}function X_(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ni(t)}function Ni(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wp(t)}function oa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tg,H_=yi(Vu=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&jh(i,c)})(a,t);var e,n,r=G_(a);function a(i){var c;(function(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")})(this,a),oa(Ni(c=r.call(this)),"stepDrag",void 0),oa(Ni(c),"stepScrollX",0),oa(Ni(c),"stepScrollY",0),oa(Ni(c),"onDragging",function(P){var N=P.deltaX,L=P.deltaY;c.setState({isDragging:!0});var U=c.props.graphModel,J=U.transformModel;U.editConfigModel.stopMoveGraph!==!0&&J.translate(N,L)}),oa(Ni(c),"onDragEnd",function(){c.setState({isDragging:!1})}),oa(Ni(c),"zoomHandler",function(P){var N=c.props,L=N.graphModel,U=L.editConfigModel,J=L.transformModel,oe=L.gridSize,ge=N.graphModel,me=P.deltaX,xe=P.deltaY;if(U.stopScrollGraph||P.ctrlKey===!0){if(!U.stopZoomGraph){P.preventDefault();var Ie=ge.getPointByClient({x:P.clientX,y:P.clientY}).canvasOverlayPosition,qe=Ie.x,tt=Ie.y;J.zoom(P.deltaY<0,[qe,tt])}}else{if(P.preventDefault(),c.stepScrollX+=me,c.stepScrollY+=xe,Math.abs(c.stepScrollX)>=oe){var Ot=c.stepScrollX%oe,Je=c.stepScrollX-Ot;J.translate(-Je*J.SCALE_X,0),c.stepScrollX=Ot}if(Math.abs(c.stepScrollY)>=oe){var dt=c.stepScrollY%oe,nt=c.stepScrollY-dt;J.translate(0,-nt*J.SCALE_Y),c.stepScrollY=dt}}}),oa(Ni(c),"clickHandler",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){var N=c.props.graphModel;N.selectElements.size>0&&N.clearSelectElements(),N.eventCenter.emit(pt.BLANK_CLICK,{e:P})}}),oa(Ni(c),"handleContextMenu",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){P.preventDefault();var N=c.props.graphModel,L=N.getPointByClient({x:P.clientX,y:P.clientY});N.eventCenter.emit(pt.BLANK_CONTEXTMENU,{e:P,position:L})}}),oa(Ni(c),"mouseDownHandler",function(P){var N=c.props.graphModel,L=N.eventCenter,U=N.editConfigModel,J=N.transformModel.SCALE_X,oe=N.gridSize,ge=P.target,me=!U.adjustEdge&&!U.adjustNodePosition;(ge.getAttribute("name")==="canvas-overlay"||me)&&(U.stopMoveGraph!==!0?(c.stepDrag.setStep(oe*J),c.stepDrag.handleMouseDown(P)):L.emit(pt.BLANK_MOUSEDOWN,{e:P}),c.clickHandler(P))});var v=i.graphModel,b=v.gridSize,E=v.eventCenter;return c.stepDrag=new wo({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:E,model:null}),c.state={isDragging:!1},c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,v=c.children,b=c.dnd,E=this.state.isDragging;return Object(pe.g)("svg",Sh({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:E?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(pe.g)("g",{transform:i},v))}}])&&W_(e.prototype,n),a}(pe.a))||Vu;function Ph(t){return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function U_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mh(t,e){return Mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mh(t,e)}function V_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gp(t);if(e){var a=Gp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $_(this,n)}}function $_(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gp(t)}var K_=yi(Tg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Mh(i,c)})(a,t);var e,n,r=V_(a);function a(){return U_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,c=i.tool,v=i.graphModel,b=c.getTools().map(function(E){return Object(pe.g)(E,{graphModel:v,logicFlow:c.instance})});return c.components=b,b}},{key:"triggerToolRender",value:function(){var i=this.props,c=i.tool,v=i.graphModel,b=document.querySelector("#ToolOverlay_".concat(v.flowId)),E=c.getInstance();E.components.forEach(function(P){return P(E,b)}),E.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(pe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&Y_(e.prototype,n),a}(pe.a))||Tg;function Ah(t){return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function q_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kh(t,e){return kh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kh(t,e)}function J_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xp(t);if(e){var a=Xp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Q_(this,n)}}function Q_(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xp(t)}var Ng,e1=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&kh(i,c)})(a,t);var e,n,r=J_(a);function a(){return q_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.background;return Object(pe.g)("div",{className:"lf-background"},Object(pe.g)("div",{style:i,className:"lf-background-area"}))}}])&&Z_(e.prototype,n),a}(pe.a);function Th(t){return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function t1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nh(t,e){return Nh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nh(t,e)}function r1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hp(t);if(e){var a=Hp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o1(this,n)}}function o1(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dg(t)}function Dg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hp(t)}function i1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cg=yi(Ng=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Nh(i,c)})(a,t);var e,n,r=r1(a);function a(){var i;t1(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return i1(Dg(i=r.call.apply(r,[this].concat(v))),"id",Oo()),i}return e=a,(n=[{key:"renderDot",value:function(){var i=this.props,c=i.config,v=c.color,b=c.thickness,E=b===void 0?2:b,P=i.size,N=i.visible,L=Math.min(Math.max(2,E),P/2),U=1;return N||(U=0),Object(pe.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:v,opacity:U})}},{key:"renderMesh",value:function(){var i=this.props,c=i.config,v=c.color,b=c.thickness,E=b===void 0?1:b,P=i.size,N=i.visible,L=Math.min(Math.max(1,E),P/2),U="M ".concat(P," 0 H0 M0 0 V0 ").concat(P),J=1;return N||(J=0),Object(pe.g)("path",{d:U,stroke:v,strokeWidth:L,opacity:J})}},{key:"render",value:function(){var i=this.props,c=i.type,v=i.size,b=i.graphModel.transformModel,E=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),P="matrix(".concat(E,")");return Object(pe.g)("div",{className:"lf-grid"},Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(pe.g)("defs",null,Object(pe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:P,x:"0",y:"0",width:v,height:v},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(pe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&n1(e.prototype,n),a}(pe.a))||Ng;Cg.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function Dh(t){return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function a1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ig(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ig(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ig(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rg,ic=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=a1(n,2),a=r[0],i=r[1];(a==="style"||Dh(i)!=="object")&&(e[a]=i)}),Object(pe.g)("line",e)};function Ch(t){return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lg(Object(n),!0).forEach(function(r){u1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ih(t,e){return Ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ih(t,e)}function l1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yp(t);if(e){var a=Yp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f1(this,n)}}function f1(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yp(t)}var zg,p1=yi(Rg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ih(i,c)})(a,t);var e,n,r=l1(a);function a(){return s1(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,c=i.position,v=i.isShowHorizontal,b=i.isShowVertical,E=i.getStyle(),P=c.x,N=P===void 0?0:P,L=c.y,U=L===void 0?0:L,J=Up(Up({x1:-1e5,y1:U,x2:1e5,y2:U},E),{},{stroke:v?E.stroke:"none"}),oe=Up(Up({x1:N,y1:-1e5,x2:N,y2:1e5},E),{},{stroke:b?E.stroke:"none"});return Object(pe.g)("g",{className:"lf-snapline"},Object(pe.g)(ic,J),Object(pe.g)(ic,oe))}}])&&c1(e.prototype,n),a}(pe.a))||Rg;function Rh(t){return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function d1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Bg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ya(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=t.className,c=t.radius,v=e-r/2,b=n-a/2,E={};return Object.entries(t).forEach(function(P){var N=d1(P,2),L=N[0],U=N[1];Rh(U)!=="object"&&(E[L]=U)}),E.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",c&&(E.rx=c,E.ry=c),E.x=v,E.y=b,Object(pe.g)("rect",E)}function Lh(t){return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function ac(){return ac=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}function Fg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fg(Object(n),!0).forEach(function(r){h1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zh(t,e){return zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zh(t,e)}function g1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vp(t);if(e){var a=Vp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m1(this,n)}}function m1(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vp(t)}Ya.defaultProps={className:"",radius:""};var Gg,b1=yi(zg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&zh(i,c)})(a,t);var e,n,r=g1(a);function a(){return y1(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,c=i.nodes,v=i.editConfigModel,b=v.hoverOutline,E=v.nodeSelectedOutline,P=[];return c.forEach(function(N){if(N.isHovered||N.isSelected){var L=N.isHovered,U=N.isSelected,J=N.x,oe=N.y,ge=N.width,me=N.height;if(E&&U||b&&L){var xe=N.getOutlineStyle(),Ie={};if(Object.keys(xe).forEach(function(tt){tt!=="hover"&&(Ie[tt]=xe[tt])}),L){var qe=xe.hover;Ie=Wg(Wg({},Ie),qe)}P.push(Object(pe.g)(Ya,ac({transform:N.transform,className:"lf-outline-node",x:J,y:oe,width:ge+10,height:me+10},Ie)))}}}),P}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,c=i.edges,v=i.editConfigModel,b=v.edgeSelectedOutline,E=v.hoverOutline,P=[],N=0;N<c.length;N++){var L=c[N];(b&&L.isSelected||E&&L.isHovered)&&(L.modelType===Kt.LINE_EDGE?P.push(this.getLineOutline(L)):L.modelType===Kt.POLYLINE_EDGE?P.push(this.getPolylineOutline(L)):L.modelType===Kt.BEZIER_EDGE&&P.push(this.getBezierOutline(L)))}return P}},{key:"getLineOutline",value:function(i){var c=i.startPoint,v=i.endPoint,b=(c.x+v.x)/2,E=(c.y+v.y)/2,P=Math.abs(c.x-v.x)+10,N=Math.abs(c.y-v.y)+10,L=i.getOutlineStyle();return Object(pe.g)(Ya,ac({className:"lf-outline-edge",x:b,y:E,width:P,height:N},L))}},{key:"getPolylineOutline",value:function(i){var c=i.points,v=ki(c),b=Ga(v,8),E=b.x,P=b.y,N=b.width,L=b.height,U=i.getOutlineStyle();return Object(pe.g)(Ya,ac({className:"lf-outline",x:E,y:P,width:N,height:L},U))}},{key:"getBezierOutline",value:function(i){var c=i.path,v=qs(c),b=Ga(v,8),E=b.x,P=b.y,N=b.width,L=b.height,U=i.getOutlineStyle();return Object(pe.g)(Ya,ac({className:"lf-outline",x:E,y:P,width:N,height:L},U))}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&v1(e.prototype,n),a}(pe.a))||zg;function Bh(t){return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function _1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Xg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uc(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.r,c=i===void 0?4:i,v=t.className,b={cx:n,cy:a,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(E){var P=_1(E,2),N=P[0],L=P[1];Bh(L)!=="object"&&(b[N]=L)}),b.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(pe.g)("circle",b)}function Fh(t){return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function O1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Hg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Hg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uf(){return uf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uf.apply(this,arguments)}function Ug(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vg(t,e,n){return e&&Yg(t.prototype,e),n&&Yg(t,n),t}function $g(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wh(t,e)}function Wh(t,e){return Wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wh(t,e)}function Kg(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Kp(t);if(e){var a=Kp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w1(this,n)}}function w1(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $p(t)}function $p(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kp(t)}function Gh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qg,Zg=function(t){$g(n,t);var e=Kg(n);function n(){var r;return Ug(this,n),Gh($p(r=e.call(this)),"dragHandler",void 0),Gh($p(r),"onDragging",function(a){var i=a.event,c=r.props,v=c.graphModel,b=c.bezierModel,E=c.type,P=v.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,N=P.x,L=P.y;b.updateAdjustAnchor({x:N,y:L},E),v.eventCenter.emit(pt.EDGE_ADJUST,{data:b.getData()})}),Gh($p(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new wo({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Vg(n,[{key:"render",value:function(){var r=this,a=this.props.position,i=a.x,c=a.y,v=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(pe.g)(uc,uf({className:"lf-bezier-adjust-anchor",x:i,y:c},v,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n}(pe.a),x1=yi(Gg=function(t){$g(n,t);var e=Kg(n);function n(){return Ug(this,n),e.apply(this,arguments)}return Vg(n,[{key:"getBezierAdjust",value:function(r,a){var i=r.path,c=r.id,v=O1(qs(i),4),b=v[0],E=v[1],P=v[2],N=v[3],L=r.getEdgeStyle().adjustLine,U=[];return U.push(Object(pe.g)(ic,uf({x1:b.x,y1:b.y,x2:E.x,y2:E.y},L))),U.push(Object(pe.g)(Zg,{position:E,bezierModel:r,graphModel:a,key:"".concat(c,"_ePre"),type:"sNext"})),U.push(Object(pe.g)(ic,uf({x1:N.x,y1:N.y,x2:P.x,y2:P.y},L))),U.push(Object(pe.g)(Zg,{position:P,bezierModel:r,graphModel:a,key:"".concat(c,"_sNext"),type:"ePre"})),U}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,i=[],c=0;c<a.length;c++){var v=a[c];v.isSelected&&v.modelType===Kt.BEZIER_EDGE&&v.draggable&&i.push(this.getBezierAdjust(v,r))}return i}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(pe.a))||Gg;function Xh(t){return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function E1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hh(t,e){return Hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hh(t,e)}function j1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qp(t);if(e){var a=qp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P1(this,n)}}function P1(t,e){if(e&&(Xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qp(t)}var Jg,M1=yi(qg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Hh(i,c)})(a,t);var e,n,r=j1(a);function a(){return E1(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(pe.g)("g",{transform:i},c))}}])&&S1(e.prototype,n),a}(pe.a))||qg;function Uh(t){return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function Yh(){return Yh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}function A1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vh(t,e){return Vh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vh(t,e)}function T1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zp(t);if(e){var a=Zp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N1(this,n)}}function N1(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zp(t)}var D1=yi(Jg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Vh(i,c)})(a,t);var e,n,r=T1(a);function a(){return A1(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getComponent",value:function(i,c){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,E=b(i.type);return Object(pe.g)(E,{key:i.id,model:i,graphModel:c,overlay:v})}},{key:"render",value:function(){var i=this,c=this.props,v=c.graphModel,b=c.tool,E=c.options,P=c.dnd,N=c.snaplineModel,L={};E.width&&(L.width="".concat(v.width,"px")),E.height&&(L.height="".concat(v.height,"px"));var U=E.grid,J=v.fakerNode,oe=v.editConfigModel.adjustEdge;return Object(pe.g)("div",{className:"lf-graph","flow-id":v.flowId,style:L},Object(pe.g)(H_,{graphModel:v,dnd:P},Object(pe.g)("g",{className:"lf-base"},vs(v.sortElements,function(ge){return i.getComponent(ge,v)})),J?this.getComponent(J,v):""),Object(pe.g)(M1,{graphModel:v},Object(pe.g)(b1,{graphModel:v}),oe?Object(pe.g)(x1,{graphModel:v}):"",E.snapline!==!1?Object(pe.g)(p1,{snaplineModel:N}):""),Object(pe.g)(K_,{graphModel:v,tool:b}),E.background&&Object(pe.g)(e1,{background:E.background}),E.grid&&Object(pe.g)(Cg,Yh({},U,{graphModel:v})))}}],n&&k1(e.prototype,n),a}(pe.a))||Jg,C1=D1;function Qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qg(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ia(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R1=function(){function t(r){var a=this;(function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),ia(this,"nodeConfig",void 0),ia(this,"lf",void 0),ia(this,"fakerNode",void 0),ia(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),ia(this,"dragEnter",function(c){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(Jp(Jp({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),ia(this,"onDragOver",function(c){if(c.preventDefault(),a.fakerNode){var v=a.clientToLocalPoint({x:c.clientX,y:c.clientY}),b=v.x,E=v.y;a.fakerNode.moveTo(b,E);var P=a.fakerNode.getData();a.lf.setNodeSnapLine(P),a.lf.graphModel.eventCenter.emit(pt.NODE_DND_DRAG,{data:P})}return!1}),ia(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),ia(this,"onDrop",function(c){a.lf.graphModel&&c&&a.nodeConfig&&(a.lf.addNode(Jp(Jp({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY})),pt.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)});var i=r.lf;this.lf=i}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,i=r.y,c=xu(this.lf.options,["grid","size"]),v=this.lf.graphModel.getPointByClient({x:a,y:i}).canvasOverlayPosition,b=v.x,E=v.y;return{x:Go(b,c),y:Go(E,c)}}},{key:"startDrag",value:function(r){this.lf.options.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&I1(e.prototype,n),t}();function em(t){var e=t.container,n=t.grid,r=t.width,a=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof a=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=sr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),sr({},nm,t)}var hn,tm,nm={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function $h(t){return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function Kh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return rm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function om(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?om(Object(n),!0).forEach(function(r){im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function z1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sf(){return sf=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=F1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},sf.apply(this,arguments)}function F1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Va(t))!==null;);return t}function qh(t,e){return qh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},qh(t,e)}function W1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Va(t);if(e){var a=Va(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return G1(this,n)}}function G1(t,e){if(e&&($h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ed(t)}function ed(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Va(t){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Va(t)}function im(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pi(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Zh=(hn=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&qh(i,c)})(a,t);var e,n,r=W1(a);function a(){var i;z1(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return im(ed(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.BEZIER_EDGE),L1(ed(i),"path",tm,ed(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=100,sf(Va(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return Qp(Qp({},sf(Va(a.prototype),"getEdgeStyle",this).call(this)),An(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,c=0;return this.pointsList.forEach(function(v){var b=v.x,E=v.y;i+=b,c+=E}),{x:i/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=sf(Va(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Qp(Qp({},i),{},{pointsList:c})}},{key:"getControls",value:function(){var i=this.startPoint,c=this.endPoint;return Ti({start:i,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var c=Kh(i,4),v=c[0],b=c[1],E=c[2],P=c[3];return"M ".concat(v.x," ").concat(v.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(E.x," ").concat(E.y,`,
    `).concat(P.x," ").concat(P.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),c=i.sNext,v=i.ePre;this.updatePath(c,v)}},{key:"updatePath",value:function(i,c){i=An(i),c=An(c);var v={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!i||!c){var E=this.getControls();i=E.sNext,c=E.ePre}this.pointsList=[v,i,c,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c;var v=Kh(this.pointsList,3),b=v[1],E=v[2];b.x+=i,b.y+=c,this.updatePath(b,E)}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c;var v=Kh(this.pointsList,3),b=v[1],E=v[2];E.x+=i,E.y+=c,this.updatePath(b,E)}},{key:"updateAdjustAnchor",value:function(i,c){c==="sNext"?this.pointsList[1]=i:c==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,v=i.endPoint,b=i.sourceNode,E=i.targetNode,P=Ti({start:c,end:v,sourceNode:b,targetNode:E,offset:this.offset}),N=P.sNext,L=P.ePre;this.pointsList=[c,N,L,v],this.initPoints()}}])&&B1(e.prototype,n),a}(Sl),tm=pi(hn.prototype,"path",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pi(hn.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"initPoints"),hn.prototype),pi(hn.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"updatePoints"),hn.prototype),pi(hn.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"updateStartPoint"),hn.prototype),pi(hn.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"updateEndPoint"),hn.prototype),pi(hn.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"moveStartPoint"),hn.prototype),pi(hn.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"moveEndPoint"),hn.prototype),pi(hn.prototype,"updateAdjustAnchor",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"updateAdjustAnchor"),hn.prototype),pi(hn.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"getAdjustStart"),hn.prototype),pi(hn.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"getAdjustEnd"),hn.prototype),pi(hn.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(hn.prototype,"updateAfterAdjustStartAndEnd"),hn.prototype),hn),Ye,am,um,sm,cm,lm,fm,pm,dm,hm,ym,vm,gm,mm,bm,_m,Om,wm,xm,Em,Sm,jm,Pm,X1=function(t){return t==null};function H1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||Mm(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jh(t){return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function Mm(t,e){if(t){if(typeof t=="string")return Am(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Am(t,e):void 0}}function Am(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function km(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?km(Object(n),!0).forEach(function(r){fo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function U1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var aa,Tm,ua=(Ye=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),fo(this,"id",""),rr(this,"type",am,this),rr(this,"x",um,this),rr(this,"y",sm,this),rr(this,"text",cm,this),rr(this,"properties",lm,this),rr(this,"_width",fm,this),rr(this,"_height",pm,this),rr(this,"anchorsOffset",dm,this),rr(this,"isSelected",hm,this),rr(this,"isHovered",ym,this),rr(this,"isShowAnchor",vm,this),rr(this,"isDragging",gm,this),rr(this,"isHitable",mm,this),rr(this,"draggable",bm,this),rr(this,"visible",_m,this),rr(this,"enableRotate",Om,this),fo(this,"virtual",!1),fo(this,"graphModel",void 0),rr(this,"zIndex",wm,this),rr(this,"state",xm,this),rr(this,"autoToFront",Em,this),rr(this,"style",Sm,this),rr(this,"transform",jm,this),rr(this,"_rotate",Pm,this),fo(this,"BaseType",$n.NODE),fo(this,"modelType",Kt.NODE),fo(this,"additionStateData",void 0),fo(this,"targetRules",[]),fo(this,"sourceRules",[]),fo(this,"moveRules",[]),fo(this,"hasSetTargetRules",!1),fo(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var a=this.x,i=a===void 0?0:a,c=this.y,v=c===void 0?0:c;this.transform=new gr(-i,-v).rotate(r).translate(i,v).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||Oo()}this.formatText(r),sr(this,function(v){return ei(v,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Cn.INCREASE&&(this.zIndex=r.zIndex||xl())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,v=this.properties;Object(p.x)(v)&&(v=Object(p.I)(v));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:v};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===Cn.INCREASE&&(b.zIndex=this.zIndex),c&&(b.text={x:a,y:i,value:c}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return eo(eo({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return An(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return An(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return An(a)}},{key:"getAnchorLineStyle",value:function(r){var a=this.graphModel.theme.anchorLine;return An(a)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return An(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,i,c){var v=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,E=!0,P=0;P<v.length;P++){var N=v[P];if(!N.validate.call(this,this,r,a,i,c)){E=!1,b=N.message;break}}return{isAllPass:E,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,i,c){var v=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,E=!0,P=0;P<v.length;P++){var N=v[P];if(!N.validate.call(this,r,this,a,i,c)){E=!1,b=N.message;break}}return{isAllPass:E,msg:b}}},{key:"isAllowMoveNode",value:function(r,a){var i,c=!0,v=!0,b=function(N,L){var U=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!U){if(Array.isArray(N)||(U=Mm(N))||L&&N&&typeof N.length=="number"){U&&(N=U);var J=0,oe=function(){};return{s:oe,n:function(){return J>=N.length?{done:!0}:{done:!1,value:N[J++]}},e:function(Ie){throw Ie},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ge,me=!0,xe=!1;return{s:function(){U=U.call(N)},n:function(){var Ie=U.next();return me=Ie.done,Ie},e:function(Ie){xe=!0,ge=Ie},f:function(){try{me||U.return==null||U.return()}finally{if(xe)throw ge}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(i=b.n()).done;){var E=(0,i.value)(this,r,a);if(!E)return!1;if(Jh(E)==="object"){var P=E;if(P.x===!1&&P.y===!1)return!1;c=c&&P.x,v=v&&P.y}}}catch(N){b.e(N)}finally{b.f()}return{x:c,y:v}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,i=this.x,c=this.y;return r&&r.length>0?r.map(function(v,b){return v.length?(v=v,{id:"".concat(a,"_").concat(b),x:i+v[0],y:c+v[1]}):eo(eo({},v=v),{},{x:i+v.x,y:c+v.y,id:v.id||"".concat(a,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(a,i){for(var c,v=Xs(i),b=Number.MAX_SAFE_INTEGER,E=0;E<v.length;E++){var P=Qn(a.x,a.y,v[E].x,v[E].y);P<b&&(b=P,c={index:E,anchor:Mi(Mi({},v[E]),{},{x:v[E].x,y:v[E].y,id:v[E].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),a=this.x,i=this.y,c=this.rotate;return r.forEach(function(v){var b=v.x,E=v.y,P=H1(new gt([b,E,1]).translate(-a,-i).rotate(c).translate(a,i)[0],2),N=P[0],L=P[1];v.x=N,v.y=L}),r}},{key:"getAnchorInfo",value:function(r){if(!X1(r))for(var a=0;a<this.anchors.length;a++){var i=this.anchors[a];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,v=!1;if(i)c=!0,v=!0;else{var b=this.isAllowMoveNode(r,a);typeof b=="boolean"?(c=b,v=b):(c=b.x,v=b.y)}if(c){var E=this.x+r;this.x=E,this.text&&this.moveText(r,0)}if(v){var P=this.y+a;this.y=P,this.text&&this.moveText(0,a)}return c||v}},{key:"getMoveDistance",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,v=!1,b=0,E=0;if(i)c=!0,v=!0;else{var P=this.isAllowMoveNode(r,a);typeof P=="boolean"?(c=P,v=P):(c=P.x,v=P.y)}if(c&&r){var N=this.x+r;this.x=N,this.text&&this.moveText(r,0),b=r}if(v&&a){var L=this.y+a;this.y=L,this.text&&this.moveText(0,a),E=a}return[b,E]}},{key:"moveTo",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,v=a-this.y;return!(!i&&!this.isAllowMoveNode(c,v)||(this.text&&this.text&&this.moveText(c,v),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var i=this.text,c=i.x,v=i.y,b=i.value,E=i.draggable,P=i.editable;this.text={value:b,editable:P,draggable:E,x:c+r,y:v+a}}},{key:"updateText",value:function(r){this.text=eo(eo({},Object(p.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=eo(eo({},Object(p.I)(this.properties)),{},fo({},r,En(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=eo(eo({},Object(p.I)(this.properties)),En(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=eo(eo({},this.style),{},fo({},r,En(a)))}},{key:"setStyles",value:function(r){this.style=eo(eo({},this.style),En(r))}},{key:"updateStyles",value:function(r){this.style=eo({},En(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){sr(this,r)}}],n&&U1(e.prototype,n),t}(),am=Vt(Ye.prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),um=Vt(Ye.prototype,"x",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sm=Vt(Ye.prototype,"y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cm=Vt(Ye.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),lm=Vt(Ye.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),fm=Vt(Ye.prototype,"_width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),pm=Vt(Ye.prototype,"_height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),dm=Vt(Ye.prototype,"anchorsOffset",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hm=Vt(Ye.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ym=Vt(Ye.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vm=Vt(Ye.prototype,"isShowAnchor",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gm=Vt(Ye.prototype,"isDragging",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mm=Vt(Ye.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bm=Vt(Ye.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_m=Vt(Ye.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Om=Vt(Ye.prototype,"enableRotate",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wm=Vt(Ye.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xm=Vt(Ye.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Em=Vt(Ye.prototype,"autoToFront",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sm=Vt(Ye.prototype,"style",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),jm=Vt(Ye.prototype,"transform",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pm=Vt(Ye.prototype,"_rotate",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vt(Ye.prototype,"incoming",[p.m],Object.getOwnPropertyDescriptor(Ye.prototype,"incoming"),Ye.prototype),Vt(Ye.prototype,"outgoing",[p.m],Object.getOwnPropertyDescriptor(Ye.prototype,"outgoing"),Ye.prototype),Vt(Ye.prototype,"addNodeMoveRules",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"addNodeMoveRules"),Ye.prototype),Vt(Ye.prototype,"move",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"move"),Ye.prototype),Vt(Ye.prototype,"getMoveDistance",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"getMoveDistance"),Ye.prototype),Vt(Ye.prototype,"moveTo",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveTo"),Ye.prototype),Vt(Ye.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveText"),Ye.prototype),Vt(Ye.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateText"),Ye.prototype),Vt(Ye.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setSelected"),Ye.prototype),Vt(Ye.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHovered"),Ye.prototype),Vt(Ye.prototype,"setIsShowAnchor",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setIsShowAnchor"),Ye.prototype),Vt(Ye.prototype,"setEnableRotate",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setEnableRotate"),Ye.prototype),Vt(Ye.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHitable"),Ye.prototype),Vt(Ye.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setElementState"),Ye.prototype),Vt(Ye.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperty"),Ye.prototype),Vt(Ye.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperties"),Ye.prototype),Vt(Ye.prototype,"deleteProperty",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"deleteProperty"),Ye.prototype),Vt(Ye.prototype,"setStyle",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyle"),Ye.prototype),Vt(Ye.prototype,"setStyles",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyles"),Ye.prototype),Vt(Ye.prototype,"updateStyles",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateStyles"),Ye.prototype),Vt(Ye.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setZIndex"),Ye.prototype),Vt(Ye.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAttributes"),Ye.prototype),Ye);function Qh(t){return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function Nm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nm(Object(n),!0).forEach(function(r){Cm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function V1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ey(){return ey=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=K1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ey.apply(this,arguments)}function K1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=sc(t))!==null;);return t}function ty(t,e){return ty=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ty(t,e)}function q1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sc(t);if(e){var a=sc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Z1(this,n)}}function Z1(t,e){if(e&&(Qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return td(t)}function td(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sc(t){return sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sc(t)}function Cm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ny(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Xr,Im,Rm,ry=(aa=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ty(i,c)})(a,t);var e,n,r=q1(a);function a(){var i;V1(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Cm(td(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.CIRCLE_NODE),Y1(td(i),"r",Tm,td(i)),i}return e=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=ey(sc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return Dm(Dm({},i),An(c))}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.r;return[{x:i,y:c-v,id:"".concat(this.id,"_0")},{x:i+v,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+v,id:"".concat(this.id,"_2")},{x:i-v,y:c,id:"".concat(this.id,"_3")}]}}])&&$1(e.prototype,n),a}(ua),Tm=ny(aa.prototype,"r",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ny(aa.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(aa.prototype,"width"),aa.prototype),ny(aa.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(aa.prototype,"height"),aa.prototype),aa);o(129);function oy(t){return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function iy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Lm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Lm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zm(Object(n),!0).forEach(function(r){Wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function J1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ay(){return ay=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=eO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ay.apply(this,arguments)}function eO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=lc(t))!==null;);return t}function uy(t,e){return uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},uy(t,e)}function tO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=lc(t);if(e){var a=lc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nO(this,n)}}function nO(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cc(t)}function cc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lc(t){return lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lc(t)}function Wm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fc(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Di,Gm,Xm,sy=(Xr=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&uy(i,c)})(a,t);var e,n,r=tO(a);function a(){var i;J1(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Wm(cc(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.DIAMOND_NODE),Fm(cc(i),"rx",Im,cc(i)),Fm(cc(i),"ry",Rm,cc(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=ay(lc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return Bm(Bm({},i),An(c))}},{key:"points",get:function(){var i=this.x,c=this.y,v=this.rx,b=this.ry;return[[i,c-b],[i+v,c],[i,c+b],[i-v,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=iy(v,1)[0];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=iy(v,2)[1];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(c,v){var b=iy(c,2);return{x:b[0],y:b[1],id:"".concat(i.id,"_").concat(v)}})}}])&&Q1(e.prototype,n),a}(ua),Im=fc(Xr.prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Rm=fc(Xr.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),fc(Xr.prototype,"points",[p.m],Object.getOwnPropertyDescriptor(Xr.prototype,"points"),Xr.prototype),fc(Xr.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(Xr.prototype,"pointsPosition"),Xr.prototype),fc(Xr.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Xr.prototype,"width"),Xr.prototype),fc(Xr.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Xr.prototype,"height"),Xr.prototype),Xr);function cy(t){return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function Hm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hm(Object(n),!0).forEach(function(r){Vm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ym(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function rO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ly(){return ly=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=iO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ly.apply(this,arguments)}function iO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=dc(t))!==null;);return t}function fy(t,e){return fy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},fy(t,e)}function aO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dc(t);if(e){var a=dc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return uO(this,n)}}function uO(t,e){if(e&&(cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pc(t)}function pc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dc(t){return dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dc(t)}function Vm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nd(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Vo,$m,py=(Di=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&fy(i,c)})(a,t);var e,n,r=aO(a);function a(){var i;rO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Vm(pc(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.ELLIPSE_NODE),Ym(pc(i),"rx",Gm,pc(i)),Ym(pc(i),"ry",Xm,pc(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=ly(dc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return Um(Um({},i),An(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.rx,b=this.ry;return[{x:i,y:c-b,id:"".concat(this.id,"_0")},{x:i+v,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b,id:"".concat(this.id,"_2")},{x:i-v,y:c,id:"".concat(this.id,"_3")}]}}])&&oO(e.prototype,n),a}(ua),Gm=nd(Di.prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Xm=nd(Di.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),nd(Di.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Di.prototype,"width"),Di.prototype),nd(Di.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Di.prototype,"height"),Di.prototype),Di);function dy(t){return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function hy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Km(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Km(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Km(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qm(Object(n),!0).forEach(function(r){Jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function cO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yy(){return yy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=fO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},yy.apply(this,arguments)}function fO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hc(t))!==null;);return t}function vy(t,e){return vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vy(t,e)}function pO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hc(t);if(e){var a=hc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dO(this,n)}}function dO(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rd(t)}function rd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hc(t){return hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hc(t)}function Jm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function od(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var gy,Qm,my=(Vo=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&vy(i,c)})(a,t);var e,n,r=pO(a);function a(){var i;cO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Jm(rd(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYGON_NODE),sO(rd(i),"points",$m,rd(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=yy(hc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return Zm(Zm({},i),An(c))}},{key:"pointsPosition",get:function(){var i=this.x,c=this.y,v=this.width,b=this.height;return this.points.map(function(E){return{x:E[0]+i-v/2,y:E[1]+c-b/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=hy(v,1)[0];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=hy(v,2)[1];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this,c=this.x,v=this.y,b=this.width,E=this.height;return this.points.map(function(P,N){var L=hy(P,2),U=L[0],J=L[1];return{x:c+U-b/2,y:v+J-E/2,id:"".concat(i.id,"_").concat(N)}})}}])&&lO(e.prototype,n),a}(ua),$m=od(Vo.prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),od(Vo.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(Vo.prototype,"pointsPosition"),Vo.prototype),od(Vo.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Vo.prototype,"width"),Vo.prototype),od(Vo.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Vo.prototype,"height"),Vo.prototype),Vo);function by(t){return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function e0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function t0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e0(Object(n),!0).forEach(function(r){n0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hO(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _y(){return _y=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=gO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},_y.apply(this,arguments)}function gO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=yc(t))!==null;);return t}function Oy(t,e){return Oy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Oy(t,e)}function mO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=yc(t);if(e){var a=yc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bO(this,n)}}function bO(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return id(t)}function id(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yc(t){return yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yc(t)}function n0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $a,wy=(gy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Oy(i,c)})(a,t);var e,n,r=mO(a);function a(){var i;yO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return n0(id(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.RECT_NODE),hO(id(i),"radius",Qm,id(i)),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.width,b=this.height;return[{x:i,y:c-b/2,id:"".concat(this.id,"_0")},{x:i+v/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b/2,id:"".concat(this.id,"_2")},{x:i-v/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=_y(yc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return t0(t0({},i),An(c))}}])&&vO(e.prototype,n),a}(ua),Qm=function(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(gy.prototype,"radius",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gy);function xy(t){return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function r0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function o0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r0(Object(n),!0).forEach(function(r){a0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ey(){return Ey=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=wO(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Ey.apply(this,arguments)}function wO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=vc(t))!==null;);return t}function Sy(t,e){return Sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sy(t,e)}function xO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vc(t);if(e){var a=vc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return EO(this,n)}}function EO(t,e){if(e&&(xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i0(t)}function i0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vc(t){return vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vc(t)}function a0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u0(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var jy=($a=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sy(i,c)})(a,t);var e,n,r=xO(a);function a(){var i;_O(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return a0(i0(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.TEXT_NODE),i}return e=a,(n=[{key:"getTextStyle",value:function(){var i=Ey(vc(a.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return o0(o0({},i),An(c))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return wl({rows:i,fontSize:c,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return wl({rows:i,fontSize:c,rowsLength:i.length}).height}}])&&OO(e.prototype,n),a}(ua),u0($a.prototype,"width",[p.m],Object.getOwnPropertyDescriptor($a.prototype,"width"),$a.prototype),u0($a.prototype,"height",[p.m],Object.getOwnPropertyDescriptor($a.prototype,"height"),$a.prototype),$a);function Py(t){return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function SO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function My(t,e){return My=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},My(t,e)}function PO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ad(t);if(e){var a=ad(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return MO(this,n)}}function MO(t,e){if(e&&(Py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s0(t)}function s0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ad(t)}function AO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var di,c0,l0,f0,Ay=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&My(i,c)})(a,t);var e,n,r=PO(a);function a(){var i;SO(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return AO(s0(i=r.call.apply(r,[this].concat(v))),"modelType",Kt.HTML_NODE),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,v=this.width,b=this.height;return[{x:i,y:c-b/2,id:"".concat(this.id,"_0")},{x:i+v/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b/2,id:"".concat(this.id,"_2")},{x:i-v/2,y:c,id:"".concat(this.id,"_3")}]}}])&&jO(e.prototype,n),a}(ua);function p0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ky(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cf(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,v){return v(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var h0=(di=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),d0(this,"graphModel",void 0),ky(this,"isShowHorizontal",c0,this),ky(this,"isShowVertical",l0,this),ky(this,"position",f0,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?p0(Object(i),!0).forEach(function(c){d0(r,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):p0(Object(i)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(i,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var i=r.x,c=r.y,v=!1,b=!1,E=0;E<a.length;E++){var P=a[E];if(P.id!==r.id&&(i===P.x&&(v=!0),c===P.y&&(b=!0),v&&b))break}return{isShowVertical:v,isShowHorizontal:b,position:{x:i,y:c}}}},{key:"getHorizontalSnapline",value:function(r,a){var i,c,v=!1,b=r.id;if(b){var E=this.graphModel.fakerNode;if(E&&E.id===b)c=Zr(E);else{var P=this.graphModel.getNodeModelById(b);c=Zr(P)}}for(var N=0;N<a.length;N++){var L=a[N];if(L.id!==r.id){var U=Zr(L);if(U.minY===c.minY||U.maxY===c.minY){v=!0,i=c.minY;break}if(U.minY===c.maxY||U.maxY===c.maxY){v=!0,i=c.maxY;break}}}return sr({isShowHorizontal:v,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,a){var i,c,v=!1,b=r.id;if(b){var E=this.graphModel.fakerNode;if(E&&E.id===b)c=Zr(E);else{var P=this.graphModel.getNodeModelById(b);c=Zr(P)}}for(var N=0;N<a.length;N++){var L=a[N];if(L.id!==r.id){var U=Zr(L);if(U.minX===c.minX||U.maxX===c.minX){v=!0,i=c.minX;break}if(U.minX===c.maxX||U.maxX===c.maxX){v=!0,i=c.maxX;break}}}return sr({isShowVertical:v,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,a){var i=this.getCenterSnapLine(r,a),c=i.isShowHorizontal,v=i.isShowVertical;if(!c){var b=this.getHorizontalSnapline(r,a);b.isShowHorizontal&&(i.isShowHorizontal=b.isShowHorizontal,i.position.y=b.position.y)}if(!v){var E=this.getVerticalSnapline(r,a);E.isShowVertical&&(i.isShowVertical=E.isShowVertical,i.position.x=E.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,i=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=a,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,i=this.getSnapLinePosition(r,a);this.setSnaplineInfo(i)}}],n&&kO(e.prototype,n),t}(),c0=cf(di.prototype,"isShowHorizontal",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l0=cf(di.prototype,"isShowVertical",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f0=cf(di.prototype,"position",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cf(di.prototype,"clearSnapline",[p.k],Object.getOwnPropertyDescriptor(di.prototype,"clearSnapline"),di.prototype),cf(di.prototype,"setNodeSnapLine",[p.k],Object.getOwnPropertyDescriptor(di.prototype,"setNodeSnapLine"),di.prototype),di),lf=new Map,y0=function(t){var e=Oo(),n=window.requestAnimationFrame(function r(){if(t(),lf.get(e)){var a=window.requestAnimationFrame(r);lf.set(e,a)}});return lf.set(e,n),e},ud=function(t){var e=lf.get(t);e&&(window.cancelAnimationFrame(e),lf.delete(t))};function Ty(t){return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function ff(){return ff=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}function v0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v0(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return g0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ny(t,e){return Ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ny(t,e)}function DO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sd(t);if(e){var a=sd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return CO(this,n)}}function CO(t,e){if(e&&(Ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(t)}function Ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sd(t)}function Ii(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var IO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ny(i,c)})(a,t);var e,n,r=DO(a);function a(){var i;return function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}(this,a),Ii(Ci(i=r.call(this)),"preTargetNode",void 0),Ii(Ci(i),"sourceRuleResults",void 0),Ii(Ci(i),"targetRuleResults",void 0),Ii(Ci(i),"dragHandler",void 0),Ii(Ci(i),"t",void 0),Ii(Ci(i),"onDragStart",function(c){var v=c.event,b=i.props,E=b.anchorData,P=b.nodeModel,N=b.graphModel;N.overlapMode,N.selectNodeById(P.id),P.autoToFront&&N.toFront(P.id),N.eventCenter.emit(pt.ANCHOR_DRAGSTART,{data:E,e:v,nodeModel:P}),i.setState({startX:E.x,startY:E.y,endX:E.x,endY:E.y})}),Ii(Ci(i),"onDragging",function(c){var v=c.event,b=i.props,E=b.graphModel,P=b.nodeModel,N=b.anchorData,L=E.transformModel,U=E.eventCenter,J=E.width,oe=E.height,ge=E.editConfigModel,me=ge.autoExpand,xe=ge.stopMoveGraph,Ie=v.clientX,qe=v.clientY,tt=E.getPointByClient({x:Ie,y:qe}),Ot=tt.domOverlayPosition,Je=Ot.x,dt=Ot.y,nt=tt.canvasOverlayPosition,Jt=nt.x,nn=nt.y;i.t&&ud(i.t);var Ct=[];Je<10?Ct=[10,0]:Je+10>J?Ct=[-10,0]:dt<10?Ct=[0,10]:dt+10>oe&&(Ct=[0,-10]),i.setState({endX:Jt,endY:nn,dragging:!0}),i.moveAnchorEnd(Jt,nn),Ct.length>0&&!xe&&me&&(i.t=y0(function(){var un=TO(Ct,2),Kn=un[0],qn=un[1];L.translate(Kn,qn);var Cr=i.state,Po=Cr.endX,Mo=Cr.endY;i.setState({endX:Po-Kn,endY:Mo-qn}),i.moveAnchorEnd(Po-Kn,Mo-qn)})),U.emit(pt.ANCHOR_DRAG,{data:N,e:v,nodeModel:P})}),Ii(Ci(i),"onDragEnd",function(c){var v=c.event;i.t&&ud(i.t);var b=i.checkEnd(v);i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var E=i.props,P=E.graphModel,N=E.nodeModel,L=E.anchorData;P.eventCenter.emit(pt.ANCHOR_DRAGEND,{data:L,e:v,nodeModel:N,edgeModel:b})}),Ii(Ci(i),"checkEnd",function(c){var v=i.props,b=v.graphModel,E=v.nodeModel,P=v.anchorData,N=P.x,L=P.y,U=P.id,J=(b.edgeType,i.state),oe=J.endX,ge=J.endY,me=J.dragging,xe=qi({x:oe,y:ge},b);if(i.preTargetNode&&i.preTargetNode.state!==fn.DEFAULT&&i.preTargetNode.setElementState(fn.DEFAULT),me&&xe&&xe.node){var Ie=xe.node,qe=xe.anchor.id,tt="".concat(E.id,"_").concat(Ie.id,"_").concat(qe,"_").concat(U),Ot=i.sourceRuleResults.get(tt)||{},Je=Ot.isAllPass,dt=Ot.msg,nt=i.targetRuleResults.get(tt)||{},Jt=nt.isAllPass,nn=nt.msg;if(Je&&Jt){Ie.setElementState(fn.DEFAULT);var Ct=b.edgeGenerator(E.getData(),b.getNodeModelById(xe.node.id).getData()),un=b.addEdge(pf(pf({},Ct),{},{sourceNodeId:E.id,sourceAnchorId:U,startPoint:{x:N,y:L},targetNodeId:xe.node.id,targetAnchorId:xe.anchor.id,endPoint:{x:xe.anchor.x,y:xe.anchor.y}})),Kn=i.props.anchorData;return b.eventCenter.emit(pt.ANCHOR_DROP,{data:Kn,e:c,nodeModel:E,edgeModel:un}),un}var qn=Ie.getData();return b.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:qn,msg:nn||dt}),null}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new wo({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return e=a,(n=[{key:"getAnchorShape",value:function(){var i=this.props,c=i.anchorData,v=i.style,b=i.node.getAnchorShape(c);if(b)return b;var E=c.x,P=c.y,N=pf(pf({},v),v.hover);return Object(pe.g)("g",null,Object(pe.g)(uc,ff({className:"lf-node-anchor-hover"},N,{x:E,y:P})),Object(pe.g)(uc,ff({className:"lf-node-anchor"},v,{x:E,y:P})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"moveAnchorEnd",value:function(i,c){var v=this.props,b=v.graphModel,E=v.nodeModel,P=v.anchorData,N=qi({x:i,y:c},b);if(N){var L=N.node,U=N.anchor.id;if(this.preTargetNode&&this.preTargetNode!==N.node&&this.preTargetNode.setElementState(fn.DEFAULT),P.id===U)return;this.preTargetNode=L;var J="".concat(E.id,"_").concat(L.id,"_").concat(U,"_").concat(P.id);if(!this.targetRuleResults.has(J)){var oe=N.anchor,ge=E.isAllowConnectedAsSource(L,P,oe),me=L.isAllowConnectedAsTarget(E,P,oe);this.sourceRuleResults.set(J,Du(ge)),this.targetRuleResults.set(J,Du(me))}var xe=this.sourceRuleResults.get(J).isAllPass,Ie=this.targetRuleResults.get(J).isAllPass;xe&&Ie?L.setElementState(fn.ALLOW_CONNECT):L.setElementState(fn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==fn.DEFAULT&&this.preTargetNode.setElementState(fn.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,c=i.startX,v=i.startY,b=i.endX,E=i.endY;return Qn(c,v,b,E)>10}},{key:"render",value:function(){var i=this,c=this.state,v=c.startX,b=c.startY,E=c.endX,P=c.endY,N=this.props,L=N.anchorData.edgeAddable,U=N.edgeStyle;return Object(pe.g)("g",{className:"lf-anchor"},Object(pe.g)("g",{onMouseDown:function(J){L!==!1&&i.dragHandler.handleMouseDown(J)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(pf({sourcePoint:{x:v,y:b},targetPoint:{x:E,y:P}},U)):Object(pe.g)(ic,ff({x1:v,y1:b,x2:E,y2:P},U,{"pointer-events":"none"}))))}}])&&NO(e.prototype,n),a}(pe.a);function m0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function RO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m0(Object(n),!0).forEach(function(r){LO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dy(t){return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function zO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return b0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _0(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.value,c=t.fontSize,v=t.fill,b=v===void 0?"currentColor":v,E=t.overflowMode,P=E===void 0?"default":E,N=t.textWidth,L=N===void 0?"":N,U=t.model,J={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:b};if(Object.entries(t).forEach(function(qe){var tt=zO(qe,2),Ot=tt[0],Je=tt[1];Dy(Je)!=="object"&&(J[Ot]=Je)}),i){var oe=String(i).split(/[\r\n]/g),ge=oe.length;if(P!=="default"){var me=U.BaseType,xe=U.modelType;if(me===$n.NODE&&xe!==Kt.TEXT_NODE||me===$n.EDGE&&L)return function(qe){var tt=qe.value,Ot=qe.fontSize,Je=qe.model,dt=qe.fontFamily,nt=dt===void 0?"":dt,Jt=qe.lineHeight,nn=qe.wrapPadding,Ct=nn===void 0?"0, 0":nn,un=qe.overflowMode,Kn=qe.x,qn=qe.y,Cr=Je.width,Po=Je.textHeight,Mo=qe.textWidth||Cr,zi=String(tt).split(/[\r\n]/g),Qu=zi.length,Dd=mp({rows:zi,style:{fontSize:"".concat(Ot,"px"),width:"".concat(Mo,"px"),fontFamily:nt,lineHeight:Jt,padding:Ct},rowsLength:Qu,className:"lf-get-text-height"}),es=Je.height>Dd?Je.height:Dd;Po&&(es=Po);var Za=un==="ellipsis";return Za&&(es=Ot+2),Object(pe.g)("g",null,Object(pe.g)("foreignObject",{width:Mo,height:es,x:Kn-Mo/2,y:qn-es/2},Object(pe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:es,width:Mo,padding:Ct}},Object(pe.g)("div",{className:Za?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Za?zi.join(""):"",style:RO({},qe)},zi.map(function(Ja){return Object(pe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Ja)})))))}(t)}if(ge>1){var Ie=oe.map(function(qe,tt){var Ot=(tt-(ge-1)/2)*(c+2);return Object(pe.g)("tspan",{className:"lf-text-tspan",x:n,y:a+Ot},qe)});return Object(pe.g)("text",J,Ie)}return Object(pe.g)("text",J,i)}}function Cy(t){return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function Iy(){return Iy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(this,arguments)}function BO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return O0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ry(t,e){return Ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ry(t,e)}function WO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cd(t);if(e){var a=cd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return GO(this,n)}}function GO(t,e){if(e&&(Cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ka(t)}function Ka(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cd(t)}function Ku(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w0=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ry(i,c)})(a,t);var e,n,r=WO(a);function a(i){var c;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,a),Ku(Ka(c=r.call(this)),"dragHandler",void 0),Ku(Ka(c),"sumDeltaX",0),Ku(Ka(c),"sumDeltaY",0),Ku(Ka(c),"stepDrag",void 0),Ku(Ka(c),"onDragging",function(b){var E=b.deltaX,P=b.deltaY,N=c.props,L=N.model,U=BO(N.graphModel.transformModel.fixDeltaXY(E,P),2),J=U[0],oe=U[1];L.moveText(J,oe)}),Ku(Ka(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(fn.TEXT_EDIT)}),Ku(Ka(c),"mouseDownHandle",function(b){var E=c.props,P=E.draggable,N=E.model,L=E.graphModel.editConfigModel.nodeTextDraggable;(P||L)&&(c.stepDrag.model=N,c.stepDrag.handleMouseDown(b))}),i.model;var v=i.draggable;return c.stepDrag=new wo({onDragging:c.onDragging,step:1,isStopPropagation:v}),c}return e=a,(n=[{key:"getShape",value:function(){var i=this.props,c=i.model,v=i.graphModel,b=c.text,E=v.editConfigModel,P=b.value,N=b.x,L=b.y,U=b.editable,J=b.draggable,oe={x:N,y:L,className:"",value:P};U?oe.className="lf-element-text":J||E.nodeTextDraggable?oe.className="lf-text-draggable":oe.className="lf-text-disabled";var ge=c.getTextStyle();return Object(pe.g)(_0,Iy({},oe,ge,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(pe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&FO(e.prototype,n),a}(pe.a),XO=window.navigator.userAgent.match(/MSIE|Trident/)!==null,x0=o(130);function Ly(t){return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function zy(){return zy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function By(t,e){return By=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},By(t,e)}function UO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ld(t);if(e){var a=ld(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return YO(this,n)}}function YO(t,e){if(e&&(Ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gc(t)}function gc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ld(t){return ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ld(t)}function df(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&By(i,c)})(a,t);var e,n,r=UO(a);function a(i){var c;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),df(gc(c=r.call(this,i)),"style",{}),df(gc(c),"defaultAngle",void 0),df(gc(c),"normal",void 0),df(gc(c),"stepperDrag",void 0),df(gc(c),"onDragging",function(v){var b,E=v.event,P=c.props,N=P.graphModel,L=P.nodeModel,U=P.eventCenter,J=N.selectNodes,oe=L.x,ge=L.y,me=E.clientX,xe=E.clientY,Ie=N.getPointByClient({x:me,y:xe}).canvasOverlayPosition,qe=Ie.x,tt=Ie.y,Ot=new hr(qe-oe,tt-ge),Je=((b=c.normal)===null||b===void 0?void 0:b.angle(Ot))-c.defaultAngle,dt=new gr(-oe,-ge).rotate(Je).translate(oe,ge).toString();L.transform=dt,L.rotate=Je;var nt=Object(x0.map)(J,function(nn){return nn.id});nt.indexOf(L.id)===-1&&(nt=[L.id]);var Jt=Object(x0.reduce)(nt,function(nn,Ct){var un=N.getNodeModelById(Ct);return nn[Ct]=un==null?void 0:un.getMoveDistance(0,0,!1),nn},{});nt.forEach(function(nn){N.getNodeEdges(nn).forEach(function(Ct){if(Jt[Ct.sourceNodeId]){var un=N.getNodeModelById(Ct.sourceNodeId).anchors.find(function(qn){return qn.id===Ct.sourceAnchorId});Ct.updateStartPoint(un)}if(Jt[Ct.targetNodeId]){var Kn=N.getNodeModelById(Ct.targetNodeId).anchors.find(function(qn){return qn.id===Ct.targetAnchorId});Ct.updateEndPoint(Kn)}})}),U.emit(pt.NODE_ROTATE,{e:E,nodeModel:L})}),c.style=i.style,c.stepperDrag=new wo({onDragging:c.onDragging}),c}return e=a,(n=[{key:"render",value:function(){var i=this,c=this.props.nodeModel,v=c.x,b=c.y,E=v+c.width/2+20,P=b-c.height/2-20;return this.normal=new hr(1,0),this.defaultAngle=this.normal.angle(new hr(E-v,P-b)),c.defaultAngle=this.defaultAngle,Object(pe.g)("g",{className:"lf-rotate-control"},Object(pe.g)("g",{onMouseDown:function(N){i.stepperDrag.handleMouseDown(N)}},Object(pe.g)(uc,zy({},this.style,{cx:E,cy:P}))))}}])&&HO(e.prototype,n),a}(pe.a);function Fy(t){return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}var $O=["className"];function fd(){return fd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}function KO(t,e){if(t==null)return{};var n,r,a=function(c,v){if(c==null)return{};var b,E,P={},N=Object.keys(c);for(E=0;E<N.length;E++)b=N[E],v.indexOf(b)>=0||(P[b]=c[b]);return P}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function pd(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return E0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wy(t,e){return Wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wy(t,e)}function qO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dd(t);if(e){var a=dd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(t,e){if(e&&(Fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dr(t)}function Dr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(t)}function Hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sa=function(t){(function(c,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(v&&v.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),v&&Wy(c,v)})(i,t);var e,n,r,a=qO(i);function i(c){var v;(function(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")})(this,i),Hr(Dr(v=a.call(this)),"t",void 0),Hr(Dr(v),"moveOffset",void 0),Hr(Dr(v),"stepDrag",void 0),Hr(Dr(v),"contextMenuTime",void 0),Hr(Dr(v),"startTime",void 0),Hr(Dr(v),"clickTimer",void 0),Hr(Dr(v),"modelDisposer",void 0),Hr(Dr(v),"onDragStart",function(L){var U=L.event,J=U.clientX,oe=U.clientY,ge=v.props,me=ge.model,xe=ge.graphModel.getPointByClient({x:J,y:oe}).canvasOverlayPosition,Ie=xe.x,qe=xe.y;v.moveOffset={x:me.x-Ie,y:me.y-qe}}),Hr(Dr(v),"onDragging",function(L){var U=L.event,J=v.props,oe=J.model,ge=J.graphModel,me=ge.editConfigModel,xe=me.stopMoveGraph,Ie=me.autoExpand,qe=ge.transformModel,tt=ge.selectNodes,Ot=ge.width,Je=ge.height,dt=ge.gridSize;oe.isDragging=!0;var nt=U.clientX,Jt=U.clientY,nn=ge.getPointByClient({x:nt,y:Jt}).canvasOverlayPosition,Ct=nn.x,un=nn.y,Kn=pd(qe.CanvasPointToHtmlPoint([Ct,un]),2),qn=Kn[0],Cr=Kn[1];if(Ct+=v.moveOffset.x,un+=v.moveOffset.y,Ct=Go(Ct,dt),un=Go(un,dt),Ot&&Je){if(!Ie||xe||!(qn<0||Cr<0||qn>Ot||Cr>Je)){var Po=pd(qe.CanvasPointToHtmlPoint([Ct-oe.width/2,un-oe.height/2]),2),Mo=Po[0],zi=Po[1],Qu=pd(qe.CanvasPointToHtmlPoint([Ct+oe.width/2,un+oe.height/2]),2),Dd=Qu[0],es=Qu[1],Za=Math.max(dt,20),Ja=[];Mo<0?Ja=[Za,0]:Dd>ge.width?Ja=[-Za,0]:zi<0?Ja=[0,Za]:es>ge.height&&(Ja=[0,-Za]),v.t&&ud(v.t);var Gx=new gr(-Ct,-un).rotate(oe.rotate).translate(Ct,un).toString();oe.transform=Gx;var Cd=tt.map(function(Id){return Id.id});Cd.indexOf(oe.id)===-1&&(Cd=[oe.id]),Ja.length>0&&!xe&&Ie?v.t=y0(function(){var Id=pd(Ja,2),ab=Id[0],ub=Id[1];qe.translate(ab,ub);var Xx=-ab/qe.SCALE_X,Hx=-ub/qe.SCALE_X;ge.moveNodes(Cd,Xx,Hx)}):ge.moveNodes(Cd,Ct-oe.x,un-oe.y)}}else ge.moveNode2Coordinate(oe.id,Ct,un)}),Hr(Dr(v),"onDragEnd",function(){v.t&&ud(v.t),v.props.model.isDragging=!1}),Hr(Dr(v),"handleClick",function(L){if(v.startTime&&!(new Date().getTime()-v.startTime>200)){var U=v.props,J=U.model,oe=U.graphModel,ge={data:J.getData(),e:L,position:oe.getPointByClient({x:L.clientX,y:L.clientY}),isSelected:!1,isMultiple:!1},me=L.button===2,xe=L.detail===2;if(!me){var Ie=oe.editConfigModel,qe=Xo(L,Ie);ge.isMultiple=qe,J.isSelected&&!xe&&qe?(ge.isSelected=!1,J.setSelected(!1)):(oe.selectNodeById(J.id,qe),ge.isSelected=!0,v.toFront()),xe?(Ie.nodeTextEdit&&J.text.editable&&(J.setSelected(!1),oe.setElementStateById(J.id,fn.TEXT_EDIT)),oe.eventCenter.emit(pt.NODE_DBCLICK,ge)):(oe.eventCenter.emit(pt.ELEMENT_CLICK,ge),oe.eventCenter.emit(pt.NODE_CLICK,ge))}}}),Hr(Dr(v),"handleContextMenu",function(L){L.preventDefault();var U=v.props,J=U.model,oe=U.graphModel,ge=J.getData(),me=oe.getPointByClient({x:L.clientX,y:L.clientY});oe.setElementStateById(J.id,fn.SHOW_MENU,me.domOverlayPosition),J.isSelected||oe.selectNodeById(J.id),oe.eventCenter.emit(pt.NODE_CONTEXTMENU,{data:ge,e:L,position:me}),v.toFront()}),Hr(Dr(v),"handleMouseDown",function(L){var U=v.props,J=U.model,oe=U.graphModel;v.startTime=new Date().getTime(),oe.editConfigModel.adjustNodePosition&&J.draggable&&v.stepDrag&&v.stepDrag.handleMouseDown(L)}),Hr(Dr(v),"setHoverON",function(L){var U=v.props,J=U.model,oe=U.graphModel;if(!J.isHovered){var ge=J.getData();J.setHovered(!0),oe.eventCenter.emit(pt.NODE_MOUSEENTER,{data:ge,e:L})}}),Hr(Dr(v),"setHoverOFF",function(L){var U=v.props,J=U.model,oe=U.graphModel,ge=J.getData();J.isHovered&&(J.setHovered(!1),oe.eventCenter.emit(pt.NODE_MOUSELEAVE,{data:ge,e:L}))}),Hr(Dr(v),"onMouseOut",function(L){XO&&v.setHoverOFF(L)});var b=c.graphModel,E=b.gridSize,P=b.eventCenter,N=c.model;return v.stepDrag=new wo({onDragStart:v.onDragStart,onDragging:v.onDragging,onDragEnd:v.onDragEnd,step:E,eventType:"NODE",isStopPropagation:!1,eventCenter:P,model:N}),v.modelDisposer=Object(p.F)(function(){return v.props},function(L){L&&L.model&&v.stepDrag.setModel(L.model)}),v}return e=i,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,v=this.props,b=v.model,E=v.graphModel,P=b.isSelected,N=b.isHitable,L=b.isDragging,U=b.isShowAnchor;return N&&(P||U)&&!L?vs(b.anchors,function(J,oe){var ge=b.getAnchorLineStyle(J),me=b.getAnchorStyle(J);return Object(pe.g)(IO,{anchorData:J,node:c,style:me,edgeStyle:ge,anchorIndex:oe,nodeModel:b,graphModel:E,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,v=c.model,b=c.graphModel,E=v.isSelected,P=v.isHitable,N=v.enableRotate,L=v.isHovered,U=v.getRotateControlStyle().style;if(P&&(E||L)&&N)return Object(pe.g)(VO,{graphModel:b,nodeModel:v,eventCenter:b.eventCenter,style:U})}},{key:"getText",value:function(){var c=this.props,v=c.model,b=c.graphModel;if(v.state===fn.TEXT_EDIT)return"";if(v.text){var E=b.editConfigModel,P=!1;return(v.text.draggable||E.nodeTextDraggable)&&(P=!0),Object(pe.g)(w0,{editable:E.nodeTextEdit&&v.text.editable,model:v,graphModel:b,draggable:P})}}},{key:"getStateClassName",value:function(){var c=this.props.model,v=c.state,b=c.isDragging,E=c.isSelected,P="lf-node";switch(v){case fn.ALLOW_CONNECT:P+=" lf-node-allow";break;case fn.NOT_ALLOW_CONNECT:P+=" lf-node-not-allow";break;default:P+=" lf-node-default"}return b&&(P+=" lf-isDragging"),E&&(P+=" lf-node-selected"),P}},{key:"toFront",value:function(){var c=this.props,v=c.model,b=c.graphModel;v.autoToFront&&b.toFront(v.id)}},{key:"render",value:function(){var c,v=this.props,b=v.model,E=v.graphModel,P=E.editConfigModel,N=P.hideAnchors,L=P.adjustNodePosition,U=P.allowRotation,J=E.gridSize,oe=E.transformModel.SCALE_X,ge=b.isHitable,me=b.draggable,xe=b.transform,Ie=b.getOuterGAttributes(),qe=Ie.className,tt=qe===void 0?"":qe,Ot=KO(Ie,$O),Je=Object(pe.g)("g",{className:"lf-node-content"},Object(pe.g)("g",{transform:xe},this.getShape(),this.getText(),U&&this.getRotateControl()),!N&&this.getAnchors());return ge?(L&&me&&this.stepDrag.setStep(J*oe),c=Object(pe.g)("g",fd({className:"".concat(this.getStateClassName()," ").concat(tt),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Ot),Je)):c=Object(pe.g)("g",fd({className:"".concat(this.getStateClassName()," ").concat(tt)},Ot),Je),c}}])&&S0(e.prototype,n),r&&S0(e,r),i}(pe.a);function Gy(t){return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function Xy(){return Xy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xy.apply(this,arguments)}function JO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e){return Hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hy(t,e)}function ew(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hd(t);if(e){var a=hd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tw(this,n)}}function tw(t,e){if(e&&(Gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hd(t)}var Uy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Hy(i,c)})(a,t);var e,n,r=ew(a);function a(){return JO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(pe.g)(Ya,Xy({},c,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&QO(e.prototype,n),a}(sa);function Yy(t){return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function Vy(){return Vy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(this,arguments)}function nw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $y(t,e){return $y=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$y(t,e)}function ow(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=yd(t);if(e){var a=yd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return iw(this,n)}}function iw(t,e){if(e&&(Yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yd(t)}var Ky=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&$y(i,c)})(a,t);var e,n,r=ow(a);function a(){return nw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,v=i.y,b=i.r,E=i.getNodeStyle();return Object(pe.g)(uc,Vy({},E,{x:c,y:v,r:b}))}}])&&rw(e.prototype,n),a}(sa);function qy(t){return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function aw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return j0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return j0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P0(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(a){var i=aw(a,2),c=i[0],v=i[1];qy(v)!=="object"&&(r[c]=v)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(a){return a.join(",")}).join(" "),Object(pe.g)("polygon",r)}function Zy(t){return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function Jy(){return Jy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jy.apply(this,arguments)}function uw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qy(t,e){return Qy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qy(t,e)}function cw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vd(t);if(e){var a=vd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lw(this,n)}}function lw(t,e){if(e&&(Zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vd(t)}var ev=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Qy(i,c)})(a,t);var e,n,r=cw(a);function a(){return uw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,v=i.y,b=i.width,E=i.height,P=i.points,N=i.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(c-b/2," ").concat(v-E/2,")")};return Object(pe.g)("g",L,Object(pe.g)(P0,Jy({},N,{points:P,x:c,y:v})))}}])&&sw(e.prototype,n),a}(sa);function tv(t){return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function nv(){return nv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(this,arguments)}function fw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rv(t,e){return rv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},rv(t,e)}function dw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gd(t);if(e){var a=gd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return hw(this,n)}}function hw(t,e){if(e&&(tv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gd(t)}var ov=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&rv(i,c)})(a,t);var e,n,r=dw(a);function a(){return fw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(pe.g)("g",null,Object(pe.g)(P0,nv({},c,{points:i.points,x:i.x,y:i.y})))}}])&&pw(e.prototype,n),a}(sa);function iv(t){return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}function yw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return M0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return M0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vw(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.rx,c=i===void 0?4:i,v=t.ry,b=v===void 0?4:v,E=t.className,P={cx:n,cy:a,rx:c,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(N){var L=yw(N,2),U=L[0],J=L[1];iv(J)!=="object"&&(P[U]=J)}),P.className=E?"lf-basic-shape ".concat(E):"lf-basic-shape",Object(pe.g)("ellipse",P)}function av(t){return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function uv(){return uv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}function gw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sv(t,e){return sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sv(t,e)}function bw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=md(t);if(e){var a=md(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _w(this,n)}}function _w(t,e){if(e&&(av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},md(t)}var cv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&sv(i,c)})(a,t);var e,n,r=bw(a);function a(){return gw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(pe.g)(vw,uv({},c,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&mw(e.prototype,n),a}(sa);function lv(t){return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function A0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function k0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A0(Object(n),!0).forEach(function(r){Ow(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ow(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ww(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fv(t,e){return fv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},fv(t,e)}function Ew(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=bd(t);if(e){var a=bd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Sw(this,n)}}function Sw(t,e){if(e&&(lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bd(t)}var pv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&fv(i,c)})(a,t);var e,n,r=Ew(a);function a(){return ww(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),v=i.width,b=i.height,E=i.x,P=i.y,N=k0(k0({},c.background),{},{x:E,y:P-1,width:v,height:b});return Object(pe.g)(Ya,N)}},{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getBackground())}}])&&xw(e.prototype,n),a}(sa);function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function hv(){return hv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function jw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yv(t,e){return yv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yv(t,e)}function Mw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_d(t);if(e){var a=_d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Aw(this,n)}}function Aw(t,e){if(e&&(dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hf(t)}function hf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_d(t)}function Od(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&yv(i,c)})(a,t);var e,n,r=Mw(a);function a(){var i;jw(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Od(hf(i=r.call.apply(r,[this].concat(v))),"ref",void 0),Od(hf(i),"currentProperties",void 0),Od(hf(i),"preProperties",void 0),Od(hf(i),"setRef",function(E){i.ref=E}),i}return e=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,c=i.x,v=i.y,b=i.height,E=i.width,P=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(pe.g)("foreignObject",hv({},P,{x:c-E/2,y:v-b/2,width:E,height:b,ref:this.setRef}))}}])&&Pw(e.prototype,n),a}(sa);function gv(t){return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function mv(){return mv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function T0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T0(Object(n),!0).forEach(function(r){Ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bv(t,e)}function Tw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wd(t);if(e){var a=wd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Nw(this,n)}}function Nw(t,e){if(e&&(gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _v(t)}function _v(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wd(t)}function Ov(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&bv(i,c)})(a,t);var e,n,r=Tw(a);function a(i){var c;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),Ov(_v(c=r.call(this,i)),"setHoverON",function(){c.setState({isHovered:!0})}),Ov(_v(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),v=i.text,b=i.width,E=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(E=qu(qu({},E),c.hover.background)),v&&v.value&&E.fill!=="transparent"){var P,N=c.fontSize,L=c.overflowMode,U=c.lineHeight,J=c.wrapPadding,oe=c.textWidth,ge=v.value,me=v.x,xe=v.y,Ie=String(ge).split(/[\r\n]/g),qe=Ie.length;if(L==="autoWrap"&&oe){var tt=mp({rows:Ie,style:{fontSize:"".concat(N,"px"),width:"".concat(oe,"px"),lineHeight:U,padding:J},rowsLength:qe,className:"lf-get-text-height"});P=qu(qu({},E),{},{x:me-1,y:xe-1,width:oe,height:tt})}else{Ie&&Ie.forEach(function(Jt){Ul(Jt)});var Ot=wl({rows:Ie,fontSize:N,rowsLength:qe}),Je=Ot.width,dt=Ot.height;if(L==="ellipsis"&&(Je=oe||b,dt=N+2),typeof E.wrapPadding=="string"){var nt=E.wrapPadding.split(",").filter(function(Jt){return Jt.trim()}).map(function(Jt){return parseFloat(Jt.trim())});nt.length>0&&nt.length<=4&&(nt.length===1?nt=[nt[0],nt[0],nt[0],nt[0]]:nt.length===2?nt=[nt[0],nt[1],nt[0],nt[1]]:nt.length===3&&(nt=[nt[0],nt[1],nt[2],nt[1]]),Je+=nt[1]+nt[3],dt+=nt[0]+nt[2],me+=(nt[1]-nt[3])/2,xe+=(nt[2]-nt[0])/2)}P=qu(qu({},E),{},{x:me-1,y:xe-1,width:Je,height:dt})}return Object(pe.g)(Ya,P)}}},{key:"getShape",value:function(){var i=this.props.model,c=i.text,v=c.value,b=c.x,E=c.y;if(v){var P=qu({x:b,y:E,className:"lf-element-text",value:v},i.getTextStyle());return Object(pe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(pe.g)(_0,mv({},P,{model:i})))}}}])&&kw(e.prototype,n),a}(w0);function wv(t){return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}var Ri,Cw=["text","sourceAnchorId","targetAnchorId"];function N0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(n),!0).forEach(function(r){jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iw(t,e){if(t==null)return{};var n,r,a=function(c,v){if(c==null)return{};var b,E,P={},N=Object.keys(c);for(E=0;E<N.length;E++)b=N[E],v.indexOf(b)>=0||(P[b]=c[b]);return P}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Rw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return D0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return D0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xv(t,e){return xv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xv(t,e)}function zw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xd(t);if(e){var a=xd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Bw(this,n)}}function Bw(t,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(t)}function So(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xd(t)}function jo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ri||(Ri={}));var C0=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&xv(i,c)})(a,t);var e,n,r=zw(a);function a(i){var c;(function(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")})(this,a),jo(So(c=r.call(this)),"stepDragData",void 0),jo(So(c),"stepDrag",void 0),jo(So(c),"oldEdge",void 0),jo(So(c),"preTargetNode",void 0),jo(So(c),"targetRuleResults",void 0),jo(So(c),"sourceRuleResults",void 0),jo(So(c),"handleMouseDown",function(P){c.stepDrag&&c.stepDrag.handleMouseDown(P)}),jo(So(c),"onDragStart",function(){var P=c.props,N=P.x,L=P.y,U=P.edgeModel,J=U.startPoint,oe=U.endPoint,ge=U.pointsList;c.oldEdge={startPoint:J,endPoint:oe,pointsList:ge},c.setState({endX:N,endY:L,dragging:!0})}),jo(So(c),"onDragging",function(P){var N=P.deltaX,L=P.deltaY,U=c.state,J=U.endX,oe=U.endY,ge=c.props,me=ge.graphModel,xe=ge.type,Ie=me.transformModel,qe=me.editConfigModel,tt=Rw(Ie.moveCanvasPointByHtml([J,oe],N,L),2),Ot=tt[0],Je=tt[1];c.setState({endX:Ot,endY:Je,dragging:!0});var dt=c.props.edgeModel,nt=qi({x:J,y:oe},me);if(nt&&nt.node&&c.isAllowAdjust(nt).pass){var Jt,nn=dt.startPoint,Ct=dt.endPoint,un=dt.sourceNode,Kn=dt.targetNode;xe===Ri.SOURCE?Jt={startPoint:{x:nt.anchor.x,y:nt.anchor.y},endPoint:{x:Ct.x,y:Ct.y},sourceNode:nt.node,targetNode:Kn}:xe===Ri.TARGET&&(Jt={startPoint:{x:nn.x,y:nn.y},endPoint:{x:nt.anchor.x,y:nt.anchor.y},sourceNode:un,targetNode:nt.node}),dt.updateAfterAdjustStartAndEnd(Jt)}else xe===Ri.SOURCE?dt.updateStartPoint({x:Ot,y:Je}):xe===Ri.TARGET&&dt.updateEndPoint({x:Ot,y:Je});dt.text.value&&qe.adjustEdge&&dt.setText(Object.assign({},dt.text,dt.textPosition))}),jo(So(c),"onDragEnd",function(P){var N=P.event;try{var L;c.setState({dragging:!1});var U=c.props,J=U.graphModel,oe=U.edgeModel,ge=U.type,me=c.state,xe=me.endX,Ie=me.endY,qe=me.dragging,tt=qi({x:xe,y:Ie},J);if(!qe)return;var Ot,Je=!1;if(tt&&tt.node){var dt=c.isAllowAdjust(tt),nt=dt.pass,Jt=dt.msg,nn=dt.newTargetNode;if(nt){var Ct=oe.getData(),un=Ct.text,Kn=Ct.sourceAnchorId,qn=Kn===void 0?"":Kn,Cr=Ct.targetAnchorId;Ot=ca(ca({sourceAnchorId:qn,targetAnchorId:Cr===void 0?"":Cr},Iw(Ct,Cw)),{},{text:(un==null?void 0:un.value)||""}),ge===Ri.SOURCE?(Ot=ca(ca({},J.edgeGenerator(J.getNodeModelById(tt.node.id).getData(),J.getNodeModelById(oe.targetNodeId).getData(),Ot)),{},{sourceNodeId:tt.node.id,sourceAnchorId:tt.anchor.id,startPoint:{x:tt.anchor.x,y:tt.anchor.y},targetNodeId:oe.targetNodeId,endPoint:ca({},oe.endPoint)}),oe.sourceNodeId===tt.node.id&&oe.sourceAnchorId===tt.anchor.id&&(Je=!0)):ge===Ri.TARGET&&(Ot=ca(ca({},J.edgeGenerator(J.getNodeModelById(oe.sourceNodeId).getData(),J.getNodeModelById(tt.node.id).getData(),Ot)),{},{sourceNodeId:oe.sourceNodeId,startPoint:ca({},oe.startPoint),targetNodeId:tt.node.id,targetAnchorId:tt.anchor.id,endPoint:{x:tt.anchor.x,y:tt.anchor.y}}),oe.targetNodeId===tt.node.id&&oe.targetAnchorId===tt.anchor.id&&(Je=!0))}else{Je=!0;var Po=nn.getData();J.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:Po,msg:Jt})}}else Je=!0;if(Je)c.recoveryEdge();else{var Mo=oe.getData();J.deleteEdgeById(oe.id);var zi=J.addEdge(ca({},Ot));J.eventCenter.emit(pt.EDGE_EXCHANGE_NODE,{data:{newEdge:zi.getData(),oldEdge:Mo}})}(L=c.preTargetNode)===null||L===void 0||L.setElementState(fn.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(pt.ADJUST_POINT_DRAGEND,{e:N,data:c.stepDragData})}}),jo(So(c),"recoveryEdge",function(){var P=c.props.edgeModel,N=c.oldEdge,L=N.startPoint,U=N.endPoint,J=N.pointsList;P.updateStartPoint(L),P.updateEndPoint(U),P.modelType!==Kt.LINE_EDGE&&(P.pointsList=J,P.initPoints())}),jo(So(c),"getAdjustPointStyle",function(){var P=c.props,N=P.graphModel.theme;return P.edgeModel,N.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var v=i.type,b=i.edgeModel,E=i.graphModel.eventCenter;return c.stepDragData={type:v,edgeData:b.getData()},c.stepDrag=new wo({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:E,data:c.stepDragData}),c}return e=a,(n=[{key:"isAllowAdjust",value:function(i){var c=this.props,v=c.edgeModel,b=v.id,E=v.sourceNode,P=v.targetNode,N=v.sourceAnchorId,L=v.targetAnchorId,U=c.type,J=null,oe=null,ge=null,me=null;if(U===Ri.SOURCE?(J=i.node,oe=P,ge=i.anchor,me=P.getAnchorInfo(L)):(J=E,oe=i.node,me=i.anchor,ge=E.getAnchorInfo(N)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(fn.DEFAULT),this.preTargetNode=i.node,me.id===ge.id)return{pass:!1,msg:"",newTargetNode:oe};var xe="".concat(J.id,"_").concat(oe.id,"_").concat(ge.id,"_").concat(me.id);if(!this.targetRuleResults.has(xe)){var Ie=J.isAllowConnectedAsSource(oe,ge,me,b),qe=oe.isAllowConnectedAsTarget(J,ge,me,b);this.sourceRuleResults.set(xe,Du(Ie)),this.targetRuleResults.set(xe,Du(qe))}var tt=this.sourceRuleResults.get(xe),Ot=tt.isAllPass,Je=tt.msg,dt=this.targetRuleResults.get(xe),nt=dt.isAllPass,Jt=dt.msg,nn=Ot&&nt?fn.ALLOW_CONNECT:fn.NOT_ALLOW_CONNECT;return U===Ri.SOURCE?J.setElementState(nn):oe.setElementState(nn),{pass:Ot&&nt,msg:Jt||Je,newTargetNode:oe}}},{key:"render",value:function(){var i=this.props,c=i.x,v=i.y,b=i.getAdjustPointShape,E=i.edgeModel,P=this.state.dragging;return Object(pe.g)("g",{pointerEvents:P?"none":"",onMouseDown:this.handleMouseDown},P?"":b(c,v,E))}}])&&Lw(e.prototype,n),a}(pe.a);function Ev(t){return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function yf(){return yf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}function Fw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return I0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return I0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ww(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sv(t,e){return Sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sv(t,e)}function Xw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ed(t);if(e){var a=Ed(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Hw(this,n)}}function Hw(t,e){if(e&&(Ev(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(t)}function hi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ed(t)}function Li(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vf=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sv(i,c)})(a,t);var e,n,r=Xw(a);function a(){var i;Ww(this,a);for(var c=arguments.length,v=new Array(c),b=0;b<c;b++)v[b]=arguments[b];return Li(hi(i=r.call.apply(r,[this].concat(v))),"startTime",void 0),Li(hi(i),"contextMenuTime",void 0),Li(hi(i),"clickTimer",void 0),Li(hi(i),"textRef",Object(pe.f)()),Li(hi(i),"handleHover",function(E,P){var N=i.props,L=N.model,U=N.graphModel.eventCenter;L.setHovered(E);var J=E?pt.EDGE_MOUSEENTER:pt.EDGE_MOUSELEAVE,oe=L.getData();U.emit(J,{data:oe,e:P})}),Li(hi(i),"setHoverON",function(E){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,E))}),Li(hi(i),"setHoverOFF",function(E){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,E))}),Li(hi(i),"handleContextMenu",function(E){E.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var P=i.props,N=P.model,L=P.graphModel,U=L.getPointByClient({x:E.clientX,y:E.clientY});L.setElementStateById(N.id,fn.SHOW_MENU,U.domOverlayPosition),i.toFront(),N.isSelected||L.selectEdgeById(N.id);var J=N==null?void 0:N.getData();L.eventCenter.emit(pt.EDGE_CONTEXTMENU,{data:J,e:E,position:U})}),Li(hi(i),"handleMouseDown",function(E){E.stopPropagation(),i.startTime=new Date().getTime()}),Li(hi(i),"handleMouseUp",function(E){if(i.startTime&&!(new Date().getTime()-i.startTime>200||E.button===2)){var P=E.detail===2,N=i.props,L=N.model,U=N.graphModel,J=L==null?void 0:L.getData(),oe=U.getPointByClient({x:E.clientX,y:E.clientY});if(P){var ge=U.editConfigModel,me=U.textEditElement;if(me&&me.id===L.id&&U.setElementStateById(L.id,fn.DEFAULT),ge.edgeTextEdit&&L.text.editable&&U.setElementStateById(L.id,fn.TEXT_EDIT),L.modelType===Kt.POLYLINE_EDGE){var xe=L,Ie=U.getPointByClient({x:E.x,y:E.y}).canvasOverlayPosition,qe=Ie.x,tt=Ie.y,Ot=Vl({x:qe,y:tt},xe.points);xe.dbClickPosition=Ot}U.eventCenter.emit(pt.EDGE_DBCLICK,{data:J,e:E,position:oe})}else U.eventCenter.emit(pt.ELEMENT_CLICK,{data:J,e:E,position:oe}),U.eventCenter.emit(pt.EDGE_CLICK,{data:J,e:E,position:oe});var Je=U.editConfigModel;U.selectEdgeById(L.id,Xo(E,Je)),i.toFront()}}),i}return e=a,(n=[{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,c=i.model,v=i.graphModel;if(c.state===fn.TEXT_EDIT)return null;var b=!1,E=v.editConfigModel;return(c.text.draggable||E.edgeTextDraggable)&&(b=!0),Object(pe.g)(Dw,{ref:this.textRef,editable:E.edgeTextEdit&&c.text.editable,model:c,graphModel:v,draggable:b})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.startPoint,v=i.endPoint,b=i.isSelected;return{start:c,end:v,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,c=i.id,v=i.getArrowStyle(),b=v.refY,E=b===void 0?0:b,P=v.refX,N=P===void 0?2:P,L=Fw(this.getLastTwoPoints(),2),U=L[0],J=L[1],oe="auto";return U!==null&&J!==null&&(oe=Xn(Tr({x:J.x-U.x,y:J.y-U.y,z:0}))),Object(pe.g)("g",null,Object(pe.g)("defs",null,Object(pe.g)("marker",{id:"marker-start-".concat(c),refX:-N,refY:E,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(pe.g)("marker",{id:"marker-end-".concat(c),refX:N,refY:E,overflow:"visible",orient:oe,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(pe.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),c=i.stroke,v=i.strokeWidth,b=i.offset,E=i.verticalLength;return Object(pe.g)("path",{stroke:c,fill:c,strokeWidth:v,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(E," L ").concat(b," ").concat(E," Z")})}},{key:"getAdjustPointShape",value:function(i,c,v){var b=v.getAdjustPointStyle();return Object(pe.g)(uc,yf({className:"lf-edge-adjust-point"},b,{x:i,y:c}))}},{key:"getAdjustPoints",value:function(){var i=this.props,c=i.model,v=i.graphModel,b=c.getAdjustStart(),E=c.getAdjustEnd();return Object(pe.g)("g",null,Object(pe.g)(C0,yf({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:v})),Object(pe.g)(C0,yf({type:"TARGET"},E,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:v})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(pe.g)("g",null)}},{key:"getAppend",value:function(){return Object(pe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,c=i.graphModel,v=i.model;c.toFront(v.id)}},{key:"render",value:function(){var i=this.props,c=i.model,v=c.isSelected,b=c.isHitable,E=c.isShowAdjustPoint;return i.graphModel.animation,Object(pe.g)("g",null,Object(pe.g)("g",{className:["lf-edge",!b&&"pointer-none",v&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),E&&v?this.getAdjustPoints():"")}}])&&Gw(e.prototype,n),a}(pe.a);function jv(t){return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function Uw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return R0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return R0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function R0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gf=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=Uw(n,2),a=r[0],i=r[1],c=jv(i);a!=="style"&&c==="object"||(e[a]=i)}),Object(pe.g)("path",e)};function Pv(t){return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function Mv(){return Mv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function Yw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Av(t,e){return Av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Av(t,e)}function $w(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sd(t);if(e){var a=Sd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Kw(this,n)}}function Kw(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(t)}var kv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Av(i,c)})(a,t);var e,n,r=$w(a);function a(){return Yw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.startPoint,v=i.endPoint,b=i.isAnimation,E=i.arrowConfig,P=i.getEdgeStyle(),N=i.getEdgeAnimationStyle(),L=N.strokeDasharray,U=N.stroke,J=N.strokeDashoffset,oe=N.animationName,ge=N.animationDuration,me=N.animationIterationCount,xe=N.animationTimingFunction,Ie=N.animationDirection;return Object(pe.g)(ic,Mv({},P,{x1:c.x,y1:c.y,x2:v.x,y2:v.y},E,b?{strokeDasharray:L,stroke:U,style:{strokeDashoffset:J,animationName:oe,animationDuration:ge,animationIterationCount:me,animationTimingFunction:xe,animationDirection:Ie}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,c=i.startPoint,v=i.endPoint,b=Yl({start:c,end:v}),E=b.d,P=b.strokeWidth,N=b.fill,L=b.strokeDasharray,U=b.stroke;return Object(pe.g)(gf,{d:E,fill:N,strokeWidth:P,stroke:U,strokeDasharray:L})}}])&&Vw(e.prototype,n),a}(vf);function Tv(t){return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function qw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return L0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zw=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=qw(n,2),a=r[0],i=r[1];(a==="style"||Tv(i)!=="object")&&(e[a]=i)}),Object(pe.g)("polyline",e)};function Nv(t){return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function z0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z0(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dv(){return Dv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function Jw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return B0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return B0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function B0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cv(t,e){return Cv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cv(t,e)}function ex(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pd(t);if(e){var a=Pd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tx(this,n)}}function tx(t,e){if(e&&(Nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(t)}function la(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pd(t)}function fa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Iv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Cv(i,c)})(a,t);var e,n,r=ex(a);function a(){var i;return function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}(this,a),fa(la(i=r.call(this)),"drag",void 0),fa(la(i),"isDragging",void 0),fa(la(i),"isShowAdjustPointTemp",void 0),fa(la(i),"appendInfo",void 0),fa(la(i),"onDragStart",function(){var c=i.props.model;c.dragAppendStart(),i.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),fa(la(i),"onDragging",function(c){var v=c.deltaX,b=c.deltaY,E=i.props,P=E.model,N=E.graphModel;i.isDragging=!0;var L=N.transformModel,U=N.editConfigModel,J=Jw(L.fixDeltaXY(v,b),2),oe=J[0],ge=J[1],me=P,xe=U.adjustEdgeMiddle;i.appendInfo=xe?me.dragAppendSimple(i.appendInfo,{x:oe,y:ge}):me.dragAppend(i.appendInfo,{x:oe,y:ge})}),fa(la(i),"onDragEnd",function(){var c=i.props,v=c.model,b=c.graphModel.eventCenter,E=v;E.dragAppendEnd(),i.isDragging=!1,E.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,b.emit(pt.EDGE_ADJUST,{data:E.getData()})}),fa(la(i),"beforeDragStart",function(c,v){v.dragAble&&i.drag.handleMouseDown(c),i.appendInfo=v}),i.drag=new wo({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.points,v=i.isAnimation,b=i.arrowConfig,E=i.getEdgeStyle(),P=i.getEdgeAnimationStyle(),N=P.strokeDasharray,L=P.stroke,U=P.strokeDashoffset,J=P.animationName,oe=P.animationDuration,ge=P.animationIterationCount,me=P.animationTimingFunction,xe=P.animationDirection;return Object(pe.g)(Zw,Dv({points:c},E,b,v?{strokeDasharray:N,stroke:L,style:{strokeDashoffset:U,animationName:J,animationDuration:oe,animationIterationCount:ge,animationTimingFunction:me,animationDirection:xe}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.points,v=i.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:v},E=ki(c);return E.length>=2&&(b.start=E[E.length-2],b.end=E[E.length-1]),b}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,c=ki(i);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var c,v=i.start,b=i.end;if(v.x===b.x&&v.y===b.y)c="";else{var E={start:v,end:b,offset:10,verticalLength:5},P=Ru(jd(jd({},E),{},{type:"start"})),N=Ru(jd(jd({},E),{},{type:"end"}));c="M".concat(P.leftX," ").concat(P.leftY,` 
      L`).concat(P.rightX," ").concat(P.rightY,` 
      L`).concat(N.rightX," ").concat(N.rightY,`
      L`).concat(N.leftX," ").concat(N.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var c=this.getAppendAttributes(i),v=c.d,b=c.strokeWidth,E=c.fill,P=c.strokeDasharray,N=c.stroke;return Object(pe.g)(gf,{d:v,fill:E,strokeWidth:b,stroke:N,strokeDasharray:P})}},{key:"getAppendWidth",value:function(){for(var i=this,c=this.props,v=c.model,b=c.graphModel,E=v.pointsList,P=v.draggable,N=[],L=E.length,U=function(oe){var ge="lf-polyline-append",me={start:{x:E[oe].x,y:E[oe].y},end:{x:E[oe+1].x,y:E[oe+1].y},startIndex:oe,endIndex:oe+1,direction:"",dragAble:!0},xe=Object(pe.g)("g",{className:ge},i.getAppendShape(me)),Ie=b.editConfigModel,qe=Ie.adjustEdge,tt=Ie.adjustEdgeMiddle;if(qe&&P){var Ot=me.startIndex,Je=me.endIndex,dt=tt&&(Ot===0||Je===L-1);me.dragAble=!dt,me.start.x===me.end.x?(me.dragAble&&(ge+="-ew-resize"),me.direction=wn.VERTICAL):me.start.y===me.end.y&&(me.dragAble&&(ge+="-ns-resize"),me.direction=wn.HORIZONTAL),xe=Object(pe.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(nt){return i.beforeDragStart(nt,me)}},Object(pe.g)("g",{className:ge},i.getAppendShape(me)))}N.push(xe)},J=0;J<L-1;J++)U(J);return Object(pe.g)("g",null,N)}}])&&Qw(e.prototype,n),a}(vf);function Rv(t){return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function nx(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return F0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return F0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function F0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lv(){return Lv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function rx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ox(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zv(t,e){return zv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zv(t,e)}function ix(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Md(t);if(e){var a=Md(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ax(this,n)}}function ax(t,e){if(e&&(Rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Md(t){return Md=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Md(t)}var Bv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&zv(i,c)})(a,t);var e,n,r=ix(a);function a(){return rx(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.getEdgeStyle(),v=i.path,b=i.isAnimation,E=i.arrowConfig,P=i.getEdgeAnimationStyle(),N=P.strokeDasharray,L=P.stroke,U=P.strokeDashoffset,J=P.animationName,oe=P.animationDuration,ge=P.animationIterationCount,me=P.animationTimingFunction,xe=P.animationDirection;return Object(pe.g)(gf,Lv({d:v},c,E,b?{strokeDasharray:N,stroke:L,style:{strokeDashoffset:U,animationName:J,animationDuration:oe,animationIterationCount:ge,animationTimingFunction:me,animationDirection:xe}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(pe.g)(gf,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=this.state.hover,v=i.isSelected,b=i.getArrowStyle().offset,E=i.pointsList.map(function(N){return{x:N.x,y:N.y}}),P=nx(Zs(E,b),2);return{start:P[0],end:P[1],hover:c,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,c=i.getArrowStyle().offset,v=i.pointsList.map(function(b){return{x:b.x,y:b.y}});return Zs(v,c)}}])&&ox(e.prototype,n),a}(vf);function Fv(t){return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function W0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ux(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wv(t,e){return Wv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wv(t,e)}function lx(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ad(t);if(e){var a=Ad(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fx(this,n)}}function fx(t,e){if(e&&(Fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ad(t)}var px=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Wv(i,c)})(a,t);var e,n,r=lx(a);function a(){return sx(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getArrowAttributes",value:function(){var i=this.props,c=i.arrowInfo,v=i.style,b=c.start,E=c.end,P={start:b,end:E,offset:v.offset,verticalLength:v.verticalLength,type:"end"},N=Ru(P),L=N.leftX,U=N.leftY,J=N.rightX,oe=N.rightY;return function(ge){for(var me=1;me<arguments.length;me++){var xe=arguments[me]!=null?arguments[me]:{};me%2?W0(Object(xe),!0).forEach(function(Ie){ux(ge,Ie,xe[Ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(xe)):W0(Object(xe)).forEach(function(Ie){Object.defineProperty(ge,Ie,Object.getOwnPropertyDescriptor(xe,Ie))})}return ge}({d:"M".concat(L," ").concat(U," L").concat(E.x," ").concat(E.y," L").concat(J," ").concat(oe," z")},v)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),c=i.d,v=i.strokeWidth,b=i.stroke,E=i.fill;return Object(pe.g)(gf,{d:c,fill:E,strokeWidth:v,stroke:b})}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&cx(e.prototype,n),a}(pe.a),G0=function(t,e){return Ee(t,e)},dx=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Gv=function(){return ft.a.Date.now()},hx=/\s/,yx=function(t){for(var e=t.length;e--&&hx.test(t.charAt(e)););return e},vx=/^\s+/,gx=function(t){return t&&t.slice(0,yx(t)+1).replace(vx,"")},mx=/^[-+]0x[0-9a-f]+$/i,bx=/^0b[01]+$/i,_x=/^0o[0-7]+$/i,Ox=parseInt,X0=function(t){if(typeof t=="number")return t;if(Wt(t))return NaN;if(Nn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Nn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=gx(t);var n=bx.test(t);return n||_x.test(t)?Ox(t.slice(2),n?2:8):mx.test(t)?NaN:+t},wx=Math.max,xx=Math.min,Ex=function(t,e,n){var r,a,i,c,v,b,E=0,P=!1,N=!1,L=!0;if(typeof t!="function")throw new TypeError("Expected a function");function U(Ie){var qe=r,tt=a;return r=a=void 0,E=Ie,c=t.apply(tt,qe)}function J(Ie){return E=Ie,v=setTimeout(ge,e),P?U(Ie):c}function oe(Ie){var qe=Ie-b;return b===void 0||qe>=e||qe<0||N&&Ie-E>=i}function ge(){var Ie=Gv();if(oe(Ie))return me(Ie);v=setTimeout(ge,function(qe){var tt=e-(qe-b);return N?xx(tt,i-(qe-E)):tt}(Ie))}function me(Ie){return v=void 0,L&&r?U(Ie):(r=a=void 0,c)}function xe(){var Ie=Gv(),qe=oe(Ie);if(r=arguments,a=this,b=Ie,qe){if(v===void 0)return J(b);if(N)return clearTimeout(v),v=setTimeout(ge,e),U(b)}return v===void 0&&(v=setTimeout(ge,e)),c}return e=X0(e)||0,Nn(n)&&(P=!!n.leading,i=(N="maxWait"in n)?wx(X0(n.maxWait)||0,e):i,L="trailing"in n?!!n.trailing:L),xe.cancel=function(){v!==void 0&&clearTimeout(v),E=0,r=b=a=v=void 0},xe.flush=function(){return v===void 0?c:me(Gv())},xe},Sx=o(172);function jx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H0,U0,Y0,Px=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),qa(this,"undos",[]),qa(this,"redos",[]),qa(this,"callbacks",[]),qa(this,"stopWatch",null),qa(this,"curData",null),qa(this,"maxSize",50),qa(this,"waitTime",100),qa(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){G0(dx(this.undos),r)||(this.undos.push(r),G0(this.curData,r)||(this.redos=[]),this.eventCenter.emit(pt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=An(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=An(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Sx.a)(r,Ex(function(){var i=r.modelToHistoryData();i&&a.add(i)},this.waitTime))}}])&&jx(e.prototype,n),t}();function Xv(t){return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function Mx(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return V0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$0(Object(n),!0).forEach(function(r){Ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hv(t,e){return Hv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hv(t,e)}function Ax(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=kd(t);if(e){var a=kd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return kx(this,n)}}function kx(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mc(t)}function mc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kd(t)}function Ju(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q0,Z0,J0,Uv=yi((Y0=U0=function(t){(function(c,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(v&&v.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),v&&Hv(c,v)})(i,t);var e,n,r,a=Ax(i);function i(){var c;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),Ju(mc(c=a.call(this)),"ref",Object(pe.f)()),Ju(mc(c),"__prevText",{type:"",text:"",id:""}),Ju(mc(c),"keyupHandler",function(v){var b=c.props.graphModel.textEditElement;v.key==="Enter"&&v.altKey&&b.setElementState(0)}),Ju(mc(c),"inputHandler",function(v){var b=v.target.innerText,E=c.props.graphModel.textEditElement;c.__prevText={type:E.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:E.id}}),Ju(mc(c),"keydownHandler",function(v){v.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=i,r=[{key:"getDerivedStateFromProps",value:function(c){var v,b=c.graphModel,E=b.transformModel,P=b.theme,N=P.inputText,L=b.textEditElement;if(L){var U;if((U=L.text)===null||U===void 0||!U.value)if(L.BaseType===$n.EDGE){var J=(L=L).text,oe=L.textPosition,ge=oe.x,me=oe.y;J.x=ge,J.y=me,L.setText(J)}else L=L;var xe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(L.BaseType===$n.EDGE){var Ie=P.edgeText,qe=Ie.overflowMode,tt=Ie.lineHeight,Ot=Ie.wrapPadding,Je=Ie.textWidth;Je&&qe==="autoWrap"&&(v=Zu(Zu({},xe),{},{width:Je,minWidth:Je,lineHeight:tt,padding:Ot}))}else if(L.BaseType===$n.NODE){var dt=P.nodeText,nt=dt.overflowMode,Jt=dt.lineHeight,nn=dt.wrapPadding,Ct=dt.textWidth,un=L,Kn=un.width,qn=un.modelType,Cr=un.textWidth||Ct||Kn;(qn!==Kt.TEXT_NODE&&nt==="autoWrap"||qn===Kt.TEXT_NODE&&Ct)&&(v=Zu(Zu({},xe),{},{width:Cr,minWidth:Cr,lineHeight:Jt,padding:nn}))}var Po=L.text,Mo=Po.x,zi=Po.y,Qu=Mx(E.CanvasPointToHtmlPoint([Mo,zi]),2);return{style:Zu(Zu({left:Qu[0],top:Qu[1]},v),N)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var v=this.__prevText,b=v.text,E=v.id;c.updateText(E,b),c.eventCenter.emit(pt.TEXT_UPDATE,Zu({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var v=document.createRange();v.selectNodeContents(c),v.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(v)}}},{key:"render",value:function(){var c,v=this.props.graphModel.textEditElement,b=this.state.style;return v?Object(pe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:v.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=v.text)===null||c===void 0?void 0:c.value):null}}])&&K0(e.prototype,n),r&&K0(e,r),i}(pe.a),Ju(U0,"toolName","textEdit"),H0=Y0))||H0,Tx=function(t){return t.modelType===Kt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,a=(n.x+r.x)/2,i=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,v=Math.abs(n.y-r.y)+10;return{x:a-c/2,y:i-v/2,x1:a+c/2,y1:i+v/2}}(t):t.modelType===Kt.POLYLINE_EDGE?function(e){var n=e.points,r=ki(n),a=Ga(r,8),i=a.x,c=a.y,v=a.width,b=a.height;return{x:i-v/2,y:c-b/2,x1:i+v/2,y1:c+b/2}}(t):t.modelType===Kt.BEZIER_EDGE?function(e){var n=e.path,r=qs(n),a=Ga(r,8),i=a.x,c=a.y,v=a.width,b=a.height;return{x:i-v/2,y:c-b/2,x1:i+v/2,y1:c+b/2}}(t):void 0};function Yv(t){return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function Q0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,v=[],b=!0,E=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(v.push(i.value),!r||v.length!==r);b=!0);}catch(P){E=!0,c=P}finally{try{b||a.return==null||a.return()}finally{if(E)throw c}}return v}}(t,e)||eb(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nx(t){return function(e){if(Array.isArray(e))return Vv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||eb(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eb(t,e){if(t){if(typeof t=="string")return Vv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vv(t,e):void 0}}function Vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $v(t,e){return $v=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$v(t,e)}function Cx(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Td(t);if(e){var a=Td(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ix(this,n)}}function Ix(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mf(t)}function mf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Td(t)}function bf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kv=yi((J0=Z0=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&$v(i,c)})(a,t);var e,n,r=Cx(a);function a(i){var c;(function(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")})(this,a),bf(mf(c=r.call(this)),"stepDrag",void 0),bf(mf(c),"handleMouseDown",function(P){c.stepDrag.handleMouseDown(P)}),bf(mf(c),"onDragging",function(P){var N=P.deltaX,L=P.deltaY,U=c.props.graphModel,J=U.getSelectElements(!0);U.moveNodes(J.nodes.map(function(oe){return oe.id}),N,L)}),bf(mf(c),"handleContextMenu",function(P){P.preventDefault();var N=c.props,L=N.graphModel,U=N.graphModel,J=U.eventCenter,oe=U.selectElements,ge=L.getPointByClient({x:P.clientX,y:P.clientY}),me={nodes:[],edges:[]};Nx(oe.values()).forEach(function(xe){xe.BaseType===$n.NODE&&me.nodes.push(xe.getData()),xe.BaseType===$n.EDGE&&me.edges.push(xe.getData())}),J.emit(pt.SELECTION_CONTEXTMENU,{data:me,e:P,position:ge})});var v=i.graphModel,b=v.gridSize,E=v.eventCenter;return c.stepDrag=new wo({onDragging:c.onDragging,step:b,eventType:"SELECTION",eventCenter:E}),c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel,c=i.selectElements,v=i.transformModel;if(!(c.size<=1)){var b=Number.MAX_SAFE_INTEGER,E=Number.MAX_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER;c.forEach(function(oe){var ge={x:0,y:0,x1:0,y1:0};oe.BaseType===$n.NODE&&(ge=function(me){var xe=me.x,Ie=me.y,qe=me.width,tt=me.height;return{x:xe-qe/2,y:Ie-tt/2,x1:xe+qe/2,y1:Ie+tt/2}}(oe)),oe.BaseType===$n.EDGE&&(ge=Tx(oe)),b=Math.min(b,ge.x),E=Math.min(E,ge.y),P=Math.max(P,ge.x1),N=Math.max(N,ge.y1)});var L=Q0(v.CanvasPointToHtmlPoint([b,E]),2);b=L[0],E=L[1];var U=Q0(v.CanvasPointToHtmlPoint([P,N]),2);P=U[0],N=U[1];var J={left:"".concat(b-10,"px"),top:"".concat(E-10,"px"),width:"".concat(P-b+20,"px"),height:"".concat(N-E+20,"px")};return Object(pe.g)("div",{className:"lf-multiple-select",style:J,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Dx(e.prototype,n),a}(pe.a),bf(Z0,"toolName","multipleSelect"),q0=J0))||q0;function Rx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lx=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Nd(this,"tools",void 0),Nd(this,"components",void 0),Nd(this,"toolMap",new Map),Nd(this,"instance",void 0),this.instance=r,this.isDisabledTool(Uv.toolName)||this.registerTool(Uv.toolName,Uv),this.isDisabledTool(Kv.toolName)||this.registerTool(Kv.toolName,Kv);var a=r.graphModel;a.eventCenter.on("".concat(pt.GRAPH_TRANSFORM,",").concat(pt.NODE_CLICK,",").concat(pt.BLANK_CLICK," "),function(){var i=a.textEditElement,c=a.editConfigModel,v=c.edgeTextEdit,b=c.nodeTextEdit;(v||b)&&i&&a.textEditElement.setElementState(fn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Rx(e.prototype,n),t}(),zx=o(173),Bx=o.n(zx);function Fx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tb=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),qv(this,"mousetrap",void 0),qv(this,"options",void 0),qv(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new Bx.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(mn(a))a.forEach(function(b){var E=b.keys,P=b.callback,N=b.action;return r.on(E,P,N)});else{var i=a.keys,c=a.callback,v=a.action;this.on(i,c,v)}}},{key:"on",value:function(r,a,i){this.mousetrap.bind(this.getKeys(r),a,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(i){return a.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Fx(e.prototype,n),t}(),Wx=tb,pa=null;function nb(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function rb(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var bc=40,Zv=40;function Jv(t){return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ob(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ib(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qv=Symbol("plugin register by Logicflow.use"),eg=function(){function t(a){var i,c,v=this;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,t),Un(this,"container",void 0),Un(this,"width",void 0),Un(this,"height",void 0),Un(this,"graphModel",void 0),Un(this,"history",void 0),Un(this,"viewMap",new Map),Un(this,"tool",void 0),Un(this,"keyboard",void 0),Un(this,"dnd",void 0),Un(this,"options",void 0),Un(this,"snaplineModel",void 0),Un(this,"components",[]),Un(this,"plugins",void 0),Un(this,"extension",{}),Un(this,"adapterIn",void 0),Un(this,"adapterOut",void 0),Un(this,"getView",function(b){return v.viewMap.get(b)}),a=em(a),this.options=a,this.container=this.initContainer(a.container),this.plugins=a.plugins,this.graphModel=new oc(_f({},a)),this.tool=new Lx(this),this.history=new Px(this.graphModel.eventCenter),this.dnd=new R1({lf:this}),this.keyboard=new Wx({lf:this,keyboard:a.keyboard}),a.snapline!==!1&&(this.snaplineModel=new h0(this.graphModel),i=this.graphModel.eventCenter,c=this.snaplineModel,i.on("node:mousemove",function(b){var E=b.data;c.setNodeSnapLine(E)}),i.on("node:mouseup",function(){c.clearSnapline()})),this.options.isSilentMode||(function(b,E){var P=b.keyboard,N=P.options.keyboard;P.on(["cmd + c","ctrl + c"],function(){if(Zv=bc,!N.enabled||E.textEditElement)return!0;var L=b.options.guards,U=E.getSelectElements(!1);return L&&L.beforeClone&&!L.beforeClone(U)||U.nodes.length===0&&U.edges.length===0?(pa=null,!0):((pa=U).nodes.forEach(function(J){return nb(J,bc)}),pa.edges.forEach(function(J){return rb(J,bc)}),!1)}),P.on(["cmd + v","ctrl + v"],function(){if(!N.enabled||E.textEditElement)return!0;if(pa&&(pa.nodes||pa.edges)){b.clearSelectElements();var L=b.addElements(pa,Zv);if(!L)return!0;L.nodes.forEach(function(U){return b.selectElementById(U.id,!0)}),L.edges.forEach(function(U){return b.selectElementById(U.id,!0)}),pa.nodes.forEach(function(U){return nb(U,bc)}),pa.edges.forEach(function(U){return rb(U,bc)}),Zv+=bc}return!1}),P.on(["cmd + z","ctrl + z"],function(){return!N.enabled||!!E.textEditElement||(b.undo(),!1)}),P.on(["cmd + y","ctrl + y"],function(){return!N.enabled||!!E.textEditElement||(b.redo(),!1)}),P.on(["backspace"],function(){if(!N.enabled||E.textEditElement)return!0;var L=E.getSelectElements(!0);return b.clearSelectElements(),L.edges.forEach(function(U){return b.deleteEdge(U.id)}),L.nodes.forEach(function(U){return b.deleteNode(U.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var v={BaseEdge:vf,BaseEdgeModel:El,BaseNode:sa,BaseNodeModel:ua,RectNode:Uy,RectNodeModel:wy,CircleNode:Ky,CircleNodeModel:ry,PolygonNode:ev,PolygonNodeModel:my,TextNode:pv,TextNodeModel:jy,LineEdge:kv,LineEdgeModel:Ji,DiamondNode:ov,DiamondNodeModel:sy,PolylineEdge:Iv,PolylineEdgeModel:Ys,BezierEdge:Bv,BezierEdgeModel:Zh,EllipseNode:cv,EllipseNodeModel:py,HtmlNode:vv,HtmlNodeModel:Ay,h:pe.g,type:a};this.viewMap.forEach(function(L){var U=L.extendKey;U&&(v[U]=L)}),this.graphModel.modelMap.forEach(function(L){var U=L.extendKey;U&&(v[U]=L)});var b=i(v),E=b.view,P=b.model,N=E;c&&!N.isObervered&&(N.isObervered=!0,N=st(N)),this.setView(a,N),this.graphModel.setModel(a,P)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var i=a.view;a.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=st(i)),this.setView(a.type,i),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(c){a.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Uy,model:wy,type:"rect"}),this.registerElement({type:"circle",view:Ky,model:ry}),this.registerElement({type:"polygon",view:ev,model:my}),this.registerElement({type:"line",view:kv,model:Ji}),this.registerElement({type:"polyline",view:Iv,model:Ys}),this.registerElement({type:"bezier",view:Bv,model:Zh}),this.registerElement({type:"text",view:pv,model:jy}),this.registerElement({type:"ellipse",view:cv,model:py}),this.registerElement({type:"diamond",view:ov,model:sy}),this.registerElement({type:"html",view:vv,model:Ay})}},{key:"selectElementById",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(a,i),!i&&c&&this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var i=this.graphModel.transformModel,c=a.coordinate,v=a.id;if(!c){var b=this.getNodeModelById(v);b&&(c=b.getData());var E=this.getEdgeModelById(v);E&&(c=E.textPosition)}var P=c,N=P.x,L=P.y;i.focusOn(N,L,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,i){this.graphModel.resize(a,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,i){this.graphModel.updateText(a,i)}},{key:"deleteElement",value:function(a){var i,c,v,b=this.getModelById(a);return!!b&&(c=(v=(Un(i={},$n.NODE,this.deleteNode),Un(i,$n.EDGE,this.deleteEdge),i)[b.BaseType])===null||v===void 0?void 0:v.call(this,a))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(a,i){this.graphModel.changeNodeType(a,i)}},{key:"changeEdgeType",value:function(a,i){this.graphModel.changeEdgeType(a,i)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(a,i,c)}},{key:"deleteNode",value:function(a){var i=this.graphModel.getNodeModelById(a);if(!i)return!1;var c=i.getData(),v=this.options.guards,b=!v||!v.beforeDelete||v.beforeDelete(c);return b&&this.graphModel.deleteNode(a),b}},{key:"cloneNode",value:function(a){var i=this.graphModel.getNodeModelById(a).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(i))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,i){return this.graphModel.changeNodeId(a,i)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){var i;return(i=this.graphModel.getNodeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var i=this.options.guards,c=this.graphModel.edgesMap[a];if(!c)return!1;var v=c.model.getData(),b=!i||!i.beforeDelete||i.beforeDelete(v);return b&&this.graphModel.deleteEdgeById(a),b}},{key:"deleteEdgeByNodeId",value:function(a){var i=a.sourceNodeId,c=a.targetNodeId;i&&c?this.graphModel.deleteEdgeBySourceAndTarget(i,c):i?this.graphModel.deleteEdgeBySource(i):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(a,i){return this.graphModel.changeEdgeId(a,i)}},{key:"getEdgeModelById",value:function(a){var i;return(i=this.graphModel.edgesMap[a])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(a){var i=this.graphModel.edges,c=a.sourceNodeId,v=a.targetNodeId;if(c&&v){var b=[];return i.forEach(function(N){N.sourceNodeId===c&&N.targetNodeId===v&&b.push(N)}),b}if(c){var E=[];return i.forEach(function(N){N.sourceNodeId===c&&E.push(N)}),E}if(v){var P=[];return i.forEach(function(N){N.targetNodeId===v&&P.push(N)}),P}return[]}},{key:"getEdgeDataById",value:function(a){var i;return(i=this.getEdgeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.setProperties(En(i))}},{key:"deleteProperty",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.deleteProperty(i)}},{key:"getProperties",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,i){return this.graphModel.setElementZIndex(a,i)}},{key:"addElements",value:function(a){for(var i=this,c=a.nodes,v=a.edges,b={},E={nodes:[],edges:[]},P=0;P<c.length;P++){var N=c[P],L=N.id,U=this.addNode(N);if(!U)return;L&&(b[L]=U.id),E.nodes.push(U)}return v.forEach(function(J){var oe=J.sourceNodeId,ge=J.targetNodeId;b[oe]&&(oe=b[oe]),b[ge]&&(ge=b[ge]);var me=i.graphModel.addEdge(_f(_f({},J),{},{sourceNodeId:oe,targetNodeId:ge}));E.edges.push(me)}),E}},{key:"getAreaElement",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(a,i,c,v,b).map(function(E){return E.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,c=new Array(i),v=0;v<i;v++)c[v]=arguments[v];return this.adapterOut.apply(this,[a].concat(c))}return a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){this.graphModel.editConfigModel.updateEditConfig(a)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,i){return this.graphModel.getPointByClient({x:a,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=En(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=En(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,i){return this.graphModel.transformModel.zoom(a,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,i){this.graphModel.transformModel.translate(a,i)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,i=a.TRANSLATE_X,c=a.TRANSLATE_Y;this.translate(-i,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,i){i===void 0&&(i=a),this.graphModel.fitView(a,i)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,i){this.graphModel.eventCenter.on(a,i)}},{key:"off",value:function(a,i){this.graphModel.eventCenter.off(a,i)}},{key:"once",value:function(a,i){this.graphModel.eventCenter.once(a,i)}},{key:"emit",value:function(a,i){this.graphModel.eventCenter.emit(a,i)}},{key:"initContainer",value:function(a){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",a.innerHTML="",a.appendChild(i),i}},{key:"installPlugins",value:function(){var a,i=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=(a=this.plugins)!==null&&a!==void 0?a:t.extensions;v.forEach(function(b){var E=null,P=null;b[Qv]?(E=b.extension,P=b.props):E=b;var N=E.pluginName||E.name;c.indexOf(N)===-1&&i.installPlugin(E,P)})}},{key:"installPlugin",value:function(a,i){if(Jv(a)==="object"){var c=a.install,v=a.render;return c&&c.call(a,this,t),v&&this.components.push(v.bind(a)),void(this.extension[a.pluginName]=a)}var b=a,E=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:i});E.render&&this.components.push(E.render.bind(E)),this.extension[b.pluginName]=E}},{key:"updateAttributes",value:function(a,i){this.graphModel.updateAttributes(a,i)}},{key:"createFakerNode",value:function(a){var i=this.graphModel.modelMap.get(a.type);if(i){var c=new i(_f(_f({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,i){this.viewMap.set(a,i)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(En(a)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(pe.j)(Object(pe.g)(C1,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(pt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}],r=[{key:"use",value:function(a,i){var c,v,b=a.pluginName;b||(b=a.name);var E=(c=this.extensions.get(b))===null||c===void 0?void 0:c.extension;E&&E.destroy&&E.destroy(),this.extensions.set(b,(Un(v={},Qv,Qv),Un(v,"extension",a),Un(v,"props",i),v))}}],n&&ib(e.prototype,n),r&&ib(e,r),t}();function yi(t){return st(t)}Un(eg,"extensions",new Map),l.default=eg}])})})(ag,ag.exports);var Be=ag.exports,TM=function(){function y(){globalThis._ids=this,this._ids=new Set}return y.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return h},y.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},y}(),NM=(globalThis==null?void 0:globalThis._ids)||new TM;function Nc(){return NM.next()}var d_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(y){d_(h,y);function h(u,l){var o=this;return u.id||(u.id="Event_"+Nc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=y.call(this,u,l)||this,o}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var u=y.prototype.getConnectedTargetRules.call(this),l={message:"起始节点不能作为边的终点",validate:function(){return!1}};return u.push(l),u},h.extendKey="StartEventModel",h})(Be.CircleNodeModel);(function(y){d_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="StartEventNode",h})(Be.CircleNode);var h_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Wd=function(){return Wd=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Wd.apply(this,arguments)};(function(y){h_(h,y);function h(u,l){var o=this;return u.id||(u.id="Event_"+Nc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=y.call(this,u,l)||this,o}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var u=y.prototype.getConnectedSourceRules.call(this),l={message:"结束节点不能作为边的起点",validate:function(){return!1}};return u.push(l),u},h.extendKey="EndEventModel",h})(Be.CircleNodeModel);(function(y){h_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var u=this.props.model,l=u.getNodeStyle(),o=u.x,f=u.y,p=u.r,m=y.prototype.getShape.call(this);return Be.h("g",{},m,Be.h("circle",Wd(Wd({},l),{cx:o,cy:f,r:p-5})))},h.extendKey="EndEventView",h})(Be.CircleNode);var y_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Sf=function(){return Sf=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Sf.apply(this,arguments)};(function(y){y_(h,y);function h(u,l){var o=this;return u.id||(u.id="Gateway_"+Nc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=y.call(this,u,l)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return h.extendKey="ExclusiveGatewayModel",h})(Be.PolygonNodeModel);(function(y){y_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.points,g=u.getNodeStyle();return Be.h("g",{transform:"matrix(1 0 0 1 "+(l-f/2)+" "+(o-p/2)+")"},Be.h("polygon",Sf(Sf({},g),{x:l,y:o,points:m})),Be.h("path",Sf({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},h.extendKey="ExclusiveGatewayNode",h})(Be.PolygonNode);var v_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Gd=function(){return Gd=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Gd.apply(this,arguments)};(function(y){v_(h,y);function h(u,l){var o=this;return u.id||(u.id="Activity_"+Nc()),o=y.call(this,u,l)||this,o}return h.extendKey="UserTaskModel",h})(Be.RectNodeModel);(function(y){v_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.getNodeStyle();return Be.h("svg",{x:l-f/2+5,y:o-p/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Be.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.radius,g=u.getNodeStyle();return Be.h("g",{},[Be.h("rect",Gd(Gd({},g),{x:l-f/2,y:o-p/2,rx:m,ry:m,width:f,height:p})),this.getLabelShape()])},h.extendKey="UserTaskNode",h})(Be.RectNode);var g_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),ug=function(){return ug=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},ug.apply(this,arguments)};(function(y){g_(h,y);function h(u,l){var o=this;return u.id||(u.id="Activity_"+Nc()),o=y.call(this,u,l)||this,o}return h.extendKey="ServiceTaskModel",h})(Be.RectNodeModel);(function(y){g_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.getNodeStyle();return Be.h("svg",{x:l-f/2+5,y:o-p/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Be.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.radius,g=u.getNodeStyle();return Be.h("g",{},[Be.h("rect",ug({x:l-f/2,y:o-p/2,rx:m,ry:m,width:f,height:p},g)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h})(Be.RectNode);var m_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(y){m_(h,y);function h(u,l){var o=this;return u.id||(u.id="Flow_"+Nc()),o=y.call(this,u,l)||this,o}return h.extendKey="SequenceFlowModel",h})(Be.PolylineEdgeModel);(function(y){m_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h})(Be.PolylineEdge);var mb={width:40,height:40},bb={width:40,height:40},_b={width:40,height:40},Ob={width:100,height:80},wb={width:100,height:80},DM=function(){function y(){globalThis._ids=this,this._ids=new Set}return y.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return h},y.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},y}(),CM=(globalThis==null?void 0:globalThis._ids)||new DM;function xb(){return CM.next()}function b_(y){return Object.prototype.toString.call(y)}function IM(y){return"  ".repeat(y)}function Xd(y){var h=y;return b_(y)==="[object Object]"?(h={},Object.keys(y).forEach(function(u){var l=u;u.charAt(0)==="-"&&(l=u.substring(1)),h[l]=Xd(y[u])})):Array.isArray(y)&&(h=[],y.forEach(function(u,l){h[l]=Xd(u)})),h}function RM(y){var h=y;try{typeof h!="string"&&(h=JSON.parse(y))}catch{h=JSON.stringify(Xd(y)).replace(/"/g,"'")}return h}var _c=`	
`;function zd(y,h,u){var l=IM(u),o="";if(h==="#text")return _c+l+y;if(h==="#cdata-section")return _c+l+"<![CDATA["+y+"]]>";if(h==="#comment")return _c+l+"<!--"+y+"-->";if((""+h).charAt(0)==="-")return" "+h.substring(1)+'="'+RM(y)+'"';if(Array.isArray(y))y.forEach(function(g){o+=zd(g,h,u+1)});else if(b_(y)==="[object Object]"){var f=Object.keys(y),p="",m="";o+=(u===0?"":_c+l)+"<"+h,f.forEach(function(g){g.charAt(0)==="-"?p+=zd(y[g],g,u+1):m+=zd(y[g],g,u+1)}),o+=p+(m!==""?">"+m+(_c+l)+"</"+h+">":" />")}else o+=_c+l+("<"+h+">"+y.toString()+"</"+h+">");return o}function LM(y){var h="";for(var u in y)h+=zd(y[u],u,0);return h}var ro=function(){};ro.ObjTree=function(){return this};ro.ObjTree.VERSION="0.23";ro.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;ro.ObjTree.prototype.attr_prefix="-";ro.ObjTree.prototype.parseXML=function(y){var h;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(y,"application/xml");if(!l)return;h=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(y),h=u.documentElement);if(h)return this.parseDOM(h)};ro.ObjTree.prototype.parseHTTP=function(y,h,u){var l={};for(var o in h)l[o]=h[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var f=this,p=u,m=l.onComplete;l.onComplete=function(j){var S;j&&j.responseXML&&j.responseXML.documentElement&&(S=f.parseDOM(j.responseXML.documentElement)),p(S,j),m&&m(j)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=y;var x=new HTTP.Request(l);x&&(g=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(y,l);x&&(g=x.transport)}if(u)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};ro.ObjTree.prototype.parseDOM=function(y){if(y){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var u=this.parseElement(y);if(this.__force_array[y.nodeName]&&(u=[u]),y.nodeType!=11){var l={};l[y.nodeName]=u,u=l}return u}};ro.ObjTree.prototype.parseElement=function(y){if(y.nodeType!=7){if(y.nodeType==3||y.nodeType==4||y.nodeType==8){var h=y.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:y.nodeValue}var u=null,l={};if(y.attributes&&y.attributes.length){u={};for(var o=0;o<y.attributes.length;o++){var f=y.attributes[o].nodeName;if(typeof f=="string"){var p=y.attributes[o].nodeValue;try{p=JSON.parse(y.attributes[o].nodeValue.replace(/'/g,'"'))}catch{p=y.attributes[o].nodeValue}p&&(f=this.attr_prefix+f,typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(u,f,l[f],p))}}}if(y.childNodes&&y.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<y.childNodes.length&&m;o++){var g=y.childNodes[o].nodeType;g==3||g==4||g==8||(m=!1)}if(m){u||(u="");for(var o=0;o<y.childNodes.length;o++)u+=y.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<y.childNodes.length;o++){var f=y.childNodes[o].nodeName;if(typeof f=="string"){var p=this.parseElement(y.childNodes[o]);p&&(typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(u,f,l[f],p))}}}}else u===null&&(u={});return u}};ro.ObjTree.prototype.addNode=function(y,h,u,l){this.__force_array[h]?(u==1&&(y[h]=[]),y[h][y[h].length]=l):u==1?y[h]=l:u==2?y[h]=[y[h],l]:y[h][y[h].length]=l};ro.ObjTree.prototype.writeXML=function(y){var h=this.hash_to_xml(null,y);return this.xmlDecl+h};ro.ObjTree.prototype.hash_to_xml=function(y,h){var u=[],l=[];for(var o in h)if(h.hasOwnProperty(o)){var f=h[o];o.charAt(0)!=this.attr_prefix?typeof f>"u"||f==null?u[u.length]="<"+o+" />":typeof f=="object"&&f.constructor==Array?u[u.length]=this.array_to_xml(o,f):typeof f=="object"?u[u.length]=this.hash_to_xml(o,f):u[u.length]=this.scalar_to_xml(o,f):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var p=l.join(""),m=u.join("");return typeof y>"u"||y==null||(u.length>0?m.match(/\n/)?m="<"+y+p+`>
`+m+"</"+y+`>
`:m="<"+y+p+">"+m+"</"+y+`>
`:m="<"+y+p+` />
`),m};ro.ObjTree.prototype.array_to_xml=function(y,h){for(var u=[],l=0;l<h.length;l++){var o=h[l];typeof o>"u"||o==null?u[u.length]="<"+y+" />":typeof o=="object"&&o.constructor==Array?u[u.length]=this.array_to_xml(y,o):typeof o=="object"?u[u.length]=this.hash_to_xml(y,o):u[u.length]=this.scalar_to_xml(y,o)}return u.join("")};ro.ObjTree.prototype.scalar_to_xml=function(y,h){return y=="#text"?this.xml_escape(h):"<"+y+">"+this.xml_escape(h)+"</"+y+`>
`};ro.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var zM=function(y){return new ro.ObjTree().parseXML(y)},BM=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),sg=function(){return sg=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},sg.apply(this,arguments)},Qd=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},Bi;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow"})(Bi||(Bi={}));var __=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],Eb=["properties","startPoint","endPoint","pointsList"];function Sb(y){var h=y?Eb.concat(y):Eb;return function(u){function l(o){var f={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(p){return l(p)}):(Object.entries(o).forEach(function(p){var m=Qd(p,2),g=m[0],x=m[1];typeof x!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?f[g]=x:f["-"+g]=x:h.includes(g)?f["-"+g]=l(x):f[g]=l(x)}),f)}return l(u)}}function Hd(y){var h={};return Object.entries(y).forEach(function(u){var l=Qd(u,2),o=l[0],f=l[1];o.indexOf("-")===0?h[o.substring(1)]=Xd(f):typeof f=="string"?h[o]=f:Object.prototype.toString.call(f)==="[object Object]"?h[o]=Hd(f):Array.isArray(f)?h[o]=f.map(function(p){return Hd(p)}):h[o]=f}),h}function FM(y,h,u){var l=new Map;h.nodes.forEach(function(f){var p,m={"-id":f.id};if(!((p=f.text)===null||p===void 0)&&p.value&&(m["-name"]=f.text.value),f.properties){var g=Sb(u)(f.properties);Object.assign(m,g)}l.set(f.id,m),y[f.type]?Array.isArray(y[f.type])?y[f.type].push(m):y[f.type]=[y[f.type],m]:y[f.type]=m});var o=h.edges.map(function(f){var p,m,g=l.get(f.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(f.id):g["bpmn:incoming"]=[g["bpmn:incoming"],f.id]:g["bpmn:incoming"]=f.id;var x={"-id":f.id,"-sourceRef":f.sourceNodeId,"-targetRef":f.targetNodeId};if(!((p=f.text)===null||p===void 0)&&p.value&&(x["-name"]=(m=f.text)===null||m===void 0?void 0:m.value),f.properties){var j=Sb(u)(f.properties);Object.assign(x,j)}return x});h.edges.forEach(function(f){var p=l.get(f.sourceNodeId);p["bpmn:outgoing"]?Array.isArray(p["bpmn:outgoing"])?p["bpmn:outgoing"].push(f.id):p["bpmn:outgoing"]=[p["bpmn:outgoing"],f.id]:p["bpmn:outgoing"]=f.id}),y[Bi.FLOW]=o}function WM(y,h){y["bpmndi:BPMNEdge"]=h.edges.map(function(u){var l,o=u.id,f=u.pointsList.map(function(m){var g=m.x,x=m.y;return{"-x":g,"-y":x}}),p={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((l=u.text)===null||l===void 0)&&l.value&&(p["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),p}),y["bpmndi:BPMNShape"]=h.nodes.map(function(u){var l,o=u.id,f=100,p=80,m=u.x,g=u.y,x=tu.shapeConfigMap.get(u.type);x&&(f=x.width,p=x.height),m-=f/2,g-=p/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":f,"-height":p}};return!((l=u.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),j})}function GM(y){var h=[],u=[],l=y["bpmn:definitions"];if(l){var o=l["bpmn:process"];Object.keys(o).forEach(function(f){if(f.indexOf("bpmn:")===0){var p=o[f];if(f===Bi.FLOW){var m=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=HM(p,m)}else{var g=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(XM(p,g,f))}}})}return{nodes:h,edges:u}}function XM(y,h,u){var l=[];if(Array.isArray(y))y.forEach(function(p){var m;Array.isArray(h)?m=h.find(function(x){return x["-bpmnElement"]===p["-id"]}):m=h;var g=jb(m,u,p);l.push(g)});else{var o=void 0;Array.isArray(h)?o=h.find(function(p){return p["-bpmnElement"]===y["-id"]}):o=h;var f=jb(o,u,y);l.push(f)}return l}function jb(y,h,u){var l=Number(y["dc:Bounds"]["-x"]),o=Number(y["dc:Bounds"]["-y"]),f=u["-name"],p=tu.shapeConfigMap.get(h);p&&(l+=p.width/2,o+=p.height/2);var m;Object.entries(u).forEach(function(S){var T=Qd(S,2),k=T[0],I=T[1];__.indexOf(k)===-1&&(m||(m={}),m[k]=I)}),m&&(m=Hd(m));var g;if(f&&(g={x:l,y:o,value:f},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=y["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(x["-x"])+Number(x["-width"])/2,g.y=Number(x["-y"])+Number(x["-height"])/2}var j={id:y["-bpmnElement"],type:h,x:l,y:o,properties:m};return g&&(j.text=g),j}function HM(y,h){var u=[];if(Array.isArray(y))y.forEach(function(o){var f;Array.isArray(h)?f=h.find(function(p){return p["-bpmnElement"]===o["-id"]}):f=h,u.push(Pb(f,o))});else{var l=void 0;Array.isArray(h)?l=h.find(function(o){return o["-bpmnElement"]===y["-id"]}):l=h,u.push(Pb(l,y))}return u}function Pb(y,h){var u,l=h["-name"];if(l){var o=y["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;l.split(`
`).forEach(function(g){f<g.length&&(f=g.length)}),u={value:l,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var p;Object.entries(h).forEach(function(g){var x=Qd(g,2),j=x[0],S=x[1];__.indexOf(j)===-1&&(p||(p={}),p[j]=S)}),p&&(p=Hd(p));var m={id:h["-id"],type:Bi.FLOW,pointsList:y["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:p};return u&&(m.text=u),m}var tu=function(){function y(h){var u=this,l=h.lf;this.adapterOut=function(o,f){var p=sg({},u.processAttributes);FM(p,o,f);var m={"-id":"BPMNPlane_1","-bpmnElement":p["-id"]};WM(m,o);var g=u.definitionAttributes;g["bpmn:process"]=p,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var x={"bpmn:definitions":g};return x},this.adapterIn=function(o){if(o)return GM(o)},l.adapterIn=function(o){return u.adapterIn(o)},l.adapterOut=function(o,f){return u.adapterOut(o,f)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+xb()},this.definitionAttributes={"-id":"Definitions_"+xb(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return y.prototype.setCustomShape=function(h,u){y.shapeConfigMap.set(h,u)},y.pluginName="bpmn-adapter",y.shapeConfigMap=new Map,y}();tu.shapeConfigMap.set(Bi.START,{width:mb.width,height:mb.height});tu.shapeConfigMap.set(Bi.END,{width:bb.width,height:bb.height});tu.shapeConfigMap.set(Bi.GATEWAY,{width:_b.width,height:_b.height});tu.shapeConfigMap.set(Bi.SYSTEM,{width:Ob.width,height:Ob.height});tu.shapeConfigMap.set(Bi.USER,{width:wb.width,height:wb.height});(function(y){BM(h,y);function h(u){var l=y.call(this,u)||this;l.adapterXmlIn=function(f){var p=zM(f);return l.adapterIn(p)},l.adapterXmlOut=function(f,p){var m=l.adapterOut(f,p);return LM(m)};var o=u.lf;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l}return h.pluginName="bpmnXmlAdapter",h})(tu);function Eg(){var y={message:"分组外的节点不允许连接分组内的",validate:function(h,u,l,o){var f=!!h.properties.parent,p=!!u.properties.parent;return!(!f&&p)}};this.targetRules.push(y)}var UM=function(){function y(){globalThis._ids=this,this._ids=new Set}return y.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return h},y.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},y}(),YM=(globalThis==null?void 0:globalThis._ids)||new UM;function rs(){return YM.next()}var Mb=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Oc=function(){return Oc=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Oc.apply(this,arguments)},O_=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},VM=function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(O_(arguments[h]));return y};function xk(y){var h=O_(y.useDefinition(),1),u=h[0],l=function(f){Mb(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},p.prototype.getShape=function(){var m,g=this.props.model,x=g.getNodeStyle(),j=g.x,S=g.y,T=g.r,k=g.width,I=g.height,D=g.properties,R=f.prototype.getShape.call(this),G=D.definitionType,H=(((m=u.endEvent)===null||m===void 0?void 0:m.get(G))||{}).icon,ee=Array.isArray(H)?Be.h.apply(void 0,VM(["g",{transform:"matrix(1 0 0 1 "+(j-k/2)+" "+(S-I/2)+")"}],H)):Be.h("path",{transform:"matrix(1 0 0 1 "+(j-k/2)+" "+(S-I/2)+")",d:H,style:"fill: black; stroke-linecap: round; stroke-linejoin: round; stroke: white; stroke-width: 1px;"});return Be.h("g",{},R,Be.h("circle",Oc(Oc({},x),{strokeWidth:2,cx:j,cy:S,r:T-2})),ee)},p}(Be.CircleNode),o=function(f){Mb(p,f);function p(m,g){var x,j,S,T=this;m.id||(m.id="Event_"+rs()),m.text||(m.text=""),m.text&&typeof m.text=="string"&&(m.text={value:m.text,x:m.x,y:m.y+40});var k=(((x=u.endEvent)===null||x===void 0?void 0:x.get((j=m.properties)===null||j===void 0?void 0:j.definitionType))||{}).properties,I=k===void 0?{}:k;return m.properties=Oc(Oc({},I),m.properties),!((S=m.properties)===null||S===void 0)&&S.definitionType&&(m.properties.definitionId="Definition_"+rs()),T=f.call(this,m,g)||this,Eg.call(T),T}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedSourceRules=function(){var m=this,g=f.prototype.getConnectedSourceRules.call(this),x={message:"结束节点不能作为边的起点",validate:function(j,S){return j!==m}};return g.push(x),g},p}(Be.CircleNodeModel);return{type:"bpmn:endEvent",view:l,model:o}}var Ab=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),wc=function(){return wc=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},wc.apply(this,arguments)},w_=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},$M=function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(w_(arguments[h]));return y};function Ek(y){var h=w_(y.useDefinition(),1),u=h[0],l=function(f){Ab(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},p.prototype.getShape=function(){var m,g=this.props.model,x=g.getNodeStyle(),j=g.x,S=g.y,T=g.r,k=g.width,I=g.height,D=g.properties,R=D.definitionType,G=D.isInterrupting,H=(((m=u.startEvent)===null||m===void 0?void 0:m.get(R))||{}).icon,ee=Array.isArray(H)?Be.h.apply(void 0,$M(["g",{transform:"matrix(1 0 0 1 "+(j-k/2)+" "+(S-I/2)+")"}],H)):Be.h("path",{transform:"matrix(1 0 0 1 "+(j-k/2)+" "+(S-I/2)+")",d:H,style:"fill: white; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});return Be.h("g",{},Be.h("circle",wc(wc({},x),{cx:j,cy:S,r:T,strokeDasharray:G?"5,5":"",strokeWidth:2})),ee)},p}(Be.CircleNode),o=function(f){Ab(p,f);function p(m,g){var x,j,S,T=this;m.id||(m.id="Event_"+rs()),m.text||(m.text=""),m.text&&typeof m.text=="string"&&(m.text={value:m.text,x:m.x,y:m.y+40});var k=(((x=u.startEvent)===null||x===void 0?void 0:x.get((j=m.properties)===null||j===void 0?void 0:j.definitionType))||{}).properties,I=k===void 0?{}:k;return m.properties=wc(wc({},I),m.properties),!((S=m.properties)===null||S===void 0)&&S.definitionType&&(m.properties.definitionId="Definition_"+rs()),T=f.call(this,m,g)||this,T}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedTargetRules=function(){var m=this,g=f.prototype.getConnectedTargetRules.call(this),x={message:"起始节点不能作为边的终点",validate:function(j,S){return S!==m}};return g.push(x),g},p}(Be.CircleNodeModel);return{type:"bpmn:startEvent",view:l,model:o}}Be.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Be.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Be.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Be.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});var Sk="m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z",jk="m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z";Be.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var Pk="M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z",Mk="M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z",Ak="M0.5,3.751L4.583,0.5009999999999999C4.583,0.5009999999999999,15.749,0.5839999999999999,16.666,0.5839999999999999S14.249,3.5009999999999994,15.166,3.5009999999999994S26.833,3.5009999999999994,27.75,3.5009999999999994C28.916,5.209,27.582,6.667999999999999,26.916,7.167999999999999S27.791,9.084999999999999,25.916,11.584999999999999C25.166,11.834999999999999,26.666,13.459999999999999,24.583000000000002,14.918C23.416,15.501,25.166,16.46,23.333000000000002,17.750999999999998C22.166,17.750999999999998,2.5000000000000036,17.833999999999996,2.5000000000000036,17.833999999999996L0.5000000000000036,16.500999999999998V3.751ZM13.5,7L27,7M13.5,11L26,11M14,14.5L25,14.5M8.2,3.1L15,3.1",KM="m44,60 m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",qM="m47,61 m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",ZM="m 50,73 c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",kb=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Qa=function(){return Qa=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Qa.apply(this,arguments)};function kk(y,h,u){var l=function(f){kb(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getShape=function(){var m=this.props.model,g=m.x,x=m.y,j=m.width,S=m.height,T=m.points,k=m.getNodeStyle();return Be.h("g",{transform:"matrix(1 0 0 1 "+(g-j/2)+" "+(x-S/2)+")"},Be.h("polygon",Qa(Qa({},k),{x:g,y:x,points:T})),typeof h=="string"?Be.h("path",Qa(Qa({d:h},k),{fill:"rgb(34, 36, 42)",strokeWidth:1})):h)},p}(Be.PolygonNode),o=function(f){kb(p,f);function p(m,g){var x=this;return m.id||(m.id="Gateway_"+rs()),m.text||(m.text=""),m.text&&typeof m.text=="string"&&(m.text={value:m.text,x:m.x,y:m.y+40}),m.properties=Qa(Qa({},u||{}),m.properties),x=f.call(this,m,g)||this,x.points=[[25,0],[50,25],[25,50],[0,25]],Eg.call(x),x}return p}(Be.PolygonNodeModel);return{type:y,view:l,model:o}}var Tb=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),xc=function(){return xc=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},xc.apply(this,arguments)},JM=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},QM=function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(JM(arguments[h]));return y},eA={parallel:KM,sequential:qM,loop:ZM};function Tk(y,h,u){var l=function(f){Tb(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getLabelShape=function(){var m=this.props.model,g=m.x,x=m.y,j=m.width,S=m.height,T=m.getNodeStyle(),k=Array.isArray(h)?Be.h.apply(void 0,QM(["g",{transform:"matrix(1 0 0 1 "+(g-j/2)+" "+(x-S/2)+")"}],h)):Be.h("path",{fill:T.stroke,d:h});return Be.h("svg",{x:g-j/2+5,y:x-S/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},k)},p.prototype.getShape=function(){var m=this.props.model,g=m.x,x=m.y,j=m.width,S=m.height,T=m.radius,k=m.properties,I=m.getNodeStyle();return Be.h("g",{},[Be.h("rect",xc(xc({},I),{x:g-j/2,y:x-S/2,rx:T,ry:T,width:j,height:S,opacity:.95})),this.getLabelShape(),Be.h("g",{transform:"matrix(1 0 0 1 "+(g-j/2)+" "+(x-S/2)+")"},Be.h("path",{fill:"white",strokeLinecap:"round",strokeLinejoin:"round",stroke:"rgb(34, 36, 42)",strokeWidth:"2",d:eA[k.multiInstanceType]||""}))])},p}(Be.RectNode),o=function(f){Tb(p,f);function p(m,g){var x,j=this;m.id||(m.id="Activity_"+rs());var S=xc(xc({},u||{}),m.properties);return m.properties=S,j=f.call(this,m,g)||this,(x=S==null?void 0:S.boundaryEvents)===null||x===void 0||x.forEach(function(T){j.addBoundaryEvent(T)}),j.deleteProperty("boundaryEvents"),Eg.call(j),j}return p.prototype.initNodeData=function(m){f.prototype.initNodeData.call(this,m),this.isTaskNode=!0,this.boundaryEvents=[]},p.prototype.getNodeStyle=function(){var m=f.prototype.getNodeStyle.call(this),g=this.properties.isBoundaryEventTouchingTask;return g&&(m.stroke="#00acff",m.strokeWidth=2),m},p.prototype.getOutlineStyle=function(){var m=f.prototype.getOutlineStyle.call(this);return m.stroke="transparent",!m.hover&&(m.hover={}),m.hover.stroke="transparent",m},p.prototype.setTouching=function(m){this.setProperty("isBoundaryEventTouchingTask",m)},p.prototype.addBoundaryEvent=function(m){if(this.setTouching(!1),this.boundaryEvents.find(function(x){return x===m}))return!1;var g=this.graphModel.getNodeModelById(m);return g==null||g.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(m),!0},p.prototype.deleteBoundaryEvent=function(m){this.boundaryEvents=this.boundaryEvents.filter(function(g){return g!==m})},p}(Be.RectNodeModel);return{type:y,view:l,model:o}}var Sg,or,x_,ts,Nb,E_,cg,lg={},S_=[],tA=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,jg=Array.isArray;function eu(y,h){for(var u in h)y[u]=h[u];return y}function j_(y){var h=y.parentNode;h&&h.removeChild(y)}function jf(y,h,u){var l,o,f,p={};for(f in h)f=="key"?l=h[f]:f=="ref"?o=h[f]:p[f]=h[f];if(arguments.length>2&&(p.children=arguments.length>3?Sg.call(arguments,2):u),typeof y=="function"&&y.defaultProps!=null)for(f in y.defaultProps)p[f]===void 0&&(p[f]=y.defaultProps[f]);return Bd(y,p,l,o,null)}function Bd(y,h,u,l,o){var f={type:y,props:h,key:u,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++x_,__i:-1,__u:0};return o==null&&or.vnode!=null&&or.vnode(f),f}function Pg(y){return y.children}function jc(y,h){this.props=y,this.context=h}function Ac(y,h){if(h==null)return y.__?Ac(y.__,y.__i+1):null;for(var u;h<y.__k.length;h++)if((u=y.__k[h])!=null&&u.__e!=null)return u.__e;return typeof y.type=="function"?Ac(y):null}function P_(y){var h,u;if((y=y.__)!=null&&y.__c!=null){for(y.__e=y.__c.base=null,h=0;h<y.__k.length;h++)if((u=y.__k[h])!=null&&u.__e!=null){y.__e=y.__c.base=u.__e;break}return P_(y)}}function Db(y){(!y.__d&&(y.__d=!0)&&ts.push(y)&&!Ud.__r++||Nb!==or.debounceRendering)&&((Nb=or.debounceRendering)||E_)(Ud)}function Ud(){var y,h,u,l,o,f,p,m,g;for(ts.sort(cg);y=ts.shift();)y.__d&&(h=ts.length,l=void 0,f=(o=(u=y).__v).__e,m=[],g=[],(p=u.__P)&&((l=eu({},o)).__v=o.__v+1,or.vnode&&or.vnode(l),k_(p,l,o,u.__n,p.ownerSVGElement!==void 0,32&o.__u?[f]:null,m,f??Ac(o),!!(32&o.__u),g),l.__.__k[l.__i]=l,oA(m,l,g),l.__e!=f&&P_(l)),ts.length>h&&ts.sort(cg));Ud.__r=0}function M_(y,h,u,l,o,f,p,m,g,x,j){var S,T,k,I,D,R=l&&l.__k||S_,G=h.length;for(u.__d=g,nA(u,h,R),g=u.__d,S=0;S<G;S++)(k=u.__k[S])!=null&&typeof k!="boolean"&&typeof k!="function"&&(T=k.__i===-1?lg:R[k.__i]||lg,k.__i=S,k_(y,k,T,o,f,p,m,g,x,j),I=k.__e,k.ref&&T.ref!=k.ref&&(T.ref&&Mg(T.ref,null,k),j.push(k.ref,k.__c||I,k)),D==null&&I!=null&&(D=I),65536&k.__u||T.__k===k.__k?g=A_(k,g,y):typeof k.type=="function"&&k.__d!==void 0?g=k.__d:I&&(g=I.nextSibling),k.__d=void 0,k.__u&=-196609);u.__d=g,u.__e=D}function nA(y,h,u){var l,o,f,p,m,g=h.length,x=u.length,j=x,S=0;for(y.__k=[],l=0;l<g;l++)(o=y.__k[l]=(o=h[l])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Bd(null,o,null,null,o):jg(o)?Bd(Pg,{children:o},null,null,null):o.__b>0?Bd(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=y,o.__b=y.__b+1,m=rA(o,u,p=l+S,j),o.__i=m,f=null,m!==-1&&(j--,(f=u[m])&&(f.__u|=131072)),f==null||f.__v===null?(m==-1&&S--,typeof o.type!="function"&&(o.__u|=65536)):m!==p&&(m===p+1?S++:m>p?j>g-p?S+=m-p:S--:S=m<p&&m==p-1?m-p:0,m!==l+S&&(o.__u|=65536))):(f=u[l])&&f.key==null&&f.__e&&(f.__e==y.__d&&(y.__d=Ac(f)),fg(f,f,!1),u[l]=null,j--);if(j)for(l=0;l<x;l++)(f=u[l])!=null&&!(131072&f.__u)&&(f.__e==y.__d&&(y.__d=Ac(f)),fg(f,f))}function A_(y,h,u){var l,o;if(typeof y.type=="function"){for(l=y.__k,o=0;l&&o<l.length;o++)l[o]&&(l[o].__=y,h=A_(l[o],h,u));return h}return y.__e!=h&&(u.insertBefore(y.__e,h||null),h=y.__e),h&&h.nextSibling}function rA(y,h,u,l){var o=y.key,f=y.type,p=u-1,m=u+1,g=h[u];if(g===null||g&&o==g.key&&f===g.type)return u;if(l>(g!=null&&!(131072&g.__u)?1:0))for(;p>=0||m<h.length;){if(p>=0){if((g=h[p])&&!(131072&g.__u)&&o==g.key&&f===g.type)return p;p--}if(m<h.length){if((g=h[m])&&!(131072&g.__u)&&o==g.key&&f===g.type)return m;m++}}return-1}function Cb(y,h,u){h[0]==="-"?y.setProperty(h,u??""):y[h]=u==null?"":typeof u!="number"||tA.test(h)?u:u+"px"}function Rd(y,h,u,l,o){var f;e:if(h==="style")if(typeof u=="string")y.style.cssText=u;else{if(typeof l=="string"&&(y.style.cssText=l=""),l)for(h in l)u&&h in u||Cb(y.style,h,"");if(u)for(h in u)l&&u[h]===l[h]||Cb(y.style,h,u[h])}else if(h[0]==="o"&&h[1]==="n")f=h!==(h=h.replace(/(PointerCapture)$|Capture$/,"$1")),h=h.toLowerCase()in y?h.toLowerCase().slice(2):h.slice(2),y.l||(y.l={}),y.l[h+f]=u,u?l?u.u=l.u:(u.u=Date.now(),y.addEventListener(h,f?Rb:Ib,f)):y.removeEventListener(h,f?Rb:Ib,f);else{if(o)h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!=="width"&&h!=="height"&&h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h!=="rowSpan"&&h!=="colSpan"&&h!=="role"&&h in y)try{y[h]=u??"";break e}catch{}typeof u=="function"||(u==null||u===!1&&h[4]!=="-"?y.removeAttribute(h):y.setAttribute(h,u))}}function Ib(y){var h=this.l[y.type+!1];if(y.t){if(y.t<=h.u)return}else y.t=Date.now();return h(or.event?or.event(y):y)}function Rb(y){return this.l[y.type+!0](or.event?or.event(y):y)}function k_(y,h,u,l,o,f,p,m,g,x){var j,S,T,k,I,D,R,G,H,ee,ue,ie,te,ne,$,B=h.type;if(h.constructor!==void 0)return null;128&u.__u&&(g=!!(32&u.__u),f=[m=h.__e=u.__e]),(j=or.__b)&&j(h);e:if(typeof B=="function")try{if(G=h.props,H=(j=B.contextType)&&l[j.__c],ee=j?H?H.props.value:j.__:l,u.__c?R=(S=h.__c=u.__c).__=S.__E:("prototype"in B&&B.prototype.render?h.__c=S=new B(G,ee):(h.__c=S=new jc(G,ee),S.constructor=B,S.render=aA),H&&H.sub(S),S.props=G,S.state||(S.state={}),S.context=ee,S.__n=l,T=S.__d=!0,S.__h=[],S._sb=[]),S.__s==null&&(S.__s=S.state),B.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=eu({},S.__s)),eu(S.__s,B.getDerivedStateFromProps(G,S.__s))),k=S.props,I=S.state,S.__v=h,T)B.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(B.getDerivedStateFromProps==null&&G!==k&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(G,ee),!S.__e&&(S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(G,S.__s,ee)===!1||h.__v===u.__v)){for(h.__v!==u.__v&&(S.props=G,S.state=S.__s,S.__d=!1),h.__e=u.__e,h.__k=u.__k,h.__k.forEach(function(Y){Y&&(Y.__=h)}),ue=0;ue<S._sb.length;ue++)S.__h.push(S._sb[ue]);S._sb=[],S.__h.length&&p.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(G,S.__s,ee),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(k,I,D)})}if(S.context=ee,S.props=G,S.__P=y,S.__e=!1,ie=or.__r,te=0,"prototype"in B&&B.prototype.render){for(S.state=S.__s,S.__d=!1,ie&&ie(h),j=S.render(S.props,S.state,S.context),ne=0;ne<S._sb.length;ne++)S.__h.push(S._sb[ne]);S._sb=[]}else do S.__d=!1,ie&&ie(h),j=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++te<25);S.state=S.__s,S.getChildContext!=null&&(l=eu(eu({},l),S.getChildContext())),T||S.getSnapshotBeforeUpdate==null||(D=S.getSnapshotBeforeUpdate(k,I)),M_(y,jg($=j!=null&&j.type===Pg&&j.key==null?j.props.children:j)?$:[$],h,u,l,o,f,p,m,g,x),S.base=h.__e,h.__u&=-161,S.__h.length&&p.push(S),R&&(S.__E=S.__=null)}catch(Y){h.__v=null,g||f!=null?(h.__e=m,h.__u|=g?160:32,f[f.indexOf(m)]=null):(h.__e=u.__e,h.__k=u.__k),or.__e(Y,h,u)}else f==null&&h.__v===u.__v?(h.__k=u.__k,h.__e=u.__e):h.__e=iA(u.__e,h,u,l,o,f,p,g,x);(j=or.diffed)&&j(h)}function oA(y,h,u){h.__d=void 0;for(var l=0;l<u.length;l++)Mg(u[l],u[++l],u[++l]);or.__c&&or.__c(h,y),y.some(function(o){try{y=o.__h,o.__h=[],y.some(function(f){f.call(o)})}catch(f){or.__e(f,o.__v)}})}function iA(y,h,u,l,o,f,p,m,g){var x,j,S,T,k,I,D,R=u.props,G=h.props,H=h.type;if(H==="svg"&&(o=!0),f!=null){for(x=0;x<f.length;x++)if((k=f[x])&&"setAttribute"in k==!!H&&(H?k.localName===H:k.nodeType===3)){y=k,f[x]=null;break}}if(y==null){if(H===null)return document.createTextNode(G);y=o?document.createElementNS("http://www.w3.org/2000/svg",H):document.createElement(H,G.is&&G),f=null,m=!1}if(H===null)R===G||m&&y.data===G||(y.data=G);else{if(f=f&&Sg.call(y.childNodes),R=u.props||lg,!m&&f!=null)for(R={},x=0;x<y.attributes.length;x++)R[(k=y.attributes[x]).name]=k.value;for(x in R)k=R[x],x=="children"||(x=="dangerouslySetInnerHTML"?S=k:x==="key"||x in G||Rd(y,x,null,k,o));for(x in G)k=G[x],x=="children"?T=k:x=="dangerouslySetInnerHTML"?j=k:x=="value"?I=k:x=="checked"?D=k:x==="key"||m&&typeof k!="function"||R[x]===k||Rd(y,x,k,R[x],o);if(j)m||S&&(j.__html===S.__html||j.__html===y.innerHTML)||(y.innerHTML=j.__html),h.__k=[];else if(S&&(y.innerHTML=""),M_(y,jg(T)?T:[T],h,u,l,o&&H!=="foreignObject",f,p,f?f[0]:u.__k&&Ac(u,0),m,g),f!=null)for(x=f.length;x--;)f[x]!=null&&j_(f[x]);m||(x="value",I!==void 0&&(I!==y[x]||H==="progress"&&!I||H==="option"&&I!==R[x])&&Rd(y,x,I,R[x],!1),x="checked",D!==void 0&&D!==y[x]&&Rd(y,x,D,R[x],!1))}return y}function Mg(y,h,u){try{typeof y=="function"?y(h):y.current=h}catch(l){or.__e(l,u)}}function fg(y,h,u){var l,o;if(or.unmount&&or.unmount(y),(l=y.ref)&&(l.current&&l.current!==y.__e||Mg(l,null,h)),(l=y.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(f){or.__e(f,h)}l.base=l.__P=null,y.__c=void 0}if(l=y.__k)for(o=0;o<l.length;o++)l[o]&&fg(l[o],h,u||typeof y.type!="function");u||y.__e==null||j_(y.__e),y.__=y.__e=y.__d=void 0}function aA(y,h,u){return this.constructor(y,u)}Sg=S_.slice,or={__e:function(y,h,u,l){for(var o,f,p;h=h.__;)if((o=h.__c)&&!o.__)try{if((f=o.constructor)&&f.getDerivedStateFromError!=null&&(o.setState(f.getDerivedStateFromError(y)),p=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(y,l||{}),p=o.__d),p)return o.__E=o}catch(m){y=m}throw y}},x_=0,jc.prototype.setState=function(y,h){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=eu({},this.state),typeof y=="function"&&(y=y(eu({},u),this.props)),y&&eu(u,y),y!=null&&this.__v&&(h&&this._sb.push(h),Db(this))},jc.prototype.forceUpdate=function(y){this.__v&&(this.__e=!0,y&&this.__h.push(y),Db(this))},jc.prototype.render=Pg,ts=[],E_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,cg=function(y,h){return y.__v.__b-h.__v.__b},Ud.__r=0;var Pf=function(){return Pf=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Pf.apply(this,arguments)};function Ag(y){var h=y.x,u=y.y,l=y.width,o=y.height,f=y.radius,p=y.className,m=h-l/2,g=u-o/2,x=Pf(Pf({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+p},y),{x:m,y:g});return Be.h("rect",Pf({},x))}Ag.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Ec;(function(y){y.NODE="node",y.CIRCLE_NODE="circle-node",y.POLYGON_NODE="polygon-node",y.RECT_NODE="rect-node",y.HTML_NODE="html-node",y.TEXT_NODE="text-node",y.ELLIPSE_NODE="ellipse-node",y.DIAMOND_NODE="diamond-node",y.EDGE="edge",y.LINE_EDGE="line-edge",y.POLYLINE_EDGE="polyline-edge",y.BEZIER_EDGE="bezier-edge",y.GRAPH="graph"})(Ec||(Ec={}));var uA=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),ns=function(){return ns=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},ns.apply(this,arguments)},sA=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},cA=Be.LogicFlowUtil.StepDrag,lA=function(y){uA(h,y);function h(u){var l=y.call(this)||this;return l.updatePosition=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel,g=m.x,x=m.y;l.nodeModel.x=g+f/2,l.nodeModel.y=x+p/2,l.nodeModel.moveText(f/2,p/2)},l.getResize=function(o){var f=o.index,p=o.deltaX,m=o.deltaY,g=o.width,x=o.height,j=o.PCTResizeInfo,S=o.pct,T=S===void 0?1:S,k={width:g,height:x,deltaX:p,deltaY:m};if(j){var I=4,D=0,R=0;switch(f){case 0:R=(p*-1-m)/I;break;case 1:R=(p-m)/I;break;case 2:R=(p+m)/I;break;case 3:R=(p*-1+m)/I;break}R!==0&&(D=Math.round(R/j.ResizeBasis.basisHeight*1e5)/1e3),j.ResizePCT.widthPCT=Math.max(Math.min(j.ResizePCT.widthPCT+D,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit),j.ResizePCT.hightPCT=Math.max(Math.min(j.ResizePCT.hightPCT+D,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit);var G=Math.round(j.ResizePCT.widthPCT*j.ResizeBasis.basisWidth/100),H=Math.round(j.ResizePCT.hightPCT*j.ResizeBasis.basisHeight/100);switch(f){case 0:p=g-G,m=x-H;break;case 1:p=G-g,m=x-H;break;case 2:p=G-g,m=H-x;break;case 3:p=g-G,m=H-x;break}return k.width=G,k.height=H,k.deltaX=p/T,k.deltaY=m/T,k}switch(f){case 0:k.width=g-p*T,k.height=x-m*T;break;case 1:k.width=g+p*T,k.height=x-m*T;break;case 2:k.width=g+p*T,k.height=x+m*T;break;case 3:k.width=g-p*T,k.height=x+m*T;break}return k},l.updateEdgePointByAnchors=function(){var o=l.nodeModel,f=o.id,p=o.anchors,m=l.getNodeEdges(f);m.sourceEdges.forEach(function(g){var x=p.find(function(j){return j.id===g.sourceAnchorId});g.updateStartPoint({x:x.x,y:x.y})}),m.targetEdges.forEach(function(g){var x=p.find(function(j){return j.id===g.targetAnchorId});g.updateEndPoint({x:x.x,y:x.y})})},l.updateRect=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel,g=m.id,x=m.x,j=m.y,S=m.width,T=m.height,k=m.radius,I=m.PCTResizeInfo,D=l.index,R=l.getResize({index:D,deltaX:f,deltaY:p,width:S,height:T,PCTResizeInfo:I,pct:1}),G=l.nodeModel,H=G.minWidth,ee=G.minHeight,ue=G.maxWidth,ie=G.maxHeight;if(R.width<H||R.width>ue||R.height<ee||R.height>ie){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),l.nodeModel.width=R.width,l.nodeModel.height=R.height,l.nodeModel.setProperties({nodeSize:{width:R.width,height:R.height}}),l.getNodeEdges(g);var te={x,y:j,width:S,height:T,radius:k},ne={x:l.nodeModel.x,y:l.nodeModel.y,width:l.nodeModel.width,height:l.nodeModel.height,radius:k};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:te,afterNode:ne})},l.updateEllipse=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel,g=m.id,x=m.rx,j=m.ry,S=m.x,T=m.y,k=m.PCTResizeInfo,I=l.index,D=x,R=j,G=l.getResize({index:I,deltaX:f,deltaY:p,width:D,height:R,PCTResizeInfo:k,pct:1/2}),H=l.nodeModel,ee=H.minWidth,ue=H.minHeight,ie=H.maxWidth,te=H.maxHeight;if(G.width<ee/2||G.width>ie/2||G.height<ue/2||G.height>te/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:G.deltaX,deltaY:G.deltaY}),l.nodeModel.rx=G.width,l.nodeModel.ry=G.height,l.nodeModel.setProperties({nodeSize:{rx:G.width,ry:G.height}}),l.getNodeEdges(g);var ne={x:S,y:T},$={rx:G.width,ry:G.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:ns(ns({},ne),{rx:x,ry:j}),afterNode:$})},l.updateDiamond=function(o){var f=o.deltaX,p=o.deltaY,m=l.nodeModel;m.id;var g=m.rx,x=m.ry,j=m.x,S=m.y,T=m.PCTResizeInfo,k=l.index,I=g,D=x,R=l.getResize({index:k,deltaX:f,deltaY:p,width:I,height:D,PCTResizeInfo:T,pct:1/2}),G=l.nodeModel,H=G.minWidth,ee=G.minHeight,ue=G.maxWidth,ie=G.maxHeight;if(R.width<H/2||R.width>ue/2||R.height<ee/2||R.height>ie/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),l.nodeModel.rx=R.width,l.nodeModel.ry=R.height,l.nodeModel.setProperties({nodeSize:{rx:R.width,ry:R.height}});var te={x:j,y:S,rx:g,ry:x},ne={rx:R.width,ry:R.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:te,afterNode:ne})},l.eventEmit=function(o){var f=o.beforeNode,p=o.afterNode,m=l.nodeModel,g=m.id,x=m.modelType,j=m.type,S=ns({id:g,modelType:x,type:j},f),T=ns({id:g,modelType:x,type:j},p);l.graphModel.eventCenter.emit("node:resize",{oldNodeSize:S,newNodeSize:T})},l.onDragging=function(o){var f,p=o.deltaX,m=o.deltaY,g=l.graphModel.transformModel,x=l.nodeModel.modelType;f=sA(g.fixDeltaXY(p,m),2),p=f[0],m=f[1],x===Ec.RECT_NODE||x===Ec.HTML_NODE?l.updateRect({deltaX:p,deltaY:m}):x===Ec.ELLIPSE_NODE?l.updateEllipse({deltaX:p,deltaY:m}):x===Ec.DIAMOND_NODE&&l.updateDiamond({deltaX:p,deltaY:m})},l.onDragEnd=function(){l.updateEdgePointByAnchors();var o=l.graphModel.gridSize,f=o===void 0?1:o,p=f*Math.round(l.nodeModel.x/f),m=f*Math.round(l.nodeModel.y/f);l.nodeModel.moveTo(p,m)},l.index=u.index,l.nodeModel=u.model,l.graphModel=u.graphModel,l.state={},l.dragHandler=new cA({onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:1}),l}return h.prototype.getNodeEdges=function(u){for(var l=this.graphModel,o=l.edges,f=[],p=[],m=0;m<o.length;m++){var g=o[m];g.sourceNodeId===u?f.push(g):o[m].targetNodeId===u&&p.push(g)}return{sourceEdges:f,targetEdges:p}},h.prototype.render=function(){var u=this.props,l=u.x,o=u.y,f=u.index,p=u.model,m=p.getControlPointStyle();return jf("g",{className:"lf-resize-control-"+f},jf(Ag,ns({className:"lf-node-control"},{x:l,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(jc),fA=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Yd=function(){return Yd=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Yd.apply(this,arguments)},eh=function(y){fA(h,y);function h(){var u=y.call(this)||this;return u.state={},u}return h.prototype.getResizeControl=function(){var u=this.props,l=u.model,o=u.graphModel,f=l.x,p=l.y,m=l.width,g=l.height,x={minX:f-m/2,minY:p-g/2,maxX:f+m/2,maxY:p+g/2},j=x.minX,S=x.minY,T=x.maxX,k=x.maxY,I=[{x:j,y:S},{x:T,y:S},{x:T,y:k},{x:j,y:k}];return I.map(function(D,R){return jf(lA,Yd({index:R},D,{model:l,graphModel:o}))})},h.prototype.getGroupSolid=function(){var u=this.props.model,l=u.x,o=u.y,f=u.width,p=u.height,m=u.getResizeOutlineStyle();return jf(Ag,Yd({fill:"none"},m,{x:l,y:o,width:f,height:p}))},h.prototype.render=function(){return jf("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(jc),T_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),pA=function(y){T_(h,y);function h(u,l){var o=y.call(this,u,l)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return h.prototype.initNodeData=function(u){y.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var u=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(u,l){console.log(u,l)},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h}(Be.RectNodeModel),dA=function(y){T_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Be.h(eh,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Be.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h}(Be.RectNode),N_={type:"rect",view:dA,model:pA},D_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(y){D_(h,y);function h(u,l){var o=y.call(this,u,l)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return h.prototype.initNodeData=function(u){y.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var u=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h})(Be.EllipseNodeModel);(function(y){D_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Be.h(eh,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var u=this.props,l=u.model,o=u.graphModel.editConfigModel.isSilentMode;return Be.h("g",null,this.getResizeShape(),l.isSelected&&!o?this.getControlGroup():"")},h})(Be.EllipseNode);var pg=function(){return pg=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},pg.apply(this,arguments)};function hA(y){var h=y.fillOpacity,u=h===void 0?1:h,l=y.strokeWidth,o=l===void 0?1:l,f=y.strokeOpacity,p=f===void 0?1:f,m=y.fill,g=m===void 0?"transparent":m,x=y.stroke,j=x===void 0?"#000":x,S=y.points,T=y.className,k=T===void 0?"lf-basic-shape":T,I={fill:g,fillOpacity:u,strokeWidth:o,stroke:j,strokeOpacity:p,points:"",className:k};return I.points=S.map(function(D){return D.join(",")}).join(" "),Be.h("polygon",pg({},I))}var C_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),dg=function(){return dg=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},dg.apply(this,arguments)};(function(y){C_(h,y);function h(u,l){var o=y.call(this,u,l)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return h.prototype.initNodeData=function(u){y.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var u=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h})(Be.DiamondNodeModel);(function(y){C_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Be.h(eh,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){var u=this.props.model,l=u.points,o=u.getNodeStyle();return Be.h("g",null,Be.h(hA,dg({},o,{points:l})))},h.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Be.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h})(Be.DiamondNode);var I_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(y){I_(h,y);function h(u,l){var o=y.call(this,u,l)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return h.prototype.initNodeData=function(u){y.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var u=y.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},h})(Be.HtmlNodeModel);(function(y){I_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Be.h(eh,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Be.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h})(Be.HtmlNode);var R_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Vd=function(){return Vd=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Vd.apply(this,arguments)},yA=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},vA=function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(yA(arguments[h]));return y},Lb=500,zb=300,gA=-1e4,mA=function(y){R_(h,y);function h(){var u=y!==null&&y.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Lb,u.unfoldedHight=zb,u.childrenLastFoldStatus={},u}return h.prototype.initNodeData=function(u){var l=this;y.prototype.initNodeData.call(this,u);var o=[];Array.isArray(u.children)&&(o=u.children),this.children=new Set(o),this.width=Lb,this.height=zb,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=gA,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){l.isFolded&&l.foldGroup(l.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var u=y.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},h.prototype.foldGroup=function(u){var l=this;if(u!==this.isFolded){this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var p=l.graphModel.getElement(f),m=p.isFolded;if(p.isGroup&&!p.isFolded&&p.foldGroup(u),p.isGroup&&!u){var g=l.childrenLastFoldStatus[f];g!==void 0&&g!==p.isFolded&&p.foldGroup(g)}l.childrenLastFoldStatus[f]=m,p.visible=!u,o=o.concat(p.incoming.edges.concat(p.outgoing.edges))}),this.foldEdge(u,o)}},h.prototype.getAnchorStyle=function(u){var l=y.prototype.getAnchorStyle.call(this,u);return l.stroke="transparent",l.fill="transparent",l.hover.fill="transparent",l.hover.stroke="transparent",l},h.prototype.foldEdge=function(u,l){var o=this;l.forEach(function(f,p){var m=f.id,g=f.sourceNodeId,x=f.targetNodeId,j=f.startPoint,S=f.endPoint,T=f.type,k=f.text,I=f.getProperties(),D={id:m+"__"+p,sourceNodeId:g,targetNodeId:x,startPoint:j,endPoint:S,type:T,properties:I,text:k==null?void 0:k.value};f.virtual&&o.graphModel.deleteEdgeById(f.id);var R=o.graphModel.group.getNodeGroup(x);R||(R=o.graphModel.getNodeModelById(x));var G=o.graphModel.group.getNodeGroup(g);G||(G=o.graphModel.getNodeModelById(g)),u&&f.visible!==!1&&(o.children.has(g)||o.id===g?(D.startPoint=void 0,D.sourceNodeId=o.id):(D.endPoint=void 0,D.targetNodeId=o.id),(R.id!==o.id||G.id!==o.id)&&o.createVirtualEdge(D),f.visible=!1),!u&&f.visible===!1&&(R&&R.isGroup&&R.isFolded?(D.targetNodeId=R.id,D.endPoint=void 0,o.createVirtualEdge(D)):G&&G.isGroup&&G.isFolded?(D.sourceNodeId=G.id,D.startPoint=void 0,o.createVirtualEdge(D)):f.visible=!0)})},h.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var l=this.graphModel.addEdge(u);l.virtual=!0,l.text.editable=!1,l.isFoldedEdge=!0},h.prototype.isInRange=function(u){var l=u.x1,o=u.y1,f=u.x2,p=u.y2;return l>=this.x-this.width/2&&f<=this.x+this.width/2&&o>=this.y-this.height/2&&p<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(u){var l=u.x1,o=u.y1,f=u.x2,p=u.y2;return{x:l>=this.x-this.width/2&&f<=this.x+this.width/2,y:o>=this.y-this.height/2&&p<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},h.prototype.addChild=function(u){this.children.add(u),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},h.prototype.removeChild=function(u){this.children.delete(u),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var u=this,l=y.prototype.getData.call(this);l.children=[],this.children.forEach(function(f){var p=u.graphModel.getNodeModelById(f);p&&!p.virtual&&l.children.push(f)});var o=l.properties;return delete o.groupAddable,delete o.isFolded,l},h.prototype.getHistoryData=function(){var u=y.prototype.getData.call(this);u.children=vA(this.children),u.isGroup=!0;var l=u.properties;return delete l.groupAddable,l.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},h.prototype.isAllowAppendIn=function(u){return!0},h.prototype.toBack=function(){this.zIndex--},h}(N_.model),bA=function(y){R_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props.model,l=u.resizable,o=u.properties;return l&&!o.isFolded?y.prototype.getControlGroup.call(this):null},h.prototype.getAddableShape=function(){var u=this.props.model,l=u.width,o=u.height,f=u.x,p=u.y,m=u.radius,g=u.properties;if(!g.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,j=this.props.model.getAddableOutlineStyle(),S=l+x+8,T=o+x+8;return Be.h("rect",Vd(Vd({},j),{width:S,height:T,x:f-S/2,y:p-T/2,rx:m,ry:m}))},h.prototype.getFoldIcon=function(){var u=this.props.model,l=u.x-u.width/2+5,o=u.y-u.height/2+5;if(!u.foldable)return null;var f=Be.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" M"+(l+7)+","+(o+2)+" "+(l+7)+","+(o+10):"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" "});return Be.h("g",{},[Be.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),f])},h.prototype.getResizeShape=function(){return Be.h("g",{},[this.getAddableShape(),y.prototype.getResizeShape.call(this),this.getFoldIcon()])},h}(N_.view);const hg={type:"group",view:bA,model:mA};var $d=function(){return $d=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},$d.apply(this,arguments)},Bb=function(y,h){var u={};for(var l in y)Object.prototype.hasOwnProperty.call(y,l)&&h.indexOf(l)<0&&(u[l]=y[l]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(y);o<l.length;o++)h.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(y,l[o])&&(u[l[o]]=y[l[o]]);return u},_A=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},rg=function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(_A(arguments[h]));return y},OA=-1e3,Fb=-1e4,Nk=function(){function y(h){var u=this,l=h.lf;this.topGroupZIndex=Fb,this.nodeGroupMap=new Map,this.graphRendered=function(o){o&&o.nodes&&o.nodes.forEach(function(f){f.children&&f.children.forEach(function(p){u.nodeGroupMap.set(p,f.id)})})},this.appendNodeToGroup=function(o){var f=o.data,p=u.nodeGroupMap.get(f.id);if(p){var m=u.lf.getNodeModelById(p);m.removeChild(f.id),u.nodeGroupMap.delete(f.id),m.setAllowAppendChild(!1)}var g=u.lf.getNodeModelById(f.id),x=g.getBounds(),j=u.getGroup(x,f);if(g.isGroup&&(f.children.forEach(function(T){u.nodeGroupMap.set(T,f.id)}),u.nodeSelected({data:f,isSelected:!1,isMultiple:!1})),!!j){var S=j.isAllowAppendIn(f);if(!S){u.lf.emit("group:not-allowed",{group:j.getData(),node:f});return}j.addChild(f.id),u.nodeGroupMap.set(f.id,j.id),j.setAllowAppendChild(!1)}},this.deleteGroupChild=function(o){var f=o.data;f.children&&f.children.forEach(function(g){u.nodeGroupMap.delete(g),u.lf.deleteNode(g)});var p=u.nodeGroupMap.get(f.id);if(p){var m=u.lf.getNodeModelById(p);m.removeChild(f.id),u.nodeGroupMap.delete(f.id)}},this.setActiveGroup=function(o){var f=o.data,p=u.lf.getNodeModelById(f.id),m=p.getBounds(),g=u.getGroup(m,f);if(u.activeGroup&&u.activeGroup.setAllowAppendChild(!1),!(!g||p.isGroup&&g.id===f.id)){var x=g.isAllowAppendIn(f);x&&(u.activeGroup=g,u.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(o){var f=o.data,p=o.isMultiple,m=o.isSelected,g=u.lf.getNodeModelById(f.id);if(u.toFrontGroup(g),u.topGroupZIndex>OA){u.topGroupZIndex=Fb;for(var x=u.lf.graphModel.nodes.filter(function(D){return D.isGroup}).sort(function(D,R){return D.zIndex-R.zIndex}),j=0,S=0;S<x.length;S++){var T=x[S];T.zIndex!==j&&(u.topGroupZIndex++,j=T.zIndex),T.setZIndex(u.topGroupZIndex)}}if(p&&m)if(g.isGroup)g.children.forEach(function(D){var R=u.lf.graphModel.getElement(D);R.setSelected(!1)});else{var k=u.nodeGroupMap.get(f.id);if(k){var I=u.lf.getNodeModelById(k);I.isSelected&&g.setSelected(!1)}}},this.toFrontGroup=function(o){!o||!o.isGroup||(u.topGroupZIndex++,o.setZIndex(u.topGroupZIndex),o.children&&o.children.forEach(function(f){var p=u.lf.getNodeModelById(f);u.toFrontGroup(p)}))},l.register(hg),this.lf=l,l.graphModel.addNodeMoveRules(function(o,f,p){if(o.isGroup){var m=u.getNodeAllChild(o);return l.graphModel.moveNodes(m,f,p,!0),!0}var g=l.getNodeModelById(u.nodeGroupMap.get(o.id));if(g&&g.isRestrict){var x=o.getBounds(),j=x.x1,S=x.y1,T=x.x2,k=x.y2,I=g.isAllowMoveTo({x1:j+f,y1:S+p,x2:T+f,y2:k+p});return I}return!0}),l.graphModel.group=this,l.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),l.on("node:delete",this.deleteGroupChild),l.on("node:dnd-drag,node:drag",this.setActiveGroup),l.on("node:click",this.nodeSelected),l.on("graph:rendered",this.graphRendered),l.addElements=function(o,f){for(var p=o.nodes,m=o.edges,g={},x={nodes:[],edges:[]},j=[],S=0;S<p.length;S++){var T=p[S],k=T.id,I=T.children,D=Bb(T,["children"]),R=l.addNode(D);if(!R)return{nodes:[],edges:[]};k&&(g[k]=R.id),x.nodes.push(R);var G=u.createAllChildNodes(g,I,R,f).edgesArray;j.push.apply(j,rg(G))}return j.forEach(function(H){u.createEdgeModel(H,g,f)}),m.forEach(function(H){var ee=u.createEdgeModel(H,g,0);x.edges.push(ee)}),x}}return y.prototype.createAllChildNodes=function(h,u,l,o){var f=this,p=this.lf,m=[],g=[],x=[];u==null||u.forEach(function(T){var k=p.getNodeModelById(T),I=k.x,D=k.y,R=k.properties,G=k.type,H=k.text,ee=k.rotate,ue=k.children;k.incoming,k.outgoing;var ie=Be.EventType.NODE_GROUP_COPY||"node:group-copy-add",te=p.addNode({x:I+o,y:D+o,properties:R,type:G,text:$d($d({},H),{x:H.x+o,y:H.y+o}),rotate:ee},ie);if(l.addChild(te.id),h[T]=te.id,x.push(te),k.incoming.edges.forEach(function(Y){g.push(Y)}),k.outgoing.edges.forEach(function(Y){g.push(Y)}),ue instanceof Set){var ne=f.createAllChildNodes(h,ue,te,o),$=ne.nodesArray,B=ne.edgesArray;x.push.apply(x,rg($)),m.push.apply(m,rg(B))}});var j=g.filter(function(T){return h[T.sourceNodeId]&&h[T.targetNodeId]}),S=j.map(function(T){return T.getData()});return{nodesArray:x,edgesArray:m.concat(S)}},y.prototype.createEdgeModel=function(h,u,l){var o=this.lf,f=h.sourceNodeId,p=h.targetNodeId;u[f]&&(f=u[f]),u[p]&&(p=u[p]);var m=h.type,g=h.startPoint,x=h.endPoint,j=h.pointsList,S=h.text;Bb(h,["type","startPoint","endPoint","pointsList","text"]);var T={x:g.x+l,y:g.y+l},k={x:x.x+l,y:x.y+l},I=[];j&&j.length>0&&(I=j.map(function(G){return G.x+=l,G.y+=l,G}));var D=S;S&&typeof S!="string"&&(D.x=S.x+l,D.y=S.y+l);var R=o.graphModel.addEdge({type:m,startPoint:T,endPoint:k,sourceNodeId:f,targetNodeId:p,pointsList:I,text:D});return R},y.prototype.getNodeAllChild=function(h){var u=this,l=[];return h.children&&h.children.forEach(function(o){l.push(o);var f=u.lf.getNodeModelById(o);f.isGroup&&(l=l.concat(u.getNodeAllChild(f)))}),l},y.prototype.getGroup=function(h,u){var l=this.lf.graphModel.nodes,o=l.filter(function(m){return m.isGroup&&m.isInRange(h)&&m.id!==u.id});if(o.length!==0){if(o.length===1)return o[0];for(var f=o[o.length-1],p=o.length-2;p>=0;p--)o[p].zIndex>f.zIndex&&(f=o[p]);return f}},y.prototype.getNodeGroup=function(h){var u=this.nodeGroupMap.get(h);if(u)return this.lf.getNodeModelById(u)},y.pluginName="group",y}(),Wb=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Mf=function(){return Mf=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Mf.apply(this,arguments)};function Dk(){var y=function(u){Wb(l,u);function l(){return u!==null&&u.apply(this,arguments)||this}return l.prototype.getFoldIcon=function(){var o=this.props.model,f=o.x,p=o.y,m=o.width,g=o.height,x=o.properties,j=o.foldable,S=o.x-o.width/2+5,T=o.y-o.height/2+5;if(!j)return null;var k=Be.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:x.isFolded?"M "+(S+3)+","+(T+6)+" "+(S+11)+","+(T+6)+" M"+(S+7)+","+(T+2)+" "+(S+7)+","+(T+10):"M "+(S+3)+","+(T+6)+" "+(S+11)+","+(T+6)+" "});return Be.h("g",{},[Be.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:f-m/2+5,y:p-g/2+5,onClick:function(I){I.stopPropagation(),o.foldGroup(!x.isFolded)}}),k])},l.prototype.getResizeShape=function(){var o=this.props.model,f=o.x,p=o.y,m=o.width,g=o.height,x=o.getNodeStyle(),j=Mf(Mf({},x),{x:f-m/2,y:p-g/2,width:m,height:g,stroke:"black",strokeWidth:2,strokeDasharray:"0 0"});return Be.h("g",{},[Be.h("rect",Mf({},j)),this.getFoldIcon()])},l}(hg.view),h=function(u){Wb(l,u);function l(){return u!==null&&u.apply(this,arguments)||this}return l.prototype.initNodeData=function(o){u.prototype.initNodeData.call(this,o),this.foldable=!0,this.resizable=!0,this.width=400,this.height=200,this.resetWidthHeight(),this.isTaskNode=!0,this.boundaryEvents=[]},l.prototype.resetWidthHeight=function(){var o,f,p=(o=this.properties.iniProp)===null||o===void 0?void 0:o.width,m=(f=this.properties.iniProp)===null||f===void 0?void 0:f.height;p&&(this.width=p),m&&(this.height=m)},l.prototype.getNodeStyle=function(){var o=u.prototype.getNodeStyle.call(this);o.stroke="#989891",o.strokeWidth=1,o.strokeDasharray="3 3",this.isSelected&&(o.stroke="rgb(124, 15, 255)");var f=this.properties.isBoundaryEventTouchingTask;return f&&(o.stroke="#00acff",o.strokeWidth=2),o},l.prototype.addChild=function(o){var f=this.graphModel.getElement(o);f.setProperties({parent:this.id}),u.prototype.addChild.call(this,o)},l.prototype.getAnchorStyle=function(){var o=u.prototype.getAnchorStyle.call(this,{});return o.stroke="#000",o.fill="#fff",o.hover.stroke="transparent",o},l.prototype.getOutlineStyle=function(){var o=u.prototype.getOutlineStyle.call(this);return o.stroke="transparent",!o.hover&&(o.hover={}),o.hover.stroke="transparent",o},l.prototype.setTouching=function(o){this.setProperty("isBoundaryEventTouchingTask",o)},l.prototype.addBoundaryEvent=function(o){if(this.setTouching(!1),this.boundaryEvents.find(function(p){return p===o}))return!1;var f=this.graphModel.getNodeModelById(o);return f==null||f.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(o),!0},l.prototype.deleteBoundaryEvent=function(o){this.boundaryEvents=this.boundaryEvents.filter(function(f){return f!==o})},l}(hg.model);return{type:"bpmn:subProcess",view:y,model:h}}var Gb=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Af=function(){return Af=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Af.apply(this,arguments)};function wA(y){var h=function(l){Gb(o,l);function o(f,p){var m=this;f.id||(f.id="Flow_"+rs());var g=Af(Af(Af({},y||{}),f.properties),{isDefaultFlow:!1});return f.properties=g,m=l.call(this,f,p)||this,m}return o.extendKey="SequenceFlowModel",o}(Be.PolylineEdgeModel),u=function(l){Gb(o,l);function o(){return l!==null&&l.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var f=this.props.model,p=f.properties.isDefaultFlow;return p?Be.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Be.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(Be.PolylineEdge);return{type:"bpmn:sequenceFlow",view:u,model:h}}wA();function Ck(y){function h(u){function l(o,f){return o.forEach(function(p){y!=null&&y[p]||(y[p]=new Map);var m=y==null?void 0:y[p];f.forEach(function(g){m.set(g.type,g)})}),y}u.forEach(function(o){l(o.nodes,o.definition)})}return function(){return[y,h]}}var Xb={width:40,height:40},Hb={width:40,height:40},Ub={width:100,height:80},Kd={width:100,height:80},Yb={width:100,height:80},Vb={width:100,height:80},$b={width:100,height:80},Kb={width:100,height:80},qb={width:100,height:80},Zb={width:100,height:80},oo=function(){};oo.ObjTree=function(){return this};oo.ObjTree.VERSION="0.23";oo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;oo.ObjTree.prototype.attr_prefix="-";oo.ObjTree.prototype.parseXML=function(y){var h;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(y,"application/xml");if(!l)return;h=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(y),h=u.documentElement);if(h){var o=this.parseDOM(h);return o}};oo.ObjTree.prototype.parseHTTP=function(y,h,u){var l={};for(var o in h)l[o]=h[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var f=this,p=u,m=l.onComplete;l.onComplete=function(j){var S;j&&j.responseXML&&j.responseXML.documentElement&&(S=f.parseDOM(j.responseXML.documentElement)),p(S,j),m&&m(j)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=y;var x=new HTTP.Request(l);x&&(g=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(y,l);x&&(g=x.transport)}if(u)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};oo.ObjTree.prototype.parseDOM=function(y){if(y){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var u=this.parseElement(y);if(this.__force_array[y.nodeName]&&(u=[u]),y.nodeType!==11){var l={};l[y.nodeName]=u,u=l}return u}};oo.ObjTree.prototype.parseElement=function(y){if(y.nodeType!==7){if(y.nodeType===3||y.nodeType===4||y.nodeType===8){var h=y.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:y.nodeValue}var u=null,l={};if(y.attributes&&y.attributes.length){u={};for(var o=0;o<y.attributes.length;o++){var f=y.attributes[o].nodeName;if(typeof f=="string"){var p=y.attributes[o].nodeValue;try{p=JSON.parse(y.attributes[o].nodeValue.replace(/'/g,'"'))}catch{p=y.attributes[o].nodeValue}p!=null&&(f=this.attr_prefix+f,typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(u,f,l[f],p))}}}if(y.childNodes&&y.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<y.childNodes.length&&m;o++){var g=y.childNodes[o].nodeType;g===3||g===4||g===8||(m=!1)}if(m){u||(u="");for(var o=0;o<y.childNodes.length;o++)u+=y.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<y.childNodes.length;o++){var f=y.childNodes[o].nodeName;if(typeof f=="string"){var p=this.parseElement(y.childNodes[o]);p&&(typeof l[f]>"u"&&(l[f]=0),l[f]++,this.addNode(u,f,l[f],p))}}}}else u===null&&(u={});return u}};oo.ObjTree.prototype.addNode=function(y,h,u,l){this.__force_array[h]?(u===1&&(y[h]=[]),y[h][y[h].length]=l):u===1?y[h]=l:u===2?y[h]=[y[h],l]:y[h][y[h].length]=l};oo.ObjTree.prototype.writeXML=function(y){var h=this.hash_to_xml(null,y);return this.xmlDecl+h};oo.ObjTree.prototype.hash_to_xml=function(y,h){var u=[],l=[];for(var o in h)if(h!=null&&h.hasOwnProperty(o)){var f=h[o];o.charAt(0)!==this.attr_prefix?typeof f>"u"||f==null?u[u.length]="<"+o+" />":typeof f=="object"&&f.constructor===Array?u[u.length]=this.array_to_xml(o,f):typeof f=="object"?u[u.length]=this.hash_to_xml(o,f):u[u.length]=this.scalar_to_xml(o,f):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var p=l.join(""),m=u.join("");return typeof y>"u"||y==null||(u.length>0?m.match(/\n/)?m="<"+y+p+`>
`+m+"</"+y+`>
`:m="<"+y+p+">"+m+"</"+y+`>
`:m="<"+y+p+` />
`),m};oo.ObjTree.prototype.array_to_xml=function(y,h){for(var u=[],l=0;l<h.length;l++){var o=h[l];typeof o>"u"||o==null?u[u.length]="<"+y+" />":typeof o=="object"&&o.constructor===Array?u[u.length]=this.array_to_xml(y,o):typeof o=="object"?u[u.length]=this.hash_to_xml(y,o):u[u.length]=this.scalar_to_xml(y,o)}return u.join("")};oo.ObjTree.prototype.scalar_to_xml=function(y,h){return y==="#text"?this.xml_escape(h):"<"+y+">"+this.xml_escape(h)+"</"+y+`>
`};oo.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var xA=function(y){return new oo.ObjTree().parseXML(y)};function L_(y){return Object.prototype.toString.call(y)}function Jb(y){return"  ".repeat(y)}function qd(y){return L_(y)==="[object Object]"?Object.keys(y).reduce(function(h,u){var l=u;return u.charAt(0)==="-"&&(l=u.substring(1)),h[l]=qd(y[u]),h},{}):Array.isArray(y)?y.map(function(h){return qd(h)}):y}function EA(y){var h=y;try{typeof h!="string"&&(h=JSON.parse(y))}catch{h=JSON.stringify(qd(y)).replace(/"/g,"'")}return h}var Qb=`	
`;function Fd(y,h,u){var l=Jb(u),o="",f=Qb+l;if(h==="-json")return"";if(h==="#text")return f+y;if(h==="#cdata-section")return f+"<![CDATA["+y+"]]>";if(h==="#comment")return f+"<!--"+y+"-->";if((""+h).charAt(0)==="-")return" "+h.substring(1)+'="'+EA(y)+'"';if(Array.isArray(y))o+=y.map(function(x){return Fd(x,h,u+1)}).join("");else if(L_(y)==="[object Object]"){var p=Object.keys(y),m="",g=y["-json"]?Qb+Jb(u+1)+y["-json"]:"";o+=(u===0?"":f)+"<"+h,p.forEach(function(x){x.charAt(0)==="-"?m+=Fd(y[x],x,u+1):g+=Fd(y[x],x,u+1)}),o+=m+(g!==""?">"+g+f+"</"+h+">":" />")}else o+=f+"<"+h+">"+y.toString()+"</"+h+">";return o}function SA(y){var h="";for(var u in y)h+=Fd(y[u],u,0);return h}var jA=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),yg=function(){return yg=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},yg.apply(this,arguments)},e_=function(y,h){var u={};for(var l in y)Object.prototype.hasOwnProperty.call(y,l)&&h.indexOf(l)<0&&(u[l]=y[l]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(y);o<l.length;o++)h.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(y,l[o])&&(u[l[o]]=y[l[o]]);return u},kg=function(y){var h=typeof Symbol=="function"&&Symbol.iterator,u=h&&y[h],l=0;if(u)return u.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&l>=y.length&&(y=void 0),{value:y&&y[l++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},Dc=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},Pc=function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(Dc(arguments[h]));return y},to;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",y.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",y.BOUNDARY="bpmn:boundaryEvent",y.PARALLEL_GATEWAY="bpmn:parallelGateway",y.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",y.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow",y.SUBPROCESS="bpmn:subProcess"})(to||(to={}));var z_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],PA=["properties","startPoint","endPoint","pointsList"],Zd={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},B_=function(y,h){var u=Object.keys(h||{});return u.forEach(function(l){if(y[l]){var o=h[l],f=o.in,p=o.out;f&&(y[l].in=f),p&&(y[l].out=p)}else y[l]=h[l]}),y},$o={"bpmn:startEvent":{out:function(y){var h,u,l=y.properties;return((u=(h=$o[l.definitionType])===null||h===void 0?void 0:h.out)===null||u===void 0?void 0:u.call(h,y))||{}}},"bpmn:intermediateCatchEvent":{out:function(y){var h,u,l=y.properties;return((u=(h=$o[l.definitionType])===null||h===void 0?void 0:h.out)===null||u===void 0?void 0:u.call(h,y))||{}}},"bpmn:intermediateThrowEvent":{out:function(y){var h,u,l=y.properties;return((u=(h=$o[l.definitionType])===null||h===void 0?void 0:h.out)===null||u===void 0?void 0:u.call(h,y))||{}}},"bpmn:boundaryEvent":{out:function(y){var h,u,l=y.properties;return((u=(h=$o[l.definitionType])===null||h===void 0?void 0:h.out)===null||u===void 0?void 0:u.call(h,y))||{}}},"bpmn:sequenceFlow":{out:function(y){var h=y.properties,u=h.expressionType,l=h.condition;return l?u==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+l+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+l+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(y){var h=y.properties,u=h.timerType,l=h.timerValue,o=h.definitionId,f=function(){return"<bpmn:"+u+' xsi:type="bpmn:tFormalExpression">'+l+"</bpmn:"+u+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(u&&l?">"+f()+"</bpmn:timerEventDefinition>":"/>")}},in:function(y,h){var u,l,o,f,p=y,m=h["-id"],g="",x="";try{for(var j=kg(Object.keys(h)),S=j.next();!S.done;S=j.next()){var T=S.value;T.includes("bpmn:")&&(o=Dc(T.split(":"),2),g=o[1],x=(f=h[T])===null||f===void 0?void 0:f["#text"])}}catch(k){u={error:k}}finally{try{S&&!S.done&&(l=j.return)&&l.call(j)}finally{if(u)throw u.error}}return{"-definitionId":m,"-definitionType":p,"-timerType":g,"-timerValue":x}}},"bpmn:conditionExpression":{in:function(y,h){var u,l="",o="";return h["#cdata-section"]?(o="cdata",l=((u=/^\$\{(.*)\}$/g.exec(h["#cdata-section"]))===null||u===void 0?void 0:u[1])||""):h["#text"]&&(o="normal",l=h["#text"]),{"-condition":l,"-expressionType":o}}}};function MA(y){var h=y??{},u=h.retainedAttrsFields,l=h.excludeFields,o=h.transformer,f=new Set(Pc(PA,u||[])),p={in:new Set(Pc(Zd.in,(l==null?void 0:l.in)||[])),out:new Set(Pc(Zd.out,(l==null?void 0:l.out)||[]))};return $o=B_($o,o),function(m){var g=m.nodes,x=m.edges;function j(S,T){var k,I,D;if((S==null?void 0:S.flag)!==1){var R;if((R=$o[S.type])&&R.out){var G=R.out(S),H=Object.keys(G);H.length>0&&H.forEach(function(Y){S[Y]=G[Y]})}S!=null&&S.children&&(S.children=S.children.map(function(Y){var V=g.find(function(q){return q.id===Y})||x.find(function(q){return q.id===Y});return V||{}}));var ee={};if(typeof S=="string")return S;if(Array.isArray(S))return S.map(function(Y){return j(Y,"")}).filter(function(Y){return Y!=null});try{for(var ue=kg(Object.entries(S)),ie=ue.next();!ie.done;ie=ue.next()){var te=Dc(ie.value,2),ne=te[0],$=te[1];if(((D=$)===null||D===void 0?void 0:D.flag)===1)return;var B=[T,ne].filter(function(Y){return Y}).join(".");p.out.has(B)||(typeof $!="object"?ne.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(ne)?ee[ne]=$:ee["-"+ne]=$:f.has(B)?ee["-"+ne]=j($,B):ee[ne]=j($,B))}}catch(Y){k={error:Y}}finally{try{ie&&!ie.done&&(I=ue.return)&&I.call(ue)}finally{if(k)throw k.error}}return ee}}return j(m,"")}}function Jd(y){var h,u,l={};try{for(var o=kg(Object.entries(y)),f=o.next();!f.done;f=o.next()){var p=Dc(f.value,2),m=p[0],g=p[1];m.indexOf("-")===0?l[m.substring(1)]=qd(g):typeof g=="string"?l[m]=g:Object.prototype.toString.call(g)==="[object Object]"?l[m]=Jd(g):Array.isArray(g)?l[m]=g.map(function(x){return Jd(x)}):l[m]=g}}catch(x){h={error:x}}finally{try{f&&!f.done&&(u=o.return)&&u.call(o)}finally{if(h)throw h.error}}return l}function AA(y,h,u){var l,o=new Map,f=MA(u)(h);f.nodes.forEach(function(m){var g=m["-id"],x=m["-type"],j=m.text,S=m.children,T=e_(m,["-id","-type","text","children"]),k={"-id":g};j!=null&&j["-value"]&&(k["-name"]=j["-value"]),T["-json"]&&(k["-json"]=T["-json"]),T["-properties"]&&Object.assign(k,T["-properties"]),S&&(k.children=S),y[x]||(y[x]=[]),y[x].push(k),o.set(g,k)});var p=f.edges.map(function(m){var g=m["-id"];m["-type"];var x=m["-sourceNodeId"],j=m["-targetNodeId"],S=m.text,T=e_(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),k=o.get(j);k["bpmn:incoming"]||(k["bpmn:incoming"]=[]),k["bpmn:incoming"].push(g);var I={"-id":g,"-sourceRef":x,"-targetRef":j};return S!=null&&S["-value"]&&(I["-name"]=S["-value"]),T["-json"]&&(I["-json"]=T["-json"]),T["-properties"]&&Object.assign(I,T["-properties"]),I});return h.edges.forEach(function(m){var g=m.sourceNodeId,x=m.id,j=o.get(g);j["bpmn:outgoing"]||(j["bpmn:outgoing"]=[]),j["bpmn:outgoing"].push(x)}),(l=y["bpmn:subProcess"])===null||l===void 0||l.forEach(function(m){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},x=[];m.children.forEach(function(D){var R,G=o.get(D["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(ee){G[ee]&&G[ee].forEach(function(ue){g[ee].add(ue)})});var H=(R=y[D["-type"]])===null||R===void 0?void 0:R.findIndex(function(ee){return ee["-id"]===D["-id"]});H>=0&&y[D["-type"]].splice(H,1),o.delete(D["-id"]),m[D["-type"]]||(m[D["-type"]]=[]),m[D["-type"]].push(G)});var j=g["bpmn:incoming"],S=g["bpmn:outgoing"];S.forEach(function(D){j.has(D)&&x.push(D)});for(var T=function(D){var R=p.findIndex(function(G){return G["-id"]===x[D]});R>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(p[R]),p.splice(R,1)):D++,k=D},k,I=0;I<x.length;)T(I),I=k;delete m.children}),y[to.FLOW]=p,y}function kA(y,h){y["bpmndi:BPMNEdge"]=h.edges.map(function(u){var l,o=u.id,f=u.pointsList.map(function(m){var g=m.x,x=m.y;return{"-x":g,"-y":x}}),p={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((l=u.text)===null||l===void 0)&&l.value&&(p["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),p}),y["bpmndi:BPMNShape"]=h.nodes.map(function(u){var l,o=u.id,f=100,p=80,m=u.x,g=u.y,x=po.shapeConfigMap.get(u.type);x&&(f=x.width,p=x.height),m-=f/2,g-=p/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":f,"-height":p}};return!((l=u.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),j})}var TA=["bpmn:incoming","bpmn:outgoing"];function NA(y,h){var u=[],l=[],o=new Map,f=h??{},p=f.transformer,m=f.excludeFields,g={in:new Set(Pc(Zd.in,(m==null?void 0:m.in)||[])),out:new Set(Pc(Zd.out,(m==null?void 0:m.out)||[]))};$o=B_($o,p);var x=y["bpmn:definitions"];if(x){var j=x["bpmn:process"];(function(T,k){k.forEach(function(I){try{Object.keys(T).forEach(function(D){try{I(D)}catch(R){console.error(R)}})}catch(D){console.error(D)}})})(j,[function(T){function k(D){D["-children"]||(D["-children"]=[]),Object.keys(D).forEach(function(R){var G;R.indexOf("bpmn:")===0&&!TA.includes(R)&&(j[R]||(j[R]=[]),!Array.isArray(j[R])&&(j[R]=[j[R]]),Array.isArray(D[R])?(G=j[R]).push.apply(G,Pc(D[R])):j[R].push(D[R]),Array.isArray(D[R])?D[R].forEach(function(H){!R.includes("Flow")&&D["-children"].push(H["-id"])}):!R.includes("Flow")&&D["-children"].push(D[R]["-id"]),delete D[R])})}if(T==="bpmn:subProcess"){var I=j[T];Array.isArray(I)?I.forEach(function(D){T==="bpmn:subProcess"&&k(D)}):k(I)}},function(T){var k=function(D){Object.keys(D).forEach(function(R){var G,H;if(R.includes("bpmn:")){var ee={};$o[R]&&$o[R].in?(ee=(H=(G=$o[R]).in)===null||H===void 0?void 0:H.call(G,R,W.cloneDeep(D[R])),delete D[R]):I(D[R]);var ue=void 0;(ue=Reflect.ownKeys(ee)).length>0&&ue.forEach(function(ie){Reflect.set(D,ie,ee[ie])})}})};function I(D){o.set(D["-id"],D),Array.isArray(D)?D.forEach(function(R){I(R)}):typeof D=="object"&&k(D)}I(j[T])},function(T){if(T.indexOf("bpmn:")===0){var k=j[T];if(T==="bpmn:sequenceFlow"){var I=x["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];l=CA(k,I)}else{var D=x["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(T==="bpmn:boundaryEvent"){var R=j[T],G=function(H){var ee=H["-attachedToRef"],ue=o.get(ee);ue["-boundaryEvents"]||(ue["-boundaryEvents"]=[]),ue["-boundaryEvents"].push(H["-id"])};Array.isArray(R)?R.forEach(function(H){G(H)}):G(R)}u=u.concat(DA(k,D,T))}}}])}var S=function(T,k,I){Object.keys(T).forEach(function(D){var R=I?I+"."+D:D;k.has(R)?delete T[D]:typeof T[D]=="object"&&S(T[D],k,R)})};return u.forEach(function(T){var k,I;if(!((k=h==null?void 0:h.mapping)===null||k===void 0)&&k.in){var D=(I=h==null?void 0:h.mapping)===null||I===void 0?void 0:I.in,R=T.type;D[R]&&(T.type=D[R])}S(T,g.in,"")}),l.forEach(function(T){var k,I;if(!((k=h==null?void 0:h.mapping)===null||k===void 0)&&k.in){var D=(I=h==null?void 0:h.mapping)===null||I===void 0?void 0:I.in,R=T.type;D[R]&&(T.type=D[R])}S(T,g.in,"")}),{nodes:u,edges:l}}function DA(y,h,u){var l=[];if(Array.isArray(y))y.forEach(function(p){var m;Array.isArray(h)?m=h.find(function(x){return x["-bpmnElement"]===p["-id"]}):m=h;var g=t_(m,u,p);l.push(g)});else{var o=void 0;Array.isArray(h)?o=h.find(function(p){return p["-bpmnElement"]===y["-id"]}):o=h;var f=t_(o,u,y);l.push(f)}return l}function t_(y,h,u){var l=Number(y["dc:Bounds"]["-x"]),o=Number(y["dc:Bounds"]["-y"]),f=u["-children"],p=u["-name"],m=po.shapeConfigMap.get(h);m&&(l+=m.width/2,o+=m.height/2);var g={};Object.entries(u).forEach(function(T){var k=Dc(T,2),I=k[0],D=k[1];z_.includes(I)||(g[I]=D)}),g=Jd(g);var x;if(p&&(x={x:l,y:o,value:p},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var j=y["bpmndi:BPMNLabel"]["dc:Bounds"];x.x=Number(j["-x"])+Number(j["-width"])/2,x.y=Number(j["-y"])+Number(j["-height"])/2}var S={id:y["-bpmnElement"],type:h,x:l,y:o,properties:g};return f&&(S.children=f),x&&(S.text=x),S}function CA(y,h){var u=[];if(Array.isArray(y))y.forEach(function(o){var f;Array.isArray(h)?f=h.find(function(p){return p["-bpmnElement"]===o["-id"]}):f=h,u.push(n_(f,o))});else{var l=void 0;Array.isArray(h)?l=h.find(function(o){return o["-bpmnElement"]===y["-id"]}):l=h,u.push(n_(l,y))}return u}function n_(y,h){var u,l=h["-name"];if(l){var o=y["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;l.split(`
`).forEach(function(x){f<x.length&&(f=x.length)}),u={value:l,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var p={};Object.entries(h).forEach(function(x){var j=Dc(x,2),S=j[0],T=j[1];z_.includes(S)||(p[S]=T)}),p=Jd(p);var m=y["di:waypoint"].map(function(x){return{x:Number(x["-x"]),y:Number(x["-y"])}}),g={id:h["-id"],type:to.FLOW,pointsList:m,sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:p};return u&&(g.text=u),g}var po=function(){function y(h){var u=this,l=h.lf;this.adapterOut=function(o,f){var p,m,g=yg({},u.processAttributes);AA(g,o,f);var x={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};kA(x,o);var j=u.definitionAttributes;j["bpmn:process"]=g,j["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":x};var S={"bpmn:definitions":j};if(!((p=f==null?void 0:f.mapping)===null||p===void 0)&&p.out){var T=(m=f==null?void 0:f.mapping)===null||m===void 0?void 0:m.out,k=function(I){Array.isArray(I)&&I.forEach(function(D){return k(D)}),typeof I=="object"&&Object.keys(I).forEach(function(D){var R;(R=T[D])?(I[R]=W.cloneDeep(I[D]),delete I[D],k(I[R])):k(I[D])})};k(S)}return S},this.adapterIn=function(o,f){if(o)return NA(o,f)},l.adapterIn=this.adapterIn,l.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return y.prototype.setCustomShape=function(h,u){y.shapeConfigMap.set(h,u)},y.pluginName="bpmn-adapter",y.shapeConfigMap=new Map,y}();po.shapeConfigMap.set(to.START,{width:Xb.width,height:Xb.height});po.shapeConfigMap.set(to.END,{width:Hb.width,height:Hb.height});po.shapeConfigMap.set(to.INTERMEDIATE_CATCH,{width:Kd.width,height:Kd.height});po.shapeConfigMap.set(to.INTERMEDIATE_THROW,{width:Kd.width,height:Kd.height});po.shapeConfigMap.set(to.BOUNDARY,{width:Ub.width,height:Ub.height});po.shapeConfigMap.set(to.PARALLEL_GATEWAY,{width:Yb.width,height:Yb.height});po.shapeConfigMap.set(to.INCLUSIVE_GATEWAY,{width:Vb.width,height:Vb.height});po.shapeConfigMap.set(to.EXCLUSIVE_GATEWAY,{width:$b.width,height:$b.height});po.shapeConfigMap.set(to.SYSTEM,{width:Kb.width,height:Kb.height});po.shapeConfigMap.set(to.USER,{width:qb.width,height:qb.height});po.shapeConfigMap.set(to.SUBPROCESS,{width:Zb.width,height:Zb.height});(function(y){jA(h,y);function h(u){var l=y.call(this,u)||this;l.adapterXmlIn=function(p){var m=xA(p);return l.adapterIn(m,l.props)},l.adapterXmlOut=function(p){var m=l.adapterOut(p,l.props);return SA(m)};var o=u.lf,f=u.props;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l.props=f,l}return h.pluginName="BPMNAdapter",h})(po);var kc;(function(y){y.HORIZONTAL="horizontal",y.VERTICAL="vertical"})(kc||(kc={}));var IA=function(y,h,u,l){l===void 0&&(l=0);var o=LA(y,h,u);return o<=l};function r_(y){return y*y}function og(y,h){return r_(y.x-h.x)+r_(y.y-h.y)}var RA=function(y,h,u){var l=og(h,u);if(l===0)return og(y,h);var o=((y.x-h.x)*(u.x-h.x)+(y.y-h.y)*(u.y-h.y))/l;return o=Math.max(0,Math.min(1,o)),og(y,{x:h.x+o*(u.x-h.x),y:h.y+o*(u.y-h.y)})},LA=function(y,h,u){return Math.sqrt(RA(y,h,u))},zA=function(y){var h=y.x,u=y.y,l=y.width,o=y.height,f={minX:h-l/2,minY:u-o/2,maxX:h+l/2,maxY:u+o/2,x:h,y:u,width:l,height:o,centerX:h,centerY:u};return f},BA=function(y,h){var u;return y.x===h.x?u=kc.VERTICAL:y.y===h.y&&(u=kc.HORIZONTAL),u},FA=function(y,h,u){var l=zA(y),o=BA(h,u),f=Math.max(h.x,u.x),p=Math.min(h.x,u.x),m=Math.max(h.y,u.y),g=Math.min(h.y,u.y),x=y.x,j=y.y,S=y.width,T=y.height;if(o===kc.HORIZONTAL){if(f>=l.maxX&&p<=l.minX)return{startCrossPoint:{x:h.x>u.x?x+S/2:x-S/2,y:h.y},endCrossPoint:{x:h.x>u.x?x-S/2:x+S/2,y:h.y}}}else if(o===kc.VERTICAL&&m>=l.maxY&&g<=l.minY)return{startCrossPoint:{x:h.x,y:h.y>u.y?j+T/2:j-T/2},endCrossPoint:{x:h.x,y:h.y>u.y?j-T/2:j+T/2}}},WA=function(y,h,u){u===void 0&&(u=0);for(var l=y.x,o=y.y,f=h.pointsList,p=0;p<f.length-1;p++)if(IA({x:l,y:o},f[p],f[p+1],u)){var m=FA(y,f[p],f[p+1]);if(m)return{crossIndex:p+1,crossPoints:m}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},GA=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},o_=function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(GA(arguments[h]));return y},Ik=function(){function y(h){var u=h.lf;this._lf=u,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return y.prototype.eventHandler=function(){var h=this;this.dndAdd&&this._lf.on("node:dnd-add",function(u){var l=u.data;h.insetNode(l)}),this.dropAdd&&this._lf.on("node:drop",function(u){for(var l=u.data,o=h._lf.graphModel.edges,f=l.id,p=!0,m=0;m<o.length;m++)if(o[m].sourceNodeId===f||o[m].targetNodeId===f){p=!1;break}p&&h.insetNode(l)})},y.prototype.checkRuleBeforeInsetNode=function(h,u,l,o,f){var p=this._lf.getNodeModelById(h),m=this._lf.getNodeModelById(u),g=p.getAnchorInfo(l),x=m.getAnchorInfo(o),j=p.isAllowConnectedAsSource(f,g,x),S=m.isAllowConnectedAsTarget(f,g,x),T=Be.formateAnchorConnectValidateData(j),k=T.isAllPass,I=T.msg,D=Be.formateAnchorConnectValidateData(S),R=D.isAllPass,G=D.msg;return{isPass:k&&R,sourceMsg:I,targetMsg:G}},y.prototype.insetNode=function(h){var u=this,l=this._lf.graphModel.edges,o=this._lf.getNodeModelById(h.id),f=o.getDefaultAnchor(),p=!f||f.length===0;if(p){this._lf.graphModel.eventCenter.emit(Be.EventType.CONNECTION_NOT_ALLOWED,{data:h,msg:"自定义类型节点不显示锚点，也不允许其他节点连接到此节点"});return}for(var m=0;m<l.length;m++){var g=WA(o,l[m],this.deviation),x=g.crossIndex,j=g.crossPoints;if(x>=0){var S=l[m],T=S.sourceNodeId,k=S.targetNodeId,I=S.id,D=S.type,R=S.pointsList,G=S.sourceAnchorId,H=S.targetAnchorId,ee=Ef(R[0]),ue=Ef(j.startCrossPoint);this._lf.deleteEdge(I);var ie=this.checkRuleBeforeInsetNode(T,k,G,H,h);if(this._lf.addEdge({type:D,sourceNodeId:T,targetNodeId:h.id,startPoint:ee,endPoint:ue,pointsList:o_(R.slice(0,x),[j.startCrossPoint])}),this._lf.addEdge({type:D,sourceNodeId:h.id,targetNodeId:k,startPoint:Ef(j.endCrossPoint),endPoint:Ef(R[R.length-1]),pointsList:o_([j.endCrossPoint],R.slice(x))}),ie.isPass)break;this._lf.graphModel.eventCenter.emit(Be.EventType.CONNECTION_NOT_ALLOWED,{data:h,msg:ie.targetMsg||ie.sourceMsg}),setTimeout(function(){u._lf.undo()},200);break}}},y.pluginName="insertNodeInPolyline",y}(),XA=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},HA=function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(XA(arguments[h]));return y},Rk=function(){function y(h){var u=this,l=h.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){u.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){u.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){u.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){u.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){u.lf.redo()}}],this.lf=l}return y.prototype.render=function(h,u){this.destroy();var l=this.getControlTool();this.toolEl=l,u.appendChild(l),this.domContainer=u},y.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},y.prototype.addItem=function(h){this.controlItems.push(h)},y.prototype.removeItem=function(h){var u=this.controlItems.findIndex(function(l){return l.key===h});return u==-1?null:this.controlItems.splice(u,1)[0]},y.prototype.getControlTool=function(){var h=this,u="lf-control-item",l="lf-control-item disabled",o=document.createElement("div"),f=[];return o.className="lf-control",this.controlItems.forEach(function(p){var m=document.createElement("div"),g=document.createElement("i"),x=document.createElement("span");switch(m.className=l,p.onClick&&(m.onclick=p.onClick.bind(null,h.lf)),p.onMouseEnter&&(m.onmouseenter=p.onMouseEnter.bind(null,h.lf)),p.onMouseLeave&&(m.onmouseleave=p.onMouseLeave.bind(null,h.lf)),g.className=p.iconClass,x.className="lf-control-text",x.title=p.title,x.innerText=p.text,m.append(g,x),p.text){case"上一步":h.lf.on("history:change",function(j){var S=j.data.undoAble;m.className=S?u:l});break;case"下一步":h.lf.on("history:change",function(j){var S=j.data.redoAble;m.className=S?u:l});break;default:m.className=u;break}f.push(m)}),o.append.apply(o,HA(f)),o},y.pluginName="control",y}(),UA=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},YA=function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(UA(arguments[h]));return y},Of="lf:defaultNodeMenu",wf="lf:defaultEdgeMenu",xf="lf:defaultGraphMenu",i_="lf:defaultSelectionMenu",Lk=function(){function y(h){var u=this,l=h.lf;this.lf=l;var o=l.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(f){u.setMenuConfig(f)},this.lf.addMenuConfig=function(f){u.addMenuConfig(f)},this.lf.setMenuByType=function(f){u.setMenuByType(f)})}return y.prototype.init=function(){var h=this,u=[{text:"删除",callback:function(f){h.lf.deleteNode(f.id)}},{text:"编辑文本",callback:function(f){h.lf.graphModel.editText(f.id)}},{text:"复制",callback:function(f){h.lf.cloneNode(f.id)}}];this.menuTypeMap.set(Of,u);var l=[{text:"删除",callback:function(f){h.lf.deleteEdge(f.id)}},{text:"编辑文本",callback:function(f){h.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(wf,l),this.menuTypeMap.set(xf,[]);var o=[{text:"删除",callback:function(f){h.lf.clearSelectElements(),f.edges.forEach(function(p){return h.lf.deleteEdge(p.id)}),f.nodes.forEach(function(p){return h.lf.deleteNode(p.id)})}}];this.menuTypeMap.set(i_,o)},y.prototype.render=function(h,u){var l=this;h.options.isSilentMode||(this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var f=o.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(l.__currentData),l.__menuDOM.style.display="none",l.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var f=o.data,p=o.position,m=o.e,g=p.domOverlayPosition,x=g.x,j=g.y,S=f.id,T=l.lf.graphModel.getNodeModelById(S),k=[],I=l.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:I?k=I:k=l.menuTypeMap.get(Of),l.__currentData=f,l.showMenu(x,j,k,{width:T.width,height:T.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var f=o.data,p=o.position,m=o.e,g=p.domOverlayPosition,x=g.x,j=g.y,S=f.id,T=l.lf.graphModel.getEdgeModelById(S),k=[],I=l.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:I?k=I:k=l.menuTypeMap.get(wf),l.__currentData=f,l.showMenu(x,j,k,{width:T.width,height:T.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var f=o.position,p=l.menuTypeMap.get(xf),m=f.domOverlayPosition,g=m.x,x=m.y;l.showMenu(g,x,p)}),this.lf.on("selection:contextmenu",function(o){var f=o.data,p=o.position,m=l.menuTypeMap.get(i_),g=p.domOverlayPosition,x=g.x,j=g.y;l.__currentData=f,l.showMenu(x,j,m)}),this.lf.on("node:mousedown",function(){l.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){l.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){l.__menuDOM.style.display="none"}))},y.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},y.prototype.showMenu=function(h,u,l,o){if(!(!l||!l.length)){var f=this.__menuDOM;if(f.innerHTML="",f.append.apply(f,YA(this.__getMenuDom(l))),!!f.children.length){if(f.style.display="block",!o){f.style.top=u+"px",f.style.left=h+"px";return}var p=o.width,m=o.height,g=o.clientX,x=o.clientY,j=this.lf.graphModel,S=f.offsetWidth,T=!0,k=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,I=k-g,D=j.rootEl.getBoundingClientRect(),R=D.left+D.width;R<k&&(I=R-g),I<S&&(T=!1),T?f.style.left=h+"px":f.style.left=h-p+"px";var G=f.offsetHeight,H=!0,ee=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ue=ee-x,ie=D.top+D.height;ie<ee&&(ue=ie-x),ue<G&&(H=!1),H?f.style.top=u+"px":f.style.top=u-m+"px"}}},y.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},y.prototype.__getMenuDom=function(h){var u=[];return h&&h.length>0&&h.forEach(function(l){var o=document.createElement("li");if(l.className?o.className="lf-menu-item "+l.className:o.className="lf-menu-item",l.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",o.appendChild(f)}var p=document.createElement("span");p.className="lf-menu-item-text",l.text&&(p.innerText=l.text),o.appendChild(p),o.onclickCallback=l.callback,u.push(o)}),u},y.prototype.setMenuConfig=function(h){h&&(h.nodeMenu!==void 0&&this.menuTypeMap.set(Of,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(wf,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(xf,h.graphMenu?h.graphMenu:[]))},y.prototype.addMenuConfig=function(h){if(h){if(Array.isArray(h.nodeMenu)){var u=this.menuTypeMap.get(Of);this.menuTypeMap.set(Of,u.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var u=this.menuTypeMap.get(wf);this.menuTypeMap.set(wf,u.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var u=this.menuTypeMap.get(xf);this.menuTypeMap.set(xf,u.concat(h.graphMenu))}}},y.prototype.changeMenuItem=function(h,u){if(h==="add")this.addMenuConfig(u);else if(h==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},y.pluginName="menu",y}(),VA=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},ig="menu-common",a_=200,$A=100,zk=function(){function y(h){var u=this,l=h.lf;this.menuTypeMap=new Map,this.listenDelete=function(){u.hideContextMenu()},this.lf=l,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(ig,[]),this.lf.setContextMenuByType=function(o,f){u.setContextMenuByType(o,f)},this.lf.setContextMenuItems=function(o){u.setContextMenuItems(o)},this.lf.showContextMenu=function(o){u.showContextMenu(o)},this.lf.hideContextMenu=function(){u.hideContextMenu()}}return y.prototype.render=function(h,u){var l=this;this.container=u,h.on("node:click",function(o){var f=o.data;l._activeData=f,l.createContextMenu()}),h.on("edge:click",function(o){var f=o.data;l._activeData=f,l.createContextMenu()}),h.on("blank:click",function(){l.hideContextMenu()})},y.prototype.setContextMenuByType=function(h,u){this.menuTypeMap.set(h,u)},y.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},y.prototype.showContextMenu=function(h){if(!h||!h.id){console.warn("请检查传入的参数");return}this._activeData=h,this.createContextMenu()},y.prototype.setContextMenuItems=function(h){this.menuTypeMap.set(ig,h)},y.prototype.getContextMenuPosition=function(){var h=this._activeData,u=this.lf.graphModel.getElement(h.id);if(!u){console.warn("找不到元素"+h.id);return}var l,o;if(u.BaseType==="edge"){l=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;var f=u.getData();l=Math.max(f.startPoint.x,l),o=Math.min(f.startPoint.y,o),l=Math.max(f.endPoint.x,l),o=Math.min(f.endPoint.y,o),f.pointsList&&f.pointsList.forEach(function(p){l=Math.max(p.x,l),o=Math.min(p.y,o)})}return u.BaseType==="node"&&(l=h.x+u.width/2,o=h.y-u.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([l,o])},y.prototype.createContextMenu=function(){var h=this,u=this.lf.options.isSilentMode;if(!u){var l=this.menuTypeMap.get(this._activeData.type)||[];l=l.concat(this.menuTypeMap.get(ig));var o=document.createDocumentFragment();l.forEach(function(f){var p=document.createElement("div");p.className="lf-context-item";var m=document.createElement("img");m.src=f.icon,m.className="lf-context-img",f.className&&(p.className=p.className+" "+f.className),m.addEventListener("click",function(){h.hideContextMenu(),f.callback?f.callback(h._activeData):h.addNode({sourceId:h._activeData.id,x:h._activeData.x,y:h._activeData.y,properties:f.properties,type:f.type})}),p.appendChild(m),o.appendChild(p)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(o),this.showMenu()}},y.prototype.addNode=function(h,u){var l=u!==void 0;u===void 0&&(u=h.y);var o=this.lf.getNodeModelById(h.sourceId),f=h.x-o.width+a_,p=u-h.y/2-20,m=h.x+o.width+a_,g=u+h.y/2+20,x=this.lf.getAreaElement([f,p],[m,g]);if(x.length){u=u+$A,this.addNode(h,u);return}var j=this.lf.addNode({type:h.type,x:h.x+200,y:u,properties:h.properties}),S,T;l&&(S={x:h.x,y:h.y+o.height/2},T={x:j.x-j.width/2,y:j.y}),this.lf.addEdge({sourceNodeId:h.sourceId,targetNodeId:j.id,startPoint:S,endPoint:T})},y.prototype.showMenu=function(){var h=VA(this.getContextMenuPosition(),2),u=h[0],l=h[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=l+"px",this.__menuDOM.style.left=u+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},y.pluginName="contextMenu",y}(),Bk=function(){function y(h){var u=this,l=h.lf;this.lf=l,this.lf.setPatternItems=function(o){u.setPatternItems(o)}}return y.prototype.render=function(h,u){var l=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){l.panelEl.appendChild(l.createDndItem(o))}),u.appendChild(this.panelEl),this.domContainer=u},y.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},y.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},y.prototype.createDndItem=function(h){var u=this,l=document.createElement("div");l.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",h.icon&&(o.style.backgroundImage="url("+h.icon+")"),l.appendChild(o),h.label){var f=document.createElement("div");f.innerText=h.label,f.className="lf-dnd-text",l.appendChild(f)}return l.onmousedown=function(){h.type&&u.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(u.lf,u.domContainer)},l.ondblclick=function(p){u.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:p,data:h})},l.onclick=function(p){u.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:p,data:h})},l.oncontextmenu=function(p){u.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:p,data:h})},l},y.pluginName="dndPanel",y}(),Fk=function(){function y(h){var u=this,l=h.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(f){var p=u.lf.getPointByClient(f.clientX,f.clientY).domOverlayPosition,m=p.x,g=p.y;u.endPoint={x:m,y:g};var x=u.startPoint,j=x.x,S=x.y,T=u.wrapper.style,k=j,I=S,D=m-j,R=g-S;m<j&&(k=m,D=j-m),g<S&&(I=g,R=S-g),T.left=k+"px",T.top=I+"px",T.width=D+"px",T.height=R+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var f=u.startPoint,p=f.x,m=f.y,g=u.endPoint,x=g.x,j=g.y;if(!(Math.abs(x-p)<10&&Math.abs(j-m)<10)){var S=[Math.min(p,x),Math.min(m,j)],T=[Math.max(p,x),Math.max(m,j)],k=u.lf.graphModel.getAreaElement(S,T,u.isWholeEdge,u.isWholeNode,!0),I=u.lf.graphModel.group;k.forEach(function(D){(!I||!I.getNodeGroup(D.id))&&u.lf.selectElementById(D.id,!0)}),u.lf.emit("selection:selected",k)}},this.lf=l;var o=l.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,l.openSelectionSelect=function(){u.openSelectionSelect()},l.closeSelectionSelect=function(){u.closeSelectionSelect()}}return y.prototype.render=function(h,u){var l=this;this.__domContainer=u,h.on("blank:mousedown",function(o){var f=o.e,p=h.getEditConfig();if(!(!p.stopMoveGraph||l.__disabled)){var m=f.button===2;if(!m){var g=h.getPointByClient(f.clientX,f.clientY).domOverlayPosition,x=g.x,j=g.y;l.startPoint={x,y:j},l.endPoint={x,y:j};var S=document.createElement("div");S.className="lf-selection-select",S.oncontextmenu=function(k){k.preventDefault()},S.style.top=l.startPoint.y+"px",S.style.left=l.startPoint.x+"px",u.appendChild(S),l.wrapper=S,document.addEventListener("mousemove",l.__draw),document.addEventListener("mouseup",l.__drawOff)}}})},y.prototype.setSelectionSense=function(h,u){h===void 0&&(h=!0),u===void 0&&(u=!0),this.isWholeEdge=h,this.isWholeNode=u},y.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},y.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},y.prototype.open=function(){this.__disabled=!1},y.prototype.close=function(){this.__disabled=!0},y.pluginName="selectionSelect",y}(),KA=function(y){var h=typeof Symbol=="function"&&Symbol.iterator,u=h&&y[h],l=0;if(u)return u.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&l>=y.length&&(y=void 0),{value:y&&y[l++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},Wk=function(){function y(h){var u=this,l=h.lf,o=h.LogicFlow,f=h.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(p,m){u.setView(),u.isShow||u.createMiniMap(p,m),u.isShow=!0},this.hide=function(){u.isShow&&u.removeMiniMap(),u.isShow=!1},this.reset=function(){u.lf.resetTranslate(),u.lf.resetZoom(),u.hide(),u.show()},this.startDrag=function(p){document.addEventListener("mousemove",u.drag),document.addEventListener("mouseup",u.drop),u.startPosition={x:p.x,y:p.y}},this.moveViewport=function(p,m){var g=u.viewport.style;u.viewPortTop=p,u.viewPortLeft=m,g.top=u.viewPortTop+"px",g.left=u.viewPortLeft+"px"},this.drag=function(p){u.dragging=!0;var m=u.viewPortTop+p.y-u.startPosition.y,g=u.viewPortLeft+p.x-u.startPosition.x;u.moveViewport(m,g),u.startPosition={x:p.x,y:p.y};var x=(u.viewPortLeft+u.viewPortWidth/2)/u.viewPortScale,j=(u.viewPortTop+u.viewPortHeight/2)/u.viewPortScale;u.lf.focusOn({coordinate:{x:x+u.resetDataX,y:j+u.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",u.drag),document.removeEventListener("mouseup",u.drop);var p=u.viewPortTop,m=u.viewPortLeft;u.viewPortLeft>u.width&&(m=u.width-u.viewPortWidth),u.viewPortTop>u.height&&(p=u.height-u.viewPortHeight),u.viewPortLeft<-u.width&&(m=0),u.viewPortTop<-u.height&&(p=0),u.moveViewport(p,m)},this.mapClick=function(p){if(u.dragging)u.dragging=!1;else{var m=p.layerX,g=p.layerY,x=m,j=g,S=u.lf.getGraphRawData(),T=u.getBounds(S),k=T.left,I=T.top,D=k+x/u.viewPortScale,R=I+j/u.viewPortScale;u.lf.focusOn({coordinate:{x:D,y:R}})}},this.lf=l,f&&f.MiniMap&&this.setOption(f),this.miniMapWidth=l.graphModel.width,this.miniMapHeight=l.graphModel.width*this.height/this.width,this.LogicFlow=o,this.initMiniMap()}return y.prototype.render=function(h,u){var l=this;this.container=u,this.lf.on("history:change",function(){l.isShow&&l.setView()}),this.lf.on("graph:transform",l_(function(){l.isShow&&!l.dragging&&l.setView()},300))},y.prototype.init=function(h){this.disabledPlugins=this.disabledPlugins.concat(h.disabledPlugins||[])},y.prototype.setOption=function(h){var u=h.MiniMap,l=u.width,o=l===void 0?150:l,f=u.height,p=f===void 0?220:f,m=u.isShowHeader,g=m===void 0?!0:m,x=u.isShowCloseIcon,j=x===void 0?!0:x,S=u.leftPosition,T=S===void 0?0:S,k=u.topPosition,I=k===void 0?0:k,D=u.rightPosition,R=u.bottomPosition;this.width=o,this.height=p,this.isShowHeader=g,this.isShowCloseIcon=j,this.viewPortWidth=o,this.leftPosition=T,this.topPosition=I,this.rightPosition=D,this.bottomPosition=R},y.prototype.initMiniMap=function(){var h=document.createElement("div");h.className="lf-mini-map-graph",h.style.width=this.width+4+"px",h.style.height=this.height+"px",this.lfMap=new this.LogicFlow({container:h,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(u){return u},this.lfMap.adapterOut=function(u){return u},this.miniMapWrap=h,this.createViewPort(),h.addEventListener("click",this.mapClick)},y.prototype.createMiniMap=function(h,u){var l=document.createElement("div");l.appendChild(this.miniMapWrap),typeof h<"u"||typeof u<"u"?(l.style.left=(h||0)+"px",l.style.top=(u||0)+"px"):(typeof this.rightPosition<"u"?l.style.right=this.rightPosition+"px":typeof this.leftPosition<"u"&&(l.style.left=this.leftPosition+"px"),typeof this.bottomPosition<"u"?l.style.bottom=this.bottomPosition+"px":typeof this.topPosition<"u"&&(l.style.top=this.topPosition+"px")),l.style.position="absolute",l.className="lf-mini-map",this.isShowCloseIcon||l.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||l.classList.add("lf-mini-map-no-header"),this.container.appendChild(l),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=y.headerTitle,l.appendChild(o);var f=document.createElement("span");f.className="lf-mini-map-close",f.addEventListener("click",this.hide),l.appendChild(f),this.miniMapContainer=l},y.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},y.prototype.getBounds=function(h){var u=0,l=this.miniMapWidth,o=0,f=this.miniMapHeight,p=h.nodes;return p&&p.length>0&&p.forEach(function(m){var g=m.x,x=m.y,j=m.width,S=j===void 0?200:j,T=m.height,k=T===void 0?200:T,I=g-S/2,D=g+S/2,R=x-k/2,G=x+k/2;u=I<u?I:u,l=D>l?D:l,o=R<o?R:o,f=G>f?G:f}),{left:u,top:o,bottom:f,right:l}},y.prototype.resetData=function(h){var u=h.nodes,l=h.edges,o=0,f=0;return u&&u.length>0&&(u.forEach(function(p){var m=p.x,g=p.y,x=p.width,j=x===void 0?200:x,S=p.height,T=S===void 0?200:S,k=m-j/2,I=g-T/2;o=k<o?k:o,f=I<f?I:f}),(o<0||f<0)&&(this.resetDataX=o,this.resetDataY=f,u.forEach(function(p){p.x=p.x-o,p.y=p.y-f,p.text&&(p.text.x=p.text.x-o,p.text.y=p.text.y-f)}),l.forEach(function(p){p.startPoint&&(p.startPoint.x=p.startPoint.x-o,p.startPoint.y=p.startPoint.y-f),p.endPoint&&(p.endPoint.x=p.endPoint.x-o,p.endPoint.y=p.endPoint.y-f),p.text&&(p.text.x=p.text.x-o,p.text.y=p.text.y-f),p.pointsList&&p.pointsList.forEach(function(m){m.x=m.x-o,m.y=m.y-f})}))),h},y.prototype.setView=function(){var h,u,l=this.lf.getGraphRawData(),o=this.resetData(l),f=this.lf.viewMap,p=this.lf.graphModel.modelMap,m=this.lfMap.viewMap;try{for(var g=KA(f.keys()),x=g.next();!x.done;x=g.next()){var j=x.value;m.has(j)||(this.lfMap.setView(j,f.get(j)),this.lfMap.graphModel.modelMap.set(j,p.get(j)))}}catch(ue){h={error:ue}}finally{try{x&&!x.done&&(u=g.return)&&u.call(g)}finally{if(h)throw h.error}}this.lfMap.render(o);var S=this.getBounds(o),T=S.left,k=S.top,I=S.right,D=S.bottom,R=this.width/(I-T),G=this.height/(D-k),H=this.miniMapWrap.firstChild.style,ee=Math.min(R,G);H.pointerEvents="none",H.transform="matrix("+ee+", 0, 0, "+ee+", 0, 0)",H.transformOrigin="left top",H.height=D-Math.min(k,0)+"px",H.width=I-Math.min(T,0)+"px",this.viewPortScale=ee,this.setViewPort(ee,{left:T,top:k,right:I,bottom:D})},y.prototype.setViewPort=function(h,u){var l=u.left,o=u.right;u.top,u.bottom;var f=this.viewport.style;f.width=this.viewPortWidth+"px",f.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var p=this.lf.getTransform(),m=p.TRANSLATE_X,g=p.TRANSLATE_Y,x=p.SCALE_X,j=p.SCALE_Y,S=o-l,T=this.width/(S/this.lf.graphModel.width),k=this.width*(T/this.width),I=this.lf.graphModel.width/this.lf.graphModel.height,D=k/I,R=this.lf.getGraphRawData(),G=this.getBounds(R),H=G.left,ee=G.top,ue=H,ie=ee;ue+=m/x,ie+=g/j,this.viewPortTop=ie>0?0:-ie*h,this.viewPortLeft=ue>0?0:-ue*h,this.viewPortWidth=k,this.viewPortHeight=D,f.top=this.viewPortTop+"px",f.left=this.viewPortLeft+"px",f.width=k/x+"px",f.height=D/j+"px"},y.prototype.createViewPort=function(){var h=document.createElement("div");h.className="lf-minimap-viewport",h.addEventListener("mousedown",this.startDrag),this.viewport=h},y.pluginName="miniMap",y.width=150,y.height=220,y.viewPortWidth=150,y.viewPortHeight=75,y.isShowHeader=!0,y.isShowCloseIcon=!0,y.leftPosition=0,y.topPosition=0,y.rightPosition=null,y.bottomPosition=null,y.headerTitle="导航",y}(),F_=function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var f in o)o.hasOwnProperty(f)&&(l[f]=o[f])},y(h,u)};return function(h,u){y(h,u);function l(){this.constructor=h}h.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Sc=function(){return Sc=Object.assign||function(y){for(var h,u=1,l=arguments.length;u<l;u++){h=arguments[u];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(y[o]=h[o])}return y},Sc.apply(this,arguments)},kf=function(y,h){var u=typeof Symbol=="function"&&y[Symbol.iterator];if(!u)return y;var l=u.call(y),o,f=[],p;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)f.push(o.value)}catch(m){p={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(p)throw p.error}}return f},qA={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function ZA(y){for(var h=y,u=1;u<h.length-1;){var l=kf(h[u-1],2),o=l[0],f=l[1],p=kf(h[u],2),m=p[0],g=p[1],x=kf(h[u+1],2),j=x[0],S=x[1];o===m&&m===j||f===g&&g===S?h.splice(u,1):u++}return h}function JA(y,h,u,l){var o=[y[0],y[1]],f=[y[0],y[1]];switch(u){case"tl":return h==="tr"?(o[1]+=l,f[0]+=l):h==="lb"&&(o[0]+=l,f[1]+=l),[o,f];case"tr":return h==="tl"?(o[1]+=l,f[0]-=l):h==="rb"&&(o[0]-=l,f[1]+=l),[o,f];case"bl":return h==="br"?(o[1]-=l,f[0]+=l):h==="lt"&&(o[0]+=l,f[1]-=l),[o,f];case"br":return h==="bl"?(o[1]-=l,f[0]-=l):h==="rt"&&(o[0]-=l,f[1]-=l),[o,f];default:return[]}}function QA(y,h,u,l){var o,f="",p="";y[0]===h[0]?f=y[1]>h[1]?"t":"b":y[1]===h[1]&&(f=y[0]>h[0]?"l":"r"),h[0]===u[0]?p=h[1]>u[1]?"t":"b":h[1]===u[1]&&(p=h[0]>u[0]?"l":"r");var m=Math.min(Math.hypot(h[0]-y[0],h[1]-y[1])/2,Math.hypot(u[0]-h[0],u[1]-h[1])/2,l)||1/5*l,g=""+f+p,x=qA[g]||"-",j="L "+y[0]+" "+y[1];if(x==="-")j+="L "+h[0]+" "+h[1]+" L "+u[0]+" "+u[1];else{var S=kf(JA(h,g,x,m),2),T=S[0],k=S[1];T&&k&&(j+="L "+T[0]+" "+T[1]+" Q "+h[0]+" "+h[1]+" "+k[0]+" "+k[1],o=kf(k,2),h[0]=o[0],h[1]=o[1])}return j}function ek(y,h){var u=0,l="";if(y.length===2)l+="M"+y[u][0]+" "+y[u++][1]+" L "+y[u][0]+" "+y[u][1];else{for(l+="M"+y[u][0]+" "+y[u++][1];u+1<y.length;){var o=y[u-1],f=y[u],p=y[u+++1];l+=QA(o,f,p,h)}l+="L "+y[u][0]+" "+y[u][1]}return l}(function(y){F_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getEdge=function(){var u=this.props.model,l=u.points,o=u.isAnimation,f=u.arrowConfig,p=u.radius,m=p===void 0?5:p,g=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),j=ZA(l.split(" ").map(function(k){return k.split(",").map(function(I){return+I})})),S=ek(j,m),T=Sc(Sc(Sc({style:o?x:{}},g),f),{fill:"none"});return Be.h("path",Sc({d:S},T))},h})(Be.PolylineEdge);(function(y){F_(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h})(Be.PolylineEdgeModel);const Gk={display:!0,disabled:!1,detail:!1,readonly:!1,required:!1,validate:!1};export{zk as C,Bk as D,xk as E,Nk as G,Ik as I,Lk as M,N_ as R,Dk as S,Tk as T,Ek as a,kk as b,Mk as c,Gk as d,Sk as e,Pk as f,rs as g,Rk as h,Fk as i,Wk as j,Be as l,Ak as m,jk as p,wA as s,Ck as u};
