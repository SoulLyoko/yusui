import{u as P}from"./index.es.1accc3d3.js";import"./index.013eb64a.js";import{s as A}from"./index.386fc70b.js";import{f as q,a as Q}from"./index.da343e5c.js";import{u as U}from"./config.ed7166e7.js";import{g as R}from"./get.51c768ca.js";import{g as v,l as p}from"./framework.6b67ac47.js";const T={label:"label",value:"value",children:"children",disabled:"disabled",res:"data"};function j(t){return{...T,...t}}function L(t={}){const g=U(t),a=j(t.props);function y(){const{request:e}=g,{dicQuery:r={},dicHeaders:s={},dicFormatter:d,dicMethod:D="get",dicData:n,dicUrl:m}=t;return n?Promise.resolve(p(n)):m&&e?e({url:m,method:D,params:r,data:r,headers:s}).then(f=>d?d(f.data):R(f.data,a.res,[])):Promise.resolve([])}const{dicUrl:l,dicQuery:o}=t,b=l?l+(o?`?${A(o)}`:""):void 0,c=P(y,{cacheKey:b}),{data:u}=c,i=v(()=>{const e=p(t.modelValue);return Array.isArray(e)?q(u.value??[],r=>e==null?void 0:e.some(s=>s===r[a.value])):Q(u.value??[],r=>r[a.value]===e)}),h=v(()=>{var e,r;return Array.isArray(i.value)?(e=i.value)==null?void 0:e.map(s=>s[a.label]).join(","):(r=i.value)==null?void 0:r[a.label]});return{...c,selectedItem:i,selectedLabel:h}}export{j as m,L as u};
