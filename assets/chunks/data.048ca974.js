import{c as ww,a as xw,b as Ew,e as Sw,d as jw,f as Pw,g as Mw,h as Tw,j as Aw,k as kw,l as Dw,m as Nw,n as Cw,o as Kv,p as Iw,q as Rw,r as Lw,s as zw,t as Bw,v as Fw,w as Gw,x as Hw,y as Xw,z as Ww,A as Uw,B as Yw,C as Vw,D as $w,E as Kw,F as qw,G as Zw,H as Jw,I as Qw,J as ex,K as tx,L as nx,M as rx,N as ox,O as ix,P as ax,Q as ux,R as sx,S as cx,T as lx,U as fx,V as px,W as dx,X as hx,Y as yx,Z as vx,_ as gx,$ as mx,a0 as bx,a1 as _x,a2 as Ox,a3 as wx,a4 as xx,a5 as Ex,a6 as Sx,a7 as jx,a8 as qv,a9 as Zv,aa as Px,ab as Mx,ac as Tx,ad as Ax,ae as kx,af as Dx,ag as Nx,ah as Cx,ai as Ix,aj as Rx,ak as Lx,al as zx,am as Bx,an as Fx,ao as Gx,ap as Hx,aq as Xx,ar as Wx,as as Ux,at as Yx,au as Vx,av as $x,aw as Kx,ax as qx,ay as Zx,az as Jx,aA as Qx,aB as eE,aC as tE,aD as nE,aE as rE,aF as oE,aG as iE,aH as aE,aI as uE,aJ as sE,aK as cE,aL as lE,aM as fE,aN as pE,aO as dE,aP as hE,aQ as yE,aR as vE,aS as gE,aT as mE,aU as bE,aV as _E,aW as OE,aX as wE,aY as xE,aZ as EE,a_ as SE,a$ as jE,b0 as PE,b1 as ME,b2 as TE,b3 as AE,b4 as kE,b5 as DE,b6 as NE,i as CE,b7 as IE,b8 as RE,b9 as LE,ba as zE,bb as BE,bc as FE,bd as Qi,be as GE,bf as HE,bg as XE,bh as WE,bi as UE,bj as YE,bk as VE,bl as $E,bm as KE,bn as qE,bo as ZE,bp as JE,bq as QE,br as eS,bs as tS,bt as nS,bu as rS,bv as oS,bw as iS,bx as aS,by as uS,bz as Jv,bA as Qv,bB as sS,bC as cS,bD as lS,bE as fS,bF as pS,bG as eg,bH as tg,bI as dS,bJ as hS,bK as yS,bL as vS,bM as gS,bN as mS,bO as bS,bP as _S,bQ as OS,bR as wS,bS as xS,bT as ES,bU as SS,bV as jS,bW as PS,bX as MS,bY as TS,bZ as AS,b_ as kS,b$ as DS,c0 as NS,c1 as CS,c2 as IS,c3 as RS,c4 as LS,c5 as zS,c6 as C,c7 as BS,c8 as FS,c9 as GS,ca as HS,cb as Xf,cc as XS,cd as Df,ce as WS,cf as US,cg as YS,ch as VS,ci as $S,cj as KS,ck as qS,cl as ZS,cm as JS,cn as QS,co as ej,cp as tj,cq as nj,cr as rj,cs as oj,ct as ij,cu as aj,cv as uj,cw as sj,cx as cj,cy as lj,cz as fj,cA as pj,cB as dj,cC as hj,cD as yj,cE as vj,cF as gj,cG as mj,cH as bj,cI as _j,cJ as Oj,cK as wj,cL as xj,cM as Ej,cN as Sj,cO as jj,cP as Pj,cQ as Mj,cR as Tj,cS as Jg,cT as Aj,cU as kj,cV as Dj,cW as Nj,cX as Cj,cY as Ij,cZ as Rj,c_ as Lj,c$ as zj,d0 as Bj,d1 as Fj,u as Gj,d2 as Rt,d3 as Hj,d4 as Xj,d5 as Gu,d6 as Wj,d7 as Uj,d8 as Yj}from"./zipWith.4e2a9602.js";import{l as Vj,s as $j,h as oi,i as Kj,p as qj,u as Zj,E as Jj,a as Wf,m as Qj,f as eP,q as tP,t as nP,o as rP,F as oP,A as ng,y as iP}from"./Uint8Array.9b4f3e17.js";import{c as Vi,i as aP,a as uP,d as ai}from"./cloneDeep.0addb388.js";import{s as sP,a as Uf}from"./set.9ca183df.js";import{f as cP,i as lP,p as fP,e as pP,a as Qg}from"./pickBy.6b6b77a8.js";import{c as dP,i as hP,t as yP,m as vP,a as gP}from"./merge.df46fe1a.js";import{k as mP,m as bP,h as _P,l as OP,i as Yf}from"./basePickBy.0a9df2e6.js";import{k as Vf,s as wP}from"./getTag.bbaab4d0.js";import{l as em,n as $f,o as xP,a as EP}from"./omitBy.f9462f61.js";import{a as Nf}from"./initCloneObject.bffa9b07.js";import{f as SP,u as jP,a as PP,m as MP,n as TP,d as AP,t as tm,c as kP,b as DP,i as NP,e as CP,g as IP}from"./union.ecf82050.js";import{g as RP}from"./get.6f01ef8d.js";import{p as LP}from"./pick.4f46ce5c.js";import{o as zP,s as BP,a as FP}from"./snakeCase.4bb47fd5.js";import{i as GP}from"./isEqual.6a267b93.js";import{d as HP,w as XP}from"./createCompounder.39cbc467.js";import{k as WP}from"./kebabCase.99797389.js";const Ve={chunk:ww,compact:xw,concat:Ew,difference:Sw,differenceBy:jw,differenceWith:Pw,drop:Mw,dropRight:Tw,dropRightWhile:Aw,dropWhile:kw,fill:Dw,findIndex:Nw,findLastIndex:Cw,first:Kv,flatten:mP,flattenDeep:SP,flattenDepth:Iw,fromPairs:cP,head:Kv,indexOf:Rw,initial:Lw,intersection:zw,intersectionBy:Bw,intersectionWith:Fw,join:Gw,last:em,lastIndexOf:Hw,nth:Xw,pull:Ww,pullAll:Uw,pullAllBy:Yw,pullAllWith:Vw,pullAt:$w,remove:Kw,reverse:qw,slice:Zw,sortedIndex:Jw,sortedIndexBy:Qw,sortedIndexOf:ex,sortedLastIndex:tx,sortedLastIndexBy:nx,sortedLastIndexOf:rx,sortedUniq:ox,sortedUniqBy:ix,tail:ax,take:ux,takeRight:sx,takeRightWhile:cx,takeWhile:lx,union:jP,unionBy:fx,unionWith:px,uniq:dx,uniqBy:hx,uniqWith:yx,unzip:vx,unzipWith:gx,without:mx,xor:bx,xorBy:_x,xorWith:Ox,zip:wx,zipObject:xx,zipObjectDeep:Ex,zipWith:Sx},Nt={countBy:jx,each:qv,eachRight:Zv,every:Px,filter:Mx,find:Tx,findLast:Ax,flatMap:PP,flatMapDeep:kx,flatMapDepth:Dx,forEach:qv,forEachRight:Zv,groupBy:Nx,includes:Cx,invokeMap:Ix,keyBy:Rx,map:MP,orderBy:zP,partition:Lx,reduce:zx,reduceRight:Bx,reject:Fx,sample:Gx,sampleSize:Hx,shuffle:Xx,size:Wx,some:Ux,sortBy:Yx},UP={now:TP},Wt={after:Vx,ary:$x,before:Kx,bind:qx,bindKey:Zx,curry:Jx,curryRight:Qx,debounce:AP,defer:eE,delay:tE,flip:nE,memoize:bP,negate:$f,once:rE,overArgs:oE,partial:iE,partialRight:aE,rearg:uE,rest:sE,spread:cE,throttle:tm,unary:lE,wrap:fE},et={castArray:kP,clone:DP,cloneDeep:Vi,cloneDeepWith:pE,cloneWith:dE,conformsTo:hE,eq:Vj,gt:yE,gte:vE,isArguments:$j,isArray:oi,isArrayBuffer:gE,isArrayLike:Kj,isArrayLikeObject:dP,isBoolean:mE,isBuffer:qj,isDate:bE,isElement:_E,isEmpty:OE,isEqual:GP,isEqualWith:wE,isError:xE,isFinite:EE,isFunction:Zj,isInteger:SE,isLength:Jj,isMap:aP,isMatch:jE,isMatchWith:PE,isNaN:ME,isNative:TE,isNil:lP,isNull:AE,isNumber:kE,isObject:Wf,isObjectLike:Qj,isPlainObject:hP,isRegExp:DE,isSafeInteger:NE,isSet:uP,isString:CE,isSymbol:eP,isTypedArray:tP,isUndefined:NP,isWeakMap:IE,isWeakSet:RE,lt:LE,lte:zE,toArray:BE,toFinite:FE,toInteger:Qi,toLength:GE,toNumber:CP,toPlainObject:yP,toSafeInteger:HE,toString:nP},wn={add:XE,ceil:WE,divide:UE,floor:YE,max:VE,maxBy:$E,mean:KE,meanBy:qE,min:ZE,minBy:JE,multiply:QE,round:eS,subtract:tS,sum:nS,sumBy:rS},Kf={clamp:oS,inRange:iS,random:aS},ft={assign:uS,assignIn:Jv,assignInWith:Qv,assignWith:sS,at:cS,create:lS,defaults:fS,defaultsDeep:pS,entries:eg,entriesIn:tg,extend:Jv,extendWith:Qv,findKey:dS,findLastKey:hS,forIn:yS,forInRight:vS,forOwn:gS,forOwnRight:mS,functions:bS,functionsIn:_S,get:RP,has:OS,hasIn:_P,invert:wS,invertBy:xS,invoke:ES,keys:Vf,keysIn:rP,mapKeys:SS,mapValues:jS,merge:vP,mergeWith:PS,omit:xP,omitBy:EP,pick:LP,pickBy:fP,result:MS,set:sP,setWith:TS,toPairs:eg,toPairsIn:tg,transform:AS,unset:kS,update:DS,updateWith:NS,values:CS,valuesIn:IS},Or={at:RS,chain:LS,commit:zS,lodash:C,next:BS,plant:FS,reverse:GS,tap:HS,thru:Xf,toIterator:XS,toJSON:Df,value:Df,valueOf:Df,wrapperChain:WS},jt={camelCase:US,capitalize:YS,deburr:HP,endsWith:VS,escape:$S,escapeRegExp:KS,kebabCase:WP,lowerCase:qS,lowerFirst:ZS,pad:JS,padEnd:QS,padStart:ej,parseInt:tj,repeat:nj,replace:rj,snakeCase:BP,split:oj,startCase:ij,startsWith:aj,template:uj,templateSettings:sj,toLower:cj,toUpper:lj,trim:fj,trimEnd:pj,trimStart:dj,truncate:hj,unescape:yj,upperCase:vj,upperFirst:gj,words:XP},At={attempt:mj,bindAll:bj,cond:_j,conforms:Oj,constant:OP,defaultTo:wj,flow:xj,flowRight:Ej,identity:Yf,iteratee:Sj,matches:jj,matchesProperty:Pj,method:Mj,methodOf:Tj,mixin:Jg,noop:IP,nthArg:Aj,over:kj,overEvery:Dj,overSome:FP,property:pP,propertyOf:Nj,range:Cj,rangeRight:Ij,stubArray:wP,stubFalse:oP,stubObject:Rj,stubString:Lj,stubTrue:zj,times:Bj,toPath:Fj,uniqueId:Gj};function YP(){var d=new Rt(this.__wrapped__);return d.__actions__=Nf(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Nf(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Nf(this.__views__),d}function VP(){if(this.__filtered__){var d=new Rt(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}var $P=Math.max,KP=Math.min;function qP(d,p,a){for(var c=-1,o=a.length;++c<o;){var f=a[c],l=f.size;switch(f.type){case"drop":d+=l;break;case"dropRight":p-=l;break;case"take":p=KP(p,d+l);break;case"takeRight":d=$P(d,p-l);break}}return{start:d,end:p}}var ZP=1,JP=2,QP=Math.min;function e2(){var d=this.__wrapped__.value(),p=this.__dir__,a=oi(d),c=p<0,o=a?d.length:0,f=qP(0,o,this.__views__),l=f.start,y=f.end,g=y-l,O=c?y:l-1,x=this.__iteratees__,w=x.length,j=0,P=QP(g,this.__takeCount__);if(!a||!c&&o==g&&P==g)return Hj(d,this.__actions__);var A=[];e:for(;g--&&j<P;){O+=p;for(var M=-1,k=d[O];++M<w;){var R=x[M],L=R.iteratee,Y=R.type,Q=L(k);if(Y==JP)k=Q;else if(!Q){if(Y==ZP)continue e;break e}}A[j++]=k}return A}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var t2="4.17.21",n2=2,r2=1,o2=3,nm=4294967295,i2=Array.prototype,a2=Object.prototype,rm=a2.hasOwnProperty,rg=ng?ng.iterator:void 0,u2=Math.max,og=Math.min,qf=function(d){return function(p,a,c){if(c==null){var o=Wf(a),f=o&&Vf(a),l=f&&f.length&&Uj(a,f);(l?l.length:o)||(c=a,a=p,p=this)}return d(p,a,c)}}(Jg);C.after=Wt.after;C.ary=Wt.ary;C.assign=ft.assign;C.assignIn=ft.assignIn;C.assignInWith=ft.assignInWith;C.assignWith=ft.assignWith;C.at=ft.at;C.before=Wt.before;C.bind=Wt.bind;C.bindAll=At.bindAll;C.bindKey=Wt.bindKey;C.castArray=et.castArray;C.chain=Or.chain;C.chunk=Ve.chunk;C.compact=Ve.compact;C.concat=Ve.concat;C.cond=At.cond;C.conforms=At.conforms;C.constant=At.constant;C.countBy=Nt.countBy;C.create=ft.create;C.curry=Wt.curry;C.curryRight=Wt.curryRight;C.debounce=Wt.debounce;C.defaults=ft.defaults;C.defaultsDeep=ft.defaultsDeep;C.defer=Wt.defer;C.delay=Wt.delay;C.difference=Ve.difference;C.differenceBy=Ve.differenceBy;C.differenceWith=Ve.differenceWith;C.drop=Ve.drop;C.dropRight=Ve.dropRight;C.dropRightWhile=Ve.dropRightWhile;C.dropWhile=Ve.dropWhile;C.fill=Ve.fill;C.filter=Nt.filter;C.flatMap=Nt.flatMap;C.flatMapDeep=Nt.flatMapDeep;C.flatMapDepth=Nt.flatMapDepth;C.flatten=Ve.flatten;C.flattenDeep=Ve.flattenDeep;C.flattenDepth=Ve.flattenDepth;C.flip=Wt.flip;C.flow=At.flow;C.flowRight=At.flowRight;C.fromPairs=Ve.fromPairs;C.functions=ft.functions;C.functionsIn=ft.functionsIn;C.groupBy=Nt.groupBy;C.initial=Ve.initial;C.intersection=Ve.intersection;C.intersectionBy=Ve.intersectionBy;C.intersectionWith=Ve.intersectionWith;C.invert=ft.invert;C.invertBy=ft.invertBy;C.invokeMap=Nt.invokeMap;C.iteratee=At.iteratee;C.keyBy=Nt.keyBy;C.keys=Vf;C.keysIn=ft.keysIn;C.map=Nt.map;C.mapKeys=ft.mapKeys;C.mapValues=ft.mapValues;C.matches=At.matches;C.matchesProperty=At.matchesProperty;C.memoize=Wt.memoize;C.merge=ft.merge;C.mergeWith=ft.mergeWith;C.method=At.method;C.methodOf=At.methodOf;C.mixin=qf;C.negate=$f;C.nthArg=At.nthArg;C.omit=ft.omit;C.omitBy=ft.omitBy;C.once=Wt.once;C.orderBy=Nt.orderBy;C.over=At.over;C.overArgs=Wt.overArgs;C.overEvery=At.overEvery;C.overSome=At.overSome;C.partial=Wt.partial;C.partialRight=Wt.partialRight;C.partition=Nt.partition;C.pick=ft.pick;C.pickBy=ft.pickBy;C.property=At.property;C.propertyOf=At.propertyOf;C.pull=Ve.pull;C.pullAll=Ve.pullAll;C.pullAllBy=Ve.pullAllBy;C.pullAllWith=Ve.pullAllWith;C.pullAt=Ve.pullAt;C.range=At.range;C.rangeRight=At.rangeRight;C.rearg=Wt.rearg;C.reject=Nt.reject;C.remove=Ve.remove;C.rest=Wt.rest;C.reverse=Ve.reverse;C.sampleSize=Nt.sampleSize;C.set=ft.set;C.setWith=ft.setWith;C.shuffle=Nt.shuffle;C.slice=Ve.slice;C.sortBy=Nt.sortBy;C.sortedUniq=Ve.sortedUniq;C.sortedUniqBy=Ve.sortedUniqBy;C.split=jt.split;C.spread=Wt.spread;C.tail=Ve.tail;C.take=Ve.take;C.takeRight=Ve.takeRight;C.takeRightWhile=Ve.takeRightWhile;C.takeWhile=Ve.takeWhile;C.tap=Or.tap;C.throttle=Wt.throttle;C.thru=Xf;C.toArray=et.toArray;C.toPairs=ft.toPairs;C.toPairsIn=ft.toPairsIn;C.toPath=At.toPath;C.toPlainObject=et.toPlainObject;C.transform=ft.transform;C.unary=Wt.unary;C.union=Ve.union;C.unionBy=Ve.unionBy;C.unionWith=Ve.unionWith;C.uniq=Ve.uniq;C.uniqBy=Ve.uniqBy;C.uniqWith=Ve.uniqWith;C.unset=ft.unset;C.unzip=Ve.unzip;C.unzipWith=Ve.unzipWith;C.update=ft.update;C.updateWith=ft.updateWith;C.values=ft.values;C.valuesIn=ft.valuesIn;C.without=Ve.without;C.words=jt.words;C.wrap=Wt.wrap;C.xor=Ve.xor;C.xorBy=Ve.xorBy;C.xorWith=Ve.xorWith;C.zip=Ve.zip;C.zipObject=Ve.zipObject;C.zipObjectDeep=Ve.zipObjectDeep;C.zipWith=Ve.zipWith;C.entries=ft.toPairs;C.entriesIn=ft.toPairsIn;C.extend=ft.assignIn;C.extendWith=ft.assignInWith;qf(C,C);C.add=wn.add;C.attempt=At.attempt;C.camelCase=jt.camelCase;C.capitalize=jt.capitalize;C.ceil=wn.ceil;C.clamp=Kf.clamp;C.clone=et.clone;C.cloneDeep=et.cloneDeep;C.cloneDeepWith=et.cloneDeepWith;C.cloneWith=et.cloneWith;C.conformsTo=et.conformsTo;C.deburr=jt.deburr;C.defaultTo=At.defaultTo;C.divide=wn.divide;C.endsWith=jt.endsWith;C.eq=et.eq;C.escape=jt.escape;C.escapeRegExp=jt.escapeRegExp;C.every=Nt.every;C.find=Nt.find;C.findIndex=Ve.findIndex;C.findKey=ft.findKey;C.findLast=Nt.findLast;C.findLastIndex=Ve.findLastIndex;C.findLastKey=ft.findLastKey;C.floor=wn.floor;C.forEach=Nt.forEach;C.forEachRight=Nt.forEachRight;C.forIn=ft.forIn;C.forInRight=ft.forInRight;C.forOwn=ft.forOwn;C.forOwnRight=ft.forOwnRight;C.get=ft.get;C.gt=et.gt;C.gte=et.gte;C.has=ft.has;C.hasIn=ft.hasIn;C.head=Ve.head;C.identity=Yf;C.includes=Nt.includes;C.indexOf=Ve.indexOf;C.inRange=Kf.inRange;C.invoke=ft.invoke;C.isArguments=et.isArguments;C.isArray=oi;C.isArrayBuffer=et.isArrayBuffer;C.isArrayLike=et.isArrayLike;C.isArrayLikeObject=et.isArrayLikeObject;C.isBoolean=et.isBoolean;C.isBuffer=et.isBuffer;C.isDate=et.isDate;C.isElement=et.isElement;C.isEmpty=et.isEmpty;C.isEqual=et.isEqual;C.isEqualWith=et.isEqualWith;C.isError=et.isError;C.isFinite=et.isFinite;C.isFunction=et.isFunction;C.isInteger=et.isInteger;C.isLength=et.isLength;C.isMap=et.isMap;C.isMatch=et.isMatch;C.isMatchWith=et.isMatchWith;C.isNaN=et.isNaN;C.isNative=et.isNative;C.isNil=et.isNil;C.isNull=et.isNull;C.isNumber=et.isNumber;C.isObject=Wf;C.isObjectLike=et.isObjectLike;C.isPlainObject=et.isPlainObject;C.isRegExp=et.isRegExp;C.isSafeInteger=et.isSafeInteger;C.isSet=et.isSet;C.isString=et.isString;C.isSymbol=et.isSymbol;C.isTypedArray=et.isTypedArray;C.isUndefined=et.isUndefined;C.isWeakMap=et.isWeakMap;C.isWeakSet=et.isWeakSet;C.join=Ve.join;C.kebabCase=jt.kebabCase;C.last=em;C.lastIndexOf=Ve.lastIndexOf;C.lowerCase=jt.lowerCase;C.lowerFirst=jt.lowerFirst;C.lt=et.lt;C.lte=et.lte;C.max=wn.max;C.maxBy=wn.maxBy;C.mean=wn.mean;C.meanBy=wn.meanBy;C.min=wn.min;C.minBy=wn.minBy;C.stubArray=At.stubArray;C.stubFalse=At.stubFalse;C.stubObject=At.stubObject;C.stubString=At.stubString;C.stubTrue=At.stubTrue;C.multiply=wn.multiply;C.nth=Ve.nth;C.noop=At.noop;C.now=UP.now;C.pad=jt.pad;C.padEnd=jt.padEnd;C.padStart=jt.padStart;C.parseInt=jt.parseInt;C.random=Kf.random;C.reduce=Nt.reduce;C.reduceRight=Nt.reduceRight;C.repeat=jt.repeat;C.replace=jt.replace;C.result=ft.result;C.round=wn.round;C.sample=Nt.sample;C.size=Nt.size;C.snakeCase=jt.snakeCase;C.some=Nt.some;C.sortedIndex=Ve.sortedIndex;C.sortedIndexBy=Ve.sortedIndexBy;C.sortedIndexOf=Ve.sortedIndexOf;C.sortedLastIndex=Ve.sortedLastIndex;C.sortedLastIndexBy=Ve.sortedLastIndexBy;C.sortedLastIndexOf=Ve.sortedLastIndexOf;C.startCase=jt.startCase;C.startsWith=jt.startsWith;C.subtract=wn.subtract;C.sum=wn.sum;C.sumBy=wn.sumBy;C.template=jt.template;C.times=At.times;C.toFinite=et.toFinite;C.toInteger=Qi;C.toLength=et.toLength;C.toLower=jt.toLower;C.toNumber=et.toNumber;C.toSafeInteger=et.toSafeInteger;C.toString=et.toString;C.toUpper=jt.toUpper;C.trim=jt.trim;C.trimEnd=jt.trimEnd;C.trimStart=jt.trimStart;C.truncate=jt.truncate;C.unescape=jt.unescape;C.uniqueId=At.uniqueId;C.upperCase=jt.upperCase;C.upperFirst=jt.upperFirst;C.each=Nt.forEach;C.eachRight=Nt.forEachRight;C.first=Ve.head;qf(C,function(){var d={};return Uf(C,function(p,a){rm.call(C.prototype,a)||(d[a]=p)}),d}(),{chain:!1});C.VERSION=t2;(C.templateSettings=jt.templateSettings).imports._=C;ai(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){C[d].placeholder=C});ai(["drop","take"],function(d,p){Rt.prototype[d]=function(a){a=a===void 0?1:u2(Qi(a),0);var c=this.__filtered__&&!p?new Rt(this):this.clone();return c.__filtered__?c.__takeCount__=og(a,c.__takeCount__):c.__views__.push({size:og(a,nm),type:d+(c.__dir__<0?"Right":"")}),c},Rt.prototype[d+"Right"]=function(a){return this.reverse()[d](a).reverse()}});ai(["filter","map","takeWhile"],function(d,p){var a=p+1,c=a==r2||a==o2;Rt.prototype[d]=function(o){var f=this.clone();return f.__iteratees__.push({iteratee:Qg(o),type:a}),f.__filtered__=f.__filtered__||c,f}});ai(["head","last"],function(d,p){var a="take"+(p?"Right":"");Rt.prototype[d]=function(){return this[a](1).value()[0]}});ai(["initial","tail"],function(d,p){var a="drop"+(p?"":"Right");Rt.prototype[d]=function(){return this.__filtered__?new Rt(this):this[a](1)}});Rt.prototype.compact=function(){return this.filter(Yf)};Rt.prototype.find=function(d){return this.filter(d).head()};Rt.prototype.findLast=function(d){return this.reverse().find(d)};Rt.prototype.invokeMap=gP(function(d,p){return typeof d=="function"?new Rt(this):this.map(function(a){return Xj(a,d,p)})});Rt.prototype.reject=function(d){return this.filter($f(Qg(d)))};Rt.prototype.slice=function(d,p){d=Qi(d);var a=this;return a.__filtered__&&(d>0||p<0)?new Rt(a):(d<0?a=a.takeRight(-d):d&&(a=a.drop(d)),p!==void 0&&(p=Qi(p),a=p<0?a.dropRight(-p):a.take(p-d)),a)};Rt.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()};Rt.prototype.toArray=function(){return this.take(nm)};Uf(Rt.prototype,function(d,p){var a=/^(?:filter|find|map|reject)|While$/.test(p),c=/^(?:head|last)$/.test(p),o=C[c?"take"+(p=="last"?"Right":""):p],f=c||/^find/.test(p);o&&(C.prototype[p]=function(){var l=this.__wrapped__,y=c?[1]:arguments,g=l instanceof Rt,O=y[0],x=g||oi(l),w=function(R){var L=o.apply(C,iP([R],y));return c&&j?L[0]:L};x&&a&&typeof O=="function"&&O.length!=1&&(g=x=!1);var j=this.__chain__,P=!!this.__actions__.length,A=f&&!j,M=g&&!P;if(!f&&x){l=M?l:new Rt(this);var k=d.apply(l,y);return k.__actions__.push({func:Xf,args:[w],thisArg:void 0}),new Yj(k,j)}return A&&M?d.apply(this,y):(k=this.thru(w),A?c?k.value()[0]:k.value():k)})});ai(["pop","push","shift","sort","splice","unshift"],function(d){var p=i2[d],a=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",c=/^(?:pop|shift)$/.test(d);C.prototype[d]=function(){var o=arguments;if(c&&!this.__chain__){var f=this.value();return p.apply(oi(f)?f:[],o)}return this[a](function(l){return p.apply(oi(l)?l:[],o)})}});Uf(Rt.prototype,function(d,p){var a=C[p];if(a){var c=a.name+"";rm.call(Gu,c)||(Gu[c]=[]),Gu[c].push({name:p,func:a})}});Gu[Wj(void 0,n2).name]=[{name:"wrapper",func:void 0}];Rt.prototype.clone=YP;Rt.prototype.reverse=VP;Rt.prototype.value=e2;C.prototype.at=Or.at;C.prototype.chain=Or.wrapperChain;C.prototype.commit=Or.commit;C.prototype.next=Or.next;C.prototype.plant=Or.plant;C.prototype.reverse=Or.reverse;C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=Or.value;C.prototype.first=C.prototype.head;rg&&(C.prototype[rg]=Or.toIterator);var If={exports:{}};(function(d,p){(function(a,c){d.exports=c()})(window,function(){return function(a){var c={};function o(f){if(c[f])return c[f].exports;var l=c[f]={i:f,l:!1,exports:{}};return a[f].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=a,o.c=c,o.d=function(f,l,y){o.o(f,l)||Object.defineProperty(f,l,{enumerable:!0,get:y})},o.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},o.t=function(f,l){if(1&l&&(f=o(f)),8&l||4&l&&typeof f=="object"&&f&&f.__esModule)return f;var y=Object.create(null);if(o.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:f}),2&l&&typeof f!="string")for(var g in f)o.d(y,g,(function(O){return f[O]}).bind(null,g));return y},o.n=function(f){var l=f&&f.__esModule?function(){return f.default}:function(){return f};return o.d(l,"a",l),l},o.o=function(f,l){return Object.prototype.hasOwnProperty.call(f,l)},o.p="",o(o.s=215)}([function(a,c,o){o.d(c,"a",function(){return K}),o.d(c,"b",function(){return Q}),o.d(c,"c",function(){return Re}),o.d(c,"d",function(){return Je}),o.d(c,"e",function(){return R}),o.d(c,"f",function(){return Y}),o.d(c,"g",function(){return R}),o.d(c,"h",function(){return Te}),o.d(c,"i",function(){return l}),o.d(c,"j",function(){return Ze}),o.d(c,"k",function(){return X});var f,l,y,g,O,x,w,j={},P=[],A=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function M(ee,J){for(var ue in J)ee[ue]=J[ue];return ee}function k(ee){var J=ee.parentNode;J&&J.removeChild(ee)}function R(ee,J,ue){var we,Ae,xe,Qe={};for(xe in J)xe=="key"?we=J[xe]:xe=="ref"?Ae=J[xe]:Qe[xe]=J[xe];if(arguments.length>2&&(Qe.children=arguments.length>3?f.call(arguments,2):ue),typeof ee=="function"&&ee.defaultProps!=null)for(xe in ee.defaultProps)Qe[xe]===void 0&&(Qe[xe]=ee.defaultProps[xe]);return L(ee,Qe,we,Ae,null)}function L(ee,J,ue,we,Ae){var xe={type:ee,props:J,key:ue,ref:we,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ae??++y};return Ae==null&&l.vnode!=null&&l.vnode(xe),xe}function Y(){return{current:null}}function Q(ee){return ee.children}function K(ee,J){this.props=ee,this.context=J}function V(ee,J){if(J==null)return ee.__?V(ee.__,ee.__.__k.indexOf(ee)+1):null;for(var ue;J<ee.__k.length;J++)if((ue=ee.__k[J])!=null&&ue.__e!=null)return ue.__e;return typeof ee.type=="function"?V(ee):null}function Z(ee){var J,ue;if((ee=ee.__)!=null&&ee.__c!=null){for(ee.__e=ee.__c.base=null,J=0;J<ee.__k.length;J++)if((ue=ee.__k[J])!=null&&ue.__e!=null){ee.__e=ee.__c.base=ue.__e;break}return Z(ee)}}function F(ee){(!ee.__d&&(ee.__d=!0)&&g.push(ee)&&!I.__r++||x!==l.debounceRendering)&&((x=l.debounceRendering)||O)(I)}function I(){for(var ee;I.__r=g.length;)ee=g.sort(function(J,ue){return J.__v.__b-ue.__v.__b}),g=[],ee.some(function(J){var ue,we,Ae,xe,Qe,it;J.__d&&(Qe=(xe=(ue=J).__v).__e,(it=ue.__P)&&(we=[],(Ae=M({},xe)).__v=xe.__v+1,ge(it,xe,Ae,ue.__n,it.ownerSVGElement!==void 0,xe.__h!=null?[Qe]:null,we,Qe??V(xe),xe.__h),se(we,xe),xe.__e!=Qe&&Z(xe)))})}function B(ee,J,ue,we,Ae,xe,Qe,it,tt,$e){var me,Xe,ne,Be,lt,Ot,st,bt=we&&we.__k||P,kt=bt.length;for(ue.__k=[],me=0;me<J.length;me++)if((Be=ue.__k[me]=(Be=J[me])==null||typeof Be=="boolean"?null:typeof Be=="string"||typeof Be=="number"||typeof Be=="bigint"?L(null,Be,null,null,Be):Array.isArray(Be)?L(Q,{children:Be},null,null,null):Be.__b>0?L(Be.type,Be.props,Be.key,null,Be.__v):Be)!=null){if(Be.__=ue,Be.__b=ue.__b+1,(ne=bt[me])===null||ne&&Be.key==ne.key&&Be.type===ne.type)bt[me]=void 0;else for(Xe=0;Xe<kt;Xe++){if((ne=bt[Xe])&&Be.key==ne.key&&Be.type===ne.type){bt[Xe]=void 0;break}ne=null}ge(ee,Be,ne=ne||j,Ae,xe,Qe,it,tt,$e),lt=Be.__e,(Xe=Be.ref)&&ne.ref!=Xe&&(st||(st=[]),ne.ref&&st.push(ne.ref,null,Be),st.push(Xe,Be.__c||lt,Be)),lt!=null?(Ot==null&&(Ot=lt),typeof Be.type=="function"&&Be.__k===ne.__k?Be.__d=tt=G(Be,tt,ee):tt=re(ee,Be,ne,bt,lt,tt),typeof ue.type=="function"&&(ue.__d=tt)):tt&&ne.__e==tt&&tt.parentNode!=ee&&(tt=V(ne))}for(ue.__e=Ot,me=kt;me--;)bt[me]!=null&&(typeof ue.type=="function"&&bt[me].__e!=null&&bt[me].__e==ue.__d&&(ue.__d=V(we,me+1)),Pe(bt[me],bt[me]));if(st)for(me=0;me<st.length;me++)be(st[me],st[++me],st[++me])}function G(ee,J,ue){for(var we,Ae=ee.__k,xe=0;Ae&&xe<Ae.length;xe++)(we=Ae[xe])&&(we.__=ee,J=typeof we.type=="function"?G(we,J,ue):re(ue,we,we,Ae,we.__e,J));return J}function X(ee,J){return J=J||[],ee==null||typeof ee=="boolean"||(Array.isArray(ee)?ee.some(function(ue){X(ue,J)}):J.push(ee)),J}function re(ee,J,ue,we,Ae,xe){var Qe,it,tt;if(J.__d!==void 0)Qe=J.__d,J.__d=void 0;else if(ue==null||Ae!=xe||Ae.parentNode==null)e:if(xe==null||xe.parentNode!==ee)ee.appendChild(Ae),Qe=null;else{for(it=xe,tt=0;(it=it.nextSibling)&&tt<we.length;tt+=2)if(it==Ae)break e;ee.insertBefore(Ae,xe),Qe=xe}return Qe!==void 0?Qe:Ae.nextSibling}function de(ee,J,ue){J[0]==="-"?ee.setProperty(J,ue):ee[J]=ue==null?"":typeof ue!="number"||A.test(J)?ue:ue+"px"}function le(ee,J,ue,we,Ae){var xe;e:if(J==="style")if(typeof ue=="string")ee.style.cssText=ue;else{if(typeof we=="string"&&(ee.style.cssText=we=""),we)for(J in we)ue&&J in ue||de(ee.style,J,"");if(ue)for(J in ue)we&&ue[J]===we[J]||de(ee.style,J,ue[J])}else if(J[0]==="o"&&J[1]==="n")xe=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in ee?J.toLowerCase().slice(2):J.slice(2),ee.l||(ee.l={}),ee.l[J+xe]=ue,ue?we||ee.addEventListener(J,xe?Se:ve,xe):ee.removeEventListener(J,xe?Se:ve,xe);else if(J!=="dangerouslySetInnerHTML"){if(Ae)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in ee)try{ee[J]=ue??"";break e}catch{}typeof ue=="function"||(ue!=null&&(ue!==!1||J[0]==="a"&&J[1]==="r")?ee.setAttribute(J,ue):ee.removeAttribute(J))}}function ve(ee){this.l[ee.type+!1](l.event?l.event(ee):ee)}function Se(ee){this.l[ee.type+!0](l.event?l.event(ee):ee)}function ge(ee,J,ue,we,Ae,xe,Qe,it,tt){var $e,me,Xe,ne,Be,lt,Ot,st,bt,kt,Ct,ct=J.type;if(J.constructor!==void 0)return null;ue.__h!=null&&(tt=ue.__h,it=J.__e=ue.__e,J.__h=null,xe=[it]),($e=l.__b)&&$e(J);try{e:if(typeof ct=="function"){if(st=J.props,bt=($e=ct.contextType)&&we[$e.__c],kt=$e?bt?bt.props.value:$e.__:we,ue.__c?Ot=(me=J.__c=ue.__c).__=me.__E:("prototype"in ct&&ct.prototype.render?J.__c=me=new ct(st,kt):(J.__c=me=new K(st,kt),me.constructor=ct,me.render=ze),bt&&bt.sub(me),me.props=st,me.state||(me.state={}),me.context=kt,me.__n=we,Xe=me.__d=!0,me.__h=[]),me.__s==null&&(me.__s=me.state),ct.getDerivedStateFromProps!=null&&(me.__s==me.state&&(me.__s=M({},me.__s)),M(me.__s,ct.getDerivedStateFromProps(st,me.__s))),ne=me.props,Be=me.state,Xe)ct.getDerivedStateFromProps==null&&me.componentWillMount!=null&&me.componentWillMount(),me.componentDidMount!=null&&me.__h.push(me.componentDidMount);else{if(ct.getDerivedStateFromProps==null&&st!==ne&&me.componentWillReceiveProps!=null&&me.componentWillReceiveProps(st,kt),!me.__e&&me.shouldComponentUpdate!=null&&me.shouldComponentUpdate(st,me.__s,kt)===!1||J.__v===ue.__v){me.props=st,me.state=me.__s,J.__v!==ue.__v&&(me.__d=!1),me.__v=J,J.__e=ue.__e,J.__k=ue.__k,J.__k.forEach(function(Ht){Ht&&(Ht.__=J)}),me.__h.length&&Qe.push(me);break e}me.componentWillUpdate!=null&&me.componentWillUpdate(st,me.__s,kt),me.componentDidUpdate!=null&&me.__h.push(function(){me.componentDidUpdate(ne,Be,lt)})}me.context=kt,me.props=st,me.state=me.__s,($e=l.__r)&&$e(J),me.__d=!1,me.__v=J,me.__P=ee,$e=me.render(me.props,me.state,me.context),me.state=me.__s,me.getChildContext!=null&&(we=M(M({},we),me.getChildContext())),Xe||me.getSnapshotBeforeUpdate==null||(lt=me.getSnapshotBeforeUpdate(ne,Be)),Ct=$e!=null&&$e.type===Q&&$e.key==null?$e.props.children:$e,B(ee,Array.isArray(Ct)?Ct:[Ct],J,ue,we,Ae,xe,Qe,it,tt),me.base=J.__e,J.__h=null,me.__h.length&&Qe.push(me),Ot&&(me.__E=me.__=null),me.__e=!1}else xe==null&&J.__v===ue.__v?(J.__k=ue.__k,J.__e=ue.__e):J.__e=ye(ue.__e,J,ue,we,Ae,xe,Qe,tt);($e=l.diffed)&&$e(J)}catch(Ht){J.__v=null,(tt||xe!=null)&&(J.__e=it,J.__h=!!tt,xe[xe.indexOf(it)]=null),l.__e(Ht,J,ue)}}function se(ee,J){l.__c&&l.__c(J,ee),ee.some(function(ue){try{ee=ue.__h,ue.__h=[],ee.some(function(we){we.call(ue)})}catch(we){l.__e(we,ue.__v)}})}function ye(ee,J,ue,we,Ae,xe,Qe,it){var tt,$e,me,Xe=ue.props,ne=J.props,Be=J.type,lt=0;if(Be==="svg"&&(Ae=!0),xe!=null){for(;lt<xe.length;lt++)if((tt=xe[lt])&&"setAttribute"in tt==!!Be&&(Be?tt.localName===Be:tt.nodeType===3)){ee=tt,xe[lt]=null;break}}if(ee==null){if(Be===null)return document.createTextNode(ne);ee=Ae?document.createElementNS("http://www.w3.org/2000/svg",Be):document.createElement(Be,ne.is&&ne),xe=null,it=!1}if(Be===null)Xe===ne||it&&ee.data===ne||(ee.data=ne);else{if(xe=xe&&f.call(ee.childNodes),$e=(Xe=ue.props||j).dangerouslySetInnerHTML,me=ne.dangerouslySetInnerHTML,!it){if(xe!=null)for(Xe={},lt=0;lt<ee.attributes.length;lt++)Xe[ee.attributes[lt].name]=ee.attributes[lt].value;(me||$e)&&(me&&($e&&me.__html==$e.__html||me.__html===ee.innerHTML)||(ee.innerHTML=me&&me.__html||""))}if(function(Ot,st,bt,kt,Ct){var ct;for(ct in bt)ct==="children"||ct==="key"||ct in st||le(Ot,ct,null,bt[ct],kt);for(ct in st)Ct&&typeof st[ct]!="function"||ct==="children"||ct==="key"||ct==="value"||ct==="checked"||bt[ct]===st[ct]||le(Ot,ct,st[ct],bt[ct],kt)}(ee,ne,Xe,Ae,it),me)J.__k=[];else if(lt=J.props.children,B(ee,Array.isArray(lt)?lt:[lt],J,ue,we,Ae&&Be!=="foreignObject",xe,Qe,xe?xe[0]:ue.__k&&V(ue,0),it),xe!=null)for(lt=xe.length;lt--;)xe[lt]!=null&&k(xe[lt]);it||("value"in ne&&(lt=ne.value)!==void 0&&(lt!==Xe.value||lt!==ee.value||Be==="progress"&&!lt)&&le(ee,"value",lt,Xe.value,!1),"checked"in ne&&(lt=ne.checked)!==void 0&&lt!==ee.checked&&le(ee,"checked",lt,Xe.checked,!1))}return ee}function be(ee,J,ue){try{typeof ee=="function"?ee(J):ee.current=J}catch(we){l.__e(we,ue)}}function Pe(ee,J,ue){var we,Ae;if(l.unmount&&l.unmount(ee),(we=ee.ref)&&(we.current&&we.current!==ee.__e||be(we,null,J)),(we=ee.__c)!=null){if(we.componentWillUnmount)try{we.componentWillUnmount()}catch(xe){l.__e(xe,J)}we.base=we.__P=null}if(we=ee.__k)for(Ae=0;Ae<we.length;Ae++)we[Ae]&&Pe(we[Ae],J,typeof ee.type!="function");ue||ee.__e==null||k(ee.__e),ee.__e=ee.__d=void 0}function ze(ee,J,ue){return this.constructor(ee,ue)}function Ze(ee,J,ue){var we,Ae,xe;l.__&&l.__(ee,J),Ae=(we=typeof ue=="function")?null:ue&&ue.__k||J.__k,xe=[],ge(J,ee=(!we&&ue||J).__k=R(Q,null,[ee]),Ae||j,j,J.ownerSVGElement!==void 0,!we&&ue?[ue]:Ae?null:J.firstChild?f.call(J.childNodes):null,xe,!we&&ue?ue:Ae?Ae.__e:J.firstChild,we),se(xe,ee)}function Te(ee,J){Ze(ee,J,Te)}function Re(ee,J,ue){var we,Ae,xe,Qe=M({},ee.props);for(xe in J)xe=="key"?we=J[xe]:xe=="ref"?Ae=J[xe]:Qe[xe]=J[xe];return arguments.length>2&&(Qe.children=arguments.length>3?f.call(arguments,2):ue),L(ee.type,Qe,we||ee.key,Ae||ee.ref,null)}function Je(ee,J){var ue={__c:J="__cC"+w++,__:ee,Consumer:function(we,Ae){return we.children(Ae)},Provider:function(we){var Ae,xe;return this.getChildContext||(Ae=[],(xe={})[J]=this,this.getChildContext=function(){return xe},this.shouldComponentUpdate=function(Qe){this.props.value!==Qe.value&&Ae.some(F)},this.sub=function(Qe){Ae.push(Qe);var it=Qe.componentWillUnmount;Qe.componentWillUnmount=function(){Ae.splice(Ae.indexOf(Qe),1),it&&it.call(Qe)}}),we.children}};return ue.Provider.__=ue.Consumer.contextType=ue}f=P.slice,l={__e:function(ee,J){for(var ue,we,Ae;J=J.__;)if((ue=J.__c)&&!ue.__)try{if((we=ue.constructor)&&we.getDerivedStateFromError!=null&&(ue.setState(we.getDerivedStateFromError(ee)),Ae=ue.__d),ue.componentDidCatch!=null&&(ue.componentDidCatch(ee),Ae=ue.__d),Ae)return ue.__E=ue}catch(xe){ee=xe}throw ee}},y=0,K.prototype.setState=function(ee,J){var ue;ue=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=M({},this.state),typeof ee=="function"&&(ee=ee(M({},ue),this.props)),ee&&M(ue,ee),ee!=null&&this.__v&&(J&&this.__h.push(J),F(this))},K.prototype.forceUpdate=function(ee){this.__v&&(this.__e=!0,ee&&this.__h.push(ee),F(this))},K.prototype.render=Q,g=[],O=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I.__r=0,w=0},function(a,c,o){(function(f,l){o.d(c,"a",function(){return F}),o.d(c,"b",function(){return yi}),o.d(c,"c",function(){return qn}),o.d(c,"d",function(){return rt}),o.d(c,"e",function(){return Ce}),o.d(c,"f",function(){return Ne}),o.d(c,"g",function(){return Ke}),o.d(c,"h",function(){return Wr}),o.d(c,"i",function(){return Ct}),o.d(c,"j",function(){return Fe}),o.d(c,"k",function(){return ur}),o.d(c,"l",function(){return pi}),o.d(c,"m",function(){return Ot}),o.d(c,"n",function(){return Hr}),o.d(c,"o",function(){return G}),o.d(c,"p",function(){return va}),o.d(c,"q",function(){return sr}),o.d(c,"r",function(){return da}),o.d(c,"s",function(){return Cn}),o.d(c,"t",function(){return ao}),o.d(c,"u",function(){return xo}),o.d(c,"v",function(){return ys}),o.d(c,"w",function(){return ya}),o.d(c,"x",function(){return so}),o.d(c,"y",function(){return Wn}),o.d(c,"z",function(){return Yt}),o.d(c,"A",function(){return jn}),o.d(c,"B",function(){return cr}),o.d(c,"C",function(){return $e}),o.d(c,"D",function(){return ma}),o.d(c,"E",function(){return Gr}),o.d(c,"F",function(){return Fr}),o.d(c,"G",function(){return ps}),o.d(c,"H",function(){return ia}),o.d(c,"I",function(){return gs}),o.d(c,"J",function(){return Dn}),o.d(c,"K",function(){return ie}),o.d(c,"L",function(){return un}),o.d(c,"M",function(){return ba});var y=[];Object.freeze(y);var g={};function O(){return++Ue.mobxGuid}function x(m){throw w(!1,m),"X"}function w(m,b){if(!m)throw new Error("[mobx] "+(b||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function j(m){var b=!1;return function(){if(!b)return b=!0,m.apply(this,arguments)}}var P=function(){};function A(m){return m!==null&&typeof m=="object"}function M(m){if(m===null||typeof m!="object")return!1;var b=Object.getPrototypeOf(m);return b===Object.prototype||b===null}function k(m,b,S){Object.defineProperty(m,b,{enumerable:!1,writable:!0,configurable:!0,value:S})}function R(m,b){var S="isMobX"+m;return b.prototype[S]=!0,function(N){return A(N)&&N[S]===!0}}function L(m){return m instanceof Map}function Y(m){return m instanceof Set}function Q(m){var b=new Set;for(var S in m)b.add(S);return Object.getOwnPropertySymbols(m).forEach(function(N){Object.getOwnPropertyDescriptor(m,N).enumerable&&b.add(N)}),Array.from(b)}function K(m){return m&&m.toString?m.toString():new String(m).toString()}function V(m){return m===null?null:typeof m=="object"?""+m:m}var Z=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:Object.getOwnPropertyNames,F=Symbol("mobx administration"),I=function(){function m(b){b===void 0&&(b="Atom@"+O()),this.name=b,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Xe.NOT_TRACKING}return m.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},m.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},m.prototype.reportObserved=function(){return ra(this)},m.prototype.reportChanged=function(){An(),function(b){b.lowestObserverState!==Xe.STALE&&(b.lowestObserverState=Xe.STALE,b.observers.forEach(function(S){S.dependenciesState===Xe.UP_TO_DATE&&(S.isTracing!==ne.NONE&&ar(S,b),S.onBecomeStale()),S.dependenciesState=Xe.STALE}))}(this),kn()},m.prototype.toString=function(){return this.name},m}(),B=R("Atom",I);function G(m,b,S){b===void 0&&(b=P),S===void 0&&(S=P);var N,H=new I(m);return b!==P&&sa("onBecomeObserved",H,b,N),S!==P&&Gr(H,S),H}var X={identity:function(m,b){return m===b},structural:function(m,b){return gi(m,b)},default:function(m,b){return Object.is(m,b)},shallow:function(m,b){return gi(m,b,1)}},re=function(m,b){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var H in N)N.hasOwnProperty(H)&&(S[H]=N[H])},re(m,b)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var de=function(){return de=Object.assign||function(m){for(var b,S=1,N=arguments.length;S<N;S++)for(var H in b=arguments[S])Object.prototype.hasOwnProperty.call(b,H)&&(m[H]=b[H]);return m},de.apply(this,arguments)};function le(m){var b=typeof Symbol=="function"&&m[Symbol.iterator],S=0;return b?b.call(m):{next:function(){return m&&S>=m.length&&(m=void 0),{value:m&&m[S++],done:!m}}}}function ve(m,b){var S=typeof Symbol=="function"&&m[Symbol.iterator];if(!S)return m;var N,H,te=S.call(m),he=[];try{for(;(b===void 0||b-- >0)&&!(N=te.next()).done;)he.push(N.value)}catch(Me){H={error:Me}}finally{try{N&&!N.done&&(S=te.return)&&S.call(te)}finally{if(H)throw H.error}}return he}function Se(){for(var m=[],b=0;b<arguments.length;b++)m=m.concat(ve(arguments[b]));return m}var ge=Symbol("mobx did run lazy initializers"),se=Symbol("mobx pending decorators"),ye={},be={};function Pe(m,b){var S=b?ye:be;return S[m]||(S[m]={configurable:!0,enumerable:b,get:function(){return ze(this),this[m]},set:function(N){ze(this),this[m]=N}})}function ze(m){var b,S;if(m[ge]!==!0){var N=m[se];if(N){k(m,ge,!0);var H=Se(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var te=le(H),he=te.next();!he.done;he=te.next()){var Me=N[he.value];Me.propertyCreator(m,Me.prop,Me.descriptor,Me.decoratorTarget,Me.decoratorArguments)}}catch(He){b={error:He}}finally{try{he&&!he.done&&(S=te.return)&&S.call(te)}finally{if(b)throw b.error}}}}}function Ze(m,b){return function(){var S,N=function(H,te,he,Me){if(Me===!0)return b(H,te,he,H,S),null;if(!Object.prototype.hasOwnProperty.call(H,se)){var He=H[se];k(H,se,de({},He))}return H[se][te]={prop:te,propertyCreator:b,descriptor:he,decoratorTarget:H,decoratorArguments:S},Pe(te,m)};return Te(arguments)?(S=y,N.apply(null,arguments)):(S=Array.prototype.slice.call(arguments),N)}}function Te(m){return(m.length===2||m.length===3)&&(typeof m[1]=="string"||typeof m[1]=="symbol")||m.length===4&&m[3]===!0}function Re(m,b,S){return so(m)?m:Array.isArray(m)?$e.array(m,{name:S}):M(m)?$e.object(m,void 0,{name:S}):L(m)?$e.map(m,{name:S}):Y(m)?$e.set(m,{name:S}):m}function Je(m){return m}function ee(m){w(m);var b=Ze(!0,function(N,H,te,he,Me){var He=te?te.initializer?te.initializer.call(N):te.value:void 0;lo(N).addObservableProp(H,He,m)}),S=(f!==void 0&&f.env,b);return S.enhancer=m,S}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ue(m){return m==null?J:typeof m=="string"?{name:m,deep:!0,proxy:!0}:m}Object.freeze(J);var we=ee(Re),Ae=ee(function(m,b,S){return m==null||jn(m)||Wn(m)||Yt(m)||Sn(m)?m:Array.isArray(m)?$e.array(m,{name:S,deep:!1}):M(m)?$e.object(m,void 0,{name:S,deep:!1}):L(m)?$e.map(m,{name:S,deep:!1}):Y(m)?$e.set(m,{name:S,deep:!1}):x(!1)}),xe=ee(Je),Qe=ee(function(m,b,S){return gi(m,b)?b:m});function it(m){return m.defaultDecorator?m.defaultDecorator.enhancer:m.deep===!1?Je:Re}var tt={box:function(m,b){arguments.length>2&&me("box");var S=ue(b);return new Bt(m,it(S),S.name,!0,S.equals)},array:function(m,b){arguments.length>2&&me("array");var S=ue(b);return hi(m,it(S),S.name)},map:function(m,b){arguments.length>2&&me("map");var S=ue(b);return new yi(m,it(S),S.name)},set:function(m,b){arguments.length>2&&me("set");var S=ue(b);return new jo(m,it(S),S.name)},object:function(m,b,S){typeof arguments[1]=="string"&&me("object");var N=ue(S);if(N.proxy===!1)return sr({},m,b,N);var H=ca(N),te=sr({},void 0,void 0,N),he=bs(te);return la(he,m,b,H),he},ref:xe,shallow:Ae,deep:we,struct:Qe},$e=function(m,b,S){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return we.apply(null,arguments);if(so(m))return m;var N=M(m)?$e.object(m,b,S):Array.isArray(m)?$e.array(m,b):L(m)?$e.map(m,b):Y(m)?$e.set(m,b):m;if(N!==m)return N;x(!1)};function me(m){x("Expected one or two arguments to observable."+m+". Did you accidentally try to use observable."+m+" as decorator?")}Object.keys(tt).forEach(function(m){return $e[m]=tt[m]});var Xe,ne,Be=Ze(!1,function(m,b,S,N,H){var te=S.get,he=S.set,Me=H[0]||{};lo(m).addComputedProp(m,b,de({get:te,set:he,context:m},Me))}),lt=Be({equals:X.structural}),Ot=function(m,b,S){if(typeof b=="string"||m!==null&&typeof m=="object"&&arguments.length===1)return Be.apply(null,arguments);var N=typeof b=="object"?b:{};return N.get=m,N.set=typeof b=="function"?b:N.set,N.name=N.name||m.name||"",new or(N)};Ot.struct=lt,function(m){m[m.NOT_TRACKING=-1]="NOT_TRACKING",m[m.UP_TO_DATE=0]="UP_TO_DATE",m[m.POSSIBLY_STALE=1]="POSSIBLY_STALE",m[m.STALE=2]="STALE"}(Xe||(Xe={})),function(m){m[m.NONE=0]="NONE",m[m.LOG=1]="LOG",m[m.BREAK=2]="BREAK"}(ne||(ne={}));var st=function(m){this.cause=m};function bt(m){return m instanceof st}function kt(m){switch(m.dependenciesState){case Xe.UP_TO_DATE:return!1;case Xe.NOT_TRACKING:case Xe.STALE:return!0;case Xe.POSSIBLY_STALE:for(var b=Ne(!0),S=$(),N=m.observing,H=N.length,te=0;te<H;te++){var he=N[te];if(ir(he)){if(Ue.disableErrorBoundaries)he.get();else try{he.get()}catch{return ce(S),Ce(b),!0}if(m.dependenciesState===Xe.STALE)return ce(S),Ce(b),!0}}return Ye(m),ce(S),Ce(b),!1}}function Ct(){return Ue.trackingDerivation!==null}function ct(m){var b=m.observers.size>0;Ue.computationDepth>0&&b&&x(!1),Ue.allowStateChanges||!b&&Ue.enforceActions!=="strict"||x(!1)}function Ht(m,b,S){var N=Ne(!0);Ye(m),m.newObserving=new Array(m.observing.length+100),m.unboundDepsCount=0,m.runId=++Ue.runId;var H,te=Ue.trackingDerivation;if(Ue.trackingDerivation=m,Ue.disableErrorBoundaries===!0)H=b.call(S);else try{H=b.call(S)}catch(he){H=new st(he)}return Ue.trackingDerivation=te,function(he){for(var Me=he.observing,He=he.observing=he.newObserving,gt=Xe.UP_TO_DATE,ut=0,Mt=he.unboundDepsCount,dt=0;dt<Mt;dt++)(Et=He[dt]).diffValue===0&&(Et.diffValue=1,ut!==dt&&(He[ut]=Et),ut++),Et.dependenciesState>gt&&(gt=Et.dependenciesState);for(He.length=ut,he.newObserving=null,Mt=Me.length;Mt--;)(Et=Me[Mt]).diffValue===0&&ta(Et,he),Et.diffValue=0;for(;ut--;){var Et;(Et=He[ut]).diffValue===1&&(Et.diffValue=0,ss(Et,he))}gt!==Xe.UP_TO_DATE&&(he.dependenciesState=gt,he.onBecomeStale())}(m),Ce(N),H}function W(m){var b=m.observing;m.observing=[];for(var S=b.length;S--;)ta(b[S],m);m.dependenciesState=Xe.NOT_TRACKING}function ie(m){var b=$();try{return m()}finally{ce(b)}}function $(){var m=Ue.trackingDerivation;return Ue.trackingDerivation=null,m}function ce(m){Ue.trackingDerivation=m}function Ne(m){var b=Ue.allowStateReads;return Ue.allowStateReads=m,b}function Ce(m){Ue.allowStateReads=m}function Ye(m){if(m.dependenciesState!==Xe.UP_TO_DATE){m.dependenciesState=Xe.UP_TO_DATE;for(var b=m.observing,S=b.length;S--;)b[S].lowestObserverState=Xe.UP_TO_DATE}}var yt=0,qt=1,rn=Object.getOwnPropertyDescriptor(function(){},"name");rn&&rn.configurable;function Xt(m,b,S){var N=function(){return Ut(m,b,S||this,arguments)};return N.isMobxAction=!0,N}function Ut(m,b,S,N){var H=Fe();try{return b.apply(S,N)}catch(te){throw H.error=te,te}finally{Ke(H)}}function Fe(m,b,S){var N=0,H=$();An();var te={prevDerivation:H,prevAllowStateChanges:at(!0),prevAllowStateReads:Ne(!0),notifySpy:!1,startTime:N,actionId:qt++,parentActionId:yt};return yt=te.actionId,te}function Ke(m){yt!==m.actionId&&x("invalid action stack. did you forget to finish an action?"),yt=m.parentActionId,m.error!==void 0&&(Ue.suppressReactionErrors=!0),Pt(m.prevAllowStateChanges),Ce(m.prevAllowStateReads),kn(),ce(m.prevDerivation),m.notifySpy,Ue.suppressReactionErrors=!1}function rt(m,b){var S,N=at(m);try{S=b()}finally{Pt(N)}return S}function at(m){var b=Ue.allowStateChanges;return Ue.allowStateChanges=m,b}function Pt(m){Ue.allowStateChanges=m}var Bt=function(m){function b(S,N,H,te,he){H===void 0&&(H="ObservableValue@"+O()),he===void 0&&(he=X.default);var Me=m.call(this,H)||this;return Me.enhancer=N,Me.name=H,Me.equals=he,Me.hasUnreportedChange=!1,Me.value=N(S,void 0,H),Me}return function(S,N){function H(){this.constructor=S}re(S,N),S.prototype=N===null?Object.create(N):(H.prototype=N.prototype,new H)}(b,m),b.prototype.dehanceValue=function(S){return this.dehancer!==void 0?this.dehancer(S):S},b.prototype.set=function(S){this.value,(S=this.prepareNewValue(S))!==Ue.UNCHANGED&&this.setNewValue(S)},b.prototype.prepareNewValue=function(S){if(ct(this),dn(this)){var N=_t(this,{object:this,type:"update",newValue:S});if(!N)return Ue.UNCHANGED;S=N.newValue}return S=this.enhancer(S,this.value,this.name),this.equals(this.value,S)?Ue.UNCHANGED:S},b.prototype.setNewValue=function(S){var N=this.value;this.value=S,this.reportChanged(),Nn(this)&&on(this,{type:"update",object:this,newValue:S,oldValue:N})},b.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},b.prototype.intercept=function(S){return Sr(this,S)},b.prototype.observe=function(S,N){return N&&S({object:this,type:"update",newValue:this.value,oldValue:void 0}),jr(this,S)},b.prototype.toJSON=function(){return this.get()},b.prototype.toString=function(){return this.name+"["+this.value+"]"},b.prototype.valueOf=function(){return V(this.get())},b.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},b}(I),wr=R("ObservableValue",Bt),or=function(){function m(b){this.dependenciesState=Xe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Xe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+O(),this.value=new st(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ne.NONE,w(b.get,"missing option for computed: get"),this.derivation=b.get,this.name=b.name||"ComputedValue@"+O(),b.set&&(this.setter=Xt(this.name+"-setter",b.set)),this.equals=b.equals||(b.compareStructural||b.struct?X.structural:X.default),this.scope=b.context,this.requiresReaction=!!b.requiresReaction,this.keepAlive=!!b.keepAlive}return m.prototype.onBecomeStale=function(){(function(b){b.lowestObserverState===Xe.UP_TO_DATE&&(b.lowestObserverState=Xe.POSSIBLY_STALE,b.observers.forEach(function(S){S.dependenciesState===Xe.UP_TO_DATE&&(S.dependenciesState=Xe.POSSIBLY_STALE,S.isTracing!==ne.NONE&&ar(S,b),S.onBecomeStale())}))})(this)},m.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},m.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},m.prototype.get=function(){this.isComputing&&x("Cycle detected in computation "+this.name+": "+this.derivation),Ue.inBatch!==0||this.observers.size!==0||this.keepAlive?(ra(this),kt(this)&&this.trackAndCompute()&&function(S){S.lowestObserverState!==Xe.STALE&&(S.lowestObserverState=Xe.STALE,S.observers.forEach(function(N){N.dependenciesState===Xe.POSSIBLY_STALE?N.dependenciesState=Xe.STALE:N.dependenciesState===Xe.UP_TO_DATE&&(S.lowestObserverState=Xe.UP_TO_DATE)}))}(this)):kt(this)&&(this.warnAboutUntrackedRead(),An(),this.value=this.computeValue(!1),kn());var b=this.value;if(bt(b))throw b.cause;return b},m.prototype.peek=function(){var b=this.computeValue(!1);if(bt(b))throw b.cause;return b},m.prototype.set=function(b){if(this.setter){w(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,b)}finally{this.isRunningSetter=!1}}else w(!1,!1)},m.prototype.trackAndCompute=function(){var b=this.value,S=this.dependenciesState===Xe.NOT_TRACKING,N=this.computeValue(!0),H=S||bt(b)||bt(N)||!this.equals(b,N);return H&&(this.value=N),H},m.prototype.computeValue=function(b){var S;if(this.isComputing=!0,Ue.computationDepth++,b)S=Ht(this,this.derivation,this.scope);else if(Ue.disableErrorBoundaries===!0)S=this.derivation.call(this.scope);else try{S=this.derivation.call(this.scope)}catch(N){S=new st(N)}return Ue.computationDepth--,this.isComputing=!1,S},m.prototype.suspend=function(){this.keepAlive||(W(this),this.value=void 0)},m.prototype.observe=function(b,S){var N=this,H=!0,te=void 0;return pi(function(){var he=N.get();if(!H||S){var Me=$();b({type:"update",object:N,newValue:he,oldValue:te}),ce(Me)}H=!1,te=he})},m.prototype.warnAboutUntrackedRead=function(){},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},m.prototype.valueOf=function(){return V(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(),ir=R("ComputedValue",or),io=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},us={};function ci(){return typeof window<"u"?window:l!==void 0?l:typeof self<"u"?self:us}var Fn=!0,ea=!1,Ue=function(){var m=ci();return m.__mobxInstanceCount>0&&!m.__mobxGlobals&&(Fn=!1),m.__mobxGlobals&&m.__mobxGlobals.version!==new io().version&&(Fn=!1),Fn?m.__mobxGlobals?(m.__mobxInstanceCount+=1,m.__mobxGlobals.UNCHANGED||(m.__mobxGlobals.UNCHANGED={}),m.__mobxGlobals):(m.__mobxInstanceCount=1,m.__mobxGlobals=new io):(setTimeout(function(){ea||x("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new io)}();function ss(m,b){m.observers.add(b),m.lowestObserverState>b.dependenciesState&&(m.lowestObserverState=b.dependenciesState)}function ta(m,b){m.observers.delete(b),m.observers.size===0&&na(m)}function na(m){m.isPendingUnobservation===!1&&(m.isPendingUnobservation=!0,Ue.pendingUnobservations.push(m))}function An(){Ue.inBatch++}function kn(){if(--Ue.inBatch==0){oa();for(var m=Ue.pendingUnobservations,b=0;b<m.length;b++){var S=m[b];S.isPendingUnobservation=!1,S.observers.size===0&&(S.isBeingObserved&&(S.isBeingObserved=!1,S.onBecomeUnobserved()),S instanceof or&&S.suspend())}Ue.pendingUnobservations=[]}}function ra(m){var b=Ue.trackingDerivation;return b!==null?(b.runId!==m.lastAccessedBy&&(m.lastAccessedBy=b.runId,b.newObserving[b.unboundDepsCount++]=m,m.isBeingObserved||(m.isBeingObserved=!0,m.onBecomeObserved())),!0):(m.observers.size===0&&Ue.inBatch>0&&na(m),!1)}function ar(m,b){if(m.isTracing===ne.BREAK){var S=[];Br(ao(m),S,1),new Function(`debugger;
/*
Tracing '`+m.name+`'

You are entering this break point because derivation '`+m.name+"' is being traced and '"+b.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(m instanceof or?m.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+S.join(`
`)+`
*/
    `)()}}function Br(m,b,S){b.length>=1e3?b.push("(and many more)"):(b.push(""+new Array(S).join("	")+m.name),m.dependencies&&m.dependencies.forEach(function(N){return Br(N,b,S+1)}))}var qn=function(){function m(b,S,N,H){b===void 0&&(b="Reaction@"+O()),H===void 0&&(H=!1),this.name=b,this.onInvalidate=S,this.errorHandler=N,this.requiresObservable=H,this.observing=[],this.newObserving=[],this.dependenciesState=Xe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+O(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ne.NONE}return m.prototype.onBecomeStale=function(){this.schedule()},m.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ue.pendingReactions.push(this),oa())},m.prototype.isScheduled=function(){return this._isScheduled},m.prototype.runReaction=function(){if(!this.isDisposed){if(An(),this._isScheduled=!1,kt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(b){this.reportExceptionInDerivation(b)}}kn()}},m.prototype.track=function(b){if(!this.isDisposed){An(),this._isRunning=!0;var S=Ht(this,b,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&W(this),bt(S)&&this.reportExceptionInDerivation(S.cause),kn()}},m.prototype.reportExceptionInDerivation=function(b){var S=this;if(this.errorHandler)this.errorHandler(b,this);else{if(Ue.disableErrorBoundaries)throw b;Ue.suppressReactionErrors,Ue.globalReactionErrorHandlers.forEach(function(N){return N(b,S)})}},m.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(An(),W(this),kn()))},m.prototype.getDisposer=function(){var b=this.dispose.bind(this);return b[F]=this,b},m.prototype.toString=function(){return"Reaction["+this.name+"]"},m.prototype.trace=function(b){b===void 0&&(b=!1),function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];var H=!1;typeof S[S.length-1]=="boolean"&&(H=S.pop());var te=Hn(S);if(!te)return x(!1);te.isTracing,ne.NONE,te.isTracing=H?ne.BREAK:ne.LOG}(this,b)},m}(),li=function(m){return m()};function oa(){Ue.inBatch>0||Ue.isRunningReactions||li(cs)}function cs(){Ue.isRunningReactions=!0;for(var m=Ue.pendingReactions,b=0;m.length>0;){++b==100&&m.splice(0);for(var S=m.splice(0),N=0,H=S.length;N<H;N++)S[N].runReaction()}Ue.isRunningReactions=!1}var wo=R("Reaction",qn);function ls(m){var b=li;li=function(S){return m(function(){return b(S)})}}function ia(m){return function(){}}function fs(){x(!1)}function xr(m){return function(b,S,N){if(N){if(N.value)return{value:Xt(m,N.value),enumerable:!1,configurable:!0,writable:!0};var H=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xt(m,H.call(this))}}}return aa(m).apply(this,arguments)}}function aa(m){return function(b,S,N){Object.defineProperty(b,S,{configurable:!0,enumerable:!1,get:function(){},set:function(H){k(this,S,ur(m,H))}})}}var ur=function(m,b,S,N){return arguments.length===1&&typeof m=="function"?Xt(m.name||"<unnamed action>",m):arguments.length===2&&typeof b=="function"?Xt(m,b):arguments.length===1&&typeof m=="string"?xr(m):N!==!0?xr(b).apply(null,arguments):void k(m,b,Xt(m.name||b,S.value,this))};function ps(m,b){return Ut(typeof m=="string"?m:m.name||"<unnamed action>",typeof m=="function"?m:b,this,void 0)}function xo(m){return typeof m=="function"&&m.isMobxAction===!0}function fi(m,b,S){k(m,b,Xt(b,S.bind(m)))}function pi(m,b){b===void 0&&(b=g);var S,N=b&&b.name||m.name||"Autorun@"+O();if(!b.scheduler&&!b.delay)S=new qn(N,function(){this.track(he)},b.onError,b.requiresObservable);else{var H=ua(b),te=!1;S=new qn(N,function(){te||(te=!0,H(function(){te=!1,S.isDisposed||S.track(he)}))},b.onError,b.requiresObservable)}function he(){m(S)}return S.schedule(),S.getDisposer()}ur.bound=function(m,b,S,N){return N===!0?(fi(m,b,S.value),null):S?{configurable:!0,enumerable:!1,get:function(){return fi(this,b,S.value||S.initializer.call(this)),this[b]},set:fs}:{enumerable:!1,configurable:!0,set:function(H){fi(this,b,H)},get:function(){}}};var ds=function(m){return m()};function ua(m){return m.scheduler?m.scheduler:m.delay?function(b){return setTimeout(b,m.delay)}:ds}function Fr(m,b,S){S===void 0&&(S=g);var N,H,te,he=S.name||"Reaction@"+O(),Me=ur(he,S.onError?(N=S.onError,H=b,function(){try{return H.apply(this,arguments)}catch(Lt){N.call(this,Lt)}}):b),He=!S.scheduler&&!S.delay,gt=ua(S),ut=!0,Mt=!1,dt=S.compareStructural?X.structural:S.equals||X.default,Et=new qn(he,function(){ut||He?In():Mt||(Mt=!0,gt(In))},S.onError,S.requiresObservable);function In(){if(Mt=!1,!Et.isDisposed){var Lt=!1;Et.track(function(){var hn=m(Et);Lt=ut||!dt(te,hn),te=hn}),ut&&S.fireImmediately&&Me(te,Et),ut||Lt!==!0||Me(te,Et),ut&&(ut=!1)}}return Et.schedule(),Et.getDisposer()}function Gr(m,b,S){return sa("onBecomeUnobserved",m,b,S)}function sa(m,b,S,N){var H=typeof N=="function"?Cn(b,S):Cn(b),te=typeof N=="function"?N:S,he=m+"Listeners";return H[he]?H[he].add(te):H[he]=new Set([te]),typeof H[m]!="function"?x(!1):function(){var Me=H[he];Me&&(Me.delete(te),Me.size===0&&delete H[he])}}function Hr(m){var b=m.enforceActions,S=m.computedRequiresReaction,N=m.computedConfigurable,H=m.disableErrorBoundaries,te=m.reactionScheduler,he=m.reactionRequiresObservable,Me=m.observableRequiresReaction;if(m.isolateGlobalState===!0&&((Ue.pendingReactions.length||Ue.inBatch||Ue.isRunningReactions)&&x("isolateGlobalState should be called before MobX is running any reactions"),ea=!0,Fn&&(--ci().__mobxInstanceCount==0&&(ci().__mobxGlobals=void 0),Ue=new io)),b!==void 0){var He=void 0;switch(b){case!0:case"observed":He=!0;break;case!1:case"never":He=!1;break;case"strict":case"always":He="strict";break;default:x("Invalid value for 'enforceActions': '"+b+"', expected 'never', 'always' or 'observed'")}Ue.enforceActions=He,Ue.allowStateChanges=He!==!0&&He!=="strict"}S!==void 0&&(Ue.computedRequiresReaction=!!S),he!==void 0&&(Ue.reactionRequiresObservable=!!he),Me!==void 0&&(Ue.observableRequiresReaction=!!Me,Ue.allowStateReads=!Ue.observableRequiresReaction),N!==void 0&&(Ue.computedConfigurable=!!N),H!==void 0&&(Ue.disableErrorBoundaries=!!H),te&&ls(te)}function sr(m,b,S,N){var H=ca(N=ue(N));return ze(m),lo(m,N.name,H.enhancer),b&&la(m,b,S,H),m}function ca(m){return m.defaultDecorator||(m.deep===!1?xe:we)}function la(m,b,S,N){var H,te;An();try{var he=Z(b);try{for(var Me=le(he),He=Me.next();!He.done;He=Me.next()){var gt=He.value,ut=Object.getOwnPropertyDescriptor(b,gt),Mt=(S&&gt in S?S[gt]:ut.get?Be:N)(m,gt,ut,!0);Mt&&Object.defineProperty(m,gt,Mt)}}catch(dt){H={error:dt}}finally{try{He&&!He.done&&(te=Me.return)&&te.call(Me)}finally{if(H)throw H.error}}}finally{kn()}}function ao(m,b){return fa(Cn(m,b))}function fa(m){var b,S,N={name:m.name};return m.observing&&m.observing.length>0&&(N.dependencies=(b=m.observing,S=[],b.forEach(function(H){S.indexOf(H)===-1&&S.push(H)}),S).map(fa)),N}var hs=0;function pa(){this.message="FLOW_CANCELLED"}function da(m){arguments.length!==1&&x("Flow expects 1 argument and cannot be used as decorator");var b=m.name||"<unnamed flow>";return function(){var S,N=this,H=arguments,te=++hs,he=ur(b+" - runid: "+te+" - init",m).apply(N,H),Me=void 0,He=new Promise(function(gt,ut){var Mt=0;function dt(Lt){var hn;Me=void 0;try{hn=ur(b+" - runid: "+te+" - yield "+Mt++,he.next).call(he,Lt)}catch(fo){return ut(fo)}In(hn)}function Et(Lt){var hn;Me=void 0;try{hn=ur(b+" - runid: "+te+" - yield "+Mt++,he.throw).call(he,Lt)}catch(fo){return ut(fo)}In(hn)}function In(Lt){if(!Lt||typeof Lt.then!="function")return Lt.done?gt(Lt.value):(Me=Promise.resolve(Lt.value)).then(dt,Et);Lt.then(In,ut)}S=ut,dt(void 0)});return He.cancel=ur(b+" - runid: "+te+" - cancel",function(){try{Me&&uo(Me);var gt=he.return(void 0),ut=Promise.resolve(gt.value);ut.then(P,P),uo(ut),S(new pa)}catch(Mt){S(Mt)}}),He}}function uo(m){typeof m.cancel=="function"&&m.cancel()}function ha(m,b){if(m==null)return!1;if(b!==void 0){if(jn(m)===!1||!m[F].values.has(b))return!1;var S=Cn(m,b);return ir(S)}return ir(m)}function ys(m){return arguments.length>1?x(!1):ha(m)}function ya(m,b){return typeof b!="string"?x(!1):ha(m,b)}function di(m,b){return m!=null&&(b!==void 0?!!jn(m)&&m[F].values.has(b):jn(m)||!!m[F]||B(m)||wo(m)||ir(m))}function so(m){return arguments.length!==1&&x(!1),di(m)}function cr(m){return jn(m)?m[F].getKeys():Yt(m)||Sn(m)?Array.from(m.keys()):Wn(m)?m.map(function(b,S){return S}):x(!1)}function un(m){return jn(m)?cr(m).map(function(b){return m[b]}):Yt(m)?cr(m).map(function(b){return m.get(b)}):Sn(m)?Array.from(m.values()):Wn(m)?m.slice():x(!1)}function va(m){return jn(m)?cr(m).map(function(b){return[b,m[b]]}):Yt(m)?cr(m).map(function(b){return[b,m.get(b)]}):Sn(m)?Array.from(m.entries()):Wn(m)?m.map(function(b,S){return[S,b]}):x(!1)}function ga(m,b,S){if(arguments.length!==2||Sn(m))if(jn(m)){var N=m[F],H=N.values.get(b);H?N.write(b,S):N.addObservableProp(b,S,N.defaultEnhancer)}else if(Yt(m))m.set(b,S);else if(Sn(m))m.add(b);else{if(!Wn(m))return x(!1);typeof b!="number"&&(b=parseInt(b,10)),w(b>=0,"Not a valid index: '"+b+"'"),An(),b>=m.length&&(m.length=b+1),m[b]=S,kn()}else{An();var te=b;try{for(var he in te)ga(m,he,te[he])}finally{kn()}}}function ma(m,b,S,N){return typeof S=="function"?function(H,te,he,Me){return Wr(H,te).observe(he,Me)}(m,b,S,N):function(H,te,he){return Wr(H).observe(te,he)}(m,b,S)}pa.prototype=Object.create(Error.prototype);var vs={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Er(m,b,S,N){return N.detectCycles&&m.set(b,S),S}function Gn(m,b,S){if(!b.recurseEverything&&!so(m)||typeof m!="object")return m;if(m===null)return null;if(m instanceof Date)return m;if(wr(m))return Gn(m.get(),b,S);if(so(m)&&cr(m),b.detectCycles===!0&&m!==null&&S.has(m))return S.get(m);if(Wn(m)||Array.isArray(m)){var N=Er(S,m,[],b),H=m.map(function(dt){return Gn(dt,b,S)});N.length=H.length;for(var te=0,he=H.length;te<he;te++)N[te]=H[te];return N}if(Sn(m)||Object.getPrototypeOf(m)===Set.prototype){if(b.exportMapsAsObjects===!1){var Me=Er(S,m,new Set,b);return m.forEach(function(dt){Me.add(Gn(dt,b,S))}),Me}var He=Er(S,m,[],b);return m.forEach(function(dt){He.push(Gn(dt,b,S))}),He}if(Yt(m)||Object.getPrototypeOf(m)===Map.prototype){if(b.exportMapsAsObjects===!1){var gt=Er(S,m,new Map,b);return m.forEach(function(dt,Et){gt.set(Et,Gn(dt,b,S))}),gt}var ut=Er(S,m,{},b);return m.forEach(function(dt,Et){ut[Et]=Gn(dt,b,S)}),ut}var Mt=Er(S,m,{},b);return Q(m).forEach(function(dt){Mt[dt]=Gn(m[dt],b,S)}),Mt}function gs(m,b){var S;return typeof b=="boolean"&&(b={detectCycles:b}),b||(b=vs),b.detectCycles=b.detectCycles===void 0?b.recurseEverything===!0:b.detectCycles===!0,b.detectCycles&&(S=new Map),Gn(m,b,S)}function Hn(m){switch(m.length){case 0:return Ue.trackingDerivation;case 1:return Cn(m[0]);case 2:return Cn(m[0],m[1])}}function Dn(m,b){b===void 0&&(b=void 0),An();try{return m.apply(b)}finally{kn()}}function ba(m,b,S){return arguments.length===1||b&&typeof b=="object"?ms(m,b):_a(m,b,S||{})}function _a(m,b,S){var N;typeof S.timeout=="number"&&(N=setTimeout(function(){if(!te[F].isDisposed){te();var he=new Error("WHEN_TIMEOUT");if(!S.onError)throw he;S.onError(he)}},S.timeout)),S.name=S.name||"When@"+O();var H=Xt(S.name+"-effect",b),te=pi(function(he){m()&&(he.dispose(),N&&clearTimeout(N),H())},S);return te}function ms(m,b){var S,N=new Promise(function(H,te){var he=_a(m,H,de(de({},b),{onError:te}));S=function(){he(),te("WHEN_CANCELLED")}});return N.cancel=S,N}function Eo(m){return m[F]}function lr(m){return typeof m=="string"||typeof m=="number"||typeof m=="symbol"}var co={has:function(m,b){if(b===F||b==="constructor"||b===ge)return!0;var S=Eo(m);return lr(b)?S.has(b):b in m},get:function(m,b){if(b===F||b==="constructor"||b===ge)return m[b];var S=Eo(m),N=S.values.get(b);if(N instanceof I){var H=N.get();return H===void 0&&S.has(b),H}return lr(b)&&S.has(b),m[b]},set:function(m,b,S){return!!lr(b)&&(ga(m,b,S),!0)},deleteProperty:function(m,b){return!!lr(b)&&(Eo(m).remove(b),!0)},ownKeys:function(m){return Eo(m).keysAtom.reportObserved(),Reflect.ownKeys(m)},preventExtensions:function(m){return x("Dynamic observable objects cannot be frozen"),!1}};function bs(m){var b=new Proxy(m,co);return m[F].proxy=b,b}function dn(m){return m.interceptors!==void 0&&m.interceptors.length>0}function Sr(m,b){var S=m.interceptors||(m.interceptors=[]);return S.push(b),j(function(){var N=S.indexOf(b);N!==-1&&S.splice(N,1)})}function _t(m,b){var S=$();try{for(var N=Se(m.interceptors||[]),H=0,te=N.length;H<te&&(w(!(b=N[H](b))||b.type,"Intercept handlers should return nothing or a change object"),b);H++);return b}finally{ce(S)}}function Nn(m){return m.changeListeners!==void 0&&m.changeListeners.length>0}function jr(m,b){var S=m.changeListeners||(m.changeListeners=[]);return S.push(b),j(function(){var N=S.indexOf(b);N!==-1&&S.splice(N,1)})}function on(m,b){var S=$(),N=m.changeListeners;if(N){for(var H=0,te=(N=N.slice()).length;H<te;H++)N[H](b);ce(S)}}var Oa={get:function(m,b){return b===F?m[F]:b==="length"?m[F].getArrayLength():typeof b=="number"?Xn.get.call(m,b):typeof b!="string"||isNaN(b)?Xn.hasOwnProperty(b)?Xn[b]:m[b]:Xn.get.call(m,parseInt(b))},set:function(m,b,S){return b==="length"&&m[F].setArrayLength(S),typeof b=="number"&&Xn.set.call(m,b,S),typeof b=="symbol"||isNaN(b)?m[b]=S:Xn.set.call(m,parseInt(b),S),!0},preventExtensions:function(m){return x("Observable arrays cannot be frozen"),!1}};function hi(m,b,S,N){S===void 0&&(S="ObservableArray@"+O()),N===void 0&&(N=!1);var H,te,he,Me=new wa(S,b,N);H=Me.values,te=F,he=Me,Object.defineProperty(H,te,{enumerable:!1,writable:!1,configurable:!0,value:he});var He=new Proxy(Me.values,Oa);if(Me.proxy=He,m&&m.length){var gt=at(!0);Me.spliceWithArray(0,0,m),Pt(gt)}return He}var wa=function(){function m(b,S,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new I(b||"ObservableArray@"+O()),this.enhancer=function(H,te){return S(H,te,b+"[..]")}}return m.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},m.prototype.dehanceValues=function(b){return this.dehancer!==void 0&&b.length>0?b.map(this.dehancer):b},m.prototype.intercept=function(b){return Sr(this,b)},m.prototype.observe=function(b,S){return S===void 0&&(S=!1),S&&b({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),jr(this,b)},m.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},m.prototype.setArrayLength=function(b){if(typeof b!="number"||b<0)throw new Error("[mobx.array] Out of range: "+b);var S=this.values.length;if(b!==S)if(b>S){for(var N=new Array(b-S),H=0;H<b-S;H++)N[H]=void 0;this.spliceWithArray(S,0,N)}else this.spliceWithArray(b,S-b)},m.prototype.updateArrayLength=function(b,S){if(b!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=S},m.prototype.spliceWithArray=function(b,S,N){var H=this;ct(this.atom);var te=this.values.length;if(b===void 0?b=0:b>te?b=te:b<0&&(b=Math.max(0,te+b)),S=arguments.length===1?te-b:S==null?0:Math.max(0,Math.min(S,te-b)),N===void 0&&(N=y),dn(this)){var he=_t(this,{object:this.proxy,type:"splice",index:b,removedCount:S,added:N});if(!he)return y;S=he.removedCount,N=he.added}N=N.length===0?N:N.map(function(He){return H.enhancer(He,void 0)});var Me=this.spliceItemsIntoValues(b,S,N);return S===0&&N.length===0||this.notifyArraySplice(b,N,Me),this.dehanceValues(Me)},m.prototype.spliceItemsIntoValues=function(b,S,N){var H;if(N.length<1e4)return(H=this.values).splice.apply(H,Se([b,S],N));var te=this.values.slice(b,b+S);return this.values=this.values.slice(0,b).concat(N,this.values.slice(b+S)),te},m.prototype.notifyArrayChildUpdate=function(b,S,N){var H=!this.owned&&!1,te=Nn(this),he=te||H?{object:this.proxy,type:"update",index:b,newValue:S,oldValue:N}:null;this.atom.reportChanged(),te&&on(this,he)},m.prototype.notifyArraySplice=function(b,S,N){var H=!this.owned&&!1,te=Nn(this),he=te||H?{object:this.proxy,type:"splice",index:b,removed:N,added:S,removedCount:N.length,addedCount:S.length}:null;this.atom.reportChanged(),te&&on(this,he)},m}(),Xn={intercept:function(m){return this[F].intercept(m)},observe:function(m,b){return b===void 0&&(b=!1),this[F].observe(m,b)},clear:function(){return this.splice(0)},replace:function(m){var b=this[F];return b.spliceWithArray(0,b.values.length,m)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(m,b){for(var S=[],N=2;N<arguments.length;N++)S[N-2]=arguments[N];var H=this[F];switch(arguments.length){case 0:return[];case 1:return H.spliceWithArray(m);case 2:return H.spliceWithArray(m,b)}return H.spliceWithArray(m,b,S)},spliceWithArray:function(m,b,S){return this[F].spliceWithArray(m,b,S)},push:function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var S=this[F];return S.spliceWithArray(S.values.length,0,m),S.values.length},pop:function(){return this.splice(Math.max(this[F].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var S=this[F];return S.spliceWithArray(0,0,m),S.values.length},reverse:function(){var m=this.slice();return m.reverse.apply(m,arguments)},sort:function(m){var b=this.slice();return b.sort.apply(b,arguments)},remove:function(m){var b=this[F],S=b.dehanceValues(b.values).indexOf(m);return S>-1&&(this.splice(S,1),!0)},get:function(m){var b=this[F];if(b&&m<b.values.length)return b.atom.reportObserved(),b.dehanceValue(b.values[m])},set:function(m,b){var S=this[F],N=S.values;if(m<N.length){ct(S.atom);var H=N[m];if(dn(S)){var te=_t(S,{type:"update",object:S.proxy,index:m,newValue:b});if(!te)return;b=te.newValue}(b=S.enhancer(b,H))!==H&&(N[m]=b,S.notifyArrayChildUpdate(m,b,H))}else{if(m!==N.length)throw new Error("[mobx.array] Index out of bounds, "+m+" is larger than "+N.length);S.spliceWithArray(m,0,[b])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(m){typeof Array.prototype[m]=="function"&&(Xn[m]=function(){var b=this[F];b.atom.reportObserved();var S=b.dehanceValues(b.values);return S[m].apply(S,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(m){typeof Array.prototype[m]=="function"&&(Xn[m]=function(b,S){var N=this,H=this[F];return H.atom.reportObserved(),H.dehanceValues(H.values)[m](function(te,he){return b.call(S,te,he,N)},S)})}),["reduce","reduceRight"].forEach(function(m){Xn[m]=function(){var b=this,S=this[F];S.atom.reportObserved();var N=arguments[0];return arguments[0]=function(H,te,he){return te=S.dehanceValue(te),N(H,te,he,b)},S.values[m].apply(S.values,arguments)}});var xa,So=R("ObservableArrayAdministration",wa);function Wn(m){return A(m)&&So(m[F])}var Ea,_s={},yi=function(){function m(b,S,N){if(S===void 0&&(S=Re),N===void 0&&(N="ObservableMap@"+O()),this.enhancer=S,this.name=N,this[xa]=_s,this._keysAtom=G(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(b)}return m.prototype._has=function(b){return this._data.has(b)},m.prototype.has=function(b){var S=this;if(!Ue.trackingDerivation)return this._has(b);var N=this._hasMap.get(b);if(!N){var H=N=new Bt(this._has(b),Je,this.name+"."+K(b)+"?",!1);this._hasMap.set(b,H),Gr(H,function(){return S._hasMap.delete(b)})}return N.get()},m.prototype.set=function(b,S){var N=this._has(b);if(dn(this)){var H=_t(this,{type:N?"update":"add",object:this,newValue:S,name:b});if(!H)return this;S=H.newValue}return N?this._updateValue(b,S):this._addValue(b,S),this},m.prototype.delete=function(b){var S=this;if(ct(this._keysAtom),dn(this)&&!(H=_t(this,{type:"delete",object:this,name:b})))return!1;if(this._has(b)){var N=Nn(this),H=N?{type:"delete",object:this,oldValue:this._data.get(b).value,name:b}:null;return Dn(function(){S._keysAtom.reportChanged(),S._updateHasMapEntry(b,!1),S._data.get(b).setNewValue(void 0),S._data.delete(b)}),N&&on(this,H),!0}return!1},m.prototype._updateHasMapEntry=function(b,S){var N=this._hasMap.get(b);N&&N.setNewValue(S)},m.prototype._updateValue=function(b,S){var N=this._data.get(b);if((S=N.prepareNewValue(S))!==Ue.UNCHANGED){var H=Nn(this),te=H?{type:"update",object:this,oldValue:N.value,name:b,newValue:S}:null;N.setNewValue(S),H&&on(this,te)}},m.prototype._addValue=function(b,S){var N=this;ct(this._keysAtom),Dn(function(){var he=new Bt(S,N.enhancer,N.name+"."+K(b),!1);N._data.set(b,he),S=he.value,N._updateHasMapEntry(b,!0),N._keysAtom.reportChanged()});var H=Nn(this),te=H?{type:"add",object:this,name:b,newValue:S}:null;H&&on(this,te)},m.prototype.get=function(b){return this.has(b)?this.dehanceValue(this._data.get(b).get()):this.dehanceValue(void 0)},m.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},m.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},m.prototype.values=function(){var b=this,S=this.keys();return Ao({next:function(){var N=S.next(),H=N.done,te=N.value;return{done:H,value:H?void 0:b.get(te)}}})},m.prototype.entries=function(){var b=this,S=this.keys();return Ao({next:function(){var N=S.next(),H=N.done,te=N.value;return{done:H,value:H?void 0:[te,b.get(te)]}}})},m.prototype[xa=F,Symbol.iterator]=function(){return this.entries()},m.prototype.forEach=function(b,S){var N,H;try{for(var te=le(this),he=te.next();!he.done;he=te.next()){var Me=ve(he.value,2),He=Me[0],gt=Me[1];b.call(S,gt,He,this)}}catch(ut){N={error:ut}}finally{try{he&&!he.done&&(H=te.return)&&H.call(te)}finally{if(N)throw N.error}}},m.prototype.merge=function(b){var S=this;return Yt(b)&&(b=b.toJS()),Dn(function(){var N=at(!0);try{M(b)?Q(b).forEach(function(H){return S.set(H,b[H])}):Array.isArray(b)?b.forEach(function(H){var te=ve(H,2),he=te[0],Me=te[1];return S.set(he,Me)}):L(b)?(b.constructor!==Map&&x("Cannot initialize from classes that inherit from Map: "+b.constructor.name),b.forEach(function(H,te){return S.set(te,H)})):b!=null&&x("Cannot initialize map from "+b)}finally{Pt(N)}}),this},m.prototype.clear=function(){var b=this;Dn(function(){ie(function(){var S,N;try{for(var H=le(b.keys()),te=H.next();!te.done;te=H.next()){var he=te.value;b.delete(he)}}catch(Me){S={error:Me}}finally{try{te&&!te.done&&(N=H.return)&&N.call(H)}finally{if(S)throw S.error}}})})},m.prototype.replace=function(b){var S=this;return Dn(function(){var N,H,te,he,Me=function(yn){if(L(yn)||Yt(yn))return yn;if(Array.isArray(yn))return new Map(yn);if(M(yn)){var Aa=new Map;for(var po in yn)Aa.set(po,yn[po]);return Aa}return x("Cannot convert to map from '"+yn+"'")}(b),He=new Map,gt=!1;try{for(var ut=le(S._data.keys()),Mt=ut.next();!Mt.done;Mt=ut.next()){var dt=Mt.value;if(!Me.has(dt))if(S.delete(dt))gt=!0;else{var Et=S._data.get(dt);He.set(dt,Et)}}}catch(yn){N={error:yn}}finally{try{Mt&&!Mt.done&&(H=ut.return)&&H.call(ut)}finally{if(N)throw N.error}}try{for(var In=le(Me.entries()),Lt=In.next();!Lt.done;Lt=In.next()){var hn=ve(Lt.value,2),fo=(dt=hn[0],Et=hn[1],S._data.has(dt));if(S.set(dt,Et),S._data.has(dt)){var ws=S._data.get(dt);He.set(dt,ws),fo||(gt=!0)}}}catch(yn){te={error:yn}}finally{try{Lt&&!Lt.done&&(he=In.return)&&he.call(In)}finally{if(te)throw te.error}}if(!gt)if(S._data.size!==He.size)S._keysAtom.reportChanged();else for(var Ma=S._data.keys(),Ta=He.keys(),ko=Ma.next(),bi=Ta.next();!ko.done;){if(ko.value!==bi.value){S._keysAtom.reportChanged();break}ko=Ma.next(),bi=Ta.next()}S._data=He}),this},Object.defineProperty(m.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),m.prototype.toPOJO=function(){var b,S,N={};try{for(var H=le(this),te=H.next();!te.done;te=H.next()){var he=ve(te.value,2),Me=he[0],He=he[1];N[typeof Me=="symbol"?Me:K(Me)]=He}}catch(gt){b={error:gt}}finally{try{te&&!te.done&&(S=H.return)&&S.call(H)}finally{if(b)throw b.error}}return N},m.prototype.toJS=function(){return new Map(this)},m.prototype.toJSON=function(){return this.toPOJO()},m.prototype.toString=function(){var b=this;return this.name+"[{ "+Array.from(this.keys()).map(function(S){return K(S)+": "+b.get(S)}).join(", ")+" }]"},m.prototype.observe=function(b,S){return jr(this,b)},m.prototype.intercept=function(b){return Sr(this,b)},m}(),Yt=R("ObservableMap",yi),Xr={},jo=function(){function m(b,S,N){if(S===void 0&&(S=Re),N===void 0&&(N="ObservableSet@"+O()),this.name=N,this[Ea]=Xr,this._data=new Set,this._atom=G(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(H,te){return S(H,te,N)},b&&this.replace(b)}return m.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},m.prototype.clear=function(){var b=this;Dn(function(){ie(function(){var S,N;try{for(var H=le(b._data.values()),te=H.next();!te.done;te=H.next()){var he=te.value;b.delete(he)}}catch(Me){S={error:Me}}finally{try{te&&!te.done&&(N=H.return)&&N.call(H)}finally{if(S)throw S.error}}})})},m.prototype.forEach=function(b,S){var N,H;try{for(var te=le(this),he=te.next();!he.done;he=te.next()){var Me=he.value;b.call(S,Me,Me,this)}}catch(He){N={error:He}}finally{try{he&&!he.done&&(H=te.return)&&H.call(te)}finally{if(N)throw N.error}}},Object.defineProperty(m.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),m.prototype.add=function(b){var S=this;if(ct(this._atom),dn(this)&&!(H=_t(this,{type:"add",object:this,newValue:b})))return this;if(!this.has(b)){Dn(function(){S._data.add(S.enhancer(b,void 0)),S._atom.reportChanged()});var N=Nn(this),H=N?{type:"add",object:this,newValue:b}:null;N&&on(this,H)}return this},m.prototype.delete=function(b){var S=this;if(dn(this)&&!(H=_t(this,{type:"delete",object:this,oldValue:b})))return!1;if(this.has(b)){var N=Nn(this),H=N?{type:"delete",object:this,oldValue:b}:null;return Dn(function(){S._atom.reportChanged(),S._data.delete(b)}),N&&on(this,H),!0}return!1},m.prototype.has=function(b){return this._atom.reportObserved(),this._data.has(this.dehanceValue(b))},m.prototype.entries=function(){var b=0,S=Array.from(this.keys()),N=Array.from(this.values());return Ao({next:function(){var H=b;return b+=1,H<N.length?{value:[S[H],N[H]],done:!1}:{done:!0}}})},m.prototype.keys=function(){return this.values()},m.prototype.values=function(){this._atom.reportObserved();var b=this,S=0,N=Array.from(this._data.values());return Ao({next:function(){return S<N.length?{value:b.dehanceValue(N[S++]),done:!1}:{done:!0}}})},m.prototype.replace=function(b){var S=this;return Sn(b)&&(b=b.toJS()),Dn(function(){var N=at(!0);try{Array.isArray(b)||Y(b)?(S.clear(),b.forEach(function(H){return S.add(H)})):b!=null&&x("Cannot initialize set from "+b)}finally{Pt(N)}}),this},m.prototype.observe=function(b,S){return jr(this,b)},m.prototype.intercept=function(b){return Sr(this,b)},m.prototype.toJS=function(){return new Set(this)},m.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},m.prototype[Ea=F,Symbol.iterator]=function(){return this.values()},m}(),Sn=R("ObservableSet",jo),Sa=function(){function m(b,S,N,H){S===void 0&&(S=new Map),this.target=b,this.values=S,this.name=N,this.defaultEnhancer=H,this.keysAtom=new I(N+".keys")}return m.prototype.read=function(b){return this.values.get(b).get()},m.prototype.write=function(b,S){var N=this.target,H=this.values.get(b);if(H instanceof or)H.set(S);else{if(dn(this)){if(!(he=_t(this,{type:"update",object:this.proxy||N,name:b,newValue:S})))return;S=he.newValue}if((S=H.prepareNewValue(S))!==Ue.UNCHANGED){var te=Nn(this),he=te?{type:"update",object:this.proxy||N,oldValue:H.value,name:b,newValue:S}:null;H.setNewValue(S),te&&on(this,he)}}},m.prototype.has=function(b){var S=this.pendingKeys||(this.pendingKeys=new Map),N=S.get(b);if(N)return N.get();var H=!!this.values.get(b);return N=new Bt(H,Je,this.name+"."+K(b)+"?",!1),S.set(b,N),N.get()},m.prototype.addObservableProp=function(b,S,N){N===void 0&&(N=this.defaultEnhancer);var H=this.target;if(dn(this)){var te=_t(this,{object:this.proxy||H,name:b,type:"add",newValue:S});if(!te)return;S=te.newValue}var he=new Bt(S,N,this.name+"."+K(b),!1);this.values.set(b,he),S=he.value,Object.defineProperty(H,b,function(Me){return Po[Me]||(Po[Me]={configurable:!0,enumerable:!0,get:function(){return this[F].read(Me)},set:function(He){this[F].write(Me,He)}})}(b)),this.notifyPropertyAddition(b,S)},m.prototype.addComputedProp=function(b,S,N){var H,te,he,Me=this.target;N.name=N.name||this.name+"."+K(S),this.values.set(S,new or(N)),(b===Me||(H=b,te=S,!(he=Object.getOwnPropertyDescriptor(H,te))||he.configurable!==!1&&he.writable!==!1))&&Object.defineProperty(b,S,function(He){return Mo[He]||(Mo[He]={configurable:Ue.computedConfigurable,enumerable:!1,get:function(){return To(this).read(He)},set:function(gt){To(this).write(He,gt)}})}(S))},m.prototype.remove=function(b){if(this.values.has(b)){var S=this.target;if(dn(this)&&!(He=_t(this,{object:this.proxy||S,name:b,type:"remove"})))return;try{An();var N=Nn(this),H=!1,te=this.values.get(b),he=te&&te.get();if(te&&te.set(void 0),this.keysAtom.reportChanged(),this.values.delete(b),this.pendingKeys){var Me=this.pendingKeys.get(b);Me&&Me.set(!1)}delete this.target[b];var He=N?{type:"remove",object:this.proxy||S,oldValue:he,name:b}:null;N&&on(this,He)}finally{kn()}}},m.prototype.illegalAccess=function(b,S){},m.prototype.observe=function(b,S){return jr(this,b)},m.prototype.intercept=function(b){return Sr(this,b)},m.prototype.notifyPropertyAddition=function(b,S){var N=Nn(this),H=N?{type:"add",object:this.proxy||this.target,name:b,newValue:S}:null;if(N&&on(this,H),this.pendingKeys){var te=this.pendingKeys.get(b);te&&te.set(!0)}this.keysAtom.reportChanged()},m.prototype.getKeys=function(){var b,S;this.keysAtom.reportObserved();var N=[];try{for(var H=le(this.values),te=H.next();!te.done;te=H.next()){var he=ve(te.value,2),Me=he[0];he[1]instanceof Bt&&N.push(Me)}}catch(He){b={error:He}}finally{try{te&&!te.done&&(S=H.return)&&S.call(H)}finally{if(b)throw b.error}}return N},m}();function lo(m,b,S){if(b===void 0&&(b=""),S===void 0&&(S=Re),Object.prototype.hasOwnProperty.call(m,F))return m[F];M(m)||(b=(m.constructor.name||"ObservableObject")+"@"+O()),b||(b="ObservableObject@"+O());var N=new Sa(m,new Map,K(b),S);return k(m,F,N),N}var Po=Object.create(null),Mo=Object.create(null);function To(m){var b=m[F];return b||(ze(m),m[F])}var ja=R("ObservableObjectAdministration",Sa);function jn(m){return!!A(m)&&(ze(m),ja(m[F]))}function Cn(m,b){if(typeof m=="object"&&m!==null){if(Wn(m))return b!==void 0&&x(!1),m[F].atom;if(Sn(m))return m[F];if(Yt(m)){var S=m;return b===void 0?S._keysAtom:((N=S._data.get(b)||S._hasMap.get(b))||x(!1),N)}var N;if(ze(m),b&&!m[F]&&m[b],jn(m))return b?((N=m[F].values.get(b))||x(!1),N):x(!1);if(B(m)||ir(m)||wo(m))return m}else if(typeof m=="function"&&wo(m[F]))return m[F];return x(!1)}function Wr(m,b){return m||x("Expecting some object"),b!==void 0?Wr(Cn(m,b)):B(m)||ir(m)||wo(m)||Yt(m)||Sn(m)?m:(ze(m),m[F]?m[F]:void x(!1))}var vi=Object.prototype.toString;function gi(m,b,S){return S===void 0&&(S=-1),mi(m,b,S)}function mi(m,b,S,N,H){if(m===b)return m!==0||1/m==1/b;if(m==null||b==null)return!1;if(m!=m)return b!=b;var te=typeof m;if(te!=="function"&&te!=="object"&&typeof b!="object")return!1;var he=vi.call(m);if(he!==vi.call(b))return!1;switch(he){case"[object RegExp]":case"[object String]":return""+m==""+b;case"[object Number]":return+m!=+m?+b!=+b:+m==0?1/+m==1/b:+m==+b;case"[object Date]":case"[object Boolean]":return+m==+b;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(m)===Symbol.valueOf.call(b);case"[object Map]":case"[object Set]":S>=0&&S++}m=Pa(m),b=Pa(b);var Me=he==="[object Array]";if(!Me){if(typeof m!="object"||typeof b!="object")return!1;var He=m.constructor,gt=b.constructor;if(He!==gt&&!(typeof He=="function"&&He instanceof He&&typeof gt=="function"&&gt instanceof gt)&&"constructor"in m&&"constructor"in b)return!1}if(S===0)return!1;S<0&&(S=-1),H=H||[];for(var ut=(N=N||[]).length;ut--;)if(N[ut]===m)return H[ut]===b;if(N.push(m),H.push(b),Me){if((ut=m.length)!==b.length)return!1;for(;ut--;)if(!mi(m[ut],b[ut],S-1,N,H))return!1}else{var Mt=Object.keys(m),dt=void 0;if(ut=Mt.length,Object.keys(b).length!==ut)return!1;for(;ut--;)if(!Os(b,dt=Mt[ut])||!mi(m[dt],b[dt],S-1,N,H))return!1}return N.pop(),H.pop(),!0}function Pa(m){return Wn(m)?m.slice():L(m)||Yt(m)||Y(m)||Sn(m)?Array.from(m.entries()):m}function Os(m,b){return Object.prototype.hasOwnProperty.call(m,b)}function Ao(m){return m[Symbol.iterator]=Pr,m}function Pr(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ia,extras:{getDebugName:function(m,b){return(b!==void 0?Cn(m,b):jn(m)||Yt(m)||Sn(m)?Wr(m):Cn(m)).name}},$mobx:F})}).call(this,o(155),o(81))},function(a,c,o){var f=o(112),l=o(43),y=o(174);f||l(Object.prototype,"toString",y,{unsafe:!0})},function(a,c,o){var f=o(40),l=o(99),y=o(75),g=o(56),O=o(115),x="Array Iterator",w=g.set,j=g.getterFor(x);a.exports=O(Array,"Array",function(P,A){w(this,{type:x,target:f(P),index:0,kind:A})},function(){var P=j(this),A=P.target,M=P.kind,k=P.index++;return!A||k>=A.length?(P.target=void 0,{value:void 0,done:!0}):M=="keys"?{value:k,done:!1}:M=="values"?{value:A[k],done:!1}:{value:[k,A[k]],done:!1}},"values"),y.Arguments=y.Array,l("keys"),l("values"),l("entries")},function(a,c,o){var f=o(17),l=o(7),y=o(46),g=o(71),O=o(34),x=o(15),w=o(66),j=o(36),P=o(107),A=o(19),M=o(35),k=o(95),R=o(28),L=o(32),Y=o(58),Q=o(85),K=o(33),V=o(39),Z=o(40),F=o(84),I=o(41),B=o(64),G=o(57),X=o(72),re=o(68),de=o(136),le=o(111),ve=o(50),Se=o(37),ge=o(82),se=o(97),ye=o(43),be=o(87),Pe=o(91),ze=o(67),Ze=o(88),Te=o(27),Re=o(137),Je=o(138),ee=o(73),J=o(56),ue=o(74).forEach,we=Pe("hidden"),Ae="Symbol",xe=Te("toPrimitive"),Qe=J.set,it=J.getterFor(Ae),tt=Object.prototype,$e=l.Symbol,me=$e&&$e.prototype,Xe=l.TypeError,ne=l.QObject,Be=y("JSON","stringify"),lt=ve.f,Ot=Se.f,st=de.f,bt=ge.f,kt=x([].push),Ct=be("symbols"),ct=be("op-symbols"),Ht=be("string-to-symbol-registry"),W=be("symbol-to-string-registry"),ie=be("wks"),$=!ne||!ne.prototype||!ne.prototype.findChild,ce=j&&A(function(){return G(Ot({},"a",{get:function(){return Ot(this,"a",{value:7}).a}})).a!=7})?function(Fe,Ke,rt){var at=lt(tt,Ke);at&&delete tt[Ke],Ot(Fe,Ke,rt),at&&Fe!==tt&&Ot(tt,Ke,at)}:Ot,Ne=function(Fe,Ke){var rt=Ct[Fe]=G(me);return Qe(rt,{type:Ae,tag:Fe,description:Ke}),j||(rt.description=Ke),rt},Ce=function(Fe,Ke,rt){Fe===tt&&Ce(ct,Ke,rt),K(Fe);var at=F(Ke);return K(rt),M(Ct,at)?(rt.enumerable?(M(Fe,we)&&Fe[we][at]&&(Fe[we][at]=!1),rt=G(rt,{enumerable:B(0,!1)})):(M(Fe,we)||Ot(Fe,we,B(1,{})),Fe[we][at]=!0),ce(Fe,at,rt)):Ot(Fe,at,rt)},Ye=function(Fe,Ke){K(Fe);var rt=Z(Ke),at=X(rt).concat(Xt(rt));return ue(at,function(Pt){j&&!O(yt,rt,Pt)||Ce(Fe,Pt,rt[Pt])}),Fe},yt=function(Fe){var Ke=F(Fe),rt=O(bt,this,Ke);return!(this===tt&&M(Ct,Ke)&&!M(ct,Ke))&&(!(rt||!M(this,Ke)||!M(Ct,Ke)||M(this,we)&&this[we][Ke])||rt)},qt=function(Fe,Ke){var rt=Z(Fe),at=F(Ke);if(rt!==tt||!M(Ct,at)||M(ct,at)){var Pt=lt(rt,at);return!Pt||!M(Ct,at)||M(rt,we)&&rt[we][at]||(Pt.enumerable=!0),Pt}},rn=function(Fe){var Ke=st(Z(Fe)),rt=[];return ue(Ke,function(at){M(Ct,at)||M(ze,at)||kt(rt,at)}),rt},Xt=function(Fe){var Ke=Fe===tt,rt=st(Ke?ct:Z(Fe)),at=[];return ue(rt,function(Pt){!M(Ct,Pt)||Ke&&!M(tt,Pt)||kt(at,Ct[Pt])}),at};if(P||($e=function(){if(Y(me,this))throw Xe("Symbol is not a constructor");var Fe=arguments.length&&arguments[0]!==void 0?I(arguments[0]):void 0,Ke=Ze(Fe),rt=function(at){this===tt&&O(rt,ct,at),M(this,we)&&M(this[we],Ke)&&(this[we][Ke]=!1),ce(this,Ke,B(1,at))};return j&&$&&ce(tt,Ke,{configurable:!0,set:rt}),Ne(Ke,Fe)},ye(me=$e.prototype,"toString",function(){return it(this).tag}),ye($e,"withoutSetter",function(Fe){return Ne(Ze(Fe),Fe)}),ge.f=yt,Se.f=Ce,ve.f=qt,re.f=de.f=rn,le.f=Xt,Re.f=function(Fe){return Ne(Te(Fe),Fe)},j&&(Ot(me,"description",{configurable:!0,get:function(){return it(this).description}}),w||ye(tt,"propertyIsEnumerable",yt,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:$e}),ue(X(ie),function(Fe){Je(Fe)}),f({target:Ae,stat:!0,forced:!P},{for:function(Fe){var Ke=I(Fe);if(M(Ht,Ke))return Ht[Ke];var rt=$e(Ke);return Ht[Ke]=rt,W[rt]=Ke,rt},keyFor:function(Fe){if(!Q(Fe))throw Xe(Fe+" is not a symbol");if(M(W,Fe))return W[Fe]},useSetter:function(){$=!0},useSimple:function(){$=!1}}),f({target:"Object",stat:!0,forced:!P,sham:!j},{create:function(Fe,Ke){return Ke===void 0?G(Fe):Ye(G(Fe),Ke)},defineProperty:Ce,defineProperties:Ye,getOwnPropertyDescriptor:qt}),f({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:rn,getOwnPropertySymbols:Xt}),f({target:"Object",stat:!0,forced:A(function(){le.f(1)})},{getOwnPropertySymbols:function(Fe){return le.f(V(Fe))}}),Be&&f({target:"JSON",stat:!0,forced:!P||A(function(){var Fe=$e();return Be([Fe])!="[null]"||Be({a:Fe})!="{}"||Be(Object(Fe))!="{}"})},{stringify:function(Fe,Ke,rt){var at=se(arguments),Pt=Ke;if((L(Ke)||Fe!==void 0)&&!Q(Fe))return k(Ke)||(Ke=function(Bt,wr){if(R(Pt)&&(wr=O(Pt,this,Bt,wr)),!Q(wr))return wr}),at[1]=Ke,g(Be,null,at)}}),!me[xe]){var Ut=me.valueOf;ye(me,xe,function(Fe){return O(Ut,this)})}ee($e,Ae),ze[we]=!0},function(a,c,o){var f=o(7),l=o(149),y=o(150),g=o(3),O=o(55),x=o(27),w=x("iterator"),j=x("toStringTag"),P=g.values,A=function(k,R){if(k){if(k[w]!==P)try{O(k,w,P)}catch{k[w]=P}if(k[j]||O(k,j,R),l[R]){for(var L in g)if(k[L]!==g[L])try{O(k,L,g[L])}catch{k[L]=g[L]}}}};for(var M in l)A(f[M]&&f[M].prototype,M);A(y,"DOMTokenList")},function(a,c,o){var f=o(148).charAt,l=o(41),y=o(56),g=o(115),O="String Iterator",x=y.set,w=y.getterFor(O);g(String,"String",function(j){x(this,{type:O,string:l(j),index:0})},function(){var j,P=w(this),A=P.string,M=P.index;return M>=A.length?{value:void 0,done:!0}:(j=f(A,M),P.index+=j.length,{value:j,done:!1})})},function(a,c,o){(function(f){var l=function(y){return y&&y.Math==Math&&y};a.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,o(81))},function(a,c,o){var f=o(17),l=o(36),y=o(7),g=o(15),O=o(35),x=o(28),w=o(58),j=o(41),P=o(37).f,A=o(131),M=y.Symbol,k=M&&M.prototype;if(l&&x(M)&&(!("description"in k)||M().description!==void 0)){var R={},L=function(){var I=arguments.length<1||arguments[0]===void 0?void 0:j(arguments[0]),B=w(k,this)?new M(I):I===void 0?M():M(I);return I===""&&(R[B]=!0),B};A(L,M),L.prototype=k,k.constructor=L;var Y=String(M("test"))=="Symbol(test)",Q=g(k.toString),K=g(k.valueOf),V=/^Symbol\((.*)\)[^)]+$/,Z=g("".replace),F=g("".slice);P(k,"description",{configurable:!0,get:function(){var I=K(this),B=Q(I);if(O(R,I))return"";var G=Y?F(B,7,-1):Z(B,V,"$1");return G===""?void 0:G}}),f({global:!0,forced:!0},{Symbol:L})}},function(a,c,o){o(138)("iterator")},function(a,c,o){o.d(c,"a",function(){return g.a}),o.d(c,"c",function(){return g.e}),o.d(c,"h",function(){return V}),o.d(c,"i",function(){return Y}),o.d(c,"j",function(){return R}),o.d(c,"b",function(){return ve}),o.d(c,"e",function(){return ye}),o.d(c,"f",function(){return Se}),o.d(c,"g",function(){return Ct});var f,l,y,g=o(0),O=0,x=[],w=g.i.__b,j=g.i.__r,P=g.i.diffed,A=g.i.__c,M=g.i.unmount;function k(W,ie){g.i.__h&&g.i.__h(l,W,O||ie),O=0;var $=l.__H||(l.__H={__:[],__h:[]});return W>=$.__.length&&$.__.push({}),$.__[W]}function R(W){return O=1,L(re,W)}function L(W,ie,$){var ce=k(f++,2);return ce.t=W,ce.__c||(ce.__=[$?$(ie):re(void 0,ie),function(Ne){var Ce=ce.t(ce.__[0],Ne);ce.__[0]!==Ce&&(ce.__=[Ce,ce.__[1]],ce.__c.setState({}))}],ce.__c=l),ce.__}function Y(W,ie){var $=k(f++,3);!g.i.__s&&X($.__H,ie)&&($.__=W,$.__H=ie,l.__H.__h.push($))}function Q(W,ie){var $=k(f++,4);!g.i.__s&&X($.__H,ie)&&($.__=W,$.__H=ie,l.__h.push($))}function K(W,ie){var $=k(f++,7);return X($.__H,ie)&&($.__=W(),$.__H=ie,$.__h=W),$.__}function V(W,ie){return O=8,K(function(){return W},ie)}function Z(){var W;for(x.sort(function(ie,$){return ie.__v.__b-$.__v.__b});W=x.pop();)if(W.__P)try{W.__H.__h.forEach(B),W.__H.__h.forEach(G),W.__H.__h=[]}catch(ie){W.__H.__h=[],g.i.__e(ie,W.__v)}}g.i.__b=function(W){l=null,w&&w(W)},g.i.__r=function(W){j&&j(W),f=0;var ie=(l=W.__c).__H;ie&&(ie.__h.forEach(B),ie.__h.forEach(G),ie.__h=[])},g.i.diffed=function(W){P&&P(W);var ie=W.__c;ie&&ie.__H&&ie.__H.__h.length&&(x.push(ie)!==1&&y===g.i.requestAnimationFrame||((y=g.i.requestAnimationFrame)||I)(Z)),l=null},g.i.__c=function(W,ie){ie.some(function($){try{$.__h.forEach(B),$.__h=$.__h.filter(function(ce){return!ce.__||G(ce)})}catch(ce){ie.some(function(Ne){Ne.__h&&(Ne.__h=[])}),ie=[],g.i.__e(ce,$.__v)}}),A&&A(W,ie)},g.i.unmount=function(W){M&&M(W);var ie,$=W.__c;$&&$.__H&&($.__H.__.forEach(function(ce){try{B(ce)}catch(Ne){ie=Ne}}),ie&&g.i.__e(ie,$.__v))};var F=typeof requestAnimationFrame=="function";function I(W){var ie,$=function(){clearTimeout(ce),F&&cancelAnimationFrame(ie),setTimeout(W)},ce=setTimeout($,100);F&&(ie=requestAnimationFrame($))}function B(W){var ie=l,$=W.__c;typeof $=="function"&&(W.__c=void 0,$()),l=ie}function G(W){var ie=l;W.__c=W.__(),l=ie}function X(W,ie){return!W||W.length!==ie.length||ie.some(function($,ce){return $!==W[ce]})}function re(W,ie){return typeof ie=="function"?ie(W):ie}function de(W,ie){for(var $ in ie)W[$]=ie[$];return W}function le(W,ie){for(var $ in W)if($!=="__source"&&!($ in ie))return!0;for(var ce in ie)if(ce!=="__source"&&W[ce]!==ie[ce])return!0;return!1}function ve(W){this.props=W}function Se(W,ie){function $(Ne){var Ce=this.props.ref,Ye=Ce==Ne.ref;return!Ye&&Ce&&(Ce.call?Ce(null):Ce.current=null),ie?!ie(this.props,Ne)||!Ye:le(this.props,Ne)}function ce(Ne){return this.shouldComponentUpdate=$,Object(g.e)(W,Ne)}return ce.displayName="Memo("+(W.displayName||W.name)+")",ce.prototype.isReactComponent=!0,ce.__f=!0,ce}(ve.prototype=new g.a).isPureReactComponent=!0,ve.prototype.shouldComponentUpdate=function(W,ie){return le(this.props,W)||le(this.state,ie)};var ge=g.i.__b;g.i.__b=function(W){W.type&&W.type.__f&&W.ref&&(W.props.ref=W.ref,W.ref=null),ge&&ge(W)};var se=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ye(W){function ie($,ce){var Ne=de({},$);return delete Ne.ref,W(Ne,!(ce=$.ref||ce)||typeof ce=="object"&&!("current"in ce)?null:ce)}return ie.$$typeof=se,ie.render=ie,ie.prototype.isReactComponent=ie.__f=!0,ie.displayName="ForwardRef("+(W.displayName||W.name)+")",ie}var be=function(W,ie){return W==null?null:Object(g.k)(Object(g.k)(W).map(ie))},Pe={map:be,forEach:be,count:function(W){return W?Object(g.k)(W).length:0},only:function(W){var ie=Object(g.k)(W);if(ie.length!==1)throw"Children.only";return ie[0]},toArray:g.k},ze=g.i.__e;g.i.__e=function(W,ie,$){if(W.then){for(var ce,Ne=ie;Ne=Ne.__;)if((ce=Ne.__c)&&ce.__c)return ie.__e==null&&(ie.__e=$.__e,ie.__k=$.__k),ce.__c(W,ie)}ze(W,ie,$)};var Ze=g.i.unmount;function Te(W,ie,$){return W&&(W.__c&&W.__c.__H&&(W.__c.__H.__.forEach(function(ce){typeof ce.__c=="function"&&ce.__c()}),W.__c.__H=null),(W=de({},W)).__c!=null&&(W.__c.__P===$&&(W.__c.__P=ie),W.__c=null),W.__k=W.__k&&W.__k.map(function(ce){return Te(ce,ie,$)})),W}function Re(W,ie,$){return W&&(W.__v=null,W.__k=W.__k&&W.__k.map(function(ce){return Re(ce,ie,$)}),W.__c&&W.__c.__P===ie&&(W.__e&&$.insertBefore(W.__e,W.__d),W.__c.__e=!0,W.__c.__P=$)),W}function Je(){this.__u=0,this.t=null,this.__b=null}function ee(W){var ie=W.__.__c;return ie&&ie.__e&&ie.__e(W)}function J(){this.u=null,this.o=null}g.i.unmount=function(W){var ie=W.__c;ie&&ie.__R&&ie.__R(),ie&&W.__h===!0&&(W.type=null),Ze&&Ze(W)},(Je.prototype=new g.a).__c=function(W,ie){var $=ie.__c,ce=this;ce.t==null&&(ce.t=[]),ce.t.push($);var Ne=ee(ce.__v),Ce=!1,Ye=function(){Ce||(Ce=!0,$.__R=null,Ne?Ne(yt):yt())};$.__R=Ye;var yt=function(){if(!--ce.__u){if(ce.state.__e){var rn=ce.state.__e;ce.__v.__k[0]=Re(rn,rn.__c.__P,rn.__c.__O)}var Xt;for(ce.setState({__e:ce.__b=null});Xt=ce.t.pop();)Xt.forceUpdate()}},qt=ie.__h===!0;ce.__u++||qt||ce.setState({__e:ce.__b=ce.__v.__k[0]}),W.then(Ye,Ye)},Je.prototype.componentWillUnmount=function(){this.t=[]},Je.prototype.render=function(W,ie){if(this.__b){if(this.__v.__k){var $=document.createElement("div"),ce=this.__v.__k[0].__c;this.__v.__k[0]=Te(this.__b,$,ce.__O=ce.__P)}this.__b=null}var Ne=ie.__e&&Object(g.e)(g.b,null,W.fallback);return Ne&&(Ne.__h=null),[Object(g.e)(g.b,null,ie.__e?null:W.children),Ne]};var ue=function(W,ie,$){if(++$[1]===$[0]&&W.o.delete(ie),W.props.revealOrder&&(W.props.revealOrder[0]!=="t"||!W.o.size))for($=W.u;$;){for(;$.length>3;)$.pop()();if($[1]<$[0])break;W.u=$=$[2]}};function we(W){return this.getChildContext=function(){return W.context},W.children}function Ae(W){var ie=this,$=W.i;ie.componentWillUnmount=function(){Object(g.j)(null,ie.l),ie.l=null,ie.i=null},ie.i&&ie.i!==$&&ie.componentWillUnmount(),W.__v?(ie.l||(ie.i=$,ie.l={nodeType:1,parentNode:$,childNodes:[],appendChild:function(ce){this.childNodes.push(ce),ie.i.appendChild(ce)},insertBefore:function(ce,Ne){this.childNodes.push(ce),ie.i.appendChild(ce)},removeChild:function(ce){this.childNodes.splice(this.childNodes.indexOf(ce)>>>1,1),ie.i.removeChild(ce)}}),Object(g.j)(Object(g.e)(we,{context:ie.context},W.__v),ie.l)):ie.l&&ie.componentWillUnmount()}(J.prototype=new g.a).__e=function(W){var ie=this,$=ee(ie.__v),ce=ie.o.get(W);return ce[0]++,function(Ne){var Ce=function(){ie.props.revealOrder?(ce.push(Ne),ue(ie,W,ce)):Ne()};$?$(Ce):Ce()}},J.prototype.render=function(W){this.u=null,this.o=new Map;var ie=Object(g.k)(W.children);W.revealOrder&&W.revealOrder[0]==="b"&&ie.reverse();for(var $=ie.length;$--;)this.o.set(ie[$],this.u=[1,0,this.u]);return W.children},J.prototype.componentDidUpdate=J.prototype.componentDidMount=function(){var W=this;this.o.forEach(function(ie,$){ue(W,$,ie)})};var xe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Qe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,it=typeof document<"u",tt=function(W){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(W)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(W){Object.defineProperty(g.a.prototype,W,{configurable:!0,get:function(){return this["UNSAFE_"+W]},set:function(ie){Object.defineProperty(this,W,{configurable:!0,writable:!0,value:ie})}})});var $e=g.i.event;function me(){}function Xe(){return this.cancelBubble}function ne(){return this.defaultPrevented}g.i.event=function(W){return $e&&(W=$e(W)),W.persist=me,W.isPropagationStopped=Xe,W.isDefaultPrevented=ne,W.nativeEvent=W};var Be,lt={configurable:!0,get:function(){return this.class}},Ot=g.i.vnode;g.i.vnode=function(W){var ie=W.type,$=W.props,ce=$;if(typeof ie=="string"){var Ne=ie.indexOf("-")===-1;for(var Ce in ce={},$){var Ye=$[Ce];it&&Ce==="children"&&ie==="noscript"||Ce==="value"&&"defaultValue"in $&&Ye==null||(Ce==="defaultValue"&&"value"in $&&$.value==null?Ce="value":Ce==="download"&&Ye===!0?Ye="":/ondoubleclick/i.test(Ce)?Ce="ondblclick":/^onchange(textarea|input)/i.test(Ce+ie)&&!tt($.type)?Ce="oninput":/^onfocus$/i.test(Ce)?Ce="onfocusin":/^onblur$/i.test(Ce)?Ce="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ce)?Ce=Ce.toLowerCase():Ne&&Qe.test(Ce)?Ce=Ce.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ye===null&&(Ye=void 0),ce[Ce]=Ye)}ie=="select"&&ce.multiple&&Array.isArray(ce.value)&&(ce.value=Object(g.k)($.children).forEach(function(yt){yt.props.selected=ce.value.indexOf(yt.props.value)!=-1})),ie=="select"&&ce.defaultValue!=null&&(ce.value=Object(g.k)($.children).forEach(function(yt){yt.props.selected=ce.multiple?ce.defaultValue.indexOf(yt.props.value)!=-1:ce.defaultValue==yt.props.value})),W.props=ce,$.class!=$.className&&(lt.enumerable="className"in $,$.className!=null&&(ce.class=$.className),Object.defineProperty(ce,"className",lt))}W.$$typeof=xe,Ot&&Ot(W)};var st=g.i.__r;g.i.__r=function(W){st&&st(W),Be=W.__c};var bt={ReactCurrentDispatcher:{current:{readContext:function(W){return Be.__n[W.__c].props.value}}}};function kt(W){return!!W&&W.$$typeof===xe}var Ct=function(W,ie){return W(ie)},ct=g.b,Ht={useState:R,useReducer:L,useEffect:Y,useLayoutEffect:Q,useRef:function(W){return O=5,K(function(){return{current:W}},[])},useImperativeHandle:function(W,ie,$){O=6,Q(function(){typeof W=="function"?W(ie()):W&&(W.current=ie())},$==null?$:$.concat(W))},useMemo:K,useCallback:V,useContext:function(W){var ie=l.context[W.__c],$=k(f++,9);return $.c=W,ie?($.__==null&&($.__=!0,ie.sub(l)),ie.props.value):W.__},useDebugValue:function(W,ie){g.i.useDebugValue&&g.i.useDebugValue(ie?ie(W):W)},version:"17.0.2",Children:Pe,render:function(W,ie,$){return ie.__k==null&&(ie.textContent=""),Object(g.j)(W,ie),typeof $=="function"&&$(),W?W.__c:null},hydrate:function(W,ie,$){return Object(g.h)(W,ie),typeof $=="function"&&$(),W?W.__c:null},unmountComponentAtNode:function(W){return!!W.__k&&(Object(g.j)(null,W),!0)},createPortal:function(W,ie){return Object(g.e)(Ae,{__v:W,i:ie})},createElement:g.e,createContext:g.d,createFactory:function(W){return g.e.bind(null,W)},cloneElement:function(W){return kt(W)?g.c.apply(null,arguments):W},createRef:g.f,Fragment:g.b,isValidElement:kt,findDOMNode:function(W){return W&&(W.base||W.nodeType===1&&W)||null},Component:g.a,PureComponent:ve,memo:Se,forwardRef:ye,flushSync:function(W,ie){return W(ie)},unstable_batchedUpdates:Ct,StrictMode:ct,Suspense:Je,SuspenseList:J,lazy:function(W){var ie,$,ce;function Ne(Ce){if(ie||(ie=W()).then(function(Ye){$=Ye.default||Ye},function(Ye){ce=Ye}),ce)throw ce;if(!$)throw ie;return Object(g.e)($,Ce)}return Ne.displayName="Lazy",Ne.__f=!0,Ne},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:bt};c.d=Ht},function(a,c,o){var f=o(7),l=o(149),y=o(150),g=o(182),O=o(55),x=function(j){if(j&&j.forEach!==g)try{O(j,"forEach",g)}catch{j.forEach=g}};for(var w in l)l[w]&&x(f[w]&&f[w].prototype);x(y)},function(a,c,o){o(17)({target:"Object",stat:!0},{setPrototypeOf:o(101)})},function(a,c,o){var f=o(17),l=o(19),y=o(39),g=o(100),O=o(140);f({target:"Object",stat:!0,forced:l(function(){g(1)}),sham:!O},{getPrototypeOf:function(x){return g(y(x))}})},function(a,c,o){var f=o(17),l=o(46),y=o(71),g=o(200),O=o(157),x=o(33),w=o(32),j=o(57),P=o(19),A=l("Reflect","construct"),M=Object.prototype,k=[].push,R=P(function(){function Q(){}return!(A(function(){},[],Q)instanceof Q)}),L=!P(function(){A(function(){})}),Y=R||L;f({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(Q,K){O(Q),x(K);var V=arguments.length<3?Q:O(arguments[2]);if(L&&!R)return A(Q,K,V);if(Q==V){switch(K.length){case 0:return new Q;case 1:return new Q(K[0]);case 2:return new Q(K[0],K[1]);case 3:return new Q(K[0],K[1],K[2]);case 4:return new Q(K[0],K[1],K[2],K[3])}var Z=[null];return y(k,Z,K),new(y(g,Q,Z))}var F=V.prototype,I=j(w(F)?F:M),B=y(Q,I,K);return w(B)?B:I}})},function(a,c){var o=Function.prototype,f=o.bind,l=o.call,y=f&&f.bind(l);a.exports=f?function(g){return g&&y(l,g)}:function(g){return g&&function(){return l.apply(g,arguments)}}},function(a,c,o){var f=o(17),l=o(7),y=o(95),g=o(98),O=o(32),x=o(69),w=o(44),j=o(40),P=o(60),A=o(27),M=o(76),k=o(97),R=M("slice"),L=A("species"),Y=l.Array,Q=Math.max;f({target:"Array",proto:!0,forced:!R},{slice:function(K,V){var Z,F,I,B=j(this),G=w(B),X=x(K,G),re=x(V===void 0?G:V,G);if(y(B)&&(Z=B.constructor,(g(Z)&&(Z===Y||y(Z.prototype))||O(Z)&&(Z=Z[L])===null)&&(Z=void 0),Z===Y||Z===void 0))return k(B,X,re);for(F=new(Z===void 0?Y:Z)(Q(re-X,0)),I=0;X<re;X++,I++)X in B&&P(F,I,B[X]);return F.length=I,F}})},function(a,c,o){var f=o(7),l=o(50).f,y=o(55),g=o(43),O=o(109),x=o(131),w=o(94);a.exports=function(j,P){var A,M,k,R,L,Y=j.target,Q=j.global,K=j.stat;if(A=Q?f:K?f[Y]||O(Y,{}):(f[Y]||{}).prototype)for(M in P){if(R=P[M],k=j.noTargetGet?(L=l(A,M))&&L.value:A[M],!w(Q?M:Y+(K?".":"#")+M,j.forced)&&k!==void 0){if(typeof R==typeof k)continue;x(R,k)}(j.sham||k&&k.sham)&&y(R,"sham",!0),g(A,M,R,j)}}},function(a,c,o){var f=o(17),l=o(102);f({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},function(a,c){a.exports=function(o){try{return!!o()}catch{return!0}}},function(a,c,o){var f=o(17),l=o(39),y=o(72);f({target:"Object",stat:!0,forced:o(19)(function(){y(1)})},{keys:function(g){return y(l(g))}})},function(a,c,o){var f=o(17),l=o(19),y=o(40),g=o(50).f,O=o(36),x=l(function(){g(1)});f({target:"Object",stat:!0,forced:!O||x,sham:!O},{getOwnPropertyDescriptor:function(w,j){return g(y(w),j)}})},function(a,c,o){var f=o(36),l=o(92).EXISTS,y=o(15),g=o(37).f,O=Function.prototype,x=y(O.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,j=y(w.exec);f&&!l&&g(O,"name",{configurable:!0,get:function(){try{return j(w,x(this))[1]}catch{return""}}})},function(a,c,o){var f=o(17),l=o(74).filter;f({target:"Array",proto:!0,forced:!o(76)("filter")},{filter:function(y){return l(this,y,arguments.length>1?arguments[1]:void 0)}})},function(a,c,o){var f=o(17),l=o(183);f({target:"Array",stat:!0,forced:!o(119)(function(y){Array.from(y)})},{from:l})},function(a,c,o){var f=o(17),l=o(36),y=o(132),g=o(40),O=o(50),x=o(60);f({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(w){for(var j,P,A=g(w),M=O.f,k=y(A),R={},L=0;k.length>L;)(P=M(A,j=k[L++]))!==void 0&&x(R,j,P);return R}})},,function(a,c,o){var f=o(7),l=o(87),y=o(35),g=o(88),O=o(107),x=o(129),w=l("wks"),j=f.Symbol,P=j&&j.for,A=x?j:j&&j.withoutSetter||g;a.exports=function(M){if(!y(w,M)||!O&&typeof w[M]!="string"){var k="Symbol."+M;O&&y(j,M)?w[M]=j[M]:w[M]=x&&P?P(k):A(k)}return w[M]}},function(a,c){a.exports=function(o){return typeof o=="function"}},function(a,c,o){var f=o(17),l=o(7),y=o(19),g=o(95),O=o(32),x=o(39),w=o(44),j=o(60),P=o(114),A=o(76),M=o(27),k=o(65),R=M("isConcatSpreadable"),L=9007199254740991,Y="Maximum allowed index exceeded",Q=l.TypeError,K=k>=51||!y(function(){var F=[];return F[R]=!1,F.concat()[0]!==F}),V=A("concat"),Z=function(F){if(!O(F))return!1;var I=F[R];return I!==void 0?!!I:g(F)};f({target:"Array",proto:!0,forced:!K||!V},{concat:function(F){var I,B,G,X,re,de=x(this),le=P(de,0),ve=0;for(I=-1,G=arguments.length;I<G;I++)if(Z(re=I===-1?de:arguments[I])){if(ve+(X=w(re))>L)throw Q(Y);for(B=0;B<X;B++,ve++)B in re&&j(le,ve,re[B])}else{if(ve>=L)throw Q(Y);j(le,ve++,re)}return le.length=ve,le}})},function(a,c,o){var f=o(17),l=o(199);f({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},function(a,c,o){var f=o(105),l=typeof self=="object"&&self&&self.Object===Object&&self,y=f.a||l||Function("return this")();c.a=y},function(a,c,o){var f=o(28);a.exports=function(l){return typeof l=="object"?l!==null:f(l)}},function(a,c,o){var f=o(7),l=o(32),y=f.String,g=f.TypeError;a.exports=function(O){if(l(O))return O;throw g(y(O)+" is not an object")}},function(a,c){var o=Function.prototype.call;a.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(a,c,o){var f=o(15),l=o(39),y=f({}.hasOwnProperty);a.exports=Object.hasOwn||function(g,O){return y(l(g),O)}},function(a,c,o){var f=o(19);a.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(a,c,o){var f=o(7),l=o(36),y=o(130),g=o(33),O=o(84),x=f.TypeError,w=Object.defineProperty;c.f=l?w:function(j,P,A){if(g(j),P=O(P),g(A),y)try{return w(j,P,A)}catch{}if("get"in A||"set"in A)throw x("Accessors not supported");return"value"in A&&(j[P]=A.value),j}},function(a,c,o){var f=o(17),l=o(74).map;f({target:"Array",proto:!0,forced:!o(76)("map")},{map:function(y){return l(this,y,arguments.length>1?arguments[1]:void 0)}})},function(a,c,o){var f=o(7),l=o(45),y=f.Object;a.exports=function(g){return y(l(g))}},function(a,c,o){var f=o(83),l=o(45);a.exports=function(y){return f(l(y))}},function(a,c,o){var f=o(7),l=o(96),y=f.String;a.exports=function(g){if(l(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(g)}},function(a,c,o){(function(f){o.d(c,"d",function(){return g}),o.d(c,"c",function(){return O}),o.d(c,"b",function(){return x}),o.d(c,"a",function(){return j});var l=o(10),y=function(P,A){var M=typeof Symbol=="function"&&P[Symbol.iterator];if(!M)return P;var k,R,L=M.call(P),Y=[];try{for(;(A===void 0||A-- >0)&&!(k=L.next()).done;)Y.push(k.value)}catch(Q){R={error:Q}}finally{try{k&&!k.done&&(M=L.return)&&M.call(L)}finally{if(R)throw R.error}}return Y};function g(){var P=y(Object(l.j)(0),2)[1];return Object(l.h)(function(){P(function(A){return A+1})},[])}function O(P){if(!P||typeof P!="object")return!1;var A=Object.getPrototypeOf(P);return!A||A===Object.prototype}function x(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var w={};function j(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:w}}).call(this,o(81))},function(a,c,o){var f=o(7),l=o(28),y=o(35),g=o(55),O=o(109),x=o(90),w=o(56),j=o(92).CONFIGURABLE,P=w.get,A=w.enforce,M=String(String).split("String");(a.exports=function(k,R,L,Y){var Q,K=!!Y&&!!Y.unsafe,V=!!Y&&!!Y.enumerable,Z=!!Y&&!!Y.noTargetGet,F=Y&&Y.name!==void 0?Y.name:R;l(L)&&(String(F).slice(0,7)==="Symbol("&&(F="["+String(F).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(L,"name")||j&&L.name!==F)&&g(L,"name",F),(Q=A(L)).source||(Q.source=M.join(typeof F=="string"?F:""))),k!==f?(K?!Z&&k[R]&&(V=!0):delete k[R],V?k[R]=L:g(k,R,L)):V?k[R]=L:O(R,L)})(Function.prototype,"toString",function(){return l(this)&&P(this).source||x(this)})},function(a,c,o){var f=o(93);a.exports=function(l){return f(l.length)}},function(a,c,o){var f=o(7).TypeError;a.exports=function(l){if(l==null)throw f("Can't call method on "+l);return l}},function(a,c,o){var f=o(7),l=o(28),y=function(g){return l(g)?g:void 0};a.exports=function(g,O){return arguments.length<2?y(f[g]):f[g]&&f[g][O]}},function(a,c,o){var f=o(17),l=o(34),y=o(32),g=o(33),O=o(201),x=o(50),w=o(100);f({target:"Reflect",stat:!0},{get:function j(P,A){var M,k,R=arguments.length<3?P:arguments[2];return g(P)===R?P[A]:(M=x.f(P,A))?O(M)?M.value:M.get===void 0?void 0:l(M.get,R):y(k=w(P))?j(k,A,R):void 0}})},function(a,c,o){(function(f){var l=o(31),y=o(166),g=p&&!p.nodeType&&p,O=g&&typeof f=="object"&&f&&!f.nodeType&&f,x=O&&O.exports===g?l.a.Buffer:void 0,w=(x?x.isBuffer:void 0)||y.a;c.a=w}).call(this,o(121)(a))},function(a,c,o){(function(f){var l=o(105),y=p&&!p.nodeType&&p,g=y&&typeof f=="object"&&f&&!f.nodeType&&f,O=g&&g.exports===y&&l.a.process,x=function(){try{var w=g&&g.require&&g.require("util").types;return w||O&&O.binding&&O.binding("util")}catch{}}();c.a=x}).call(this,o(121)(a))},function(a,c,o){var f=o(36),l=o(34),y=o(82),g=o(64),O=o(40),x=o(84),w=o(35),j=o(130),P=Object.getOwnPropertyDescriptor;c.f=f?P:function(A,M){if(A=O(A),M=x(M),j)try{return P(A,M)}catch{}if(w(A,M))return g(!l(y.f,A,M),A[M])}},function(a,c,o){var f=o(15),l=f({}.toString),y=f("".slice);a.exports=function(g){return y(l(g),8,-1)}},function(a,c,o){var f=o(17),l=o(213).entries;f({target:"Object",stat:!0},{entries:function(y){return l(y)}})},function(a,c,o){var f=o(46);a.exports=f("navigator","userAgent")||""},function(a,c,o){var f=o(7),l=o(28),y=o(86),g=f.TypeError;a.exports=function(O){if(l(O))return O;throw g(y(O)+" is not a function")}},function(a,c,o){var f=o(36),l=o(37),y=o(64);a.exports=f?function(g,O,x){return l.f(g,O,y(1,x))}:function(g,O,x){return g[O]=x,g}},function(a,c,o){var f,l,y,g=o(170),O=o(7),x=o(15),w=o(32),j=o(55),P=o(35),A=o(108),M=o(91),k=o(67),R="Object already initialized",L=O.TypeError,Y=O.WeakMap;if(g||A.state){var Q=A.state||(A.state=new Y),K=x(Q.get),V=x(Q.has),Z=x(Q.set);f=function(I,B){if(V(Q,I))throw new L(R);return B.facade=I,Z(Q,I,B),B},l=function(I){return K(Q,I)||{}},y=function(I){return V(Q,I)}}else{var F=M("state");k[F]=!0,f=function(I,B){if(P(I,F))throw new L(R);return B.facade=I,j(I,F,B),B},l=function(I){return P(I,F)?I[F]:{}},y=function(I){return P(I,F)}}a.exports={set:f,get:l,has:y,enforce:function(I){return y(I)?l(I):f(I,{})},getterFor:function(I){return function(B){var G;if(!w(B)||(G=l(B)).type!==I)throw L("Incompatible receiver, "+I+" required");return G}}}},function(a,c,o){var f,l=o(33),y=o(171),g=o(110),O=o(67),x=o(135),w=o(89),j=o(91),P=j("IE_PROTO"),A=function(){},M=function(L){return"<script>"+L+"<\/script>"},k=function(L){L.write(M("")),L.close();var Y=L.parentWindow.Object;return L=null,Y},R=function(){try{f=new ActiveXObject("htmlfile")}catch{}var L,Y;R=typeof document<"u"?document.domain&&f?k(f):((Y=w("iframe")).style.display="none",x.appendChild(Y),Y.src="javascript:",(L=Y.contentWindow.document).open(),L.write(M("document.F=Object")),L.close(),L.F):k(f);for(var Q=g.length;Q--;)delete R.prototype[g[Q]];return R()};O[P]=!0,a.exports=Object.create||function(L,Y){var Q;return L!==null?(A.prototype=l(L),Q=new A,A.prototype=null,Q[P]=L):Q=R(),Y===void 0?Q:y(Q,Y)}},function(a,c,o){var f=o(15);a.exports=f({}.isPrototypeOf)},function(a,c,o){var f=o(54);a.exports=function(l,y){var g=l[y];return g==null?void 0:f(g)}},function(a,c,o){var f=o(84),l=o(37),y=o(64);a.exports=function(g,O,x){var w=f(O);w in g?l.f(g,w,y(0,x)):g[w]=x}},function(a,c,o){var f=o(15),l=o(54),y=f(f.bind);a.exports=function(g,O){return l(g),O===void 0?g:y?y(g,O):function(){return g.apply(O,arguments)}}},function(a,c,o){o(177)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},o(181))},function(a,c,o){var f=o(17),l=o(15),y=o(83),g=o(40),O=o(120),x=l([].join),w=y!=Object,j=O("join",",");f({target:"Array",proto:!0,forced:w||!j},{join:function(P){return x(g(this),P===void 0?",":P)}})},function(a,c){a.exports=function(o,f){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:f}}},function(a,c,o){var f,l,y=o(7),g=o(53),O=y.process,x=y.Deno,w=O&&O.versions||x&&x.version,j=w&&w.v8;j&&(l=(f=j.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!l&&g&&(!(f=g.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=g.match(/Chrome\/(\d+)/))&&(l=+f[1]),a.exports=l},function(a,c){a.exports=!1},function(a,c){a.exports={}},function(a,c,o){var f=o(133),l=o(110).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(y){return f(y,l)}},function(a,c,o){var f=o(70),l=Math.max,y=Math.min;a.exports=function(g,O){var x=f(g);return x<0?l(x+O,0):y(x,O)}},function(a,c){var o=Math.ceil,f=Math.floor;a.exports=function(l){var y=+l;return y!=y||y===0?0:(y>0?f:o)(y)}},function(a,c){var o=Function.prototype,f=o.apply,l=o.bind,y=o.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(l?y.bind(f):function(){return y.apply(f,arguments)})},function(a,c,o){var f=o(133),l=o(110);a.exports=Object.keys||function(y){return f(y,l)}},function(a,c,o){var f=o(37).f,l=o(35),y=o(27)("toStringTag");a.exports=function(g,O,x){g&&!l(g=x?g:g.prototype,y)&&f(g,y,{configurable:!0,value:O})}},function(a,c,o){var f=o(61),l=o(15),y=o(83),g=o(39),O=o(44),x=o(114),w=l([].push),j=function(P){var A=P==1,M=P==2,k=P==3,R=P==4,L=P==6,Y=P==7,Q=P==5||L;return function(K,V,Z,F){for(var I,B,G=g(K),X=y(G),re=f(V,Z),de=O(X),le=0,ve=F||x,Se=A?ve(K,de):M||Y?ve(K,0):void 0;de>le;le++)if((Q||le in X)&&(B=re(I=X[le],le,G),P))if(A)Se[le]=B;else if(B)switch(P){case 3:return!0;case 5:return I;case 6:return le;case 2:w(Se,I)}else switch(P){case 4:return!1;case 7:w(Se,I)}return L?-1:k||R?R:Se}};a.exports={forEach:j(0),map:j(1),filter:j(2),some:j(3),every:j(4),find:j(5),findIndex:j(6),filterReject:j(7)}},function(a,c){a.exports={}},function(a,c,o){var f=o(19),l=o(27),y=o(65),g=l("species");a.exports=function(O){return y>=51||!f(function(){var x=[];return(x.constructor={})[g]=function(){return{foo:1}},x[O](Boolean).foo!==1})}},function(a,c,o){var f=o(71),l=o(34),y=o(15),g=o(122),O=o(154),x=o(33),w=o(45),j=o(156),P=o(123),A=o(93),M=o(41),k=o(59),R=o(113),L=o(124),Y=o(102),Q=o(151),K=o(19),V=Q.UNSUPPORTED_Y,Z=4294967295,F=Math.min,I=[].push,B=y(/./.exec),G=y(I),X=y("".slice),re=!K(function(){var de=/(?:)/,le=de.exec;de.exec=function(){return le.apply(this,arguments)};var ve="ab".split(de);return ve.length!==2||ve[0]!=="a"||ve[1]!=="b"});g("split",function(de,le,ve){var Se;return Se="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(ge,se){var ye=M(w(this)),be=se===void 0?Z:se>>>0;if(be===0)return[];if(ge===void 0)return[ye];if(!O(ge))return l(le,ye,ge,be);for(var Pe,ze,Ze,Te=[],Re=(ge.ignoreCase?"i":"")+(ge.multiline?"m":"")+(ge.unicode?"u":"")+(ge.sticky?"y":""),Je=0,ee=new RegExp(ge.source,Re+"g");(Pe=l(Y,ee,ye))&&!((ze=ee.lastIndex)>Je&&(G(Te,X(ye,Je,Pe.index)),Pe.length>1&&Pe.index<ye.length&&f(I,Te,R(Pe,1)),Ze=Pe[0].length,Je=ze,Te.length>=be));)ee.lastIndex===Pe.index&&ee.lastIndex++;return Je===ye.length?!Ze&&B(ee,"")||G(Te,""):G(Te,X(ye,Je)),Te.length>be?R(Te,0,be):Te}:"0".split(void 0,0).length?function(ge,se){return ge===void 0&&se===0?[]:l(le,this,ge,se)}:le,[function(ge,se){var ye=w(this),be=ge==null?void 0:k(ge,de);return be?l(be,ge,ye,se):l(Se,M(ye),ge,se)},function(ge,se){var ye=x(this),be=M(ge),Pe=ve(Se,ye,be,se,Se!==le);if(Pe.done)return Pe.value;var ze=j(ye,RegExp),Ze=ye.unicode,Te=(ye.ignoreCase?"i":"")+(ye.multiline?"m":"")+(ye.unicode?"u":"")+(V?"g":"y"),Re=new ze(V?"^(?:"+ye.source+")":ye,Te),Je=se===void 0?Z:se>>>0;if(Je===0)return[];if(be.length===0)return L(Re,be)===null?[be]:[];for(var ee=0,J=0,ue=[];J<be.length;){Re.lastIndex=V?0:J;var we,Ae=L(Re,V?X(be,J):be);if(Ae===null||(we=F(A(Re.lastIndex+(V?J:0)),be.length))===ee)J=P(be,J,Ze);else{if(G(ue,X(be,ee,J)),ue.length===Je)return ue;for(var xe=1;xe<=Ae.length-1;xe++)if(G(ue,Ae[xe]),ue.length===Je)return ue;J=ee=we}}return G(ue,X(be,ee)),ue}]},!re,V)},function(a,c,o){var f=o(36),l=o(7),y=o(15),g=o(94),O=o(43),x=o(35),w=o(145),j=o(58),P=o(85),A=o(128),M=o(19),k=o(68).f,R=o(50).f,L=o(37).f,Y=o(197),Q=o(159).trim,K="Number",V=l.Number,Z=V.prototype,F=l.TypeError,I=y("".slice),B=y("".charCodeAt),G=function(Se){var ge=A(Se,"number");return typeof ge=="bigint"?ge:X(ge)},X=function(Se){var ge,se,ye,be,Pe,ze,Ze,Te,Re=A(Se,"number");if(P(Re))throw F("Cannot convert a Symbol value to a number");if(typeof Re=="string"&&Re.length>2){if(Re=Q(Re),(ge=B(Re,0))===43||ge===45){if((se=B(Re,2))===88||se===120)return NaN}else if(ge===48){switch(B(Re,1)){case 66:case 98:ye=2,be=49;break;case 79:case 111:ye=8,be=55;break;default:return+Re}for(ze=(Pe=I(Re,2)).length,Ze=0;Ze<ze;Ze++)if((Te=B(Pe,Ze))<48||Te>be)return NaN;return parseInt(Pe,ye)}}return+Re};if(g(K,!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var re,de=function(Se){var ge=arguments.length<1?0:V(G(Se)),se=this;return j(Z,se)&&M(function(){Y(se)})?w(Object(ge),se,de):ge},le=f?k(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ve=0;le.length>ve;ve++)x(V,re=le[ve])&&!x(de,re)&&L(de,re,R(V,re));de.prototype=Z,Z.constructor=de,O(l,K,de)}},function(a,c,o){o(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(a,c,o){var f=o(17),l=o(214),y=o(99);f({target:"Array",proto:!0},{fill:l}),y("fill")},function(a,c){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}a.exports=o},function(a,c,o){var f={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,y=l&&!f.call({1:2},1);c.f=y?function(g){var O=l(this,g);return!!O&&O.enumerable}:f},function(a,c,o){var f=o(7),l=o(15),y=o(19),g=o(51),O=f.Object,x=l("".split);a.exports=y(function(){return!O("z").propertyIsEnumerable(0)})?function(w){return g(w)=="String"?x(w,""):O(w)}:O},function(a,c,o){var f=o(128),l=o(85);a.exports=function(y){var g=f(y,"string");return l(g)?g:g+""}},function(a,c,o){var f=o(7),l=o(46),y=o(28),g=o(58),O=o(129),x=f.Object;a.exports=O?function(w){return typeof w=="symbol"}:function(w){var j=l("Symbol");return y(j)&&g(j.prototype,x(w))}},function(a,c,o){var f=o(7).String;a.exports=function(l){try{return f(l)}catch{return"Object"}}},function(a,c,o){var f=o(66),l=o(108);(a.exports=function(y,g){return l[y]||(l[y]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(a,c,o){var f=o(15),l=0,y=Math.random(),g=f(1 .toString);a.exports=function(O){return"Symbol("+(O===void 0?"":O)+")_"+g(++l+y,36)}},function(a,c,o){var f=o(7),l=o(32),y=f.document,g=l(y)&&l(y.createElement);a.exports=function(O){return g?y.createElement(O):{}}},function(a,c,o){var f=o(15),l=o(28),y=o(108),g=f(Function.toString);l(y.inspectSource)||(y.inspectSource=function(O){return g(O)}),a.exports=y.inspectSource},function(a,c,o){var f=o(87),l=o(88),y=f("keys");a.exports=function(g){return y[g]||(y[g]=l(g))}},function(a,c,o){var f=o(36),l=o(35),y=Function.prototype,g=f&&Object.getOwnPropertyDescriptor,O=l(y,"name"),x=O&&(function(){}).name==="something",w=O&&(!f||f&&g(y,"name").configurable);a.exports={EXISTS:O,PROPER:x,CONFIGURABLE:w}},function(a,c,o){var f=o(70),l=Math.min;a.exports=function(y){return y>0?l(f(y),9007199254740991):0}},function(a,c,o){var f=o(19),l=o(28),y=/#|\.prototype\./,g=function(P,A){var M=x[O(P)];return M==j||M!=w&&(l(A)?f(A):!!A)},O=g.normalize=function(P){return String(P).replace(y,".").toLowerCase()},x=g.data={},w=g.NATIVE="N",j=g.POLYFILL="P";a.exports=g},function(a,c,o){var f=o(51);a.exports=Array.isArray||function(l){return f(l)=="Array"}},function(a,c,o){var f=o(7),l=o(112),y=o(28),g=o(51),O=o(27)("toStringTag"),x=f.Object,w=g(function(){return arguments}())=="Arguments";a.exports=l?g:function(j){var P,A,M;return j===void 0?"Undefined":j===null?"Null":typeof(A=function(k,R){try{return k[R]}catch{}}(P=x(j),O))=="string"?A:w?g(P):(M=g(P))=="Object"&&y(P.callee)?"Arguments":M}},function(a,c,o){var f=o(15);a.exports=f([].slice)},function(a,c,o){var f=o(15),l=o(19),y=o(28),g=o(96),O=o(46),x=o(90),w=function(){},j=[],P=O("Reflect","construct"),A=/^\s*(?:class|function)\b/,M=f(A.exec),k=!A.exec(w),R=function(L){if(!y(L))return!1;try{return P(w,j,L),!0}catch{return!1}};a.exports=!P||l(function(){var L;return R(R.call)||!R(Object)||!R(function(){L=!0})||L})?function(L){if(!y(L))return!1;switch(g(L)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return k||!!M(A,x(L))}:R},function(a,c,o){var f=o(27),l=o(57),y=o(37),g=f("unscopables"),O=Array.prototype;O[g]==null&&y.f(O,g,{configurable:!0,value:l(null)}),a.exports=function(x){O[g][x]=!0}},function(a,c,o){var f=o(7),l=o(35),y=o(28),g=o(39),O=o(91),x=o(140),w=O("IE_PROTO"),j=f.Object,P=j.prototype;a.exports=x?j.getPrototypeOf:function(A){var M=g(A);if(l(M,w))return M[w];var k=M.constructor;return y(k)&&M instanceof k?k.prototype:M instanceof j?P:null}},function(a,c,o){var f=o(15),l=o(33),y=o(176);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,O=!1,x={};try{(g=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x,[]),O=x instanceof Array}catch{}return function(w,j){return l(w),y(j),O?g(w,j):w.__proto__=j,w}}():void 0)},function(a,c,o){var f,l,y=o(34),g=o(15),O=o(41),x=o(185),w=o(151),j=o(87),P=o(57),A=o(56).get,M=o(186),k=o(187),R=j("native-string-replace",String.prototype.replace),L=RegExp.prototype.exec,Y=L,Q=g("".charAt),K=g("".indexOf),V=g("".replace),Z=g("".slice),F=(l=/b*/g,y(L,f=/a/,"a"),y(L,l,"a"),f.lastIndex!==0||l.lastIndex!==0),I=w.BROKEN_CARET,B=/()??/.exec("")[1]!==void 0;(F||B||I||M||k)&&(Y=function(G){var X,re,de,le,ve,Se,ge,se=this,ye=A(se),be=O(G),Pe=ye.raw;if(Pe)return Pe.lastIndex=se.lastIndex,X=y(Y,Pe,be),se.lastIndex=Pe.lastIndex,X;var ze=ye.groups,Ze=I&&se.sticky,Te=y(x,se),Re=se.source,Je=0,ee=be;if(Ze&&(Te=V(Te,"y",""),K(Te,"g")===-1&&(Te+="g"),ee=Z(be,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&Q(be,se.lastIndex-1)!==`
`)&&(Re="(?: "+Re+")",ee=" "+ee,Je++),re=new RegExp("^(?:"+Re+")",Te)),B&&(re=new RegExp("^"+Re+"$(?!\\s)",Te)),F&&(de=se.lastIndex),le=y(L,Ze?re:se,ee),Ze?le?(le.input=Z(le.input,Je),le[0]=Z(le[0],Je),le.index=se.lastIndex,se.lastIndex+=le[0].length):se.lastIndex=0:F&&le&&(se.lastIndex=se.global?le.index+le[0].length:de),B&&le&&le.length>1&&y(R,le[0],re,function(){for(ve=1;ve<arguments.length-2;ve++)arguments[ve]===void 0&&(le[ve]=void 0)}),le&&ze)for(le.groups=Se=P(null),ve=0;ve<ze.length;ve++)Se[(ge=ze[ve])[0]]=le[ge[1]];return le}),a.exports=Y},function(a,c,o){var f=o(17),l=o(7),y=o(69),g=o(70),O=o(44),x=o(39),w=o(114),j=o(60),P=o(76)("splice"),A=l.TypeError,M=Math.max,k=Math.min,R=9007199254740991,L="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!P},{splice:function(Y,Q){var K,V,Z,F,I,B,G=x(this),X=O(G),re=y(Y,X),de=arguments.length;if(de===0?K=V=0:de===1?(K=0,V=X-re):(K=de-2,V=k(M(g(Q),0),X-re)),X+K-V>R)throw A(L);for(Z=w(G,V),F=0;F<V;F++)(I=re+F)in G&&j(Z,F,G[I]);if(Z.length=V,K<V){for(F=re;F<X-V;F++)B=F+K,(I=F+V)in G?G[B]=G[I]:delete G[B];for(F=X;F>X-V+K;F--)delete G[F-1]}else if(K>V)for(F=X-V;F>re;F--)B=F+K-1,(I=F+V-1)in G?G[B]=G[I]:delete G[B];for(F=0;F<K;F++)G[F+re]=arguments[F+2];return G.length=X-V+K,Z}})},function(a,c,o){var f=o(17),l=o(202);f({target:"String",proto:!0,forced:o(203)("anchor")},{anchor:function(y){return l(this,"a","name",y)}})},function(a,c,o){(function(f){var l=typeof f=="object"&&f&&f.Object===Object&&f;c.a=l}).call(this,o(81))},function(a,c,o){(function(f){var l=o(31),y=p&&!p.nodeType&&p,g=y&&typeof f=="object"&&f&&!f.nodeType&&f,O=g&&g.exports===y?l.a.Buffer:void 0,x=O?O.allocUnsafe:void 0;c.a=function(w,j){if(j)return w.slice();var P=w.length,A=x?x(P):new w.constructor(P);return w.copy(A),A}}).call(this,o(121)(a))},function(a,c,o){var f=o(65),l=o(19);a.exports=!!Object.getOwnPropertySymbols&&!l(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(a,c,o){var f=o(7),l=o(109),y="__core-js_shared__",g=f[y]||l(y,{});a.exports=g},function(a,c,o){var f=o(7),l=Object.defineProperty;a.exports=function(y,g){try{l(f,y,{value:g,configurable:!0,writable:!0})}catch{f[y]=g}return g}},function(a,c){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(a,c){c.f=Object.getOwnPropertySymbols},function(a,c,o){var f={};f[o(27)("toStringTag")]="z",a.exports=String(f)==="[object z]"},function(a,c,o){var f=o(7),l=o(69),y=o(44),g=o(60),O=f.Array,x=Math.max;a.exports=function(w,j,P){for(var A=y(w),M=l(j,A),k=l(P===void 0?A:P,A),R=O(x(k-M,0)),L=0;M<k;M++,L++)g(R,L,w[M]);return R.length=L,R}},function(a,c,o){var f=o(173);a.exports=function(l,y){return new(f(l))(y===0?0:y)}},function(a,c,o){var f=o(17),l=o(34),y=o(66),g=o(92),O=o(28),x=o(175),w=o(100),j=o(101),P=o(73),A=o(55),M=o(43),k=o(27),R=o(75),L=o(139),Y=g.PROPER,Q=g.CONFIGURABLE,K=L.IteratorPrototype,V=L.BUGGY_SAFARI_ITERATORS,Z=k("iterator"),F="keys",I="values",B="entries",G=function(){return this};a.exports=function(X,re,de,le,ve,Se,ge){x(de,re,le);var se,ye,be,Pe=function(J){if(J===ve&&Je)return Je;if(!V&&J in Te)return Te[J];switch(J){case F:case I:case B:return function(){return new de(this,J)}}return function(){return new de(this)}},ze=re+" Iterator",Ze=!1,Te=X.prototype,Re=Te[Z]||Te["@@iterator"]||ve&&Te[ve],Je=!V&&Re||Pe(ve),ee=re=="Array"&&Te.entries||Re;if(ee&&(se=w(ee.call(new X)))!==Object.prototype&&se.next&&(y||w(se)===K||(j?j(se,K):O(se[Z])||M(se,Z,G)),P(se,ze,!0,!0),y&&(R[ze]=G)),Y&&ve==I&&Re&&Re.name!==I&&(!y&&Q?A(Te,"name",I):(Ze=!0,Je=function(){return l(Re,this)})),ve)if(ye={values:Pe(I),keys:Se?Je:Pe(F),entries:Pe(B)},ge)for(be in ye)(V||Ze||!(be in Te))&&M(Te,be,ye[be]);else f({target:re,proto:!0,forced:V||Ze},ye);return y&&!ge||Te[Z]===Je||M(Te,Z,Je,{name:ve}),R[re]=Je,ye}},function(a,c,o){var f=o(7),l=o(61),y=o(34),g=o(33),O=o(86),x=o(142),w=o(44),j=o(58),P=o(143),A=o(117),M=o(144),k=f.TypeError,R=function(Y,Q){this.stopped=Y,this.result=Q},L=R.prototype;a.exports=function(Y,Q,K){var V,Z,F,I,B,G,X,re=K&&K.that,de=!(!K||!K.AS_ENTRIES),le=!(!K||!K.IS_ITERATOR),ve=!(!K||!K.INTERRUPTED),Se=l(Q,re),ge=function(ye){return V&&M(V,"normal",ye),new R(!0,ye)},se=function(ye){return de?(g(ye),ve?Se(ye[0],ye[1],ge):Se(ye[0],ye[1])):ve?Se(ye,ge):Se(ye)};if(le)V=Y;else{if(!(Z=A(Y)))throw k(O(Y)+" is not iterable");if(x(Z)){for(F=0,I=w(Y);I>F;F++)if((B=se(Y[F]))&&j(L,B))return B;return new R(!1)}V=P(Y,Z)}for(G=V.next;!(X=y(G,V)).done;){try{B=se(X.value)}catch(ye){M(V,"throw",ye)}if(typeof B=="object"&&B&&j(L,B))return B}return new R(!1)}},function(a,c,o){var f=o(96),l=o(59),y=o(75),g=o(27)("iterator");a.exports=function(O){if(O!=null)return l(O,g)||l(O,"@@iterator")||y[f(O)]}},function(a,c,o){var f=o(7),l=o(58),y=f.TypeError;a.exports=function(g,O){if(l(O,g))return g;throw y("Incorrect invocation")}},function(a,c,o){var f=o(27)("iterator"),l=!1;try{var y=0,g={next:function(){return{done:!!y++}},return:function(){l=!0}};g[f]=function(){return this},Array.from(g,function(){throw 2})}catch{}a.exports=function(O,x){if(!x&&!l)return!1;var w=!1;try{var j={};j[f]=function(){return{next:function(){return{done:w=!0}}}},O(j)}catch{}return w}},function(a,c,o){var f=o(19);a.exports=function(l,y){var g=[][l];return!!g&&f(function(){g.call(null,y||function(){throw 1},1)})}},function(a,c){a.exports=function(o){if(!o.webpackPolyfill){var f=Object.create(o);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(a,c,o){o(18);var f=o(15),l=o(43),y=o(102),g=o(19),O=o(27),x=o(55),w=O("species"),j=RegExp.prototype;a.exports=function(P,A,M,k){var R=O(P),L=!g(function(){var V={};return V[R]=function(){return 7},""[P](V)!=7}),Y=L&&!g(function(){var V=!1,Z=/a/;return P==="split"&&((Z={}).constructor={},Z.constructor[w]=function(){return Z},Z.flags="",Z[R]=/./[R]),Z.exec=function(){return V=!0,null},Z[R](""),!V});if(!L||!Y||M){var Q=f(/./[R]),K=A(R,""[P],function(V,Z,F,I,B){var G=f(V),X=Z.exec;return X===y||X===j.exec?L&&!B?{done:!0,value:Q(Z,F,I)}:{done:!0,value:G(F,Z,I)}:{done:!1}});l(String.prototype,P,K[0]),l(j,R,K[1])}k&&x(j[R],"sham",!0)}},function(a,c,o){var f=o(148).charAt;a.exports=function(l,y,g){return y+(g?f(l,y).length:1)}},function(a,c,o){var f=o(7),l=o(34),y=o(33),g=o(28),O=o(51),x=o(102),w=f.TypeError;a.exports=function(j,P){var A=j.exec;if(g(A)){var M=l(A,j,P);return M!==null&&y(M),M}if(O(j)==="RegExp")return l(x,j,P);throw w("RegExp#exec called on incompatible receiver")}},function(a,c,o){var f=o(71),l=o(34),y=o(15),g=o(122),O=o(19),x=o(33),w=o(28),j=o(70),P=o(93),A=o(41),M=o(45),k=o(123),R=o(59),L=o(198),Y=o(124),Q=o(27)("replace"),K=Math.max,V=Math.min,Z=y([].concat),F=y([].push),I=y("".indexOf),B=y("".slice),G="a".replace(/./,"$0")==="$0",X=!!/./[Q]&&/./[Q]("a","$0")==="";g("replace",function(re,de,le){var ve=X?"$":"$0";return[function(Se,ge){var se=M(this),ye=Se==null?void 0:R(Se,Q);return ye?l(ye,Se,se,ge):l(de,A(se),Se,ge)},function(Se,ge){var se=x(this),ye=A(Se);if(typeof ge=="string"&&I(ge,ve)===-1&&I(ge,"$<")===-1){var be=le(de,se,ye,ge);if(be.done)return be.value}var Pe=w(ge);Pe||(ge=A(ge));var ze=se.global;if(ze){var Ze=se.unicode;se.lastIndex=0}for(var Te=[];;){var Re=Y(se,ye);if(Re===null||(F(Te,Re),!ze))break;A(Re[0])===""&&(se.lastIndex=k(ye,P(se.lastIndex),Ze))}for(var Je,ee="",J=0,ue=0;ue<Te.length;ue++){for(var we=A((Re=Te[ue])[0]),Ae=K(V(j(Re.index),ye.length),0),xe=[],Qe=1;Qe<Re.length;Qe++)F(xe,(Je=Re[Qe])===void 0?Je:String(Je));var it=Re.groups;if(Pe){var tt=Z([we],xe,Ae,ye);it!==void 0&&F(tt,it);var $e=A(f(ge,void 0,tt))}else $e=L(we,ye,Ae,xe,it,ge);Ae>=J&&(ee+=B(ye,J,Ae)+$e,J=Ae+we.length)}return ee+B(ye,J)}]},!!O(function(){var re=/./;return re.exec=function(){var de=[];return de.groups={a:"7"},de},"".replace(re,"$<a>")!=="7"})||!G||X)},function(a,c,o){var f=o(51),l=o(7);a.exports=f(l.process)=="process"},function(a,c,o){o(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(a,c,o){var f=o(7),l=o(34),y=o(32),g=o(85),O=o(59),x=o(169),w=o(27),j=f.TypeError,P=w("toPrimitive");a.exports=function(A,M){if(!y(A)||g(A))return A;var k,R=O(A,P);if(R){if(M===void 0&&(M="default"),k=l(R,A,M),!y(k)||g(k))return k;throw j("Can't convert object to primitive value")}return M===void 0&&(M="number"),x(A,M)}},function(a,c,o){var f=o(107);a.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(a,c,o){var f=o(36),l=o(19),y=o(89);a.exports=!f&&!l(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(a,c,o){var f=o(35),l=o(132),y=o(50),g=o(37);a.exports=function(O,x){for(var w=l(x),j=g.f,P=y.f,A=0;A<w.length;A++){var M=w[A];f(O,M)||j(O,M,P(x,M))}}},function(a,c,o){var f=o(46),l=o(15),y=o(68),g=o(111),O=o(33),x=l([].concat);a.exports=f("Reflect","ownKeys")||function(w){var j=y.f(O(w)),P=g.f;return P?x(j,P(w)):j}},function(a,c,o){var f=o(15),l=o(35),y=o(40),g=o(134).indexOf,O=o(67),x=f([].push);a.exports=function(w,j){var P,A=y(w),M=0,k=[];for(P in A)!l(O,P)&&l(A,P)&&x(k,P);for(;j.length>M;)l(A,P=j[M++])&&(~g(k,P)||x(k,P));return k}},function(a,c,o){var f=o(40),l=o(69),y=o(44),g=function(O){return function(x,w,j){var P,A=f(x),M=y(A),k=l(j,M);if(O&&w!=w){for(;M>k;)if((P=A[k++])!=P)return!0}else for(;M>k;k++)if((O||k in A)&&A[k]===w)return O||k||0;return!O&&-1}};a.exports={includes:g(!0),indexOf:g(!1)}},function(a,c,o){var f=o(46);a.exports=f("document","documentElement")},function(a,c,o){var f=o(51),l=o(40),y=o(68).f,g=o(113),O=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(x){return O&&f(x)=="Window"?function(w){try{return y(w)}catch{return g(O)}}(x):y(l(x))}},function(a,c,o){var f=o(27);c.f=f},function(a,c,o){var f=o(172),l=o(35),y=o(137),g=o(37).f;a.exports=function(O){var x=f.Symbol||(f.Symbol={});l(x,O)||g(x,O,{value:y.f(O)})}},function(a,c,o){var f,l,y,g=o(19),O=o(28),x=o(57),w=o(100),j=o(43),P=o(27),A=o(66),M=P("iterator"),k=!1;[].keys&&("next"in(y=[].keys())?(l=w(w(y)))!==Object.prototype&&(f=l):k=!0),f==null||g(function(){var R={};return f[M].call(R)!==R})?f={}:A&&(f=x(f)),O(f[M])||j(f,M,function(){return this}),a.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:k}},function(a,c,o){var f=o(19);a.exports=!f(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},function(a,c,o){var f=o(17),l=o(15),y=o(67),g=o(32),O=o(35),x=o(37).f,w=o(68),j=o(136),P=o(178),A=o(88),M=o(180),k=!1,R=A("meta"),L=0,Y=function(K){x(K,R,{value:{objectID:"O"+L++,weakData:{}}})},Q=a.exports={enable:function(){Q.enable=function(){},k=!0;var K=w.f,V=l([].splice),Z={};Z[R]=1,K(Z).length&&(w.f=function(F){for(var I=K(F),B=0,G=I.length;B<G;B++)if(I[B]===R){V(I,B,1);break}return I},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:j.f}))},fastKey:function(K,V){if(!g(K))return typeof K=="symbol"?K:(typeof K=="string"?"S":"P")+K;if(!O(K,R)){if(!P(K))return"F";if(!V)return"E";Y(K)}return K[R].objectID},getWeakData:function(K,V){if(!O(K,R)){if(!P(K))return!0;if(!V)return!1;Y(K)}return K[R].weakData},onFreeze:function(K){return M&&k&&P(K)&&!O(K,R)&&Y(K),K}};y[R]=!0},function(a,c,o){var f=o(27),l=o(75),y=f("iterator"),g=Array.prototype;a.exports=function(O){return O!==void 0&&(l.Array===O||g[y]===O)}},function(a,c,o){var f=o(7),l=o(34),y=o(54),g=o(33),O=o(86),x=o(117),w=f.TypeError;a.exports=function(j,P){var A=arguments.length<2?x(j):P;if(y(A))return g(l(A,j));throw w(O(j)+" is not iterable")}},function(a,c,o){var f=o(34),l=o(33),y=o(59);a.exports=function(g,O,x){var w,j;l(g);try{if(!(w=y(g,"return"))){if(O==="throw")throw x;return x}w=f(w,g)}catch(P){j=!0,w=P}if(O==="throw")throw x;if(j)throw w;return l(w),x}},function(a,c,o){var f=o(28),l=o(32),y=o(101);a.exports=function(g,O,x){var w,j;return y&&f(w=O.constructor)&&w!==x&&l(j=w.prototype)&&j!==x.prototype&&y(g,j),g}},function(a,c,o){var f=o(43);a.exports=function(l,y,g){for(var O in y)f(l,O,y[O],g);return l}},function(a,c,o){var f=o(46),l=o(37),y=o(27),g=o(36),O=y("species");a.exports=function(x){var w=f(x),j=l.f;g&&w&&!w[O]&&j(w,O,{configurable:!0,get:function(){return this}})}},function(a,c,o){var f=o(15),l=o(70),y=o(41),g=o(45),O=f("".charAt),x=f("".charCodeAt),w=f("".slice),j=function(P){return function(A,M){var k,R,L=y(g(A)),Y=l(M),Q=L.length;return Y<0||Y>=Q?P?"":void 0:(k=x(L,Y))<55296||k>56319||Y+1===Q||(R=x(L,Y+1))<56320||R>57343?P?O(L,Y):k:P?w(L,Y,Y+2):R-56320+(k-55296<<10)+65536}};a.exports={codeAt:j(!1),charAt:j(!0)}},function(a,c){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(a,c,o){var f=o(89)("span").classList,l=f&&f.constructor&&f.constructor.prototype;a.exports=l===Object.prototype?void 0:l},function(a,c,o){var f=o(19),l=o(7).RegExp,y=f(function(){var x=l("a","y");return x.lastIndex=2,x.exec("abcd")!=null}),g=y||f(function(){return!l("a","y").sticky}),O=y||f(function(){var x=l("^r","gy");return x.lastIndex=2,x.exec("str")!=null});a.exports={BROKEN_CARET:O,MISSED_STICKY:g,UNSUPPORTED_Y:y}},function(a,c,o){var f=o(17),l=o(134).includes,y=o(99);f({target:"Array",proto:!0},{includes:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(a,c,o){var f=o(17),l=o(15),y=o(194),g=o(45),O=o(41),x=o(195),w=l("".indexOf);f({target:"String",proto:!0,forced:!x("includes")},{includes:function(j){return!!~w(O(g(this)),O(y(j)),arguments.length>1?arguments[1]:void 0)}})},function(a,c,o){var f=o(32),l=o(51),y=o(27)("match");a.exports=function(g){var O;return f(g)&&((O=g[y])!==void 0?!!O:l(g)=="RegExp")}},function(a,c){var o,f,l=a.exports={};function y(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function O(L){if(o===setTimeout)return setTimeout(L,0);if((o===y||!o)&&setTimeout)return o=setTimeout,setTimeout(L,0);try{return o(L,0)}catch{try{return o.call(null,L,0)}catch{return o.call(this,L,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:y}catch{o=y}try{f=typeof clearTimeout=="function"?clearTimeout:g}catch{f=g}})();var x,w=[],j=!1,P=-1;function A(){j&&x&&(j=!1,x.length?w=x.concat(w):P=-1,w.length&&M())}function M(){if(!j){var L=O(A);j=!0;for(var Y=w.length;Y;){for(x=w,w=[];++P<Y;)x&&x[P].run();P=-1,Y=w.length}x=null,j=!1,function(Q){if(f===clearTimeout)return clearTimeout(Q);if((f===g||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(Q);try{f(Q)}catch{try{return f.call(null,Q)}catch{return f.call(this,Q)}}}(L)}}function k(L,Y){this.fun=L,this.array=Y}function R(){}l.nextTick=function(L){var Y=new Array(arguments.length-1);if(arguments.length>1)for(var Q=1;Q<arguments.length;Q++)Y[Q-1]=arguments[Q];w.push(new k(L,Y)),w.length!==1||j||O(M)},k.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=R,l.addListener=R,l.once=R,l.off=R,l.removeListener=R,l.removeAllListeners=R,l.emit=R,l.prependListener=R,l.prependOnceListener=R,l.listeners=function(L){return[]},l.binding=function(L){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(L){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(a,c,o){var f=o(33),l=o(157),y=o(27)("species");a.exports=function(g,O){var x,w=f(g).constructor;return w===void 0||(x=f(w)[y])==null?O:l(x)}},function(a,c,o){var f=o(7),l=o(98),y=o(86),g=f.TypeError;a.exports=function(O){if(l(O))return O;throw g(y(O)+" is not a constructor")}},function(a,c,o){var f=o(17),l=o(159).trim;f({target:"String",proto:!0,forced:o(196)("trim")},{trim:function(){return l(this)}})},function(a,c,o){var f=o(15),l=o(45),y=o(41),g=o(160),O=f("".replace),x="["+g+"]",w=RegExp("^"+x+x+"*"),j=RegExp(x+x+"*$"),P=function(A){return function(M){var k=y(l(M));return 1&A&&(k=O(k,w,"")),2&A&&(k=O(k,j,"")),k}};a.exports={start:P(1),end:P(2),trim:P(3)}},function(a,c){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(a,c,o){var f=o(34),l=o(122),y=o(33),g=o(93),O=o(41),x=o(45),w=o(59),j=o(123),P=o(124);l("match",function(A,M,k){return[function(R){var L=x(this),Y=R==null?void 0:w(R,A);return Y?f(Y,R,L):new RegExp(R)[A](O(L))},function(R){var L=y(this),Y=O(R),Q=k(M,L,Y);if(Q.done)return Q.value;if(!L.global)return P(L,Y);var K=L.unicode;L.lastIndex=0;for(var V,Z=[],F=0;(V=P(L,Y))!==null;){var I=O(V[0]);Z[F]=I,I===""&&(L.lastIndex=j(Y,g(L.lastIndex),K)),F++}return F===0?null:Z}]})},function(a,c,o){var f=o(17),l=Math.hypot,y=Math.abs,g=Math.sqrt;f({target:"Math",stat:!0,forced:!!l&&l(1/0,NaN)!==1/0},{hypot:function(O,x){for(var w,j,P=0,A=0,M=arguments.length,k=0;A<M;)k<(w=y(arguments[A++]))?(P=P*(j=k/w)*j+1,k=w):P+=w>0?(j=w/k)*j:w;return k===1/0?1/0:k*g(P)}})},function(a,c,o){var f,l,y,g,O=o(7),x=o(71),w=o(61),j=o(28),P=o(35),A=o(19),M=o(135),k=o(97),R=o(89),L=o(164),Y=o(126),Q=O.setImmediate,K=O.clearImmediate,V=O.process,Z=O.Dispatch,F=O.Function,I=O.MessageChannel,B=O.String,G=0,X={},re="onreadystatechange";try{f=O.location}catch{}var de=function(ge){if(P(X,ge)){var se=X[ge];delete X[ge],se()}},le=function(ge){return function(){de(ge)}},ve=function(ge){de(ge.data)},Se=function(ge){O.postMessage(B(ge),f.protocol+"//"+f.host)};Q&&K||(Q=function(ge){var se=k(arguments,1);return X[++G]=function(){x(j(ge)?ge:F(ge),void 0,se)},l(G),G},K=function(ge){delete X[ge]},Y?l=function(ge){V.nextTick(le(ge))}:Z&&Z.now?l=function(ge){Z.now(le(ge))}:I&&!L?(g=(y=new I).port2,y.port1.onmessage=ve,l=w(g.postMessage,g)):O.addEventListener&&j(O.postMessage)&&!O.importScripts&&f&&f.protocol!=="file:"&&!A(Se)?(l=Se,O.addEventListener("message",ve,!1)):l=re in R("script")?function(ge){M.appendChild(R("script")).onreadystatechange=function(){M.removeChild(this),de(ge)}}:function(ge){setTimeout(le(ge),0)}),a.exports={set:Q,clear:K}},function(a,c,o){var f=o(53);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(a,c,o){var f=o(54),l=function(y){var g,O;this.promise=new y(function(x,w){if(g!==void 0||O!==void 0)throw TypeError("Bad Promise constructor");g=x,O=w}),this.resolve=f(g),this.reject=f(O)};a.exports.f=function(y){return new l(y)}},function(a,c,o){c.a=function(){return!1}},function(a,c,o){(function(f){o.d(c,"a",function(){return V});var l=o(1);function y(I){throw new Error("[mobx-utils] "+I)}function g(I,B){B===void 0&&(B="Illegal state"),I||y(B)}var O=function(I){return I&&I!==Object.prototype&&Object.getOwnPropertyNames(I).concat(O(Object.getPrototypeOf(I))||[])},x=function(I){return function(B){var G=O(B);return G.filter(function(X,re){return G.indexOf(X)===re})}(I).filter(function(B){return B!=="constructor"&&!~B.indexOf("__")})},w="pending",j="fulfilled",P="rejected";function A(I){switch(this.state){case w:return I.pending&&I.pending(this.value);case P:return I.rejected&&I.rejected(this.value);case j:return I.fulfilled?I.fulfilled(this.value):this.value}}function M(I,B){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof I=="function"||typeof I=="object"&&I&&typeof I.then=="function","Please pass a promise or function to fromPromise"),I.isPromiseBasedObservable===!0)return I;typeof I=="function"&&(I=new Promise(I));var G=I;I.then(Object(l.k)("observableFromPromise-resolve",function(re){G.value=re,G.state=j}),Object(l.k)("observableFromPromise-reject",function(re){G.value=re,G.state=P})),G.isPromiseBasedObservable=!0,G.case=A;var X=B&&B.state===j?B.value:void 0;return Object(l.q)(G,{value:X,state:w},{},{deep:!1}),G}(function(I){I.reject=Object(l.k)("fromPromise.reject",function(B){var G=I(Promise.reject(B));return G.state=P,G.value=B,G}),I.resolve=Object(l.k)("fromPromise.resolve",function(B){B===void 0&&(B=void 0);var G=I(Promise.resolve(B));return G.state=j,G.value=B,G})})(M||(M={}));var k=function(I,B,G,X){var re,de=arguments.length,le=de<3?B:X===null?X=Object.getOwnPropertyDescriptor(B,G):X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(I,B,G,X);else for(var ve=I.length-1;ve>=0;ve--)(re=I[ve])&&(le=(de<3?re(le):de>3?re(B,G,le):re(B,G))||le);return de>3&&le&&Object.defineProperty(B,G,le),le};(function(){function I(B,G){var X=this;Object(l.G)(function(){X.current=G,X.subscription=B.subscribe(X)})}I.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},I.prototype.next=function(B){this.current=B},I.prototype.complete=function(){this.dispose()},I.prototype.error=function(B){this.current=B,this.dispose()},k([l.C.ref],I.prototype,"current",void 0),k([l.k.bound],I.prototype,"next",null),k([l.k.bound],I.prototype,"complete",null),k([l.k.bound],I.prototype,"error",null)})();var R=function(){return R=Object.assign||function(I){for(var B,G=1,X=arguments.length;G<X;G++)for(var re in B=arguments[G])Object.prototype.hasOwnProperty.call(B,re)&&(I[re]=B[re]);return I},R.apply(this,arguments)},L=function(I,B,G,X){var re,de=arguments.length,le=de<3?B:X===null?X=Object.getOwnPropertyDescriptor(B,G):X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(I,B,G,X);else for(var ve=I.length-1;ve>=0;ve--)(re=I[ve])&&(le=(de<3?re(le):de>3?re(B,G,le):re(B,G))||le);return de>3&&le&&Object.defineProperty(B,G,le),le},Y=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function I(B){var G=this;this.model=B,this.localValues=l.C.map({}),this.localComputedValues=l.C.map({}),this.isPropertyDirty=function(X){return G.localValues.has(X)},g(Object(l.A)(B),"createViewModel expects an observable object"),x(B).forEach(function(X){if(X!==l.a&&X!=="__mobxDidRunLazyInitializers"){if(g(Y.indexOf(X)===-1,"The propertyname "+X+" is reserved and cannot be used with viewModels"),Object(l.w)(B,X)){var re=Object(l.h)(B,X).derivation;G.localComputedValues.set(X,Object(l.m)(re.bind(G)))}var de=Object.getOwnPropertyDescriptor(B,X),le=de?{enumerable:de.enumerable}:{};Object.defineProperty(G,X,R(R({},le),{configurable:!0,get:function(){return Object(l.w)(B,X)?G.localComputedValues.get(X).get():G.isPropertyDirty(X)?G.localValues.get(X):G.model[X]},set:Object(l.k)(function(ve){ve!==G.model[X]?G.localValues.set(X,ve):G.localValues.delete(X)})}))}})}Object.defineProperty(I.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),I.prototype.submit=function(){var B=this;Object(l.B)(this.localValues).forEach(function(G){var X=B.localValues.get(G),re=B.model[G];Object(l.y)(re)?re.replace(X):Object(l.z)(re)?(re.clear(),re.merge(X)):Object(l.v)(X)||(B.model[G]=X)}),this.localValues.clear()},I.prototype.reset=function(){this.localValues.clear()},I.prototype.resetProperty=function(B){this.localValues.delete(B)},L([l.m],I.prototype,"isDirty",null),L([l.m],I.prototype,"changedValues",null),L([l.k.bound],I.prototype,"submit",null),L([l.k.bound],I.prototype,"reset",null),L([l.k.bound],I.prototype,"resetProperty",null)})();function Q(I){if(!I)return"ROOT";for(var B=[];I.parent;)B.push(I.path),I=I.parent;return B.reverse().join("/")}function K(I){return Object(l.A)(I)||Object(l.y)(I)||Object(l.z)(I)}function V(I,B){var G=new WeakMap;function X(le){var ve=G.get(le.object);(function(Se,ge){switch(Se.type){case"add":re(Se.newValue,ge,Se.name);break;case"update":de(Se.oldValue),re(Se.newValue,ge,Se.name||""+Se.index);break;case"remove":case"delete":de(Se.oldValue);break;case"splice":Se.removed.map(de),Se.added.forEach(function(be,Pe){return re(be,ge,""+(Se.index+Pe))});for(var se=Se.index+Se.addedCount;se<Se.object.length;se++)if(K(Se.object[se])){var ye=G.get(Se.object[se]);ye&&(ye.path=""+se)}}})(le,ve),B(le,Q(ve),I)}function re(le,ve,Se){if(K(le)){var ge=G.get(le);if(ge){if(ge.parent!==ve||ge.path!==Se)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+Q(ve)+"/"+Se+"', but it already exists at '"+Q(ge.parent)+"/"+ge.path+"'")}else{var se={parent:ve,path:Se,dispose:Object(l.D)(le,X)};G.set(le,se),Object(l.p)(le).forEach(function(ye){var be=ye[0];return re(ye[1],se,be)})}}}function de(le){if(K(le)){var ve=G.get(le);if(!ve)return;G.delete(le),ve.dispose(),Object(l.L)(le).forEach(de)}}return re(I,void 0,""),function(){de(I)}}var Z,F=(Z=function(I,B){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,X){G.__proto__=X}||function(G,X){for(var re in X)X.hasOwnProperty(re)&&(G[re]=X[re])},Z(I,B)},function(I,B){function G(){this.constructor=I}Z(I,B),I.prototype=B===null?Object.create(B):(G.prototype=B.prototype,new G)});(function(I){function B(G,X,re){var de=re===void 0?{}:re,le=de.name,ve=le===void 0?"ogm"+(1e3*Math.random()|0):le,Se=de.keyToName,ge=Se===void 0?function(be){return""+be}:Se,se=I.call(this)||this;se._keyToName=ge,se._groupBy=X,se._ogmInfoKey=Symbol("ogmInfo"+ve),se._base=G;for(var ye=0;ye<G.length;ye++)se._addItem(G[ye]);return se._disposeBaseObserver=Object(l.D)(se._base,function(be){if(be.type==="splice")Object(l.J)(function(){for(var Pe=0,ze=be.removed;Pe<ze.length;Pe++){var Ze=ze[Pe];se._removeItem(Ze)}for(var Te=0,Re=be.added;Te<Re.length;Te++){var Je=Re[Te];se._addItem(Je)}});else{if(be.type!=="update")throw new Error("illegal state");Object(l.J)(function(){se._removeItem(be.oldValue),se._addItem(be.newValue)})}}),se}F(B,I),B.prototype.clear=function(){throw new Error("not supported")},B.prototype.delete=function(G){throw new Error("not supported")},B.prototype.set=function(G,X){throw new Error("not supported")},B.prototype.dispose=function(){this._disposeBaseObserver();for(var G=0;G<this._base.length;G++){var X=this._base[G];X[this._ogmInfoKey].reaction(),delete X[this._ogmInfoKey]}},B.prototype._getGroupArr=function(G){var X=I.prototype.get.call(this,G);return X===void 0&&(X=Object(l.C)([],{name:"GroupArray["+this._keyToName(G)+"]",deep:!1}),I.prototype.set.call(this,G,X)),X},B.prototype._removeFromGroupArr=function(G,X){var re=I.prototype.get.call(this,G);re.length===1?I.prototype.delete.call(this,G):(X===re.length-1||(re[X]=re[re.length-1],re[X][this._ogmInfoKey].groupArrIndex=X),re.length--)},B.prototype._addItem=function(G){var X=this,re=this._groupBy(G),de=this._getGroupArr(re),le={groupByValue:re,groupArrIndex:de.length,reaction:Object(l.F)(function(){return X._groupBy(G)},function(ve,Se){var ge=G[X._ogmInfoKey];X._removeFromGroupArr(ge.groupByValue,ge.groupArrIndex);var se=X._getGroupArr(ve),ye=se.length;se.push(G),ge.groupByValue=ve,ge.groupArrIndex=ye})};Object.defineProperty(G,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:le}),de.push(G)},B.prototype._removeItem=function(G){var X=G[this._ogmInfoKey];this._removeFromGroupArr(X.groupByValue,X.groupArrIndex),X.reaction(),delete G[this._ogmInfoKey]}})(l.b),function(){function I(B,G){this.base=B,this.args=G,this.closestIdx=0,this.isDisposed=!1;for(var X=this.closest=this.root=B,re=0;re<this.args.length-1&&(X=X.get(G[re]));re++)this.closest=X;this.closestIdx=re}return I.prototype.exists=function(){this.assertNotDisposed();var B=this.args.length;return this.closestIdx>=B-1&&this.closest.has(this.args[B-1])},I.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},I.prototype.set=function(B){this.assertNotDisposed();for(var G=this.args.length,X=this.closest,re=this.closestIdx;re<G-1;re++){var de=new Map;X.set(this.args[re],de),X=de}this.closestIdx=G-1,this.closest=X,X.set(this.args[G-1],B)},I.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var B=this.args.length;this.closest.delete(this.args[B-1]);for(var G=this.root,X=[G],re=0;re<B-1;re++)G=G.get(this.args[re]),X.push(G);for(re=X.length-1;re>0;re--)X[re].size===0&&X[re-1].delete(this.args[re-1]);this.isDisposed=!0},I.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},I}(),Promise.resolve(),typeof queueMicrotask<"u"||f!==void 0&&f.nextTick}).call(this,o(155))},function(a,c,o){var f;(function(l,y,g){if(l){for(var O,x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A=1;A<20;++A)x[111+A]="f"+A;for(A=0;A<=9;++A)x[A+96]=A.toString();K.prototype.bind=function(V,Z,F){var I=this;return V=V instanceof Array?V:[V],I._bindMultiple.call(I,V,Z,F),I},K.prototype.unbind=function(V,Z){return this.bind.call(this,V,function(){},Z)},K.prototype.trigger=function(V,Z){var F=this;return F._directMap[V+":"+Z]&&F._directMap[V+":"+Z]({},V),F},K.prototype.reset=function(){var V=this;return V._callbacks={},V._directMap={},V},K.prototype.stopCallback=function(V,Z){if((" "+Z.className+" ").indexOf(" mousetrap ")>-1||Q(Z,this.target))return!1;if("composedPath"in V&&typeof V.composedPath=="function"){var F=V.composedPath()[0];F!==V.target&&(Z=F)}return Z.tagName=="INPUT"||Z.tagName=="SELECT"||Z.tagName=="TEXTAREA"||Z.isContentEditable},K.prototype.handleKey=function(){var V=this;return V._handleKey.apply(V,arguments)},K.addKeycodes=function(V){for(var Z in V)V.hasOwnProperty(Z)&&(x[Z]=V[Z]);O=null},K.init=function(){var V=K(y);for(var Z in V)Z.charAt(0)!=="_"&&(K[Z]=function(F){return function(){return V[F].apply(V,arguments)}}(Z))},K.init(),l.Mousetrap=K,a.exports&&(a.exports=K),(f=(function(){return K}).call(c,o,c,a))===void 0||(a.exports=f)}function M(V,Z,F){V.addEventListener?V.addEventListener(Z,F,!1):V.attachEvent("on"+Z,F)}function k(V){if(V.type=="keypress"){var Z=String.fromCharCode(V.which);return V.shiftKey||(Z=Z.toLowerCase()),Z}return x[V.which]?x[V.which]:w[V.which]?w[V.which]:String.fromCharCode(V.which).toLowerCase()}function R(V){return V=="shift"||V=="ctrl"||V=="alt"||V=="meta"}function L(V,Z,F){return F||(F=function(){if(!O)for(var I in O={},x)I>95&&I<112||x.hasOwnProperty(I)&&(O[x[I]]=I);return O}()[V]?"keydown":"keypress"),F=="keypress"&&Z.length&&(F="keydown"),F}function Y(V,Z){var F,I,B,G=[];for(F=function(X){return X==="+"?["+"]:(X=X.replace(/\+{2}/g,"+plus")).split("+")}(V),B=0;B<F.length;++B)I=F[B],P[I]&&(I=P[I]),Z&&Z!="keypress"&&j[I]&&(I=j[I],G.push("shift")),R(I)&&G.push(I);return{key:I,modifiers:G,action:Z=L(I,G,Z)}}function Q(V,Z){return V!==null&&V!==y&&(V===Z||Q(V.parentNode,Z))}function K(V){var Z=this;if(V=V||y,!(Z instanceof K))return new K(V);Z.target=V,Z._callbacks={},Z._directMap={};var F,I={},B=!1,G=!1,X=!1;function re(se){se=se||{};var ye,be=!1;for(ye in I)se[ye]?be=!0:I[ye]=0;be||(X=!1)}function de(se,ye,be,Pe,ze,Ze){var Te,Re,Je,ee,J=[],ue=be.type;if(!Z._callbacks[se])return[];for(ue=="keyup"&&R(se)&&(ye=[se]),Te=0;Te<Z._callbacks[se].length;++Te)if(Re=Z._callbacks[se][Te],(Pe||!Re.seq||I[Re.seq]==Re.level)&&ue==Re.action&&(ue=="keypress"&&!be.metaKey&&!be.ctrlKey||(Je=ye,ee=Re.modifiers,Je.sort().join(",")===ee.sort().join(",")))){var we=!Pe&&Re.combo==ze,Ae=Pe&&Re.seq==Pe&&Re.level==Ze;(we||Ae)&&Z._callbacks[se].splice(Te,1),J.push(Re)}return J}function le(se,ye,be,Pe){Z.stopCallback(ye,ye.target||ye.srcElement,be,Pe)||se(ye,be)===!1&&(function(ze){ze.preventDefault?ze.preventDefault():ze.returnValue=!1}(ye),function(ze){ze.stopPropagation?ze.stopPropagation():ze.cancelBubble=!0}(ye))}function ve(se){typeof se.which!="number"&&(se.which=se.keyCode);var ye=k(se);ye&&(se.type!="keyup"||B!==ye?Z.handleKey(ye,function(be){var Pe=[];return be.shiftKey&&Pe.push("shift"),be.altKey&&Pe.push("alt"),be.ctrlKey&&Pe.push("ctrl"),be.metaKey&&Pe.push("meta"),Pe}(se),se):B=!1)}function Se(se,ye,be,Pe){function ze(Je){return function(){X=Je,++I[se],clearTimeout(F),F=setTimeout(re,1e3)}}function Ze(Je){le(be,Je,se),Pe!=="keyup"&&(B=k(Je)),setTimeout(re,10)}I[se]=0;for(var Te=0;Te<ye.length;++Te){var Re=Te+1===ye.length?Ze:ze(Pe||Y(ye[Te+1]).action);ge(ye[Te],Re,Pe,se,Te)}}function ge(se,ye,be,Pe,ze){Z._directMap[se+":"+be]=ye;var Ze,Te=(se=se.replace(/\s+/g," ")).split(" ");Te.length>1?Se(se,Te,ye,be):(Ze=Y(se,be),Z._callbacks[Ze.key]=Z._callbacks[Ze.key]||[],de(Ze.key,Ze.modifiers,{type:Ze.action},Pe,se,ze),Z._callbacks[Ze.key][Pe?"unshift":"push"]({callback:ye,modifiers:Ze.modifiers,action:Ze.action,seq:Pe,level:ze,combo:se}))}Z._handleKey=function(se,ye,be){var Pe,ze=de(se,ye,be),Ze={},Te=0,Re=!1;for(Pe=0;Pe<ze.length;++Pe)ze[Pe].seq&&(Te=Math.max(Te,ze[Pe].level));for(Pe=0;Pe<ze.length;++Pe)if(ze[Pe].seq){if(ze[Pe].level!=Te)continue;Re=!0,Ze[ze[Pe].seq]=1,le(ze[Pe].callback,be,ze[Pe].combo,ze[Pe].seq)}else Re||le(ze[Pe].callback,be,ze[Pe].combo);var Je=be.type=="keypress"&&G;be.type!=X||R(se)||Je||re(Ze),G=Re&&be.type=="keydown"},Z._bindMultiple=function(se,ye,be){for(var Pe=0;Pe<se.length;++Pe)ge(se[Pe],ye,be)},M(V,"keypress",ve),M(V,"keydown",ve),M(V,"keyup",ve)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(a,c,o){var f=o(7),l=o(34),y=o(28),g=o(32),O=f.TypeError;a.exports=function(x,w){var j,P;if(w==="string"&&y(j=x.toString)&&!g(P=l(j,x))||y(j=x.valueOf)&&!g(P=l(j,x))||w!=="string"&&y(j=x.toString)&&!g(P=l(j,x)))return P;throw O("Can't convert object to primitive value")}},function(a,c,o){var f=o(7),l=o(28),y=o(90),g=f.WeakMap;a.exports=l(g)&&/native code/.test(y(g))},function(a,c,o){var f=o(36),l=o(37),y=o(33),g=o(40),O=o(72);a.exports=f?Object.defineProperties:function(x,w){y(x);for(var j,P=g(w),A=O(w),M=A.length,k=0;M>k;)l.f(x,j=A[k++],P[j]);return x}},function(a,c,o){var f=o(7);a.exports=f},function(a,c,o){var f=o(7),l=o(95),y=o(98),g=o(32),O=o(27)("species"),x=f.Array;a.exports=function(w){var j;return l(w)&&(j=w.constructor,(y(j)&&(j===x||l(j.prototype))||g(j)&&(j=j[O])===null)&&(j=void 0)),j===void 0?x:j}},function(a,c,o){var f=o(112),l=o(96);a.exports=f?{}.toString:function(){return"[object "+l(this)+"]"}},function(a,c,o){var f=o(139).IteratorPrototype,l=o(57),y=o(64),g=o(73),O=o(75),x=function(){return this};a.exports=function(w,j,P,A){var M=j+" Iterator";return w.prototype=l(f,{next:y(+!A,P)}),g(w,M,!1,!0),O[M]=x,w}},function(a,c,o){var f=o(7),l=o(28),y=f.String,g=f.TypeError;a.exports=function(O){if(typeof O=="object"||l(O))return O;throw g("Can't set "+y(O)+" as a prototype")}},function(a,c,o){var f=o(17),l=o(7),y=o(15),g=o(94),O=o(43),x=o(141),w=o(116),j=o(118),P=o(28),A=o(32),M=o(19),k=o(119),R=o(73),L=o(145);a.exports=function(Y,Q,K){var V=Y.indexOf("Map")!==-1,Z=Y.indexOf("Weak")!==-1,F=V?"set":"add",I=l[Y],B=I&&I.prototype,G=I,X={},re=function(se){var ye=y(B[se]);O(B,se,se=="add"?function(be){return ye(this,be===0?0:be),this}:se=="delete"?function(be){return!(Z&&!A(be))&&ye(this,be===0?0:be)}:se=="get"?function(be){return Z&&!A(be)?void 0:ye(this,be===0?0:be)}:se=="has"?function(be){return!(Z&&!A(be))&&ye(this,be===0?0:be)}:function(be,Pe){return ye(this,be===0?0:be,Pe),this})};if(g(Y,!P(I)||!(Z||B.forEach&&!M(function(){new I().entries().next()}))))G=K.getConstructor(Q,Y,V,F),x.enable();else if(g(Y,!0)){var de=new G,le=de[F](Z?{}:-0,1)!=de,ve=M(function(){de.has(1)}),Se=k(function(se){new I(se)}),ge=!Z&&M(function(){for(var se=new I,ye=5;ye--;)se[F](ye,ye);return!se.has(-0)});Se||((G=Q(function(se,ye){j(se,B);var be=L(new I,se,G);return ye!=null&&w(ye,be[F],{that:be,AS_ENTRIES:V}),be})).prototype=B,B.constructor=G),(ve||ge)&&(re("delete"),re("has"),V&&re("get")),(ge||le)&&re(F),Z&&B.clear&&delete B.clear}return X[Y]=G,f({global:!0,forced:G!=I},X),R(G,Y),Z||K.setStrong(G,Y,V),G}},function(a,c,o){var f=o(19),l=o(32),y=o(51),g=o(179),O=Object.isExtensible,x=f(function(){});a.exports=x||g?function(w){return!!l(w)&&(!g||y(w)!="ArrayBuffer")&&(!O||O(w))}:O},function(a,c,o){var f=o(19);a.exports=f(function(){if(typeof ArrayBuffer=="function"){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}})},function(a,c,o){var f=o(19);a.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(a,c,o){var f=o(37).f,l=o(57),y=o(146),g=o(61),O=o(118),x=o(116),w=o(115),j=o(147),P=o(36),A=o(141).fastKey,M=o(56),k=M.set,R=M.getterFor;a.exports={getConstructor:function(L,Y,Q,K){var V=L(function(G,X){O(G,Z),k(G,{type:Y,index:l(null),first:void 0,last:void 0,size:0}),P||(G.size=0),X!=null&&x(X,G[K],{that:G,AS_ENTRIES:Q})}),Z=V.prototype,F=R(Y),I=function(G,X,re){var de,le,ve=F(G),Se=B(G,X);return Se?Se.value=re:(ve.last=Se={index:le=A(X,!0),key:X,value:re,previous:de=ve.last,next:void 0,removed:!1},ve.first||(ve.first=Se),de&&(de.next=Se),P?ve.size++:G.size++,le!=="F"&&(ve.index[le]=Se)),G},B=function(G,X){var re,de=F(G),le=A(X);if(le!=="F")return de.index[le];for(re=de.first;re;re=re.next)if(re.key==X)return re};return y(Z,{clear:function(){for(var G=F(this),X=G.index,re=G.first;re;)re.removed=!0,re.previous&&(re.previous=re.previous.next=void 0),delete X[re.index],re=re.next;G.first=G.last=void 0,P?G.size=0:this.size=0},delete:function(G){var X=this,re=F(X),de=B(X,G);if(de){var le=de.next,ve=de.previous;delete re.index[de.index],de.removed=!0,ve&&(ve.next=le),le&&(le.previous=ve),re.first==de&&(re.first=le),re.last==de&&(re.last=ve),P?re.size--:X.size--}return!!de},forEach:function(G){for(var X,re=F(this),de=g(G,arguments.length>1?arguments[1]:void 0);X=X?X.next:re.first;)for(de(X.value,X.key,this);X&&X.removed;)X=X.previous},has:function(G){return!!B(this,G)}}),y(Z,Q?{get:function(G){var X=B(this,G);return X&&X.value},set:function(G,X){return I(this,G===0?0:G,X)}}:{add:function(G){return I(this,G=G===0?0:G,G)}}),P&&f(Z,"size",{get:function(){return F(this).size}}),V},setStrong:function(L,Y,Q){var K=Y+" Iterator",V=R(Y),Z=R(K);w(L,Y,function(F,I){k(this,{type:K,target:F,state:V(F),kind:I,last:void 0})},function(){for(var F=Z(this),I=F.kind,B=F.last;B&&B.removed;)B=B.previous;return F.target&&(F.last=B=B?B.next:F.state.first)?I=="keys"?{value:B.key,done:!1}:I=="values"?{value:B.value,done:!1}:{value:[B.key,B.value],done:!1}:(F.target=void 0,{value:void 0,done:!0})},Q?"entries":"values",!Q,!0),j(Y)}}},function(a,c,o){var f=o(74).forEach,l=o(120)("forEach");a.exports=l?[].forEach:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}},function(a,c,o){var f=o(7),l=o(61),y=o(34),g=o(39),O=o(184),x=o(142),w=o(98),j=o(44),P=o(60),A=o(143),M=o(117),k=f.Array;a.exports=function(R){var L=g(R),Y=w(this),Q=arguments.length,K=Q>1?arguments[1]:void 0,V=K!==void 0;V&&(K=l(K,Q>2?arguments[2]:void 0));var Z,F,I,B,G,X,re=M(L),de=0;if(!re||this==k&&x(re))for(Z=j(L),F=Y?new this(Z):k(Z);Z>de;de++)X=V?K(L[de],de):L[de],P(F,de,X);else for(G=(B=A(L,re)).next,F=Y?new this:[];!(I=y(G,B)).done;de++)X=V?O(B,K,[I.value,de],!0):I.value,P(F,de,X);return F.length=de,F}},function(a,c,o){var f=o(33),l=o(144);a.exports=function(y,g,O,x){try{return x?g(f(O)[0],O[1]):g(O)}catch(w){l(y,"throw",w)}}},function(a,c,o){var f=o(33);a.exports=function(){var l=f(this),y="";return l.global&&(y+="g"),l.ignoreCase&&(y+="i"),l.multiline&&(y+="m"),l.dotAll&&(y+="s"),l.unicode&&(y+="u"),l.sticky&&(y+="y"),y}},function(a,c,o){var f=o(19),l=o(7).RegExp;a.exports=f(function(){var y=l(".","s");return!(y.dotAll&&y.exec(`
`)&&y.flags==="s")})},function(a,c,o){var f=o(19),l=o(7).RegExp;a.exports=f(function(){var y=l("(?<a>b)","g");return y.exec("b").groups.a!=="b"||"b".replace(y,"$<a>c")!=="bc"})},function(a,c,o){var f=o(17),l=o(15),y=o(54),g=o(39),O=o(44),x=o(41),w=o(19),j=o(189),P=o(120),A=o(190),M=o(191),k=o(65),R=o(192),L=[],Y=l(L.sort),Q=l(L.push),K=w(function(){L.sort(void 0)}),V=w(function(){L.sort(null)}),Z=P("sort"),F=!w(function(){if(k)return k<70;if(!(A&&A>3)){if(M)return!0;if(R)return R<603;var I,B,G,X,re="";for(I=65;I<76;I++){switch(B=String.fromCharCode(I),I){case 66:case 69:case 70:case 72:G=3;break;case 68:case 71:G=4;break;default:G=2}for(X=0;X<47;X++)L.push({k:B+X,v:G})}for(L.sort(function(de,le){return le.v-de.v}),X=0;X<L.length;X++)B=L[X].k.charAt(0),re.charAt(re.length-1)!==B&&(re+=B);return re!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:K||!V||!Z||!F},{sort:function(I){I!==void 0&&y(I);var B=g(this);if(F)return I===void 0?Y(B):Y(B,I);var G,X,re=[],de=O(B);for(X=0;X<de;X++)X in B&&Q(re,B[X]);for(j(re,function(le){return function(ve,Se){return Se===void 0?-1:ve===void 0?1:le!==void 0?+le(ve,Se)||0:x(ve)>x(Se)?1:-1}}(I)),G=re.length,X=0;X<G;)B[X]=re[X++];for(;X<de;)delete B[X++];return B}})},function(a,c,o){var f=o(113),l=Math.floor,y=function(x,w){var j=x.length,P=l(j/2);return j<8?g(x,w):O(x,y(f(x,0,P),w),y(f(x,P),w),w)},g=function(x,w){for(var j,P,A=x.length,M=1;M<A;){for(P=M,j=x[M];P&&w(x[P-1],j)>0;)x[P]=x[--P];P!==M++&&(x[P]=j)}return x},O=function(x,w,j,P){for(var A=w.length,M=j.length,k=0,R=0;k<A||R<M;)x[k+R]=k<A&&R<M?P(w[k],j[R])<=0?w[k++]:j[R++]:k<A?w[k++]:j[R++];return x};a.exports=y},function(a,c,o){var f=o(53).match(/firefox\/(\d+)/i);a.exports=!!f&&+f[1]},function(a,c,o){var f=o(53);a.exports=/MSIE|Trident/.test(f)},function(a,c,o){var f=o(53).match(/AppleWebKit\/(\d+)\./);a.exports=!!f&&+f[1]},function(a,c,o){var f=o(17),l=o(74).find,y=o(99),g="find",O=!0;g in[]&&Array(1).find(function(){O=!1}),f({target:"Array",proto:!0,forced:O},{find:function(x){return l(this,x,arguments.length>1?arguments[1]:void 0)}}),y(g)},function(a,c,o){var f=o(7),l=o(154),y=f.TypeError;a.exports=function(g){if(l(g))throw y("The method doesn't accept regular expressions");return g}},function(a,c,o){var f=o(27)("match");a.exports=function(l){var y=/./;try{"/./"[l](y)}catch{try{return y[f]=!1,"/./"[l](y)}catch{}}return!1}},function(a,c,o){var f=o(92).PROPER,l=o(19),y=o(160);a.exports=function(g){return l(function(){return!!y[g]()||"​᠎"[g]()!=="​᠎"||f&&y[g].name!==g})}},function(a,c,o){var f=o(15);a.exports=f(1 .valueOf)},function(a,c,o){var f=o(15),l=o(39),y=Math.floor,g=f("".charAt),O=f("".replace),x=f("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,j=/\$([$&'`]|\d{1,2})/g;a.exports=function(P,A,M,k,R,L){var Y=M+P.length,Q=k.length,K=j;return R!==void 0&&(R=l(R),K=w),O(L,K,function(V,Z){var F;switch(g(Z,0)){case"$":return"$";case"&":return P;case"`":return x(A,0,M);case"'":return x(A,Y);case"<":F=R[x(Z,1,-1)];break;default:var I=+Z;if(I===0)return V;if(I>Q){var B=y(I/10);return B===0?V:B<=Q?k[B-1]===void 0?g(Z,1):k[B-1]+g(Z,1):V}F=k[I-1]}return F===void 0?"":F})}},function(a,c,o){var f=o(36),l=o(15),y=o(34),g=o(19),O=o(72),x=o(111),w=o(82),j=o(39),P=o(83),A=Object.assign,M=Object.defineProperty,k=l([].concat);a.exports=!A||g(function(){if(f&&A({b:1},A(M({},"a",{enumerable:!0,get:function(){M(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var R={},L={},Y=Symbol(),Q="abcdefghijklmnopqrst";return R[Y]=7,Q.split("").forEach(function(K){L[K]=K}),A({},R)[Y]!=7||O(A({},L)).join("")!=Q})?function(R,L){for(var Y=j(R),Q=arguments.length,K=1,V=x.f,Z=w.f;Q>K;)for(var F,I=P(arguments[K++]),B=V?k(O(I),V(I)):O(I),G=B.length,X=0;G>X;)F=B[X++],f&&!y(Z,I,F)||(Y[F]=I[F]);return Y}:A},function(a,c,o){var f=o(7),l=o(15),y=o(54),g=o(32),O=o(35),x=o(97),w=f.Function,j=l([].concat),P=l([].join),A={},M=function(k,R,L){if(!O(A,R)){for(var Y=[],Q=0;Q<R;Q++)Y[Q]="a["+Q+"]";A[R]=w("C,a","return new C("+P(Y,",")+")")}return A[R](k,L)};a.exports=w.bind||function(k){var R=y(this),L=R.prototype,Y=x(arguments,1),Q=function(){var K=j(Y,x(arguments));return this instanceof Q?M(R,K.length,K):R.apply(k,K)};return g(L)&&(Q.prototype=L),Q}},function(a,c,o){var f=o(35);a.exports=function(l){return l!==void 0&&(f(l,"value")||f(l,"writable"))}},function(a,c,o){var f=o(15),l=o(45),y=o(41),g=/"/g,O=f("".replace);a.exports=function(x,w,j,P){var A=y(l(x)),M="<"+w;return j!==""&&(M+=" "+j+'="'+O(y(P),g,"&quot;")+'"'),M+">"+A+"</"+w+">"}},function(a,c,o){var f=o(19);a.exports=function(l){return f(function(){var y=""[l]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(a,c,o){var f,l,y,g,O=o(17),x=o(66),w=o(7),j=o(46),P=o(34),A=o(205),M=o(43),k=o(146),R=o(101),L=o(73),Y=o(147),Q=o(54),K=o(28),V=o(32),Z=o(118),F=o(90),I=o(116),B=o(119),G=o(156),X=o(163).set,re=o(206),de=o(209),le=o(210),ve=o(165),Se=o(211),ge=o(56),se=o(94),ye=o(27),be=o(212),Pe=o(126),ze=o(65),Ze=ye("species"),Te="Promise",Re=ge.getterFor(Te),Je=ge.set,ee=ge.getterFor(Te),J=A&&A.prototype,ue=A,we=J,Ae=w.TypeError,xe=w.document,Qe=w.process,it=ve.f,tt=it,$e=!!(xe&&xe.createEvent&&w.dispatchEvent),me=K(w.PromiseRejectionEvent),Xe="unhandledrejection",ne=!1,Be=se(Te,function(){var $=F(ue),ce=$!==String(ue);if(!ce&&ze===66||x&&!we.finally)return!0;if(ze>=51&&/native code/.test($))return!1;var Ne=new ue(function(Ye){Ye(1)}),Ce=function(Ye){Ye(function(){},function(){})};return(Ne.constructor={})[Ze]=Ce,!(ne=Ne.then(function(){})instanceof Ce)||!ce&&be&&!me}),lt=Be||!B(function($){ue.all($).catch(function(){})}),Ot=function($){var ce;return!(!V($)||!K(ce=$.then))&&ce},st=function($,ce){if(!$.notified){$.notified=!0;var Ne=$.reactions;re(function(){for(var Ce=$.value,Ye=$.state==1,yt=0;Ne.length>yt;){var qt,rn,Xt,Ut=Ne[yt++],Fe=Ye?Ut.ok:Ut.fail,Ke=Ut.resolve,rt=Ut.reject,at=Ut.domain;try{Fe?(Ye||($.rejection===2&&ct($),$.rejection=1),Fe===!0?qt=Ce:(at&&at.enter(),qt=Fe(Ce),at&&(at.exit(),Xt=!0)),qt===Ut.promise?rt(Ae("Promise-chain cycle")):(rn=Ot(qt))?P(rn,qt,Ke,rt):Ke(qt)):rt(Ce)}catch(Pt){at&&!Xt&&at.exit(),rt(Pt)}}$.reactions=[],$.notified=!1,ce&&!$.rejection&&kt($)})}},bt=function($,ce,Ne){var Ce,Ye;$e?((Ce=xe.createEvent("Event")).promise=ce,Ce.reason=Ne,Ce.initEvent($,!1,!0),w.dispatchEvent(Ce)):Ce={promise:ce,reason:Ne},!me&&(Ye=w["on"+$])?Ye(Ce):$===Xe&&le("Unhandled promise rejection",Ne)},kt=function($){P(X,w,function(){var ce,Ne=$.facade,Ce=$.value;if(Ct($)&&(ce=Se(function(){Pe?Qe.emit("unhandledRejection",Ce,Ne):bt(Xe,Ne,Ce)}),$.rejection=Pe||Ct($)?2:1,ce.error))throw ce.value})},Ct=function($){return $.rejection!==1&&!$.parent},ct=function($){P(X,w,function(){var ce=$.facade;Pe?Qe.emit("rejectionHandled",ce):bt("rejectionhandled",ce,$.value)})},Ht=function($,ce,Ne){return function(Ce){$(ce,Ce,Ne)}},W=function($,ce,Ne){$.done||($.done=!0,Ne&&($=Ne),$.value=ce,$.state=2,st($,!0))},ie=function($,ce,Ne){if(!$.done){$.done=!0,Ne&&($=Ne);try{if($.facade===ce)throw Ae("Promise can't be resolved itself");var Ce=Ot(ce);Ce?re(function(){var Ye={done:!1};try{P(Ce,ce,Ht(ie,Ye,$),Ht(W,Ye,$))}catch(yt){W(Ye,yt,$)}}):($.value=ce,$.state=1,st($,!1))}catch(Ye){W({done:!1},Ye,$)}}};if(Be&&(we=(ue=function($){Z(this,we),Q($),P(f,this);var ce=Re(this);try{$(Ht(ie,ce),Ht(W,ce))}catch(Ne){W(ce,Ne)}}).prototype,(f=function($){Je(this,{type:Te,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=k(we,{then:function($,ce){var Ne=ee(this),Ce=Ne.reactions,Ye=it(G(this,ue));return Ye.ok=!K($)||$,Ye.fail=K(ce)&&ce,Ye.domain=Pe?Qe.domain:void 0,Ne.parent=!0,Ce[Ce.length]=Ye,Ne.state!=0&&st(Ne,!1),Ye.promise},catch:function($){return this.then(void 0,$)}}),l=function(){var $=new f,ce=Re($);this.promise=$,this.resolve=Ht(ie,ce),this.reject=Ht(W,ce)},ve.f=it=function($){return $===ue||$===y?new l($):tt($)},!x&&K(A)&&J!==Object.prototype)){g=J.then,ne||(M(J,"then",function($,ce){var Ne=this;return new ue(function(Ce,Ye){P(g,Ne,Ce,Ye)}).then($,ce)},{unsafe:!0}),M(J,"catch",we.catch,{unsafe:!0}));try{delete J.constructor}catch{}R&&R(J,we)}O({global:!0,wrap:!0,forced:Be},{Promise:ue}),L(ue,Te,!1,!0),Y(Te),y=j(Te),O({target:Te,stat:!0,forced:Be},{reject:function($){var ce=it(this);return P(ce.reject,void 0,$),ce.promise}}),O({target:Te,stat:!0,forced:x||Be},{resolve:function($){return de(x&&this===y?ue:this,$)}}),O({target:Te,stat:!0,forced:lt},{all:function($){var ce=this,Ne=it(ce),Ce=Ne.resolve,Ye=Ne.reject,yt=Se(function(){var qt=Q(ce.resolve),rn=[],Xt=0,Ut=1;I($,function(Fe){var Ke=Xt++,rt=!1;Ut++,P(qt,ce,Fe).then(function(at){rt||(rt=!0,rn[Ke]=at,--Ut||Ce(rn))},Ye)}),--Ut||Ce(rn)});return yt.error&&Ye(yt.value),Ne.promise},race:function($){var ce=this,Ne=it(ce),Ce=Ne.reject,Ye=Se(function(){var yt=Q(ce.resolve);I($,function(qt){P(yt,ce,qt).then(Ne.resolve,Ce)})});return Ye.error&&Ce(Ye.value),Ne.promise}})},function(a,c,o){var f=o(7);a.exports=f.Promise},function(a,c,o){var f,l,y,g,O,x,w,j,P=o(7),A=o(61),M=o(50).f,k=o(163).set,R=o(164),L=o(207),Y=o(208),Q=o(126),K=P.MutationObserver||P.WebKitMutationObserver,V=P.document,Z=P.process,F=P.Promise,I=M(P,"queueMicrotask"),B=I&&I.value;B||(f=function(){var G,X;for(Q&&(G=Z.domain)&&G.exit();l;){X=l.fn,l=l.next;try{X()}catch(re){throw l?g():y=void 0,re}}y=void 0,G&&G.enter()},R||Q||Y||!K||!V?!L&&F&&F.resolve?((w=F.resolve(void 0)).constructor=F,j=A(w.then,w),g=function(){j(f)}):Q?g=function(){Z.nextTick(f)}:(k=A(k,P),g=function(){k(f)}):(O=!0,x=V.createTextNode(""),new K(f).observe(x,{characterData:!0}),g=function(){x.data=O=!O})),a.exports=B||function(G){var X={fn:G,next:void 0};y&&(y.next=X),l||(l=X,g()),y=X}},function(a,c,o){var f=o(53),l=o(7);a.exports=/ipad|iphone|ipod/i.test(f)&&l.Pebble!==void 0},function(a,c,o){var f=o(53);a.exports=/web0s(?!.*chrome)/i.test(f)},function(a,c,o){var f=o(33),l=o(32),y=o(165);a.exports=function(g,O){if(f(g),l(O)&&O.constructor===g)return O;var x=y.f(g);return(0,x.resolve)(O),x.promise}},function(a,c,o){var f=o(7);a.exports=function(l,y){var g=f.console;g&&g.error&&(arguments.length==1?g.error(l):g.error(l,y))}},function(a,c){a.exports=function(o){try{return{error:!1,value:o()}}catch(f){return{error:!0,value:f}}}},function(a,c){a.exports=typeof window=="object"},function(a,c,o){var f=o(36),l=o(15),y=o(72),g=o(40),O=l(o(82).f),x=l([].push),w=function(j){return function(P){for(var A,M=g(P),k=y(M),R=k.length,L=0,Y=[];R>L;)A=k[L++],f&&!O(M,A)||x(Y,j?[A,M[A]]:M[A]);return Y}};a.exports={entries:w(!0),values:w(!1)}},function(a,c,o){var f=o(39),l=o(69),y=o(44);a.exports=function(g){for(var O=f(this),x=y(O),w=arguments.length,j=l(w>1?arguments[1]:void 0,x),P=w>2?arguments[2]:void 0,A=P===void 0?x:l(P,x);A>j;)O[j++]=g;return O}},function(a,c,o){o.r(c),o.d(c,"observer",function(){return nr}),o.d(c,"LogicFlow",function(){return kf}),o.d(c,"h",function(){return ne.g}),o.d(c,"LogicFlowUtil",function(){return f}),o.d(c,"BaseNode",function(){return Nr}),o.d(c,"RectNode",function(){return wl}),o.d(c,"CircleNode",function(){return jl}),o.d(c,"PolygonNode",function(){return kl}),o.d(c,"DiamondNode",function(){return Il}),o.d(c,"EllipseNode",function(){return Fl}),o.d(c,"TextNode",function(){return Xl}),o.d(c,"HtmlNode",function(){return Vl}),o.d(c,"BaseEdge",function(){return Bi}),o.d(c,"LineEdge",function(){return sf}),o.d(c,"PolylineEdge",function(){return df}),o.d(c,"BezierEdge",function(){return gf}),o.d(c,"Arrow",function(){return WO}),o.d(c,"BaseEdgeModel",function(){return Hs}),o.d(c,"BezierEdgeModel",function(){return kc}),o.d(c,"LineEdgeModel",function(){return Vs}),o.d(c,"PolylineEdgeModel",function(){return Zs}),o.d(c,"BaseNodeModel",function(){return Dr}),o.d(c,"CircleNodeModel",function(){return Lc}),o.d(c,"DiamondNodeModel",function(){return Hc}),o.d(c,"EllipseNodeModel",function(){return Yc}),o.d(c,"PolygonNodeModel",function(){return Jc}),o.d(c,"RectNodeModel",function(){return nl}),o.d(c,"TextNodeModel",function(){return al}),o.d(c,"HtmlNodeModel",function(){return cl}),o.d(c,"EditConfigModel",function(){return kp}),o.d(c,"GraphModel",function(){return wh}),o.d(c,"SnaplineModel",function(){return nv}),o.d(c,"Keyboard",function(){return Hv}),o.d(c,"get",function(){return Yh}),o.d(c,"defaults",function(){return $h}),o.d(c,"ElementState",function(){return St}),o.d(c,"ModelType",function(){return mt}),o.d(c,"ElementType",function(){return Zt}),o.d(c,"EventType",function(){return ot}),o.d(c,"formateAnchorConnectValidateData",function(){return Ei});var f={};o.r(f),o.d(f,"createUuid",function(){return Yr}),o.d(f,"refreshGraphId",function(){return $b}),o.d(f,"createDrag",function(){return x0}),o.d(f,"StepDrag",function(){return Mr});var l=o(1),y=o(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!l.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(42),O=Object(g.b)("observerBatching");function x(e){e()}var w=!1;function j(){return w}function P(e){return Object(l.t)(e)}var A,M=1e4,k=new Set;function R(){A===void 0&&(A=setTimeout(L,1e4))}function L(){A=void 0;var e=Date.now();k.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,k.delete(t))}),k.size>0&&R()}var Y=!1,Q=[],K={};function V(e){return"observer"+e}function Z(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=K),j();var r,u=function(_){return function(){Y?Q.push(_):_()}}((n.useForceUpdate||g.d)()),i=y.d.useRef(null);if(!i.current){var s=new l.c(V(t),function(){h.mounted?u():(s.dispose(),i.current=null)}),h=function(_){return{cleanAt:Date.now()+M,reaction:_}}(s);i.current=h,r=i,k.add(r),R()}var v=i.current.reaction;return y.d.useDebugValue(v,P),y.d.useEffect(function(){var _;return _=i,k.delete(_),i.current?i.current.mounted=!0:(i.current={reaction:new l.c(V(t),function(){u()}),cleanAt:1/0},u()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(_){Y=!0,Q=[];try{var E=_();Y=!1;var T=Q.length>0?Q:void 0;return y.d.useLayoutEffect(function(){T&&T.forEach(function(D){return D()})},[T]),E}finally{Y=!1}}(function(){var _,E;if(v.track(function(){try{_=e()}catch(T){E=T}}),E)throw E;return _})}var F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e},F.apply(this,arguments)};function I(e,t){var n,r,u,i=F({forwardRef:!1},t),s=e.displayName||e.name,h=function(v,_){return Z(function(){return e(v,_)},s)};return h.displayName=s,n=i.forwardRef?Object(y.f)(Object(y.e)(h)):Object(y.f)(h),r=e,u=n,Object.keys(r).forEach(function(v){B[v]||Object.defineProperty(u,v,Object.getOwnPropertyDescriptor(r,v))}),n.displayName=s,n}var B={$$typeof:!0,render:!0,compare:!0,type:!0};function G(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:Z(r)}function X(e,t,n,r,u){var i=t==="children"?"render":"children",s=typeof e[t]=="function",h=typeof e[i]=="function";return s&&h?new Error("MobX Observer: Do not use children and render in the same time in`"+n):s||h?null:new Error("Invalid prop `"+u+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}G.propTypes={children:X,render:X},G.displayName="Observer";var re;(re=y.g)||(re=x),Object(l.n)({reactionScheduler:re}),Object(g.a)()[O]=!0;var de=0,le={};function ve(e){return le[e]||(le[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+de+")";return de++,n}(e)),le[e]}function Se(e,t){if(ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var u=0;u<n.length;u++)if(!Object.hasOwnProperty.call(t,n[u])||!ge(e[n[u]],t[n[u]]))return!1;return!0}function ge(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function se(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var ye=ve("patchMixins"),be=ve("patchedDefinition");function Pe(e,t){for(var n=this,r=arguments.length,u=new Array(r>2?r-2:0),i=2;i<r;i++)u[i-2]=arguments[i];t.locks++;try{var s;return e!=null&&(s=e.apply(this,u)),s}finally{t.locks--,t.locks===0&&t.methods.forEach(function(h){h.apply(n,u)})}}function ze(e,t){return function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];Pe.call.apply(Pe,[this,e,t].concat(r))}}function Ze(e,t,n){var r=function(h,v){var _=h[ye]=h[ye]||{},E=_[v]=_[v]||{};return E.locks=E.locks||0,E.methods=E.methods||[],E}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var u=Object.getOwnPropertyDescriptor(e,t);if(!u||!u[be]){var i=e[t],s=Te(e,t,u?u.enumerable:void 0,r,i);Object.defineProperty(e,t,s)}}function Te(e,t,n,r,u){var i,s=ze(u,r);return(i={})[be]=!0,i.get=function(){return s},i.set=function(h){if(this===e)s=ze(h,r);else{var v=Te(this,t,n,r,h);Object.defineProperty(this,t,v)}},i.configurable=!0,i.enumerable=n,i}var Re=l.a||"$mobx",Je=ve("isMobXReactObserver"),ee=ve("isUnmounted"),J=ve("skipRender"),ue=ve("isForcingUpdate");function we(e){var t=e.prototype;if(e[Je]?Ae(t):e[Je]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==Qe)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=Qe;it(t,"props"),it(t,"state");var n=t.render;return t.render=function(){return xe.call(this,n)},Ze(t,"componentWillUnmount",function(){var r;(r=this.render[Re])===null||r===void 0||r.dispose(),this[ee]=!0,!this.render[Re]&&Ae(this)}),e}function Ae(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function xe(e){var t=this;se(this,J,!1),se(this,ue,!1);var n=Ae(this),r=e.bind(this),u=!1,i=new l.c(n+".render()",function(){if(!u&&(u=!0,t[ee]!==!0)){var h=!0;try{se(t,ue,!0),t[J]||y.a.prototype.forceUpdate.call(t),h=!1}finally{se(t,ue,!1),h&&i.dispose()}}});function s(){u=!1;var h=void 0,v=void 0;if(i.track(function(){try{v=Object(l.d)(!1,r)}catch(_){h=_}}),h)throw h;return v}return i.reactComponent=this,s[Re]=i,this.render=s,s.call(this)}function Qe(e,t){return this.state!==t||!Se(this.props,e)}function it(e,t){var n=ve("reactProp_"+t+"_valueHolder"),r=ve("reactProp_"+t+"_atomHolder");function u(){return this[r]||se(this,r,Object(l.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var i=!1;return l.f&&l.e&&(i=Object(l.f)(!0)),u.call(this).reportObserved(),l.f&&l.e&&Object(l.e)(i),this[n]},set:function(i){this[ue]||Se(this[n],i)?se(this,n,i):(se(this,n,i),se(this,J,!0),u.call(this).reportChanged(),se(this,J,!1))}})}var tt=typeof Symbol=="function"&&Symbol.for,$e=tt?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,me=tt?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function Xe(e){if(e.isMobxInjector,me&&e.$$typeof===me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if($e&&e.$$typeof===$e){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(G,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(y.a,e)?we(e):I(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!l.C)throw new Error("mobx-react requires mobx to be available");var ne=o(0);o(4),o(8),o(2),o(3),o(62),o(6),o(5),o(11),o(38),o(29),o(22),o(20),o(23),o(21),o(25),o(9),o(16),o(24),o(18),o(188),o(193),o(103),o(152),o(153);var Be=function(e,t){for(var n=-1,r=e==null?0:e.length,u=Array(r);++n<r;)u[n]=t(e[n],n,e);return u},lt=function(){this.__data__=[],this.size=0},Ot=function(e,t){return e===t||e!=e&&t!=t},st=function(e,t){for(var n=e.length;n--;)if(Ot(e[n][0],t))return n;return-1},bt=Array.prototype.splice,kt=function(e){var t=this.__data__,n=st(t,e);return!(n<0)&&(n==t.length-1?t.pop():bt.call(t,n,1),--this.size,!0)},Ct=function(e){var t=this.__data__,n=st(t,e);return n<0?void 0:t[n][1]},ct=function(e){return st(this.__data__,e)>-1},Ht=function(e,t){var n=this.__data__,r=st(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function W(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}W.prototype.clear=lt,W.prototype.delete=kt,W.prototype.get=Ct,W.prototype.has=ct,W.prototype.set=Ht;var ie=W,$=function(){this.__data__=new ie,this.size=0},ce=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ne=function(e){return this.__data__.get(e)},Ce=function(e){return this.__data__.has(e)},Ye=o(31),yt=Ye.a.Symbol,qt=Object.prototype,rn=qt.hasOwnProperty,Xt=qt.toString,Ut=yt?yt.toStringTag:void 0,Fe=function(e){var t=rn.call(e,Ut),n=e[Ut];try{e[Ut]=void 0;var r=!0}catch{}var u=Xt.call(e);return r&&(t?e[Ut]=n:delete e[Ut]),u},Ke=Object.prototype.toString,rt=function(e){return Ke.call(e)},at=yt?yt.toStringTag:void 0,Pt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":at&&at in Object(e)?Fe(e):rt(e)},Bt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},wr,or=function(e){if(!Bt(e))return!1;var t=Pt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},ir=Ye.a["__core-js_shared__"],io=(wr=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||""))?"Symbol(src)_1."+wr:"",us=function(e){return!!io&&io in e},ci=Function.prototype.toString,Fn=function(e){if(e!=null){try{return ci.call(e)}catch{}try{return e+""}catch{}}return""},ea=/^\[object .+?Constructor\]$/,Ue=Function.prototype,ss=Object.prototype,ta=Ue.toString,na=ss.hasOwnProperty,An=RegExp("^"+ta.call(na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kn=function(e){return!(!Bt(e)||us(e))&&(or(e)?An:ea).test(Fn(e))},ra=function(e,t){return e==null?void 0:e[t]},ar=function(e,t){var n=ra(e,t);return kn(n)?n:void 0},Br=ar(Ye.a,"Map"),qn=ar(Object,"create"),li=function(){this.__data__=qn?qn(null):{},this.size=0},oa=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},cs=Object.prototype.hasOwnProperty,wo=function(e){var t=this.__data__;if(qn){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return cs.call(t,e)?t[e]:void 0},ls=Object.prototype.hasOwnProperty,ia=function(e){var t=this.__data__;return qn?t[e]!==void 0:ls.call(t,e)},fs=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=qn&&t===void 0?"__lodash_hash_undefined__":t,this};function xr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xr.prototype.clear=li,xr.prototype.delete=oa,xr.prototype.get=wo,xr.prototype.has=ia,xr.prototype.set=fs;var aa=xr,ur=function(){this.size=0,this.__data__={hash:new aa,map:new(Br||ie),string:new aa}},ps=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},xo=function(e,t){var n=e.__data__;return ps(t)?n[typeof t=="string"?"string":"hash"]:n.map},fi=function(e){var t=xo(this,e).delete(e);return this.size-=t?1:0,t},pi=function(e){return xo(this,e).get(e)},ds=function(e){return xo(this,e).has(e)},ua=function(e,t){var n=xo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Fr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fr.prototype.clear=ur,Fr.prototype.delete=fi,Fr.prototype.get=pi,Fr.prototype.has=ds,Fr.prototype.set=ua;var Gr=Fr,sa=function(e,t){var n=this.__data__;if(n instanceof ie){var r=n.__data__;if(!Br||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gr(r)}return n.set(e,t),this.size=n.size,this};function Hr(e){var t=this.__data__=new ie(e);this.size=t.size}Hr.prototype.clear=$,Hr.prototype.delete=ce,Hr.prototype.get=Ne,Hr.prototype.has=Ce,Hr.prototype.set=sa;var sr=Hr,ca=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},la=function(e){return this.__data__.has(e)};function ao(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Gr;++t<n;)this.add(e[t])}ao.prototype.add=ao.prototype.push=ca,ao.prototype.has=la;var fa=ao,hs=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},pa=function(e,t){return e.has(t)},da=function(e,t,n,r,u,i){var s=1&n,h=e.length,v=t.length;if(h!=v&&!(s&&v>h))return!1;var _=i.get(e),E=i.get(t);if(_&&E)return _==t&&E==e;var T=-1,D=!0,z=2&n?new fa:void 0;for(i.set(e,t),i.set(t,e);++T<h;){var U=e[T],q=t[T];if(r)var ae=s?r(q,U,T,t,e,i):r(U,q,T,e,t,i);if(ae!==void 0){if(ae)continue;D=!1;break}if(z){if(!hs(t,function(oe,fe){if(!pa(z,fe)&&(U===oe||u(U,oe,n,r,i)))return z.push(fe)})){D=!1;break}}else if(U!==q&&!u(U,q,n,r,i)){D=!1;break}}return i.delete(e),i.delete(t),D},uo=Ye.a.Uint8Array,ha=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,u){n[++t]=[u,r]}),n},ys=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},ya=yt?yt.prototype:void 0,di=ya?ya.valueOf:void 0,so=function(e,t,n,r,u,i,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new uo(e),new uo(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ot(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=ha;case"[object Set]":var v=1&r;if(h||(h=ys),e.size!=t.size&&!v)return!1;var _=s.get(e);if(_)return _==t;r|=2,s.set(e,t);var E=da(h(e),h(t),r,u,i,s);return s.delete(e),E;case"[object Symbol]":if(di)return di.call(e)==di.call(t)}return!1},cr=function(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e},un=Array.isArray,va=function(e,t,n){var r=t(e);return un(e)?r:cr(r,n(e))},ga=function(e,t){for(var n=-1,r=e==null?0:e.length,u=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[u++]=s)}return i},ma=function(){return[]},vs=Object.prototype.propertyIsEnumerable,Er=Object.getOwnPropertySymbols,Gn=Er?function(e){return e==null?[]:(e=Object(e),ga(Er(e),function(t){return vs.call(e,t)}))}:ma,gs=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Hn=function(e){return e!=null&&typeof e=="object"},Dn=function(e){return Hn(e)&&Pt(e)=="[object Arguments]"},ba=Object.prototype,_a=ba.hasOwnProperty,ms=ba.propertyIsEnumerable,Eo=Dn(function(){return arguments}())?Dn:function(e){return Hn(e)&&_a.call(e,"callee")&&!ms.call(e,"callee")},lr=Eo,co=o(48),bs=/^(?:0|[1-9]\d*)$/,dn=function(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&(n=="number"||n!="symbol"&&bs.test(e))&&e>-1&&e%1==0&&e<t},Sr=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},_t={};_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t["[object Arguments]"]=_t["[object Array]"]=_t["[object ArrayBuffer]"]=_t["[object Boolean]"]=_t["[object DataView]"]=_t["[object Date]"]=_t["[object Error]"]=_t["[object Function]"]=_t["[object Map]"]=_t["[object Number]"]=_t["[object Object]"]=_t["[object RegExp]"]=_t["[object Set]"]=_t["[object String]"]=_t["[object WeakMap]"]=!1;var Nn=function(e){return Hn(e)&&Sr(e.length)&&!!_t[Pt(e)]},jr=function(e){return function(t){return e(t)}},on=o(49),Oa=on.a&&on.a.isTypedArray,hi=Oa?jr(Oa):Nn,wa=Object.prototype.hasOwnProperty,Xn=function(e,t){var n=un(e),r=!n&&lr(e),u=!n&&!r&&Object(co.a)(e),i=!n&&!r&&!u&&hi(e),s=n||r||u||i,h=s?gs(e.length,String):[],v=h.length;for(var _ in e)!t&&!wa.call(e,_)||s&&(_=="length"||u&&(_=="offset"||_=="parent")||i&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||dn(_,v))||h.push(_);return h},xa=Object.prototype,So=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||xa)},Wn=function(e,t){return function(n){return e(t(n))}},Ea=Wn(Object.keys,Object),_s=Object.prototype.hasOwnProperty,yi=function(e){if(!So(e))return Ea(e);var t=[];for(var n in Object(e))_s.call(e,n)&&n!="constructor"&&t.push(n);return t},Yt=function(e){return e!=null&&Sr(e.length)&&!or(e)},Xr=function(e){return Yt(e)?Xn(e):yi(e)},jo=function(e){return va(e,Xr,Gn)},Sn=Object.prototype.hasOwnProperty,Sa=function(e,t,n,r,u,i){var s=1&n,h=jo(e),v=h.length;if(v!=jo(t).length&&!s)return!1;for(var _=v;_--;){var E=h[_];if(!(s?E in t:Sn.call(t,E)))return!1}var T=i.get(e),D=i.get(t);if(T&&D)return T==t&&D==e;var z=!0;i.set(e,t),i.set(t,e);for(var U=s;++_<v;){var q=e[E=h[_]],ae=t[E];if(r)var oe=s?r(ae,q,E,t,e,i):r(q,ae,E,e,t,i);if(!(oe===void 0?q===ae||u(q,ae,n,r,i):oe)){z=!1;break}U||(U=E=="constructor")}if(z&&!U){var fe=e.constructor,_e=t.constructor;fe==_e||!("constructor"in e)||!("constructor"in t)||typeof fe=="function"&&fe instanceof fe&&typeof _e=="function"&&_e instanceof _e||(z=!1)}return i.delete(e),i.delete(t),z},lo=ar(Ye.a,"DataView"),Po=ar(Ye.a,"Promise"),Mo=ar(Ye.a,"Set"),To=ar(Ye.a,"WeakMap"),ja="[object Map]",jn="[object Promise]",Cn="[object Set]",Wr="[object WeakMap]",vi="[object DataView]",gi=Fn(lo),mi=Fn(Br),Pa=Fn(Po),Os=Fn(Mo),Ao=Fn(To),Pr=Pt;(lo&&Pr(new lo(new ArrayBuffer(1)))!=vi||Br&&Pr(new Br)!=ja||Po&&Pr(Po.resolve())!=jn||Mo&&Pr(new Mo)!=Cn||To&&Pr(new To)!=Wr)&&(Pr=function(e){var t=Pt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Fn(n):"";if(r)switch(r){case gi:return vi;case mi:return ja;case Pa:return jn;case Os:return Cn;case Ao:return Wr}return t});var m=Pr,b="[object Arguments]",S="[object Array]",N="[object Object]",H=Object.prototype.hasOwnProperty,te=function(e,t,n,r,u,i){var s=un(e),h=un(t),v=s?S:m(e),_=h?S:m(t),E=(v=v==b?N:v)==N,T=(_=_==b?N:_)==N,D=v==_;if(D&&Object(co.a)(e)){if(!Object(co.a)(t))return!1;s=!0,E=!1}if(D&&!E)return i||(i=new sr),s||hi(e)?da(e,t,n,r,u,i):so(e,t,v,n,r,u,i);if(!(1&n)){var z=E&&H.call(e,"__wrapped__"),U=T&&H.call(t,"__wrapped__");if(z||U){var q=z?e.value():e,ae=U?t.value():t;return i||(i=new sr),u(q,ae,n,r,i)}}return!!D&&(i||(i=new sr),Sa(e,t,n,r,u,i))},he=function e(t,n,r,u,i){return t===n||(t==null||n==null||!Hn(t)&&!Hn(n)?t!=t&&n!=n:te(t,n,r,u,e,i))},Me=function(e,t,n,r){var u=n.length,i=u,s=!r;if(e==null)return!i;for(e=Object(e);u--;){var h=n[u];if(s&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++u<i;){var v=(h=n[u])[0],_=e[v],E=h[1];if(s&&h[2]){if(_===void 0&&!(v in e))return!1}else{var T=new sr;if(r)var D=r(_,E,v,e,t,T);if(!(D===void 0?he(E,_,3,r,T):D))return!1}}return!0},He=function(e){return e==e&&!Bt(e)},gt=function(e){for(var t=Xr(e),n=t.length;n--;){var r=t[n],u=e[r];t[n]=[r,u,He(u)]}return t},ut=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},Mt=function(e){var t=gt(e);return t.length==1&&t[0][2]?ut(t[0][0],t[0][1]):function(n){return n===e||Me(n,e,t)}},dt=function(e){return typeof e=="symbol"||Hn(e)&&Pt(e)=="[object Symbol]"},Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,In=/^\w*$/,Lt=function(e,t){if(un(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!dt(e))||In.test(e)||!Et.test(e)||t!=null&&e in Object(t)};function hn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,u=t?t.apply(this,r):r[0],i=n.cache;if(i.has(u))return i.get(u);var s=e.apply(this,r);return n.cache=i.set(u,s)||i,s};return n.cache=new(hn.Cache||Gr),n}hn.Cache=Gr;var fo=hn,ws=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ma=/\\(\\)?/g,Ta=function(e){var t=fo(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ws,function(n,r,u,i){t.push(u?i.replace(Ma,"$1"):r||n)}),t}),ko=yt?yt.prototype:void 0,bi=ko?ko.toString:void 0,yn=function e(t){if(typeof t=="string")return t;if(un(t))return Be(t,e)+"";if(dt(t))return bi?bi.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},Aa=function(e){return e==null?"":yn(e)},po=function(e,t){return un(e)?e:Lt(e,t)?[e]:Ta(Aa(e))},_i=function(e){if(typeof e=="string"||dt(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},xs=function(e,t){for(var n=0,r=(t=po(t,e)).length;e!=null&&n<r;)e=e[_i(t[n++])];return n&&n==r?e:void 0},op=function(e,t,n){var r=e==null?void 0:xs(e,t);return r===void 0?n:r},Cm=function(e,t){return e!=null&&t in Object(e)},Im=function(e,t,n){for(var r=-1,u=(t=po(t,e)).length,i=!1;++r<u;){var s=_i(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=u?i:!!(u=e==null?0:e.length)&&Sr(u)&&dn(s,u)&&(un(e)||lr(e))},ip=function(e,t){return e!=null&&Im(e,t,Cm)},Rm=function(e,t){return Lt(e)&&He(t)?ut(_i(e),t):function(n){var r=op(n,e);return r===void 0&&r===t?ip(n,e):he(t,r,3)}},Es=function(e){return e},Lm=function(e){return function(t){return t==null?void 0:t[e]}},zm=function(e){return function(t){return xs(t,e)}},Bm=function(e){return Lt(e)?Lm(_i(e)):zm(e)},Fm=function(e){return typeof e=="function"?e:e==null?Es:typeof e=="object"?un(e)?Rm(e[0],e[1]):Mt(e):Bm(e)},ap=function(e){return function(t,n,r){for(var u=-1,i=Object(t),s=r(t),h=s.length;h--;){var v=s[e?h:++u];if(n(i[v],v,i)===!1)break}return t}}(),Gm=function(e,t){return function(n,r){if(n==null)return n;if(!Yt(n))return e(n,r);for(var u=n.length,i=t?u:-1,s=Object(n);(t?i--:++i<u)&&r(s[i],i,s)!==!1;);return n}}(function(e,t){return e&&ap(e,t,Xr)}),Hm=function(e,t){var n=-1,r=Yt(e)?Array(e.length):[];return Gm(e,function(u,i,s){r[++n]=t(u,i,s)}),r},ka=function(e,t){return(un(e)?Be:Hm)(e,Fm(t))};Object(l.n)({isolateGlobalState:!0});var Da=function(){try{var e=ar(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ss=function(e,t,n){t=="__proto__"&&Da?Da(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Xm=Object.prototype.hasOwnProperty,Na=function(e,t,n){var r=e[t];Xm.call(e,t)&&Ot(r,n)&&(n!==void 0||t in e)||Ss(e,t,n)},Do=function(e,t,n,r){var u=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var h=t[i],v=r?r(n[h],e[h],h,n,e):void 0;v===void 0&&(v=e[h]),u?Ss(n,h,v):Na(n,h,v)}return n},Wm=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},up=Math.max,sp=function(e,t,n){return t=up(t===void 0?e.length-1:t,0),function(){for(var r=arguments,u=-1,i=up(r.length-t,0),s=Array(i);++u<i;)s[u]=r[t+u];u=-1;for(var h=Array(t+1);++u<t;)h[u]=r[u];return h[t]=n(s),Wm(e,this,h)}},Um=function(e){return function(){return e}},Ym=Da?function(e,t){return Da(e,"toString",{configurable:!0,enumerable:!1,value:Um(t),writable:!0})}:Es,Vm=Date.now,$m=function(e){var t=0,n=0;return function(){var r=Vm(),u=16-(r-n);if(n=r,u>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},cp=$m(Ym),Km=function(e,t){return cp(sp(e,t,Es),e+"")},qm=function(e,t,n){if(!Bt(n))return!1;var r=typeof t;return!!(r=="number"?Yt(n)&&dn(t,n.length):r=="string"&&t in n)&&Ot(n[t],e)},lp=function(e){return Km(function(t,n){var r=-1,u=n.length,i=u>1?n[u-1]:void 0,s=u>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(u--,i):void 0,s&&qm(n[0],n[1],s)&&(i=u<3?void 0:i,u=1),t=Object(t);++r<u;){var h=n[r];h&&e(t,h,r,i)}return t})},Zm=Object.prototype.hasOwnProperty,vn=lp(function(e,t){if(So(t)||Yt(t))Do(t,Xr(t),e);else for(var n in t)Zm.call(t,n)&&Na(e,n,t[n])}),Jm=function(e,t,n,r){if(!Bt(e))return e;for(var u=-1,i=(t=po(t,e)).length,s=i-1,h=e;h!=null&&++u<i;){var v=_i(t[u]),_=n;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(u!=s){var E=h[v];(_=r?r(E,v,h):void 0)===void 0&&(_=Bt(E)?E:dn(t[u+1])?[]:{})}Na(h,v,_),h=h[v]}return e},Qm=function(e,t,n){for(var r=-1,u=t.length,i={};++r<u;){var s=t[r],h=xs(e,s);n(h,s)&&Jm(i,po(s,e),h)}return i},eb=function(e,t){return Qm(e,t,function(n,r){return ip(e,r)})},fp=yt?yt.isConcatSpreadable:void 0,tb=function(e){return un(e)||lr(e)||!!(fp&&e&&e[fp])},nb=function e(t,n,r,u,i){var s=-1,h=t.length;for(r||(r=tb),i||(i=[]);++s<h;){var v=t[s];n>0&&r(v)?n>1?e(v,n-1,r,u,i):cr(i,v):u||(i[i.length]=v)}return i},rb=function(e){return e!=null&&e.length?nb(e,1):[]},Vt,pp,dp,hp,yp,vp,gp,mp,bp,_p,Op,wp,xp,Ep,Sp,jp,Pp,Mp,Oi=function(e){return cp(sp(e,void 0,rb),e+"")}(function(e,t){return e==null?{}:eb(e,t)});function sn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var St,Ap,mt,Zt,ot,zt,ib={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},js=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],kp=(pp=an((Vt=function(){function e(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),sn(this,"isSilentMode",pp,this),sn(this,"stopZoomGraph",dp,this),sn(this,"stopScrollGraph",hp,this),sn(this,"stopMoveGraph",yp,this),sn(this,"adjustEdge",vp,this),sn(this,"adjustEdgeMiddle",gp,this),sn(this,"adjustEdgeStartAndEnd",mp,this),sn(this,"adjustNodePosition",bp,this),sn(this,"hideAnchors",_p,this),sn(this,"hoverOutline",Op,this),sn(this,"nodeSelectedOutline",wp,this),sn(this,"edgeSelectedOutline",xp,this),sn(this,"nodeTextEdit",Ep,this),sn(this,"edgeTextEdit",Sp,this),sn(this,"nodeTextDraggable",jp,this),sn(this,"edgeTextDraggable",Pp,this),sn(this,"autoExpand",Mp,this),Tp(this,"multipleSelectKey",""),Tp(this,"defaultConfig",{}),vn(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var u=this.getConfigDetail(r);vn(this,u)}},{key:"getConfigDetail",value:function(r){var u=r.isSilentMode,i=r.textEdit,s={};if(u===!1&&vn(s,this.defaultConfig),u===!0&&u!==this.isSilentMode){var h=Oi(ib,js);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},vn(s,h)}i===!1&&vn(s,{nodeTextEdit:!1,edgeTextEdit:!1});var v=Oi(r,js);return vn(s,v)}},{key:"getConfig",value:function(){return Oi(this,js)}}])&&ob(t.prototype,n),e}()).prototype,"isSilentMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dp=an(Vt.prototype,"stopZoomGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hp=an(Vt.prototype,"stopScrollGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yp=an(Vt.prototype,"stopMoveGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vp=an(Vt.prototype,"adjustEdge",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gp=an(Vt.prototype,"adjustEdgeMiddle",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mp=an(Vt.prototype,"adjustEdgeStartAndEnd",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bp=an(Vt.prototype,"adjustNodePosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_p=an(Vt.prototype,"hideAnchors",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Op=an(Vt.prototype,"hoverOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wp=an(Vt.prototype,"nodeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xp=an(Vt.prototype,"edgeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ep=an(Vt.prototype,"nodeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sp=an(Vt.prototype,"edgeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jp=an(Vt.prototype,"nodeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pp=an(Vt.prototype,"edgeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mp=an(Vt.prototype,"autoExpand",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),an(Vt.prototype,"updateEditConfig",[l.k],Object.getOwnPropertyDescriptor(Vt.prototype,"updateEditConfig"),Vt.prototype),Vt);o(63),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(St||(St={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Ap||(Ap={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(mt||(mt={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Zt||(Zt={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(ot||(ot={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(zt||(zt={}));var Rn,$t,Dp,Np,Cp,Ip,Rp,Lp,zp;function Ca(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Bp(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Bp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ho(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(Rn||(Rn={}));var ub=($t=function(){function e(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),Ps(this,"MINI_SCALE_SIZE",.2),Ps(this,"MAX_SCALE_SIZE",16),ho(this,"SCALE_X",Dp,this),ho(this,"SKEW_Y",Np,this),ho(this,"SKEW_X",Cp,this),ho(this,"SCALE_Y",Ip,this),ho(this,"TRANSLATE_X",Rp,this),ho(this,"TRANSLATE_Y",Lp,this),ho(this,"ZOOM_SIZE",zp,this),Ps(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var u=Ca(r,2),i=u[0],s=u[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(s-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var u=Ca(r,2),i=u[0],s=u[1];return[i*this.SCALE_X+this.TRANSLATE_X,s*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,u,i){var s=Ca(r,2),h=s[0],v=s[1];return[h+u/this.SCALE_X,v+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,u){return[r/this.SCALE_X,u/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],u=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,s=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,s+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,s-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,s=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(u&&(this.TRANSLATE_X-=(i-this.SCALE_X)*u[0],this.TRANSLATE_Y-=(s-this.SCALE_Y)*u[1]),this.SCALE_X=i,this.SCALE_Y=s,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(ot.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,u){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=u,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,u,i,s){var h=Ca(this.CanvasPointToHtmlPoint([r,u]),2),v=i/2-h[0],_=s/2-h[1];this.TRANSLATE_X+=v,this.TRANSLATE_Y+=_,this.emitGraphTransform("focusOn")}}],n&&ab(t.prototype,n),e}(),Dp=Zn($t.prototype,"SCALE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Np=Zn($t.prototype,"SKEW_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cp=Zn($t.prototype,"SKEW_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ip=Zn($t.prototype,"SCALE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Rp=Zn($t.prototype,"TRANSLATE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lp=Zn($t.prototype,"TRANSLATE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zp=Zn($t.prototype,"ZOOM_SIZE",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Zn($t.prototype,"zoom",[l.k],Object.getOwnPropertyDescriptor($t.prototype,"zoom"),$t.prototype),Zn($t.prototype,"resetZoom",[l.k],Object.getOwnPropertyDescriptor($t.prototype,"resetZoom"),$t.prototype),Zn($t.prototype,"translate",[l.k],Object.getOwnPropertyDescriptor($t.prototype,"translate"),$t.prototype),Zn($t.prototype,"focusOn",[l.k],Object.getOwnPropertyDescriptor($t.prototype,"focusOn"),$t.prototype),$t),sb=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},cb=function(e,t){return e&&Do(t,Xr(t),e)},lb=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},fb=Object.prototype.hasOwnProperty,pb=function(e){if(!Bt(e))return lb(e);var t=So(e),n=[];for(var r in e)(r!="constructor"||!t&&fb.call(e,r))&&n.push(r);return n},wi=function(e){return Yt(e)?Xn(e,!0):pb(e)},db=function(e,t){return e&&Do(t,wi(t),e)},Fp=o(106),Gp=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},hb=function(e,t){return Do(e,Gn(e),t)},Ms=Wn(Object.getPrototypeOf,Object),Hp=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)cr(t,Gn(e)),e=Ms(e);return t}:ma,yb=function(e,t){return Do(e,Hp(e),t)},vb=function(e){return va(e,wi,Hp)},gb=Object.prototype.hasOwnProperty,mb=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&gb.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Ts=function(e){var t=new e.constructor(e.byteLength);return new uo(t).set(new uo(e)),t},bb=function(e,t){var n=t?Ts(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},_b=/\w*$/,Ob=function(e){var t=new e.constructor(e.source,_b.exec(e));return t.lastIndex=e.lastIndex,t},Xp=yt?yt.prototype:void 0,Wp=Xp?Xp.valueOf:void 0,wb=function(e){return Wp?Object(Wp.call(e)):{}},Up=function(e,t){var n=t?Ts(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},xb=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Ts(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return bb(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Up(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Ob(e);case"[object Symbol]":return wb(e)}},Yp=Object.create,Eb=function(){function e(){}return function(t){if(!Bt(t))return{};if(Yp)return Yp(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Vp=function(e){return typeof e.constructor!="function"||So(e)?{}:Eb(Ms(e))},Sb=function(e){return Hn(e)&&m(e)=="[object Map]"},$p=on.a&&on.a.isMap,jb=$p?jr($p):Sb,Pb=function(e){return Hn(e)&&m(e)=="[object Set]"},Kp=on.a&&on.a.isSet,Mb=Kp?jr(Kp):Pb,qp="[object Arguments]",Zp="[object Function]",Tb="[object Object]",It={};It[qp]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object DataView]"]=It["[object Boolean]"]=It["[object Date]"]=It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object Symbol]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Error]"]=It[Zp]=It["[object WeakMap]"]=!1;var Ab=function e(t,n,r,u,i,s){var h,v=1&n,_=2&n,E=4&n;if(r&&(h=i?r(t,u,i,s):r(t)),h!==void 0)return h;if(!Bt(t))return t;var T=un(t);if(T){if(h=mb(t),!v)return Gp(t,h)}else{var D=m(t),z=D==Zp||D=="[object GeneratorFunction]";if(Object(co.a)(t))return Object(Fp.a)(t,v);if(D==Tb||D==qp||z&&!i){if(h=_||z?{}:Vp(t),!v)return _?yb(t,db(h,t)):hb(t,cb(h,t))}else{if(!It[D])return i?t:{};h=xb(t,D,v)}}s||(s=new sr);var U=s.get(t);if(U)return U;s.set(t,h),Mb(t)?t.forEach(function(ae){h.add(e(ae,n,r,ae,t,s))}):jb(t)&&t.forEach(function(ae,oe){h.set(oe,e(ae,n,r,oe,t,s))});var q=T?void 0:(E?_?vb:jo:_?wi:Xr)(t);return sb(q||t,function(ae,oe){q&&(ae=t[oe=ae]),Na(h,oe,e(ae,n,r,oe,t,s))}),h},Gt=function(e){return Ab(e,5)},As=function(e,t,n){(n!==void 0&&!Ot(e[t],n)||n===void 0&&!(t in e))&&Ss(e,t,n)},kb=function(e){return Hn(e)&&Yt(e)},Db=Function.prototype,Nb=Object.prototype,Jp=Db.toString,Cb=Nb.hasOwnProperty,Ib=Jp.call(Object),Rb=function(e){if(!Hn(e)||Pt(e)!="[object Object]")return!1;var t=Ms(e);if(t===null)return!0;var n=Cb.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Jp.call(n)==Ib},ks=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},Lb=function(e){return Do(e,wi(e))},zb=function(e,t,n,r,u,i,s){var h=ks(e,n),v=ks(t,n),_=s.get(v);if(_)As(e,n,_);else{var E=i?i(h,v,n+"",e,t,s):void 0,T=E===void 0;if(T){var D=un(v),z=!D&&Object(co.a)(v),U=!D&&!z&&hi(v);E=v,D||z||U?un(h)?E=h:kb(h)?E=Gp(h):z?(T=!1,E=Object(Fp.a)(v,!0)):U?(T=!1,E=Up(v,!0)):E=[]:Rb(v)||lr(v)?(E=h,lr(h)?E=Lb(h):Bt(h)&&!or(h)||(E=Vp(v))):T=!1}T&&(s.set(v,E),u(E,v,r,i,s),s.delete(v)),As(e,n,E)}},Bb=function e(t,n,r,u,i){t!==n&&ap(n,function(s,h){if(i||(i=new sr),Bt(s))zb(t,n,h,r,e,u,i);else{var v=u?u(ks(t,h),s,h+"",t,n,i):void 0;v===void 0&&(v=s),As(t,h,v)}},wi)},Qp=lp(function(e,t,n){Bb(e,t,n)}),Fb={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},ed=function(e){var t=Gt(Fb);return e&&(t=Qp(t,e)),t};o(77),o(158);function Gb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hb=function(){function e(){var r,u,i;(function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),i={},(u="_events")in(r=this)?Object.defineProperty(r,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[u]=i}var t,n;return t=e,(n=[{key:"on",value:function(r,u,i){var s=this;return r==null||r.split(",").forEach(function(h){h=h.trim(),s._events[h]||(s._events[h]=[]),s._events[h].push({callback:u,once:!!i})}),this}},{key:"once",value:function(r,u){var i=this;r==null||r.split(",").forEach(function(s){return s=s.trim(),i.on(s,u,!0)})}},{key:"emit",value:function(r,u){var i=this;r==null||r.split(",").forEach(function(s){var h=i._events[s]||[],v=i._events["*"]||[],_=function(E){for(var T=E.length,D=0;D<T;D++)if(E[D]){var z=E[D],U=z.callback;z.once&&(E.splice(D,1),E.length===0&&delete i._events[s],T--,D--),U.apply(i,[u])}};_(h),_(v)})}},{key:"off",value:function(r,u){var i=this;return r||(this._events={}),r.split(",").forEach(function(s){if(u){for(var h=i._events[s]||[],v=h.length,_=0;_<v;_++)h[_].callback===u&&(h.splice(_,1),v--,_--);h.length===0&&delete i._events[s]}else delete i._events[s]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Gb(t.prototype,n),e}();function Ur(e,t){return t*Math.round(e/t)||e}function td(e,t){return e%t}function Ds(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return nd(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return nd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ns,Cs=function(e,t,n){var r=Ds(e,2),u=r[0],i=r[1],s=Ds(t,2),h=s[0],v=s[1],_=Ds(n,2),E=_[0],T=_[1];return u>h&&u<E&&i>v&&i<T},rd=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;case"ctrl":n=e.ctrlKey;break;default:n=!1}return n},Xb=(o(78),o(161),o(125),o(79),o(30),o(12),o(13),o(14),o(47),new Uint8Array(16));function Wb(){if(!Ns&&!(Ns=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ns(Xb)}for(var Ub=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Yb=function(e){return typeof e=="string"&&Ub.test(e)},cn=[],Is=0;Is<256;++Is)cn.push((Is+256).toString(16).substr(1));var Vb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(cn[e[t+0]]+cn[e[t+1]]+cn[e[t+2]]+cn[e[t+3]]+"-"+cn[e[t+4]]+cn[e[t+5]]+"-"+cn[e[t+6]]+cn[e[t+7]]+"-"+cn[e[t+8]]+cn[e[t+9]]+"-"+cn[e[t+10]]+cn[e[t+11]]+cn[e[t+12]]+cn[e[t+13]]+cn[e[t+14]]+cn[e[t+15]]).toLowerCase();if(!Yb(n))throw TypeError("Stringified UUID is invalid");return n},Rs=function(e,t,n){var r=(e=e||{}).random||(e.rng||Wb)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var u=0;u<16;++u)t[n+u]=r[u];return t}return Vb(r)},Yr=function(){return Rs()},$b=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,u){return r[u.id]=t+Rs(),u.id=r[u.id],r},{});return e.edges.forEach(function(r){r.id=t+Rs(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},xi=(o(104),o(162),function(e,t,n){var r=e.x,u=e.y;return(r-t.x)*(r-n.x)<=0&&(u-t.y)*(u-n.y)<=0});function Ls(e){return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?od(Object(n),!0).forEach(function(r){Kb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe,ad,ud,sd,cd,ld,fd,pd,dd,hd,yd,vd,gd,md,bd,_d,Od,wd,xd,Ed,Sd,zs=function(e){return e.anchors},Ia=function(e,t){for(var n,r=t.nodes,u=r.length-1;u>=0;u--){var i=r[u];if(Zb(e,i)){var s=i.getTargetAnchor(e);if(s){var h={node:i,anchorIndex:s.index,anchor:s.anchor};n&&!qb(i,n.node,t)||(n=h)}}}return n},qb=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},Jn=function(e,t,n,r){return Math.hypot(e-n,t-r)},Vr=function(e,t){var n=!1,r=Ln(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},Zb=function(e,t){var n=!1,r=Ln(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},Ln=function(e){var t=e.x,n=e.y,r=e.width,u=e.height;return{minX:t-r/2,minY:n-u/2,maxX:t+r/2,maxY:n+u/2,x:t,y:n,width:r,height:u,centerX:t,centerY:n}},jd=function(e,t,n){var r,u=function(s){var h=s,v=h.x,_=h.y,E=h.width,T=h.height,D=h.radius;return[{x:v-E/2+D,y:_-T/2+D,r:D},{x:v+E/2-D,y:_-T/2+D,r:D},{x:v-E/2+D,y:_+T/2-D,r:D},{x:v+E/2-D,y:_+T/2-D,r:D}]}(n),i=Number.MAX_SAFE_INTEGER;return u.forEach(function(s){var h=Jn(e.x,e.y,s.x,s.y);h<i&&(i=h,r=s)}),Bs(e,t,r)},Bs=function(e,t,n){var r,u=n,i=u.x,s=u.y,h=u.r;if(t===zt.HORIZONTAL){var v=i-Math.sqrt(h*h-(e.y-s)*(e.y-s)),_=i+Math.sqrt(h*h-(e.y-s)*(e.y-s));r={x:Math.abs(v-e.x)<Math.abs(_-e.x)?v:_,y:e.y}}else if(t===zt.VERTICAL){var E=s-Math.sqrt(h*h-(e.x-i)*(e.x-i)),T=s+Math.sqrt(h*h-(e.x-i)*(e.x-i)),D=Math.abs(E-e.y)<Math.abs(T-e.y)?E:T;r={x:e.x,y:D}}return r},Pd=function(e,t){var n=t,r=!1,u=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,s=n.y-n.height/2+n.radius,h=n.y+n.height/2-n.radius,v=n.x,_=n.y,E=n.width,T=n.height;return e.y===_+T/2||e.y===_-T/2?r=e.x>u&&e.x<i:e.x!==v+E/2&&e.x!==v-E/2||(r=e.y>s&&e.y<h),r},Md=function(e,t,n){var r,u=n,i=u.x,s=u.y,h=u.rx,v=u.ry;if(t===zt.HORIZONTAL){var _=i-Math.sqrt(h*h-(e.y-s)*(e.y-s)*h*h/(v*v)),E=i+Math.sqrt(h*h-(e.y-s)*(e.y-s)*h*h/(v*v));r={x:Math.abs(_-e.x)<Math.abs(E-e.x)?_:E,y:e.y}}else if(t===zt.VERTICAL){var T=s-Math.sqrt(v*v-(e.x-i)*(e.x-i)*v*v/(h*h)),D=s+Math.sqrt(v*v-(e.x-i)*(e.x-i)*v*v/(h*h)),z=Math.abs(T-e.y)<Math.abs(D-e.y)?T:D;r={x:e.x,y:z}}return r},Td=function(e,t,n){for(var r,u=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,s=[],h=0;h<u.length;h++)s.push({start:u[h],end:u[(h+1)%u.length]});return s.forEach(function(v){var _=v.start,E=v.end,T=_,D=E;_.x>E.x&&(T=E,D=_);var z={x:e.x,y:e.y};if(T.x===D.x&&t===zt.HORIZONTAL&&(z={x:T.x,y:e.y}),T.y===D.y&&t===zt.VERTICAL&&(z={x:e.x,y:T.y}),T.x!==D.x&&T.y!==D.y){var U=(D.y-T.y)/(D.x-T.x),q=(T.x*D.y-D.x*T.y)/(T.x-D.x);t===zt.HORIZONTAL?z={x:(e.y-q)/U,y:e.y}:t===zt.VERTICAL&&(z={x:e.x,y:U*e.x+q})}if(xi(z,_,E)){var ae=Jn(z.x,z.y,e.x,e.y);ae<i&&(i=ae,r=z)}}),r},Ad=function(e,t,n,r){var u=e.x,i=e.y;return t.x>e.x?u=e.x+n/2:t.x<e.x&&(u=e.x-n/2),t.y>e.y?i=e.y+r/2:t.y<e.y&&(i=e.y-r/2),{x:u,y:i}},kd=function(e){var t=e.rows,n=e.style,r=e.rowsLength,u=e.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=u,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?t.forEach(function(h){var v=document.createElement("div");v.textContent=h,i.appendChild(v)}):i.textContent=t,document.body.appendChild(i);var s=i.clientHeight;return document.body.removeChild(i),s},Fs=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,u=0;return t&&t.forEach(function(i){var s=eh(i);u=s>u?s:u}),{width:Math.ceil(u/2)*r+r/4,height:n*(r+2)+r/4}},Ei=function(e){return Ls(e)!=="object"?{isAllPass:!!e,msg:e?"":"不允许连接"}:e},ln=function(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}},Jb=1e3,Qb=999,Gs=function(){return++Jb};function Dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dd(Object(n),!0).forEach(function(r){Un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function e0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Hs=(Oe=function(){function e(r,u){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Un(this,"id",""),Jt(this,"type",ad,this),Jt(this,"sourceNodeId",ud,this),Jt(this,"targetNodeId",sd,this),Jt(this,"startPoint",cd,this),Jt(this,"endPoint",ld,this),Jt(this,"text",fd,this),Jt(this,"properties",pd,this),Jt(this,"points",dd,this),Jt(this,"pointsList",hd,this),Jt(this,"isSelected",yd,this),Jt(this,"isHovered",vd,this),Jt(this,"isHitable",gd,this),Jt(this,"draggable",md,this),Jt(this,"visible",bd,this),Un(this,"virtual",!1),Jt(this,"isAnimation",_d,this),Jt(this,"isShowAdjustPoint",Od,this),Un(this,"graphModel",void 0),Jt(this,"zIndex",wd,this),Un(this,"BaseType",Zt.EDGE),Un(this,"modelType",mt.EDGE),Jt(this,"state",xd,this),Un(this,"additionStateData",void 0),Un(this,"sourceAnchorId",""),Un(this,"targetAnchorId",""),Un(this,"menu",void 0),Un(this,"customTextPosition",!1),Jt(this,"style",Ed,this),Jt(this,"arrowConfig",Sd,this),this.graphModel=u,this.initEdgeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var u=this.graphModel.idGenerator,i=u&&u(r.type),s=this.createId();r.id=s||i||Yr()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var h=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=h,vn(this,O0(r)),this.graphModel.overlapMode===Rn.INCREASE&&(this.zIndex=r.zIndex||Gs()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Pn(Pn({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Pn({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Gt(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Gt(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),u=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,s=this.isAnimation?u.stroke:r.stroke;return Pn(Pn({},r),{},{fill:s,stroke:s},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Gt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,u;return(r=this.graphModel)===null||r===void 0||(u=r.nodesMap[this.sourceNodeId])===null||u===void 0?void 0:u.model}},{key:"targetNode",get:function(){var r,u;return(r=this.graphModel)===null||r===void 0||(u=r.nodesMap[this.targetNodeId])===null||u===void 0?void 0:u.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,u){var i,s;return zs(r).forEach(function(h){var v=oh(h,u);(s===void 0||v<s)&&(s=v,i=h)}),i}},{key:"getEndAnchor",value:function(r){var u,i,s=this;return zs(r).forEach(function(h){var v=oh(h,s.startPoint);(i===void 0||v<i)&&(i=v,u=h)}),u}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,u=r.x,i=r.y,s=r.value,h={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(l.I)(this.properties)};return s&&(h.text={x:u,y:i,value:s}),this.graphModel.overlapMode===Rn.INCREASE&&(h.zIndex=this.zIndex),h}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,u){this.properties[r]=ln(u),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Pn(Pn({},Object(l.I)(this.properties)),ln(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var u=this.arrowConfig,i=u.markerEnd,s=u.markerStart;s&&s==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,u){this.style=Pn(Pn({},this.style),{},Un({},r,ln(u)))}},{key:"setStyles",value:function(r){this.style=Pn(Pn({},this.style),ln(r))}},{key:"updateStyles",value:function(r){this.style=Pn({},ln(r))}},{key:"formatText",value:function(r){var u=this.textPosition,i=u.x,s=u.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||s,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:s,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,u=r.x,i=r.y;this.text.x=u,this.text.y=i}},{key:"moveText",value:function(r,u){if(this.text){var i=this.text,s=i.x,h=i.y,v=i.value,_=i.draggable,E=i.editable;this.text={value:v,draggable:_,x:s+r,y:h+u,editable:E}}}},{key:"setText",value:function(r){r&&vn(this.text,r)}},{key:"updateText",value:function(r){this.text=Pn(Pn({},Object(l.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var u=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:u.x,y:u.y}),this.targetAnchorId||(this.targetAnchorId=u.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,u){this.state=r,this.additionStateData=u}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,u){this.startPoint.x+=r,this.startPoint.y+=u}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,u){this.endPoint.x+=r,this.endPoint.y+=u}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){vn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var u=r.startPoint,i=r.endPoint;this.updateStartPoint({x:u.x,y:u.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&e0(t.prototype,n),e}(),ad=nt(Oe.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ud=nt(Oe.prototype,"sourceNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sd=nt(Oe.prototype,"targetNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cd=nt(Oe.prototype,"startPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ld=nt(Oe.prototype,"endPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fd=nt(Oe.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),pd=nt(Oe.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dd=nt(Oe.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hd=nt(Oe.prototype,"pointsList",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yd=nt(Oe.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vd=nt(Oe.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gd=nt(Oe.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),md=nt(Oe.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bd=nt(Oe.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_d=nt(Oe.prototype,"isAnimation",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Od=nt(Oe.prototype,"isShowAdjustPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wd=nt(Oe.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xd=nt(Oe.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ed=nt(Oe.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Sd=nt(Oe.prototype,"arrowConfig",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),nt(Oe.prototype,"sourceNode",[l.m],Object.getOwnPropertyDescriptor(Oe.prototype,"sourceNode"),Oe.prototype),nt(Oe.prototype,"targetNode",[l.m],Object.getOwnPropertyDescriptor(Oe.prototype,"targetNode"),Oe.prototype),nt(Oe.prototype,"textPosition",[l.m],Object.getOwnPropertyDescriptor(Oe.prototype,"textPosition"),Oe.prototype),nt(Oe.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperty"),Oe.prototype),nt(Oe.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"deleteProperty"),Oe.prototype),nt(Oe.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperties"),Oe.prototype),nt(Oe.prototype,"changeEdgeId",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"changeEdgeId"),Oe.prototype),nt(Oe.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyle"),Oe.prototype),nt(Oe.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyles"),Oe.prototype),nt(Oe.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStyles"),Oe.prototype),nt(Oe.prototype,"formatText",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"formatText"),Oe.prototype),nt(Oe.prototype,"resetTextPosition",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"resetTextPosition"),Oe.prototype),nt(Oe.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveText"),Oe.prototype),nt(Oe.prototype,"setText",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setText"),Oe.prototype),nt(Oe.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateText"),Oe.prototype),nt(Oe.prototype,"setAnchors",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setAnchors"),Oe.prototype),nt(Oe.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setSelected"),Oe.prototype),nt(Oe.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHovered"),Oe.prototype),nt(Oe.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHitable"),Oe.prototype),nt(Oe.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"openEdgeAnimation"),Oe.prototype),nt(Oe.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"closeEdgeAnimation"),Oe.prototype),nt(Oe.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setElementState"),Oe.prototype),nt(Oe.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStartPoint"),Oe.prototype),nt(Oe.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveStartPoint"),Oe.prototype),nt(Oe.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateEndPoint"),Oe.prototype),nt(Oe.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveEndPoint"),Oe.prototype),nt(Oe.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setZIndex"),Oe.prototype),nt(Oe.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"initPoints"),Oe.prototype),nt(Oe.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAttributes"),Oe.prototype),nt(Oe.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustStart"),Oe.prototype),nt(Oe.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustEnd"),Oe.prototype),nt(Oe.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAfterAdjustStartAndEnd"),Oe.prototype),Oe),Xs=Hs;function Ws(e){return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nd(Object(n),!0).forEach(function(r){Rd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Us(){return Us=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=r0(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Us.apply(this,arguments)}function r0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=No(e))!==null;);return e}function Ys(e,t){return Ys=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ys(e,t)}function o0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=No(e);if(t){var u=No(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return i0(this,n)}}function i0(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Id(e)}function Id(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e){return No=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},No(e)}function Rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt,Ld,Vs=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Ys(i,s)})(u,e);var t,n,r=o0(u);function u(){var i;t0(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Rd(Id(i=r.call.apply(r,[this].concat(h))),"modelType",mt.LINE_EDGE),i}return t=u,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return Cd(Cd({},Us(No(u.prototype),"getEdgeStyle",this).call(this)),Gt(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&n0(t.prototype,n),u}(Xs);function $s(e){return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function a0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return zd(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return zd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bd(Object(n),!0).forEach(function(r){qs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Si(){return Si=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=l0(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Si.apply(this,arguments)}function l0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=$r(e))!==null;);return e}function Ks(e,t){return Ks=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ks(e,t)}function f0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$r(e);if(t){var u=$r(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ji(e)}function ji(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(e){return $r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$r(e)}function qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Zs=(pt=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Ks(i,s)})(u,e);var t,n,r=f0(u);function u(){var i;s0(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return qs(ji(i=r.call.apply(r,[this].concat(h))),"modelType",mt.POLYLINE_EDGE),qs(ji(i),"draggingPointList",void 0),u0(ji(i),"dbClickPosition",Ld,ji(i)),i}return t=u,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Si($r(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return Fd(Fd({},Si($r(u.prototype),"getEdgeStyle",this).call(this)),Gt(i))}},{key:"getTextPosition",value:function(){var i,s=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!s){var h=this.dbClickPosition;return{x:h.x,y:h.y}}var v=yo(this.points),_=a0(b0(v),2),E=_[0],T=_[1];return{x:(E.x+T.x)/2,y:(E.y+T.y)/2}}},{key:"getAfterAnchor",value:function(i,s,h){var v,_;return h.forEach(function(E){var T;i===zt.HORIZONTAL?T=Math.abs(s.y-E.y):i===zt.VERTICAL&&(T=Math.abs(s.x-E.x)),(!_||_>T)&&(_=T,v=E)}),v}},{key:"getCrossPoint",value:function(i,s,h){var v;return i===zt.HORIZONTAL?v={x:h.x,y:s.y}:i===zt.VERTICAL&&(v={x:s.x,y:h.y}),v}},{key:"removeCrossPoints",value:function(i,s,h){var v=h.map(function(oe){return oe});if(i===1){var _=v[i],E=v[s],T=v[i-1];if(qd(T,_,this.sourceNode)){if(Zd(_,E,this.sourceNode)){var D=Jd(_,E,this.sourceNode);D&&(v[i]=D,v.splice(i-1,1),i--,s--)}}else this.sourceNode.anchors.forEach(function(oe){(oe.x===T.x&&oe.x===_.x||oe.y===T.y&&oe.y===_.y)&&Jn(oe.x,oe.y,_.x,_.y)<Jn(T.x,T.y,_.x,_.y)&&(v[i-1]=oe)})}if(s===h.length-2){var z=v[i],U=v[s],q=v[s+1];if(qd(U,q,this.targetNode)){if(Zd(z,U,this.targetNode)){var ae=Jd(z,U,this.targetNode);ae&&(v[s]=ae,v.splice(s+1,1))}}else this.targetNode.anchors.forEach(function(oe){(oe.x===q.x&&oe.x===U.x||oe.y===q.y&&oe.y===U.y)&&Jn(oe.x,oe.y,U.x,U.y)<Jn(q.x,q.y,U.x,U.y)&&(v[s+1]=oe)})}return v}},{key:"getDraggingPoints",value:function(i,s,h,v,_){var E=_.map(function(z){return z}),T=this.getAfterAnchor(i,h,v),D=this.getCrossPoint(i,h,T);return s==="start"?(E.unshift(D),E.unshift(T)):(E.push(D),E.push(T)),E}},{key:"updateCrossPoints",value:function(i){var s=i.map(function(_e){return _e}),h=i[0],v=i[1],_=i[s.length-2],E=i[s.length-1],T=this.sourceNode,D=this.targetNode,z=T.modelType,U=D.modelType,q=Ha(h,v),ae=s[0];switch(z){case mt.RECT_NODE:T.radius!==0&&(Pd(h,T)||(ae=jd(h,q,T)));break;case mt.CIRCLE_NODE:ae=Bs(h,q,T);break;case mt.ELLIPSE_NODE:ae=Md(h,q,T);break;case mt.DIAMOND_NODE:case mt.POLYGON_NODE:ae=Td(h,q,T)}s[0]=ae;var oe=Ha(_,E),fe=s[s.length-1];switch(U){case mt.RECT_NODE:D.radius!==0&&(Pd(E,D)||(fe=jd(E,oe,D)));break;case mt.CIRCLE_NODE:fe=Bs(E,oe,D);break;case mt.ELLIPSE_NODE:fe=Md(E,oe,D);break;case mt.DIAMOND_NODE:case mt.POLYGON_NODE:fe=Td(E,oe,D)}return s[s.length-1]=fe,s}},{key:"getData",value:function(){var i=Si($r(u.prototype),"getData",this).call(this),s=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Object.assign({},i,{pointsList:s})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Kd({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,s){this.startPoint.x+=i,this.startPoint.y+=s,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,s){this.endPoint.x+=i,this.endPoint.y+=s,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,s){this.isDragging=!0;var h=i.start,v=i.end,_=i.startIndex,E=i.endIndex,T=i.direction,D=this.pointsList,z=D;return T===zt.HORIZONTAL?(D[_]={x:h.x,y:h.y+s.y},D[E]={x:v.x,y:v.y+s.y},z=this.pointsList.map(function(U){return U})):T===zt.VERTICAL&&(D[_]={x:h.x+s.x,y:h.y},D[E]={x:v.x+s.x,y:v.y},z=this.pointsList.map(function(U){return U})),this.updatePointsAfterDrag(z),this.draggingPointList=z,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[_]),end:Object.assign({},D[E]),startIndex:_,endIndex:E,direction:T}}},{key:"dragAppend",value:function(i,s){this.isDragging=!0;var h=i.start,v=i.end,_=i.startIndex,E=i.endIndex,T=i.direction,D=this.pointsList;if(T===zt.HORIZONTAL){D[_]={x:h.x,y:h.y+s.y},D[E]={x:v.x,y:v.y+s.y};var z=this.pointsList.map(function(De){return De});if(_!==0&&E!==this.pointsList.length-1&&(z=this.removeCrossPoints(_,E,z)),_===0){var U={x:h.x,y:h.y+s.y};if(!Vr(U,this.sourceNode)){var q=this.sourceNode.anchors;z=this.getDraggingPoints(T,"start",U,q,z)}}if(E===this.pointsList.length-1){var ae={x:v.x,y:v.y+s.y};if(!Vr(ae,this.targetNode)){var oe=this.targetNode.anchors;z=this.getDraggingPoints(T,"end",ae,oe,z)}}this.updatePointsAfterDrag(z),this.draggingPointList=z}else if(T===zt.VERTICAL){D[_]={x:h.x+s.x,y:h.y},D[E]={x:v.x+s.x,y:v.y};var fe=this.pointsList.map(function(De){return De});if(_!==0&&E!==this.pointsList.length-1&&(fe=this.removeCrossPoints(_,E,fe)),_===0){var _e={x:h.x+s.x,y:h.y};if(!Vr(_e,this.sourceNode)){var ke=this.sourceNode.anchors;fe=this.getDraggingPoints(T,"start",_e,ke,fe)}}if(E===this.pointsList.length-1){var je={x:v.x+s.x,y:v.y};if(!Vr(je,this.targetNode)){var We=this.targetNode.anchors;fe=this.getDraggingPoints(T,"end",je,We,fe)}}this.updatePointsAfterDrag(fe),this.draggingPointList=fe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[_]),end:Object.assign({},D[E]),startIndex:_,endIndex:E,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=$d(yo(this.points));this.pointsList=i.map(function(v){return v}),this.draggingPointList=[];var s=i[0];this.startPoint=Object.assign({},s);var h=i[i.length-1];this.endPoint=Object.assign({},h)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var s=this.updateCrossPoints(i);this.points=s.map(function(h){return"".concat(h.x,",").concat(h.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var s=i.startPoint,h=i.endPoint,v=i.sourceNode,_=i.targetNode,E=Kd({x:s.x,y:s.y},{x:h.x,y:h.y},v,_,this.offset||0);this.pointsList=E,this.initPoints()}}])&&c0(t.prototype,n),u}(Xs),Ld=gn(pt.prototype,"dbClickPosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn(pt.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"initPoints"),pt.prototype),gn(pt.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"updatePoints"),pt.prototype),gn(pt.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateStartPoint"),pt.prototype),gn(pt.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"moveStartPoint"),pt.prototype),gn(pt.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateEndPoint"),pt.prototype),gn(pt.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"moveEndPoint"),pt.prototype),gn(pt.prototype,"dragAppendStart",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppendStart"),pt.prototype),gn(pt.prototype,"dragAppendSimple",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppendSimple"),pt.prototype),gn(pt.prototype,"dragAppend",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppend"),pt.prototype),gn(pt.prototype,"dragAppendEnd",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppendEnd"),pt.prototype),gn(pt.prototype,"updatePointsAfterDrag",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"updatePointsAfterDrag"),pt.prototype),gn(pt.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"getAdjustStart"),pt.prototype),gn(pt.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"getAdjustEnd"),pt.prototype),gn(pt.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateAfterAdjustStartAndEnd"),pt.prototype),pt),Pi=function(e){var t=e.start,n=e.end,r=e.offset,u=e.verticalLength,i=e.type,s={leftX:0,leftY:0,rightX:0,rightY:0},h=Math.atan((n.y-t.y)/(n.x-t.x)),v=Math.atan(r/u),_=Math.sqrt(u*u+r*r);return i==="start"?n.x>=t.x?(s.leftX=t.x+_*Math.sin(h+v),s.leftY=t.y-_*Math.cos(h+v),s.rightX=t.x-_*Math.sin(h-v),s.rightY=t.y+_*Math.cos(h-v)):(s.leftX=t.x-_*Math.sin(h+v),s.leftY=t.y+_*Math.cos(h+v),s.rightX=t.x+_*Math.sin(h-v),s.rightY=t.y-_*Math.cos(h-v)):i==="end"&&(n.x>=t.x?(s.leftX=n.x+_*Math.sin(h-v),s.leftY=n.y-_*Math.cos(h-v),s.rightX=n.x-_*Math.sin(h+v),s.rightY=n.y+_*Math.cos(h+v)):(s.leftX=n.x-_*Math.sin(h-v),s.leftY=n.y+_*Math.cos(h-v),s.rightX=n.x+_*Math.sin(h+v),s.rightY=n.y-_*Math.cos(h+v))),s},d0={x:1,y:0,z:0};function Gd(e){var t=Math.hypot(e.x,e.y);return{x:e.x/t,y:e.y/t,z:0}}function h0(e){return r=function(i,s){return i.x*s.y-i.y*s.x}(t=d0,n=e),u=Math.acos(function(i,s){var h=[i.x,i.y,i.z];return[s.x,s.y,s.z].reduce(function(v,_,E){return v+_*h[E]})}(Gd(t),Gd(n))),r>=0?u:-u;var t,n,r,u}function Hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hd(Object(n),!0).forEach(function(r){y0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v0(e){return function(t){if(Array.isArray(t))return Qs(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Xd(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Js(e){return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function La(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||Xd(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xd(e,t){if(e){if(typeof e=="string")return Qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qs(e,t):void 0}}function Qs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ec=function(e){var t=[],n={};return e.forEach(function(r){var u="".concat(r.x,"-").concat(r.y);r.id=u,n[u]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},za=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},Ba=function(e,t,n){var r=function(u,i){var s=Math.abs(u.x-i.centerX),h=Math.abs(u.y-i.centerY);return s/i.width>h/i.height?zt.HORIZONTAL:zt.VERTICAL}(n,t);return r===zt.HORIZONTAL?{x:n.x>e.centerX?e.maxX:e.minX,y:n.y}:{x:n.x,y:n.y>e.centerY?e.maxY:e.minY}},Wd=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),u=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+u)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:u,maxY:i,height:i-r,width:u-n}},Mi=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(E){n.push(E.x),r.push(E.y)});var u=Math.min.apply(Math,n),i=Math.max.apply(Math,n),s=Math.min.apply(Math,r),h=Math.max.apply(Math,r),v=i-u,_=h-s;return t&&(v+=t,_+=t),{centerX:(u+i)/2,centerY:(s+h)/2,maxX:i,maxY:h,minX:u,minY:s,x:(u+i)/2,y:(s+h)/2,height:_,width:v}},Fa=function(e){var t=e.minX,n=e.minY,r=e.maxX,u=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:u},{x:t,y:u}]},Ga=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},tc=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Ud=function(e,t,n,r,u){return tc(e,t)+tc(e,n)+function(i,s){var h=0;return s.forEach(function(v){v&&(i.x===v.x&&(h+=-2),i.y===v.y&&(h+=-2))}),h}(e,[t,n,r,u])},g0=function e(t,n,r,u,i){i||(i=0),t.unshift(n[u]),r[u]&&r[u]!==u&&i<=100&&e(t,n,r,r[u],i+1)},Ti=function(e,t,n,r){var u=t.x-e.x,i=t.y-e.y,s=r.x-n.x,h=r.y-n.y,v=(-i*(e.x-n.x)+u*(e.y-n.y))/(-s*i+u*h),_=(s*(e.y-n.y)-h*(e.x-n.x))/(-s*i+u*h);return v>=0&&v<=1&&_>=0&&_<=1},Yd=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=La(Fa(n),4),u=r[0],i=r[1],s=r[2],h=r[3];return Ti(e,t,u,i)||Ti(e,t,u,h)||Ti(e,t,i,s)||Ti(e,t,s,h)},m0=function(e,t,n,r,u,i,s){var h=[],v=[t],_={},E={},T={};E[t.id]=0,T[t.id]=Ud(t,n,t);var D={};e.forEach(function(q){D[q.id]=q});for(var z=function(){var q,ae,oe,fe=void 0,_e=1/0;if(v.forEach(function(je){T[je.id]<_e&&(_e=T[je.id],fe=je)}),fe===n){var ke=[];return g0(ke,D,_,n.id),{v:ke}}ae=fe,(oe=(q=v).indexOf(ae))>-1&&q.splice(oe,1),h.push(fe),function(je,We,De,Ge){var Le=[];return je.forEach(function(ht){ht!==We&&(ht.x!==We.x&&ht.y!==We.y||Yd(ht,We,De)||Yd(ht,We,Ge)||Le.push(ht))}),ec(Le)}(e,fe,r,u).forEach(function(je){if(h.indexOf(je)===-1){v.indexOf(je)===-1&&v.push(je);var We=T[fe.id]+tc(fe,je);E[je.id]&&We>=E[je.id]||(_[je.id]=fe.id,E[je.id]=We,T[je.id]=E[je.id]+Ud(je,n,t,i,s))}})};v.length;){var U=z();if(Js(U)==="object")return U.v}return[t,n]},Vd=function(e){return Ln(e)},$d=function(e){for(var t=1;t<e.length-1;){var n=e[t-1],r=e[t],u=e[t+1];n.x===r.x&&r.x===u.x||n.y===r.y&&r.y===u.y?e.splice(t,1):t++}return e},Kd=function(e,t,n,r,u){var i,s,h=Vd(n),v=Vd(r),_=za(h,u),E=za(v,u),T=Ba(_,h,e),D=Ba(E,v,t);if(i=_,s=E,2*Math.abs(i.centerX-s.centerX)<i.width+s.width&&2*Math.abs(i.centerY-s.centerY)<i.height+s.height){var z=_0(e,t,T,D);return[e,T].concat(v0(z),[D,t])}var U=Mi([T,D]),q=Wd(_,U),ae=Wd(E,U),oe=[];oe=(oe=oe.concat(Fa(q))).concat(Fa(ae));var fe={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[U,q,ae].forEach(function(ke){oe=oe.concat(function(je,We){return function(De,Ge){return Ge<De.minX||Ge>De.maxX?[]:[{x:Ge,y:De.minY},{x:Ge,y:De.maxY}]}(je,We.x).concat(function(De,Ge){return Ge<De.minY||Ge>De.maxY?[]:[{x:De.minX,y:Ge},{x:De.maxX,y:Ge}]}(je,We.y))}(ke,fe).filter(function(je){return Ga(je,_)&&Ga(je,E)}))}),[{x:T.x,y:D.y},{x:D.x,y:T.y}].forEach(function(ke){Ga(ke,_)&&Ga(ke,E)&&oe.push(ke)}),oe.unshift(T),oe.push(D),oe=ec(oe);var _e=m0(oe,T,D,h,v,e,t);return _e.unshift(e),_e.push(t),_e.length>2&&(_e=$d(_e)),ec(_e)},b0=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],u=Jn(n.x,n.y,r.x,r.y),i=1;i<e.length-1;i++){var s=e[i],h=e[i+1],v=Jn(s.x,s.y,h.x,h.y);v>u&&(u=v,n=s,r=h)}t=[n,r]}return t},qd=function(e,t,n){var r=Vr(e,n),u=Vr(t,n);return r&&u},Zd=function(e,t,n){var r=Vr(e,n),u=Vr(t,n);return!(r&&u)&&(r||u)},Jd=function(e,t,n){for(var r,u,i=Ln(n),s=Fa(i),h=0;h<s.length;h++)Ti(e,t,s[h],s[(h+1)%s.length])&&(u=[s[h],s[(h+1)%s.length]]);return u&&(r=function(v,_,E,T){var D=(_.y-v.y)*(T.x-E.x)-(v.x-_.x)*(E.y-T.y);if(D===0)return!1;var z=((_.x-v.x)*(T.x-E.x)*(E.y-v.y)+(_.y-v.y)*(T.x-E.x)*v.x-(T.y-E.y)*(_.x-v.x)*E.x)/D,U=-((_.y-v.y)*(T.y-E.y)*(E.x-v.x)+(_.x-v.x)*(T.y-E.y)*v.y-(T.x-E.x)*(_.y-v.y)*E.y)/D;return(z-v.x)*(z-_.x)<=0&&(U-v.y)*(U-_.y)<=0&&(z-E.x)*(z-T.x)<=0&&(U-E.y)*(U-T.y)<=0&&{x:z,y:U}}(e,t,u[0],u[1])),r},Ha=function(e,t){var n;return e.x===t.x?n=zt.VERTICAL:e.y===t.y&&(n=zt.HORIZONTAL),n},yo=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var u=La(r.split(","),2),i=u[0],s=u[1];n.push({x:Number(i),y:Number(s)})}),n},_0=function(e,t,n,r){var u=[];if(Ha(e,n)===Ha(t,r))e.y===n.y?(u.push({x:n.x,y:(n.y+r.y)/2}),u.push({x:r.x,y:(n.y+r.y)/2})):(u.push({x:(n.x+r.x)/2,y:n.y}),u.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},s=xi(i,e,n),h=xi(i,t,r);if(s||h)i={x:r.x,y:n.y};else{var v=Qd(i,e,n),_=Qd(i,t,r);v&&_&&(i={x:r.x,y:n.y})}u.push(i)}return u},Qd=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},eh=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},th=function(e){var t=e.start,n=e.end,r=e.sourceNode,u=e.targetNode,i=e.offset,s=Ln(r),h=Ln(u),v=za(s,i),_=za(h,i);return{sNext:Ba(v,s,t),ePre:Ba(_,h,n)}},nc=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[Xa(t[0]),Xa(t[1]),Xa(t[2]),Xa(t[3])]},Xa=function(e){var t=La(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},nh=function(e,t){var n=La(e,4),r=function(u,i,s,h,v){for(var _=function(fe){if(fe<0||fe>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:u.x*Math.pow(1-fe,3)+3*i.x*fe*Math.pow(1-fe,2)+3*s.x*Math.pow(fe,2)*(1-fe)+h.x*Math.pow(fe,3),y:u.y*Math.pow(1-fe,3)+3*i.y*fe*Math.pow(1-fe,2)+3*s.y*Math.pow(fe,2)*(1-fe)+h.y*Math.pow(fe,3)}},E=0,T=2,D=h.x,z=h.y,U=h;E<v&&T<50;){var q=U=_(1-T/100),ae=q.x,oe=q.y;E=Jn(D,z,ae,oe),T++}return U}(n[0],n[1],n[2],n[3],t);return[r,e[3]]},rh=function(e,t){for(var n,r=e.x,u=e.y,i=yo(t),s=Number.MAX_SAFE_INTEGER,h=[],v=0;v<i.length;v++)h.push({start:i[v],end:i[(v+1)%i.length]});if(h.forEach(function(D){var z=D.start,U=D.end;if(z.x===U.x){var q={x:z.x,y:u};if(xi(q,z,U)){var ae=Math.abs(z.x-r);ae<s&&(s=ae,n=q)}}else if(z.y===U.y){var oe={x:r,y:z.y};if(xi(oe,z,U)){var fe=Math.abs(z.y-u);fe<s&&(s=fe,n=oe)}}}),!n){var _=h[0],E=_.start,T=_.end;n={x:E.x+(T.x-E.x)/2,y:E.y+(T.y-E.y)/2}}return n},O0=function(e){return Oi(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},oh=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};o(204);var Co=function(){};function w0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fr=window.document;function x0(e){var t=e.onDragStart,n=t===void 0?Co:t,r=e.onDragging,u=r===void 0?Co:r,i=e.onDragEnd,s=i===void 0?Co:i,h=e.step,v=h===void 0?1:h,_=e.isStopPropagation,E=_===void 0||_,T=!1,D=!1,z=0,U=0,q=0,ae=0;function oe(_e){if(E&&_e.stopPropagation(),D&&(T=!0,q+=_e.clientX-z,ae+=_e.clientY-U,z=_e.clientX,U=_e.clientY,Math.abs(q)>v||Math.abs(ae)>v)){var ke=q%v,je=ae%v,We=q-ke,De=ae-je;q=ke,ae=je,u({deltaX:We,deltaY:De,event:_e})}}function fe(_e){if(E&&_e.stopPropagation(),D=!1,fr.removeEventListener("mousemove",oe,!1),fr.removeEventListener("mouseup",fe,!1),T)return T=!1,s({event:_e})}return function(_e){if(_e.button===0)return E&&_e.stopPropagation(),D=!0,z=_e.clientX,U=_e.clientY,fr.addEventListener("mousemove",oe,!1),fr.addEventListener("mouseup",fe,!1),n({event:_e})}}var pe,ih,ah,uh,sh,ch,lh,fh,ph,dh,hh,yh,vh,Mr=function(){function e(r){var u=this,i=r.onDragStart,s=i===void 0?Co:i,h=r.onDragging,v=h===void 0?Co:h,_=r.onDragEnd,E=_===void 0?Co:_,T=r.eventType,D=T===void 0?"":T,z=r.eventCenter,U=z===void 0?null:z,q=r.step,ae=q===void 0?1:q,oe=r.isStopPropagation,fe=oe===void 0||oe,_e=r.model,ke=_e===void 0?null:_e,je=r.data,We=je===void 0?null:je;(function(De,Ge){if(!(De instanceof Ge))throw new TypeError("Cannot call a class as a function")})(this,e),Qt(this,"onDragStart",void 0),Qt(this,"onDragging",void 0),Qt(this,"onDragEnd",void 0),Qt(this,"step",void 0),Qt(this,"isStopPropagation",void 0),Qt(this,"isDragging",!1),Qt(this,"isStartDragging",!1),Qt(this,"startX",0),Qt(this,"startY",0),Qt(this,"sumDeltaX",0),Qt(this,"sumDeltaY",0),Qt(this,"eventType",void 0),Qt(this,"eventCenter",void 0),Qt(this,"model",void 0),Qt(this,"data",void 0),Qt(this,"startTime",void 0),Qt(this,"handleMouseDown",function(De){var Ge,Le;if(De.button===0){u.isStopPropagation&&De.stopPropagation(),u.isStartDragging=!0,u.startX=De.clientX,u.startY=De.clientY,fr.addEventListener("mousemove",u.handleMouseMove,!1),fr.addEventListener("mouseup",u.handleMouseUp,!1);var ht=(Ge=u.model)===null||Ge===void 0?void 0:Ge.getData();(Le=u.eventCenter)===null||Le===void 0||Le.emit(ot["".concat(u.eventType,"_MOUSEDOWN")],{e:De,data:u.data||ht}),u.startTime=new Date().getTime()}}),Qt(this,"handleMouseMove",function(De){if(u.isStopPropagation&&De.stopPropagation(),u.isStartDragging&&(u.sumDeltaX+=De.clientX-u.startX,u.sumDeltaY+=De.clientY-u.startY,u.startX=De.clientX,u.startY=De.clientY,u.step<=1||Math.abs(u.sumDeltaX)>u.step||Math.abs(u.sumDeltaY)>u.step)){var Ge,Le=u.sumDeltaX%u.step,ht=u.sumDeltaY%u.step,Tt=u.sumDeltaX-Le,xt=u.sumDeltaY-ht;u.sumDeltaX=Le,u.sumDeltaY=ht;var Dt,Kt=(Ge=u.model)===null||Ge===void 0?void 0:Ge.getData();u.isDragging||((Dt=u.eventCenter)===null||Dt===void 0||Dt.emit(ot["".concat(u.eventType,"_DRAGSTART")],{e:De,data:u.data||Kt}),u.onDragStart({event:De})),u.isDragging=!0,Promise.resolve().then(function(){var nn,_n;u.onDragging({deltaX:Tt,deltaY:xt,event:De}),(nn=u.eventCenter)===null||nn===void 0||nn.emit(ot["".concat(u.eventType,"_MOUSEMOVE")],{e:De,data:u.data||Kt}),(_n=u.eventCenter)===null||_n===void 0||_n.emit(ot["".concat(u.eventType,"_DRAG")],{e:De,data:u.data||Kt})})}}),Qt(this,"handleMouseUp",function(De){u.isStartDragging=!1,u.isStopPropagation&&De.stopPropagation(),Promise.resolve().then(function(){var Ge,Le,ht;fr.removeEventListener("mousemove",u.handleMouseMove,!1),fr.removeEventListener("mouseup",u.handleMouseUp,!1);var Tt=(Ge=u.model)===null||Ge===void 0?void 0:Ge.getData();(Le=u.eventCenter)===null||Le===void 0||Le.emit(ot["".concat(u.eventType,"_MOUSEUP")],{e:De,data:u.data||Tt}),u.isDragging&&(u.isDragging=!1,u.onDragEnd({event:De}),(ht=u.eventCenter)===null||ht===void 0||ht.emit(ot["".concat(u.eventType,"_DROP")],{e:De,data:u.data||Tt}))})}),Qt(this,"cancelDrag",function(){fr.removeEventListener("mousemove",u.handleMouseMove,!1),fr.removeEventListener("mouseup",u.handleMouseUp,!1),u.onDragEnd({event:null}),u.isDragging=!1}),this.onDragStart=s,this.onDragging=v,this.onDragEnd=E,this.step=ae,this.isStopPropagation=fe,this.eventType=D,this.eventCenter=U,this.model=ke,this.data=We}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&w0(t.prototype,n),e}(),gh={node:!1,edge:!1},E0={node:!0,edge:!0};function mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mh(Object(n),!0).forEach(function(r){pr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ai(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||bh(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Io(e){return function(t){if(Array.isArray(t))return rc(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||bh(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bh(e,t){if(e){if(typeof e=="string")return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rc(e,t):void 0}}function rc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ua(e){return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(e)}function Yn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function S0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var _h,Oh=200,wh=(pe=function(){function e(r){(function(U,q){if(!(U instanceof q))throw new TypeError("Cannot call a class as a function")})(this,e),pr(this,"rootEl",void 0),Yn(this,"width",ih,this),Yn(this,"height",ah,this),pr(this,"theme",void 0),pr(this,"eventCenter",void 0),pr(this,"modelMap",new Map),pr(this,"topElement",void 0),pr(this,"animation",void 0),pr(this,"idGenerator",void 0),pr(this,"edgeGenerator",void 0),pr(this,"nodeMoveRules",[]),Yn(this,"edgeType",uh,this),Yn(this,"nodes",sh,this),Yn(this,"edges",ch,this),Yn(this,"overlapMode",lh,this),Yn(this,"background",fh,this),Yn(this,"transformModel",ph,this),Yn(this,"editConfigModel",dh,this),Yn(this,"gridSize",hh,this),Yn(this,"partial",yh,this),Yn(this,"fakerNode",vh,this);var u,i,s,h=r.container,v=r.background,_=v===void 0?{}:v,E=r.grid,T=r.idGenerator,D=r.edgeGenerator,z=r.animation;this.background=_,Ua(E)==="object"&&(this.gridSize=E.size),this.rootEl=h,this.editConfigModel=new kp(r),this.eventCenter=new Hb,this.transformModel=new ub(this.eventCenter),this.theme=ed(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(u=z)&&typeof u!="boolean"?Qp(Gt(gh),u):Gt(u===!0?E0:gh),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=T,this.edgeGenerator=(i=this,typeof(s=D)!="function"?function(U,q,ae){return Object.assign({type:i.edgeType},ae)}:function(U,q,ae){var oe=s(U,q,ae);return oe?typeof oe=="string"?Object.assign({},ae,{type:oe}):Object.assign({type:oe},ae):{type:i.edgeType}}),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=Yr()}var t,n;return t=e,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,u,i){return r[u.id]={index:i,model:u},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,u,i){return r[u.id]={index:i,model:u},r},{})}},{key:"modelsMap",get:function(){return[].concat(Io(this.nodes),Io(this.edges)).reduce(function(r,u){return r[u.id]=u,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(_){return r.push(_)}),this.edges.forEach(function(_){return r.push(_)}),r=r.sort(function(_,E){return _.zIndex-E.zIndex});for(var u=[],i=[-200,-200],s=[this.width+Oh,this.height+Oh],h=0;h<r.length;h++){var v=r[h];v.visible&&(!this.partial||v.isSelected||this.isElementInArea(v,i,s,!1,!1))&&u.push(v)}return u}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===St.TEXT_EDIT}),u=this.edges.find(function(i){return i.state===St.TEXT_EDIT});return r||u}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(u){u.isSelected&&r.set(u.id,u)}),this.edges.forEach(function(u){u.isSelected&&r.set(u.id,u)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(u){u.isSelected&&r.push(u)}),r}},{key:"getAreaElement",value:function(r,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=arguments.length>4&&arguments[4]!==void 0&&arguments[4],v=[],_=[];this.nodes.forEach(function(D){return _.push(D)}),this.edges.forEach(function(D){return _.push(D)});for(var E=0;E<_.length;E++){var T=_[E];h&&!T.visible||!this.isElementInArea(T,r,u,i,s)||v.push(T)}return v}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var u;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(u=this.nodesMap[r])===null||u===void 0?void 0:u.model}},{key:"getPointByClient",value:function(r){var u=r.x,i=r.y,s=this.rootEl.getBoundingClientRect(),h={x:u-s.left,y:i-s.top},v=Ai(this.transformModel.HtmlPointToCanvasPoint([h.x,h.y]),2);return{domOverlayPosition:h,canvasOverlayPosition:{x:v[0],y:v[1]}}}},{key:"isElementInArea",value:function(r,u,i){var s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Zt.NODE){for(var v=Ln(r=r),_=v.minX,E=v.minY,T=v.maxX,D=v.maxY,z=[{x:_,y:E},{x:T,y:E},{x:T,y:D},{x:_,y:D}],U=h,q=0;q<z.length;q++){var ae=z[q],oe=ae.x,fe=ae.y,_e=this.transformModel.CanvasPointToHtmlPoint([oe,fe]),ke=Ai(_e,2);if(oe=ke[0],fe=ke[1],Cs([oe,fe],u,i)!==h){U=!h;break}}return U}if(r.BaseType===Zt.EDGE){var je=r=r,We=je.startPoint,De=je.endPoint,Ge=this.transformModel.CanvasPointToHtmlPoint([We.x,We.y]),Le=this.transformModel.CanvasPointToHtmlPoint([De.x,De.y]),ht=Cs(Ge,u,i),Tt=Cs(Le,u,i);return s?ht&&Tt:ht||Tt}return!1}},{key:"graphDataToModel",value:function(r){var u=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=ka(r.nodes,function(i){var s=u.getModel(i.type);if(!s)throw new Error("找不到".concat(i.type,"对应的节点。"));var h=i.x,v=i.y;return h&&v&&(i.x=Ur(h,u.gridSize),i.y=Ur(v,u.gridSize),Ua(i.text)==="object"&&(i.text.x-=td(h,u.gridSize),i.text.y-=td(v,u.gridSize))),new s(i,u)}):this.nodes=[],r.edges?this.edges=ka(r.edges,function(i){var s=u.getModel(i.type);if(!s)throw new Error("找不到".concat(i.type,"对应的边。"));return new s(i,u)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var s=i.getData();s&&!i.virtual&&r.push(s)});var u=[];return this.nodes.forEach(function(i){var s=i.getData();s&&!i.virtual&&u.push(s)}),{nodes:u,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,u=[],i=0;i<this.nodes.length;i++){var s=this.nodes[i];if(s.isDragging){r=!0;break}u.push(s.getHistoryData())}if(r)return!1;for(var h=!1,v=[],_=0;_<this.edges.length;_++){var E=this.edges[_];if(E.isDragging){h=!0;break}v.push(E.getHistoryData())}return!h&&{nodes:u,edges:v}}},{key:"getEdgeModelById",value:function(r){var u;return(u=this.edgesMap[r])===null||u===void 0?void 0:u.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var u=[],i=0;i<this.edges.length;i++){var s=this.edges[i],h=this.edges[i].sourceNodeId===r,v=this.edges[i].targetNodeId===r;(h||v)&&u.push(s)}return u}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],u=this.selectElements,i={nodes:[],edges:[]};return u.forEach(function(s){if(s.BaseType===Zt.NODE&&i.nodes.push(s.getData()),s.BaseType===Zt.EDGE){var h=s.getData(),v=u.get(h.sourceNodeId)&&u.get(h.targetNodeId);(r||v)&&i.edges.push(h)}}),i}},{key:"updateAttributes",value:function(r,u){this.getElement(r).updateAttributes(u)}},{key:"changeNodeId",value:function(r,u){return u||(u=Yr()),this.nodesMap[u]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=u),i.targetNodeId===r&&(i.targetNodeId=u)}),this.nodesMap[r].model.id=u,this.nodesMap[u]=this.nodesMap[r],u):""}},{key:"changeEdgeId",value:function(r,u){return u||(u=Yr()),this.edgesMap[u]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(u)}),u):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,u){return this.modelMap.set(r,u)}},{key:"toFront",value:function(r){var u,i,s,h=((u=this.nodesMap[r])===null||u===void 0?void 0:u.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);h&&(this.overlapMode===Rn.DEFAULT&&((s=this.topElement)===null||s===void 0||s.setZIndex(),h.setZIndex(9999),this.topElement=h),this.overlapMode===Rn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,u){var i,s,h,v=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((s=this.edgesMap[r])===null||s===void 0?void 0:s.model);v&&(typeof u=="number"&&(h=u),u==="top"&&(h=Gs()),u==="bottom"&&(h=--Qb),v.setZIndex(h))}},{key:"deleteNode",value:function(r){var u=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(ot.NODE_DELETE,{data:u})}},{key:"addNode",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,s=ln(r);s.id&&this.nodesMap[r.id]&&delete s.id;var h=this.getModel(s.type);if(!h)throw new Error("找不到".concat(s.type,"对应的节点，请确认是否已注册此类型节点。"));s.x=Ur(s.x,this.gridSize),s.y=Ur(s.y,this.gridSize);var v=new h(s,this);this.nodes.push(v);var _=v.getData(),E={data:_};return i&&(E.e=i),this.eventCenter.emit(u,E),v}},{key:"cloneNode",value:function(r){var u=this.getNodeModelById(r),i=u.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var s=this.addNode(i);return s.setSelected(!0),u.setSelected(!1),s.getData()}},{key:"moveNode",value:function(r,u,i){var s=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var v=h.model,_=v.getMoveDistance(u,i,s),E=Ai(_,2);u=E[0],i=E[1],this.moveEdge(r,u,i)}}},{key:"moveNode2Coordinate",value:function(r,u,i){var s=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var v=h.model,_=v.x,E=v.y,T=u-_,D=i-E;this.moveNode(r,T,D,s)}}},{key:"editText",value:function(r){this.setElementStateById(r,St.TEXT_EDIT)}},{key:"addEdge",value:function(r){var u=ln(r),i=u.type;i||(i=this.edgeType),u.id&&this.edgesMap[u.id]&&delete u.id;var s=this.getModel(i);if(!s)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var h=new s(Wa(Wa({},u),{},{type:i}),this),v=h.getData();return this.edges.push(h),this.eventCenter.emit(ot.EDGE_ADD,{data:v}),h}},{key:"moveEdge",value:function(r,u,i){for(var s=0;s<this.edges.length;s++){var h=this.edges[s],v=h.textPosition,_=v.x,E=v.y,T=this.edges[s].sourceNodeId===r,D=this.edges[s].targetNodeId===r;T&&h.moveStartPoint(u,i),D&&h.moveEndPoint(u,i),(T||D)&&this.handleEdgeTextMove(h,_,E)}}},{key:"handleEdgeTextMove",value:function(r,u,i){var s;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===mt.POLYLINE_EDGE&&(s=r.text)!==null&&s!==void 0&&s.value){var h=r.text,v=rh(h,r.points);r.moveText(v.x-h.x,v.y-h.y)}else{var _=r.textPosition,E=_.x,T=_.y;r.moveText(E-u,T-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,u){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===u){var s=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(ot.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var u=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(u,1),this.eventCenter.emit(ot.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var u=0;u<this.edges.length;u++)if(this.edges[u].sourceNodeId===r){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(ot.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var u=0;u<this.edges.length;u++)if(this.edges[u].targetNodeId===r){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(ot.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,u,i){this.nodes.forEach(function(s){s.id===r?s.setElementState(u,i):s.setElementState(St.DEFAULT)}),this.edges.forEach(function(s){s.id===r?s.setElementState(u,i):s.setElementState(St.DEFAULT)})}},{key:"updateText",value:function(r,u){this.nodes.forEach(function(i){i.id===r&&i.updateText(u)}),this.edges.forEach(function(i){i.id===r&&i.updateText(u)})}},{key:"selectNodeById",value:function(r){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var s=(u=this.nodesMap[r])===null||u===void 0?void 0:u.model;s==null||s.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var s=(u=this.edgesMap[r])===null||u===void 0?void 0:u.model;s==null||s.setSelected(!0)}},{key:"selectElementById",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(u){u==null||u.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Rn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,u,i){for(var s=this,h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=r.reduce(function(ke,je){var We=s.nodesMap[je].model.getMoveDistance(u,i,h);return ke[je]=We,ke},{}),_=0;_<this.edges.length;_++){var E=this.edges[_],T=E.textPosition,D=T.x,z=T.y,U=v[E.sourceNodeId],q=void 0,ae=void 0;if(U){var oe=Ai(U,2);q=oe[0],ae=oe[1],E.moveStartPoint(q,ae)}var fe=v[E.targetNodeId];if(fe){var _e=Ai(fe,2);q=_e[0],ae=_e[1],E.moveEndPoint(q,ae)}(U||fe)&&this.handleEdgeTextMove(E,D,z)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,u){var i=this.getNodeModelById(r);if(i){var s=i.getData();s.type=u;var h=this.getModel(u);if(!h)throw new Error("找不到".concat(u,"对应的节点，请确认是否已注册此类型节点。"));var v=new h(s,this);this.nodes.splice(this.nodesMap[r].index,1,v),this.getNodeEdges(r).forEach(function(_){if(_.sourceNodeId===r){var E=Ad(v,_.startPoint,v.width,v.height);_.updateStartPoint(E)}if(_.targetNodeId===r){var T=Ad(v,_.endPoint,v.width,v.height);_.updateEndPoint(T)}})}}},{key:"changeEdgeType",value:function(r,u){var i=this.getEdgeModelById(r);if(i&&i.type!==u){var s=i.getData();s.type=u;var h=this.getModel(u);if(!h)throw new Error("找不到".concat(u,"对应的节点，请确认是否已注册此类型节点。"));delete s.pointsList;var v=new h(s,this);this.edges.splice(this.edgesMap[r].index,1,v)}}},{key:"getNodeIncomingEdge",value:function(r){var u=[];return this.edges.forEach(function(i){i.targetNodeId===r&&u.push(i)}),u}},{key:"getNodeOutgoingEdge",value:function(r){var u=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&u.push(i)}),u}},{key:"getNodeIncomingNode",value:function(r){var u=this,i=[];return this.edges.forEach(function(s){s.targetNodeId===r&&i.push(u.nodesMap[s.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var u=this,i=[];return this.edges.forEach(function(s){s.sourceNodeId===r&&i.push(u.nodesMap[s.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=ed(Wa(Wa({},this.theme),r))}},{key:"resize",value:function(r,u){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=u||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,u=[],i=[];r.forEach(function(T){var D=T.x,z=T.y,U=T.width,q=T.height,ae=T.getNodeStyle().strokeWidth,oe=ae===void 0?0:ae;u=u.concat([D+U/2+oe,D-U/2-oe]),i=i.concat([z+q/2+oe,z-q/2-oe])});var s=Math.min.apply(Math,Io(u)),h=Math.max.apply(Math,Io(u)),v=Math.min.apply(Math,Io(i)),_=h-s||0,E=Math.max.apply(Math,Io(i))-v||0;return{virtualRectWidth:_,virtualRectHeight:E,virtualRectCenterPositionX:s+_/2,virtualRectCenterPositionY:v+E/2}}},{key:"translateCenter",value:function(){var r=this.nodes,u=this.width,i=this.height,s=this.rootEl,h=this.transformModel;if(r.length){var v=u||s.clientWidth,_=i||s.clientHeight,E=this.getVirtualRectSize(),T=E.virtualRectCenterPositionX,D=E.virtualRectCenterPositionY;h.focusOn(T,D,v,_)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,s=this.width,h=this.height,v=this.rootEl,_=this.transformModel;if(i.length){var E=s||v.clientWidth,T=h||v.clientHeight,D=this.getVirtualRectSize(),z=D.virtualRectWidth,U=D.virtualRectHeight,q=D.virtualRectCenterPositionX,ae=D.virtualRectCenterPositionY,oe=(z+u)/E,fe=(U+r)/T,_e=0;_e=1/Math.max(oe,fe);var ke=[E/2,T/2];_.zoom(_e,ke),_.focusOn(q,ae,E,T)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&S0(t.prototype,n),e}(),ih=qe(pe.prototype,"width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ah=qe(pe.prototype,"height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uh=qe(pe.prototype,"edgeType",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sh=qe(pe.prototype,"nodes",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ch=qe(pe.prototype,"edges",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lh=qe(pe.prototype,"overlapMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rn.DEFAULT}}),fh=qe(pe.prototype,"background",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ph=qe(pe.prototype,"transformModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dh=qe(pe.prototype,"editConfigModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hh=qe(pe.prototype,"gridSize",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yh=qe(pe.prototype,"partial",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vh=qe(pe.prototype,"fakerNode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe(pe.prototype,"nodesMap",[l.m],Object.getOwnPropertyDescriptor(pe.prototype,"nodesMap"),pe.prototype),qe(pe.prototype,"edgesMap",[l.m],Object.getOwnPropertyDescriptor(pe.prototype,"edgesMap"),pe.prototype),qe(pe.prototype,"modelsMap",[l.m],Object.getOwnPropertyDescriptor(pe.prototype,"modelsMap"),pe.prototype),qe(pe.prototype,"sortElements",[l.m],Object.getOwnPropertyDescriptor(pe.prototype,"sortElements"),pe.prototype),qe(pe.prototype,"textEditElement",[l.m],Object.getOwnPropertyDescriptor(pe.prototype,"textEditElement"),pe.prototype),qe(pe.prototype,"selectElements",[l.m],Object.getOwnPropertyDescriptor(pe.prototype,"selectElements"),pe.prototype),qe(pe.prototype,"selectNodes",[l.m],Object.getOwnPropertyDescriptor(pe.prototype,"selectNodes"),pe.prototype),qe(pe.prototype,"setFakerNode",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"setFakerNode"),pe.prototype),qe(pe.prototype,"removeFakerNode",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"removeFakerNode"),pe.prototype),qe(pe.prototype,"setModel",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"setModel"),pe.prototype),qe(pe.prototype,"toFront",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"toFront"),pe.prototype),qe(pe.prototype,"setElementZIndex",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"setElementZIndex"),pe.prototype),qe(pe.prototype,"deleteNode",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteNode"),pe.prototype),qe(pe.prototype,"addNode",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"addNode"),pe.prototype),qe(pe.prototype,"cloneNode",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"cloneNode"),pe.prototype),qe(pe.prototype,"moveNode",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"moveNode"),pe.prototype),qe(pe.prototype,"moveNode2Coordinate",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"moveNode2Coordinate"),pe.prototype),qe(pe.prototype,"editText",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"editText"),pe.prototype),qe(pe.prototype,"addEdge",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"addEdge"),pe.prototype),qe(pe.prototype,"moveEdge",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"moveEdge"),pe.prototype),qe(pe.prototype,"deleteEdgeBySourceAndTarget",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteEdgeBySourceAndTarget"),pe.prototype),qe(pe.prototype,"deleteEdgeById",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteEdgeById"),pe.prototype),qe(pe.prototype,"deleteEdgeBySource",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteEdgeBySource"),pe.prototype),qe(pe.prototype,"deleteEdgeByTarget",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"deleteEdgeByTarget"),pe.prototype),qe(pe.prototype,"setElementStateById",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"setElementStateById"),pe.prototype),qe(pe.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"updateText"),pe.prototype),qe(pe.prototype,"selectNodeById",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"selectNodeById"),pe.prototype),qe(pe.prototype,"selectEdgeById",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"selectEdgeById"),pe.prototype),qe(pe.prototype,"selectElementById",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"selectElementById"),pe.prototype),qe(pe.prototype,"clearSelectElements",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"clearSelectElements"),pe.prototype),qe(pe.prototype,"moveNodes",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"moveNodes"),pe.prototype),qe(pe.prototype,"setDefaultEdgeType",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"setDefaultEdgeType"),pe.prototype),qe(pe.prototype,"changeNodeType",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"changeNodeType"),pe.prototype),qe(pe.prototype,"changeEdgeType",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"changeEdgeType"),pe.prototype),qe(pe.prototype,"getNodeIncomingEdge",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"getNodeIncomingEdge"),pe.prototype),qe(pe.prototype,"getNodeOutgoingEdge",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"getNodeOutgoingEdge"),pe.prototype),qe(pe.prototype,"getNodeIncomingNode",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"getNodeIncomingNode"),pe.prototype),qe(pe.prototype,"getNodeOutgoingNode",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"getNodeOutgoingNode"),pe.prototype),qe(pe.prototype,"setTheme",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"setTheme"),pe.prototype),qe(pe.prototype,"resize",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"resize"),pe.prototype),qe(pe.prototype,"clearData",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"clearData"),pe.prototype),qe(pe.prototype,"translateCenter",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"translateCenter"),pe.prototype),qe(pe.prototype,"fitView",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"fitView"),pe.prototype),qe(pe.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"openEdgeAnimation"),pe.prototype),qe(pe.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(pe.prototype,"closeEdgeAnimation"),pe.prototype),pe),j0=wh;function oc(e){return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function ic(){return ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}function P0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ac(e,t){return ac=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ac(e,t)}function M0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ya(e);if(t){var u=Ya(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return T0(this,n)}}function T0(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dr(e)}function dr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ya(e){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ya(e)}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xh,A0=nr(_h=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&ac(i,s)})(u,e);var t,n,r=M0(u);function u(i){var s;(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,u),Tr(dr(s=r.call(this)),"stepDrag",void 0),Tr(dr(s),"stepScrollX",0),Tr(dr(s),"stepScrollY",0),Tr(dr(s),"onDragging",function(E){var T=E.deltaX,D=E.deltaY;s.setState({isDragging:!0});var z=s.props.graphModel,U=z.transformModel;z.editConfigModel.stopMoveGraph||U.translate(T,D)}),Tr(dr(s),"onDragEnd",function(){s.setState({isDragging:!1})}),Tr(dr(s),"zoomHandler",function(E){var T=s.props,D=T.graphModel,z=D.editConfigModel,U=D.transformModel,q=D.gridSize,ae=T.graphModel,oe=E.deltaX,fe=E.deltaY;if(z.stopScrollGraph||E.ctrlKey===!0){if(!z.stopZoomGraph){E.preventDefault();var _e=ae.getPointByClient({x:E.clientX,y:E.clientY}).canvasOverlayPosition,ke=_e.x,je=_e.y;U.zoom(E.deltaY<0,[ke,je])}}else{if(E.preventDefault(),s.stepScrollX+=oe,s.stepScrollY+=fe,Math.abs(s.stepScrollX)>=q){var We=s.stepScrollX%q,De=s.stepScrollX-We;U.translate(-De*U.SCALE_X,0),s.stepScrollX=We}if(Math.abs(s.stepScrollY)>=q){var Ge=s.stepScrollY%q,Le=s.stepScrollY-Ge;U.translate(0,-Le*U.SCALE_Y),s.stepScrollY=Ge}}}),Tr(dr(s),"clickHandler",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){var T=s.props.graphModel;T.selectElements.size>0&&T.clearSelectElements(),T.eventCenter.emit(ot.BLANK_CLICK,{e:E})}}),Tr(dr(s),"handleContextMenu",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){E.preventDefault();var T=s.props.graphModel,D=T.getPointByClient({x:E.clientX,y:E.clientY});T.eventCenter.emit(ot.BLANK_CONTEXTMENU,{e:E,position:D})}}),Tr(dr(s),"mouseDownHandler",function(E){var T=s.props.graphModel,D=T.eventCenter,z=T.editConfigModel,U=T.transformModel.SCALE_X,q=T.gridSize,ae=E.target,oe=!z.adjustEdge&&!z.adjustNodePosition;(ae.getAttribute("name")==="canvas-overlay"||oe)&&(z.stopMoveGraph?D.emit(ot.BLANK_MOUSEDOWN,{e:E}):(s.stepDrag.setStep(q*U),s.stepDrag.handleMouseDown(E)),s.clickHandler(E))});var h=i.graphModel,v=h.gridSize,_=h.eventCenter;return s.stepDrag=new Mr({onDragging:s.onDragging,onDragEnd:s.onDragEnd,step:v,eventType:"BLANK",isStopPropagation:!1,eventCenter:_,model:null}),s.state={isDragging:!1},s}return t=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,s=this.props,h=s.children,v=s.dnd,_=this.state.isDragging;return Object(ne.g)("svg",ic({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:_?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},v.eventMap()),Object(ne.g)("g",{transform:i},h))}}])&&P0(t.prototype,n),u}(ne.a))||_h;function uc(e){return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function k0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e,t){return sc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sc(e,t)}function N0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Va(e);if(t){var u=Va(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return C0(this,n)}}function C0(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}var I0=nr(xh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&sc(i,s)})(u,e);var t,n,r=N0(u);function u(){return k0(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,s=i.tool,h=i.graphModel,v=s.getTools().map(function(_){return Object(ne.g)(_,{graphModel:h,logicFlow:s.instance})});return s.components=v,v}},{key:"triggerToolRender",value:function(){var i=this.props,s=i.tool,h=i.graphModel,v=document.querySelector("#ToolOverlay_".concat(h.flowId)),_=s.getInstance();_.components.forEach(function(E){return E(_,v)}),_.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(ne.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&D0(t.prototype,n),u}(ne.a))||xh;function cc(e){return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function R0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lc(e,t){return lc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lc(e,t)}function z0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$a(e);if(t){var u=$a(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return B0(this,n)}}function B0(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function $a(e){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(e)}var Eh,F0=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&lc(i,s)})(u,e);var t,n,r=z0(u);function u(){return R0(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var i=this.props.background;return Object(ne.g)("div",{className:"lf-background"},Object(ne.g)("div",{style:i,className:"lf-background-area"}))}}])&&L0(t.prototype,n),u}(ne.a);function fc(e){return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function G0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pc(e,t){return pc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pc(e,t)}function X0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ka(e);if(t){var u=Ka(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return W0(this,n)}}function W0(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sh(e)}function Sh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(e)}function U0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jh=nr(Eh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&pc(i,s)})(u,e);var t,n,r=X0(u);function u(){var i;G0(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return U0(Sh(i=r.call.apply(r,[this].concat(h))),"id",Yr()),i}return t=u,(n=[{key:"renderDot",value:function(){var i=this.props,s=i.config,h=s.color,v=s.thickness,_=v===void 0?2:v,E=i.size,T=i.visible,D=Math.min(Math.max(2,_),E/2),z=1;return T||(z=0),Object(ne.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:h,opacity:z})}},{key:"renderMesh",value:function(){var i=this.props,s=i.config,h=s.color,v=s.thickness,_=v===void 0?1:v,E=i.size,T=i.visible,D=Math.min(Math.max(1,_),E/2),z="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),U=1;return T||(U=0),Object(ne.g)("path",{d:z,stroke:h,strokeWidth:D,opacity:U})}},{key:"render",value:function(){var i=this.props,s=i.type,h=i.size,v=i.graphModel.transformModel,_=[v.SCALE_X,v.SKEW_Y,v.SKEW_X,v.SCALE_Y,v.TRANSLATE_X,v.TRANSLATE_Y].join(","),E="matrix(".concat(_,")");return Object(ne.g)("div",{className:"lf-grid"},Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ne.g)("defs",null,Object(ne.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:E,x:"0",y:"0",width:h,height:h},s==="dot"&&this.renderDot(),s==="mesh"&&this.renderMesh())),Object(ne.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&H0(t.prototype,n),u}(ne.a))||Eh;jh.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(52);function dc(e){return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Y0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ph(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Ph(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ph(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mh,Ro=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=Y0(n,2),u=r[0],i=r[1];(u==="style"||dc(i)!=="object")&&(t[u]=i)}),Object(ne.g)("line",t)};function hc(e){return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Th(Object(n),!0).forEach(function(r){V0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yc(e,t){return yc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yc(e,t)}function q0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Za(e);if(t){var u=Za(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Z0(this,n)}}function Z0(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(e)}var Ah,J0=nr(Mh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&yc(i,s)})(u,e);var t,n,r=q0(u);function u(){return $0(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,s=i.position,h=i.isShowHorizontal,v=i.isShowVertical,_=i.getStyle(),E=s.x,T=E===void 0?0:E,D=s.y,z=D===void 0?0:D,U=qa(qa({x1:-1e5,y1:z,x2:1e5,y2:z},_),{},{stroke:h?_.stroke:"none"}),q=qa(qa({x1:T,y1:-1e5,x2:T,y2:1e5},_),{},{stroke:v?_.stroke:"none"});return Object(ne.g)("g",{className:"lf-snapline"},Object(ne.g)(Ro,U),Object(ne.g)(Ro,q))}}])&&K0(t.prototype,n),u}(ne.a))||Mh;function vc(e){return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function Q0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return kh(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return kh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e){var t=e.x,n=e.y,r=e.width,u=e.height,i=e.className,s=e.radius,h=t-r/2,v=n-u/2,_={};return Object.entries(e).forEach(function(E){var T=Q0(E,2),D=T[0],z=T[1];vc(z)!=="object"&&(_[D]=z)}),_.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",s&&(_.rx=s,_.ry=s),_.x=h,_.y=v,Object(ne.g)("rect",_)}function gc(e){return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Lo(){return Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(this,arguments)}function Dh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dh(Object(n),!0).forEach(function(r){e1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t){return mc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mc(e,t)}function r1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ja(e);if(t){var u=Ja(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return o1(this,n)}}function o1(e,t){if(t&&(gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}Kr.defaultProps={className:"",radius:""};var Ch,i1=nr(Ah=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&mc(i,s)})(u,e);var t,n,r=r1(u);function u(){return t1(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,s=i.nodes,h=i.editConfigModel,v=h.hoverOutline,_=h.nodeSelectedOutline,E=[];return s.forEach(function(T){if(T.isHovered||T.isSelected){var D=T.isHovered,z=T.isSelected,U=T.x,q=T.y,ae=T.width,oe=T.height;if(_&&z||v&&D){var fe=T.getOutlineStyle(),_e={};if(Object.keys(fe).forEach(function(je){je!=="hover"&&(_e[je]=fe[je])}),D){var ke=fe.hover;_e=Nh(Nh({},_e),ke)}E.push(Object(ne.g)(Kr,Lo({className:"lf-outline-node",x:U,y:q,width:ae+10,height:oe+10},_e)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,s=i.edges,h=i.editConfigModel,v=h.edgeSelectedOutline,_=h.hoverOutline,E=[],T=0;T<s.length;T++){var D=s[T];(v&&D.isSelected||_&&D.isHovered)&&(D.modelType===mt.LINE_EDGE?E.push(this.getLineOutline(D)):D.modelType===mt.POLYLINE_EDGE?E.push(this.getPolylineOutline(D)):D.modelType===mt.BEZIER_EDGE&&E.push(this.getBezierOutline(D)))}return E}},{key:"getLineOutline",value:function(i){var s=i.startPoint,h=i.endPoint,v=(s.x+h.x)/2,_=(s.y+h.y)/2,E=Math.abs(s.x-h.x)+10,T=Math.abs(s.y-h.y)+10,D=i.getOutlineStyle();return Object(ne.g)(Kr,Lo({className:"lf-outline-edge",x:v,y:_,width:E,height:T},D))}},{key:"getPolylineOutline",value:function(i){var s=i.points,h=yo(s),v=Mi(h,8),_=v.x,E=v.y,T=v.width,D=v.height,z=i.getOutlineStyle();return Object(ne.g)(Kr,Lo({className:"lf-outline",x:_,y:E,width:T,height:D},z))}},{key:"getBezierOutline",value:function(i){var s=i.path,h=nc(s),v=Mi(h,8),_=v.x,E=v.y,T=v.width,D=v.height,z=i.getOutlineStyle();return Object(ne.g)(Kr,Lo({className:"lf-outline",x:_,y:E,width:T,height:D},z))}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&n1(t.prototype,n),u}(ne.a))||Ah;function bc(e){return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function a1(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ih(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Ih(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ih(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ki(e){var t=e.x,n=t===void 0?0:t,r=e.y,u=r===void 0?0:r,i=e.r,s=i===void 0?4:i,h=e.className,v={cx:n,cy:u,r:s,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(_){var E=a1(_,2),T=E[0],D=E[1];bc(D)!=="object"&&(v[T]=D)}),v.className=h?"lf-basic-shape ".concat(h):"lf-basic-shape",Object(ne.g)("circle",v)}function _c(e){return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function u1(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Rh(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Rh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Di(){return Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Di.apply(this,arguments)}function Lh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bh(e,t,n){return t&&zh(e.prototype,t),n&&zh(e,n),e}function Fh(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oc(e,t)}function Oc(e,t){return Oc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Oc(e,t)}function Gh(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=eu(e);if(t){var u=eu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return s1(this,n)}}function s1(e,t){if(t&&(_c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qa(e)}function Qa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hh,Xh=function(e){Fh(n,e);var t=Gh(n);function n(){var r;return Lh(this,n),wc(Qa(r=t.call(this)),"dragHandler",void 0),wc(Qa(r),"onDragging",function(u){var i=u.event,s=r.props,h=s.graphModel,v=s.bezierModel,_=s.type,E=h.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,T=E.x,D=E.y;v.updateAdjustAnchor({x:T,y:D},_)}),wc(Qa(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Mr({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Bh(n,[{key:"render",value:function(){var r=this,u=this.props.position,i=u.x,s=u.y,h=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ne.g)(ki,Di({className:"lf-bezier-adjust-anchor",x:i,y:s},h,{onMouseDown:function(v){r.dragHandler.handleMouseDown(v)}}))}}]),n}(ne.a),c1=nr(Ch=function(e){Fh(n,e);var t=Gh(n);function n(){return Lh(this,n),t.apply(this,arguments)}return Bh(n,[{key:"getBezierAdjust",value:function(r,u){var i=r.path,s=r.id,h=u1(nc(i),4),v=h[0],_=h[1],E=h[2],T=h[3],D=r.getEdgeStyle().adjustLine,z=[];return z.push(Object(ne.g)(Ro,Di({x1:v.x,y1:v.y,x2:_.x,y2:_.y},D))),z.push(Object(ne.g)(Xh,{position:_,bezierModel:r,graphModel:u,key:"".concat(s,"_ePre"),type:"sNext"})),z.push(Object(ne.g)(Ro,Di({x1:T.x,y1:T.y,x2:E.x,y2:E.y},D))),z.push(Object(ne.g)(Xh,{position:E,bezierModel:r,graphModel:u,key:"".concat(s,"_sNext"),type:"ePre"})),z}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,u=r.edges,i=[],s=0;s<u.length;s++){var h=u[s];h.isSelected&&h.modelType===mt.BEZIER_EDGE&&h.draggable&&i.push(this.getBezierAdjust(h,r))}return i}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ne.a))||Ch;function xc(e){return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function l1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ec(e,t){return Ec=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ec(e,t)}function p1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=tu(e);if(t){var u=tu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return d1(this,n)}}function d1(e,t){if(t&&(xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}var Wh,h1=nr(Hh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Ec(i,s)})(u,e);var t,n,r=p1(u);function u(){return l1(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,s=this.props.children;return Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ne.g)("g",{transform:i},s))}}])&&f1(t.prototype,n),u}(ne.a))||Hh;function Sc(e){return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function jc(){return jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(this,arguments)}function y1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pc(e,t){return Pc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pc(e,t)}function g1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=nu(e);if(t){var u=nu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return m1(this,n)}}function m1(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function nu(e){return nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nu(e)}var b1=nr(Wh=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Pc(i,s)})(u,e);var t,n,r=g1(u);function u(){return y1(this,u),r.apply(this,arguments)}return t=u,n=[{key:"getComponent",value:function(i,s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",v=this.props.getView,_=v(i.type);return Object(ne.g)(_,{key:i.id,model:i,graphModel:s,overlay:h})}},{key:"render",value:function(){var i=this,s=this.props,h=s.graphModel,v=s.tool,_=s.options,E=s.dnd,T=s.snaplineModel,D={};_.width&&(D.width="".concat(h.width,"px")),_.height&&(D.height="".concat(h.height,"px"));var z=_.grid,U=h.fakerNode,q=h.editConfigModel.adjustEdge;return Object(ne.g)("div",{className:"lf-graph","flow-id":h.flowId,style:D},Object(ne.g)(A0,{graphModel:h,dnd:E},Object(ne.g)("g",{className:"lf-base"},ka(h.sortElements,function(ae){return i.getComponent(ae,h)})),U?this.getComponent(U,h):""),Object(ne.g)(h1,{graphModel:h},Object(ne.g)(i1,{graphModel:h}),q?Object(ne.g)(c1,{graphModel:h}):"",_.snapline!==!1?Object(ne.g)(J0,{snaplineModel:T}):""),Object(ne.g)(I0,{graphModel:h,tool:v}),_.background&&Object(ne.g)(F0,{background:_.background}),_.grid&&Object(ne.g)(jh,jc({},z,{graphModel:h})))}}],n&&v1(t.prototype,n),u}(ne.a))||Wh,_1=b1;function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uh(Object(n),!0).forEach(function(r){Ar(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w1=function(){function e(r){var u=this;(function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),Ar(this,"nodeConfig",void 0),Ar(this,"lf",void 0),Ar(this,"fakerNode",void 0),Ar(this,"stopDrag",function(){u.nodeConfig=null,window.document.removeEventListener("mouseup",u.stopDrag)}),Ar(this,"dragEnter",function(s){u.nodeConfig&&!u.fakerNode&&(u.fakerNode=u.lf.createFakerNode(ru(ru({},u.nodeConfig),u.clientToLocalPoint({x:s.clientX,y:s.clientY}))))}),Ar(this,"onDragOver",function(s){if(s.preventDefault(),u.fakerNode){var h=u.clientToLocalPoint({x:s.clientX,y:s.clientY}),v=h.x,_=h.y;u.fakerNode.moveTo(v,_);var E=u.fakerNode.getData();u.lf.setNodeSnapLine(E),u.lf.graphModel.eventCenter.emit(ot.NODE_DND_DRAG,{data:E})}return!1}),Ar(this,"onDragLeave",function(){u.fakerNode&&(u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)}),Ar(this,"onDrop",function(s){u.lf.graphModel&&s&&u.nodeConfig&&(u.lf.addNode(ru(ru({},u.nodeConfig),u.clientToLocalPoint({x:s.clientX,y:s.clientY})),ot.NODE_DND_ADD,s),s.preventDefault(),s.stopPropagation(),u.nodeConfig=null,u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)});var i=r.lf;this.lf=i}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var u=r.x,i=r.y,s=op(this.lf.options,["grid","size"]),h=this.lf.graphModel.getPointByClient({x:u,y:i}).canvasOverlayPosition,v=h.x,_=h.y;return{x:Ur(v,s),y:Ur(_,s)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&O1(t.prototype,n),e}();function Yh(e){var t=e.container,n=e.grid,r=e.width,u=e.height;if(!t)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof u=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(e.grid=vn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),vn({},$h,e)}var wt,Vh,$h={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Mc(e){return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function Tc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Kh(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Kh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){Zh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x1(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function E1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ni(){return Ni=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=j1(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Ni.apply(this,arguments)}function j1(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qr(e))!==null;);return e}function Ac(e,t){return Ac=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ac(e,t)}function P1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qr(e);if(t){var u=qr(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return M1(this,n)}}function M1(e,t){if(t&&(Mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iu(e)}function iu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e){return qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qr(e)}function Zh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qn(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var kc=(wt=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Ac(i,s)})(u,e);var t,n,r=P1(u);function u(){var i;E1(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Zh(iu(i=r.call.apply(r,[this].concat(h))),"modelType",mt.BEZIER_EDGE),x1(iu(i),"path",Vh,iu(i)),i}return t=u,(n=[{key:"initEdgeData",value:function(i){this.offset=100,Ni(qr(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return ou(ou({},Ni(qr(u.prototype),"getEdgeStyle",this).call(this)),Gt(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,s=0;return this.pointsList.forEach(function(h){var v=h.x,_=h.y;i+=v,s+=_}),{x:i/this.pointsList.length,y:s/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=Ni(qr(u.prototype),"getData",this).call(this),s=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return ou(ou({},i),{},{pointsList:s})}},{key:"getControls",value:function(){var i=this.startPoint,s=this.endPoint;return th({start:i,end:s,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var s=Tc(i,4),h=s[0],v=s[1],_=s[2],E=s[3];return"M ".concat(h.x," ").concat(h.y,`
    C `).concat(v.x," ").concat(v.y,`,
    `).concat(_.x," ").concat(_.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),s=i.sNext,h=i.ePre;this.updatePath(s,h)}},{key:"updatePath",value:function(i,s){i=Gt(i),s=Gt(s);var h={x:this.startPoint.x,y:this.startPoint.y},v={x:this.endPoint.x,y:this.endPoint.y};if(!i||!s){var _=this.getControls();i=_.sNext,s=_.ePre}this.pointsList=[h,i,s,v],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,s){this.startPoint.x+=i,this.startPoint.y+=s;var h=Tc(this.pointsList,3),v=h[1],_=h[2];v.x+=i,v.y+=s,this.updatePath(v,_)}},{key:"moveEndPoint",value:function(i,s){this.endPoint.x+=i,this.endPoint.y+=s;var h=Tc(this.pointsList,3),v=h[1],_=h[2];_.x+=i,_.y+=s,this.updatePath(v,_)}},{key:"updateAdjustAnchor",value:function(i,s){s==="sNext"?this.pointsList[1]=i:s==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var s=i.startPoint,h=i.endPoint,v=i.sourceNode,_=i.targetNode,E=th({start:s,end:h,sourceNode:v,targetNode:_,offset:this.offset}),T=E.sNext,D=E.ePre;this.pointsList=[s,T,D,h],this.initPoints()}}])&&S1(t.prototype,n),u}(Xs),Vh=Qn(wt.prototype,"path",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qn(wt.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"initPoints"),wt.prototype),Qn(wt.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"updatePoints"),wt.prototype),Qn(wt.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"updateStartPoint"),wt.prototype),Qn(wt.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"updateEndPoint"),wt.prototype),Qn(wt.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"moveStartPoint"),wt.prototype),Qn(wt.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"moveEndPoint"),wt.prototype),Qn(wt.prototype,"updateAdjustAnchor",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"updateAdjustAnchor"),wt.prototype),Qn(wt.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"getAdjustStart"),wt.prototype),Qn(wt.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"getAdjustEnd"),wt.prototype),Qn(wt.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(wt.prototype,"updateAfterAdjustStartAndEnd"),wt.prototype),wt),Ie,Jh,Qh,ey,ty,ny,ry,oy,iy,ay,uy,sy,cy,ly,fy,py,dy,hy,yy,vy,T1=function(e){return e==null};function Dc(e){return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function A1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(v,_){if(v){if(typeof v=="string")return gy(v,_);var E=Object.prototype.toString.call(v).slice(8,-1);if(E==="Object"&&v.constructor&&(E=v.constructor.name),E==="Map"||E==="Set")return Array.from(v);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return gy(v,_)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,u=function(){};return{s:u,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(v){throw v},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var v=n.next();return s=v.done,v},e:function(v){h=!0,i=v},f:function(){try{s||n.return==null||n.return()}finally{if(h)throw i}}}}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function my(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?my(Object(n),!0).forEach(function(r){Mn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var kr,by,Dr=(Ie=function(){function e(r,u){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Mn(this,"id",""),tn(this,"type",Jh,this),tn(this,"x",Qh,this),tn(this,"y",ey,this),tn(this,"text",ty,this),tn(this,"properties",ny,this),tn(this,"_width",ry,this),tn(this,"_height",oy,this),tn(this,"anchorsOffset",iy,this),tn(this,"isSelected",ay,this),tn(this,"isHovered",uy,this),tn(this,"isShowAnchor",sy,this),tn(this,"isDragging",cy,this),tn(this,"isHitable",ly,this),tn(this,"draggable",fy,this),tn(this,"visible",py,this),Mn(this,"virtual",!1),Mn(this,"graphModel",void 0),tn(this,"zIndex",dy,this),tn(this,"state",hy,this),tn(this,"autoToFront",yy,this),tn(this,"style",vy,this),Mn(this,"BaseType",Zt.NODE),Mn(this,"modelType",mt.NODE),Mn(this,"additionStateData",void 0),Mn(this,"targetRules",[]),Mn(this,"sourceRules",[]),Mn(this,"moveRules",[]),Mn(this,"hasSetTargetRules",!1),Mn(this,"hasSetSourceRules",!1),this.graphModel=u,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var u=this.graphModel.idGenerator,i=u&&u(r.type),s=this.createId();r.id=s||i||Yr()}this.formatText(r),vn(this,function(h){return Oi(h,["id","type","x","y","text","properties","virtual"])}(r)),this.graphModel.overlapMode===Rn.INCREASE&&(this.zIndex=r.zIndex||Gs())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,u=r.x,i=r.y,s=r.value,h=this.properties;Object(l.x)(h)&&(h=Object(l.I)(h));var v={id:this.id,type:this.type,x:this.x,y:this.y,properties:h};return this.graphModel.overlapMode===Rn.INCREASE&&(v.zIndex=this.zIndex),s&&(v.text={x:u,y:i,value:s}),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getNodeStyle",value:function(){return mn(mn({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Gt(r)}},{key:"getAnchorStyle",value:function(r){var u=this.graphModel.theme.anchor;return Gt(u)}},{key:"getAnchorLineStyle",value:function(r){var u=this.graphModel.theme.anchorLine;return Gt(u)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Gt(r)}},{key:"isAllowConnectedAsSource",value:function(r,u,i,s){var h=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var v,_=!0,E=0;E<h.length;E++){var T=h[E];if(!T.validate.call(this,this,r,u,i,s)){_=!1,v=T.message;break}}return{isAllPass:_,msg:v}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,u,i,s){var h=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var v,_=!0,E=0;E<h.length;E++){var T=h[E];if(!T.validate.call(this,r,this,u,i,s)){_=!1,v=T.message;break}}return{isAllPass:_,msg:v}}},{key:"isAllowMoveNode",value:function(r,u){var i,s=!0,h=!0,v=A1(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(v.s();!(i=v.n()).done;){var _=(0,i.value)(this,r,u);if(!_)return!1;if(Dc(_)==="object"){var E=_;if(E.x===!1&&E.y===!1)return!1;s=s&&E.x,h=h&&E.y}}}catch(T){v.e(T)}finally{v.f()}return{x:s,y:h}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,u=this.id,i=this.x,s=this.y;return r&&r.length>0?r.map(function(h,v){return h.length?(h=h,{id:"".concat(u,"_").concat(v),x:i+h[0],y:s+h[1]}):mn(mn({},h=h),{},{x:i+h.x,y:s+h.y,id:h.id||"".concat(u,"_").concat(v)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(u,i){for(var s,h=zs(i),v=Number.MAX_SAFE_INTEGER,_=0;_<h.length;_++){var E=Jn(u.x,u.y,h[_].x,h[_].y);E<v&&(v=E,s={index:_,anchor:id(id({},h[_]),{},{x:h[_].x,y:h[_].y,id:h[_].id})})}return s}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!T1(r))for(var u=0;u<this.anchors.length;u++){var i=this.anchors[u];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,h=!1;if(i)s=!0,h=!0;else{var v=this.isAllowMoveNode(r,u);typeof v=="boolean"?(s=v,h=v):(s=v.x,h=v.y)}if(s){var _=this.x+r;this.x=_,this.text&&this.moveText(r,0)}if(h){var E=this.y+u;this.y=E,this.text&&this.moveText(0,u)}return s||h}},{key:"getMoveDistance",value:function(r,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,h=!1,v=0,_=0;if(i)s=!0,h=!0;else{var E=this.isAllowMoveNode(r,u);typeof E=="boolean"?(s=E,h=E):(s=E.x,h=E.y)}if(s&&r){var T=this.x+r;this.x=T,this.text&&this.moveText(r,0),v=r}if(h&&u){var D=this.y+u;this.y=D,this.text&&this.moveText(0,u),_=u}return[v,_]}},{key:"moveTo",value:function(r,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=r-this.x,h=u-this.y;return!(!i&&!this.isAllowMoveNode(s,h)||(this.text&&this.text&&this.moveText(s,h),this.x=r,this.y=u,0))}},{key:"moveText",value:function(r,u){var i=this.text,s=i.x,h=i.y,v=i.value,_=i.draggable,E=i.editable;this.text={value:v,editable:E,draggable:_,x:s+r,y:h+u}}},{key:"updateText",value:function(r){this.text=mn(mn({},Object(l.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,u){this.state=r,this.additionStateData=u}},{key:"setProperty",value:function(r,u){this.properties=mn(mn({},Object(l.I)(this.properties)),{},Mn({},r,ln(u))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=mn(mn({},Object(l.I)(this.properties)),ln(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,u){this.style=mn(mn({},this.style),{},Mn({},r,ln(u)))}},{key:"setStyles",value:function(r){this.style=mn(mn({},this.style),ln(r))}},{key:"updateStyles",value:function(r){this.style=mn({},ln(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){vn(this,r)}}],n&&k1(t.prototype,n),e}(),Jh=vt(Ie.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qh=vt(Ie.prototype,"x",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ey=vt(Ie.prototype,"y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ty=vt(Ie.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ny=vt(Ie.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ry=vt(Ie.prototype,"_width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),oy=vt(Ie.prototype,"_height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),iy=vt(Ie.prototype,"anchorsOffset",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ay=vt(Ie.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uy=vt(Ie.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sy=vt(Ie.prototype,"isShowAnchor",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cy=vt(Ie.prototype,"isDragging",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ly=vt(Ie.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fy=vt(Ie.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),py=vt(Ie.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dy=vt(Ie.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hy=vt(Ie.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yy=vt(Ie.prototype,"autoToFront",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vy=vt(Ie.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vt(Ie.prototype,"incoming",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"incoming"),Ie.prototype),vt(Ie.prototype,"outgoing",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"outgoing"),Ie.prototype),vt(Ie.prototype,"addNodeMoveRules",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"addNodeMoveRules"),Ie.prototype),vt(Ie.prototype,"move",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"move"),Ie.prototype),vt(Ie.prototype,"getMoveDistance",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getMoveDistance"),Ie.prototype),vt(Ie.prototype,"moveTo",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveTo"),Ie.prototype),vt(Ie.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveText"),Ie.prototype),vt(Ie.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateText"),Ie.prototype),vt(Ie.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setSelected"),Ie.prototype),vt(Ie.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHovered"),Ie.prototype),vt(Ie.prototype,"setIsShowAnchor",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setIsShowAnchor"),Ie.prototype),vt(Ie.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHitable"),Ie.prototype),vt(Ie.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setElementState"),Ie.prototype),vt(Ie.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperty"),Ie.prototype),vt(Ie.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperties"),Ie.prototype),vt(Ie.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteProperty"),Ie.prototype),vt(Ie.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyle"),Ie.prototype),vt(Ie.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyles"),Ie.prototype),vt(Ie.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateStyles"),Ie.prototype),vt(Ie.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setZIndex"),Ie.prototype),vt(Ie.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateAttributes"),Ie.prototype),Ie);function Nc(e){return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Oy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(n),!0).forEach(function(r){wy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D1(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function N1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(){return Cc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=I1(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Cc.apply(this,arguments)}function I1(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=zo(e))!==null;);return e}function Ic(e,t){return Ic=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ic(e,t)}function R1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zo(e);if(t){var u=zo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return L1(this,n)}}function L1(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return au(e)}function au(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function wy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rc(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var fn,xy,Ey,Lc=(kr=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Ic(i,s)})(u,e);var t,n,r=R1(u);function u(){var i;N1(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return wy(au(i=r.call.apply(r,[this].concat(h))),"modelType",mt.CIRCLE_NODE),D1(au(i),"r",by,au(i)),i}return t=u,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Cc(zo(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.circle;return Oy(Oy({},i),Gt(s))}},{key:"getDefaultAnchor",value:function(){var i=this.x,s=this.y,h=this.r;return[{x:i,y:s-h,id:"".concat(this.id,"_0")},{x:i+h,y:s,id:"".concat(this.id,"_1")},{x:i,y:s+h,id:"".concat(this.id,"_2")},{x:i-h,y:s,id:"".concat(this.id,"_3")}]}}])&&C1(t.prototype,n),u}(Dr),by=Rc(kr.prototype,"r",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Rc(kr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(kr.prototype,"width"),kr.prototype),Rc(kr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(kr.prototype,"height"),kr.prototype),kr);o(127);function zc(e){return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function Bc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Sy(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Sy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jy(Object(n),!0).forEach(function(r){Ty(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function My(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function z1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fc(){return Fc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=F1(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Fc.apply(this,arguments)}function F1(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Fo(e))!==null;);return e}function Gc(e,t){return Gc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gc(e,t)}function G1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fo(e);if(t){var u=Fo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return H1(this,n)}}function H1(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bo(e)}function Bo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Go(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var hr,Ay,ky,Hc=(fn=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Gc(i,s)})(u,e);var t,n,r=G1(u);function u(){var i;z1(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Ty(Bo(i=r.call.apply(r,[this].concat(h))),"modelType",mt.DIAMOND_NODE),My(Bo(i),"rx",xy,Bo(i)),My(Bo(i),"ry",Ey,Bo(i)),i}return t=u,(n=[{key:"getNodeStyle",value:function(){var i=Fc(Fo(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.diamond;return Py(Py({},i),Gt(s))}},{key:"points",get:function(){var i=this.x,s=this.y,h=this.rx,v=this.ry;return[[i,s-v],[i+h,s],[i,s+v],[i-h,s]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var v=Bc(h,1)[0];v<i&&(i=v),v>s&&(s=v)}),s-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var v=Bc(h,2)[1];v<i&&(i=v),v>s&&(s=v)}),s-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(s,h){var v=Bc(s,2);return{x:v[0],y:v[1],id:"".concat(i.id,"_").concat(h)}})}}])&&B1(t.prototype,n),u}(Dr),xy=Go(fn.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ey=Go(fn.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Go(fn.prototype,"points",[l.m],Object.getOwnPropertyDescriptor(fn.prototype,"points"),fn.prototype),Go(fn.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(fn.prototype,"pointsPosition"),fn.prototype),Go(fn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(fn.prototype,"width"),fn.prototype),Go(fn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(fn.prototype,"height"),fn.prototype),fn);function Xc(e){return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dy(Object(n),!0).forEach(function(r){Iy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cy(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function X1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(){return Wc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=U1(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Wc.apply(this,arguments)}function U1(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Xo(e))!==null;);return e}function Uc(e,t){return Uc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uc(e,t)}function Y1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xo(e);if(t){var u=Xo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return V1(this,n)}}function V1(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ho(e)}function Ho(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xo(e)}function Iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Vn,Ry,Yc=(hr=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Uc(i,s)})(u,e);var t,n,r=Y1(u);function u(){var i;X1(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Iy(Ho(i=r.call.apply(r,[this].concat(h))),"modelType",mt.ELLIPSE_NODE),Cy(Ho(i),"rx",Ay,Ho(i)),Cy(Ho(i),"ry",ky,Ho(i)),i}return t=u,(n=[{key:"getNodeStyle",value:function(){var i=Wc(Xo(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.ellipse;return Ny(Ny({},i),Gt(s))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,s=this.y,h=this.rx,v=this.ry;return[{x:i,y:s-v,id:"".concat(this.id,"_0")},{x:i+h,y:s,id:"".concat(this.id,"_1")},{x:i,y:s+v,id:"".concat(this.id,"_2")},{x:i-h,y:s,id:"".concat(this.id,"_3")}]}}])&&W1(t.prototype,n),u}(Dr),Ay=uu(hr.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ky=uu(hr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),uu(hr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(hr.prototype,"width"),hr.prototype),uu(hr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(hr.prototype,"height"),hr.prototype),hr);function Vc(e){return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function $c(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ly(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Ly(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function By(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zy(Object(n),!0).forEach(function(r){Fy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $1(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function K1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kc(){return Kc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=Z1(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},Kc.apply(this,arguments)}function Z1(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Wo(e))!==null;);return e}function qc(e,t){return qc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},qc(e,t)}function J1(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wo(e);if(t){var u=Wo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return Q1(this,n)}}function Q1(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return su(e)}function su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wo(e)}function Fy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cu(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var Zc,Gy,Jc=(Vn=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&qc(i,s)})(u,e);var t,n,r=J1(u);function u(){var i;K1(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Fy(su(i=r.call.apply(r,[this].concat(h))),"modelType",mt.POLYGON_NODE),$1(su(i),"points",Ry,su(i)),i}return t=u,(n=[{key:"getNodeStyle",value:function(){var i=Kc(Wo(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.polygon;return By(By({},i),Gt(s))}},{key:"pointsPosition",get:function(){var i=this.x,s=this.y,h=this.width,v=this.height;return this.points.map(function(_){return{x:_[0]+i-h/2,y:_[1]+s-v/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var v=$c(h,1)[0];v<i&&(i=v),v>s&&(s=v)}),s-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var v=$c(h,2)[1];v<i&&(i=v),v>s&&(s=v)}),s-i}},{key:"getDefaultAnchor",value:function(){var i=this,s=this.x,h=this.y,v=this.width,_=this.height;return this.points.map(function(E,T){var D=$c(E,2),z=D[0],U=D[1];return{x:s+z-v/2,y:h+U-_/2,id:"".concat(i.id,"_").concat(T)}})}}])&&q1(t.prototype,n),u}(Dr),Ry=cu(Vn.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),cu(Vn.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(Vn.prototype,"pointsPosition"),Vn.prototype),cu(Vn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Vn.prototype,"width"),Vn.prototype),cu(Vn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Vn.prototype,"height"),Vn.prototype),Vn);function Qc(e){return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(n),!0).forEach(function(r){Wy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e_(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function t_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(){return el=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=r_(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},el.apply(this,arguments)}function r_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Uo(e))!==null;);return e}function tl(e,t){return tl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},tl(e,t)}function o_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Uo(e);if(t){var u=Uo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return i_(this,n)}}function i_(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lu(e)}function lu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(e){return Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uo(e)}function Wy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zr,nl=(Zc=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&tl(i,s)})(u,e);var t,n,r=o_(u);function u(){var i;t_(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Wy(lu(i=r.call.apply(r,[this].concat(h))),"modelType",mt.RECT_NODE),e_(lu(i),"radius",Gy,lu(i)),i}return t=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,s=this.y,h=this.width,v=this.height;return[{x:i,y:s-v/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:s,id:"".concat(this.id,"_1")},{x:i,y:s+v/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:s,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=el(Uo(u.prototype),"getNodeStyle",this).call(this),s=this.graphModel.theme.rect;return Xy(Xy({},i),Gt(s))}}])&&n_(t.prototype,n),u}(Dr),Gy=function(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}(Zc.prototype,"radius",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zc);function rl(e){return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function Uy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Yy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uy(Object(n),!0).forEach(function(r){$y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ol(){return ol=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=s_(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},ol.apply(this,arguments)}function s_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Yo(e))!==null;);return e}function il(e,t){return il=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},il(e,t)}function c_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yo(e);if(t){var u=Yo(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return l_(this,n)}}function l_(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vy(e)}function Vy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yo(e)}function $y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ky(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var al=(Zr=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&il(i,s)})(u,e);var t,n,r=c_(u);function u(){var i;a_(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return $y(Vy(i=r.call.apply(r,[this].concat(h))),"modelType",mt.TEXT_NODE),i}return t=u,(n=[{key:"getTextStyle",value:function(){var i=ol(Yo(u.prototype),"getTextStyle",this).call(this),s=this.graphModel.theme.text;return Yy(Yy({},i),Gt(s))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),s=this.getTextStyle().fontSize;return Fs({rows:i,fontSize:s,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),s=this.getTextStyle().fontSize;return Fs({rows:i,fontSize:s,rowsLength:i.length}).height}}])&&u_(t.prototype,n),u}(Dr),Ky(Zr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Zr.prototype,"width"),Zr.prototype),Ky(Zr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Zr.prototype,"height"),Zr.prototype),Zr);function ul(e){return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function f_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sl(e,t){return sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sl(e,t)}function d_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fu(e);if(t){var u=fu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return h_(this,n)}}function h_(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qy(e)}function qy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fu(e){return fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fu(e)}function y_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er,Zy,Jy,Qy,cl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&sl(i,s)})(u,e);var t,n,r=d_(u);function u(){var i;f_(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return y_(qy(i=r.call.apply(r,[this].concat(h))),"modelType",mt.HTML_NODE),i}return t=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,s=this.y,h=this.width,v=this.height;return[{x:i,y:s-v/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:s,id:"".concat(this.id,"_1")},{x:i,y:s+v/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:s,id:"".concat(this.id,"_3")}]}}])&&p_(t.prototype,n),u}(Dr);function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function ll(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ci(e,t,n,r,u){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,h){return h(e,t,s)||s},i),u&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(u):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}var nv=(er=function(){function e(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),tv(this,"graphModel",void 0),ll(this,"isShowHorizontal",Zy,this),ll(this,"isShowVertical",Jy,this),ll(this,"position",Qy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,n=[{key:"getStyle",value:function(){return function(r){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?ev(Object(i),!0).forEach(function(s){tv(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ev(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,u){for(var i=r.x,s=r.y,h=!1,v=!1,_=0;_<u.length;_++){var E=u[_];if(E.id!==r.id&&(i===E.x&&(h=!0),s===E.y&&(v=!0),h&&v))break}return{isShowVertical:h,isShowHorizontal:v,position:{x:i,y:s}}}},{key:"getHorizontalSnapline",value:function(r,u){var i,s,h=!1,v=r.id;if(v){var _=this.graphModel.fakerNode;if(_&&_.id===v)s=Ln(_);else{var E=this.graphModel.getNodeModelById(v);s=Ln(E)}}for(var T=0;T<u.length;T++){var D=u[T];if(D.id!==r.id){var z=Ln(D);if(z.minY===s.minY||z.maxY===s.minY){h=!0,i=s.minY;break}if(z.minY===s.maxY||z.maxY===s.maxY){h=!0,i=s.maxY;break}}}return vn({isShowHorizontal:h,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,u){var i,s,h=!1,v=r.id;if(v){var _=this.graphModel.fakerNode;if(_&&_.id===v)s=Ln(_);else{var E=this.graphModel.getNodeModelById(v);s=Ln(E)}}for(var T=0;T<u.length;T++){var D=u[T];if(D.id!==r.id){var z=Ln(D);if(z.minX===s.minX||z.maxX===s.minX){h=!0,i=s.minX;break}if(z.minX===s.maxX||z.maxX===s.maxX){h=!0,i=s.maxX;break}}}return vn({isShowVertical:h,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,u){var i=this.getCenterSnapLine(r,u),s=i.isShowHorizontal,h=i.isShowVertical;if(!s){var v=this.getHorizontalSnapline(r,u);v.isShowHorizontal&&(i.isShowHorizontal=v.isShowHorizontal,i.position.y=v.position.y)}if(!h){var _=this.getVerticalSnapline(r,u);_.isShowVertical&&(i.isShowVertical=_.isShowVertical,i.position.x=_.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var u=r.isShowHorizontal,i=r.isShowVertical,s=r.position;this.position=s,this.isShowHorizontal=u,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var u=this.graphModel.nodes,i=this.getSnapLinePosition(r,u);this.setSnaplineInfo(i)}}],n&&v_(t.prototype,n),e}(),Zy=Ci(er.prototype,"isShowHorizontal",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jy=Ci(er.prototype,"isShowVertical",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qy=Ci(er.prototype,"position",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci(er.prototype,"clearSnapline",[l.k],Object.getOwnPropertyDescriptor(er.prototype,"clearSnapline"),er.prototype),Ci(er.prototype,"setNodeSnapLine",[l.k],Object.getOwnPropertyDescriptor(er.prototype,"setNodeSnapLine"),er.prototype),er),Ii=new Map,rv=function(e){var t=Yr(),n=window.requestAnimationFrame(function r(){if(e(),Ii.get(t)){var u=window.requestAnimationFrame(r);Ii.set(t,u)}});return Ii.set(t,n),t},pu=function(e){var t=Ii.get(e);t&&(window.cancelAnimationFrame(t),Ii.delete(e))};function fl(e){return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Ri(){return Ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ri.apply(this,arguments)}function ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ov(Object(n),!0).forEach(function(r){vr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ov(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return iv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return iv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pl(e,t){return pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pl(e,t)}function b_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hu(e);if(t){var u=hu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return __(this,n)}}function __(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yr(e)}function yr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hu(e){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hu(e)}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O_=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&pl(i,s)})(u,e);var t,n,r=b_(u);function u(){var i;return function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}(this,u),vr(yr(i=r.call(this)),"preTargetNode",void 0),vr(yr(i),"sourceRuleResults",void 0),vr(yr(i),"targetRuleResults",void 0),vr(yr(i),"dragHandler",void 0),vr(yr(i),"t",void 0),vr(yr(i),"onDragStart",function(s){var h=s.event,v=i.props,_=v.anchorData,E=v.nodeModel,T=v.graphModel,D=T.overlapMode;T.selectNodeById(E.id),D!==Rn.INCREASE&&E.autoToFront&&T.toFront(E.id),T.eventCenter.emit(ot.ANCHOR_DRAGSTART,{data:_,e:h,nodeModel:E}),i.setState({startX:_.x,startY:_.y,endX:_.x,endY:_.y})}),vr(yr(i),"onDragging",function(s){var h=s.event,v=i.props,_=v.graphModel,E=v.nodeModel,T=v.anchorData,D=_.transformModel,z=_.eventCenter,U=_.width,q=_.height,ae=_.editConfigModel,oe=ae.autoExpand,fe=ae.stopMoveGraph,_e=h.clientX,ke=h.clientY,je=_.getPointByClient({x:_e,y:ke}),We=je.domOverlayPosition,De=We.x,Ge=We.y,Le=je.canvasOverlayPosition,ht=Le.x,Tt=Le.y;i.t&&pu(i.t);var xt=[];De<10?xt=[10,0]:De+10>U?xt=[-10,0]:Ge<10?xt=[0,10]:Ge+10>q&&(xt=[0,-10]),i.setState({endX:ht,endY:Tt,dragging:!0}),i.moveAnchorEnd(ht,Tt),xt.length>0&&!fe&&oe&&(i.t=rv(function(){var Dt=g_(xt,2),Kt=Dt[0],nn=Dt[1];D.translate(Kt,nn);var _n=i.state,br=_n.endX,$n=_n.endY;i.setState({endX:br-Kt,endY:$n-nn}),i.moveAnchorEnd(br-Kt,$n-nn)})),z.emit(ot.ANCHOR_DRAG,{data:T,e:h,nodeModel:E})}),vr(yr(i),"onDragEnd",function(s){var h=s.event;i.t&&pu(i.t),i.checkEnd(h),i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var v=i.props,_=v.graphModel,E=v.nodeModel,T=v.anchorData;_.eventCenter.emit(ot.ANCHOR_DRAGEND,{data:T,e:h,nodeModel:E})}),vr(yr(i),"checkEnd",function(s){var h=i.props,v=h.graphModel,_=h.nodeModel,E=h.anchorData,T=E.x,D=E.y,z=E.id,U=(v.edgeType,i.state),q=U.endX,ae=U.endY,oe=U.dragging,fe=Ia({x:q,y:ae},v);if(i.preTargetNode&&i.preTargetNode.state!==St.DEFAULT&&i.preTargetNode.setElementState(St.DEFAULT),oe&&fe&&fe.node){var _e=fe.node,ke=fe.anchor.id,je="".concat(_.id,"_").concat(_e.id,"_").concat(ke,"_").concat(z),We=i.sourceRuleResults.get(je)||{},De=We.isAllPass,Ge=We.msg,Le=i.targetRuleResults.get(je)||{},ht=Le.isAllPass,Tt=Le.msg;if(De&&ht){_e.setElementState(St.DEFAULT);var xt=v.edgeGenerator(_.getData(),v.getNodeModelById(fe.node.id).getData()),Dt=v.addEdge(du(du({},xt),{},{sourceNodeId:_.id,sourceAnchorId:z,startPoint:{x:T,y:D},targetNodeId:fe.node.id,targetAnchorId:fe.anchor.id,endPoint:{x:fe.anchor.x,y:fe.anchor.y}})),Kt=i.props.anchorData;v.eventCenter.emit(ot.ANCHOR_DROP,{data:Kt,e:s,nodeModel:_,edgeModel:Dt})}else{var nn=_e.getData();v.eventCenter.emit(ot.CONNECTION_NOT_ALLOWED,{data:nn,msg:Tt||Ge})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new Mr({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return t=u,(n=[{key:"getAnchorShape",value:function(){var i=this.props,s=i.anchorData,h=i.style,v=i.node.getAnchorShape(s);if(v)return v;var _=s.x,E=s.y,T=du(du({},h),h.hover);return Object(ne.g)("g",null,Object(ne.g)(ki,Ri({className:"lf-node-anchor-hover"},T,{x:_,y:E})),Object(ne.g)(ki,Ri({className:"lf-node-anchor"},h,{x:_,y:E})))}},{key:"moveAnchorEnd",value:function(i,s){var h=this.props,v=h.graphModel,_=h.nodeModel,E=h.anchorData,T=Ia({x:i,y:s},v);if(T){var D=T.node,z=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(St.DEFAULT),E.id===z)return;this.preTargetNode=D;var U="".concat(_.id,"_").concat(D.id,"_").concat(z,"_").concat(E.id);if(!this.targetRuleResults.has(U)){var q=T.anchor,ae=_.isAllowConnectedAsSource(D,E,q),oe=D.isAllowConnectedAsTarget(_,E,q);this.sourceRuleResults.set(U,Ei(ae)),this.targetRuleResults.set(U,Ei(oe))}var fe=this.sourceRuleResults.get(U).isAllPass,_e=this.targetRuleResults.get(U).isAllPass;fe&&_e?D.setElementState(St.ALLOW_CONNECT):D.setElementState(St.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==St.DEFAULT&&this.preTargetNode.setElementState(St.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,s=i.startX,h=i.startY,v=i.endX,_=i.endY;return Jn(s,h,v,_)>10}},{key:"render",value:function(){var i=this,s=this.state,h=s.startX,v=s.startY,_=s.endX,E=s.endY,T=this.props,D=T.anchorData.edgeAddable,z=T.edgeStyle;return Object(ne.g)("g",{className:"lf-anchor"},Object(ne.g)("g",{onMouseDown:function(U){D!==!1&&i.dragHandler.handleMouseDown(U)}},this.getAnchorShape()),this.isShowLine()&&Object(ne.g)(Ro,Ri({x1:h,y1:v,x2:_,y2:E},z,{"pointer-events":"none"})))}}])&&m_(t.prototype,n),u}(ne.a);o(80);function av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?av(Object(n),!0).forEach(function(r){x_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dl(e){return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function E_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return uv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return uv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function uv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sv(e){var t=e.x,n=t===void 0?0:t,r=e.y,u=r===void 0?0:r,i=e.value,s=e.fontSize,h=e.fill,v=h===void 0?"currentColor":h,_=e.overflowMode,E=_===void 0?"default":_,T=e.textWidth,D=T===void 0?"":T,z=e.model,U={textAnchor:"middle","dominant-baseline":"middle",x:n,y:u,fill:v};if(Object.entries(e).forEach(function(ke){var je=E_(ke,2),We=je[0],De=je[1];dl(De)!=="object"&&(U[We]=De)}),i){var q=String(i).split(/[\r\n]/g),ae=q.length;if(E!=="default"){var oe=z.BaseType,fe=z.modelType;if(oe===Zt.NODE&&fe!==mt.TEXT_NODE||oe===Zt.EDGE&&D)return function(ke){var je=ke.value,We=ke.fontSize,De=ke.model,Ge=ke.fontFamily,Le=Ge===void 0?"":Ge,ht=ke.lineHeight,Tt=ke.wrapPadding,xt=Tt===void 0?"0, 0":Tt,Dt=ke.overflowMode,Kt=ke.x,nn=ke.y,_n=De.width,br=De.textHeight,$n=ke.textWidth||_n,Ko=String(je).split(/[\r\n]/g),Lu=Ko.length,zu=kd({rows:Ko,style:{fontSize:"".concat(We,"px"),width:"".concat($n,"px"),fontFamily:Le,lineHeight:ht,padding:xt},rowsLength:Lu,className:"lf-get-text-height"}),bo=De.height>zu?De.height:zu;br&&(bo=br);var eo=Dt==="ellipsis";return eo&&(bo=We+2),Object(ne.g)("g",null,Object(ne.g)("foreignObject",{width:$n,height:bo,x:Kt-$n/2,y:nn-bo/2},Object(ne.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:bo,width:$n,padding:xt}},Object(ne.g)("div",{className:eo?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:eo?Ko.join(""):"",style:w_({},ke)},Ko.map(function(to){return Object(ne.g)("div",{className:"lf-node-text--auto-wrap-inner"},to)})))))}(e)}if(ae>1){var _e=q.map(function(ke,je){var We=(je-(ae-1)/2)*(s+2);return Object(ne.g)("tspan",{className:"lf-text-tspan",x:n,y:u+We},ke)});return Object(ne.g)("text",U,_e)}return Object(ne.g)("text",U,i)}}function hl(e){return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function yl(){return yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yl.apply(this,arguments)}function S_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return cv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return cv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vl(e,t){return vl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vl(e,t)}function P_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=yu(e);if(t){var u=yu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return M_(this,n)}}function M_(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yu(e){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(e)}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lv=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&vl(i,s)})(u,e);var t,n,r=P_(u);function u(i){var s;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,u),vo(Jr(s=r.call(this)),"dragHandler",void 0),vo(Jr(s),"sumDeltaX",0),vo(Jr(s),"sumDeltaY",0),vo(Jr(s),"stepDrag",void 0),vo(Jr(s),"onDragging",function(v){var _=v.deltaX,E=v.deltaY,T=s.props,D=T.model,z=S_(T.graphModel.transformModel.fixDeltaXY(_,E),2),U=z[0],q=z[1];D.moveText(U,q)}),vo(Jr(s),"dblClickHandler",function(){s.props.editable&&s.props.model.setElementState(St.TEXT_EDIT)}),vo(Jr(s),"mouseDownHandle",function(v){var _=s.props,E=_.draggable,T=_.model,D=_.graphModel.editConfigModel.nodeTextDraggable;(E||D)&&(s.stepDrag.model=T,s.stepDrag.handleMouseDown(v))}),i.model;var h=i.draggable;return s.stepDrag=new Mr({onDragging:s.onDragging,step:1,isStopPropagation:h}),s}return t=u,(n=[{key:"getShape",value:function(){var i=this.props,s=i.model,h=i.graphModel,v=s.text,_=h.editConfigModel,E=v.value,T=v.x,D=v.y,z=v.editable,U=v.draggable,q={x:T,y:D,className:"",value:E};z?q.className="lf-element-text":U||_.nodeTextDraggable?q.className="lf-text-draggable":q.className="lf-text-disabled";var ae=s.getTextStyle();return Object(ne.g)(sv,yl({},q,ae,{model:s}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ne.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&j_(t.prototype,n),u}(ne.a),T_=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function gl(e){return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function vu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return fv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return fv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t){return ml=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ml(e,t)}function A_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gu(e);if(t){var u=gu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return k_(this,n)}}function k_(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pn(e)}function pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gu(e){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(e)}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nr=function(e){(function(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&ml(s,h)})(i,e);var t,n,r,u=A_(i);function i(s){var h;(function(D,z){if(!(D instanceof z))throw new TypeError("Cannot call a class as a function")})(this,i),bn(pn(h=u.call(this)),"t",void 0),bn(pn(h),"moveOffset",void 0),bn(pn(h),"stepDrag",void 0),bn(pn(h),"contextMenuTime",void 0),bn(pn(h),"startTime",void 0),bn(pn(h),"clickTimer",void 0),bn(pn(h),"onDragStart",function(D){var z=D.event,U=z.clientX,q=z.clientY,ae=h.props,oe=ae.model,fe=ae.graphModel.getPointByClient({x:U,y:q}).canvasOverlayPosition,_e=fe.x,ke=fe.y;h.moveOffset={x:oe.x-_e,y:oe.y-ke}}),bn(pn(h),"onDragging",function(D){var z=D.event,U=h.props,q=U.model,ae=U.graphModel,oe=ae.editConfigModel,fe=oe.stopMoveGraph,_e=oe.autoExpand,ke=ae.transformModel,je=ae.selectNodes,We=ae.width,De=ae.height,Ge=ae.gridSize;q.isDragging=!0;var Le=z.clientX,ht=z.clientY,Tt=ae.getPointByClient({x:Le,y:ht}).canvasOverlayPosition,xt=Tt.x,Dt=Tt.y,Kt=vu(ke.CanvasPointToHtmlPoint([xt,Dt]),2),nn=Kt[0],_n=Kt[1];if(xt+=h.moveOffset.x,Dt+=h.moveOffset.y,xt=Ur(xt,Ge),Dt=Ur(Dt,Ge),We&&De){if(!_e||fe||!(nn<0||_n<0||nn>We||_n>De)){var br=vu(ke.CanvasPointToHtmlPoint([xt-q.width/2,Dt-q.height/2]),2),$n=br[0],Ko=br[1],Lu=vu(ke.CanvasPointToHtmlPoint([xt+q.width/2,Dt+q.height/2]),2),zu=Lu[0],bo=Lu[1],eo=Math.max(Ge,20),to=[];$n<0?to=[eo,0]:zu>ae.width?to=[-eo,0]:Ko<0?to=[0,eo]:bo>ae.height&&(to=[0,-eo]),h.t&&pu(h.t);var Bu=je.map(function(Fu){return Fu.id});Bu.indexOf(q.id)===-1&&(Bu=[q.id]),to.length>0&&!fe&&_e?h.t=rv(function(){var Fu=vu(to,2),Vv=Fu[0],$v=Fu[1];ke.translate(Vv,$v);var _w=-Vv/ke.SCALE_X,Ow=-$v/ke.SCALE_X;ae.moveNodes(Bu,_w,Ow)}):ae.moveNodes(Bu,xt-q.x,Dt-q.y)}}else ae.moveNode2Coordinate(q.id,xt,Dt)}),bn(pn(h),"onDragEnd",function(){h.t&&pu(h.t),h.props.model.isDragging=!1}),bn(pn(h),"handleClick",function(D){if(h.startTime&&!(new Date().getTime()-h.startTime>200)){var z=h.props,U=z.model,q=z.graphModel,ae={data:U.getData(),e:D,position:q.getPointByClient({x:D.clientX,y:D.clientY}),isSelected:!1,isMultiple:!1},oe=D.button===2,fe=D.detail===2;if(!oe){var _e=q.editConfigModel,ke=rd(D,_e);ae.isMultiple=ke,U.isSelected&&!fe&&ke?(ae.isSelected=!1,U.setSelected(!1)):(q.selectNodeById(U.id,ke),ae.isSelected=!0,h.toFront()),fe?(_e.nodeTextEdit&&U.text.editable&&(U.setSelected(!1),q.setElementStateById(U.id,St.TEXT_EDIT)),q.eventCenter.emit(ot.NODE_DBCLICK,ae)):(q.eventCenter.emit(ot.ELEMENT_CLICK,ae),q.eventCenter.emit(ot.NODE_CLICK,ae))}}}),bn(pn(h),"handleContextMenu",function(D){D.preventDefault();var z=h.props,U=z.model,q=z.graphModel,ae=U.getData(),oe=q.getPointByClient({x:D.clientX,y:D.clientY});q.setElementStateById(U.id,St.SHOW_MENU,oe.domOverlayPosition),U.isSelected||q.selectNodeById(U.id),q.eventCenter.emit(ot.NODE_CONTEXTMENU,{data:ae,e:D,position:oe}),h.toFront()}),bn(pn(h),"handleMouseDown",function(D){var z=h.props,U=z.model,q=z.graphModel;h.startTime=new Date().getTime(),q.editConfigModel.adjustNodePosition&&U.draggable&&h.stepDrag&&h.stepDrag.handleMouseDown(D)}),bn(pn(h),"setHoverON",function(D){var z=h.props,U=z.model,q=z.graphModel;if(!U.isHovered){var ae=U.getData();U.setHovered(!0),q.eventCenter.emit(ot.NODE_MOUSEENTER,{data:ae,e:D})}}),bn(pn(h),"setHoverOFF",function(D){var z=h.props,U=z.model,q=z.graphModel,ae=U.getData();U.isHovered&&(U.setHovered(!1),q.eventCenter.emit(ot.NODE_MOUSELEAVE,{data:ae,e:D}))}),bn(pn(h),"onMouseOut",function(D){T_&&h.setHoverOFF(D)});var v=s.graphModel,_=v.gridSize,E=v.eventCenter,T=s.model;return h.stepDrag=new Mr({onDragStart:h.onDragStart,onDragging:h.onDragging,onDragEnd:h.onDragEnd,step:_,eventType:"NODE",isStopPropagation:!1,eventCenter:E,model:T}),h}return t=i,r=[{key:"getModel",value:function(s){return s}}],(n=[{key:"getAnchorShape",value:function(s){return null}},{key:"getAnchors",value:function(){var s=this,h=this.props,v=h.model,_=h.graphModel,E=v.isSelected,T=v.isHitable,D=v.isDragging,z=v.isShowAnchor;return T&&(E||z)&&!D?ka(v.anchors,function(U,q){var ae=v.getAnchorLineStyle(U),oe=v.getAnchorStyle(U);return Object(ne.g)(O_,{anchorData:U,node:s,style:oe,edgeStyle:ae,anchorIndex:q,nodeModel:v,graphModel:_,setHoverOFF:s.setHoverOFF})}):[]}},{key:"getText",value:function(){var s=this.props,h=s.model,v=s.graphModel;if(h.state===St.TEXT_EDIT)return"";if(h.text){var _=v.editConfigModel,E=!1;return(h.text.draggable||_.nodeTextDraggable)&&(E=!0),Object(ne.g)(lv,{editable:_.nodeTextEdit&&h.text.editable,model:h,graphModel:v,draggable:E})}}},{key:"getStateClassName",value:function(){var s=this.props.model,h=s.state,v=s.isDragging,_=s.isSelected,E="lf-node";switch(h){case St.ALLOW_CONNECT:E+=" lf-node-allow";break;case St.NOT_ALLOW_CONNECT:E+=" lf-node-not-allow";break;default:E+=" lf-node-default"}return v&&(E+=" lf-isDragging"),_&&(E+=" lf-node-selected"),E}},{key:"toFront",value:function(){var s=this.props,h=s.model,v=s.graphModel;v.overlapMode!==Rn.INCREASE&&h.autoToFront&&v.toFront(h.id)}},{key:"render",value:function(){var s,h=this.props,v=h.model,_=h.graphModel,E=_.editConfigModel,T=E.hideAnchors,D=E.adjustNodePosition,z=_.gridSize,U=_.transformModel.SCALE_X,q=v.isHitable,ae=v.draggable,oe=Object(ne.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),T?null:this.getAnchors());return q?(D&&ae&&this.stepDrag.setStep(z*U),s=Object(ne.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},oe)):s=Object(ne.g)("g",{className:this.getStateClassName()},oe),s}}])&&pv(t.prototype,n),r&&pv(t,r),i}(ne.a);function bl(e){return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function _l(){return _l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(this,arguments)}function D_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ol(e,t){return Ol=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ol(e,t)}function C_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mu(e);if(t){var u=mu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return I_(this,n)}}function I_(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function mu(e){return mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mu(e)}var wl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Ol(i,s)})(u,e);var t,n,r=C_(u);function u(){return D_(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.getNodeStyle();return Object(ne.g)(Kr,_l({},s,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&N_(t.prototype,n),u}(Nr);function xl(e){return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function El(){return El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El.apply(this,arguments)}function R_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sl(e,t){return Sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sl(e,t)}function z_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=bu(e);if(t){var u=bu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return B_(this,n)}}function B_(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function bu(e){return bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bu(e)}var jl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Sl(i,s)})(u,e);var t,n,r=z_(u);function u(){return R_(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.x,h=i.y,v=i.r,_=i.getNodeStyle();return Object(ne.g)(ki,El({},_,{x:s,y:h,r:v}))}}])&&L_(t.prototype,n),u}(Nr);function Pl(e){return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function F_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return dv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return dv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hv(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(u){var i=F_(u,2),s=i[0],h=i[1];Pl(h)!=="object"&&(r[s]=h)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(u){return u.join(",")}).join(" "),Object(ne.g)("polygon",r)}function Ml(e){return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function Tl(){return Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tl.apply(this,arguments)}function G_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Al(e,t){return Al=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Al(e,t)}function X_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_u(e);if(t){var u=_u(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return W_(this,n)}}function W_(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function _u(e){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_u(e)}var kl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Al(i,s)})(u,e);var t,n,r=X_(u);function u(){return G_(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.x,h=i.y,v=i.width,_=i.height,E=i.points,T=i.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(s-v/2," ").concat(h-_/2,")")};return Object(ne.g)("g",D,Object(ne.g)(hv,Tl({},T,{points:E,x:s,y:h})))}}])&&H_(t.prototype,n),u}(Nr);function Dl(e){return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function Nl(){return Nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl.apply(this,arguments)}function U_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cl(e,t){return Cl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cl(e,t)}function V_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ou(e);if(t){var u=Ou(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return $_(this,n)}}function $_(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ou(e){return Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ou(e)}var Il=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Cl(i,s)})(u,e);var t,n,r=V_(u);function u(){return U_(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.getNodeStyle();return Object(ne.g)("g",null,Object(ne.g)(hv,Nl({},s,{points:i.points,x:i.x,y:i.y})))}}])&&Y_(t.prototype,n),u}(Nr);function Rl(e){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function K_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return yv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return yv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q_(e){var t=e.x,n=t===void 0?0:t,r=e.y,u=r===void 0?0:r,i=e.rx,s=i===void 0?4:i,h=e.ry,v=h===void 0?4:h,_=e.className,E={cx:n,cy:u,rx:s,ry:v,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(T){var D=K_(T,2),z=D[0],U=D[1];Rl(U)!=="object"&&(E[z]=U)}),E.className=_?"lf-basic-shape ".concat(_):"lf-basic-shape",Object(ne.g)("ellipse",E)}function Ll(e){return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function zl(){return zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}function Z_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t){return Bl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bl(e,t)}function Q_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wu(e);if(t){var u=wu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return eO(this,n)}}function eO(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function wu(e){return wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wu(e)}var Fl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Bl(i,s)})(u,e);var t,n,r=Q_(u);function u(){return Z_(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getShape",value:function(){var i=this.props.model,s=i.getNodeStyle();return Object(ne.g)(q_,zl({},s,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&J_(t.prototype,n),u}(Nr);function Gl(e){return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function gv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vv(Object(n),!0).forEach(function(r){tO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hl(e,t){return Hl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hl(e,t)}function oO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xu(e);if(t){var u=xu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return iO(this,n)}}function iO(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function xu(e){return xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xu(e)}var Xl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Hl(i,s)})(u,e);var t,n,r=oO(u);function u(){return nO(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getBackground",value:function(){var i=this.props.model,s=i.getTextStyle(),h=i.width,v=i.height,_=i.x,E=i.y,T=gv(gv({},s.background),{},{x:_,y:E-1,width:h,height:v});return Object(ne.g)(Kr,T)}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getBackground())}}])&&rO(t.prototype,n),u}(Nr);function Wl(e){return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function Ul(){return Ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(this,arguments)}function aO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yl(e,t){return Yl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Yl(e,t)}function sO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Eu(e);if(t){var u=Eu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return cO(this,n)}}function cO(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Li(e)}function Li(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(e){return Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eu(e)}function Su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vl=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&Yl(i,s)})(u,e);var t,n,r=sO(u);function u(){var i;aO(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return Su(Li(i=r.call.apply(r,[this].concat(h))),"ref",void 0),Su(Li(i),"currentProperties",void 0),Su(Li(i),"preProperties",void 0),Su(Li(i),"setRef",function(_){i.ref=_}),i}return t=u,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,s=i.x,h=i.y,v=i.height,_=i.width,E=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(ne.g)("foreignObject",Ul({},E,{x:s-_/2,y:h-v/2,width:_,height:v,ref:this.setRef}))}}])&&uO(t.prototype,n),u}(Nr);function $l(e){return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function Kl(){return Kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kl.apply(this,arguments)}function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mv(Object(n),!0).forEach(function(r){Jl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ql(e,t){return ql=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ql(e,t)}function fO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ju(e);if(t){var u=ju(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return pO(this,n)}}function pO(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zl(e)}function Zl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ju(e){return ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ju(e)}function Jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gr,dO=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&ql(i,s)})(u,e);var t,n,r=fO(u);function u(i){var s;return function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),Jl(Zl(s=r.call(this,i)),"setHoverON",function(){s.setState({isHovered:!0})}),Jl(Zl(s),"setHoverOFF",function(){s.setState({isHovered:!1})}),s.state={isHovered:!1},s}return t=u,(n=[{key:"getBackground",value:function(){var i=this.props.model,s=i.getTextStyle(),h=i.text,v=i.width,_=s.background||{};if(this.state.isHovered&&s.hover&&s.hover.background&&(_=go(go({},_),s.hover.background)),h&&h.value&&_.fill!=="transparent"){var E,T=s.fontSize,D=s.overflowMode,z=s.lineHeight,U=s.wrapPadding,q=s.textWidth,ae=h.value,oe=h.x,fe=h.y,_e=String(ae).split(/[\r\n]/g),ke=_e.length;if(D==="autoWrap"&&q){var je=kd({rows:_e,style:{fontSize:"".concat(T,"px"),width:"".concat(q,"px"),lineHeight:z,padding:U},rowsLength:ke,className:"lf-get-text-height"});E=go(go({},_),{},{x:oe-1,y:fe-1,width:q,height:je})}else{_e&&_e.forEach(function(ht){eh(ht)});var We=Fs({rows:_e,fontSize:T,rowsLength:ke}),De=We.width,Ge=We.height;if(D==="ellipsis"&&(De=q||v,Ge=T+2),typeof _.wrapPadding=="string"){var Le=_.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});Le.length>0&&Le.length<=4&&(Le.length===1?Le=[Le[0],Le[0],Le[0],Le[0]]:Le.length===2?Le=[Le[0],Le[1],Le[0],Le[1]]:Le.length===3&&(Le=[Le[0],Le[1],Le[2],Le[1]]),De+=Le[1]+Le[3],Ge+=Le[0]+Le[2],oe+=(Le[1]-Le[3])/2,fe+=(Le[2]-Le[0])/2)}E=go(go({},_),{},{x:oe-1,y:fe-1,width:De,height:Ge})}return Object(ne.g)(Kr,E)}}},{key:"getShape",value:function(){var i=this.props.model,s=i.text,h=s.value,v=s.x,_=s.y;if(h){var E=go({x:v,y:_,className:"lf-element-text",value:h},i.getTextStyle());return Object(ne.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ne.g)(sv,Kl({},E,{model:i})))}}}])&&lO(t.prototype,n),u}(lv);function Ql(e){return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bv(Object(n),!0).forEach(function(r){Bn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return _v(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _v(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _v(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ef(e,t){return ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ef(e,t)}function vO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pu(e);if(t){var u=Pu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return gO(this,n)}}function gO(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zn(e)}function zn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pu(e)}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(gr||(gr={}));var Ov=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&ef(i,s)})(u,e);var t,n,r=vO(u);function u(i){var s;(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,u),Bn(zn(s=r.call(this)),"stepDragData",void 0),Bn(zn(s),"stepDrag",void 0),Bn(zn(s),"oldEdge",void 0),Bn(zn(s),"preTargetNode",void 0),Bn(zn(s),"targetRuleResults",void 0),Bn(zn(s),"sourceRuleResults",void 0),Bn(zn(s),"handleMouseDown",function(E){s.stepDrag&&s.stepDrag.handleMouseDown(E)}),Bn(zn(s),"onDragStart",function(){var E=s.props,T=E.x,D=E.y,z=E.edgeModel,U=z.startPoint,q=z.endPoint,ae=z.pointsList;s.oldEdge={startPoint:U,endPoint:q,pointsList:ae},s.setState({endX:T,endY:D,dragging:!0})}),Bn(zn(s),"onDragging",function(E){var T=E.deltaX,D=E.deltaY,z=s.state,U=z.endX,q=z.endY,ae=s.props,oe=ae.graphModel,fe=ae.type,_e=oe.transformModel,ke=oe.editConfigModel,je=hO(_e.moveCanvasPointByHtml([U,q],T,D),2),We=je[0],De=je[1];s.setState({endX:We,endY:De,dragging:!0});var Ge=s.props.edgeModel,Le=Ia({x:U,y:q},oe);if(Le&&Le.node&&s.isAllowAdjust(Le).pass){var ht,Tt=Ge.startPoint,xt=Ge.endPoint,Dt=Ge.sourceNode,Kt=Ge.targetNode;fe===gr.SOURCE?ht={startPoint:{x:Le.anchor.x,y:Le.anchor.y},endPoint:{x:xt.x,y:xt.y},sourceNode:Le.node,targetNode:Kt}:fe===gr.TARGET&&(ht={startPoint:{x:Tt.x,y:Tt.y},endPoint:{x:Le.anchor.x,y:Le.anchor.y},sourceNode:Dt,targetNode:Le.node}),Ge.updateAfterAdjustStartAndEnd(ht)}else fe===gr.SOURCE?Ge.updateStartPoint({x:We,y:De}):fe===gr.TARGET&&Ge.updateEndPoint({x:We,y:De});Ge.text.value&&ke.adjustEdge&&Ge.setText(Object.assign({},Ge.text,Ge.textPosition))}),Bn(zn(s),"onDragEnd",function(E){var T=E.event;try{var D;s.setState({dragging:!1});var z=s.props,U=z.graphModel,q=z.edgeModel,ae=z.type,oe=s.state,fe=oe.endX,_e=oe.endY,ke=oe.dragging,je=Ia({x:fe,y:_e},U);if(!ke)return;var We,De=!1;if(je&&je.node){var Ge=s.isAllowAdjust(je),Le=Ge.pass,ht=Ge.msg,Tt=Ge.newTargetNode;if(Le){var xt,Dt=q.getData();We=Cr(Cr({},Dt),{},{sourceAnchorId:"",targetAnchorId:"",text:(Dt==null||(xt=Dt.text)===null||xt===void 0?void 0:xt.value)||""}),ae===gr.SOURCE?(We=Cr(Cr({},U.edgeGenerator(U.getNodeModelById(je.node.id).getData(),U.getNodeModelById(q.targetNodeId).getData(),We)),{},{sourceNodeId:je.node.id,sourceAnchorId:je.anchor.id,startPoint:{x:je.anchor.x,y:je.anchor.y},targetNodeId:q.targetNodeId,endPoint:Cr({},q.endPoint)}),q.sourceNodeId===je.node.id&&q.sourceAnchorId===je.anchor.id&&(De=!0)):ae===gr.TARGET&&(We=Cr(Cr({},U.edgeGenerator(U.getNodeModelById(q.sourceNodeId).getData(),U.getNodeModelById(je.node.id).getData(),We)),{},{sourceNodeId:q.sourceNodeId,startPoint:Cr({},q.startPoint),targetNodeId:je.node.id,targetAnchorId:je.anchor.id,endPoint:{x:je.anchor.x,y:je.anchor.y}}),q.targetNodeId===je.node.id&&q.targetAnchorId===je.anchor.id&&(De=!0))}else{De=!0;var Kt=Tt.getData();U.eventCenter.emit(ot.CONNECTION_NOT_ALLOWED,{data:Kt,msg:ht})}}else De=!0;if(De)s.recoveryEdge();else{var nn=q.getData();U.deleteEdgeById(q.id);var _n=U.addEdge(Cr({},We));U.eventCenter.emit(ot.EDGE_EXCHANGE_NODE,{data:{newEdge:_n.getData(),oldEdge:nn}})}(D=s.preTargetNode)===null||D===void 0||D.setElementState(St.DEFAULT)}finally{s.props.graphModel.eventCenter.emit(ot.ADJUST_POINT_DRAGEND,{e:T,data:s.stepDragData})}}),Bn(zn(s),"recoveryEdge",function(){var E=s.props.edgeModel,T=s.oldEdge,D=T.startPoint,z=T.endPoint,U=T.pointsList;E.updateStartPoint(D),E.updateEndPoint(z),E.modelType!==mt.LINE_EDGE&&(E.pointsList=U,E.initPoints())}),Bn(zn(s),"getAdjustPointStyle",function(){var E=s.props,T=E.graphModel.theme;return E.edgeModel,T.edgeAdjust}),s.state={dragging:!1,endX:0,endY:0},s.targetRuleResults=new Map,s.sourceRuleResults=new Map;var h=i.type,v=i.edgeModel,_=i.graphModel.eventCenter;return s.stepDragData={type:h,edgeData:v.getData()},s.stepDrag=new Mr({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:_,data:s.stepDragData}),s}return t=u,(n=[{key:"isAllowAdjust",value:function(i){var s=this.props,h=s.edgeModel,v=h.id,_=h.sourceNode,E=h.targetNode,T=h.sourceAnchorId,D=h.targetAnchorId,z=s.type,U=null,q=null,ae=null,oe=null;if(z===gr.SOURCE?(U=i.node,q=E,ae=i.anchor,oe=E.getAnchorInfo(D)):(U=_,q=i.node,oe=i.anchor,ae=_.getAnchorInfo(T)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(St.DEFAULT),this.preTargetNode=i.node,oe.id===ae.id)return{pass:!1,msg:"",newTargetNode:q};var fe="".concat(U.id,"_").concat(q.id,"_").concat(ae.id,"_").concat(oe.id);if(!this.targetRuleResults.has(fe)){var _e=U.isAllowConnectedAsSource(q,ae,oe,v),ke=q.isAllowConnectedAsTarget(U,ae,oe,v);this.sourceRuleResults.set(fe,Ei(_e)),this.targetRuleResults.set(fe,Ei(ke))}var je=this.sourceRuleResults.get(fe),We=je.isAllPass,De=je.msg,Ge=this.targetRuleResults.get(fe),Le=Ge.isAllPass,ht=Ge.msg,Tt=We&&Le?St.ALLOW_CONNECT:St.NOT_ALLOW_CONNECT;return z===gr.SOURCE?U.setElementState(Tt):q.setElementState(Tt),{pass:We&&Le,msg:ht||De,newTargetNode:q}}},{key:"render",value:function(){var i=this.props,s=i.x,h=i.y,v=i.getAdjustPointShape,_=i.edgeModel,E=this.state.dragging;return Object(ne.g)("g",{pointerEvents:E?"none":"",onMouseDown:this.handleMouseDown},E?"":v(s,h,_))}}])&&yO(t.prototype,n),u}(ne.a);function tf(e){return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function zi(){return zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(this,arguments)}function mO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return wv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return wv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nf(e,t){return nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nf(e,t)}function OO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mu(e);if(t){var u=Mu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return wO(this,n)}}function wO(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function tr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mu(e){return Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mu(e)}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bi=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&nf(i,s)})(u,e);var t,n,r=OO(u);function u(){var i;bO(this,u);for(var s=arguments.length,h=new Array(s),v=0;v<s;v++)h[v]=arguments[v];return mr(tr(i=r.call.apply(r,[this].concat(h))),"startTime",void 0),mr(tr(i),"contextMenuTime",void 0),mr(tr(i),"clickTimer",void 0),mr(tr(i),"textRef",Object(ne.f)()),mr(tr(i),"handleHover",function(_,E){var T=i.props,D=T.model,z=T.graphModel.eventCenter;D.setHovered(_);var U=_?ot.EDGE_MOUSEENTER:ot.EDGE_MOUSELEAVE,q=D.getData();z.emit(U,{data:q,e:E})}),mr(tr(i),"setHoverON",function(_){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,_))}),mr(tr(i),"setHoverOFF",function(_){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,_))}),mr(tr(i),"handleContextMenu",function(_){_.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var E=i.props,T=E.model,D=E.graphModel,z=D.getPointByClient({x:_.clientX,y:_.clientY});D.setElementStateById(T.id,St.SHOW_MENU,z.domOverlayPosition),i.toFront(),T.isSelected||D.selectEdgeById(T.id);var U=T==null?void 0:T.getData();D.eventCenter.emit(ot.EDGE_CONTEXTMENU,{data:U,e:_,position:z})}),mr(tr(i),"handleMouseDown",function(_){_.stopPropagation(),i.startTime=new Date().getTime()}),mr(tr(i),"handleMouseUp",function(_){if(i.startTime&&!(new Date().getTime()-i.startTime>200||_.button===2)){var E=_.detail===2,T=i.props,D=T.model,z=T.graphModel,U=D==null?void 0:D.getData(),q=z.getPointByClient({x:_.clientX,y:_.clientY});if(E){var ae=z.editConfigModel,oe=z.textEditElement;if(oe&&oe.id===D.id&&z.setElementStateById(D.id,St.DEFAULT),ae.edgeTextEdit&&D.text.editable&&z.setElementStateById(D.id,St.TEXT_EDIT),D.modelType===mt.POLYLINE_EDGE){var fe=D,_e=z.getPointByClient({x:_.x,y:_.y}).canvasOverlayPosition,ke=_e.x,je=_e.y,We=rh({x:ke,y:je},fe.points);fe.dbClickPosition=We}z.eventCenter.emit(ot.EDGE_DBCLICK,{data:U,e:_,position:q})}else z.eventCenter.emit(ot.ELEMENT_CLICK,{data:U,e:_,position:q}),z.eventCenter.emit(ot.EDGE_CLICK,{data:U,e:_,position:q});var De=z.editConfigModel;z.selectEdgeById(D.id,rd(_,De)),i.toFront()}}),i}return t=u,(n=[{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,s=i.model,h=i.graphModel;if(s.state===St.TEXT_EDIT)return null;var v=!1,_=h.editConfigModel;return(s.text.draggable||_.edgeTextDraggable)&&(v=!0),Object(ne.g)(dO,{ref:this.textRef,editable:_.edgeTextEdit&&s.text.editable,model:s,graphModel:h,draggable:v})}},{key:"getArrowInfo",value:function(){var i=this.props.model,s=i.startPoint,h=i.endPoint,v=i.isSelected;return{start:s,end:h,hover:this.state.hover,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,s=i.id,h=i.getArrowStyle(),v=h.refY,_=v===void 0?0:v,E=h.refX,T=E===void 0?2:E,D=mO(this.getLastTwoPoints(),2),z=D[0],U=D[1],q="auto";return z!==null&&U!==null&&(q=h0({x:U.x-z.x,y:U.y-z.y,z:0})*(180/Math.PI)),Object(ne.g)("g",null,Object(ne.g)("defs",null,Object(ne.g)("marker",{id:"marker-start-".concat(s),refX:-T,refY:_,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ne.g)("marker",{id:"marker-end-".concat(s),refX:T,refY:_,overflow:"visible",orient:q,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(ne.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),s=i.stroke,h=i.strokeWidth,v=i.offset,_=i.verticalLength;return Object(ne.g)("path",{stroke:s,fill:s,strokeWidth:h,transform:"rotate(180)",d:"M 0 0 L ".concat(v," -").concat(_," L ").concat(v," ").concat(_," Z")})}},{key:"getAdjustPointShape",value:function(i,s,h){var v=h.getAdjustPointStyle();return Object(ne.g)(ki,zi({className:"lf-edge-adjust-point"},v,{x:i,y:s}))}},{key:"getAdjustPoints",value:function(){var i=this.props,s=i.model,h=i.graphModel,v=s.getAdjustStart(),_=s.getAdjustEnd();return Object(ne.g)("g",null,Object(ne.g)(Ov,zi({type:"SOURCE"},v,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:s,graphModel:h})),Object(ne.g)(Ov,zi({type:"TARGET"},_,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:s,graphModel:h})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ne.g)("g",null)}},{key:"getAppend",value:function(){return Object(ne.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,s=i.graphModel,h=i.model;s.overlapMode!==Rn.INCREASE&&s.toFront(h.id)}},{key:"render",value:function(){var i=this.props,s=i.model,h=s.isSelected,v=s.isHitable,_=s.isShowAdjustPoint;return i.graphModel.animation,Object(ne.g)("g",null,Object(ne.g)("g",{className:["lf-edge",!v&&"pointer-none",h&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),_&&h?this.getAdjustPoints():"")}}])&&_O(t.prototype,n),u}(ne.a);function rf(e){return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function xO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return xv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return xv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fi=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=xO(n,2),u=r[0],i=r[1],s=rf(i);u!=="style"&&s==="object"||(t[u]=i)}),Object(ne.g)("path",t)};function of(e){return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function af(){return af=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},af.apply(this,arguments)}function EO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uf(e,t){return uf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},uf(e,t)}function jO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Tu(e);if(t){var u=Tu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return PO(this,n)}}function PO(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Tu(e){return Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tu(e)}var sf=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&uf(i,s)})(u,e);var t,n,r=jO(u);function u(){return EO(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,s=i.startPoint,h=i.endPoint,v=i.isAnimation,_=i.arrowConfig,E=i.getEdgeStyle(),T=i.getEdgeAnimationStyle(),D=T.strokeDasharray,z=T.stroke,U=T.strokeDashoffset,q=T.animationName,ae=T.animationDuration,oe=T.animationIterationCount,fe=T.animationTimingFunction,_e=T.animationDirection;return Object(ne.g)(Ro,af({},E,{x1:s.x,y1:s.y,x2:h.x,y2:h.y},_,v?{strokeDasharray:D,stroke:z,style:{strokeDashoffset:U,animationName:q,animationDuration:ae,animationIterationCount:oe,animationTimingFunction:fe,animationDirection:_e}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,s=function(D){var z,U=D.start,q=D.end;if(U.x===q.x&&U.y===q.y)z="";else{var ae={start:U,end:q,offset:10,verticalLength:5},oe=Pi(Ra(Ra({},ae),{},{type:"start"})),fe=Pi(Ra(Ra({},ae),{},{type:"end"}));z="M".concat(oe.leftX," ").concat(oe.leftY,` 
    L`).concat(oe.rightX," ").concat(oe.rightY,` 
    L`).concat(fe.rightX," ").concat(fe.rightY,`
    L`).concat(fe.leftX," ").concat(fe.leftY," z")}return{d:z,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:i.startPoint,end:i.endPoint}),h=s.d,v=s.strokeWidth,_=s.fill,E=s.strokeDasharray,T=s.stroke;return Object(ne.g)(Fi,{d:h,fill:_,strokeWidth:v,stroke:T,strokeDasharray:E})}}])&&SO(t.prototype,n),u}(Bi);function cf(e){return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function MO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ev(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Ev(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ev(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TO=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=MO(n,2),u=r[0],i=r[1];(u==="style"||cf(i)!=="object")&&(t[u]=i)}),Object(ne.g)("polyline",t)};function lf(e){return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sv(Object(n),!0).forEach(function(r){Rr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ff(){return ff=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ff.apply(this,arguments)}function AO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return jv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return jv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pf(e,t){return pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pf(e,t)}function DO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ku(e);if(t){var u=ku(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return NO(this,n)}}function NO(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Ir(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(e)}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var df=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&pf(i,s)})(u,e);var t,n,r=DO(u);function u(){var i;return function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}(this,u),Rr(Ir(i=r.call(this)),"drag",void 0),Rr(Ir(i),"isDragging",void 0),Rr(Ir(i),"isShowAdjustPointTemp",void 0),Rr(Ir(i),"appendInfo",void 0),Rr(Ir(i),"onDragStart",function(){var s=i.props.model;s.dragAppendStart(),i.isShowAdjustPointTemp=s.isShowAdjustPoint,s.isShowAdjustPoint=!1}),Rr(Ir(i),"onDragging",function(s){var h=s.deltaX,v=s.deltaY,_=i.props,E=_.model,T=_.graphModel;i.isDragging=!0;var D=T.transformModel,z=T.editConfigModel,U=AO(D.fixDeltaXY(h,v),2),q=U[0],ae=U[1],oe=E,fe=z.adjustEdgeMiddle;i.appendInfo=fe?oe.dragAppendSimple(i.appendInfo,{x:q,y:ae}):oe.dragAppend(i.appendInfo,{x:q,y:ae})}),Rr(Ir(i),"onDragEnd",function(){var s=i.props,h=s.model,v=s.graphModel.eventCenter,_=h;_.dragAppendEnd(),i.isDragging=!1,_.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,v.emit(ot.EDGE_ADJUST,{data:_.getData()})}),Rr(Ir(i),"beforeDragStart",function(s,h){h.dragAble&&i.drag.handleMouseDown(s),i.appendInfo=h}),i.drag=new Mr({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return t=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,s=i.points,h=i.isAnimation,v=i.arrowConfig,_=i.getEdgeStyle(),E=i.getEdgeAnimationStyle(),T=E.strokeDasharray,D=E.stroke,z=E.strokeDashoffset,U=E.animationName,q=E.animationDuration,ae=E.animationIterationCount,oe=E.animationTimingFunction,fe=E.animationDirection;return Object(ne.g)(TO,ff({points:s},_,v,h?{strokeDasharray:T,stroke:D,style:{strokeDashoffset:z,animationName:U,animationDuration:q,animationIterationCount:ae,animationTimingFunction:oe,animationDirection:fe}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,s=i.points,h=i.isSelected,v={start:null,end:null,hover:this.state.hover,isSelected:h},_=yo(s);return _.length>=2&&(v.start=_[_.length-2],v.end=_[_.length-1]),v}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,s=yo(i);return s.length>=2?[s[s.length-2],s[s.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var s,h=i.start,v=i.end;if(h.x===v.x&&h.y===v.y)s="";else{var _={start:h,end:v,offset:10,verticalLength:5},E=Pi(Au(Au({},_),{},{type:"start"})),T=Pi(Au(Au({},_),{},{type:"end"}));s="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:s,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var s=this.getAppendAttributes(i),h=s.d,v=s.strokeWidth,_=s.fill,E=s.strokeDasharray,T=s.stroke;return Object(ne.g)(Fi,{d:h,fill:_,strokeWidth:v,stroke:T,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var i=this,s=this.props,h=s.model,v=s.graphModel,_=h.pointsList,E=h.draggable,T=[],D=_.length,z=function(q){var ae="lf-polyline-append",oe={start:{x:_[q].x,y:_[q].y},end:{x:_[q+1].x,y:_[q+1].y},startIndex:q,endIndex:q+1,direction:"",dragAble:!0},fe=Object(ne.g)("g",{className:ae},i.getAppendShape(oe)),_e=v.editConfigModel,ke=_e.adjustEdge,je=_e.adjustEdgeMiddle;if(ke&&E){var We=oe.startIndex,De=oe.endIndex,Ge=je&&(We===0||De===D-1);oe.dragAble=!Ge,oe.start.x===oe.end.x?(oe.dragAble&&(ae+="-ew-resize"),oe.direction=zt.VERTICAL):oe.start.y===oe.end.y&&(oe.dragAble&&(ae+="-ns-resize"),oe.direction=zt.HORIZONTAL),fe=Object(ne.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(Le){return i.beforeDragStart(Le,oe)}},Object(ne.g)("g",{className:ae},i.getAppendShape(oe)))}T.push(fe)},U=0;U<D-1;U++)z(U);return Object(ne.g)("g",null,T)}}])&&kO(t.prototype,n),u}(Bi);function hf(e){return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function CO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Pv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Pv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yf(){return yf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yf.apply(this,arguments)}function IO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vf(e,t){return vf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vf(e,t)}function LO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Du(e);if(t){var u=Du(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return zO(this,n)}}function zO(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Du(e){return Du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Du(e)}var gf=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&vf(i,s)})(u,e);var t,n,r=LO(u);function u(){return IO(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,s=i.getEdgeStyle(),h=i.path,v=i.isAnimation,_=i.arrowConfig,E=i.getEdgeAnimationStyle(),T=E.strokeDasharray,D=E.stroke,z=E.strokeDashoffset,U=E.animationName,q=E.animationDuration,ae=E.animationIterationCount,oe=E.animationTimingFunction,fe=E.animationDirection;return Object(ne.g)(Fi,yf({d:h},s,_,v?{strokeDasharray:T,stroke:D,style:{strokeDashoffset:z,animationName:U,animationDuration:q,animationIterationCount:ae,animationTimingFunction:oe,animationDirection:fe}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(ne.g)(Fi,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,s=this.state.hover,h=i.isSelected,v=i.getArrowStyle().offset,_=i.pointsList.map(function(T){return{x:T.x,y:T.y}}),E=CO(nh(_,v),2);return{start:E[0],end:E[1],hover:s,isSelected:h}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,s=i.getArrowStyle().offset,h=i.pointsList.map(function(v){return{x:v.x,y:v.y}});return nh(h,s)}}])&&RO(t.prototype,n),u}(Bi);function mf(e){return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function Mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function BO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bf(e,t){return bf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bf(e,t)}function HO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nu(e);if(t){var u=Nu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Nu(e){return Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nu(e)}var WO=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&bf(i,s)})(u,e);var t,n,r=HO(u);function u(){return FO(this,u),r.apply(this,arguments)}return t=u,n=[{key:"getArrowAttributes",value:function(){var i=this.props,s=i.arrowInfo,h=i.style,v=s.start,_=s.end,E={start:v,end:_,offset:h.offset,verticalLength:h.verticalLength,type:"end"},T=Pi(E),D=T.leftX,z=T.leftY,U=T.rightX,q=T.rightY;return function(ae){for(var oe=1;oe<arguments.length;oe++){var fe=arguments[oe]!=null?arguments[oe]:{};oe%2?Mv(Object(fe),!0).forEach(function(_e){BO(ae,_e,fe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(fe)):Mv(Object(fe)).forEach(function(_e){Object.defineProperty(ae,_e,Object.getOwnPropertyDescriptor(fe,_e))})}return ae}({d:"M".concat(D," ").concat(z," L").concat(_.x," ").concat(_.y," L").concat(U," ").concat(q," z")},h)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),s=i.d,h=i.strokeWidth,v=i.stroke,_=i.fill;return Object(ne.g)(Fi,{d:s,fill:_,strokeWidth:h,stroke:v})}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&GO(t.prototype,n),u}(ne.a),Tv=function(e,t){return he(e,t)},UO=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},_f=function(){return Ye.a.Date.now()},YO=/\s/,VO=function(e){for(var t=e.length;t--&&YO.test(e.charAt(t)););return t},$O=/^\s+/,KO=function(e){return e&&e.slice(0,VO(e)+1).replace($O,"")},qO=/^[-+]0x[0-9a-f]+$/i,ZO=/^0b[01]+$/i,JO=/^0o[0-7]+$/i,QO=parseInt,Av=function(e){if(typeof e=="number")return e;if(dt(e))return NaN;if(Bt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Bt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=KO(e);var n=ZO.test(e);return n||JO.test(e)?QO(e.slice(2),n?2:8):qO.test(e)?NaN:+e},ew=Math.max,tw=Math.min,nw=function(e,t,n){var r,u,i,s,h,v,_=0,E=!1,T=!1,D=!0;if(typeof e!="function")throw new TypeError("Expected a function");function z(_e){var ke=r,je=u;return r=u=void 0,_=_e,s=e.apply(je,ke)}function U(_e){return _=_e,h=setTimeout(ae,t),E?z(_e):s}function q(_e){var ke=_e-v;return v===void 0||ke>=t||ke<0||T&&_e-_>=i}function ae(){var _e=_f();if(q(_e))return oe(_e);h=setTimeout(ae,function(ke){var je=t-(ke-v);return T?tw(je,i-(ke-_)):je}(_e))}function oe(_e){return h=void 0,D&&r?z(_e):(r=u=void 0,s)}function fe(){var _e=_f(),ke=q(_e);if(r=arguments,u=this,v=_e,ke){if(h===void 0)return U(v);if(T)return clearTimeout(h),h=setTimeout(ae,t),z(v)}return h===void 0&&(h=setTimeout(ae,t)),s}return t=Av(t)||0,Bt(n)&&(E=!!n.leading,i=(T="maxWait"in n)?ew(Av(n.maxWait)||0,t):i,D="trailing"in n?!!n.trailing:D),fe.cancel=function(){h!==void 0&&clearTimeout(h),_=0,r=v=u=h=void 0},fe.flush=function(){return h===void 0?s:oe(_f())},fe},rw=o(167);function ow(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kv,Dv,Nv,iw=function(){function e(r){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),Qr(this,"undos",[]),Qr(this,"redos",[]),Qr(this,"callbacks",[]),Qr(this,"stopWatch",null),Qr(this,"curData",null),Qr(this,"maxSize",50),Qr(this,"waitTime",100),Qr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){Tv(UO(this.undos),r)||(this.undos.push(r),Tv(this.curData,r)||(this.redos=[]),this.eventCenter.emit(ot.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var u=this.undos.pop();return this.curData=Gt(u),u}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Gt(r),r}}},{key:"watch",value:function(r){var u=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(rw.a)(r,nw(function(){var i=r.modelToHistoryData();i&&u.add(i)},this.waitTime))}}])&&ow(t.prototype,n),e}();function Of(e){return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function aw(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Cv(n,r);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Cv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iv(Object(n),!0).forEach(function(r){mo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wf(e,t){return wf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wf(e,t)}function uw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Cu(e);if(t){var u=Cu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return sw(this,n)}}function sw(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $o(e)}function $o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cu(e){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(e)}function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lv,zv,Bv,xf=nr((Nv=Dv=function(e){(function(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&wf(s,h)})(i,e);var t,n,r,u=uw(i);function i(){var s;return function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,i),mo($o(s=u.call(this)),"ref",Object(ne.f)()),mo($o(s),"__prevText",{type:"",text:"",id:""}),mo($o(s),"keyupHandler",function(h){var v=s.props.graphModel.textEditElement;h.key==="Enter"&&h.altKey&&v.setElementState(0)}),mo($o(s),"inputHandler",function(h){var v=h.target.innerText,_=s.props.graphModel.textEditElement;s.__prevText={type:_.type,text:v.replace(/(\r\n)+$|(\n)+$/,""),id:_.id}}),mo($o(s),"keydownHandler",function(h){h.stopPropagation()}),s.state={style:{left:0,top:0}},s}return t=i,r=[{key:"getDerivedStateFromProps",value:function(s){var h,v=s.graphModel,_=v.transformModel,E=v.theme,T=v.textEditElement;if(T){var D;if((D=T.text)===null||D===void 0||!D.value)if(T.BaseType===Zt.EDGE){var z=(T=T).text,U=T.textPosition,q=U.x,ae=U.y;z.x=q,z.y=ae,T.setText(z)}else T=T;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(T.BaseType===Zt.EDGE){var fe=E.edgeText,_e=fe.overflowMode,ke=fe.lineHeight,je=fe.wrapPadding,We=fe.textWidth;We&&_e==="autoWrap"&&(h=Vo(Vo({},oe),{},{width:We,minWidth:We,lineHeight:ke,padding:je}))}else if(T.BaseType===Zt.NODE){var De=E.nodeText,Ge=De.overflowMode,Le=De.lineHeight,ht=De.wrapPadding,Tt=De.textWidth,xt=T,Dt=xt.width,Kt=xt.modelType;(Kt!==mt.TEXT_NODE&&Ge==="autoWrap"||Kt===mt.TEXT_NODE&&Tt)&&(h=Vo(Vo({},oe),{},{width:Tt||Dt,minWidth:Tt||Dt,lineHeight:Le,padding:ht}))}var nn=T.text,_n=nn.x,br=nn.y,$n=aw(_.CanvasPointToHtmlPoint([_n,br]),2);return{style:Vo({left:$n[0],top:$n[1]},h)}}}}],(n=[{key:"componentDidUpdate",value:function(){var s=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var h=this.__prevText,v=h.text,_=h.id;s.updateText(_,v),s.eventCenter.emit(ot.TEXT_UPDATE,Vo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(s){if(window.getSelection!==void 0&&document.createRange!==void 0){var h=document.createRange();h.selectNodeContents(s),h.collapse(!1);var v=window.getSelection();v.removeAllRanges(),v.addRange(h)}}},{key:"render",value:function(){var s,h=this.props.graphModel.textEditElement,v=this.state.style;return h?Object(ne.g)("div",{contentEditable:!0,className:"lf-text-input",style:v,ref:this.ref,key:h.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(s=h.text)===null||s===void 0?void 0:s.value):null}}])&&Rv(t.prototype,n),r&&Rv(t,r),i}(ne.a),mo(Dv,"toolName","textEdit"),kv=Nv))||kv,cw=function(e){return e.modelType===mt.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,u=(n.x+r.x)/2,i=(n.y+r.y)/2,s=Math.abs(n.x-r.x)+10,h=Math.abs(n.y-r.y)+10;return{x:u-s/2,y:i-h/2,x1:u+s/2,y1:i+h/2}}(e):e.modelType===mt.POLYLINE_EDGE?function(t){var n=t.points,r=yo(n),u=Mi(r,8),i=u.x,s=u.y,h=u.width,v=u.height;return{x:i-h/2,y:s-v/2,x1:i+h/2,y1:s+v/2}}(e):e.modelType===mt.BEZIER_EDGE?function(t){var n=t.path,r=nc(n),u=Mi(r,8),i=u.x,s=u.y,h=u.width,v=u.height;return{x:i-h/2,y:s-v/2,x1:i+h/2,y1:s+v/2}}(e):void 0};function Ef(e){return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function Fv(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var i,s,h=[],v=!0,_=!1;try{for(u=u.call(n);!(v=(i=u.next()).done)&&(h.push(i.value),!r||h.length!==r);v=!0);}catch(E){_=!0,s=E}finally{try{v||u.return==null||u.return()}finally{if(_)throw s}}return h}}(e,t)||Gv(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lw(e){return function(t){if(Array.isArray(t))return Sf(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Gv(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gv(e,t){if(e){if(typeof e=="string")return Sf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sf(e,t):void 0}}function Sf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jf(e,t){return jf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jf(e,t)}function pw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Iu(e);if(t){var u=Iu(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return dw(this,n)}}function dw(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gi(e)}function Gi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iu(e){return Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Iu(e)}function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pf=nr((Bv=zv=function(e){(function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&jf(i,s)})(u,e);var t,n,r=pw(u);function u(i){var s;(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,u),Hi(Gi(s=r.call(this)),"stepDrag",void 0),Hi(Gi(s),"handleMouseDown",function(E){s.stepDrag.handleMouseDown(E)}),Hi(Gi(s),"onDragging",function(E){var T=E.deltaX,D=E.deltaY,z=s.props.graphModel,U=z.getSelectElements(!0);z.moveNodes(U.nodes.map(function(q){return q.id}),T,D)}),Hi(Gi(s),"handleContextMenu",function(E){E.preventDefault();var T=s.props,D=T.graphModel,z=T.graphModel,U=z.eventCenter,q=z.selectElements,ae=D.getPointByClient({x:E.clientX,y:E.clientY}),oe={nodes:[],edges:[]};lw(q.values()).forEach(function(fe){fe.BaseType===Zt.NODE&&oe.nodes.push(fe.getData()),fe.BaseType===Zt.EDGE&&oe.edges.push(fe.getData())}),U.emit(ot.SELECTION_CONTEXTMENU,{data:oe,e:E,position:ae})});var h=i.graphModel,v=h.gridSize,_=h.eventCenter;return s.stepDrag=new Mr({onDragging:s.onDragging,step:v,eventType:"SELECTION",eventCenter:_}),s}return t=u,(n=[{key:"render",value:function(){var i=this.props.graphModel,s=i.selectElements,h=i.transformModel;if(!(s.size<=1)){var v=Number.MAX_SAFE_INTEGER,_=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;s.forEach(function(q){var ae={x:0,y:0,x1:0,y1:0};q.BaseType===Zt.NODE&&(ae=function(oe){var fe=oe.x,_e=oe.y,ke=oe.width,je=oe.height;return{x:fe-ke/2,y:_e-je/2,x1:fe+ke/2,y1:_e+je/2}}(q)),q.BaseType===Zt.EDGE&&(ae=cw(q)),v=Math.min(v,ae.x),_=Math.min(_,ae.y),E=Math.max(E,ae.x1),T=Math.max(T,ae.y1)});var D=Fv(h.CanvasPointToHtmlPoint([v,_]),2);v=D[0],_=D[1];var z=Fv(h.CanvasPointToHtmlPoint([E,T]),2);E=z[0],T=z[1];var U={left:"".concat(v-10,"px"),top:"".concat(_-10,"px"),width:"".concat(E-v+20,"px"),height:"".concat(T-_+20,"px")};return Object(ne.g)("div",{className:"lf-multiple-select",style:U,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&fw(t.prototype,n),u}(ne.a),Hi(zv,"toolName","multipleSelect"),Lv=Bv))||Lv;function hw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yw=function(){function e(r){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Ru(this,"tools",void 0),Ru(this,"components",void 0),Ru(this,"toolMap",new Map),Ru(this,"instance",void 0),this.instance=r,this.isDisabledTool(xf.toolName)||this.registerTool(xf.toolName,xf),this.isDisabledTool(Pf.toolName)||this.registerTool(Pf.toolName,Pf);var u=r.graphModel;u.eventCenter.on("".concat(ot.GRAPH_TRANSFORM,",").concat(ot.NODE_CLICK,",").concat(ot.BLANK_CLICK," "),function(){var i=u.textEditElement,s=u.editConfigModel,h=s.edgeTextEdit,v=s.nodeTextEdit;(h||v)&&i&&u.textEditElement.setElementState(St.DEFAULT)})}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,u){this.toolMap.set(r,u)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&hw(t.prototype,n),e}(),vw=o(168),gw=o.n(vw);function mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hv=function(){function e(r){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Mf(this,"mousetrap",void 0),Mf(this,"options",void 0),Mf(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var u=r.lf;this.target=u.container,this.mousetrap=new gw.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,u=this.options.keyboard.shortcuts;if(u)if(un(u))u.forEach(function(v){var _=v.keys,E=v.callback,T=v.action;return r.on(_,E,T)});else{var i=u.keys,s=u.callback,h=u.action;this.on(i,s,h)}}},{key:"on",value:function(r,u,i){this.mousetrap.bind(this.getKeys(r),u,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,u){this.mousetrap.unbind(this.getKeys(r),u)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var u=this;return(Array.isArray(r)?r:[r]).map(function(i){return u.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&mw(t.prototype,n),e}(),bw=Hv,Lr=null;function Xv(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Wv(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Tf(e){return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function Uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uv(Object(n),!0).forEach(function(r){Ft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Af=Symbol("plugin register by Logicflow.use"),kf=function(){function e(u){var i,s,h=this;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,e),Ft(this,"container",void 0),Ft(this,"width",void 0),Ft(this,"height",void 0),Ft(this,"graphModel",void 0),Ft(this,"history",void 0),Ft(this,"viewMap",new Map),Ft(this,"tool",void 0),Ft(this,"keyboard",void 0),Ft(this,"dnd",void 0),Ft(this,"options",void 0),Ft(this,"snaplineModel",void 0),Ft(this,"components",[]),Ft(this,"plugins",void 0),Ft(this,"extension",{}),Ft(this,"adapterIn",void 0),Ft(this,"adapterOut",void 0),Ft(this,"getView",function(v){return h.viewMap.get(v)}),u=Yh(u),this.options=u,this.container=this.initContainer(u.container),this.plugins=u.plugins,this.graphModel=new j0(Xi({},u)),this.tool=new yw(this),this.history=new iw(this.graphModel.eventCenter),this.dnd=new w1({lf:this}),this.keyboard=new bw({lf:this,keyboard:u.keyboard}),u.snapline!==!1&&(this.snaplineModel=new nv(this.graphModel),i=this.graphModel.eventCenter,s=this.snaplineModel,i.on("node:mousemove",function(v){var _=v.data;s.setNodeSnapLine(_)}),i.on("node:mouseup",function(){s.clearSnapline()})),function(v,_){var E=v.keyboard,T=E.options.keyboard;E.on(["cmd + c","ctrl + c"],function(){if(!T.enabled||_.textEditElement)return!0;var D=v.options.guards,z=_.getSelectElements(!1);return D&&D.beforeClone&&!D.beforeClone(z)||z.nodes.length===0&&z.edges.length===0?(Lr=null,!0):((Lr=z).nodes.forEach(function(U){return Xv(U,40)}),Lr.edges.forEach(function(U){return Wv(U,40)}),!1)}),E.on(["cmd + v","ctrl + v"],function(){if(!T.enabled||_.textEditElement)return!0;if(Lr&&(Lr.nodes||Lr.edges)){v.clearSelectElements();var D=v.addElements(Lr);if(!D)return!0;D.nodes.forEach(function(z){return v.selectElementById(z.id,!0)}),D.edges.forEach(function(z){return v.selectElementById(z.id,!0)}),Lr.nodes.forEach(function(z){return Xv(z,40)}),Lr.edges.forEach(function(z){return Wv(z,40)})}return!1}),E.on(["cmd + z","ctrl + z"],function(){return!T.enabled||!!_.textEditElement||(v.undo(),!1)}),E.on(["cmd + y","ctrl + y"],function(){return!T.enabled||!!_.textEditElement||(v.redo(),!1)}),E.on(["backspace"],function(){if(!T.enabled||_.textEditElement)return!0;var D=_.getSelectElements(!0);return v.clearSelectElements(),D.edges.forEach(function(z){return v.deleteEdge(z.id)}),D.nodes.forEach(function(z){return v.deleteNode(z.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(u.disabledPlugins)}var t,n,r;return t=e,n=[{key:"register",value:function(u,i){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof u=="string"){var h={BaseEdge:Bi,BaseEdgeModel:Hs,BaseNode:Nr,BaseNodeModel:Dr,RectNode:wl,RectNodeModel:nl,CircleNode:jl,CircleNodeModel:Lc,PolygonNode:kl,PolygonNodeModel:Jc,TextNode:Xl,TextNodeModel:al,LineEdge:sf,LineEdgeModel:Vs,DiamondNode:Il,DiamondNodeModel:Hc,PolylineEdge:df,PolylineEdgeModel:Zs,BezierEdge:gf,BezierEdgeModel:kc,EllipseNode:Fl,EllipseNodeModel:Yc,HtmlNode:Vl,HtmlNodeModel:cl,h:ne.g,type:u};this.viewMap.forEach(function(D){var z=D.extendKey;z&&(h[z]=D)}),this.graphModel.modelMap.forEach(function(D){var z=D.extendKey;z&&(h[z]=D)});var v=i(h),_=v.view,E=v.model,T=_;s&&!T.isObervered&&(T.isObervered=!0,T=Xe(T)),this.setView(u,T),this.graphModel.setModel(u,E)}else this.registerElement(u)}},{key:"registerElement",value:function(u){var i=u.view;u.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=Xe(i)),this.setView(u.type,i),this.graphModel.setModel(u.type,u.model)}},{key:"batchRegister",value:function(){var u=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(s){u.registerElement(s)})}},{key:"defaultRegister",value:function(){this.registerElement({view:wl,model:nl,type:"rect"}),this.registerElement({type:"circle",view:jl,model:Lc}),this.registerElement({type:"polygon",view:kl,model:Jc}),this.registerElement({type:"line",view:sf,model:Vs}),this.registerElement({type:"polyline",view:df,model:Zs}),this.registerElement({type:"bezier",view:gf,model:kc}),this.registerElement({type:"text",view:Xl,model:al}),this.registerElement({type:"ellipse",view:Fl,model:Yc}),this.registerElement({type:"diamond",view:Il,model:Hc}),this.registerElement({type:"html",view:Vl,model:cl})}},{key:"selectElementById",value:function(u){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(u,i),!i&&s&&this.graphModel.toFront(u)}},{key:"focusOn",value:function(u){var i=this.graphModel.transformModel,s=u.coordinate,h=u.id;if(!s){var v=this.getNodeModelById(h);v&&(s=v.getData());var _=this.getEdgeModelById(h);_&&(s=_.textPosition)}var E=s,T=E.x,D=E.y;i.focusOn(T,D,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(u){this.graphModel.setTheme(u)}},{key:"resize",value:function(u,i){this.graphModel.resize(u,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(u){this.graphModel.setDefaultEdgeType(u)}},{key:"updateText",value:function(u,i){this.graphModel.updateText(u,i)}},{key:"deleteElement",value:function(u){var i,s,h,v=this.getModelById(u);return!!v&&(s=(h=(Ft(i={},Zt.NODE,this.deleteNode),Ft(i,Zt.EDGE,this.deleteEdge),i)[v.BaseType])===null||h===void 0?void 0:h.call(this,u))!==null&&s!==void 0&&s}},{key:"getModelById",value:function(u){return this.graphModel.getElement(u)}},{key:"getDataById",value:function(u){var i;return(i=this.graphModel.getElement(u))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(u,i){this.graphModel.changeNodeType(u,i)}},{key:"changeEdgeType",value:function(u,i){this.graphModel.changeEdgeType(u,i)}},{key:"getNodeEdges",value:function(u){return this.graphModel.getNodeEdges(u)}},{key:"addNode",value:function(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot.NODE_ADD,s=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(u,i,s)}},{key:"deleteNode",value:function(u){var i=this.graphModel.getNodeModelById(u);if(!i)return!1;var s=i.getData(),h=this.options.guards,v=!h||!h.beforeDelete||h.beforeDelete(s);return v&&this.graphModel.deleteNode(u),v}},{key:"cloneNode",value:function(u){var i=this.graphModel.getNodeModelById(u).getData(),s=this.options.guards;if(!s||!s.beforeClone||s.beforeClone(i))return this.graphModel.cloneNode(u)}},{key:"changeNodeId",value:function(u,i){return this.graphModel.changeNodeId(u,i)}},{key:"getNodeModelById",value:function(u){return this.graphModel.getNodeModelById(u)}},{key:"getNodeDataById",value:function(u){var i;return(i=this.graphModel.getNodeModelById(u))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(u){return this.graphModel.addEdge(u)}},{key:"deleteEdge",value:function(u){var i=this.options.guards,s=this.graphModel.edgesMap[u];if(!s)return!1;var h=s.model.getData(),v=!i||!i.beforeDelete||i.beforeDelete(h);return v&&this.graphModel.deleteEdgeById(u),v}},{key:"deleteEdgeByNodeId",value:function(u){var i=u.sourceNodeId,s=u.targetNodeId;i&&s?this.graphModel.deleteEdgeBySourceAndTarget(i,s):i?this.graphModel.deleteEdgeBySource(i):s&&this.graphModel.deleteEdgeByTarget(s)}},{key:"changeEdgeId",value:function(u,i){return this.graphModel.changeEdgeId(u,i)}},{key:"getEdgeModelById",value:function(u){var i;return(i=this.graphModel.edgesMap[u])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(u){var i=this.graphModel.edges,s=u.sourceNodeId,h=u.targetNodeId;if(s&&h){var v=[];return i.forEach(function(T){T.sourceNodeId===s&&T.targetNodeId===h&&v.push(T)}),v}if(s){var _=[];return i.forEach(function(T){T.sourceNodeId===s&&_.push(T)}),_}if(h){var E=[];return i.forEach(function(T){T.targetNodeId===h&&E.push(T)}),E}return[]}},{key:"getEdgeDataById",value:function(u){var i;return(i=this.getEdgeModelById(u))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(u){return this.graphModel.getNodeIncomingEdge(u)}},{key:"getNodeOutgoingEdge",value:function(u){return this.graphModel.getNodeOutgoingEdge(u)}},{key:"getNodeIncomingNode",value:function(u){return this.graphModel.getNodeIncomingNode(u)}},{key:"getNodeOutgoingNode",value:function(u){return this.graphModel.getNodeOutgoingNode(u)}},{key:"editText",value:function(u){this.graphModel.editText(u)}},{key:"setProperties",value:function(u,i){var s;(s=this.graphModel.getElement(u))===null||s===void 0||s.setProperties(ln(i))}},{key:"deleteProperty",value:function(u,i){var s;(s=this.graphModel.getElement(u))===null||s===void 0||s.deleteProperty(i)}},{key:"getProperties",value:function(u){var i;return(i=this.graphModel.getElement(u))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(u){this.graphModel.toFront(u)}},{key:"setElementZIndex",value:function(u,i){return this.graphModel.setElementZIndex(u,i)}},{key:"addElements",value:function(u){for(var i=this,s=u.nodes,h=u.edges,v={},_={nodes:[],edges:[]},E=0;E<s.length;E++){var T=s[E],D=T.id,z=this.addNode(T);if(!z)return;D&&(v[D]=z.id),_.nodes.push(z)}return h.forEach(function(U){var q=U.sourceNodeId,ae=U.targetNodeId;v[q]&&(q=v[q]),v[ae]&&(ae=v[ae]);var oe=i.graphModel.addEdge(Xi(Xi({},U),{},{sourceNodeId:q,targetNodeId:ae}));_.edges.push(oe)}),_}},{key:"getAreaElement",value:function(u,i){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(u,i,s,h,v).map(function(_){return _.getData()})}},{key:"getSelectElements",value:function(){var u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(u)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var u=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return this.adapterOut.apply(this,[u].concat(s))}return u}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(u){this.graphModel.editConfigModel.updateEditConfig(u)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(u,i){return this.graphModel.getPointByClient({x:u,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var u=ln(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(u)}}},{key:"redo",value:function(){if(this.history.redoAble()){var u=ln(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(u)}}},{key:"zoom",value:function(u,i){return this.graphModel.transformModel.zoom(u,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(u){this.graphModel.transformModel.setZoomMiniSize(u)}},{key:"setZoomMaxSize",value:function(u){this.graphModel.transformModel.setZoomMaxSize(u)}},{key:"getTransform",value:function(){var u=this.graphModel.transformModel;return{SCALE_X:u.SCALE_X,SCALE_Y:u.SCALE_Y,TRANSLATE_X:u.TRANSLATE_X,TRANSLATE_Y:u.TRANSLATE_Y}}},{key:"translate",value:function(u,i){this.graphModel.transformModel.translate(u,i)}},{key:"resetTranslate",value:function(){var u=this.graphModel.transformModel,i=u.TRANSLATE_X,s=u.TRANSLATE_Y;this.translate(-i,-s)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(u,i){i===void 0&&(i=u),this.graphModel.fitView(u,i)}},{key:"openEdgeAnimation",value:function(u){this.graphModel.openEdgeAnimation(u)}},{key:"closeEdgeAnimation",value:function(u){this.graphModel.closeEdgeAnimation(u)}},{key:"on",value:function(u,i){this.graphModel.eventCenter.on(u,i)}},{key:"off",value:function(u,i){this.graphModel.eventCenter.off(u,i)}},{key:"once",value:function(u,i){this.graphModel.eventCenter.once(u,i)}},{key:"emit",value:function(u,i){this.graphModel.eventCenter.emit(u,i)}},{key:"initContainer",value:function(u){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",u.innerHTML="",u.appendChild(i),i}},{key:"installPlugins",value:function(){var u,i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=(u=this.plugins)!==null&&u!==void 0?u:e.extensions;h.forEach(function(v){var _=null,E=null;v[Af]?(_=v.extension,E=v.props):_=v;var T=_.pluginName||_.name;s.indexOf(T)===-1&&i.installPlugin(_,E)})}},{key:"installPlugin",value:function(u,i){if(Tf(u)==="object"){var s=u.install,h=u.render;return s&&s.call(u,this,e),h&&this.components.push(h.bind(u)),void(this.extension[u.pluginName]=u)}var v=u,_=new v({lf:this,LogicFlow:e,options:this.options.pluginsOptions,props:i});_.render&&this.components.push(_.render.bind(_)),this.extension[v.pluginName]=_}},{key:"updateAttributes",value:function(u,i){this.graphModel.updateAttributes(u,i)}},{key:"createFakerNode",value:function(u){var i=this.graphModel.modelMap.get(u.type);if(i){var s=new i(Xi(Xi({},u),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(s),s}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(u){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(u)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(u,i){this.viewMap.set(u,i)}},{key:"renderRawData",value:function(u){this.graphModel.graphDataToModel(ln(u)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ne.j)(Object(ne.g)(_1,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(ot.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(u=this.adapterIn(u)),this.renderRawData(u)}}],r=[{key:"use",value:function(u,i){var s,h,v=u.pluginName;v||(v=u.name);var _=(s=this.extensions.get(v))===null||s===void 0?void 0:s.extension;_&&_.destroy&&_.destroy(),this.extensions.set(v,(Ft(h={},Af,Af),Ft(h,"extension",u),Ft(h,"props",i),h))}}],n&&Yv(t.prototype,n),r&&Yv(t,r),e}();function nr(e){return Xe(e)}Ft(kf,"extensions",new Map),c.default=kf}])})})(If,If.exports);var Ee=If.exports,s2=function(){function d(){globalThis._ids=this,this._ids=new Set}return d.prototype.generateId=function(){var p="xxxxxxx".replace(/[x]/g,function(a){var c=Math.random()*16|0,o=a==="x"?c:c&3|8;return o.toString(16)});return p},d.prototype.next=function(){for(var p=this.generateId();this._ids.has(p);)p=this.generateId();return this._ids.add(p),p},d}(),c2=(globalThis==null?void 0:globalThis._ids)||new s2;function ui(){return c2.next()}var om=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),VM=function(d){om(p,d);function p(a,c){var o=this;return a.id||(a.id="Event_"+ui()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=d.call(this,a,c)||this,o}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedTargetRules=function(){var a=d.prototype.getConnectedTargetRules.call(this),c={message:"起始节点不能作为边的终点",validate:function(){return!1}};return a.push(c),a},p.extendKey="StartEventModel",p}(Ee.CircleNodeModel),$M=function(d){om(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.extendKey="StartEventNode",p}(Ee.CircleNode),im=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Yu=globalThis&&globalThis.__assign||function(){return Yu=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Yu.apply(this,arguments)},KM=function(d){im(p,d);function p(a,c){var o=this;return a.id||(a.id="Event_"+ui()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=d.call(this,a,c)||this,o}return p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedSourceRules=function(){var a=d.prototype.getConnectedSourceRules.call(this),c={message:"结束节点不能作为边的起点",validate:function(){return!1}};return a.push(c),a},p.extendKey="EndEventModel",p}(Ee.CircleNodeModel),qM=function(d){im(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},p.prototype.getShape=function(){var a=this.props.model,c=a.getNodeStyle(),o=a.x,f=a.y,l=a.r,y=d.prototype.getShape.call(this);return Ee.h("g",{},y,Ee.h("circle",Yu(Yu({},c),{cx:o,cy:f,r:l-5})))},p.extendKey="EndEventView",p}(Ee.CircleNode),am=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),$i=globalThis&&globalThis.__assign||function(){return $i=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},$i.apply(this,arguments)},ZM=function(d){am(p,d);function p(a,c){var o=this;return a.id||(a.id="Gateway_"+ui()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=d.call(this,a,c)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return p.extendKey="ExclusiveGatewayModel",p}(Ee.PolygonNodeModel),JM=function(d){am(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getShape=function(){var a=this.props.model,c=a.x,o=a.y,f=a.width,l=a.height,y=a.points,g=a.getNodeStyle();return Ee.h("g",{transform:"matrix(1 0 0 1 "+(c-f/2)+" "+(o-l/2)+")"},Ee.h("polygon",$i($i({},g),{x:c,y:o,points:y})),Ee.h("path",$i({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},p.extendKey="ExclusiveGatewayNode",p}(Ee.PolygonNode),um=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Vu=globalThis&&globalThis.__assign||function(){return Vu=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Vu.apply(this,arguments)},QM=function(d){um(p,d);function p(a,c){var o=this;return a.id||(a.id="Activity_"+ui()),o=d.call(this,a,c)||this,o}return p.extendKey="UserTaskModel",p}(Ee.RectNodeModel),eT=function(d){um(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getLabelShape=function(){var a=this.props.model,c=a.x,o=a.y,f=a.width,l=a.height,y=a.getNodeStyle();return Ee.h("svg",{x:c-f/2+5,y:o-l/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ee.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},p.prototype.getShape=function(){var a=this.props.model,c=a.x,o=a.y,f=a.width,l=a.height,y=a.radius,g=a.getNodeStyle();return Ee.h("g",{},[Ee.h("rect",Vu(Vu({},g),{x:c-f/2,y:o-l/2,rx:y,ry:y,width:f,height:l})),this.getLabelShape()])},p.extendKey="UserTaskNode",p}(Ee.RectNode),sm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Rf=globalThis&&globalThis.__assign||function(){return Rf=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Rf.apply(this,arguments)},tT=function(d){sm(p,d);function p(a,c){var o=this;return a.id||(a.id="Activity_"+ui()),o=d.call(this,a,c)||this,o}return p.extendKey="ServiceTaskModel",p}(Ee.RectNodeModel),nT=function(d){sm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getLabelShape=function(){var a=this.props.model,c=a.x,o=a.y,f=a.width,l=a.height,y=a.getNodeStyle();return Ee.h("svg",{x:c-f/2+5,y:o-l/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ee.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},p.prototype.getShape=function(){var a=this.props.model,c=a.x,o=a.y,f=a.width,l=a.height,y=a.radius,g=a.getNodeStyle();return Ee.h("g",{},[Ee.h("rect",Rf({x:c-f/2,y:o-l/2,rx:y,ry:y,width:f,height:l},g)),this.getLabelShape()])},p.extendKey="ServiceTaskNode",p}(Ee.RectNode),cm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),rT=function(d){cm(p,d);function p(a,c){var o=this;return a.id||(a.id="Flow_"+ui()),o=d.call(this,a,c)||this,o}return p.extendKey="SequenceFlowModel",p}(Ee.PolylineEdgeModel),oT=function(d){cm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.extendKey="SequenceFlowEdge",p}(Ee.PolylineEdge),ig={width:40,height:40},ag={width:40,height:40},ug={width:40,height:40},sg={width:100,height:80},cg={width:100,height:80},l2=function(){function d(){globalThis._ids=this,this._ids=new Set}return d.prototype.generateId=function(){var p="xxxxxxx".replace(/[x]/g,function(a){var c=Math.random()*16|0,o=a==="x"?c:c&3|8;return o.toString(16)});return p},d.prototype.next=function(){for(var p=this.generateId();this._ids.has(p);)p=this.generateId();return this._ids.add(p),p},d}(),f2=(globalThis==null?void 0:globalThis._ids)||new l2;function lg(){return f2.next()}function lm(d){return Object.prototype.toString.call(d)}function p2(d){return"  ".repeat(d)}function $u(d){var p=d;return lm(d)==="[object Object]"?(p={},Object.keys(d).forEach(function(a){var c=a;a.charAt(0)==="-"&&(c=a.substring(1)),p[c]=$u(d[a])})):Array.isArray(d)&&(p=[],d.forEach(function(a,c){p[c]=$u(a)})),p}function d2(d){var p=d;try{typeof p!="string"&&(p=JSON.parse(d))}catch{p=JSON.stringify($u(d)).replace(/"/g,"'")}return p}var qo=`	
`;function Hu(d,p,a){var c=p2(a),o="";if(p==="#text")return qo+c+d;if(p==="#cdata-section")return qo+c+"<![CDATA["+d+"]]>";if(p==="#comment")return qo+c+"<!--"+d+"-->";if((""+p).charAt(0)==="-")return" "+p.substring(1)+'="'+d2(d)+'"';if(Array.isArray(d))d.forEach(function(g){o+=Hu(g,p,a+1)});else if(lm(d)==="[object Object]"){var f=Object.keys(d),l="",y="";o+=(a===0?"":qo+c)+"<"+p,f.forEach(function(g){g.charAt(0)==="-"?l+=Hu(d[g],g,a+1):y+=Hu(d[g],g,a+1)}),o+=l+(y!==""?">"+y+(qo+c)+"</"+p+">":" />")}else o+=qo+c+("<"+p+">"+d.toString()+"</"+p+">");return o}function h2(d){var p="";for(var a in d)p+=Hu(d[a],a,0);return p}var xn=function(){};xn.ObjTree=function(){return this};xn.ObjTree.VERSION="0.23";xn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;xn.ObjTree.prototype.attr_prefix="-";xn.ObjTree.prototype.parseXML=function(d){var p;if(window.DOMParser){var a=new DOMParser,c=a.parseFromString(d,"application/xml");if(!c)return;p=c.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(d),p=a.documentElement);if(p)return this.parseDOM(p)};xn.ObjTree.prototype.parseHTTP=function(d,p,a){var c={};for(var o in p)c[o]=p[o];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),a){c.asynchronous=!0;var f=this,l=a,y=c.onComplete;c.onComplete=function(x){var w;x&&x.responseXML&&x.responseXML.documentElement&&(w=f.parseDOM(x.responseXML.documentElement)),l(w,x),y&&y(x)}}else c.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){c.uri=d;var O=new HTTP.Request(c);O&&(g=O.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var O=new Ajax.Request(d,c);O&&(g=O.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};xn.ObjTree.prototype.parseDOM=function(d){if(d){if(this.__force_array={},this.force_array)for(var p=0;p<this.force_array.length;p++)this.__force_array[this.force_array[p]]=1;var a=this.parseElement(d);if(this.__force_array[d.nodeName]&&(a=[a]),d.nodeType!=11){var c={};c[d.nodeName]=a,a=c}return a}};xn.ObjTree.prototype.parseElement=function(d){if(d.nodeType!=7){if(d.nodeType==3||d.nodeType==4||d.nodeType==8){var p=d.nodeValue.match(/[^\x00-\x20]/);return p==null?void 0:d.nodeValue}var a=null,c={};if(d.attributes&&d.attributes.length){a={};for(var o=0;o<d.attributes.length;o++){var f=d.attributes[o].nodeName;if(typeof f=="string"){var l=d.attributes[o].nodeValue;try{l=JSON.parse(d.attributes[o].nodeValue.replace(/'/g,'"'))}catch{l=d.attributes[o].nodeValue}l&&(f=this.attr_prefix+f,typeof c[f]>"u"&&(c[f]=0),c[f]++,this.addNode(a,f,c[f],l))}}}if(d.childNodes&&d.childNodes.length){var y=!0;a&&(y=!1);for(var o=0;o<d.childNodes.length&&y;o++){var g=d.childNodes[o].nodeType;g==3||g==4||g==8||(y=!1)}if(y){a||(a="");for(var o=0;o<d.childNodes.length;o++)a+=d.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<d.childNodes.length;o++){var f=d.childNodes[o].nodeName;if(typeof f=="string"){var l=this.parseElement(d.childNodes[o]);l&&(typeof c[f]>"u"&&(c[f]=0),c[f]++,this.addNode(a,f,c[f],l))}}}}else a===null&&(a={});return a}};xn.ObjTree.prototype.addNode=function(d,p,a,c){this.__force_array[p]?(a==1&&(d[p]=[]),d[p][d[p].length]=c):a==1?d[p]=c:a==2?d[p]=[d[p],c]:d[p][d[p].length]=c};xn.ObjTree.prototype.writeXML=function(d){var p=this.hash_to_xml(null,d);return this.xmlDecl+p};xn.ObjTree.prototype.hash_to_xml=function(d,p){var a=[],c=[];for(var o in p)if(p.hasOwnProperty(o)){var f=p[o];o.charAt(0)!=this.attr_prefix?typeof f>"u"||f==null?a[a.length]="<"+o+" />":typeof f=="object"&&f.constructor==Array?a[a.length]=this.array_to_xml(o,f):typeof f=="object"?a[a.length]=this.hash_to_xml(o,f):a[a.length]=this.scalar_to_xml(o,f):c[c.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var l=c.join(""),y=a.join("");return typeof d>"u"||d==null||(a.length>0?y.match(/\n/)?y="<"+d+l+`>
`+y+"</"+d+`>
`:y="<"+d+l+">"+y+"</"+d+`>
`:y="<"+d+l+` />
`),y};xn.ObjTree.prototype.array_to_xml=function(d,p){for(var a=[],c=0;c<p.length;c++){var o=p[c];typeof o>"u"||o==null?a[a.length]="<"+d+" />":typeof o=="object"&&o.constructor==Array?a[a.length]=this.array_to_xml(d,o):typeof o=="object"?a[a.length]=this.hash_to_xml(d,o):a[a.length]=this.scalar_to_xml(d,o)}return a.join("")};xn.ObjTree.prototype.scalar_to_xml=function(d,p){return d=="#text"?this.xml_escape(p):"<"+d+">"+this.xml_escape(p)+"</"+d+`>
`};xn.ObjTree.prototype.xml_escape=function(d){return d.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var y2=function(d){return new xn.ObjTree().parseXML(d)},v2=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Lf=globalThis&&globalThis.__assign||function(){return Lf=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Lf.apply(this,arguments)},is=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},_r;(function(d){d.START="bpmn:startEvent",d.END="bpmn:endEvent",d.GATEWAY="bpmn:exclusiveGateway",d.USER="bpmn:userTask",d.SYSTEM="bpmn:serviceTask",d.FLOW="bpmn:sequenceFlow"})(_r||(_r={}));var fm=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],fg=["properties","startPoint","endPoint","pointsList"];function pg(d){var p=d?fg.concat(d):fg;return function(a){function c(o){var f={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(l){return c(l)}):(Object.entries(o).forEach(function(l){var y=is(l,2),g=y[0],O=y[1];typeof O!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?f[g]=O:f["-"+g]=O:p.includes(g)?f["-"+g]=c(O):f[g]=c(O)}),f)}return c(a)}}function Ku(d){var p={};return Object.entries(d).forEach(function(a){var c=is(a,2),o=c[0],f=c[1];o.indexOf("-")===0?p[o.substring(1)]=$u(f):typeof f=="string"?p[o]=f:Object.prototype.toString.call(f)==="[object Object]"?p[o]=Ku(f):Array.isArray(f)?p[o]=f.map(function(l){return Ku(l)}):p[o]=f}),p}function g2(d,p,a){var c=new Map;p.nodes.forEach(function(f){var l,y={"-id":f.id};if(!((l=f.text)===null||l===void 0)&&l.value&&(y["-name"]=f.text.value),f.properties){var g=pg(a)(f.properties);Object.assign(y,g)}c.set(f.id,y),d[f.type]?Array.isArray(d[f.type])?d[f.type].push(y):d[f.type]=[d[f.type],y]:d[f.type]=y});var o=p.edges.map(function(f){var l,y,g=c.get(f.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(f.id):g["bpmn:incoming"]=[g["bpmn:incoming"],f.id]:g["bpmn:incoming"]=f.id;var O={"-id":f.id,"-sourceRef":f.sourceNodeId,"-targetRef":f.targetNodeId};if(!((l=f.text)===null||l===void 0)&&l.value&&(O["-name"]=(y=f.text)===null||y===void 0?void 0:y.value),f.properties){var x=pg(a)(f.properties);Object.assign(O,x)}return O});p.edges.forEach(function(f){var l=c.get(f.sourceNodeId);l["bpmn:outgoing"]?Array.isArray(l["bpmn:outgoing"])?l["bpmn:outgoing"].push(f.id):l["bpmn:outgoing"]=[l["bpmn:outgoing"],f.id]:l["bpmn:outgoing"]=f.id}),d[_r.FLOW]=o}function m2(d,p){d["bpmndi:BPMNEdge"]=p.edges.map(function(a){var c,o=a.id,f=a.pointsList.map(function(y){var g=y.x,O=y.y;return{"-x":g,"-y":O}}),l={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((c=a.text)===null||c===void 0)&&c.value&&(l["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),l}),d["bpmndi:BPMNShape"]=p.nodes.map(function(a){var c,o=a.id,f=100,l=80,y=a.x,g=a.y,O=oo.shapeConfigMap.get(a.type);O&&(f=O.width,l=O.height),y-=f/2,g-=l/2;var x={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":y,"-y":g,"-width":f,"-height":l}};return!((c=a.text)===null||c===void 0)&&c.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),x})}function b2(d){var p=[],a=[],c=d["bpmn:definitions"];if(c){var o=c["bpmn:process"];Object.keys(o).forEach(function(f){if(f.indexOf("bpmn:")===0){var l=o[f];if(f===_r.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];a=O2(l,y)}else{var g=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];p=p.concat(_2(l,g,f))}}})}return{nodes:p,edges:a}}function _2(d,p,a){var c=[];if(Array.isArray(d))d.forEach(function(l){var y;Array.isArray(p)?y=p.find(function(O){return O["-bpmnElement"]===l["-id"]}):y=p;var g=dg(y,a,l);c.push(g)});else{var o=void 0;Array.isArray(p)?o=p.find(function(l){return l["-bpmnElement"]===d["-id"]}):o=p;var f=dg(o,a,d);c.push(f)}return c}function dg(d,p,a){var c=Number(d["dc:Bounds"]["-x"]),o=Number(d["dc:Bounds"]["-y"]),f=a["-name"],l=oo.shapeConfigMap.get(p);l&&(c+=l.width/2,o+=l.height/2);var y;Object.entries(a).forEach(function(w){var j=is(w,2),P=j[0],A=j[1];fm.indexOf(P)===-1&&(y||(y={}),y[P]=A)}),y&&(y=Ku(y));var g;if(f&&(g={x:c,y:o,value:f},d["bpmndi:BPMNLabel"]&&d["bpmndi:BPMNLabel"]["dc:Bounds"])){var O=d["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(O["-x"])+Number(O["-width"])/2,g.y=Number(O["-y"])+Number(O["-height"])/2}var x={id:d["-bpmnElement"],type:p,x:c,y:o,properties:y};return g&&(x.text=g),x}function O2(d,p){var a=[];if(Array.isArray(d))d.forEach(function(o){var f;Array.isArray(p)?f=p.find(function(l){return l["-bpmnElement"]===o["-id"]}):f=p,a.push(hg(f,o))});else{var c=void 0;Array.isArray(p)?c=p.find(function(o){return o["-bpmnElement"]===d["-id"]}):c=p,a.push(hg(c,d))}return a}function hg(d,p){var a,c=p["-name"];if(c){var o=d["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;c.split(`
`).forEach(function(g){f<g.length&&(f=g.length)}),a={value:c,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var l;Object.entries(p).forEach(function(g){var O=is(g,2),x=O[0],w=O[1];fm.indexOf(x)===-1&&(l||(l={}),l[x]=w)}),l&&(l=Ku(l));var y={id:p["-id"],type:_r.FLOW,pointsList:d["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:p["-sourceRef"],targetNodeId:p["-targetRef"],properties:l};return a&&(y.text=a),y}var oo=function(){function d(p){var a=this,c=p.lf;this.adapterOut=function(o,f){var l=Lf({},a.processAttributes);g2(l,o,f);var y={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};m2(y,o);var g=a.definitionAttributes;g["bpmn:process"]=l,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":y};var O={"bpmn:definitions":g};return O},this.adapterIn=function(o){if(o)return b2(o)},c.adapterIn=function(o){return a.adapterIn(o)},c.adapterOut=function(o,f){return a.adapterOut(o,f)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+lg()},this.definitionAttributes={"-id":"Definitions_"+lg(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return d.prototype.setCustomShape=function(p,a){d.shapeConfigMap.set(p,a)},d.pluginName="bpmn-adapter",d.shapeConfigMap=new Map,d}();oo.shapeConfigMap.set(_r.START,{width:ig.width,height:ig.height});oo.shapeConfigMap.set(_r.END,{width:ag.width,height:ag.height});oo.shapeConfigMap.set(_r.GATEWAY,{width:ug.width,height:ug.height});oo.shapeConfigMap.set(_r.SYSTEM,{width:sg.width,height:sg.height});oo.shapeConfigMap.set(_r.USER,{width:cg.width,height:cg.height});(function(d){v2(p,d);function p(a){var c=d.call(this,a)||this;c.adapterXmlIn=function(f){var l=y2(f);return c.adapterIn(l)},c.adapterXmlOut=function(f,l){var y=c.adapterOut(f,l);return h2(y)};var o=a.lf;return o.adapterIn=c.adapterXmlIn,o.adapterOut=c.adapterXmlOut,c}return p.pluginName="bpmnXmlAdapter",p})(oo);function Zf(){var d={message:"分组外的节点不允许连接分组内的",validate:function(p,a,c,o){var f=!!p.properties.parent,l=!!a.properties.parent;return!(!f&&l)}};this.targetRules.push(d)}var w2=function(){function d(){globalThis._ids=this,this._ids=new Set}return d.prototype.generateId=function(){var p="xxxxxxx".replace(/[x]/g,function(a){var c=Math.random()*16|0,o=a==="x"?c:c&3|8;return o.toString(16)});return p},d.prototype.next=function(){for(var p=this.generateId();this._ids.has(p);)p=this.generateId();return this._ids.add(p),p},d}(),x2=(globalThis==null?void 0:globalThis._ids)||new w2;function rr(){return x2.next()}var yg=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Zo=globalThis&&globalThis.__assign||function(){return Zo=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Zo.apply(this,arguments)},pm=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},E2=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(pm(arguments[p]));return d};function iT(d){var p=pm(d.useDefinition(),1),a=p[0],c=function(f){yg(l,f);function l(){return f!==null&&f.apply(this,arguments)||this}return l.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},l.prototype.getShape=function(){var y,g=this.props.model,O=g.getNodeStyle(),x=g.x,w=g.y,j=g.r,P=g.width,A=g.height,M=g.properties,k=f.prototype.getShape.call(this),R=M.definitionType,L=(((y=a.endEvent)===null||y===void 0?void 0:y.get(R))||{}).icon,Y=Array.isArray(L)?Ee.h.apply(void 0,E2(["g",{transform:"matrix(1 0 0 1 "+(x-P/2)+" "+(w-A/2)+")"}],L)):Ee.h("path",{transform:"matrix(1 0 0 1 "+(x-P/2)+" "+(w-A/2)+")",d:L,style:"fill: black; stroke-linecap: round; stroke-linejoin: round; stroke: white; stroke-width: 1px;"});return Ee.h("g",{},k,Ee.h("circle",Zo(Zo({},O),{strokeWidth:2,cx:x,cy:w,r:j-2})),Y)},l}(Ee.CircleNode),o=function(f){yg(l,f);function l(y,g){var O,x,w,j=this;y.id||(y.id="Event_"+rr()),y.text||(y.text=""),y.text&&typeof y.text=="string"&&(y.text={value:y.text,x:y.x,y:y.y+40});var P=(((O=a.endEvent)===null||O===void 0?void 0:O.get((x=y.properties)===null||x===void 0?void 0:x.definitionType))||{}).properties,A=P===void 0?{}:P;return y.properties=Zo(Zo({},A),y.properties),!((w=y.properties)===null||w===void 0)&&w.definitionType&&(y.properties.definitionId="Definition_"+rr()),j=f.call(this,y,g)||this,Zf.call(j),j}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedSourceRules=function(){var y=this,g=f.prototype.getConnectedSourceRules.call(this),O={message:"结束节点不能作为边的起点",validate:function(x,w){return x!==y}};return g.push(O),g},l}(Ee.CircleNodeModel);return{type:"bpmn:endEvent",view:c,model:o}}globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();var vg=globalThis&&globalThis.__assign||function(){return vg=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},vg.apply(this,arguments)},S2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;var gg=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Jo=globalThis&&globalThis.__assign||function(){return Jo=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Jo.apply(this,arguments)},dm=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},j2=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(dm(arguments[p]));return d};function aT(d){var p=dm(d.useDefinition(),1),a=p[0],c=function(f){gg(l,f);function l(){return f!==null&&f.apply(this,arguments)||this}return l.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},l.prototype.getShape=function(){var y,g=this.props.model,O=g.getNodeStyle(),x=g.x,w=g.y,j=g.r,P=g.width,A=g.height,M=g.properties,k=M.definitionType,R=M.isInterrupting,L=(((y=a.startEvent)===null||y===void 0?void 0:y.get(k))||{}).icon,Y=Array.isArray(L)?Ee.h.apply(void 0,j2(["g",{transform:"matrix(1 0 0 1 "+(x-P/2)+" "+(w-A/2)+")"}],L)):Ee.h("path",{transform:"matrix(1 0 0 1 "+(x-P/2)+" "+(w-A/2)+")",d:L,style:"fill: white; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});return Ee.h("g",{},Ee.h("circle",Jo(Jo({},O),{cx:x,cy:w,r:j,strokeDasharray:R?"5,5":"",strokeWidth:2})),Y)},l}(Ee.CircleNode),o=function(f){gg(l,f);function l(y,g){var O,x,w,j=this;y.id||(y.id="Event_"+rr()),y.text||(y.text=""),y.text&&typeof y.text=="string"&&(y.text={value:y.text,x:y.x,y:y.y+40});var P=(((O=a.startEvent)===null||O===void 0?void 0:O.get((x=y.properties)===null||x===void 0?void 0:x.definitionType))||{}).properties,A=P===void 0?{}:P;return y.properties=Jo(Jo({},A),y.properties),!((w=y.properties)===null||w===void 0)&&w.definitionType&&(y.properties.definitionId="Definition_"+rr()),j=f.call(this,y,g)||this,j}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedTargetRules=function(){var y=this,g=f.prototype.getConnectedTargetRules.call(this),O={message:"起始节点不能作为边的终点",validate:function(x,w){return w!==y}};return g.push(O),g},l}(Ee.CircleNodeModel);return{type:"bpmn:startEvent",view:c,model:o}}globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();var mg=globalThis&&globalThis.__assign||function(){return mg=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},mg.apply(this,arguments)},P2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();var bg=globalThis&&globalThis.__assign||function(){return bg=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},bg.apply(this,arguments)},M2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;Ee.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Ee.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ee.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Ee.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});var uT="m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z",sT="m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z";Ee.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var cT="M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z",lT="M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z",fT="M0.5,3.751L4.583,0.5009999999999999C4.583,0.5009999999999999,15.749,0.5839999999999999,16.666,0.5839999999999999S14.249,3.5009999999999994,15.166,3.5009999999999994S26.833,3.5009999999999994,27.75,3.5009999999999994C28.916,5.209,27.582,6.667999999999999,26.916,7.167999999999999S27.791,9.084999999999999,25.916,11.584999999999999C25.166,11.834999999999999,26.666,13.459999999999999,24.583000000000002,14.918C23.416,15.501,25.166,16.46,23.333000000000002,17.750999999999998C22.166,17.750999999999998,2.5000000000000036,17.833999999999996,2.5000000000000036,17.833999999999996L0.5000000000000036,16.500999999999998V3.751ZM13.5,7L27,7M13.5,11L26,11M14,14.5L25,14.5M8.2,3.1L15,3.1",T2="m44,60 m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",A2="m47,61 m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",k2="m 50,73 c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",_g=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),no=globalThis&&globalThis.__assign||function(){return no=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},no.apply(this,arguments)};function pT(d,p,a){var c=function(f){_g(l,f);function l(){return f!==null&&f.apply(this,arguments)||this}return l.prototype.getShape=function(){var y=this.props.model,g=y.x,O=y.y,x=y.width,w=y.height,j=y.points,P=y.getNodeStyle();return Ee.h("g",{transform:"matrix(1 0 0 1 "+(g-x/2)+" "+(O-w/2)+")"},Ee.h("polygon",no(no({},P),{x:g,y:O,points:j})),typeof p=="string"?Ee.h("path",no(no({d:p},P),{fill:"rgb(34, 36, 42)",strokeWidth:1})):p)},l}(Ee.PolygonNode),o=function(f){_g(l,f);function l(y,g){var O=this;return y.id||(y.id="Gateway_"+rr()),y.text||(y.text=""),y.text&&typeof y.text=="string"&&(y.text={value:y.text,x:y.x,y:y.y+40}),y.properties=no(no({},a||{}),y.properties),O=f.call(this,y,g)||this,O.points=[[25,0],[50,25],[25,50],[0,25]],Zf.call(O),O}return l}(Ee.PolygonNodeModel);return{type:d,view:c,model:o}}var Og=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Qo=globalThis&&globalThis.__assign||function(){return Qo=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Qo.apply(this,arguments)},D2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},N2=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(D2(arguments[p]));return d},C2={parallel:T2,sequential:A2,loop:k2};function dT(d,p,a){var c=function(f){Og(l,f);function l(){return f!==null&&f.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var y=this.props.model,g=y.x,O=y.y,x=y.width,w=y.height,j=y.getNodeStyle(),P=Array.isArray(p)?Ee.h.apply(void 0,N2(["g",{transform:"matrix(1 0 0 1 "+(g-x/2)+" "+(O-w/2)+")"}],p)):Ee.h("path",{fill:j.stroke,d:p});return Ee.h("svg",{x:g-x/2+5,y:O-w/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},P)},l.prototype.getShape=function(){var y=this.props.model,g=y.x,O=y.y,x=y.width,w=y.height,j=y.radius,P=y.properties,A=y.getNodeStyle();return Ee.h("g",{},[Ee.h("rect",Qo(Qo({},A),{x:g-x/2,y:O-w/2,rx:j,ry:j,width:x,height:w,opacity:.95})),this.getLabelShape(),Ee.h("g",{transform:"matrix(1 0 0 1 "+(g-x/2)+" "+(O-w/2)+")"},Ee.h("path",{fill:"white",strokeLinecap:"round",strokeLinejoin:"round",stroke:"rgb(34, 36, 42)",strokeWidth:"2",d:C2[P.multiInstanceType]||""}))])},l}(Ee.RectNode),o=function(f){Og(l,f);function l(y,g){var O,x=this;y.id||(y.id="Activity_"+rr());var w=Qo(Qo({},a||{}),y.properties);return y.properties=w,x=f.call(this,y,g)||this,(O=w==null?void 0:w.boundaryEvents)===null||O===void 0||O.forEach(function(j){x.addBoundaryEvent(j)}),x.deleteProperty("boundaryEvents"),Zf.call(x),x}return l.prototype.initNodeData=function(y){f.prototype.initNodeData.call(this,y),this.isTaskNode=!0,this.boundaryEvents=[]},l.prototype.getNodeStyle=function(){var y=f.prototype.getNodeStyle.call(this),g=this.properties.isBoundaryEventTouchingTask;return g&&(y.stroke="#00acff",y.strokeWidth=2),y},l.prototype.getOutlineStyle=function(){var y=f.prototype.getOutlineStyle.call(this);return y.stroke="transparent",!y.hover&&(y.hover={}),y.hover.stroke="transparent",y},l.prototype.setTouching=function(y){this.setProperty("isBoundaryEventTouchingTask",y)},l.prototype.addBoundaryEvent=function(y){if(this.setTouching(!1),this.boundaryEvents.find(function(O){return O===y}))return!1;var g=this.graphModel.getNodeModelById(y);return g==null||g.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(y),!0},l.prototype.deleteBoundaryEvent=function(y){this.boundaryEvents=this.boundaryEvents.filter(function(g){return g!==y})},l}(Ee.RectNodeModel);return{type:d,view:c,model:o}}var Jf,en,hm,_o,wg,ym,zf,Xu={},vm=[],I2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Qf=Array.isArray;function ro(d,p){for(var a in p)d[a]=p[a];return d}function gm(d){var p=d.parentNode;p&&p.removeChild(d)}function Ki(d,p,a){var c,o,f,l={};for(f in p)f=="key"?c=p[f]:f=="ref"?o=p[f]:l[f]=p[f];if(arguments.length>2&&(l.children=arguments.length>3?Jf.call(arguments,2):a),typeof d=="function"&&d.defaultProps!=null)for(f in d.defaultProps)l[f]===void 0&&(l[f]=d.defaultProps[f]);return Wu(d,l,c,o,null)}function Wu(d,p,a,c,o){var f={type:d,props:p,key:a,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++hm};return o==null&&en.vnode!=null&&en.vnode(f),f}function ep(d){return d.children}function ni(d,p){this.props=d,this.context=p}function qu(d,p){if(p==null)return d.__?qu(d.__,d.__.__k.indexOf(d)+1):null;for(var a;p<d.__k.length;p++)if((a=d.__k[p])!=null&&a.__e!=null)return a.__e;return typeof d.type=="function"?qu(d):null}function mm(d){var p,a;if((d=d.__)!=null&&d.__c!=null){for(d.__e=d.__c.base=null,p=0;p<d.__k.length;p++)if((a=d.__k[p])!=null&&a.__e!=null){d.__e=d.__c.base=a.__e;break}return mm(d)}}function xg(d){(!d.__d&&(d.__d=!0)&&_o.push(d)&&!Zu.__r++||wg!==en.debounceRendering)&&((wg=en.debounceRendering)||ym)(Zu)}function Zu(){var d,p,a,c,o,f,l,y,g;for(_o.sort(zf);d=_o.shift();)d.__d&&(p=_o.length,c=void 0,o=void 0,f=void 0,y=(l=(a=d).__v).__e,(g=a.__P)&&(c=[],o=[],(f=ro({},l)).__v=l.__v+1,wm(g,l,f,a.__n,g.ownerSVGElement!==void 0,l.__h!=null?[y]:null,c,y??qu(l),l.__h,o),z2(c,l,o),l.__e!=y&&mm(l)),_o.length>p&&_o.sort(zf));Zu.__r=0}function bm(d,p,a,c,o,f,l,y,g,O,x){var w,j,P,A,M,k,R,L,Y,Q,K=0,V=c&&c.__k||vm,Z=V.length,F=Z,I=p.length;for(a.__k=[],w=0;w<I;w++)(A=a.__k[w]=(A=p[w])==null||typeof A=="boolean"||typeof A=="function"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?Wu(null,A,null,null,A):Qf(A)?Wu(ep,{children:A},null,null,null):A.__b>0?Wu(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)!=null&&(A.__=a,A.__b=a.__b+1,(L=R2(A,V,R=w+K,F))===-1?P=Xu:(P=V[L]||Xu,V[L]=void 0,F--),wm(d,A,P,o,f,l,y,g,O,x),M=A.__e,(j=A.ref)&&P.ref!=j&&(P.ref&&tp(P.ref,null,A),x.push(j,A.__c||M,A)),M!=null&&(k==null&&(k=M),Q=!(Y=P===Xu||P.__v===null)&&L===R,Y?L==-1&&K--:L!==R&&(L===R+1?(K++,Q=!0):L>R?F>I-R?(K+=L-R,Q=!0):K--:K=L<R&&L==R-1?L-R:0),R=w+K,Q=Q||L==w&&!Y,typeof A.type!="function"||L===R&&P.__k!==A.__k?typeof A.type=="function"||Q?A.__d!==void 0?(g=A.__d,A.__d=void 0):g=M.nextSibling:g=Om(d,M,g):g=_m(A,g,d),typeof a.type=="function"&&(a.__d=g)));for(a.__e=k,w=Z;w--;)V[w]!=null&&(typeof a.type=="function"&&V[w].__e!=null&&V[w].__e==a.__d&&(a.__d=V[w].__e.nextSibling),xm(V[w],V[w]))}function _m(d,p,a){for(var c,o=d.__k,f=0;o&&f<o.length;f++)(c=o[f])&&(c.__=d,p=typeof c.type=="function"?_m(c,p,a):Om(a,c.__e,p));return p}function Om(d,p,a){return a==null||a.parentNode!==d?d.insertBefore(p,null):p==a&&p.parentNode!=null||d.insertBefore(p,a),p.nextSibling}function R2(d,p,a,c){var o=d.key,f=d.type,l=a-1,y=a+1,g=p[a];if(g===null||g&&o==g.key&&f===g.type)return a;if(c>(g!=null?1:0))for(;l>=0||y<p.length;){if(l>=0){if((g=p[l])&&o==g.key&&f===g.type)return l;l--}if(y<p.length){if((g=p[y])&&o==g.key&&f===g.type)return y;y++}}return-1}function L2(d,p,a,c,o){var f;for(f in a)f==="children"||f==="key"||f in p||Ju(d,f,null,a[f],c);for(f in p)o&&typeof p[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||a[f]===p[f]||Ju(d,f,p[f],a[f],c)}function Eg(d,p,a){p[0]==="-"?d.setProperty(p,a??""):d[p]=a==null?"":typeof a!="number"||I2.test(p)?a:a+"px"}function Ju(d,p,a,c,o){var f;e:if(p==="style")if(typeof a=="string")d.style.cssText=a;else{if(typeof c=="string"&&(d.style.cssText=c=""),c)for(p in c)a&&p in a||Eg(d.style,p,"");if(a)for(p in a)c&&a[p]===c[p]||Eg(d.style,p,a[p])}else if(p[0]==="o"&&p[1]==="n")f=p!==(p=p.replace(/Capture$/,"")),p=p.toLowerCase()in d?p.toLowerCase().slice(2):p.slice(2),d.l||(d.l={}),d.l[p+f]=a,a?c||d.addEventListener(p,f?jg:Sg,f):d.removeEventListener(p,f?jg:Sg,f);else if(p!=="dangerouslySetInnerHTML"){if(o)p=p.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(p!=="width"&&p!=="height"&&p!=="href"&&p!=="list"&&p!=="form"&&p!=="tabIndex"&&p!=="download"&&p!=="rowSpan"&&p!=="colSpan"&&p in d)try{d[p]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&p[4]!=="-"?d.removeAttribute(p):d.setAttribute(p,a))}}function Sg(d){return this.l[d.type+!1](en.event?en.event(d):d)}function jg(d){return this.l[d.type+!0](en.event?en.event(d):d)}function wm(d,p,a,c,o,f,l,y,g,O){var x,w,j,P,A,M,k,R,L,Y,Q,K,V,Z,F,I=p.type;if(p.constructor!==void 0)return null;a.__h!=null&&(g=a.__h,y=p.__e=a.__e,p.__h=null,f=[y]),(x=en.__b)&&x(p);try{e:if(typeof I=="function"){if(R=p.props,L=(x=I.contextType)&&c[x.__c],Y=x?L?L.props.value:x.__:c,a.__c?k=(w=p.__c=a.__c).__=w.__E:("prototype"in I&&I.prototype.render?p.__c=w=new I(R,Y):(p.__c=w=new ni(R,Y),w.constructor=I,w.render=F2),L&&L.sub(w),w.props=R,w.state||(w.state={}),w.context=Y,w.__n=c,j=w.__d=!0,w.__h=[],w._sb=[]),w.__s==null&&(w.__s=w.state),I.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=ro({},w.__s)),ro(w.__s,I.getDerivedStateFromProps(R,w.__s))),P=w.props,A=w.state,w.__v=p,j)I.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(I.getDerivedStateFromProps==null&&R!==P&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(R,Y),!w.__e&&(w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(R,w.__s,Y)===!1||p.__v===a.__v)){for(p.__v!==a.__v&&(w.props=R,w.state=w.__s,w.__d=!1),p.__e=a.__e,p.__k=a.__k,p.__k.forEach(function(B){B&&(B.__=p)}),Q=0;Q<w._sb.length;Q++)w.__h.push(w._sb[Q]);w._sb=[],w.__h.length&&l.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(R,w.__s,Y),w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(P,A,M)})}if(w.context=Y,w.props=R,w.__P=d,w.__e=!1,K=en.__r,V=0,"prototype"in I&&I.prototype.render){for(w.state=w.__s,w.__d=!1,K&&K(p),x=w.render(w.props,w.state,w.context),Z=0;Z<w._sb.length;Z++)w.__h.push(w._sb[Z]);w._sb=[]}else do w.__d=!1,K&&K(p),x=w.render(w.props,w.state,w.context),w.state=w.__s;while(w.__d&&++V<25);w.state=w.__s,w.getChildContext!=null&&(c=ro(ro({},c),w.getChildContext())),j||w.getSnapshotBeforeUpdate==null||(M=w.getSnapshotBeforeUpdate(P,A)),bm(d,Qf(F=x!=null&&x.type===ep&&x.key==null?x.props.children:x)?F:[F],p,a,c,o,f,l,y,g,O),w.base=p.__e,p.__h=null,w.__h.length&&l.push(w),k&&(w.__E=w.__=null)}else f==null&&p.__v===a.__v?(p.__k=a.__k,p.__e=a.__e):p.__e=B2(a.__e,p,a,c,o,f,l,g,O);(x=en.diffed)&&x(p)}catch(B){p.__v=null,(g||f!=null)&&(p.__e=y,p.__h=!!g,f[f.indexOf(y)]=null),en.__e(B,p,a)}}function z2(d,p,a){for(var c=0;c<a.length;c++)tp(a[c],a[++c],a[++c]);en.__c&&en.__c(p,d),d.some(function(o){try{d=o.__h,o.__h=[],d.some(function(f){f.call(o)})}catch(f){en.__e(f,o.__v)}})}function B2(d,p,a,c,o,f,l,y,g){var O,x,w,j=a.props,P=p.props,A=p.type,M=0;if(A==="svg"&&(o=!0),f!=null){for(;M<f.length;M++)if((O=f[M])&&"setAttribute"in O==!!A&&(A?O.localName===A:O.nodeType===3)){d=O,f[M]=null;break}}if(d==null){if(A===null)return document.createTextNode(P);d=o?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,P.is&&P),f=null,y=!1}if(A===null)j===P||y&&d.data===P||(d.data=P);else{if(f=f&&Jf.call(d.childNodes),x=(j=a.props||Xu).dangerouslySetInnerHTML,w=P.dangerouslySetInnerHTML,!y){if(f!=null)for(j={},M=0;M<d.attributes.length;M++)j[d.attributes[M].name]=d.attributes[M].value;(w||x)&&(w&&(x&&w.__html==x.__html||w.__html===d.innerHTML)||(d.innerHTML=w&&w.__html||""))}if(L2(d,P,j,o,y),w)p.__k=[];else if(bm(d,Qf(M=p.props.children)?M:[M],p,a,c,o&&A!=="foreignObject",f,l,f?f[0]:a.__k&&qu(a,0),y,g),f!=null)for(M=f.length;M--;)f[M]!=null&&gm(f[M]);y||("value"in P&&(M=P.value)!==void 0&&(M!==d.value||A==="progress"&&!M||A==="option"&&M!==j.value)&&Ju(d,"value",M,j.value,!1),"checked"in P&&(M=P.checked)!==void 0&&M!==d.checked&&Ju(d,"checked",M,j.checked,!1))}return d}function tp(d,p,a){try{typeof d=="function"?d(p):d.current=p}catch(c){en.__e(c,a)}}function xm(d,p,a){var c,o;if(en.unmount&&en.unmount(d),(c=d.ref)&&(c.current&&c.current!==d.__e||tp(c,null,p)),(c=d.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(f){en.__e(f,p)}c.base=c.__P=null,d.__c=void 0}if(c=d.__k)for(o=0;o<c.length;o++)c[o]&&xm(c[o],p,a||typeof d.type!="function");a||d.__e==null||gm(d.__e),d.__=d.__e=d.__d=void 0}function F2(d,p,a){return this.constructor(d,a)}Jf=vm.slice,en={__e:function(d,p,a,c){for(var o,f,l;p=p.__;)if((o=p.__c)&&!o.__)try{if((f=o.constructor)&&f.getDerivedStateFromError!=null&&(o.setState(f.getDerivedStateFromError(d)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(d,c||{}),l=o.__d),l)return o.__E=o}catch(y){d=y}throw d}},hm=0,ni.prototype.setState=function(d,p){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ro({},this.state),typeof d=="function"&&(d=d(ro({},a),this.props)),d&&ro(a,d),d!=null&&this.__v&&(p&&this._sb.push(p),xg(this))},ni.prototype.forceUpdate=function(d){this.__v&&(this.__e=!0,d&&this.__h.push(d),xg(this))},ni.prototype.render=ep,_o=[],ym=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,zf=function(d,p){return d.__v.__b-p.__v.__b},Zu.__r=0;var qi=globalThis&&globalThis.__assign||function(){return qi=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},qi.apply(this,arguments)};function np(d){var p=d.x,a=d.y,c=d.width,o=d.height,f=d.radius,l=d.className,y=p-c/2,g=a-o/2,O=qi(qi({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+l},d),{x:y,y:g});return Ee.h("rect",qi({},O))}np.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ei;(function(d){d.NODE="node",d.CIRCLE_NODE="circle-node",d.POLYGON_NODE="polygon-node",d.RECT_NODE="rect-node",d.HTML_NODE="html-node",d.TEXT_NODE="text-node",d.ELLIPSE_NODE="ellipse-node",d.DIAMOND_NODE="diamond-node",d.EDGE="edge",d.LINE_EDGE="line-edge",d.POLYLINE_EDGE="polyline-edge",d.BEZIER_EDGE="bezier-edge",d.GRAPH="graph"})(ei||(ei={}));var G2=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Oo=globalThis&&globalThis.__assign||function(){return Oo=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Oo.apply(this,arguments)},H2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},X2=Ee.LogicFlowUtil.StepDrag,W2=function(d){G2(p,d);function p(a){var c=d.call(this)||this;return c.updatePosition=function(o){var f=o.deltaX,l=o.deltaY,y=c.nodeModel,g=y.x,O=y.y;c.nodeModel.x=g+f/2,c.nodeModel.y=O+l/2,c.nodeModel.moveText(f/2,l/2)},c.getResize=function(o){var f=o.index,l=o.deltaX,y=o.deltaY,g=o.width,O=o.height,x=o.PCTResizeInfo,w=o.pct,j=w===void 0?1:w,P={width:g,height:O,deltaX:l,deltaY:y};if(x){var A=4,M=0,k=0;switch(f){case 0:k=(l*-1-y)/A;break;case 1:k=(l-y)/A;break;case 2:k=(l+y)/A;break;case 3:k=(l*-1+y)/A;break}k!==0&&(M=Math.round(k/x.ResizeBasis.basisHeight*1e5)/1e3),x.ResizePCT.widthPCT=Math.max(Math.min(x.ResizePCT.widthPCT+M,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit),x.ResizePCT.hightPCT=Math.max(Math.min(x.ResizePCT.hightPCT+M,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit);var R=Math.round(x.ResizePCT.widthPCT*x.ResizeBasis.basisWidth/100),L=Math.round(x.ResizePCT.hightPCT*x.ResizeBasis.basisHeight/100);switch(f){case 0:l=g-R,y=O-L;break;case 1:l=R-g,y=O-L;break;case 2:l=R-g,y=L-O;break;case 3:l=g-R,y=L-O;break}return P.width=R,P.height=L,P.deltaX=l/j,P.deltaY=y/j,P}switch(f){case 0:P.width=g-l*j,P.height=O-y*j;break;case 1:P.width=g+l*j,P.height=O-y*j;break;case 2:P.width=g+l*j,P.height=O+y*j;break;case 3:P.width=g-l*j,P.height=O+y*j;break}return P},c.updateEdgePointByAnchors=function(){var o=c.nodeModel,f=o.id,l=o.anchors,y=c.getNodeEdges(f);y.sourceEdges.forEach(function(g){var O=l.find(function(x){return x.id===g.sourceAnchorId});g.updateStartPoint({x:O.x,y:O.y})}),y.targetEdges.forEach(function(g){var O=l.find(function(x){return x.id===g.targetAnchorId});g.updateEndPoint({x:O.x,y:O.y})})},c.updateRect=function(o){var f=o.deltaX,l=o.deltaY,y=c.nodeModel,g=y.id,O=y.x,x=y.y,w=y.width,j=y.height,P=y.radius,A=y.PCTResizeInfo,M=c.index,k=c.getResize({index:M,deltaX:f,deltaY:l,width:w,height:j,PCTResizeInfo:A,pct:1}),R=c.nodeModel,L=R.minWidth,Y=R.minHeight,Q=R.maxWidth,K=R.maxHeight;if(k.width<L||k.width>Q||k.height<Y||k.height>K){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:k.deltaX,deltaY:k.deltaY}),c.nodeModel.width=k.width,c.nodeModel.height=k.height,c.nodeModel.setProperties({nodeSize:{width:k.width,height:k.height}}),c.getNodeEdges(g);var V={x:O,y:x,width:w,height:j,radius:P},Z={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:P};c.updateEdgePointByAnchors(),c.eventEmit({beforeNode:V,afterNode:Z})},c.updateEllipse=function(o){var f=o.deltaX,l=o.deltaY,y=c.nodeModel,g=y.id,O=y.rx,x=y.ry,w=y.x,j=y.y,P=y.PCTResizeInfo,A=c.index,M=O,k=x,R=c.getResize({index:A,deltaX:f,deltaY:l,width:M,height:k,PCTResizeInfo:P,pct:1/2}),L=c.nodeModel,Y=L.minWidth,Q=L.minHeight,K=L.maxWidth,V=L.maxHeight;if(R.width<Y/2||R.width>K/2||R.height<Q/2||R.height>V/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),c.nodeModel.rx=R.width,c.nodeModel.ry=R.height,c.nodeModel.setProperties({nodeSize:{rx:R.width,ry:R.height}}),c.getNodeEdges(g);var Z={x:w,y:j},F={rx:R.width,ry:R.height,x:c.nodeModel.x,y:c.nodeModel.y};c.updateEdgePointByAnchors(),c.eventEmit({beforeNode:Oo(Oo({},Z),{rx:O,ry:x}),afterNode:F})},c.updateDiamond=function(o){var f=o.deltaX,l=o.deltaY,y=c.nodeModel;y.id;var g=y.rx,O=y.ry,x=y.x,w=y.y,j=y.PCTResizeInfo,P=c.index,A=g,M=O,k=c.getResize({index:P,deltaX:f,deltaY:l,width:A,height:M,PCTResizeInfo:j,pct:1/2}),R=c.nodeModel,L=R.minWidth,Y=R.minHeight,Q=R.maxWidth,K=R.maxHeight;if(k.width<L/2||k.width>Q/2||k.height<Y/2||k.height>K/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:k.deltaX,deltaY:k.deltaY}),c.nodeModel.rx=k.width,c.nodeModel.ry=k.height,c.nodeModel.setProperties({nodeSize:{rx:k.width,ry:k.height}});var V={x,y:w,rx:g,ry:O},Z={rx:k.width,ry:k.height,x:c.nodeModel.x,y:c.nodeModel.y};c.updateEdgePointByAnchors(),c.eventEmit({beforeNode:V,afterNode:Z})},c.eventEmit=function(o){var f=o.beforeNode,l=o.afterNode,y=c.nodeModel,g=y.id,O=y.modelType,x=y.type,w=Oo({id:g,modelType:O,type:x},f),j=Oo({id:g,modelType:O,type:x},l);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:w,newNodeSize:j})},c.onDragging=function(o){var f,l=o.deltaX,y=o.deltaY,g=c.graphModel.transformModel,O=c.nodeModel.modelType;f=H2(g.fixDeltaXY(l,y),2),l=f[0],y=f[1],O===ei.RECT_NODE||O===ei.HTML_NODE?c.updateRect({deltaX:l,deltaY:y}):O===ei.ELLIPSE_NODE?c.updateEllipse({deltaX:l,deltaY:y}):O===ei.DIAMOND_NODE&&c.updateDiamond({deltaX:l,deltaY:y})},c.onDragEnd=function(){c.updateEdgePointByAnchors();var o=c.graphModel.gridSize,f=o===void 0?1:o,l=f*Math.round(c.nodeModel.x/f),y=f*Math.round(c.nodeModel.y/f);c.nodeModel.moveTo(l,y)},c.index=a.index,c.nodeModel=a.model,c.graphModel=a.graphModel,c.state={},c.dragHandler=new X2({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:1}),c}return p.prototype.getNodeEdges=function(a){for(var c=this.graphModel,o=c.edges,f=[],l=[],y=0;y<o.length;y++){var g=o[y];g.sourceNodeId===a?f.push(g):o[y].targetNodeId===a&&l.push(g)}return{sourceEdges:f,targetEdges:l}},p.prototype.render=function(){var a=this.props,c=a.x,o=a.y,f=a.index,l=a.model,y=l.getControlPointStyle();return Ki("g",{className:"lf-resize-control-"+f},Ki(np,Oo({className:"lf-node-control"},{x:c,y:o},y,{onMouseDown:this.dragHandler.handleMouseDown})))},p}(ni),U2=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Qu=globalThis&&globalThis.__assign||function(){return Qu=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Qu.apply(this,arguments)},as=function(d){U2(p,d);function p(){var a=d.call(this)||this;return a.state={},a}return p.prototype.getResizeControl=function(){var a=this.props,c=a.model,o=a.graphModel,f=c.x,l=c.y,y=c.width,g=c.height,O={minX:f-y/2,minY:l-g/2,maxX:f+y/2,maxY:l+g/2},x=O.minX,w=O.minY,j=O.maxX,P=O.maxY,A=[{x,y:w},{x:j,y:w},{x:j,y:P},{x,y:P}];return A.map(function(M,k){return Ki(W2,Qu({index:k},M,{model:c,graphModel:o}))})},p.prototype.getGroupSolid=function(){var a=this.props.model,c=a.x,o=a.y,f=a.width,l=a.height,y=a.getResizeOutlineStyle();return Ki(np,Qu({fill:"none"},y,{x:c,y:o,width:f,height:l}))},p.prototype.render=function(){return Ki("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},p}(ni),Em=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Y2=function(d){Em(p,d);function p(a,c){var o=d.call(this,a,c)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return p.prototype.initNodeData=function(a){d.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},p.prototype.getOutlineStyle=function(){var a=d.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},p.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},p.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},p.prototype.resize=function(a,c){console.log(a,c)},p.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},p}(Ee.RectNodeModel),V2=function(d){Em(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props,c=a.model,o=a.graphModel;return Ee.h(as,{model:c,graphModel:o})},p.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},p.prototype.getShape=function(){var a=this.props,c=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return Ee.h("g",null,this.getResizeShape(),c&&!o?this.getControlGroup():"")},p}(Ee.RectNode),Sm={type:"rect",view:V2,model:Y2},jm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();(function(d){jm(p,d);function p(a,c){var o=d.call(this,a,c)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return p.prototype.initNodeData=function(a){d.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},p.prototype.getOutlineStyle=function(){var a=d.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},p.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},p.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},p.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},p})(Ee.EllipseNodeModel);(function(d){jm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props,c=a.model,o=a.graphModel;return Ee.h(as,{model:c,graphModel:o})},p.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},p.prototype.getShape=function(){var a=this.props,c=a.model,o=a.graphModel.editConfigModel.isSilentMode;return Ee.h("g",null,this.getResizeShape(),c.isSelected&&!o?this.getControlGroup():"")},p})(Ee.EllipseNode);var Bf=globalThis&&globalThis.__assign||function(){return Bf=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Bf.apply(this,arguments)};function $2(d){var p=d.fillOpacity,a=p===void 0?1:p,c=d.strokeWidth,o=c===void 0?1:c,f=d.strokeOpacity,l=f===void 0?1:f,y=d.fill,g=y===void 0?"transparent":y,O=d.stroke,x=O===void 0?"#000":O,w=d.points,j=d.className,P=j===void 0?"lf-basic-shape":j,A={fill:g,fillOpacity:a,strokeWidth:o,stroke:x,strokeOpacity:l,points:"",className:P};return A.points=w.map(function(M){return M.join(",")}).join(" "),Ee.h("polygon",Bf({},A))}var Pm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Ff=globalThis&&globalThis.__assign||function(){return Ff=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Ff.apply(this,arguments)};(function(d){Pm(p,d);function p(a,c){var o=d.call(this,a,c)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return p.prototype.initNodeData=function(a){d.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},p.prototype.getOutlineStyle=function(){var a=d.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},p.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},p.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},p.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},p})(Ee.DiamondNodeModel);(function(d){Pm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props,c=a.model,o=a.graphModel;return Ee.h(as,{model:c,graphModel:o})},p.prototype.getResizeShape=function(){var a=this.props.model,c=a.points,o=a.getNodeStyle();return Ee.h("g",null,Ee.h($2,Ff({},o,{points:c})))},p.prototype.getShape=function(){var a=this.props,c=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return Ee.h("g",null,this.getResizeShape(),c&&!o?this.getControlGroup():"")},p})(Ee.DiamondNode);var Mm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();(function(d){Mm(p,d);function p(a,c){var o=d.call(this,a,c)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return p.prototype.initNodeData=function(a){d.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},p.prototype.getOutlineStyle=function(){var a=d.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},p.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},p.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},p.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},p})(Ee.HtmlNodeModel);(function(d){Mm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props,c=a.model,o=a.graphModel;return Ee.h(as,{model:c,graphModel:o})},p.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},p.prototype.getShape=function(){var a=this.props,c=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return Ee.h("g",null,this.getResizeShape(),c&&!o?this.getControlGroup():"")},p})(Ee.HtmlNode);var Tm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},es.apply(this,arguments)},K2=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},q2=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(K2(arguments[p]));return d},Pg=500,Mg=300,Z2=-1e4,J2=function(d){Tm(p,d);function p(){var a=d!==null&&d.apply(this,arguments)||this;return a.isGroup=!0,a.unfoldedWidth=Pg,a.unfoldedHight=Mg,a.childrenLastFoldStatus={},a}return p.prototype.initNodeData=function(a){var c=this;d.prototype.initNodeData.call(this,a);var o=[];Array.isArray(a.children)&&(o=a.children),this.children=new Set(o),this.width=Pg,this.height=Mg,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=Z2,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},p.prototype.getResizeOutlineStyle=function(){var a=d.prototype.getResizeOutlineStyle.call(this);return a.stroke="none",a},p.prototype.foldGroup=function(a){var c=this;if(a!==this.isFolded){this.setProperty("isFolded",a),this.isFolded=a,a?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var l=c.graphModel.getElement(f),y=l.isFolded;if(l.isGroup&&!l.isFolded&&l.foldGroup(a),l.isGroup&&!a){var g=c.childrenLastFoldStatus[f];g!==void 0&&g!==l.isFolded&&l.foldGroup(g)}c.childrenLastFoldStatus[f]=y,l.visible=!a,o=o.concat(l.incoming.edges.concat(l.outgoing.edges))}),this.foldEdge(a,o)}},p.prototype.getAnchorStyle=function(a){var c=d.prototype.getAnchorStyle.call(this,a);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},p.prototype.foldEdge=function(a,c){var o=this;c.forEach(function(f,l){var y=f.id,g=f.sourceNodeId,O=f.targetNodeId,x=f.startPoint,w=f.endPoint,j=f.type,P=f.text,A=f.getProperties(),M={id:y+"__"+l,sourceNodeId:g,targetNodeId:O,startPoint:x,endPoint:w,type:j,properties:A,text:P==null?void 0:P.value};f.virtual&&o.graphModel.deleteEdgeById(f.id);var k=o.graphModel.group.getNodeGroup(O);k||(k=o.graphModel.getNodeModelById(O));var R=o.graphModel.group.getNodeGroup(g);R||(R=o.graphModel.getNodeModelById(g)),a&&f.visible!==!1&&(o.children.has(g)||o.id===g?(M.startPoint=void 0,M.sourceNodeId=o.id):(M.endPoint=void 0,M.targetNodeId=o.id),(k.id!==o.id||R.id!==o.id)&&o.createVirtualEdge(M),f.visible=!1),!a&&f.visible===!1&&(k&&k.isGroup&&k.isFolded?(M.targetNodeId=k.id,M.endPoint=void 0,o.createVirtualEdge(M)):R&&R.isGroup&&R.isFolded?(M.sourceNodeId=R.id,M.startPoint=void 0,o.createVirtualEdge(M)):f.visible=!0)})},p.prototype.createVirtualEdge=function(a){a.pointsList=void 0;var c=this.graphModel.addEdge(a);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},p.prototype.isInRange=function(a){var c=a.x1,o=a.y1,f=a.x2,l=a.y2;return c>=this.x-this.width/2&&f<=this.x+this.width/2&&o>=this.y-this.height/2&&l<=this.y+this.height/2},p.prototype.isAllowMoveTo=function(a){var c=a.x1,o=a.y1,f=a.x2,l=a.y2;return{x:c>=this.x-this.width/2&&f<=this.x+this.width/2,y:o>=this.y-this.height/2&&l<=this.y+this.height/2}},p.prototype.setAllowAppendChild=function(a){this.setProperty("groupAddable",a)},p.prototype.addChild=function(a){this.children.add(a)},p.prototype.removeChild=function(a){this.children.delete(a)},p.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},p.prototype.getData=function(){var a=this,c=d.prototype.getData.call(this);c.children=[],this.children.forEach(function(f){var l=a.graphModel.getNodeModelById(f);l&&!l.virtual&&c.children.push(f)});var o=c.properties;return delete o.groupAddable,delete o.isFolded,c},p.prototype.getHistoryData=function(){var a=d.prototype.getData.call(this);a.children=q2(this.children),a.isGroup=!0;var c=a.properties;return delete c.groupAddable,c.isFolded&&(a.x=a.x+this.unfoldedWidth/2-this.foldedWidth/2,a.y=a.y+this.unfoldedHight/2-this.foldedHeight/2),a},p.prototype.isAllowAppendIn=function(a){return!0},p.prototype.toBack=function(){this.zIndex--},p}(Sm.model),Q2=function(d){Tm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.getControlGroup=function(){var a=this.props.model,c=a.resizable,o=a.properties;return c&&!o.isFolded?d.prototype.getControlGroup.call(this):null},p.prototype.getAddableShape=function(){var a=this.props.model,c=a.width,o=a.height,f=a.x,l=a.y,y=a.radius,g=a.properties;if(!g.groupAddable)return null;var O=this.props.model.getNodeStyle().strokeWidth,x=this.props.model.getAddableOutlineStyle(),w=c+O+8,j=o+O+8;return Ee.h("rect",es(es({},x),{width:w,height:j,x:f-w/2,y:l-j/2,rx:y,ry:y}))},p.prototype.getFoldIcon=function(){var a=this.props.model,c=a.x-a.width/2+5,o=a.y-a.height/2+5;if(!a.foldable)return null;var f=Ee.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:a.properties.isFolded?"M "+(c+3)+","+(o+6)+" "+(c+11)+","+(o+6)+" M"+(c+7)+","+(o+2)+" "+(c+7)+","+(o+10):"M "+(c+3)+","+(o+6)+" "+(c+11)+","+(o+6)+" "});return Ee.h("g",{},[Ee.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:a.x-a.width/2+5,y:a.y-a.height/2+5,onClick:function(){a.foldGroup(!a.properties.isFolded)}}),f])},p.prototype.getResizeShape=function(){return Ee.h("g",{},[this.getAddableShape(),d.prototype.getResizeShape.call(this),this.getFoldIcon()])},p}(Sm.view);const Gf={type:"group",view:Q2,model:J2};var eM=-1e3,Tg=-1e4,hT=function(){function d(p){var a=this,c=p.lf;this.topGroupZIndex=Tg,this.nodeGroupMap=new Map,this.graphRendered=function(o){o&&o.nodes&&o.nodes.forEach(function(f){f.children&&f.children.forEach(function(l){a.nodeGroupMap.set(l,f.id)})})},this.appendNodeToGroup=function(o){var f=o.data,l=a.nodeGroupMap.get(f.id);if(l){var y=a.lf.getNodeModelById(l);y.removeChild(f.id),a.nodeGroupMap.delete(f.id),y.setAllowAppendChild(!1)}var g=a.lf.getNodeModelById(f.id),O=g.getBounds(),x=a.getGroup(O,f);if(g.isGroup&&(f.children.forEach(function(j){a.nodeGroupMap.set(j,f.id)}),a.nodeSelected({data:f,isSelected:!1,isMultiple:!1})),!!x){var w=x.isAllowAppendIn(f);if(!w){a.lf.emit("group:not-allowed",{group:x.getData(),node:f});return}x.addChild(f.id),a.nodeGroupMap.set(f.id,x.id),x.setAllowAppendChild(!1)}},this.deleteGroupChild=function(o){var f=o.data;f.children&&f.children.forEach(function(g){a.nodeGroupMap.delete(g),a.lf.deleteNode(g)});var l=a.nodeGroupMap.get(f.id);if(l){var y=a.lf.getNodeModelById(l);y.removeChild(f.id),a.nodeGroupMap.delete(f.id)}},this.setActiveGroup=function(o){var f=o.data,l=a.lf.getNodeModelById(f.id),y=l.getBounds(),g=a.getGroup(y,f);if(a.activeGroup&&a.activeGroup.setAllowAppendChild(!1),!(!g||l.isGroup&&g.id===f.id)){var O=g.isAllowAppendIn(f);O&&(a.activeGroup=g,a.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(o){var f=o.data,l=o.isMultiple,y=o.isSelected,g=a.lf.getNodeModelById(f.id);if(a.toFrontGroup(g),a.topGroupZIndex>eM){a.topGroupZIndex=Tg;for(var O=a.lf.graphModel.nodes.filter(function(M){return M.isGroup}).sort(function(M,k){return M.zIndex-k.zIndex}),x=0,w=0;w<O.length;w++){var j=O[w];j.zIndex!==x&&(a.topGroupZIndex++,x=j.zIndex),j.setZIndex(a.topGroupZIndex)}}if(l&&y)if(g.isGroup)g.children.forEach(function(M){var k=a.lf.graphModel.getElement(M);k.setSelected(!1)});else{var P=a.nodeGroupMap.get(f.id);if(P){var A=a.lf.getNodeModelById(P);A.isSelected&&g.setSelected(!1)}}},this.toFrontGroup=function(o){!o||!o.isGroup||(a.topGroupZIndex++,o.setZIndex(a.topGroupZIndex),o.children&&o.children.forEach(function(f){var l=a.lf.getNodeModelById(f);a.toFrontGroup(l)}))},c.register(Gf),this.lf=c,c.graphModel.addNodeMoveRules(function(o,f,l){if(o.isGroup){var y=a.getNodeAllChild(o);return c.graphModel.moveNodes(y,f,l,!0),!0}var g=c.getNodeModelById(a.nodeGroupMap.get(o.id));if(g&&g.isRestrict){var O=o.getBounds(),x=O.x1,w=O.y1,j=O.x2,P=O.y2,A=g.isAllowMoveTo({x1:x+f,y1:w+l,x2:j+f,y2:P+l});return A}return!0}),c.graphModel.group=this,c.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),c.on("node:delete",this.deleteGroupChild),c.on("node:dnd-drag,node:drag",this.setActiveGroup),c.on("node:click",this.nodeSelected),c.on("graph:rendered",this.graphRendered)}return d.prototype.getNodeAllChild=function(p){var a=this,c=[];return p.children&&p.children.forEach(function(o){c.push(o);var f=a.lf.getNodeModelById(o);f.isGroup&&(c=c.concat(a.getNodeAllChild(f)))}),c},d.prototype.getGroup=function(p,a){var c=this.lf.graphModel.nodes,o=c.filter(function(y){return y.isGroup&&y.isInRange(p)&&y.id!==a.id});if(o.length!==0){if(o.length===1)return o[0];for(var f=o[o.length-1],l=o.length-2;l>=0;l--)o[l].zIndex>f.zIndex&&(f=o[l]);return f}},d.prototype.getNodeGroup=function(p){var a=this.nodeGroupMap.get(p);if(a)return this.lf.getNodeModelById(a)},d.pluginName="group",d}(),Ag=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Zi=globalThis&&globalThis.__assign||function(){return Zi=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Zi.apply(this,arguments)};function yT(){var d=function(a){Ag(c,a);function c(){return a!==null&&a.apply(this,arguments)||this}return c.prototype.getFoldIcon=function(){var o=this.props.model,f=o.x,l=o.y,y=o.width,g=o.height,O=o.properties,x=o.foldable,w=o.x-o.width/2+5,j=o.y-o.height/2+5;if(!x)return null;var P=Ee.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:O.isFolded?"M "+(w+3)+","+(j+6)+" "+(w+11)+","+(j+6)+" M"+(w+7)+","+(j+2)+" "+(w+7)+","+(j+10):"M "+(w+3)+","+(j+6)+" "+(w+11)+","+(j+6)+" "});return Ee.h("g",{},[Ee.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:f-y/2+5,y:l-g/2+5,onClick:function(A){A.stopPropagation(),o.foldGroup(!O.isFolded)}}),P])},c.prototype.getResizeShape=function(){var o=this.props.model,f=o.x,l=o.y,y=o.width,g=o.height,O=o.getNodeStyle(),x=Zi(Zi({},O),{x:f-y/2,y:l-g/2,width:y,height:g,stroke:"black",strokeWidth:2,strokeDasharray:"0 0"});return Ee.h("g",{},[Ee.h("rect",Zi({},x)),this.getFoldIcon()])},c}(Gf.view),p=function(a){Ag(c,a);function c(){return a!==null&&a.apply(this,arguments)||this}return c.prototype.initNodeData=function(o){a.prototype.initNodeData.call(this,o),this.foldable=!0,this.resizable=!0,this.width=400,this.height=200,this.resetWidthHeight(),this.isTaskNode=!0,this.boundaryEvents=[]},c.prototype.resetWidthHeight=function(){var o,f,l=(o=this.properties.iniProp)===null||o===void 0?void 0:o.width,y=(f=this.properties.iniProp)===null||f===void 0?void 0:f.height;l&&(this.width=l),y&&(this.height=y)},c.prototype.getNodeStyle=function(){var o=a.prototype.getNodeStyle.call(this);o.stroke="#989891",o.strokeWidth=1,o.strokeDasharray="3 3",this.isSelected&&(o.stroke="rgb(124, 15, 255)");var f=this.properties.isBoundaryEventTouchingTask;return f&&(o.stroke="#00acff",o.strokeWidth=2),o},c.prototype.addChild=function(o){var f=this.graphModel.getElement(o);f.setProperties({parent:this.id}),a.prototype.addChild.call(this,o)},c.prototype.getAnchorStyle=function(){var o=a.prototype.getAnchorStyle.call(this,{});return o.stroke="#000",o.fill="#fff",o.hover.stroke="transparent",o},c.prototype.getOutlineStyle=function(){var o=a.prototype.getOutlineStyle.call(this);return o.stroke="transparent",!o.hover&&(o.hover={}),o.hover.stroke="transparent",o},c.prototype.setTouching=function(o){this.setProperty("isBoundaryEventTouchingTask",o)},c.prototype.addBoundaryEvent=function(o){if(this.setTouching(!1),this.boundaryEvents.find(function(l){return l===o}))return!1;var f=this.graphModel.getNodeModelById(o);return f==null||f.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(o),!0},c.prototype.deleteBoundaryEvent=function(o){this.boundaryEvents=this.boundaryEvents.filter(function(f){return f!==o})},c}(Gf.model);return{type:"bpmn:subProcess",view:d,model:p}}globalThis&&globalThis.__values;var kg=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Ji=globalThis&&globalThis.__assign||function(){return Ji=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Ji.apply(this,arguments)};function tM(d){var p=function(c){kg(o,c);function o(f,l){var y=this;f.id||(f.id="Flow_"+rr());var g=Ji(Ji(Ji({},d||{}),f.properties),{isDefaultFlow:!1});return f.properties=g,y=c.call(this,f,l)||this,y}return o.extendKey="SequenceFlowModel",o}(Ee.PolylineEdgeModel),a=function(c){kg(o,c);function o(){return c!==null&&c.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var f=this.props.model,l=f.properties.isDefaultFlow;return l?Ee.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Ee.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(Ee.PolylineEdge);return{type:"bpmn:sequenceFlow",view:a,model:p}}tM();globalThis&&globalThis.__read;function vT(d){function p(a){function c(o,f){return o.forEach(function(l){d!=null&&d[l]||(d[l]=new Map);var y=d==null?void 0:d[l];f.forEach(function(g){y.set(g.type,g)})}),d}a.forEach(function(o){c(o.nodes,o.definition)})}return function(){return[d,p]}}var Dg={width:40,height:40},Ng={width:40,height:40},Cg={width:100,height:80},ts={width:100,height:80},Ig={width:100,height:80},Rg={width:100,height:80},Lg={width:100,height:80},zg={width:100,height:80},Bg={width:100,height:80},Fg={width:100,height:80},En=function(){};En.ObjTree=function(){return this};En.ObjTree.VERSION="0.23";En.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;En.ObjTree.prototype.attr_prefix="-";En.ObjTree.prototype.parseXML=function(d){var p;if(window.DOMParser){var a=new DOMParser,c=a.parseFromString(d,"application/xml");if(!c)return;p=c.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(d),p=a.documentElement);if(p){var o=this.parseDOM(p);return o}};En.ObjTree.prototype.parseHTTP=function(d,p,a){var c={};for(var o in p)c[o]=p[o];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),a){c.asynchronous=!0;var f=this,l=a,y=c.onComplete;c.onComplete=function(x){var w;x&&x.responseXML&&x.responseXML.documentElement&&(w=f.parseDOM(x.responseXML.documentElement)),l(w,x),y&&y(x)}}else c.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){c.uri=d;var O=new HTTP.Request(c);O&&(g=O.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var O=new Ajax.Request(d,c);O&&(g=O.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};En.ObjTree.prototype.parseDOM=function(d){if(d){if(this.__force_array={},this.force_array)for(var p=0;p<this.force_array.length;p++)this.__force_array[this.force_array[p]]=1;var a=this.parseElement(d);if(this.__force_array[d.nodeName]&&(a=[a]),d.nodeType!==11){var c={};c[d.nodeName]=a,a=c}return a}};En.ObjTree.prototype.parseElement=function(d){if(d.nodeType!==7){if(d.nodeType===3||d.nodeType===4||d.nodeType===8){var p=d.nodeValue.match(/[^\x00-\x20]/);return p==null?void 0:d.nodeValue}var a=null,c={};if(d.attributes&&d.attributes.length){a={};for(var o=0;o<d.attributes.length;o++){var f=d.attributes[o].nodeName;if(typeof f=="string"){var l=d.attributes[o].nodeValue;try{l=JSON.parse(d.attributes[o].nodeValue.replace(/'/g,'"'))}catch{l=d.attributes[o].nodeValue}l!=null&&(f=this.attr_prefix+f,typeof c[f]>"u"&&(c[f]=0),c[f]++,this.addNode(a,f,c[f],l))}}}if(d.childNodes&&d.childNodes.length){var y=!0;a&&(y=!1);for(var o=0;o<d.childNodes.length&&y;o++){var g=d.childNodes[o].nodeType;g===3||g===4||g===8||(y=!1)}if(y){a||(a="");for(var o=0;o<d.childNodes.length;o++)a+=d.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<d.childNodes.length;o++){var f=d.childNodes[o].nodeName;if(typeof f=="string"){var l=this.parseElement(d.childNodes[o]);l&&(typeof c[f]>"u"&&(c[f]=0),c[f]++,this.addNode(a,f,c[f],l))}}}}else a===null&&(a={});return a}};En.ObjTree.prototype.addNode=function(d,p,a,c){this.__force_array[p]?(a===1&&(d[p]=[]),d[p][d[p].length]=c):a===1?d[p]=c:a===2?d[p]=[d[p],c]:d[p][d[p].length]=c};En.ObjTree.prototype.writeXML=function(d){var p=this.hash_to_xml(null,d);return this.xmlDecl+p};En.ObjTree.prototype.hash_to_xml=function(d,p){var a=[],c=[];for(var o in p)if(p!=null&&p.hasOwnProperty(o)){var f=p[o];o.charAt(0)!==this.attr_prefix?typeof f>"u"||f==null?a[a.length]="<"+o+" />":typeof f=="object"&&f.constructor===Array?a[a.length]=this.array_to_xml(o,f):typeof f=="object"?a[a.length]=this.hash_to_xml(o,f):a[a.length]=this.scalar_to_xml(o,f):c[c.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var l=c.join(""),y=a.join("");return typeof d>"u"||d==null||(a.length>0?y.match(/\n/)?y="<"+d+l+`>
`+y+"</"+d+`>
`:y="<"+d+l+">"+y+"</"+d+`>
`:y="<"+d+l+` />
`),y};En.ObjTree.prototype.array_to_xml=function(d,p){for(var a=[],c=0;c<p.length;c++){var o=p[c];typeof o>"u"||o==null?a[a.length]="<"+d+" />":typeof o=="object"&&o.constructor===Array?a[a.length]=this.array_to_xml(d,o):typeof o=="object"?a[a.length]=this.hash_to_xml(d,o):a[a.length]=this.scalar_to_xml(d,o)}return a.join("")};En.ObjTree.prototype.scalar_to_xml=function(d,p){return d==="#text"?this.xml_escape(p):"<"+d+">"+this.xml_escape(p)+"</"+d+`>
`};En.ObjTree.prototype.xml_escape=function(d){return d.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var nM=function(d){return new En.ObjTree().parseXML(d)};function Am(d){return Object.prototype.toString.call(d)}function Gg(d){return"  ".repeat(d)}function ns(d){return Am(d)==="[object Object]"?Object.keys(d).reduce(function(p,a){var c=a;return a.charAt(0)==="-"&&(c=a.substring(1)),p[c]=ns(d[a]),p},{}):Array.isArray(d)?d.map(function(p){return ns(p)}):d}function rM(d){var p=d;try{typeof p!="string"&&(p=JSON.parse(d))}catch{p=JSON.stringify(ns(d)).replace(/"/g,"'")}return p}var Hg=`	
`;function Uu(d,p,a){var c=Gg(a),o="",f=Hg+c;if(p==="-json")return"";if(p==="#text")return f+d;if(p==="#cdata-section")return f+"<![CDATA["+d+"]]>";if(p==="#comment")return f+"<!--"+d+"-->";if((""+p).charAt(0)==="-")return" "+p.substring(1)+'="'+rM(d)+'"';if(Array.isArray(d))o+=d.map(function(O){return Uu(O,p,a+1)}).join("");else if(Am(d)==="[object Object]"){var l=Object.keys(d),y="",g=d["-json"]?Hg+Gg(a+1)+d["-json"]:"";o+=(a===0?"":f)+"<"+p,l.forEach(function(O){O.charAt(0)==="-"?y+=Uu(d[O],O,a+1):g+=Uu(d[O],O,a+1)}),o+=y+(g!==""?">"+g+f+"</"+p+">":" />")}else o+=f+"<"+p+">"+d.toString()+"</"+p+">";return o}function oM(d){var p="";for(var a in d)p+=Uu(d[a],a,0);return p}var iM=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Hf=globalThis&&globalThis.__assign||function(){return Hf=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Hf.apply(this,arguments)},Xg=globalThis&&globalThis.__rest||function(d,p){var a={};for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&p.indexOf(c)<0&&(a[c]=d[c]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,c=Object.getOwnPropertySymbols(d);o<c.length;o++)p.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(d,c[o])&&(a[c[o]]=d[c[o]]);return a},rp=globalThis&&globalThis.__values||function(d){var p=typeof Symbol=="function"&&Symbol.iterator,a=p&&d[p],c=0;if(a)return a.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&c>=d.length&&(d=void 0),{value:d&&d[c++],done:!d}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},si=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},ri=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(si(arguments[p]));return d},On;(function(d){d.START="bpmn:startEvent",d.END="bpmn:endEvent",d.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",d.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",d.BOUNDARY="bpmn:boundaryEvent",d.PARALLEL_GATEWAY="bpmn:parallelGateway",d.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",d.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",d.USER="bpmn:userTask",d.SYSTEM="bpmn:serviceTask",d.FLOW="bpmn:sequenceFlow",d.SUBPROCESS="bpmn:subProcess"})(On||(On={}));var km=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],aM=["properties","startPoint","endPoint","pointsList"],rs={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},Dm=function(d,p){var a=Object.keys(p||{});return a.forEach(function(c){if(d[c]){var o=p[c],f=o.in,l=o.out;f&&(d[c].in=f),l&&(d[c].out=l)}else d[c]=p[c]}),d},Kn={"bpmn:startEvent":{out:function(d){var p,a,c=d.properties;return((a=(p=Kn[c.definitionType])===null||p===void 0?void 0:p.out)===null||a===void 0?void 0:a.call(p,d))||{}}},"bpmn:intermediateCatchEvent":{out:function(d){var p,a,c=d.properties;return((a=(p=Kn[c.definitionType])===null||p===void 0?void 0:p.out)===null||a===void 0?void 0:a.call(p,d))||{}}},"bpmn:intermediateThrowEvent":{out:function(d){var p,a,c=d.properties;return((a=(p=Kn[c.definitionType])===null||p===void 0?void 0:p.out)===null||a===void 0?void 0:a.call(p,d))||{}}},"bpmn:boundaryEvent":{out:function(d){var p,a,c=d.properties;return((a=(p=Kn[c.definitionType])===null||p===void 0?void 0:p.out)===null||a===void 0?void 0:a.call(p,d))||{}}},"bpmn:sequenceFlow":{out:function(d){var p=d.properties,a=p.expressionType,c=p.condition;return c?a==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+c+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+c+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(d){var p=d.properties,a=p.timerType,c=p.timerValue,o=p.definitionId,f=function(){return"<bpmn:"+a+' xsi:type="bpmn:tFormalExpression">'+c+"</bpmn:"+a+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(a&&c?">"+f()+"</bpmn:timerEventDefinition>":"/>")}},in:function(d,p){var a,c,o,f,l=d,y=p["-id"],g="",O="";try{for(var x=rp(Object.keys(p)),w=x.next();!w.done;w=x.next()){var j=w.value;j.includes("bpmn:")&&(o=si(j.split(":"),2),g=o[1],O=(f=p[j])===null||f===void 0?void 0:f["#text"])}}catch(P){a={error:P}}finally{try{w&&!w.done&&(c=x.return)&&c.call(x)}finally{if(a)throw a.error}}return{"-definitionId":y,"-definitionType":l,"-timerType":g,"-timerValue":O}}},"bpmn:conditionExpression":{in:function(d,p){var a,c="",o="";return p["#cdata-section"]?(o="cdata",c=((a=/^\$\{(.*)\}$/g.exec(p["#cdata-section"]))===null||a===void 0?void 0:a[1])||""):p["#text"]&&(o="normal",c=p["#text"]),{"-condition":c,"-expressionType":o}}}};function uM(d){var p=d??{},a=p.retainedAttrsFields,c=p.excludeFields,o=p.transformer,f=new Set(ri(aM,a||[])),l={in:new Set(ri(rs.in,(c==null?void 0:c.in)||[])),out:new Set(ri(rs.out,(c==null?void 0:c.out)||[]))};return Kn=Dm(Kn,o),function(y){var g=y.nodes,O=y.edges;function x(w,j){var P,A,M;if((w==null?void 0:w.flag)!==1){var k;if((k=Kn[w.type])&&k.out){var R=k.out(w),L=Object.keys(R);L.length>0&&L.forEach(function(B){w[B]=R[B]})}w!=null&&w.children&&(w.children=w.children.map(function(B){var G=g.find(function(X){return X.id===B})||O.find(function(X){return X.id===B});return G||{}}));var Y={};if(typeof w=="string")return w;if(Array.isArray(w))return w.map(function(B){return x(B,"")}).filter(function(B){return B!=null});try{for(var Q=rp(Object.entries(w)),K=Q.next();!K.done;K=Q.next()){var V=si(K.value,2),Z=V[0],F=V[1];if(((M=F)===null||M===void 0?void 0:M.flag)===1)return;var I=[j,Z].filter(function(B){return B}).join(".");l.out.has(I)||(typeof F!="object"?Z.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Z)?Y[Z]=F:Y["-"+Z]=F:f.has(I)?Y["-"+Z]=x(F,I):Y[Z]=x(F,I))}}catch(B){P={error:B}}finally{try{K&&!K.done&&(A=Q.return)&&A.call(Q)}finally{if(P)throw P.error}}return Y}}return x(y,"")}}function os(d){var p,a,c={};try{for(var o=rp(Object.entries(d)),f=o.next();!f.done;f=o.next()){var l=si(f.value,2),y=l[0],g=l[1];y.indexOf("-")===0?c[y.substring(1)]=ns(g):typeof g=="string"?c[y]=g:Object.prototype.toString.call(g)==="[object Object]"?c[y]=os(g):Array.isArray(g)?c[y]=g.map(function(O){return os(O)}):c[y]=g}}catch(O){p={error:O}}finally{try{f&&!f.done&&(a=o.return)&&a.call(o)}finally{if(p)throw p.error}}return c}function sM(d,p,a){var c,o=new Map,f=uM(a)(p);f.nodes.forEach(function(y){var g=y["-id"],O=y["-type"],x=y.text,w=y.children,j=Xg(y,["-id","-type","text","children"]),P={"-id":g};x!=null&&x["-value"]&&(P["-name"]=x["-value"]),j["-json"]&&(P["-json"]=j["-json"]),j["-properties"]&&Object.assign(P,j["-properties"]),w&&(P.children=w),d[O]||(d[O]=[]),d[O].push(P),o.set(g,P)});var l=f.edges.map(function(y){var g=y["-id"];y["-type"];var O=y["-sourceNodeId"],x=y["-targetNodeId"],w=y.text,j=Xg(y,["-id","-type","-sourceNodeId","-targetNodeId","text"]),P=o.get(x);P["bpmn:incoming"]||(P["bpmn:incoming"]=[]),P["bpmn:incoming"].push(g);var A={"-id":g,"-sourceRef":O,"-targetRef":x};return w!=null&&w["-value"]&&(A["-name"]=w["-value"]),j["-json"]&&(A["-json"]=j["-json"]),j["-properties"]&&Object.assign(A,j["-properties"]),A});return p.edges.forEach(function(y){var g=y.sourceNodeId,O=y.id,x=o.get(g);x["bpmn:outgoing"]||(x["bpmn:outgoing"]=[]),x["bpmn:outgoing"].push(O)}),(c=d["bpmn:subProcess"])===null||c===void 0||c.forEach(function(y){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},O=[];y.children.forEach(function(M){var k,R=o.get(M["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(Y){R[Y]&&R[Y].forEach(function(Q){g[Y].add(Q)})});var L=(k=d[M["-type"]])===null||k===void 0?void 0:k.findIndex(function(Y){return Y["-id"]===M["-id"]});L>=0&&d[M["-type"]].splice(L,1),o.delete(M["-id"]),y[M["-type"]]||(y[M["-type"]]=[]),y[M["-type"]].push(R)});var x=g["bpmn:incoming"],w=g["bpmn:outgoing"];w.forEach(function(M){x.has(M)&&O.push(M)});for(var j=function(M){var k=l.findIndex(function(R){return R["-id"]===O[M]});k>=0?(y["bpmn:sequenceFlow"]||(y["bpmn:sequenceFlow"]=[]),y["bpmn:sequenceFlow"].push(l[k]),l.splice(k,1)):M++,P=M},P,A=0;A<O.length;)j(A),A=P;delete y.children}),d[On.FLOW]=l,d}function cM(d,p){d["bpmndi:BPMNEdge"]=p.edges.map(function(a){var c,o=a.id,f=a.pointsList.map(function(y){var g=y.x,O=y.y;return{"-x":g,"-y":O}}),l={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((c=a.text)===null||c===void 0)&&c.value&&(l["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),l}),d["bpmndi:BPMNShape"]=p.nodes.map(function(a){var c,o=a.id,f=100,l=80,y=a.x,g=a.y,O=Tn.shapeConfigMap.get(a.type);O&&(f=O.width,l=O.height),y-=f/2,g-=l/2;var x={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":y,"-y":g,"-width":f,"-height":l}};return!((c=a.text)===null||c===void 0)&&c.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),x})}var lM=["bpmn:incoming","bpmn:outgoing"];function fM(d,p){var a=[],c=[],o=new Map,f=p??{},l=f.transformer,y=f.excludeFields,g={in:new Set(ri(rs.in,(y==null?void 0:y.in)||[])),out:new Set(ri(rs.out,(y==null?void 0:y.out)||[]))};Kn=Dm(Kn,l);var O=d["bpmn:definitions"];if(O){var x=O["bpmn:process"];(function(j,P){P.forEach(function(A){try{Object.keys(j).forEach(function(M){try{A(M)}catch(k){console.error(k)}})}catch(M){console.error(M)}})})(x,[function(j){function P(M){M["-children"]||(M["-children"]=[]),Object.keys(M).forEach(function(k){var R;k.indexOf("bpmn:")===0&&!lM.includes(k)&&(x[k]||(x[k]=[]),!Array.isArray(x[k])&&(x[k]=[x[k]]),Array.isArray(M[k])?(R=x[k]).push.apply(R,ri(M[k])):x[k].push(M[k]),Array.isArray(M[k])?M[k].forEach(function(L){!k.includes("Flow")&&M["-children"].push(L["-id"])}):!k.includes("Flow")&&M["-children"].push(M[k]["-id"]),delete M[k])})}if(j==="bpmn:subProcess"){var A=x[j];Array.isArray(A)?A.forEach(function(M){j==="bpmn:subProcess"&&P(M)}):P(A)}},function(j){var P=function(M){Object.keys(M).forEach(function(k){var R,L;if(k.includes("bpmn:")){var Y={};Kn[k]&&Kn[k].in?(Y=(L=(R=Kn[k]).in)===null||L===void 0?void 0:L.call(R,k,C.cloneDeep(M[k])),delete M[k]):A(M[k]);var Q=void 0;(Q=Reflect.ownKeys(Y)).length>0&&Q.forEach(function(K){Reflect.set(M,K,Y[K])})}})};function A(M){o.set(M["-id"],M),Array.isArray(M)?M.forEach(function(k){A(k)}):typeof M=="object"&&P(M)}A(x[j])},function(j){if(j.indexOf("bpmn:")===0){var P=x[j];if(j==="bpmn:sequenceFlow"){var A=O["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=dM(P,A)}else{var M=O["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(j==="bpmn:boundaryEvent"){var k=x[j],R=function(L){var Y=L["-attachedToRef"],Q=o.get(Y);Q["-boundaryEvents"]||(Q["-boundaryEvents"]=[]),Q["-boundaryEvents"].push(L["-id"])};Array.isArray(k)?k.forEach(function(L){R(L)}):R(k)}a=a.concat(pM(P,M,j))}}}])}var w=function(j,P,A){Object.keys(j).forEach(function(M){var k=A?A+"."+M:M;P.has(k)?delete j[M]:typeof j[M]=="object"&&w(j[M],P,k)})};return a.forEach(function(j){var P,A;if(!((P=p==null?void 0:p.mapping)===null||P===void 0)&&P.in){var M=(A=p==null?void 0:p.mapping)===null||A===void 0?void 0:A.in,k=j.type;M[k]&&(j.type=M[k])}w(j,g.in,"")}),c.forEach(function(j){var P,A;if(!((P=p==null?void 0:p.mapping)===null||P===void 0)&&P.in){var M=(A=p==null?void 0:p.mapping)===null||A===void 0?void 0:A.in,k=j.type;M[k]&&(j.type=M[k])}w(j,g.in,"")}),{nodes:a,edges:c}}function pM(d,p,a){var c=[];if(Array.isArray(d))d.forEach(function(l){var y;Array.isArray(p)?y=p.find(function(O){return O["-bpmnElement"]===l["-id"]}):y=p;var g=Wg(y,a,l);c.push(g)});else{var o=void 0;Array.isArray(p)?o=p.find(function(l){return l["-bpmnElement"]===d["-id"]}):o=p;var f=Wg(o,a,d);c.push(f)}return c}function Wg(d,p,a){var c=Number(d["dc:Bounds"]["-x"]),o=Number(d["dc:Bounds"]["-y"]),f=a["-children"],l=a["-name"],y=Tn.shapeConfigMap.get(p);y&&(c+=y.width/2,o+=y.height/2);var g={};Object.entries(a).forEach(function(j){var P=si(j,2),A=P[0],M=P[1];km.includes(A)||(g[A]=M)}),g=os(g);var O;if(l&&(O={x:c,y:o,value:l},d["bpmndi:BPMNLabel"]&&d["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=d["bpmndi:BPMNLabel"]["dc:Bounds"];O.x=Number(x["-x"])+Number(x["-width"])/2,O.y=Number(x["-y"])+Number(x["-height"])/2}var w={id:d["-bpmnElement"],type:p,x:c,y:o,properties:g};return f&&(w.children=f),O&&(w.text=O),w}function dM(d,p){var a=[];if(Array.isArray(d))d.forEach(function(o){var f;Array.isArray(p)?f=p.find(function(l){return l["-bpmnElement"]===o["-id"]}):f=p,a.push(Ug(f,o))});else{var c=void 0;Array.isArray(p)?c=p.find(function(o){return o["-bpmnElement"]===d["-id"]}):c=p,a.push(Ug(c,d))}return a}function Ug(d,p){var a,c=p["-name"];if(c){var o=d["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;c.split(`
`).forEach(function(O){f<O.length&&(f=O.length)}),a={value:c,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var l={};Object.entries(p).forEach(function(O){var x=si(O,2),w=x[0],j=x[1];km.includes(w)||(l[w]=j)}),l=os(l);var y=d["di:waypoint"].map(function(O){return{x:Number(O["-x"]),y:Number(O["-y"])}}),g={id:p["-id"],type:On.FLOW,pointsList:y,sourceNodeId:p["-sourceRef"],targetNodeId:p["-targetRef"],properties:l};return a&&(g.text=a),g}var Tn=function(){function d(p){var a=this,c=p.lf;this.adapterOut=function(o,f){var l,y,g=Hf({},a.processAttributes);sM(g,o,f);var O={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};cM(O,o);var x=a.definitionAttributes;x["bpmn:process"]=g,x["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":O};var w={"bpmn:definitions":x};if(!((l=f==null?void 0:f.mapping)===null||l===void 0)&&l.out){var j=(y=f==null?void 0:f.mapping)===null||y===void 0?void 0:y.out,P=function(A){Array.isArray(A)&&A.forEach(function(M){return P(M)}),typeof A=="object"&&Object.keys(A).forEach(function(M){var k;(k=j[M])?(A[k]=C.cloneDeep(A[M]),delete A[M],P(A[k])):P(A[M])})};P(w)}return w},this.adapterIn=function(o,f){if(o)return fM(o,f)},c.adapterIn=this.adapterIn,c.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return d.prototype.setCustomShape=function(p,a){d.shapeConfigMap.set(p,a)},d.pluginName="bpmn-adapter",d.shapeConfigMap=new Map,d}();Tn.shapeConfigMap.set(On.START,{width:Dg.width,height:Dg.height});Tn.shapeConfigMap.set(On.END,{width:Ng.width,height:Ng.height});Tn.shapeConfigMap.set(On.INTERMEDIATE_CATCH,{width:ts.width,height:ts.height});Tn.shapeConfigMap.set(On.INTERMEDIATE_THROW,{width:ts.width,height:ts.height});Tn.shapeConfigMap.set(On.BOUNDARY,{width:Cg.width,height:Cg.height});Tn.shapeConfigMap.set(On.PARALLEL_GATEWAY,{width:Ig.width,height:Ig.height});Tn.shapeConfigMap.set(On.INCLUSIVE_GATEWAY,{width:Rg.width,height:Rg.height});Tn.shapeConfigMap.set(On.EXCLUSIVE_GATEWAY,{width:Lg.width,height:Lg.height});Tn.shapeConfigMap.set(On.SYSTEM,{width:zg.width,height:zg.height});Tn.shapeConfigMap.set(On.USER,{width:Bg.width,height:Bg.height});Tn.shapeConfigMap.set(On.SUBPROCESS,{width:Fg.width,height:Fg.height});(function(d){iM(p,d);function p(a){var c=d.call(this,a)||this;c.adapterXmlIn=function(l){var y=nM(l);return c.adapterIn(y,c.props)},c.adapterXmlOut=function(l){var y=c.adapterOut(l,c.props);return oM(y)};var o=a.lf,f=a.props;return o.adapterIn=c.adapterXmlIn,o.adapterOut=c.adapterXmlOut,c.props=f,c}return p.pluginName="BPMNAdapter",p})(Tn);var Yg=globalThis&&globalThis.__assign||function(){return Yg=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Yg.apply(this,arguments)};globalThis&&globalThis.__read;var ii;(function(d){d.HORIZONTAL="horizontal",d.VERTICAL="vertical"})(ii||(ii={}));var hM=function(d,p,a,c){c===void 0&&(c=0);var o=vM(d,p,a);return o<=c};function Vg(d){return d*d}function Cf(d,p){return Vg(d.x-p.x)+Vg(d.y-p.y)}var yM=function(d,p,a){var c=Cf(p,a);if(c===0)return Cf(d,p);var o=((d.x-p.x)*(a.x-p.x)+(d.y-p.y)*(a.y-p.y))/c;return o=Math.max(0,Math.min(1,o)),Cf(d,{x:p.x+o*(a.x-p.x),y:p.y+o*(a.y-p.y)})},vM=function(d,p,a){return Math.sqrt(yM(d,p,a))},gM=function(d){var p=d.x,a=d.y,c=d.width,o=d.height,f={minX:p-c/2,minY:a-o/2,maxX:p+c/2,maxY:a+o/2,x:p,y:a,width:c,height:o,centerX:p,centerY:a};return f},mM=function(d,p){var a;return d.x===p.x?a=ii.VERTICAL:d.y===p.y&&(a=ii.HORIZONTAL),a},bM=function(d,p,a){var c=gM(d),o=mM(p,a),f=Math.max(p.x,a.x),l=Math.min(p.x,a.x),y=Math.max(p.y,a.y),g=Math.min(p.y,a.y),O=d.x,x=d.y,w=d.width,j=d.height;if(o===ii.HORIZONTAL){if(f>=c.maxX&&l<=c.minX)return{startCrossPoint:{x:p.x>a.x?O+w/2:O-w/2,y:p.y},endCrossPoint:{x:p.x>a.x?O-w/2:O+w/2,y:p.y}}}else if(o===ii.VERTICAL&&y>=c.maxY&&g<=c.minY)return{startCrossPoint:{x:p.x,y:p.y>a.y?x+j/2:x-j/2},endCrossPoint:{x:p.x,y:p.y>a.y?x-j/2:x+j/2}}},_M=function(d,p,a){a===void 0&&(a=0);for(var c=d.x,o=d.y,f=p.pointsList,l=0;l<f.length-1;l++)if(hM({x:c,y:o},f[l],f[l+1],a)){var y=bM(d,f[l],f[l+1]);if(y)return{crossIndex:l+1,crossPoints:y}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},OM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},$g=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(OM(arguments[p]));return d},gT=function(){function d(p){var a=p.lf;this._lf=a,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return d.prototype.eventHandler=function(){var p=this;this.dndAdd&&this._lf.on("node:dnd-add",function(a){var c=a.data;p.insetNode(c)}),this.dropAdd&&this._lf.on("node:drop",function(a){for(var c=a.data,o=p._lf.graphModel.edges,f=c.id,l=!0,y=0;y<o.length;y++)if(o[y].sourceNodeId===f||o[y].targetNodeId===f){l=!1;break}l&&p.insetNode(c)})},d.prototype.checkRuleBeforeInsetNode=function(p,a,c,o,f){var l=this._lf.getNodeModelById(p),y=this._lf.getNodeModelById(a),g=l.getAnchorInfo(c),O=y.getAnchorInfo(o),x=l.isAllowConnectedAsSource(f,g,O),w=y.isAllowConnectedAsTarget(f,g,O),j=Ee.formateAnchorConnectValidateData(x),P=j.isAllPass,A=j.msg,M=Ee.formateAnchorConnectValidateData(w),k=M.isAllPass,R=M.msg;return{isPass:P&&k,sourceMsg:A,targetMsg:R}},d.prototype.insetNode=function(p){for(var a=this,c=this._lf.graphModel.edges,o=this._lf.getNodeModelById(p.id),f=0;f<c.length;f++){var l=_M(o,c[f],this.deviation),y=l.crossIndex,g=l.crossPoints;if(y>=0){var O=c[f],x=O.sourceNodeId,w=O.targetNodeId,j=O.id,P=O.type,A=O.pointsList,M=O.sourceAnchorId,k=O.targetAnchorId,R=Vi(A[0]),L=Vi(g.startCrossPoint);this._lf.deleteEdge(j);var Y=this.checkRuleBeforeInsetNode(x,w,M,k,p);if(this._lf.addEdge({type:P,sourceNodeId:x,targetNodeId:p.id,startPoint:R,endPoint:L,pointsList:$g(A.slice(0,y),[g.startCrossPoint])}),this._lf.addEdge({type:P,sourceNodeId:p.id,targetNodeId:w,startPoint:Vi(g.endCrossPoint),endPoint:Vi(A[A.length-1]),pointsList:$g([g.endCrossPoint],A.slice(y))}),Y.isPass)break;this._lf.graphModel.eventCenter.emit(Ee.EventType.CONNECTION_NOT_ALLOWED,{data:p,msg:Y.targetMsg||Y.sourceMsg}),setTimeout(function(){a._lf.undo()},200);break}}},d.pluginName="insertNodeInPolyline",d}(),wM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},xM=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(wM(arguments[p]));return d},mT=function(){function d(p){var a=this,c=p.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){a.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){a.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){a.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){a.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){a.lf.redo()}}],this.lf=c}return d.prototype.render=function(p,a){this.destroy();var c=this.getControlTool();this.toolEl=c,a.appendChild(c),this.domContainer=a},d.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},d.prototype.addItem=function(p){this.controlItems.push(p)},d.prototype.removeItem=function(p){var a=this.controlItems.findIndex(function(c){return c.key===p});return a==-1?null:this.controlItems.splice(a,1)[0]},d.prototype.getControlTool=function(){var p=this,a="lf-control-item",c="lf-control-item disabled",o=document.createElement("div"),f=[];return o.className="lf-control",this.controlItems.forEach(function(l){var y=document.createElement("div"),g=document.createElement("i"),O=document.createElement("span");switch(y.className=c,l.onClick&&(y.onclick=l.onClick.bind(null,p.lf)),l.onMouseEnter&&(y.onmouseenter=l.onMouseEnter.bind(null,p.lf)),l.onMouseLeave&&(y.onmouseleave=l.onMouseLeave.bind(null,p.lf)),g.className=l.iconClass,O.className="lf-control-text",O.title=l.title,O.innerText=l.text,y.append(g,O),l.text){case"上一步":p.lf.on("history:change",function(x){var w=x.data.undoAble;y.className=w?a:c});break;case"下一步":p.lf.on("history:change",function(x){var w=x.data.redoAble;y.className=w?a:c});break;default:y.className=a;break}f.push(y)}),o.append.apply(o,xM(f)),o},d.pluginName="control",d}(),EM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f},SM=globalThis&&globalThis.__spread||function(){for(var d=[],p=0;p<arguments.length;p++)d=d.concat(EM(arguments[p]));return d},Wi="lf:defaultNodeMenu",Ui="lf:defaultEdgeMenu",Yi="lf:defaultGraphMenu",Kg="lf:defaultSelectionMenu",bT=function(){function d(p){var a=this,c=p.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(o){a.setMenuConfig(o)},this.lf.addMenuConfig=function(o){a.addMenuConfig(o)},this.lf.setMenuByType=function(o){a.setMenuByType(o)}}return d.prototype.init=function(){var p=this,a=[{text:"删除",callback:function(f){p.lf.deleteNode(f.id)}},{text:"编辑文本",callback:function(f){p.lf.graphModel.editText(f.id)}},{text:"复制",callback:function(f){p.lf.cloneNode(f.id)}}];this.menuTypeMap.set(Wi,a);var c=[{text:"删除",callback:function(f){p.lf.deleteEdge(f.id)}},{text:"编辑文本",callback:function(f){p.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(Ui,c),this.menuTypeMap.set(Yi,[]);var o=[{text:"删除",callback:function(f){p.lf.clearSelectElements(),f.edges.forEach(function(l){return p.lf.deleteEdge(l.id)}),f.nodes.forEach(function(l){return p.lf.deleteNode(l.id)})}}];this.menuTypeMap.set(Kg,o)},d.prototype.render=function(p,a){var c=this;this.__container=a,this.__currentData=null,this.__menuDOM.className="lf-menu",a.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var f=o.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var f=o.data,l=o.position,y=o.e,g=l.domOverlayPosition,O=g.x,x=g.y,w=f.id,j=c.lf.graphModel.getNodeModelById(w),P=[],A=c.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?P=j.menu:A?P=A:P=c.menuTypeMap.get(Wi),c.__currentData=f,c.showMenu(O,x,P,{width:j.width,height:j.height,clientX:y.clientX,clientY:y.clientY})}),this.lf.on("edge:contextmenu",function(o){var f=o.data,l=o.position,y=o.e,g=l.domOverlayPosition,O=g.x,x=g.y,w=f.id,j=c.lf.graphModel.getEdgeModelById(w),P=[],A=c.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?P=j.menu:A?P=A:P=c.menuTypeMap.get(Ui),c.__currentData=f,c.showMenu(O,x,P,{width:j.width,height:j.height,clientX:y.clientX,clientY:y.clientY})}),this.lf.on("blank:contextmenu",function(o){var f=o.position,l=c.menuTypeMap.get(Yi),y=f.domOverlayPosition,g=y.x,O=y.y;c.showMenu(g,O,l)}),this.lf.on("selection:contextmenu",function(o){var f=o.data,l=o.position,y=c.menuTypeMap.get(Kg),g=l.domOverlayPosition,O=g.x,x=g.y;c.__currentData=f,c.showMenu(O,x,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},d.prototype.destroy=function(){var p;(p=this===null||this===void 0?void 0:this.__container)===null||p===void 0||p.removeChild(this.__menuDOM),this.__menuDOM=null},d.prototype.showMenu=function(p,a,c,o){if(!(!c||!c.length)){var f=this.__menuDOM;if(f.innerHTML="",f.append.apply(f,SM(this.__getMenuDom(c))),!!f.children.length){if(f.style.display="block",!o){f.style.top=a+"px",f.style.left=p+"px";return}var l=o.width,y=o.height,g=o.clientX,O=o.clientY,x=this.lf.graphModel,w=f.offsetWidth,j=!0,P=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,A=P-g,M=x.rootEl.getBoundingClientRect(),k=M.left+M.width;k<P&&(A=k-g),A<w&&(j=!1),j?f.style.left=p+"px":f.style.left=p-l+"px";var R=f.offsetHeight,L=!0,Y=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,Q=Y-O,K=M.top+M.height;K<Y&&(Q=K-O),Q<R&&(L=!1),L?f.style.top=a+"px":f.style.top=a-y+"px"}}},d.prototype.setMenuByType=function(p){!p.type||!p.menu||this.menuTypeMap.set(p.type,p.menu)},d.prototype.__getMenuDom=function(p){var a=[];return p&&p.length>0&&p.forEach(function(c){var o=document.createElement("li");if(c.className?o.className="lf-menu-item "+c.className:o.className="lf-menu-item",c.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",o.appendChild(f)}var l=document.createElement("span");l.className="lf-menu-item-text",c.text&&(l.innerText=c.text),o.appendChild(l),o.onclickCallback=c.callback,a.push(o)}),a},d.prototype.setMenuConfig=function(p){p&&(p.nodeMenu!==void 0&&this.menuTypeMap.set(Wi,p.nodeMenu?p.nodeMenu:[]),p.edgeMenu!==void 0&&this.menuTypeMap.set(Ui,p.edgeMenu?p.edgeMenu:[]),p.graphMenu!==void 0&&this.menuTypeMap.set(Yi,p.graphMenu?p.graphMenu:[]))},d.prototype.addMenuConfig=function(p){if(p){if(Array.isArray(p.nodeMenu)){var a=this.menuTypeMap.get(Wi);this.menuTypeMap.set(Wi,a.concat(p.nodeMenu))}if(Array.isArray(p.edgeMenu)){var a=this.menuTypeMap.get(Ui);this.menuTypeMap.set(Ui,a.concat(p.edgeMenu))}if(Array.isArray(p.graphMenu)){var a=this.menuTypeMap.get(Yi);this.menuTypeMap.set(Yi,a.concat(p.graphMenu))}}},d.prototype.changeMenuItem=function(p,a){if(p==="add")this.addMenuConfig(a);else if(p==="reset")this.setMenuConfig(a);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},d.pluginName="menu",d}();globalThis&&globalThis.__read;var _T=function(){function d(p){var a=this,c=p.lf;this.lf=c,this.lf.setPatternItems=function(o){a.setPatternItems(o)}}return d.prototype.render=function(p,a){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=a;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){c.panelEl.appendChild(c.createDndItem(o))}),a.appendChild(this.panelEl),this.domContainer=a},d.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},d.prototype.setPatternItems=function(p){this.shapeList=p,this.domContainer&&this.render(this.lf,this.domContainer)},d.prototype.createDndItem=function(p){var a=this,c=document.createElement("div");c.className=p.className?"lf-dnd-item "+p.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",p.icon&&(o.style.backgroundImage="url("+p.icon+")"),c.appendChild(o),p.label){var f=document.createElement("div");f.innerText=p.label,f.className="lf-dnd-text",c.appendChild(f)}return c.onmousedown=function(){p.type&&a.lf.dnd.startDrag({type:p.type,properties:p.properties,text:p.text}),p.callback&&p.callback(a.lf,a.domContainer)},c.ondblclick=function(l){a.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:l,data:p})},c.onclick=function(l){a.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:l,data:p})},c.oncontextmenu=function(l){a.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:l,data:p})},c},d.pluginName="dndPanel",d}(),OT=function(){function d(p){var a=this,c=p.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(f){var l=a.lf.getPointByClient(f.clientX,f.clientY).domOverlayPosition,y=l.x,g=l.y;a.endPoint={x:y,y:g};var O=a.startPoint,x=O.x,w=O.y,j=a.wrapper.style,P=x,A=w,M=y-x,k=g-w;y<x&&(P=y,M=x-y),g<w&&(A=g,k=w-g),j.left=P+"px",j.top=A+"px",j.width=M+"px",j.height=k+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",a.__draw),document.removeEventListener("mouseup",a.__drawOff),a.wrapper.oncontextmenu=null,a.__domContainer.removeChild(a.wrapper);var f=a.startPoint,l=f.x,y=f.y,g=a.endPoint,O=g.x,x=g.y;if(!(Math.abs(O-l)<10&&Math.abs(x-y)<10)){var w=[Math.min(l,O),Math.min(y,x)],j=[Math.max(l,O),Math.max(y,x)],P=a.lf.graphModel.getAreaElement(w,j,a.isWholeEdge,a.isWholeNode,!0),A=a.lf.graphModel.group;P.forEach(function(M){(!A||!A.getNodeGroup(M.id))&&a.lf.selectElementById(M.id,!0)}),a.lf.emit("selection:selected",P)}},this.lf=c;var o=c.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,c.openSelectionSelect=function(){a.openSelectionSelect()},c.closeSelectionSelect=function(){a.closeSelectionSelect()}}return d.prototype.render=function(p,a){var c=this;this.__domContainer=a,p.on("blank:mousedown",function(o){var f=o.e,l=p.getEditConfig();if(!(!l.stopMoveGraph||c.__disabled)){var y=f.button===2;if(!y){var g=p.getPointByClient(f.clientX,f.clientY).domOverlayPosition,O=g.x,x=g.y;c.startPoint={x:O,y:x},c.endPoint={x:O,y:x};var w=document.createElement("div");w.className="lf-selection-select",w.oncontextmenu=function(P){P.preventDefault()},w.style.top=c.startPoint.y+"px",w.style.left=c.startPoint.x+"px",a.appendChild(w),c.wrapper=w,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}}})},d.prototype.setSelectionSense=function(p,a){p===void 0&&(p=!0),a===void 0&&(a=!0),this.isWholeEdge=p,this.isWholeNode=a},d.prototype.openSelectionSelect=function(){var p=this.lf.getEditConfig().stopMoveGraph;p||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},d.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},d.prototype.open=function(){this.__disabled=!1},d.prototype.close=function(){this.__disabled=!0},d.pluginName="selectionSelect",d}(),jM=globalThis&&globalThis.__values||function(d){var p=typeof Symbol=="function"&&Symbol.iterator,a=p&&d[p],c=0;if(a)return a.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&c>=d.length&&(d=void 0),{value:d&&d[c++],done:!d}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},wT=function(){function d(p){var a=this,c=p.lf,o=p.LogicFlow,f=p.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(l,y){a.setView(),a.isShow||a.createMiniMap(l,y),a.isShow=!0},this.hide=function(){a.isShow&&a.removeMiniMap(),a.isShow=!1},this.reset=function(){a.lf.resetTranslate(),a.lf.resetZoom(),a.hide(),a.show()},this.startDrag=function(l){document.addEventListener("mousemove",a.drag),document.addEventListener("mouseup",a.drop),a.startPosition={x:l.x,y:l.y}},this.moveViewport=function(l,y){var g=a.viewport.style;a.viewPortTop=l,a.viewPortLeft=y,g.top=a.viewPortTop+"px",g.left=a.viewPortLeft+"px"},this.drag=function(l){a.dragging=!0;var y=a.viewPortTop+l.y-a.startPosition.y,g=a.viewPortLeft+l.x-a.startPosition.x;a.moveViewport(y,g),a.startPosition={x:l.x,y:l.y};var O=(a.viewPortLeft+a.viewPortWidth/2)/a.viewPortScale,x=(a.viewPortTop+a.viewPortHeight/2)/a.viewPortScale;a.lf.focusOn({coordinate:{x:O+a.resetDataX,y:x+a.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",a.drag),document.removeEventListener("mouseup",a.drop);var l=a.viewPortTop,y=a.viewPortLeft;a.viewPortLeft>a.width&&(y=a.width-a.viewPortWidth),a.viewPortTop>a.height&&(l=a.height-a.viewPortHeight),a.viewPortLeft<-a.width&&(y=0),a.viewPortTop<-a.height&&(l=0),a.moveViewport(l,y)},this.mapClick=function(l){if(a.dragging)a.dragging=!1;else{var y=l.layerX,g=l.layerY,O=y,x=g,w=a.lf.getGraphRawData(),j=a.getBounds(w),P=j.left,A=j.top,M=P+O/a.viewPortScale,k=A+x/a.viewPortScale;a.lf.focusOn({coordinate:{x:M,y:k}})}},this.lf=c,f&&f.MiniMap&&this.setOption(f),this.miniMapWidth=c.graphModel.width,this.miniMapHeight=c.graphModel.width*this.height/this.width,this.LogicFlow=o,this.initMiniMap()}return d.prototype.render=function(p,a){var c=this;this.container=a,this.lf.on("history:change",function(){c.isShow&&c.setView()}),this.lf.on("graph:transform",tm(function(){c.isShow&&!c.dragging&&c.setView()},300))},d.prototype.init=function(p){this.disabledPlugins=this.disabledPlugins.concat(p.disabledPlugins||[])},d.prototype.setOption=function(p){var a=p.MiniMap,c=a.width,o=c===void 0?150:c,f=a.height,l=f===void 0?220:f,y=a.isShowHeader,g=y===void 0?!0:y,O=a.isShowCloseIcon,x=O===void 0?!0:O,w=a.leftPosition,j=w===void 0?0:w,P=a.topPosition,A=P===void 0?0:P,M=a.rightPosition,k=a.bottomPosition;this.width=o,this.height=l,this.isShowHeader=g,this.isShowCloseIcon=x,this.viewPortWidth=o,this.leftPosition=j,this.topPosition=A,this.rightPosition=M,this.bottomPosition=k},d.prototype.initMiniMap=function(){var p=document.createElement("div");p.className="lf-mini-map-graph",p.style.width=this.width+4+"px",p.style.height=this.height+"px",this.lfMap=new this.LogicFlow({container:p,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(a){return a},this.lfMap.adapterOut=function(a){return a},this.miniMapWrap=p,this.createViewPort(),p.addEventListener("click",this.mapClick)},d.prototype.createMiniMap=function(p,a){var c=document.createElement("div");c.appendChild(this.miniMapWrap),typeof p<"u"||typeof a<"u"?(c.style.left=(p||0)+"px",c.style.top=(a||0)+"px"):(typeof this.rightPosition<"u"?c.style.right=this.rightPosition+"px":typeof this.leftPosition<"u"&&(c.style.left=this.leftPosition+"px"),typeof this.bottomPosition<"u"?c.style.bottom=this.bottomPosition+"px":typeof this.topPosition<"u"&&(c.style.top=this.topPosition+"px")),c.style.position="absolute",c.className="lf-mini-map",this.isShowCloseIcon||c.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||c.classList.add("lf-mini-map-no-header"),this.container.appendChild(c),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=d.headerTitle,c.appendChild(o);var f=document.createElement("span");f.className="lf-mini-map-close",f.addEventListener("click",this.hide),c.appendChild(f),this.miniMapContainer=c},d.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},d.prototype.getBounds=function(p){var a=0,c=this.miniMapWidth,o=0,f=this.miniMapHeight,l=p.nodes;return l&&l.length>0&&l.forEach(function(y){var g=y.x,O=y.y,x=y.width,w=x===void 0?200:x,j=y.height,P=j===void 0?200:j,A=g-w/2,M=g+w/2,k=O-P/2,R=O+P/2;a=A<a?A:a,c=M>c?M:c,o=k<o?k:o,f=R>f?R:f}),{left:a,top:o,bottom:f,right:c}},d.prototype.resetData=function(p){var a=p.nodes,c=p.edges,o=0,f=0;return a&&a.length>0&&(a.forEach(function(l){var y=l.x,g=l.y,O=l.width,x=O===void 0?200:O,w=l.height,j=w===void 0?200:w,P=y-x/2,A=g-j/2;o=P<o?P:o,f=A<f?A:f}),(o<0||f<0)&&(this.resetDataX=o,this.resetDataY=f,a.forEach(function(l){l.x=l.x-o,l.y=l.y-f,l.text&&(l.text.x=l.text.x-o,l.text.y=l.text.y-f)}),c.forEach(function(l){l.startPoint&&(l.startPoint.x=l.startPoint.x-o,l.startPoint.y=l.startPoint.y-f),l.endPoint&&(l.endPoint.x=l.endPoint.x-o,l.endPoint.y=l.endPoint.y-f),l.text&&(l.text.x=l.text.x-o,l.text.y=l.text.y-f),l.pointsList&&l.pointsList.forEach(function(y){y.x=y.x-o,y.y=y.y-f})}))),p},d.prototype.setView=function(){var p,a,c=this.lf.getGraphRawData(),o=this.resetData(c),f=this.lf.viewMap,l=this.lf.graphModel.modelMap,y=this.lfMap.viewMap;try{for(var g=jM(f.keys()),O=g.next();!O.done;O=g.next()){var x=O.value;y.has(x)||(this.lfMap.setView(x,f.get(x)),this.lfMap.graphModel.modelMap.set(x,l.get(x)))}}catch(Q){p={error:Q}}finally{try{O&&!O.done&&(a=g.return)&&a.call(g)}finally{if(p)throw p.error}}this.lfMap.render(o);var w=this.getBounds(o),j=w.left,P=w.top,A=w.right,M=w.bottom,k=this.width/(A-j),R=this.height/(M-P),L=this.miniMapWrap.firstChild.style,Y=Math.min(k,R);L.transform="matrix("+Y+", 0, 0, "+Y+", 0, 0)",L.transformOrigin="left top",L.height=M-Math.min(P,0)+"px",L.width=A-Math.min(j,0)+"px",this.viewPortScale=Y,this.setViewPort(Y,{left:j,top:P,right:A,bottom:M})},d.prototype.setViewPort=function(p,a){var c=a.left,o=a.right;a.top,a.bottom;var f=this.viewport.style;f.width=this.viewPortWidth+"px",f.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var l=this.lf.getTransform(),y=l.TRANSLATE_X,g=l.TRANSLATE_Y,O=l.SCALE_X,x=l.SCALE_Y,w=o-c,j=this.width/(w/this.lf.graphModel.width),P=this.width*(j/this.width),A=this.lf.graphModel.width/this.lf.graphModel.height,M=P/A,k=this.lf.getGraphRawData(),R=this.getBounds(k),L=R.left,Y=R.top,Q=L,K=Y;Q+=y/O,K+=g/x,this.viewPortTop=K>0?0:-K*p,this.viewPortLeft=Q>0?0:-Q*p,this.viewPortWidth=P,this.viewPortHeight=M,f.top=this.viewPortTop+"px",f.left=this.viewPortLeft+"px",f.width=P/O+"px",f.height=M/x+"px"},d.prototype.createViewPort=function(){var p=document.createElement("div");p.className="lf-minimap-viewport",p.addEventListener("mousedown",this.startDrag),this.viewport=p},d.pluginName="miniMap",d.width=150,d.height=220,d.viewPortWidth=150,d.viewPortHeight=75,d.isShowHeader=!0,d.isShowCloseIcon=!0,d.leftPosition=0,d.topPosition=0,d.rightPosition=null,d.bottomPosition=null,d.headerTitle="导航",d}();function PM(d){if(d.length<=1)return!1;for(var p=0,a=d.length-1;p!==a&&p+1!==a&&a-1!==p;)p++,a--;return p===a?[--p,a]:[p,a]}var Nm=globalThis&&globalThis.__extends||function(){var d=function(p,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var f in o)o.hasOwnProperty(f)&&(c[f]=o[f])},d(p,a)};return function(p,a){d(p,a);function c(){this.constructor=p}p.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),ti=globalThis&&globalThis.__assign||function(){return ti=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},ti.apply(this,arguments)},zr=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f};(function(d){Nm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.pointFilter=function(a){for(var c=a,o=1;o<c.length-1;){var f=zr(c[o-1],2),l=f[0],y=f[1],g=zr(c[o],2),O=g[0],x=g[1],w=zr(c[o+1],2),j=w[0],P=w[1];l===O&&O===j||y===x&&x===P?c.splice(o,1):o++}return c},p.prototype.getEdge=function(){var a=this.props.model,c=a.points,o=a.isAnimation,f=a.arrowConfig,l=a.radius,y=l===void 0?5:l,g=a.getEdgeStyle(),O=a.getEdgeAnimationStyle(),x=this.pointFilter(c.split(" ").map(function(Te){return Te.split(",").map(function(Re){return Number(Re)})})),w=PM(x);if(w){var j=zr(w,2),P=j[0],A=j[1],M=x[P],k=x[A],R=M.some(function(Te,Re){return Te===k[Re]});if(!R){var L=(k[1]-M[1])/2,Y=[k[0],k[1]-L],Q=[M[0],M[1]+L];x.splice(P+1,0,Q,Y)}}for(var K=zr(x[0],2),V=K[0],Z=K[1],F="M"+V+" "+Z,I=1;I<x.length-1;I++){var B=zr(x[I-1],2),G=B[0],X=B[1],re=zr(x[I],2),de=re[0],le=re[1],ve=zr(x[I+1],2),Se=ve[0],ge=ve[1];if(de===G&&le!==X){var se=le>X?le-y:le+y;F=F+" L "+de+" "+se}if(le===X&&de!==G){var ye=de>G?de-y:de+y;F=F+" L "+ye+" "+le}if(F=F+" Q "+de+" "+le,de===Se&&le!==ge){var se=le>ge?le-y:le+y;F=F+" "+de+" "+se}if(le===ge&&de!==Se){var ye=de>Se?de-y:de+y;F=F+" "+ye+" "+le}}var be=zr(x[x.length-1],2),Pe=be[0],ze=be[1];F=F+" L "+Pe+" "+ze;var Ze=ti(ti(ti({d:F,style:o?O:{}},g),f),{fill:"none"});return Ee.h("path",ti({d:F},Ze))},p})(Ee.PolylineEdge);(function(d){Nm(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p})(Ee.PolylineEdgeModel);var MM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;var qg=globalThis&&globalThis.__assign||function(){return qg=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},qg.apply(this,arguments)},Zg=globalThis&&globalThis.__assign||function(){return Zg=Object.assign||function(d){for(var p,a=1,c=arguments.length;a<c;a++){p=arguments[a];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(d[o]=p[o])}return d},Zg.apply(this,arguments)},TM=globalThis&&globalThis.__read||function(d,p){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var c=a.call(d),o,f=[],l;try{for(;(p===void 0||p-- >0)&&!(o=c.next()).done;)f.push(o.value)}catch(y){l={error:y}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;function xT(){const d=`Process_${rr()}`,p=`Event_${rr()}`,a=`Flow_${rr()}`,c=`Activity_${rr()}`;return{processData:{type:"process",key:d,properties:{}},flowElementList:[{incoming:[],outgoing:[a],type:"startEvent",key:p,properties:{name:"开始",x:160,y:240,text:{x:160,y:280,value:"开始"}}},{incoming:[a],outgoing:[],type:"userTask",key:c,properties:{name:"发起人",x:290,y:240,text:{x:290,y:240,value:"发起人"}}},{incoming:[p],outgoing:[c],type:"sequenceFlow",key:a,properties:{name:"",text:"",startPoint:{x:178,y:240},endPoint:{x:240,y:240},pointsList:[{x:178,y:240},{x:240,y:240}]}}]}}export{wT as A,mT as C,_T as D,KM as E,hT as G,gT as I,bT as M,Sm as R,yT as S,dT as T,QM as U,VM as a,$M as b,qM as c,xT as d,ZM as e,ui as f,rr as g,JM as h,eT as i,tT as j,nT as k,Ee as l,rT as m,oT as n,Gf as o,aT as p,iT as q,pT as r,tM as s,fT as t,vT as u,uT as v,sT as w,lT as x,cT as y,OT as z};
