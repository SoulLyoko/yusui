import{c as v,B as p}from"./framework.d7ab2b26.js";import{u as P}from"./index.es.fb56e7b0.js";import"./index.b942cce0.js";import{s as A}from"./index.386fc70b.js";import{f as q,a as Q}from"./index.78e1ddd2.js";import{u as U}from"./config.b32a579f.js";import{g as B}from"./get.4ca2907b.js";const R={label:"label",value:"value",children:"children",disabled:"disabled",res:"data"};function T(t){return{...R,...t}}function K(t={}){const y=U(t),a=T(t.props);function b(){const{request:e}=y,{dicQuery:r={},dicHeaders:s={},dicFormatter:d,dicMethod:D="get",dicData:n,dicUrl:m}=t;return n?Promise.resolve(p(n)):m&&e?e({url:m,method:D,params:r,data:r,headers:s}).then(f=>d?d(f.data):B(f.data,a.res,[])):Promise.resolve([])}const{dicUrl:l,dicQuery:c}=t,g=l?l+(c?`?${A(c)}`:""):void 0,o=P(b,{cacheKey:g}),{data:u}=o,i=v(()=>{const e=p(t.modelValue);return Array.isArray(e)?q(u.value??[],r=>e==null?void 0:e.some(s=>s===r[a.value])):Q(u.value??[],r=>r[a.value]===e)}),h=v(()=>{var e,r;return Array.isArray(i.value)?(e=i.value)==null?void 0:e.map(s=>s[a.label]).join(","):(r=i.value)==null?void 0:r[a.label]});return{...o,selectedItem:i,selectedLabel:h}}export{T as m,K as u};
